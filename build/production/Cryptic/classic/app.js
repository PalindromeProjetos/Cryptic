var Cryptic=Cryptic||{};if(!Cryptic.controller){Cryptic.controller={}}if(!Cryptic.model){Cryptic.model={}}if(!Cryptic.model.profile){Cryptic.model.profile={}}if(!Cryptic.store){Cryptic.store={}}if(!Cryptic.store.profile){Cryptic.store.profile={}}if(!Cryptic.view){Cryptic.view={}}if(!Cryptic.view.config){Cryptic.view.config={}}if(!Cryptic.view.login){Cryptic.view.login={}}if(!Cryptic.view.main){Cryptic.view.main={}}var Ext=Ext||{};if(!Ext.Toolbar){Ext.Toolbar={}}if(!Ext.app){Ext.app={}}if(!Ext.app.bind){Ext.app.bind={}}if(!Ext.app.domain){Ext.app.domain={}}if(!Ext.app.route){Ext.app.route={}}if(!Ext.button){Ext.button={}}if(!Ext.container){Ext.container={}}if(!Ext.core){Ext.core={}}if(!Ext.data){Ext.data={}}if(!Ext.data.field){Ext.data.field={}}if(!Ext.data.flash){Ext.data.flash={}}if(!Ext.data.identifier){Ext.data.identifier={}}if(!Ext.data.matrix){Ext.data.matrix={}}if(!Ext.data.operation){Ext.data.operation={}}if(!Ext.data.proxy){Ext.data.proxy={}}if(!Ext.data.reader){Ext.data.reader={}}if(!Ext.data.request){Ext.data.request={}}if(!Ext.data.schema){Ext.data.schema={}}if(!Ext.data.session){Ext.data.session={}}if(!Ext.data.validator){Ext.data.validator={}}if(!Ext.data.writer){Ext.data.writer={}}if(!Ext.dd){Ext.dd={}}if(!Ext.dom){Ext.dom={}}if(!Ext.dom.Element){Ext.dom.Element={}}if(!Ext.event){Ext.event={}}if(!Ext.event.gesture){Ext.event.gesture={}}if(!Ext.event.publisher){Ext.event.publisher={}}if(!Ext.form){Ext.form={}}if(!Ext.form.Action){Ext.form.Action={}}if(!Ext.form.action){Ext.form.action={}}if(!Ext.form.field){Ext.form.field={}}if(!Ext.form.trigger){Ext.form.trigger={}}if(!Ext.fx){Ext.fx={}}if(!Ext.fx.animation){Ext.fx.animation={}}if(!Ext.fx.easing){Ext.fx.easing={}}if(!Ext.fx.runner){Ext.fx.runner={}}if(!Ext.fx.target){Ext.fx.target={}}if(!Ext.grid){Ext.grid={}}if(!Ext.grid.column){Ext.grid.column={}}if(!Ext.grid.header){Ext.grid.header={}}if(!Ext.grid.locking){Ext.grid.locking={}}if(!Ext.grid.plugin){Ext.grid.plugin={}}if(!Ext.layout){Ext.layout={}}if(!Ext.layout.boxOverflow){Ext.layout.boxOverflow={}}if(!Ext.layout.component){Ext.layout.component={}}if(!Ext.layout.component.field){Ext.layout.component.field={}}if(!Ext.layout.container){Ext.layout.container={}}if(!Ext.layout.container.border){Ext.layout.container.border={}}if(!Ext.layout.container.boxOverflow){Ext.layout.container.boxOverflow={}}if(!Ext.list){Ext.list={}}if(!Ext.menu){Ext.menu={}}if(!Ext.mixin){Ext.mixin={}}if(!Ext.overrides){Ext.overrides={}}if(!Ext.overrides.app){Ext.overrides.app={}}if(!Ext.overrides.app.domain){Ext.overrides.app.domain={}}if(!Ext.overrides.container){Ext.overrides.container={}}if(!Ext.overrides.data){Ext.overrides.data={}}if(!Ext.overrides.data.field){Ext.overrides.data.field={}}if(!Ext.overrides.dom){Ext.overrides.dom={}}if(!Ext.overrides.event){Ext.overrides.event={}}if(!Ext.overrides.event.publisher){Ext.overrides.event.publisher={}}if(!Ext.overrides.form){Ext.overrides.form={}}if(!Ext.overrides.form.field){Ext.overrides.form.field={}}if(!Ext.overrides.list){Ext.overrides.list={}}if(!Ext.overrides.plugin){Ext.overrides.plugin={}}if(!Ext.overrides.util){Ext.overrides.util={}}if(!Ext.panel){Ext.panel={}}if(!Ext.parse){Ext.parse={}}if(!Ext.parse.symbol){Ext.parse.symbol={}}if(!Ext.perf){Ext.perf={}}if(!Ext.picker){Ext.picker={}}if(!Ext.plugin){Ext.plugin={}}if(!Ext.promise){Ext.promise={}}if(!Ext.resizer){Ext.resizer={}}if(!Ext.scroll){Ext.scroll={}}if(!Ext.selection){Ext.selection={}}if(!Ext.state){Ext.state={}}if(!Ext.theme){Ext.theme={}}if(!Ext.theme.neptune){Ext.theme.neptune={}}if(!Ext.theme.neptune.layout){Ext.theme.neptune.layout={}}if(!Ext.theme.neptune.layout.component){Ext.theme.neptune.layout.component={}}if(!Ext.theme.neptune.menu){Ext.theme.neptune.menu={}}if(!Ext.theme.neptune.panel){Ext.theme.neptune.panel={}}if(!Ext.theme.neptune.picker){Ext.theme.neptune.picker={}}if(!Ext.theme.neptune.resizer){Ext.theme.neptune.resizer={}}if(!Ext.theme.neptune.toolbar){Ext.theme.neptune.toolbar={}}if(!Ext.theme.triton){Ext.theme.triton={}}if(!Ext.theme.triton.form){Ext.theme.triton.form={}}if(!Ext.theme.triton.form.field){Ext.theme.triton.form.field={}}if(!Ext.theme.triton.grid){Ext.theme.triton.grid={}}if(!Ext.theme.triton.grid.column){Ext.theme.triton.grid.column={}}if(!Ext.theme.triton.list){Ext.theme.triton.list={}}if(!Ext.theme.triton.menu){Ext.theme.triton.menu={}}if(!Ext.theme.triton.picker){Ext.theme.triton.picker={}}if(!Ext.theme.triton.resizer){Ext.theme.triton.resizer={}}if(!Ext.theme.triton.selection){Ext.theme.triton.selection={}}if(!Ext.tip){Ext.tip={}}if(!Ext.toolbar){Ext.toolbar={}}if(!Ext.util){Ext.util={}}if(!Ext.util.paintmonitor){Ext.util.paintmonitor={}}if(!Ext.util.sizemonitor){Ext.util.sizemonitor={}}if(!Ext.util.translatable){Ext.util.translatable={}}if(!Ext.ux){Ext.ux={}}if(!Ext.ux.layout){Ext.ux.layout={}}if(!Ext.view){Ext.view={}}if(!Ext.window){Ext.window={}}var MaskCore=MaskCore||{};var Smart=Smart||{};if(!Smart.app){Smart.app={}}if(!Smart.data){Smart.data={}}if(!Smart.data.proxy){Smart.data.proxy={}}if(!Smart.ux){Smart.ux={}}if(!Smart.ux.app){Smart.ux.app={}}if(!Smart.ux.classic){Smart.ux.classic={}}if(!Smart.ux.classic.login){Smart.ux.classic.login={}}if(!Smart.ux.modern){Smart.ux.modern={}}if(!Smart.ux.modern.login){Smart.ux.modern.login={}}(function(N){var Q,G=["constructor","toString","valueOf","toLocaleString"],M={},C={},O=0,F,I,A,K,R,L,E,P,J,B=function(){var b,c;I=Ext.Base;A=Ext.ClassManager;for(b=G.length;b-->0;){c=(1<<b);C[M[c]=G[b]]=c}for(b in C){O|=C[b]}O=~O;Function.prototype.$isFunction=1;J=!!(A&&A.addAlias);K=Ext.Class.getPreprocessor("config").fn;R=Ext.Class.getPreprocessor("cachedConfig")&&Ext.Class.getPreprocessor("cachedConfig").fn;L=Ext.Class.getPreprocessor("platformConfig")&&Ext.Class.getPreprocessor("platformConfig").fn;P=Ext.Class.getPreprocessor("privates")&&Ext.Class.getPreprocessor("privates").fn;E=Ext.ClassManager.postprocessors.deprecated&&Ext.ClassManager.postprocessors.deprecated.fn;Q=I.$staticMembers;if(!Q){Q=[];for(F in I){if(I.hasOwnProperty(F)){Q.push(F)}}}N.derive=H;return H.apply(this,arguments)},y=function(j,n,k){var d=k.enumerableMembers,m=j.prototype,b,l,c,f,g;if(!n){return}if(J){j.addMembers(n)}else{for(b in n){f=n[b];if(f&&f.$isFunction&&!f.$isClass&&f!==Ext.emptyFn&&f!==Ext.identityFn){g=m.hasOwnProperty(b)&&m[b];if(g){f.$previous=g}m[b]=l=f;l.$owner=j;l.$name=b}else{m[b]=f}}for(c=1;d;c<<=1){if(d&c){d&=~c;b=M[c];m[b]=l=n[b];l.$owner=j;l.$name=b}}}},D=function(c){var g=function d(){return c.apply(this,arguments)||null},f,b;g.prototype=Ext.Object.chain(c.prototype);for(f=Q.length;f-->0;){b=Q[f];g[b]=I[b]}return g},H=function(aj,ag,ar,w,ah,n,ai,b,al,l,s){var an=function u(){return this.constructor.apply(this,arguments)||null},at=an,am={enumerableMembers:w&O,onCreated:s,onBeforeCreated:y,aliases:b},p=ar.alternateClassName||[],d=Ext.global,k,f,c,q,g,ao,ap,ak,j,v,au,m,r,aq,o=A.alternateToName||A.maps.alternateToName,x=A.nameToAlternates||A.maps.nameToAlternates;for(c=Q.length;c-->0;){ap=Q[c];an[ap]=I[ap]}if(ar.$isFunction){ar=ar(an)}am.data=ar;v=ar.statics;delete ar.statics;ar.$className=aj;if("$className" in ar){an.$className=ar.$className}an.extend(ag);j=an.prototype;if(ah){an.xtype=ar.xtype=ah[0];j.xtypes=ah}j.xtypesChain=n;j.xtypesMap=ai;ar.alias=b;at.triggerExtended(an,ar,am);if(ar.onClassExtended){an.onExtended(ar.onClassExtended,an);delete ar.onClassExtended}if(ar.privates&&P){P.call(Ext.Class,an,ar)}if(v){if(J){an.addStatics(v)}else{for(au in v){if(v.hasOwnProperty(au)){aq=v[au];if(aq&&aq.$isFunction&&!aq.$isClass&&aq!==Ext.emptyFn&&aq!==Ext.identityFn){an[au]=r=aq;r.$owner=an;r.$name=au}an[au]=aq}}}}if(ar.inheritableStatics){an.addInheritableStatics(ar.inheritableStatics);delete ar.inheritableStatics}if(j.onClassExtended){at.onExtended(j.onClassExtended,at);delete j.onClassExtended}if(ar.platformConfig&&L){L.call(Ext.Class,an,ar);delete ar.platformConfig}if(ar.config){K.call(Ext.Class,an,ar)}if(ar.cachedConfig&&R){R.call(Ext.Class,an,ar);delete ar.cachedConfig}if(ar.deprecated&&E){E.call(Ext.ClassManager,aj,an,ar)}am.onBeforeCreated(an,am.data,am);for(c=0,g=al&&al.length;c<g;++c){an.mixin.apply(an,al[c])}for(c=0,g=b.length;c<g;c++){k=b[c];A.setAlias?A.setAlias(an,k):A.addAlias(an,k)}if(ar.singleton){at=new an()}if(!(p instanceof Array)){p=[p]}m=A.getName(at);for(c=0,q=p.length;c<q;c++){f=p[c];A.classes[f]=at;if(J){A.addAlternate(an,f)}else{if(m){o[f]=m;p=x[m]||(x[m]=[]);p.push(f)}}}for(c=0,g=l.length;c<g;c+=2){ao=l[c];if(!ao){ao=d}ao[l[c+1]]=at}A.classes[aj]=at;if(!J){if(m&&m!==aj){o[aj]=m;p=x[m]||(x[m]=[]);p.push(aj)}}delete j.alternateClassName;if(am.onCreated){am.onCreated.call(at,at)}if(aj){A.triggerCreated(aj)}return at};N.derive=B}(Ext.cmd={}));var Ext=Ext||{};(function(){var E=this,y=Object.prototype,D=y.toString,r=["valueOf","toLocaleString","toString","constructor"],v=function(){},A=function(){},x=function(b){return b},s=function(){var b=s.caller.caller;return b.$owner.prototype[b.$name].apply(this,arguments)},F=Ext.manifest||{},w,C=/\[object\s*(?:Array|Arguments|\w*Collection|\w*List|HTML\s+document\.all\s+class)\]/,B=/^\\?\/Date\(([-+])?(\d+)(?:[+-]\d{4})?\)\\?\/$/;Ext.global=E;Ext.now=Date.now||(Date.now=function(){return +new Date()});Ext.ticks=(E.performance&&E.performance.now)?function(){return performance.now()}:Ext.now;Ext._startTime=Ext.ticks();v.$nullFn=x.$nullFn=v.$emptyFn=x.$identityFn=A.$nullFn=true;A.$privacy="framework";v.$noClearOnDestroy=x.$noClearOnDestroy=true;A.$noClearOnDestroy=true;Ext.suspendLayouts=Ext.resumeLayouts=v;for(w in {toString:1}){r=null}Ext.enumerables=r;Ext.apply=function(d,f,b){if(b){Ext.apply(d,b)}if(d&&f&&typeof f==="object"){var c,g,j;for(c in f){d[c]=f[c]}if(r){for(g=r.length;g--;){j=r[g];if(f.hasOwnProperty(j)){d[j]=f[j]}}}}return d};function u(c,g,b){var f,d;for(f in b){if(b.hasOwnProperty(f)){d=b[f];if(typeof d==="function"){d.$name=f;d.$owner=g;d.$previous=c.hasOwnProperty(f)?c[f]:s}c[f]=d}}}Ext.buildSettings=Ext.apply({baseCSSPrefix:"x-"},Ext.buildSettings||{});Ext.apply(Ext,{idSeed:0,idPrefix:"ext-",isSecure:/^https/i.test(window.location.protocol),enableGarbageCollector:false,enableListenerCollection:true,name:Ext.sandboxName||"Ext",privateFn:A,emptyFn:v,identityFn:x,frameStartTime:Ext.now(),manifest:F,enableAria:true,startsWithHashRe:/^#/,validIdRe:/^[a-z_][a-z0-9\-_]*$/i,BLANK_IMAGE_URL:"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",makeIdSelector:function(b){return"#"+b},id:function(c,d){if(c&&c.id){return c.id}var b=(d||Ext.idPrefix)+(++Ext.idSeed);if(c){c.id=b}return b},returnId:function(b){return b.getId()},returnTrue:function(){return true},emptyString:new String(),baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,$eventNameMap:{},$vendorEventRe:/^(DOMMouse|Moz.+|MS.+|webkit.+)/,canonicalEventName:function(b){return Ext.$eventNameMap[b]||(Ext.$eventNameMap[b]=(Ext.$vendorEventRe.test(b)?b:b.toLowerCase()))},applyIf:function(c,d){var b;if(c){for(b in d){if(c[b]===undefined){c[b]=d[b]}}}return c},destroy:function(){var b=arguments.length,c,d;for(c=0;c<b;c++){d=arguments[c];if(d){if(Ext.isArray(d)){this.destroy.apply(this,d)}else{if(Ext.isFunction(d.destroy)){d.destroy()}}}}return null},destroyMembers:function(d){for(var b,f,c=1,g=arguments,j=g.length;c<j;c++){b=d[f=g[c]];if(b!=null){d[f]=Ext.destroy(b)}}},override:function(c,b){if(c.$isClass){c.override(b)}else{if(typeof c==="function"){Ext.apply(c.prototype,b)}else{var f=c.self,d;if(f&&f.$isClass){d=b.privates;if(d){b=Ext.apply({},b);delete b.privates;u(c,f,d)}u(c,f,b)}else{Ext.apply(c,b)}}}return c},valueFrom:function(b,d,c){return Ext.isEmpty(b,c)?d:b},isEmpty:function(c,b){return(c==null)||(!b?c==="":false)||(Ext.isArray(c)&&c.length===0)},isArray:("isArray" in Array)?Array.isArray:function(b){return D.call(b)==="[object Array]"},isDate:function(b){return D.call(b)==="[object Date]"},isMSDate:function(b){if(!Ext.isString(b)){return false}return B.test(b)},isObject:(D.call(null)==="[object Object]")?function(b){return b!==null&&b!==undefined&&D.call(b)==="[object Object]"&&b.ownerDocument===undefined}:function(b){return D.call(b)==="[object Object]"},isSimpleObject:function(b){return b instanceof Object&&b.constructor===Object},isPrimitive:function(b){var c=typeof b;return c==="string"||c==="number"||c==="boolean"},isFunction:(typeof document!=="undefined"&&typeof document.getElementsByTagName("body")==="function")?function(b){return !!b&&D.call(b)==="[object Function]"}:function(b){return !!b&&typeof b==="function"},isNumber:function(b){return typeof b==="number"&&isFinite(b)},isNumeric:function(b){return !isNaN(parseFloat(b))&&isFinite(b)},isString:function(b){return typeof b==="string"},isBoolean:function(b){return typeof b==="boolean"},isElement:function(b){return b?b.nodeType===1:false},isTextNode:function(b){return b?b.nodeName==="#text":false},isDefined:function(b){return typeof b!=="undefined"},isIterable:function(b){if(!b||typeof b.length!=="number"||typeof b==="string"||Ext.isFunction(b)){return false}if(!b.propertyIsEnumerable){return !!b.item}if(b.hasOwnProperty("length")&&!b.propertyIsEnumerable("length")){return true}return C.test(D.call(b))},isDebugEnabled:v,clone:function(l,d){if(l===null||l===undefined){return l}if(d!==false&&l.nodeType&&l.cloneNode){return l.cloneNode(true)}var c=D.call(l),f,j,k,b,g;if(c==="[object Date]"){return new Date(l.getTime())}if(c==="[object Array]"){f=l.length;b=[];while(f--){b[f]=Ext.clone(l[f],d)}}else{if(c==="[object Object]"&&l.constructor===Object){b={};for(g in l){b[g]=Ext.clone(l[g],d)}if(r){for(j=r.length;j--;){k=r[j];if(l.hasOwnProperty(k)){b[k]=l[k]}}}}}return b||l},getUniqueGlobalNamespace:function(){var b=this.uniqueGlobalNamespace,c;if(b===undefined){c=0;do{b="ExtBox"+(++c)}while(E[b]!==undefined);E[b]=Ext;this.uniqueGlobalNamespace=b}return b},functionFactoryCache:{},cacheableFunctionFactory:function(){var b=this,f=Array.prototype.slice.call(arguments),g=b.functionFactoryCache,j,d,c;if(Ext.isSandboxed){c=f.length;if(c>0){c--;f[c]="var Ext=window."+Ext.name+";"+f[c]}}j=f.join("");d=g[j];if(!d){d=Function.prototype.constructor.apply(Function.prototype,f);g[j]=d}return d},functionFactory:function(){var c=Array.prototype.slice.call(arguments),b;if(Ext.isSandboxed){b=c.length;if(b>0){b--;c[b]="var Ext=window."+Ext.name+";"+c[b]}}return Function.prototype.constructor.apply(Function.prototype,c)},Logger:{verbose:v,log:v,info:v,warn:v,error:function(b){throw new Error(b)},deprecate:v},ariaWarn:function(c,b){if(Ext.enableAria&&!Ext.slicer){if(!Ext.ariaWarn.first){Ext.ariaWarn.first=true;Ext.log.warn("WAI-ARIA compatibility warnings can be suppressed by adding the following to application startup code:");Ext.log.warn("    Ext.ariaWarn = Ext.emptyFn;")}Ext.log.warn({msg:b,dump:c})}},getElementById:function(b){return document.getElementById(b)},splitAndUnescape:(function(){var b={};return function(f,g){if(!f){return[]}else{if(!g){return[f]}}var c=b[g]||(b[g]=new RegExp("\\\\"+g,"g")),j=[],k,d;k=f.split(g);while((d=k.shift())!==undefined){while(d.charAt(d.length-1)==="\\"&&k.length>0){d=d+g+k.shift()}d=d.replace(c,g);j.push(d)}return j}})()});Ext.returnTrue.$nullFn=Ext.returnId.$nullFn=true}());Ext.platformTags.modern=!(Ext.platformTags.classic=Ext.isClassic=true);(function(){function c(){var k=this,l=k.sourceClass,b=k.sourceMethod,j=k.msg;if(b){if(j){b+="(): ";b+=j}else{b+="()"}}if(l){b=b?(l+"."+b):l}return b||j||""}Ext.Error=function(b){if(Ext.isString(b)){b={msg:b}}var f=new Error();Ext.apply(f,b);f.message=f.message||f.msg;f.toString=c;return f};Ext.apply(Ext.Error,{ignore:false,raise:function(l){l=l||{};if(Ext.isString(l)){l={msg:l}}var m=this,b=m.raise.caller,k,n;if(b===Ext.raise){b=b.caller}if(b){if(!l.sourceMethod&&(n=b.$name)){l.sourceMethod=n}if(!l.sourceClass&&(n=b.$owner)&&(n=n.$className)){l.sourceClass=n}}if(m.handle(l)!==true){k=c.call(l);throw new Ext.Error(l)}},handle:function(){return this.ignore}})})();Ext.deprecated=function(c){return Ext.emptyFn};Ext.raise=function(){Ext.Error.raise.apply(Ext.Error,arguments)};Ext.Array=(function(){var N=Array.prototype,G=N.slice,E=(function(){var c=[],b,d=20;if(!c.splice){return false}while(d--){c.push("A")}c.splice(15,0,"F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F");b=c.length;c.splice(13,0,"XXX");if(b+1!==c.length){return false}return true}()),F="indexOf" in N,K=true;function H(d,g){var c=d.length,f=new Array(c),b;for(b=0;b<c;b++){f[b]=b}f.sort(function(j,k){return g(d[j],d[k])||(j-k)});for(b=0;b<c;b++){f[b]=d[f[b]]}for(b=0;b<c;b++){d[b]=f[b]}return d}try{if(typeof document!=="undefined"){G.call(document.getElementsByTagName("body"))}}catch(C){K=false}var I=function(c,b){return(b<0)?Math.max(0,c.length+b):Math.min(c.length,b)},x=function(o,p,g,l){var j=l?l.length:0,d=o.length,n=I(o,p);if(n===d){if(j){o.push.apply(o,l)}}else{var q=Math.min(g,d-n),m=n+q,f=m+j-q,k=d-m,c=d-q,b;if(f<m){for(b=0;b<k;++b){o[f+b]=o[m+b]}}else{if(f>m){for(b=k;b--;){o[f+b]=o[m+b]}}}if(j&&n===c){o.length=c;o.push.apply(o,l)}else{o.length=c+j;for(b=0;b<j;++b){o[n+b]=l[b]}}}return o},L=function(f,c,b,d){if(d&&d.length){if(c===0&&!b){f.unshift.apply(f,d)}else{if(c<f.length){f.splice.apply(f,[c,b].concat(d))}else{f.push.apply(f,d)}}}else{f.splice(c,b)}return f},O=function(c,b,d){return x(c,b,d)},D=function(c,b,d){c.splice(b,d);return c},J=function(d,j,g){var c=arguments.length,f=I(d,j),b;if(c<3){g=d.length-f}b=d.slice(j,I(d,f+g));if(c<4){x(d,f,g)}else{x(d,f,g,G.call(arguments,3))}return b},M=function(b){return b.splice.apply(b,G.call(arguments,1))},y=E?D:O,B=E?L:x,A=E?M:J,P={binarySearch:function(d,j,c,b,f){var l=d.length,k,g;if(c instanceof Function){f=c;c=0;b=l}else{if(b instanceof Function){f=b;b=l}else{if(c===undefined){c=0}if(b===undefined){b=l}f=f||P.lexicalCompare}}--b;while(c<=b){k=(c+b)>>1;g=f(j,d[k]);if(g>=0){c=k+1}else{if(g<0){b=k-1}}}return c},defaultCompare:function(b,c){return(b<c)?-1:((b>c)?1:0)},lexicalCompare:function(b,c){b=String(b);c=String(c);return(b<c)?-1:((b>c)?1:0)},each:function(d,j,c,b){d=P.from(d);var g,f=d.length;if(b!==true){for(g=0;g<f;g++){if(j.call(c||d[g],d[g],g,d)===false){return g}}}else{for(g=f-1;g>-1;g--){if(j.call(c||d[g],d[g],g,d)===false){return g}}}return true},forEach:("forEach" in N)?function(c,d,b){return c.forEach(d,b)}:function(d,c,g){for(var b=0,f=d.length;b<f;b++){c.call(g,d[b],b,d)}},indexOf:F?function(c,b,d){return c?N.indexOf.call(c,b,d):-1}:function(d,c,g){var b,f=d?d.length:0;for(b=(g<0)?Math.max(0,f+g):g||0;b<f;b++){if(d[b]===c){return b}}return -1},contains:F?function(c,b){return N.indexOf.call(c,b)!==-1}:function(f,c){var b,d;for(b=0,d=f.length;b<d;b++){if(f[b]===c){return true}}return false},toArray:function(c,d,b){if(!c||!c.length){return[]}if(typeof c==="string"){c=c.split("")}if(K){return G.call(c,d||0,b||c.length)}var g=[],f;d=d||0;b=b?((b<0)?c.length+b:b):c.length;for(f=d;f<b;f++){g.push(c[f])}return g},pluck:function(d,c){var j=[],b,f,g;for(b=0,f=d.length;b<f;b++){g=d[b];j.push(g[c])}return j},map:("map" in N)?function(c,d,b){return c.map(d,b)}:function(d,f,j){var c=d.length,b=new Array(c),g;for(g=0;g<c;g++){b[g]=f.call(j,d[g],g,d)}return b},every:("every" in N)?function(c,d,b){return c.every(d,b)}:function(d,c,g){var b=0,f=d.length;for(;b<f;++b){if(!c.call(g,d[b],b,d)){return false}}return true},some:("some" in N)?function(c,d,b){return c.some(d,b)}:function(d,c,g){var b=0,f=d.length;for(;b<f;++b){if(c.call(g,d[b],b,d)){return true}}return false},equals:function(d,g){var f=d.length,c=g.length,b;if(d===g){return true}if(f!==c){return false}for(b=0;b<f;++b){if(d[b]!==g[b]){return false}}return true},clean:function(d){var g=[],c=0,f=d.length,b;for(;c<f;c++){b=d[c];if(!Ext.isEmpty(b)){g.push(b)}}return g},unique:function(d){var g=[],c=0,b=d.length,f;for(;c<b;c++){f=d[c];if(P.indexOf(g,f)===-1){g.push(f)}}return g},filter:("filter" in N)?function(c,d,b){return c.filter(d,b)}:function(d,j,c){var g=[],b=0,f=d.length;for(;b<f;b++){if(j.call(c,d[b],b,d)){g.push(d[b])}}return g},findBy:function(d,g,c){var f=0,b=d.length;for(;f<b;f++){if(g.call(c||d,d[f],f)){return d[f]}}return null},from:function(c,d){if(c===undefined||c===null){return[]}if(Ext.isArray(c)){return(d)?G.call(c):c}var b=typeof c;if(c&&c.length!==undefined&&b!=="string"&&(b!=="function"||!c.apply)){return P.toArray(c)}return[c]},remove:function(c,d){var b=P.indexOf(c,d);if(b!==-1){y(c,b,1)}return c},removeAt:function(f,d,c){var b=f.length;if(d>=0&&d<b){c=c||1;c=Math.min(c,b-d);y(f,d,c)}return f},include:function(c,b){if(!P.contains(c,b)){c.push(b)}},clone:function(b){return G.call(b)},merge:function(){var c=G.call(arguments),f=[],d,b;for(d=0,b=c.length;d<b;d++){f=f.concat(c[d])}return P.unique(f)},intersect:function(){var n=[],f=G.call(arguments),j,m,r,o,g,d,l,p,k,c,q,s,b;if(!f.length){return n}j=f.length;for(q=g=0;q<j;q++){d=f[q];if(!o||d.length<o.length){o=d;g=q}}o=P.unique(o);y(f,g,1);l=o.length;j=f.length;for(q=0;q<l;q++){p=o[q];c=0;for(s=0;s<j;s++){m=f[s];r=m.length;for(b=0;b<r;b++){k=m[b];if(p===k){c++;break}}}if(c===j){n.push(p)}}return n},difference:function(k,c){var d=G.call(k),g=d.length,j,b,f;for(j=0,f=c.length;j<f;j++){for(b=0;b<g;b++){if(d[b]===c[j]){y(d,b,1);b--;g--}}}return d},reduce:Array.prototype.reduce?function(c,d,b){if(arguments.length===3){return Array.prototype.reduce.call(c,d,b)}return Array.prototype.reduce.call(c,d)}:function(d,f,c){d=Object(d);var b=0,j=d.length>>>0,g=c;if(arguments.length<3){while(true){if(b in d){g=d[b++];break}if(++b>=j){throw new TypeError("Reduce of empty array with no initial value")}}}for(;b<j;++b){if(b in d){g=f(g,d[b],b,d)}}return g},slice:([1,2].slice(1,undefined).length?function(c,d,b){return G.call(c,d,b)}:function(c,d,b){if(typeof d==="undefined"){return G.call(c)}if(typeof b==="undefined"){return G.call(c,d)}return G.call(c,d,b)}),sort:function(c,b){return H(c,b||P.lexicalCompare)},flatten:function(c){var d=[];function b(k){var g,f,j;for(g=0,f=k.length;g<f;g++){j=k[g];if(Ext.isArray(j)){b(j)}else{d.push(j)}}return d}return b(c)},min:function(d,f){var j=d[0],c,g,b;for(c=0,g=d.length;c<g;c++){b=d[c];if(f){if(f(j,b)===1){j=b}}else{if(b<j){j=b}}}return j},max:function(d,f){var c=d[0],j,g,b;for(j=0,g=d.length;j<g;j++){b=d[j];if(f){if(f(c,b)===-1){c=b}}else{if(b>c){c=b}}}return c},mean:function(b){return b.length>0?P.sum(b)/b.length:undefined},sum:function(d){var g=0,c,f,b;for(c=0,f=d.length;c<f;c++){b=d[c];g+=b}return g},toMap:function(d,c,b){var g={},f=d.length;if(!c){while(f--){g[d[f]]=f+1}}else{if(typeof c==="string"){while(f--){g[d[f][c]]=f+1}}else{while(f--){g[c.call(b,d[f])]=f+1}}}return g},toValueMap:function(p,d,j,b){var k={},f=p.length,g,c,m,o,l,n;if(!d){while(f--){n=p[f];k[n]=n}}else{if(!(o=(typeof d!=="string"))){b=j}c=b===1;g=b===2;while(f--){n=p[f];l=o?d.call(j,n):n[d];if(c){if(l in k){k[l].push(n)}else{k[l]=[n]}}else{if(g&&(l in k)){if((m=k[l]) instanceof Array){m.push(n)}else{k[l]=[m,n]}}else{k[l]=n}}}}return k},erase:y,insert:function(c,d,b){return B(c,d,0,b)},move:function(d,j,g){if(g===j){return}var c=d[j],f=g>j?1:-1,b;for(b=j;b!=g;b+=f){d[b]=d[b+f]}d[g]=c},replace:B,splice:A,push:function(f){var c=arguments.length,b=1,d;if(f===undefined){f=[]}else{if(!Ext.isArray(f)){f=[f]}}for(;b<c;b++){d=arguments[b];Array.prototype.push[Ext.isIterable(d)?"apply":"call"](f,d)}return f},numericSortFn:function(c,b){return c-b}};Ext.each=P.each;P.union=P.merge;Ext.min=P.min;Ext.max=P.max;Ext.sum=P.sum;Ext.mean=P.mean;Ext.flatten=P.flatten;Ext.clean=P.clean;Ext.unique=P.unique;Ext.pluck=P.pluck;Ext.toArray=function(){return P.toArray.apply(P,arguments)};return P}());Ext.String=(function(){var B=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,v=/('|\\)/g,H=/([-.*+?\^${}()|\[\]\/\\])/g,J=/^\s+|\s+$/g,A=/\s+/,x=/(^[^a-z]*|[^\w])/gi,E,I,C,F,D=function(b,c){return E[c]},y=function(b,c){return(c in I)?I[c]:String.fromCharCode(parseInt(c.substr(2),10))},G=function(b,c){if(b===null||b===undefined||c===null||c===undefined){return false}return c.length<=b.length},w=String.fromCharCode,u;return u={fromCodePoint:String.fromCodePoint||function(){var c,f="",b=[],d=-1,g=arguments.length;while(++d<g){c=Number(arguments[d]);if(!isFinite(c)||c<0||c>1114111||Math.floor(c)!==c){Ext.raise("Invalid code point: "+c)}if(c<=65535){b.push(c)}else{c-=65536;b.push((c>>10)+55296,(c%1024)+56320)}if(d+1===g){f+=w(b);b.length=0}}return f},insert:function(c,b,d){if(!c){return b}if(!b){return c}var f=c.length;if(!d&&d!==0){d=f}if(d<0){d*=-1;if(d>=f){d=0}else{d=f-d}}if(d===0){c=b+c}else{if(d>=c.length){c+=b}else{c=c.substr(0,d)+b+c.substr(d)}}return c},startsWith:function(c,b,d){var f=G(c,b);if(f){if(d){c=c.toLowerCase();b=b.toLowerCase()}f=c.lastIndexOf(b,0)===0}return f},endsWith:function(b,d,c){var f=G(b,d);if(f){if(c){b=b.toLowerCase();d=d.toLowerCase()}f=b.indexOf(d,b.length-d.length)!==-1}return f},createVarName:function(b){return b.replace(x,"")},htmlEncode:function(b){return(!b)?b:String(b).replace(C,D)},htmlDecode:function(b){return(!b)?b:String(b).replace(F,y)},hasHtmlCharacters:function(b){return C.test(b)},addCharacterEntities:function(d){var f=[],g=[],c,b;for(c in d){b=d[c];I[c]=b;E[b]=c;f.push(b);g.push(c)}C=new RegExp("("+f.join("|")+")","g");F=new RegExp("("+g.join("|")+"|&#[0-9]{1,5};)","g")},resetCharacterEntities:function(){E={};I={};this.addCharacterEntities({"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'"})},urlAppend:function(b,c){if(!Ext.isEmpty(c)){return b+(b.indexOf("?")===-1?"?":"&")+c}return b},trim:function(b){if(b){b=b.replace(B,"")}return b||""},capitalize:function(b){if(b){b=b.charAt(0).toUpperCase()+b.substr(1)}return b||""},uncapitalize:function(b){if(b){b=b.charAt(0).toLowerCase()+b.substr(1)}return b||""},ellipsis:function(c,d,b){if(c&&c.length>d){if(b){var g=c.substr(0,d-2),f=Math.max(g.lastIndexOf(" "),g.lastIndexOf("."),g.lastIndexOf("!"),g.lastIndexOf("?"));if(f!==-1&&f>=(d-15)){return g.substr(0,f)+"..."}}return c.substr(0,d-3)+"..."}return c},escapeRegex:function(b){return b.replace(H,"\\$1")},createRegex:function(g,b,d,f){var c=g;if(g!=null&&!g.exec){c=u.escapeRegex(String(g));if(b!==false){c="^"+c}if(d!==false){c+="$"}c=new RegExp(c,(f!==false)?"i":"")}return c},escape:function(b){return b.replace(v,"\\$1")},toggle:function(c,b,d){return c===b?d:b},leftPad:function(d,c,b){var f=String(d);b=b||" ";while(f.length<c){f=b+f}return f},repeat:function(g,b,d){if(b<1){b=0}for(var f=[],c=b;c--;){f.push(g)}return f.join(d||"")},splitWords:function(b){if(b&&typeof b=="string"){return b.replace(J,"").split(A)}return b||[]}}}());Ext.String.resetCharacterEntities();Ext.htmlEncode=Ext.String.htmlEncode;Ext.htmlDecode=Ext.String.htmlDecode;Ext.urlAppend=Ext.String.urlAppend;Ext.Date=(function(){var v,w=Date,p=/(\\.)/g,B=/([gGhHisucUOPZ]|MS)/,u=/([djzmnYycU]|MS)/,q=/\\/gi,y=/\{(\d+)\}/g,s=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/"),x=Ext.String.leftPad,A=["var me = this, dt, y, m, d, h, i, s, ms, o, O, z, zz, u, v, W, year, jan4, week1monday, daysInMonth, dayMatched,","def = me.defaults,","from = Ext.Number.from,","results = String(input).match(me.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = me.clearTime(new Date);","y = from(y, from(def.y, dt.getFullYear()));","m = from(m, from(def.m - 1, dt.getMonth()));","dayMatched = d !== undefined;","d = from(d, from(def.d, dt.getDate()));","if (!dayMatched) {","dt.setDate(1);","dt.setMonth(m);","dt.setFullYear(y);","daysInMonth = me.getDaysInMonth(dt);","if (d > daysInMonth) {","d = daysInMonth;","}","}","h  = from(h, from(def.h, dt.getHours()));","i  = from(i, from(def.i, dt.getMinutes()));","s  = from(s, from(def.s, dt.getSeconds()));","ms = from(ms, from(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = me.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (me.isLeapYear(v) && z <= 365))? me.add(v, me.DAY, z) : null);","}else if(strict === true && !me.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","if (W) {","year = y || (new Date()).getFullYear();","jan4 = new Date(year, 0, 4, 0, 0, 0);","d = jan4.getDay();","week1monday = new Date(jan4.getTime() - ((d === 0 ? 6 : d - 1) * 86400000));","v = Ext.Date.clearTime(new Date(week1monday.getTime() + ((W - 1) * 604800000 + 43200000)));","} else {","v = me.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","}","}","}","}","if(v){","if(zz != null){","v = me.add(v, me.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = me.add(v, me.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return (v != null) ? v : null;"].join("\n");if(!Date.prototype.toISOString){Date.prototype.toISOString=function(){var b=this;return x(b.getUTCFullYear(),4,"0")+"-"+x(b.getUTCMonth()+1,2,"0")+"-"+x(b.getUTCDate(),2,"0")+"T"+x(b.getUTCHours(),2,"0")+":"+x(b.getUTCMinutes(),2,"0")+":"+x(b.getUTCSeconds(),2,"0")+"."+x(b.getUTCMilliseconds(),3,"0")+"Z"}}function r(b){var c=Array.prototype.slice.call(arguments,1);return b.replace(y,function(f,d){return c[d]})}v={now:w.now,toString:function(b){if(!b){b=new w()}return b.getFullYear()+"-"+x(b.getMonth()+1,2,"0")+"-"+x(b.getDate(),2,"0")+"T"+x(b.getHours(),2,"0")+":"+x(b.getMinutes(),2,"0")+":"+x(b.getSeconds(),2,"0")},getElapsed:function(b,c){return Math.abs(b-(c||v.now()))},useStrict:false,formatCodeToRegex:function(c,d){var b=v.parseCodes[c];if(b){b=typeof b==="function"?b():b;v.parseCodes[c]=b}return b?Ext.applyIf({c:b.c?r(b.c,d||"{0}"):b.c},b):{g:0,c:null,s:Ext.String.escapeRegex(c)}},parseFunctions:{MS:function(c,d){var b=(c||"").match(s);return b?new w(((b[1]||"")+b[2])*1):null},time:function(c,d){var b=parseInt(c,10);if(b||b===0){return new w(b)}return null},timestamp:function(c,d){var b=parseInt(c,10);if(b||b===0){return new w(b*1000)}return null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"},time:function(){return this.getTime().toString()},timestamp:function(){return v.format(this,"U")}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",DAYS_IN_WEEK:7,MONTHS_IN_YEAR:12,MAX_DAYS_IN_MONTH:31,SUNDAY:0,MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6,defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:"m/d/Y",firstDayOfWeek:0,weekendDays:[0,6],getShortMonthName:function(b){return v.monthNames[b].substring(0,3)},getShortDayName:function(b){return v.dayNames[b].substring(0,3)},getMonthNumber:function(b){return v.monthNumbers[b.substring(0,1).toUpperCase()+b.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(b){return B.test(b.replace(p,""))},formatContainsDateInfo:function(b){return u.test(b.replace(p,""))},unescapeFormat:function(b){return b.replace(q,"")},formatCodes:{d:"Ext.String.leftPad(m.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(m.getDay())",j:"m.getDate()",l:"Ext.Date.dayNames[m.getDay()]",N:"(m.getDay() ? m.getDay() : 7)",S:"Ext.Date.getSuffix(m)",w:"m.getDay()",z:"Ext.Date.getDayOfYear(m)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(m), 2, '0')",F:"Ext.Date.monthNames[m.getMonth()]",m:"Ext.String.leftPad(m.getMonth() + 1, 2, '0')",M:"Ext.Date.getShortMonthName(m.getMonth())",n:"(m.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(m)",L:"(Ext.Date.isLeapYear(m) ? 1 : 0)",o:"(m.getFullYear() + (Ext.Date.getWeekOfYear(m) == 1 && m.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(m) >= 52 && m.getMonth() < 11 ? -1 : 0)))",Y:"Ext.String.leftPad(m.getFullYear(), 4, '0')",y:"('' + m.getFullYear()).substring(2, 4)",a:"(m.getHours() < 12 ? 'am' : 'pm')",A:"(m.getHours() < 12 ? 'AM' : 'PM')",g:"((m.getHours() % 12) ? m.getHours() % 12 : 12)",G:"m.getHours()",h:"Ext.String.leftPad((m.getHours() % 12) ? m.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(m.getHours(), 2, '0')",i:"Ext.String.leftPad(m.getMinutes(), 2, '0')",s:"Ext.String.leftPad(m.getSeconds(), 2, '0')",u:"Ext.String.leftPad(m.getMilliseconds(), 3, '0')",O:"Ext.Date.getGMTOffset(m)",P:"Ext.Date.getGMTOffset(m, true)",T:"Ext.Date.getTimezone(m)",Z:"(m.getTimezoneOffset() * -60)",c:function(){var b="Y-m-dTH:i:sP",d=[],f,g=b.length,c;for(f=0;f<g;++f){c=b.charAt(f);d.push(c==="T"?"'T'":v.getFormatCode(c))}return d.join(" + ")},C:function(){return"m.toISOString()"},U:"Math.round(m.getTime() / 1000)"},isValid:function(g,c,k,l,b,j,d){l=l||0;b=b||0;j=j||0;d=d||0;var f=v.add(new w(g<100?100:g,c-1,k,l,b,j,d),v.YEAR,g<100?g-100:0);return g===f.getFullYear()&&c===f.getMonth()+1&&k===f.getDate()&&l===f.getHours()&&b===f.getMinutes()&&j===f.getSeconds()&&d===f.getMilliseconds()},parse:function(d,b,f){var c=v.parseFunctions;if(c[b]==null){v.createParser(b)}return c[b].call(v,d,Ext.isDefined(f)?f:v.useStrict)},parseDate:function(c,b,d){return v.parse(c,b,d)},getFormatCode:function(b){var c=v.formatCodes[b];if(c){c=typeof c==="function"?c():c;v.formatCodes[b]=c}return c||("'"+Ext.String.escape(b)+"'")},createFormat:function(b){var c=[],g=false,d="",f;for(f=0;f<b.length;++f){d=b.charAt(f);if(!g&&d==="\\"){g=true}else{if(g){g=false;c.push("'"+Ext.String.escape(d)+"'")}else{if(d==="\n"){c.push("'\\n'")}else{c.push(v.getFormatCode(d))}}}}v.formatFunctions[b]=Ext.functionFactory("var m=this;return "+c.join("+"))},createParser:function(g){var c=v.parseRegexes.length,d=1,b=[],j=[],l=false,f="",n=0,m=g.length,k=[],o;for(;n<m;++n){f=g.charAt(n);if(!l&&f==="\\"){l=true}else{if(l){l=false;j.push(Ext.String.escape(f))}else{o=v.formatCodeToRegex(f,d);d+=o.g;j.push(o.s);if(o.g&&o.c){if(o.calcAtEnd){k.push(o.c)}else{b.push(o.c)}}}}}b=b.concat(k);v.parseRegexes[c]=new RegExp("^"+j.join("")+"$","i");v.parseFunctions[g]=Ext.functionFactory("input","strict",r(A,c,b.join("")))},parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|0[1-9])"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|[1-9])"},D:function(){for(var c=[],b=0;b<7;c.push(v.getShortDayName(b)),++b){}return{g:0,c:null,s:"(?:"+c.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+v.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:1,c:"W = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},F:function(){return{g:1,c:"m = parseInt(me.getMonthNumber(results[{0}]), 10);\n",s:"("+v.monthNames.join("|")+")"}},M:function(){for(var c=[],b=0;b<12;c.push(v.getShortMonthName(b)),++b){}return Ext.applyIf({s:"("+c.join("|")+")"},v.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|0[1-9])"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|[1-9])"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > me.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)",calcAtEnd:true},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)",calcAtEnd:true},g:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|[0-9])"},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|1[0-9]|[0-9])"},h:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|0[1-9])"},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|[0-1][0-9])"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,5}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var c=[],f=[v.formatCodeToRegex("Y",1),v.formatCodeToRegex("m",2),v.formatCodeToRegex("d",3),v.formatCodeToRegex("H",4),v.formatCodeToRegex("i",5),v.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",v.formatCodeToRegex("P",8).c,"}else{",v.formatCodeToRegex("O",8).c,"}","}"].join("\n")}],b,d;for(b=0,d=f.length;b<d;++b){c.push(f[b].c)}return{g:1,c:c.join(""),s:[f[0].s,"(?:","-",f[1].s,"(?:","-",f[2].s,"(?:","(?:T| )?",f[3].s,":",f[4].s,"(?::",f[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(c,b){return v.format(c,b)},isEqual:function(b,c){if(b&&c){return(b.getTime()===c.getTime())}return !(b||c)},format:function(c,b){var d=v.formatFunctions;if(!Ext.isDate(c)){return""}if(d[b]==null){v.createFormat(b)}return d[b].call(c)+""},getTimezone:function(b){return b.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,5})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(d,c){var b=d.getTimezoneOffset();return(b>0?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(b)/60),2,"0")+(c?":":"")+Ext.String.leftPad(Math.abs(b%60),2,"0")},getDayOfYear:function(d){var f=0,b=v.clone(d),g=d.getMonth(),c;for(c=0,b.setDate(1),b.setMonth(0);c<g;b.setMonth(++c)){f+=v.getDaysInMonth(b)}return f+d.getDate()-1},getWeekOfYear:(function(){var c=86400000,b=7*c;return function(g){var f=w.UTC(g.getFullYear(),g.getMonth(),g.getDate()+3)/c,j=Math.floor(f/7),d=new w(j*b).getUTCFullYear();return j-Math.floor(w.UTC(d,0,7)/b)+1}}()),isLeapYear:function(c){var b=c.getFullYear();return !!((b&3)===0&&(b%100||(b%400===0&&b)))},getFirstDayOfMonth:function(b){var c=(b.getDay()-(b.getDate()-1))%7;return(c<0)?(c+7):c},getLastDayOfMonth:function(b){return v.getLastDateOfMonth(b).getDay()},getFirstDateOfMonth:function(b){return new w(b.getFullYear(),b.getMonth(),1)},getLastDateOfMonth:function(b){return new w(b.getFullYear(),b.getMonth(),v.getDaysInMonth(b))},getDaysInMonth:(function(){var b=[31,28,31,30,31,30,31,31,30,31,30,31];return function(c){var d=c.getMonth();return d===1&&v.isLeapYear(c)?29:b[d]}}()),getSuffix:function(b){switch(b.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(b){return new w(b.getTime())},isDST:function(b){return new w(b.getFullYear(),0,1).getTimezoneOffset()!==b.getTimezoneOffset()},clearTime:function(g,b){if(isNaN(g.getTime())){return g}if(b){return v.clearTime(v.clone(g))}var d=g.getDate(),f,c;g.setHours(0);g.setMinutes(0);g.setSeconds(0);g.setMilliseconds(0);if(g.getDate()!==d){for(f=1,c=v.add(g,v.HOUR,f);c.getDate()!==d;f++,c=v.add(g,v.HOUR,f)){}g.setDate(d);g.setHours(c.getHours())}return g},add:function(g,j,c){var b=v.clone(g),d=0,k,f;if(!j||c===0){return b}f=c-parseInt(c,10);c=parseInt(c,10);if(c){switch(j.toLowerCase()){case v.MILLI:b.setTime(b.getTime()+c);break;case v.SECOND:b.setTime(b.getTime()+c*1000);break;case v.MINUTE:b.setTime(b.getTime()+c*60*1000);break;case v.HOUR:b.setTime(b.getTime()+c*60*60*1000);break;case v.DAY:b.setTime(b.getTime()+c*24*60*60*1000);break;case v.MONTH:k=g.getDate();if(k>28){k=Math.min(k,v.getLastDateOfMonth(v.add(v.getFirstDateOfMonth(g),v.MONTH,c)).getDate())}b.setDate(k);b.setMonth(g.getMonth()+c);break;case v.YEAR:k=g.getDate();if(k>28){k=Math.min(k,v.getLastDateOfMonth(v.add(v.getFirstDateOfMonth(g),v.YEAR,c)).getDate())}b.setDate(k);b.setFullYear(g.getFullYear()+c);break}}if(f){switch(j.toLowerCase()){case v.MILLI:d=1;break;case v.SECOND:d=1000;break;case v.MINUTE:d=1000*60;break;case v.HOUR:d=1000*60*60;break;case v.DAY:d=1000*60*60*24;break;case v.MONTH:k=v.getDaysInMonth(b);d=1000*60*60*24*k;break;case v.YEAR:k=(v.isLeapYear(b)?366:365);d=1000*60*60*24*k;break}if(d){b.setTime(b.getTime()+d*f)}}return b},subtract:function(c,d,b){return v.add(c,d,-b)},between:function(d,b,f){var c=d.getTime();return b.getTime()<=c&&c<=f.getTime()},isWeekend:function(b){return Ext.Array.indexOf(this.weekendDays,b.getDay())>-1},utcToLocal:function(b){return new Date(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes(),b.getUTCSeconds(),b.getUTCMilliseconds())},localToUtc:function(b){return v.utc(b.getFullYear(),b.getMonth(),b.getDate(),b.getHours(),b.getMinutes(),b.getSeconds(),b.getMilliseconds())},utc:function(c,b,j,k,f,d,g){return new Date(Date.UTC(c,b,j,k||0,f||0,d||0,g||0))},compat:function(){var l,c=["useStrict","formatCodeToRegex","parseFunctions","parseRegexes","formatFunctions","y2kYear","MILLI","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","defaults","dayNames","monthNames","monthNumbers","getShortMonthName","getShortDayName","getMonthNumber","formatCodes","isValid","parseDate","getFormatCode","createFormat","createParser","parseCodes"],b=["dateFormat","format","getTimezone","getGMTOffset","getDayOfYear","getWeekOfYear","isLeapYear","getFirstDayOfMonth","getLastDayOfMonth","getDaysInMonth","getSuffix","clone","isDST","clearTime","add","between"],j=c.length,k=b.length,f,d,g;for(g=0;g<j;g++){f=c[g];w[f]=v[f]}for(l=0;l<k;l++){d=b[l];w.prototype[d]=function(){var m=Array.prototype.slice.call(arguments);m.unshift(this);return v[d].apply(v,m)}}},diff:function(f,g,c){var d,b=+g-f;switch(c){case v.MILLI:return b;case v.SECOND:return Math.floor(b/1000);case v.MINUTE:return Math.floor(b/60000);case v.HOUR:return Math.floor(b/3600000);case v.DAY:return Math.floor(b/86400000);case"w":return Math.floor(b/604800000);case v.MONTH:d=(g.getFullYear()*12+g.getMonth())-(f.getFullYear()*12+f.getMonth());if(v.add(f,c,d)>g){return d-1}return d;case v.YEAR:d=g.getFullYear()-f.getFullYear();if(v.add(f,c,d)>g){return d-1}else{return d}}},align:function(d,b,c){var f=new w(+d);switch(b.toLowerCase()){case v.MILLI:return f;case v.SECOND:f.setUTCSeconds(f.getUTCSeconds()-f.getUTCSeconds()%c);f.setUTCMilliseconds(0);return f;case v.MINUTE:f.setUTCMinutes(f.getUTCMinutes()-f.getUTCMinutes()%c);f.setUTCSeconds(0);f.setUTCMilliseconds(0);return f;case v.HOUR:f.setUTCHours(f.getUTCHours()-f.getUTCHours()%c);f.setUTCMinutes(0);f.setUTCSeconds(0);f.setUTCMilliseconds(0);return f;case v.DAY:if(c===7||c===14){f.setUTCDate(f.getUTCDate()-f.getUTCDay()+1)}f.setUTCHours(0);f.setUTCMinutes(0);f.setUTCSeconds(0);f.setUTCMilliseconds(0);return f;case v.MONTH:f.setUTCMonth(f.getUTCMonth()-(f.getUTCMonth()-1)%c,1);f.setUTCHours(0);f.setUTCMinutes(0);f.setUTCSeconds(0);f.setUTCMilliseconds(0);return f;case v.YEAR:f.setUTCFullYear(f.getUTCFullYear()-f.getUTCFullYear()%c,1,1);f.setUTCHours(0);f.setUTCMinutes(0);f.setUTCSeconds(0);f.setUTCMilliseconds(0);return d}}};v.parseCodes.C=v.parseCodes.c;return v}());Ext.Function=(function(){var E=0,s,B=[],r=[],x=0,w={},y=window,C=Ext.global,A=!!(C.setImmediate&&C.clearImmediate),u=y.requestAnimationFrame||y.webkitRequestAnimationFrame||y.mozRequestAnimationFrame||y.oRequestAnimationFrame||function(b){var f=Ext.now(),d=Math.max(0,16-(f-E)),c=y.setTimeout(function(){b(f+d)},d);E=f+d;return c},D=function(){var f=B.length,b,d,c;s=null;for(d=0;d<f;d++){c=B[d];b=c[3];if(w[b]){c[0].apply(c[1]||C,c[2]||r);delete w[b]}}B=B.slice(f)},F=function(){Ext.elevateFunction(D)},v={flexSetter:function(b){return function(f,c){var g,d;if(f!==null){if(typeof f!=="string"){for(g in f){if(f.hasOwnProperty(g)){b.call(this,g,f[g])}}if(Ext.enumerables){for(d=Ext.enumerables.length;d--;){g=Ext.enumerables[d];if(f.hasOwnProperty(g)){b.call(this,g,f[g])}}}}else{b.call(this,f,c)}}return this}},bind:function(d,f,g,j){if(arguments.length===2){return function(){return d.apply(f,arguments)}}var b=d,c=Array.prototype.slice;return function(){var k=g||arguments;if(j===true){k=c.call(arguments,0);k=k.concat(g)}else{if(typeof j==="number"){k=c.call(arguments,0);Ext.Array.insert(k,j,g)}}return b.apply(f||C,k)}},bindCallback:function(b,c,d,f,g){return function(){var j=Ext.Array.slice(arguments);return Ext.callback(b,c,d?d.concat(j):j,f,g)}},pass:function(b,d,c){if(!Ext.isArray(d)){if(Ext.isIterable(d)){d=Ext.Array.clone(d)}else{d=d!==undefined?[d]:[]}}return function(){var f=d.slice();f.push.apply(f,arguments);return b.apply(c||this,f)}},alias:function(b,c){return function(){return b[c].apply(b,arguments)}},clone:function(b){return function(){return b.apply(this,arguments)}},createInterceptor:function(b,c,d,f){if(!Ext.isFunction(c)){return b}else{f=Ext.isDefined(f)?f:null;return function(){var g=this,j=arguments;return(c.apply(d||g||C,j)!==false)?b.apply(g||C,j):f}}},createDelayed:function(b,d,c,f,g){if(c||f){b=Ext.Function.bind(b,c,f,g)}return function(){var k=this,j=Array.prototype.slice.call(arguments);setTimeout(function(){if(Ext.elevateFunction){Ext.elevateFunction(b,k,j)}else{b.apply(k,j)}},d)}},defer:function(b,d,c,f,g){b=Ext.Function.bind(b,c,f,g);if(d>0){return setTimeout(function(){if(Ext.elevateFunction){Ext.elevateFunction(b)}else{b()}},d)}b();return 0},interval:function(b,d,c,f,g){b=Ext.Function.bind(b,c,f,g);return setInterval(function(){if(Ext.elevateFunction){Ext.elevateFunction(b)}else{b()}},d)},createSequence:function(c,b,d){if(!b){return c}else{return function(){var f=c.apply(this,arguments);b.apply(d||this,arguments);return f}}},createBuffered:function(b,f,c,d){var g;return function(){var k=d||Array.prototype.slice.call(arguments,0),j=c||this;if(g){clearTimeout(g)}g=setTimeout(function(){if(Ext.elevateFunction){Ext.elevateFunction(b,j,k)}else{b.apply(j,k)}},f)}},createAnimationFrame:function(c,d,f,b){var g;b=b||3;return function(){var j=f||Array.prototype.slice.call(arguments,0);d=d||this;if(b===3&&g){v.cancelAnimationFrame(g)}if((b&1)||!g){g=v.requestAnimationFrame(function(){g=null;c.apply(d,j)})}}},requestAnimationFrame:function(c,d,g){var b=++x,f=Array.prototype.slice.call(arguments,0);f[3]=b;w[b]=1;B.push(f);if(!s){s=u(Ext.elevateFunction?F:D)}return b},cancelAnimationFrame:function(b){delete w[b]},createThrottled:function(d,j,f){var c=0,k,g,b,l=function(){if(Ext.elevateFunction){Ext.elevateFunction(d,f,g)}else{d.apply(f,g)}c=Ext.now();b=null};return function(){if(!f){f=this}k=Ext.now()-c;g=arguments;if(k>=j){clearTimeout(b);l()}else{if(!b){b=Ext.defer(l,j-k)}}}},createBarrier:function(b,c,d){return function(){if(!--b){c.apply(d,arguments)}}},interceptBefore:function(f,g,c,d){var b=f[g]||Ext.emptyFn;return(f[g]=function(){var j=c.apply(d||this,arguments);b.apply(this,arguments);return j})},interceptAfter:function(f,g,c,d){var b=f[g]||Ext.emptyFn;return(f[g]=function(){b.apply(this,arguments);return c.apply(d||this,arguments)})},interceptAfterOnce:function(f,g,c,d){var b=f[g],j;j=function(){var k;if(b){b.apply(this,arguments)}k=c.apply(d||this,arguments);f[g]=b;f=g=c=d=b=j=null;return k};f[g]=j;return j},makeCallback:function(b,c){return function(){return c[b].apply(c,arguments)}},memoize:function(c,d,g){var f={},b=g&&Ext.isFunction(g);return function(k){var j=b?g.apply(d,arguments):k;if(!(j in f)){f[j]=c.apply(d,arguments)}return f[j]}}};Ext.asap=A?function(c,d,b){if(d!=null||b!=null){c=v.bind(c,d,b)}return setImmediate(function(){if(Ext.elevateFunction){Ext.elevateFunction(c)}else{c()}})}:function(c,d,b){if(d!=null||b!=null){c=v.bind(c,d,b)}return setTimeout(function(){if(Ext.elevateFunction){Ext.elevateFunction(c)}else{c()}},0,true)},Ext.asapCancel=A?function(b){clearImmediate(b)}:function(b){clearTimeout(b)};Ext.defer=v.defer;Ext.interval=v.interval;Ext.pass=v.pass;Ext.bind=v.bind;Ext.deferCallback=v.requestAnimationFrame;return v})();Ext.Number=(new function(){var j=this,k=(0.9).toFixed()!=="1",l=Math,g={count:false,inclusive:false,wrap:true};Ext.apply(j,{MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-(l.pow(2,53)-1),MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||l.pow(2,53)-1,Clip:{DEFAULT:g,COUNT:Ext.applyIf({count:true},g),INCLUSIVE:Ext.applyIf({inclusive:true},g),NOWRAP:Ext.applyIf({wrap:false},g)},clipIndices:function(s,r,d){d=d||g;var f=0,u=d.wrap,b,q,c;r=r||[];for(c=0;c<2;++c){b=q;q=r[c];if(q==null){q=f}else{if(c&&d.count){q+=b;q=(q>s)?s:q}else{if(u){q=(q<0)?(s+q):q}if(c&&d.inclusive){++q}q=(q<0)?0:((q>s)?s:q)}}f=s}r[0]=b;r[1]=(q<b)?b:q;return r},constrain:function(b,c,d){var f=parseFloat(b);if(c===null){c=b}if(d===null){d=b}return(f<c)?c:((f>d)?d:f)},snap:function(b,d,c,m){var f;if(b===undefined||b<c){return c||0}if(d){f=b%d;if(f!==0){b-=f;if(f*2>=d){b+=d}else{if(f*2<-d){b-=d}}}}return j.constrain(b,c,m)},snapInRange:function(c,n,d,b){var f;d=(d||0);if(c===undefined||c<d){return d}if(n&&(f=((c-d)%n))){c-=f;f*=2;if(f>=n){c+=n}}if(b!==undefined){if(c>(b=j.snapInRange(b,n,d))){c=b}}return c},roundToNearest:function(b,c){c=c||1;return c*l.round(b/c)},sign:l.sign||function(b){b=+b;if(b===0||isNaN(b)){return b}return(b>0)?1:-1},log10:l.log10||function(b){return l.log(b)*l.LOG10E},isEqual:function(c,d,b){return l.abs(c-d)<b},isFinite:Number.isFinite||function(b){return typeof b==="number"&&isFinite(b)},toFixed:k?function(b,d){d=d||0;var c=l.pow(10,d);return(l.round(b*c)/c).toFixed(d)}:function(b,c){return b.toFixed(c)},from:function(b,c){if(isFinite(b)){b=parseFloat(b)}return !isNaN(b)?b:c},randomInt:function(b,c){return l.floor(l.random()*(c-b+1)+b)},correctFloat:function(b){return parseFloat(b.toPrecision(14))}});Ext.num=function(){return j.from.apply(this,arguments)}}());(function(){var n=function(){},p=/^\?/,o=/(\[):?([^\]]*)\]/g,k=/^([^\[]+)/,l=/\+/g,m=Ext.Object={chain:Object.create||function(b){n.prototype=b;var c=new n();n.prototype=null;return c},clear:function(c){for(var b in c){delete c[b]}return c},freeze:Object.freeze?function(b,d){if(b&&typeof b==="object"&&!Object.isFrozen(b)){Object.freeze(b);if(d){for(var c in b){m.freeze(b[c],d)}}}return b}:Ext.identityFn,toQueryObjects:function(b,f,c){var d=m.toQueryObjects,g=[],r,j;if(Ext.isArray(f)){for(r=0,j=f.length;r<j;r++){if(c){g=g.concat(d(b+"["+r+"]",f[r],true))}else{g.push({name:b,value:f[r]})}}}else{if(Ext.isObject(f)){for(r in f){if(f.hasOwnProperty(r)){if(c){g=g.concat(d(b+"["+r+"]",f[r],true))}else{g.push({name:b,value:f[r]})}}}}else{g.push({name:b,value:f})}}return g},toQueryString:function(g,u){var f=[],j=[],c,d,b,v,w;for(c in g){if(g.hasOwnProperty(c)){f=f.concat(m.toQueryObjects(c,g[c],u))}}for(d=0,b=f.length;d<b;d++){v=f[d];w=v.value;if(Ext.isEmpty(w)){w=""}else{if(Ext.isDate(w)){w=Ext.Date.toString(w)}}j.push(encodeURIComponent(v.name)+"="+encodeURIComponent(String(w)))}return j.join("&")},fromQueryString:function(O,c){var G=O.replace(p,"").split("&"),H={},b,K,E,j,d,M,g,f,P,L,J,I,F,N;for(d=0,M=G.length;d<M;d++){g=G[d];if(g.length>0){K=g.split("=");E=K[0];E=E.replace(l,"%20");E=decodeURIComponent(E);j=K[1];if(j!==undefined){j=j.replace(l,"%20");j=decodeURIComponent(j)}else{j=""}if(!c){if(H.hasOwnProperty(E)){if(!Ext.isArray(H[E])){H[E]=[H[E]]}H[E].push(j)}else{H[E]=j}}else{L=E.match(o);J=E.match(k);E=J[0];I=[];if(L===null){H[E]=j;continue}for(f=0,P=L.length;f<P;f++){F=L[f];F=(F.length===2)?"":F.substring(1,F.length-1);I.push(F)}I.unshift(E);b=H;for(f=0,P=I.length;f<P;f++){F=I[f];if(f===P-1){if(Ext.isArray(b)&&F===""){b.push(j)}else{b[F]=j}}else{if(b[F]===undefined||typeof b[F]==="string"){N=I[f+1];b[F]=(Ext.isNumeric(N)||N==="")?[]:{}}b=b[F]}}}}}return H},each:function(c,g,j){var d=Ext.enumerables,b,f;if(c){j=j||c;for(f in c){if(c.hasOwnProperty(f)){if(g.call(j,f,c[f],c)===false){return}}}if(d){for(b=d.length;b--;){if(c.hasOwnProperty(f=d[b])){if(g.call(j,f,c[f],c)===false){return}}}}}},eachValue:function(c,g,j){var d=Ext.enumerables,b,f;j=j||c;for(f in c){if(c.hasOwnProperty(f)){if(g.call(j,c[f])===false){return}}}if(d){for(b=d.length;b--;){if(c.hasOwnProperty(f=d[b])){if(g.call(j,c[f])===false){return}}}}},merge:function(c){var f=1,d=arguments.length,v=m.merge,j=Ext.clone,g,w,b,u;for(;f<d;f++){g=arguments[f];for(w in g){b=g[w];if(b&&b.constructor===Object){u=c[w];if(u&&u.constructor===Object){v(u,b)}else{c[w]=j(b)}}else{c[w]=b}}}return c},mergeIf:function(d){var j=1,g=arguments.length,b=Ext.clone,c,r,f;for(;j<g;j++){c=arguments[j];for(r in c){if(!(r in d)){f=c[r];if(f&&f.constructor===Object){d[r]=b(f)}else{d[r]=f}}}}return d},getAllKeys:function(d){var c=[],b;for(b in d){c.push(b)}return c},getKey:function(d,b){for(var c in d){if(d.hasOwnProperty(c)&&d[c]===b){return c}}return null},getValues:function(c){var d=[],b;for(b in c){if(c.hasOwnProperty(b)){d.push(c[b])}}return d},getKeys:(typeof Object.keys=="function")?function(b){if(!b){return[]}return Object.keys(b)}:function(d){var c=[],b;for(b in d){if(d.hasOwnProperty(b)){c.push(b)}}return c},getSize:function(d){var c=0,b;for(b in d){if(d.hasOwnProperty(b)){c++}}return c},isEmpty:function(c){for(var b in c){if(c.hasOwnProperty(b)){return false}}return true},equals:(function(){var b=function(f,c){var d;for(d in f){if(f.hasOwnProperty(d)){if(f[d]!==c[d]){return false}}}return true};return function(c,d){if(c===d){return true}if(c&&d){return b(c,d)&&b(d,c)}else{if(!c&&!d){return c===d}else{return false}}}})(),fork:function(f){var d,c,b;if(f&&f.constructor===Object){d=m.chain(f);for(c in f){b=f[c];if(b){if(b.constructor===Object){d[c]=m.fork(b)}else{if(b instanceof Array){d[c]=Ext.Array.clone(b)}}}}}else{d=f}return d},defineProperty:("defineProperty" in Object)?Object.defineProperty:function(c,d,b){if(!Object.prototype.__defineGetter__){return}if(b.get){c.__defineGetter__(d,b.get)}if(b.set){c.__defineSetter__(d,b.set)}},classify:function(r){var b=r,g=[],c={},d=function(){var w=0,v=g.length,q;for(;w<v;w++){q=g[w];this[q]=new c[q]()}},j,f;for(j in r){if(r.hasOwnProperty(j)){f=r[j];if(f&&f.constructor===Object){g.push(j);c[j]=m.classify(f)}}}d.prototype=b;return d}};Ext.merge=Ext.Object.merge;Ext.mergeIf=Ext.Object.mergeIf}());Ext.apply(Ext,{_namedScopes:{"this":{isThis:1},controller:{isController:1},self:{isSelf:1},"self.controller":{isSelf:1,isController:1}},escapeId:(function(){var m=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,l=/([\W]{1})/g,n=/^(\d)/g,j=function(b,c){return"\\"+c},k=function(b,c){return"\\00"+c.charCodeAt(0).toString(16)+" "};return function(b){return m.test(b)?b:b.replace(l,j).replace(n,k)}}()),callback:function(n,p,r,s,u,o){if(!n){return}var q=(p in Ext._namedScopes);if(n.charAt){if((!p||q)&&u){p=u.resolveListenerScope(q?p:o)}n=p[n]}else{if(q){p=o||u}else{if(!p){p=u}}}var m;if(n&&Ext.isFunction(n)){p=p||Ext.global;if(s){Ext.defer(n,s,p,r)}else{if(Ext.elevateFunction){m=Ext.elevateFunction(n,p,r)}else{if(r){m=n.apply(p,r)}else{m=n.call(p)}}}}return m},coerce:function(k,l){var m=Ext.typeOf(k),n=Ext.typeOf(l),j=typeof k==="string";if(m!==n){switch(n){case"string":return String(k);case"number":return Number(k);case"boolean":return j&&(!k||k==="false"||k==="0")?false:Boolean(k);case"null":return j&&(!k||k==="null")?null:false;case"undefined":return j&&(!k||k==="undefined")?undefined:false;case"date":return j&&isNaN(k)?Ext.Date.parse(k,Ext.Date.defaultFormat):Date(Number(k))}}return k},copyTo:function(r,p,n,o){if(typeof n==="string"){n=n.split(Ext.propertyNameSplitRe)}for(var l,q=0,m=n?n.length:0;q<m;q++){l=n[q];if(o||p.hasOwnProperty(l)){r[l]=p[l]}}return r},copy:function(r,p,n,o){if(typeof n==="string"){n=n.split(Ext.propertyNameSplitRe)}for(var l,q=0,m=n?n.length:0;q<m;q++){l=n[q];if(p.hasOwnProperty(l)||(o&&l in p)){r[l]=p[l]}}return r},propertyNameSplitRe:/[,;\s]+/,copyToIf:function(k,n,m){if(typeof m==="string"){m=m.split(Ext.propertyNameSplitRe)}for(var p,o=0,l=m?m.length:0;o<l;o++){p=m[o];if(k[p]===undefined){k[p]=n[p]}}return k},copyIf:function(k,n,m){if(typeof m==="string"){m=m.split(Ext.propertyNameSplitRe)}for(var p,o=0,l=m?m.length:0;o<l;o++){p=m[o];if(!(p in k)&&(p in n)){k[p]=n[p]}}return k},extend:(function(){var d=Object.prototype.constructor,f=function(b){var c;for(c in b){if(!b.hasOwnProperty(c)){continue}this[c]=b[c]}};return function(p,b,m){if(Ext.isObject(b)){m=b;b=p;p=m.constructor!==d?m.constructor:function(){b.apply(this,arguments)}}var n=function(){},o,c=b.prototype;n.prototype=c;o=p.prototype=new n();o.constructor=p;p.superclass=c;if(c.constructor===d){c.constructor=b}p.override=function(g){Ext.override(p,g)};o.override=f;o.proto=o;p.override(m);p.extend=function(g){return Ext.extend(p,g)};return p}}()),iterate:function(f,g,j){if(Ext.isEmpty(f)){return}if(j===undefined){j=f}if(Ext.isIterable(f)){Ext.Array.each.call(Ext.Array,f,g,j)}else{Ext.Object.each.call(Ext.Object,f,g,j)}},_resourcePoolRe:/^[<]([^<>@:]*)(?:[@]([^<>@:]+))?[>](.+)$/,resolveResource:function(g){var j=g,f;if(g&&g.charAt(0)==="<"){f=Ext._resourcePoolRe.exec(g);if(f){j=Ext.getResourcePath(f[3],f[1],f[2])}}return j},urlEncode:function(){var d=Ext.Array.from(arguments),f="";if(Ext.isString(d[1])){f=d[1]+"&";d[1]=false}return f+Ext.Object.toQueryString.apply(Ext.Object,d)},urlDecode:function(){return Ext.Object.fromQueryString.apply(Ext.Object,arguments)},getScrollbarSize:function(k){var l=Ext._scrollbarSize;if(k||!l){var g=document.body,j=document.createElement("div");j.style.width=j.style.height="100px";j.style.overflow="scroll";j.style.position="absolute";g.appendChild(j);Ext._scrollbarSize=l={width:j.offsetWidth-j.clientWidth,height:j.offsetHeight-j.clientHeight};g.removeChild(j)}return l},typeOf:(function(){var g=/\S/,k=Object.prototype.toString,j={number:1,string:1,"boolean":1,"undefined":1},l={"[object Array]":"array","[object Date]":"date","[object Boolean]":"boolean","[object Number]":"number","[object RegExp]":"regexp"};return function(c){if(c===null){return"null"}var d=typeof c,f,b;if(j[d]){return d}f=l[b=k.call(c)];if(f){return f}if(d==="function"){return"function"}if(d==="object"){if(c.nodeType!==undefined){if(c.nodeType===3){return g.test(c.nodeValue)?"textnode":"whitespace"}else{return"element"}}return"object"}return b}}()),factory:function(p,m,k,l){var n=Ext.ClassManager,o;if(!p||p.isInstance){if(k&&k!==p){k.destroy()}return p}if(l){if(typeof p==="string"){return n.instantiateByAlias(l+"."+p)}else{if(Ext.isObject(p)&&"type" in p){return n.instantiateByAlias(l+"."+p.type,p)}}}if(p===true){return k||Ext.create(m)}if("xtype" in p){o=n.instantiateByAlias("widget."+p.xtype,p)}else{if("xclass" in p){o=Ext.create(p.xclass,p)}}if(o){if(k){k.destroy()}return o}if(k){return k.setConfig(p)}return Ext.create(m,p)},log:(function(){var c=function(){};c.info=c.warn=c.error=Ext.emptyFn;return c}())});(function(){var r=[""],n=/([^\d\.])/,u=/[^\d]/g,m=/[\-+]/g,o=/\s/g,s=/_/g,p={classic:1,modern:1},q;Ext.Version=q=function(y,c){var l=this,f=l.padModes,j,B,d,b,k,g,A;if(y.isVersion){y=y.version}l.version=A=String(y).toLowerCase().replace(s,".").replace(m,"");j=A.charAt(0);if(j in f){A=A.substring(1);d=f[j]}else{d=c?f[c]:0}l.pad=d;g=A.search(n);l.shortVersion=A;if(g!==-1){l.release=k=A.substr(g,y.length);l.shortVersion=A.substr(0,g);k=q.releaseValueMap[k]||k}l.releaseValue=k||d;l.shortVersion=l.shortVersion.replace(u,"");l.parts=b=A.split(".");for(B=b.length;B--;){b[B]=parseInt(b[B],10)}if(d===Infinity){b.push(d)}l.major=b[0]||d;l.minor=b[1]||d;l.patch=b[2]||d;l.build=b[3]||d;return l};q.prototype={isVersion:true,padModes:{"~":NaN,"^":Infinity},release:"",compareTo:function(B){var l=this,c=l.pad,D=l.parts,g=D.length,d=B.isVersion?B:new q(B),j=d.pad,E=d.parts,F=E.length,k=Math.max(g,F),b,f,C;for(b=0;b<k;b++){f=(b<g)?D[b]:c;C=(b<F)?E[b]:j;if(f<C){return -1}if(f>C){return 1}}f=l.releaseValue;C=d.releaseValue;if(f<C){return -1}if(f>C){return 1}return 0},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major},getMinor:function(){return this.minor},getPatch:function(){return this.patch},getBuild:function(){return this.build},getRelease:function(){return this.release},getReleaseValue:function(){return this.releaseValue},isGreaterThan:function(b){return this.compareTo(b)>0},isGreaterThanOrEqual:function(b){return this.compareTo(b)>=0},isLessThan:function(b){return this.compareTo(b)<0},isLessThanOrEqual:function(b){return this.compareTo(b)<=0},equals:function(b){return this.compareTo(b)===0},match:function(b){b=String(b);return this.version.substr(0,b.length)===b},toArray:function(){var b=this;return[b.getMajor(),b.getMinor(),b.getPatch(),b.getBuild(),b.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(b){return this.compareTo(b)>0},lt:function(b){return this.compareTo(b)<0},gtEq:function(b){return this.compareTo(b)>=0},ltEq:function(b){return this.compareTo(b)<=0}};Ext.apply(q,{aliases:{from:{extjs:"ext",core:"core",touch:"modern"},to:{ext:["extjs"],core:["core"],modern:["touch"]}},releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,"#":-2,p:-1,pl:-1},getComponentValue:function(b){return !b?0:(isNaN(b)?this.releaseValueMap[b]||b:parseInt(b,10))},compare:function(c,d){var b=c.isVersion?c:new q(c);return b.compareTo(d)},set:function(c,f,g){var j=q.aliases.to[f],b=g.isVersion?g:new q(g),d;c[f]=b;if(j){for(d=j.length;d-->0;){c[j[d]]=b}}return b}});Ext.apply(Ext,{compatVersions:{},versions:{},lastRegisteredVersion:null,getCompatVersion:function(d){var b=Ext.compatVersions,c;if(!d){c=b.ext||b.touch||b.core}else{c=b[q.aliases.from[d]||d]}return c||Ext.getVersion(d)},setCompatVersion:function(c,b){q.set(Ext.compatVersions,c,b)},setVersion:function(c,b){if(c in p){Ext.toolkit=c}Ext.lastRegisteredVersion=q.set(Ext.versions,c,b);return this},getVersion:function(c){var b=Ext.versions;if(!c){return b.ext||b.touch||b.core}return b[q.aliases.from[c]||c]},checkVersion:function(N,f){var I=Ext.isArray(N),l=q.aliases.from,c=I?N:r,F=c.length,j=Ext.versions,g=j.ext||j.touch,L,k,J,d,b,G,M,K,H;if(!I){r[0]=N}for(L=0;L<F;++L){if(!Ext.isString(M=c[L])){J=Ext.checkVersion(M.and||M.or,!M.or);if(M.not){J=!J}}else{if(M.indexOf(" ")>=0){M=M.replace(o,"")}k=M.indexOf("@");if(k<0){K=M;H=g}else{G=M.substring(0,k);if(!(H=j[l[G]||G])){if(f){return false}continue}K=M.substring(k+1)}k=K.indexOf("-");if(k<0){if(K.charAt(k=K.length-1)==="+"){d=K.substring(0,k);b=null}else{d=b=K}}else{if(k>0){d=K.substring(0,k);b=K.substring(k+1)}else{d=null;b=K.substring(k+1)}}J=true;if(d){d=new q(d,"~");J=d.ltEq(H)}if(J&&b){b=new q(b,"~");J=b.gtEq(H)}}if(J){if(!f){return true}}else{if(f){return false}}}return !!f},deprecate:function(b,d,c,f){if(q.compare(Ext.getVersion(b),d)<1){c.call(f)}}})}());(function(l){var k=(l&&l.packages)||{},m=l&&l.compatibility,n,j;for(n in k){j=k[n];Ext.setVersion(n,j.version)}if(m){if(Ext.isString(m)){Ext.setCompatVersion("core",m)}else{for(n in m){Ext.setCompatVersion(n,m[n])}}}if(!k.ext&&!k.touch){Ext.setVersion("ext","6.2.0.981");Ext.setVersion("core","6.2.0.981")}})(Ext.manifest);Ext.Config=function(j){var g=this,f=j.charAt(0).toUpperCase()+j.substr(1);g.name=j;g.names={internal:"_"+j,initializing:"is"+f+"Initializing",apply:"apply"+f,update:"update"+f,get:"get"+f,set:"set"+f,initGet:"initGet"+f,changeEvent:j.toLowerCase()+"change"};g.root=g};Ext.Config.map={};Ext.Config.get=function(j){var g=Ext.Config.map,f=g[j]||(g[j]=new Ext.Config(j));return f};Ext.Config.prototype={self:Ext.Config,isConfig:true,getGetter:function(){return this.getter||(this.root.getter=this.makeGetter())},getInitGetter:function(){return this.initGetter||(this.root.initGetter=this.makeInitGetter())},getSetter:function(){return this.setter||(this.root.setter=this.makeSetter())},getEventedSetter:function(){return this.eventedSetter||(this.root.eventedSetter=this.makeEventedSetter())},getInternalName:function(c){return c.$configPrefixed?this.names.internal:this.name},mergeNew:function(l,p,m,n){var k,o;if(!p){k=l}else{if(!l){k=p}else{k=Ext.Object.chain(p);for(o in l){if(!n||!(o in k)){k[o]=l[o]}}}}return k},mergeSets:function(m,o,k){var p=o?Ext.Object.chain(o):{},n,l;if(m instanceof Array){for(n=m.length;n--;){l=m[n];if(!k||!(l in p)){p[l]=true}}}else{if(m){if(m.constructor===Object){for(n in m){l=m[n];if(!k||!(n in p)){p[n]=l}}}else{if(!k||!(m in p)){p[m]=true}}}}return p},makeGetter:function(){var d=this.name,f=this.names.internal;return function(){var b=this.$configPrefixed?f:d;return this[b]}},makeInitGetter:function(){var j=this.name,k=this.names,l=k.set,n=k.get,m=k.initializing;return function(){var b=this;b[m]=true;delete b[n];b[l](b.config[j]);delete b[m];return b[n].apply(b,arguments)}},makeSetter:function(){var l=this.name,o=this.names,q=o.internal,p=o.get,r=o.apply,m=o.update,n;n=function(d){var f=this,b=f.$configPrefixed?q:l,c=f[b];delete f[p];if(!f[r]||(d=f[r](d,c))!==undefined){if(d!==(c=f[b])){f[b]=d;if(f[m]){f[m](d,c)}}}return f};n.$isDefault=true;return n},makeEventedSetter:function(){var v=this.name,p=this.names,n=p.internal,w=p.get,o=p.apply,s=p.update,q=p.changeEvent,r=function(c,b,f,d){c[d]=b;if(c[s]){c[s](b,f)}},u;u=function(b){var c=this,d=c.$configPrefixed?n:v,f=c[d];delete c[w];if(!c[o]||(b=c[o](b,f))!==undefined){if(b!==(f=c[d])){if(c.isConfiguring){c[d]=b;if(c[s]){c[s](b,f)}}else{c.fireEventedAction(q,[c,b,f],r,c,[c,b,f,d])}}}return c};u.$isDefault=true;return u}};(function(){var j=Ext.Config,g=j.map,f=Ext.Object;Ext.Configurator=function(l){var c=this,d=l.prototype,b=l.superclass?l.superclass.self.$config:null;c.cls=l;c.superCfg=b;if(b){c.configs=f.chain(b.configs);c.cachedConfigs=f.chain(b.cachedConfigs);c.initMap=f.chain(b.initMap);c.values=f.chain(b.values);c.needsFork=b.needsFork}else{c.configs={};c.cachedConfigs={};c.initMap={};c.values={}}d.config=d.defaultConfig=c.values;l.$config=c};Ext.Configurator.prototype={self:Ext.Configurator,needsFork:false,initList:null,add:function(b,T){var K=this,P=K.cls,M=K.configs,I=K.cachedConfigs,J=K.initMap,s=P.prototype,H=T&&T.$config.configs,S=K.values,N,L,c,R,Q,O,F,E,G,d;for(F in b){d=b[F];N=d&&d.constructor===Object;L=N&&"$value" in d?d:null;c=false;if(L){c=!!L.cached;d=L.$value;N=d&&d.constructor===Object}R=L&&L.merge;Q=M[F];if(Q){if(T){R=Q.merge;if(!R){continue}L=null}else{R=R||Q.merge}O=S[F];if(R){d=R.call(Q,d,O,P,T)}else{if(N){if(O&&O.constructor===Object){d=f.merge({},O,d)}}}}else{if(H){Q=H[F];L=null}else{Q=j.get(F)}M[F]=Q;if(Q.cached||c){I[F]=true}E=Q.names;if(!s[G=E.get]){s[G]=Q.getter||Q.getGetter()}if(!s[G=E.set]){s[G]=(L&&L.evented)?(Q.eventedSetter||Q.getEventedSetter()):(Q.setter||Q.getSetter())}}if(L){if(Q.owner!==P){M[F]=Q=Ext.Object.chain(Q);Q.owner=P}Ext.apply(Q,L);delete Q.$value}if(!K.needsFork&&d&&(d.constructor===Object||d instanceof Array)){K.needsFork=true}if(d!==null){J[F]=true}else{if(s.$configPrefixed){s[M[F].names.internal]=null}else{s[M[F].name]=null}if(F in J){J[F]=false}}S[F]=d}},configure:function(M,S){var J=this,T=J.configs,R=J.initMap,N=J.initListMap,Q=J.initList,L=J.cls.prototype,Y=J.values,I=0,d=!Q,X,W,V,b,c,U,P,H,G,K,O,Z;Y=J.needsFork?f.fork(Y):f.chain(Y);M.isConfiguring=true;if(d){J.initList=Q=[];J.initListMap=N={};M.isFirstInstance=true;for(H in R){W=T[H];K=W.cached;if(R[H]){P=W.names;G=Y[H];if(!L[P.set].$isDefault||L[P.apply]||L[P.update]||typeof G==="object"){if(K){(X||(X=[])).push(W)}else{Q.push(W);N[H]=true}M[P.get]=W.initGetter||W.getInitGetter()}else{L[W.getInternalName(L)]=G}}else{if(K){L[W.getInternalName(L)]=undefined}}}}U=X&&X.length;if(U){for(b=0;b<U;++b){c=X[b].getInternalName(L);M[c]=null}for(b=0;b<U;++b){P=(W=X[b]).names;V=P.get;if(M.hasOwnProperty(V)){M[P.set](Y[W.name]);delete M[V]}}for(b=0;b<U;++b){c=X[b].getInternalName(L);L[c]=M[c];delete M[c]}}if(S&&S.platformConfig){S=J.resolvePlatformConfig(M,S)}if(d){if(M.afterCachedConfig&&!M.afterCachedConfig.$nullFn){M.afterCachedConfig(S)}}M.config=Y;for(b=0,U=Q.length;b<U;++b){W=Q[b];M[W.names.get]=W.initGetter||W.getInitGetter()}if(M.transformInstanceConfig){S=M.transformInstanceConfig(S)}if(S){for(H in S){G=S[H];W=T[H];if(!W){M[H]=G}else{if(!W.lazy){++I}if(!N[H]){M[W.names.get]=W.initGetter||W.getInitGetter()}if(W.merge){G=W.merge(G,Y[H],M)}else{if(G&&G.constructor===Object){O=Y[H];if(O&&O.constructor===Object){G=f.merge(Y[H],G)}else{G=Ext.clone(G,false)}}}}Y[H]=G}}if(M.beforeInitConfig&&!M.beforeInitConfig.$nullFn){if(M.beforeInitConfig(S)===false){return}}if(S){for(H in S){if(!I){break}W=T[H];if(W&&!W.lazy){--I;P=W.names;V=P.get;if(M.hasOwnProperty(V)){M[P.set](Y[H]);delete M[P.get]}}}}for(b=0,U=Q.length;b<U;++b){W=Q[b];P=W.names;V=P.get;if(!W.lazy&&M.hasOwnProperty(V)){M[P.set](Y[W.name]);delete M[V]}}delete M.isConfiguring},getCurrentConfig:function(d){var l=d.defaultConfig,b={},c;for(c in l){b[c]=d[g[c].names.get]()}return b},merge:function(r,b,d){var s=this.configs,p,u,c,q;for(p in d){u=d[p];q=s[p];if(q){if(q.merge){u=q.merge(u,b[p],r)}else{if(u&&u.constructor===Object){c=b[p];if(c&&c.constructor===Object){u=Ext.Object.merge(c,u)}else{u=Ext.clone(u,false)}}}}b[p]=u}return b},reconfigure:function(H,d,G){var B=H.config,A=[],I=H.$configStrict&&!(G&&G.strict===false),c=this.configs,D=G&&G.defaults,x,J,C,y,E,b,F;for(E in d){if(D&&H.hasOwnProperty(E)){continue}B[E]=d[E];x=c[E];if(x){H[x.names.get]=x.initGetter||x.getInitGetter()}else{F=H.self.prototype[E];if(I){if((typeof F==="function")&&!F.$nullFn){continue}}}A.push(E)}for(C=0,y=A.length;C<y;C++){E=A[C];x=c[E];if(x){b=x.names;J=b.get;if(H.hasOwnProperty(J)){H[b.set](d[E]);delete H[J]}}else{x=g[E]||Ext.Config.get(E);b=x.names;if(H[b.set]){H[b.set](d[E])}else{H[E]=d[E]}}}},resolvePlatformConfig:function(q,r){var c=r&&r.platformConfig,p=r,n,d,b;if(c){d=Ext.getPlatformConfigKeys(c);b=d.length;if(b){p=Ext.merge({},p);for(n=0,b=d.length;n<b;++n){this.merge(q,p,c[d[n]])}}}return p}}}());Ext.Base=(function(D){var E=[],v,s=[],r=function(d,f){var b=this,g,j,c;if(d){j=Ext.Config.map[d];c=j.names.get;if(f&&b.hasOwnProperty(c)){g=b.config[d]}else{g=b[c]()}}else{g=b.getCurrentConfig()}return g},y=function(b){return function(){return this[b].apply(this,arguments)}},F=Ext.Version,w=/^\d/,u={},B={},x=function(){},C=x.prototype,A;Ext.Reaper=A={delay:100,queue:[],timer:null,add:function(b){if(!A.timer){A.timer=Ext.defer(A.tick,A.delay)}A.queue.push(b)},flush:function(){if(A.timer){clearTimeout(A.timer);A.timer=null}var f=A.queue,b=f.length,d,c;A.queue=[];for(d=0;d<b;++d){c=f[d];if(c&&c.$reap){c.$reap()}}},tick:function(){A.timer=null;A.flush()}};Ext.apply(x,{$className:"Ext.Base",$isClass:true,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},addDeprecations:function(d){var f=this,q=[],m=Ext.getCompatVersion(d.name),j,L,g,p,c,O,l,P,o,b,M,N,k,n;for(L in d){if(w.test(L)){n=new Ext.Version(L);n.deprecations=d[L];q.push(n)}}q.sort(F.compare);for(g=q.length;g--;){j=(n=q[g]).deprecations;c=f.prototype;k=j.statics;O=m&&m.lt(n);if(!O){break}while(j){o=j.methods;if(o){for(b in o){N=o[b];P=null;if(!N){}else{if(Ext.isString(N)){if(O){P=y(N)}}else{p="";if(N.message||N.fn){N=N.fn}l=c.hasOwnProperty(b)&&c[b];if(O&&N){N.$owner=f;N.$name=b;if(l){N.$previous=l}P=N}}}if(P){c[b]=P}}}j=k;k=null;c=f}}},extend:function(d){var c=this,j=d.prototype,f,g,b;f=c.prototype=Ext.Object.chain(j);f.self=c;c.superclass=f.superclass=j;if(!d.$isClass){for(g in C){if(g in f){f[g]=C[g]}}}b=j.$inheritableStatics;if(b){for(g in b){if(!c.hasOwnProperty(g)){c[g]=d[g]}}}if(d.$onExtended){c.$onExtended=d.$onExtended.slice()}c.getConfigurator()},$onExtended:[],triggerExtended:function(){var c=this.$onExtended,d=c.length,f,b;if(d>0){for(f=0;f<d;f++){b=c[f];b.fn.apply(b.scope||this,arguments)}}},onExtended:function(b,c){this.$onExtended.push({fn:b,scope:c});return this},addStatics:function(b){this.addMembers(b,true);return this},addInheritableStatics:function(j){var d=this,f=d.prototype,c=d.$inheritableStatics,g,k,b;if(!c){c=Ext.apply({},f.$inheritableStatics);d.$inheritableStatics=f.$inheritableStatics=c}for(g in j){if(j.hasOwnProperty(g)){k=j[g];b=d[g];if(typeof b==="function"&&!b.$isClass&&!b.$nullFn){k.$previous=b}d[g]=k;c[g]=true}}return d},addMembers:function(m,l,L){var q=this,f=Ext.Function.clone,K=l?q:q.prototype,k=!l&&K.defaultConfig,o=Ext.enumerables,d=m.privates,c,g,J,j,b,p,n;if(d){delete m.privates;if(!l){n=d.statics;delete d.statics}q.addMembers(d,l,p);if(n){q.addMembers(n,true,p)}}for(b in m){if(m.hasOwnProperty(b)){j=m[b];if(typeof j==="function"&&!j.$isClass&&!j.$nullFn){if(j.$owner){j=f(j)}if(K.hasOwnProperty(b)){j.$previous=K[b]}j.$owner=q;j.$name=b}else{if(k&&(b in k)&&!K.config.hasOwnProperty(b)){(c||(c={}))[b]=j;continue}}K[b]=j}}if(c){q.addConfig(c)}if(o){for(g=0,J=o.length;g<J;++g){if(m.hasOwnProperty(b=o[g])){j=m[b];if(j&&!j.$nullFn){if(j.$owner){j=f(j)}j.$owner=q;j.$name=b;if(K.hasOwnProperty(b)){j.$previous=K[b]}}K[b]=j}}}return this},addMember:function(c,b){u[c]=b;this.addMembers(u);delete u[c];return this},borrow:function(k,j){var f=k.prototype,c={},d,b,g;j=Ext.Array.from(j);for(d=0,b=j.length;d<b;d++){g=j[d];c[g]=f[g]}return this.addMembers(c)},override:function(g){var d=this,k=g.statics,b=g.inheritableStatics,f=g.config,j=g.mixins,c=g.cachedConfig;if(k||b||f){g=Ext.apply({},g)}if(k){d.addMembers(k,true);delete g.statics}if(b){d.addInheritableStatics(b);delete g.inheritableStatics}if(g.platformConfig){d.addPlatformConfig(g)}if(f){d.addConfig(f);delete g.config}if(c){d.addCachedConfig(c);delete g.cachedConfig}delete g.mixins;d.addMembers(g);if(j){d.mixin(j)}return d},addPlatformConfig:function(k){var c=this,j=k.platformConfig,o=k.config,H,g,f,m,q,n,b,p,l,d;delete k.platformConfig;m=c.getConfigurator();g=m.configs;n=Ext.getPlatformConfigKeys(j);for(l=0,d=n.length;l<d;++l){f=j[n[l]];q=H=null;for(b in f){p=f[b];if(o&&b in o){(H||(H={}))[b]=p;(q||(q={}))[b]=o[b];delete o[b]}else{if(b in g){(H||(H={}))[b]=p}else{k[b]=p}}}if(q){m.add(q)}if(H){m.add(H)}}},callParent:function(c){var b;return(b=this.callParent.caller)&&(b.$previous||((b=b.$owner?b:b.caller)&&b.$owner.superclass.self[b.$name])).apply(this,c||E)},callSuper:function(c){var b;return(b=this.callSuper.caller)&&((b=b.$owner?b:b.caller)&&b.$owner.superclass.self[b.$name]).apply(this,c||E)},mixin:function(c,n){var g=this,o,d,q,f,m,j,l,c,b,k,p;if(typeof c!=="string"){k=c;if(k instanceof Array){for(m=0,j=k.length;m<j;m++){o=k[m];g.mixin(o.prototype.mixinId||o.$className,o)}}else{for(l in k){g.mixin(l,k[l])}}return}o=n.prototype;d=g.prototype;if(o.onClassMixedIn){o.onClassMixedIn.call(n,g)}if(!d.hasOwnProperty("mixins")){if("mixins" in d){d.mixins=Ext.Object.chain(d.mixins)}else{d.mixins={}}}for(q in o){b=o[q];if(q==="mixins"){Ext.applyIf(d.mixins,b)}else{if(!(q==="mixinId"||q==="config"||q==="$inheritableStatics")&&(d[q]===undefined)){d[q]=b}}}f=o.$inheritableStatics;if(f){p={};for(c in f){if(!g.hasOwnProperty(c)){p[c]=n[c]}}g.addInheritableStatics(p)}if("config" in o){g.addConfig(o.config,n)}d.mixins[c]=o;if(o.afterClassMixedIn){o.afterClassMixedIn.call(n,g)}return g},addConfig:function(c,b){var d=this.$config||this.getConfigurator();d.add(c,b)},addCachedConfig:function(f,c){var b={},d;for(d in f){b[d]={cached:true,$value:f[d]}}this.addConfig(b,c)},getConfigurator:function(){return this.$config||new Ext.Configurator(this)},getName:function(){return Ext.getClassName(this)},createAlias:D(function(b,c){B[b]=function(){return this[c].apply(this,arguments)};this.override(B);delete B[b]})});for(v in x){if(x.hasOwnProperty(v)){s.push(v)}}x.$staticMembers=s;x.getConfigurator();x.addMembers({$className:"Ext.Base",isInstance:true,$configPrefixed:true,$configStrict:true,isConfiguring:false,isFirstInstance:false,destroyed:false,clearPropertiesOnDestroy:true,clearPrototypeOnDestroy:false,statics:function(){var b=this.statics.caller,c=this.self;if(!b){return c}return b.$owner},callParent:function(c){var b,d=(b=this.callParent.caller)&&(b.$previous||((b=b.$owner?b:b.caller)&&b.$owner.superclass[b.$name]));return d.apply(this,c||E)},callSuper:function(c){var b,d=(b=this.callSuper.caller)&&((b=b.$owner?b:b.caller)&&b.$owner.superclass[b.$name]);return d.apply(this,c||E)},self:x,constructor:function(){return this},initConfig:function(b){var c=this,d=c.self.getConfigurator();c.initConfig=Ext.emptyFn;c.initialConfig=b||{};d.configure(c,b);return c},beforeInitConfig:Ext.emptyFn,getConfig:r,setConfig:function(d,b,f){var c=this,g;if(d){if(typeof d==="string"){g={};g[d]=b}else{g=d}c.self.getConfigurator().reconfigure(c,g,f)}return c},getCurrentConfig:function(){var b=this.self.getConfigurator();return b.getCurrentConfig(this)},hasConfig:function(b){return b in this.defaultConfig},getInitialConfig:function(b){var c=this.config;if(!b){return c}return c[b]},$links:null,link:function(d,b){var c=this,f=c.$links||(c.$links={});f[d]=true;c[d]=b;return b},unlink:function(b){var d=this,j,f,g,c;for(j=0,f=b.length;j<f;j++){g=b[j];c=d[g];if(c){if(c.isInstance&&!c.destroyed){c.destroy()}else{if(c.parentNode&&"nodeType" in c){c.parentNode.removeChild(c)}}}d[g]=null}return d},$reap:function(){var d=this,g=d.$noClearOnDestroy,b,c,f;for(b in d){if((!g||!g[b])&&d.hasOwnProperty(b)){c=d[b];f=typeof c;if(f==="object"||(f==="function"&&!c.$noClearOnDestroy)){d[b]=null}}}},destroy:function(){var b=this,c=b.$links,d=b.clearPropertiesOnDestroy;if(c){b.$links=null;b.unlink(Ext.Object.getKeys(c))}b.destroy=Ext.emptyFn;b.isDestroyed=b.destroyed=true;if(d===true){b.$reap()}else{if(d){A.add(b)}}}});C.callOverridden=C.callParent;return x}(Ext.Function.flexSetter));(function(f,d){(Ext.util||(Ext.util={})).Cache=f=function(j){var b=this,c;if(j){Ext.apply(b,j)}b.head=c={key:null,value:null};b.map={};c.next=c.prev=c};f.prototype=d={maxSize:100,count:0,clear:function(){var b=this,j=b.head,c=j.next;j.next=j.prev=j;if(!b.evict.$nullFn){for(;c!==j;c=c.next){b.evict(c.key,c.value)}}b.count=0},each:function(c,k){k=k||this;for(var l=this.head,b=l.next;b!==l;b=b.next){if(c.call(k,b.key,b.value)){break}}},get:function(m){var c=this,n=c.head,b=c.map,l=b[m];if(l){if(l.prev!==n){c.unlinkEntry(l);c.linkEntry(l)}}else{b[m]=l={key:m,value:c.miss.apply(c,arguments)};c.linkEntry(l);++c.count;while(c.count>c.maxSize){c.unlinkEntry(n.prev,true);--c.count}}return l.value},evict:Ext.emptyFn,linkEntry:function(c){var j=this.head,b=j.next;c.next=b;c.prev=j;j.next=c;b.prev=c},unlinkEntry:function(c,b){var l=c.next,k=c.prev;k.next=l;l.prev=k;if(b){this.evict(c.key,c.value)}}};d.destroy=d.clear}());(function(){var l,m=Ext.Base,k=m.$staticMembers,n=function(b,c){return(b.length-c.length)||((b<c)?-1:((b>c)?1:0))};function j(b){function c(){return this.constructor.apply(this,arguments)||null}return c}Ext.Class=l=function(c,b,d){if(typeof c!="function"){d=b;b=c;c=null}if(!b){b={}}c=l.create(c,b);l.process(c,b,d);return c};Ext.apply(l,{makeCtor:j,onBeforeCreated:function(c,b,d){c.addMembers(b);d.onCreated.call(c,c)},create:function(f,b){var c=k.length,d;if(!f){f=j()}while(c--){d=k[c];f[d]=m[d]}return f},process:function(C,c,A){var B=c.preprocessors||l.defaultPreprocessors,H=this.preprocessors,E={onBeforeCreated:this.onBeforeCreated},F=[],D,d,f,G,g,I,b;delete c.preprocessors;C._classHooks=E;for(f=0,G=B.length;f<G;f++){D=B[f];if(typeof D=="string"){D=H[D];d=D.properties;if(d===true){F.push(D.fn)}else{if(d){for(g=0,I=d.length;g<I;g++){b=d[g];if(c.hasOwnProperty(b)){F.push(D.fn);break}}}}}else{F.push(D)}}E.onCreated=A?A:Ext.emptyFn;E.preprocessors=F;this.doProcess(C,c,E)},doProcess:function(d,q,f){var r=this,g=f.preprocessors,c=g.shift(),b=r.doProcess;for(;c;c=g.shift()){if(c.call(r,d,q,f,b)===false){return}}f.onBeforeCreated.apply(r,arguments)},preprocessors:{},registerPreprocessor:function(d,g,c,f,b){if(!f){f="last"}if(!c){c=[d]}this.preprocessors[d]={name:d,properties:c||false,fn:g};this.setDefaultPreprocessorPosition(d,f,b);return this},getPreprocessor:function(b){return this.preprocessors[b]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(b){this.defaultPreprocessors=Ext.Array.from(b);return this},setDefaultPreprocessorPosition:function(c,g,b){var f=this.defaultPreprocessors,d;if(typeof g=="string"){if(g==="first"){f.unshift(c);return this}else{if(g==="last"){f.push(c);return this}}g=(g==="after")?1:-1}d=Ext.Array.indexOf(f,b);if(d!==-1){Ext.Array.splice(f,Math.max(0,d+g),0,c)}return this}});l.registerPreprocessor("extend",function(v,s,b){var g=Ext.Base,f=g.prototype,d=s.extend,w,c,u;delete s.extend;if(d&&d!==Object){w=d}else{w=g}c=w.prototype;if(!w.$isClass){for(u in f){if(!c[u]){c[u]=f[u]}}}v.extend(w);v.triggerExtended.apply(v,arguments);if(s.onClassExtended){v.onExtended(s.onClassExtended,v);delete s.onClassExtended}},true);l.registerPreprocessor("privates",function(f,b){var c=b.privates,g=c.statics,d=c.privacy||true;delete b.privates;delete c.statics;f.addMembers(c,false,d);if(g){f.addMembers(g,true,d)}});l.registerPreprocessor("statics",function(c,b){c.addStatics(b.statics);delete b.statics});l.registerPreprocessor("inheritableStatics",function(c,b){c.addInheritableStatics(b.inheritableStatics);delete b.inheritableStatics});Ext.createRuleFn=function(b){return new Function("$c","with($c) { try { return ("+b+"); } catch(e) { return false;}}")};Ext.expressionCache=new Ext.util.Cache({miss:Ext.createRuleFn});Ext.ruleKeySortFn=n;Ext.getPlatformConfigKeys=function(c){var d=[],f,b;for(f in c){b=Ext.expressionCache.get(f);if(b(Ext.platformTags)){d.push(f)}}d.sort(n);return d};l.registerPreprocessor("platformConfig",function(c,b,d){c.addPlatformConfig(b)});l.registerPreprocessor("config",function(c,b){if(b.hasOwnProperty("$configPrefixed")){c.prototype.$configPrefixed=b.$configPrefixed}c.addConfig(b.config);delete b.config});l.registerPreprocessor("cachedConfig",function(c,b){if(b.hasOwnProperty("$configPrefixed")){c.prototype.$configPrefixed=b.$configPrefixed}c.addCachedConfig(b.cachedConfig);delete b.cachedConfig});l.registerPreprocessor("mixins",function(b,g,f){var c=g.mixins,d=f.onCreated;delete g.mixins;f.onCreated=function(){f.onCreated=d;b.mixin(c);return f.onCreated.apply(this,arguments)}});Ext.extend=function(c,b,d){if(arguments.length===2&&Ext.isObject(b)){d=b;b=c;c=null}var f;if(!b){throw new Error("[Ext.extend] Attempting to extend from a class which has not been loaded on the page.")}d.extend=b;d.preprocessors=["extend","statics","inheritableStatics","mixins","platformConfig","config"];if(c){f=new l(c,d);f.prototype.constructor=c}else{f=new l(d)}f.prototype.override=function(g){for(var o in g){if(g.hasOwnProperty(o)){this[o]=g[o]}}};return f}}());Ext.Inventory=function(){var c=this;c.names=[];c.paths={};c.alternateToName={};c.aliasToName={};c.nameToAliases={};c.nameToAlternates={};c.nameToPrefix={}};Ext.Inventory.prototype={_array1:[0],prefixes:null,dotRe:/\./g,wildcardRe:/\*/g,addAlias:function(j,f,g){return this.addMapping(j,f,this.aliasToName,this.nameToAliases,g)},addAlternate:function(d,f){return this.addMapping(d,f,this.alternateToName,this.nameToAlternates)},addMapping:function(x,E,D,u,C){var H=x.$className||x,A=H,y=this._array1,v,F,s,B,G,w;if(Ext.isString(H)){A={};A[H]=E}for(s in A){F=A[s];if(Ext.isString(F)){y[0]=F;F=y}G=F.length;w=u[s]||(u[s]=[]);for(B=0;B<G;++B){if(!(v=F[B])){continue}if(D[v]!==s){D[v]=s;w.push(v)}}}},getAliasesByName:function(c){return this.nameToAliases[c]||null},getAlternatesByName:function(c){return this.nameToAlternates[c]||null},getNameByAlias:function(c){return this.aliasToName[c]||""},getNameByAlternate:function(c){return this.alternateToName[c]||""},getNamesByExpression:function(J,T,M){var n=this,D=n.aliasToName,G=n.alternateToName,S=n.nameToAliases,Q=n.nameToAlternates,B=M?T:{},K=[],C=Ext.isString(J)?[J]:J,N=C.length,P=n.wildcardRe,R,F,E,L,H,I,O;for(F=0;F<N;++F){if((R=C[F]).indexOf("*")<0){if(!(I=D[R])){if(!(I=G[R])){I=R}}if(!(I in B)&&!(T&&(I in T))){B[I]=1;K.push(I)}}else{O=new RegExp("^"+R.replace(P,"(.*?)")+"$");for(I in S){if(!(I in B)&&!(T&&(I in T))){if(!(L=O.test(I))){H=(E=S[I]).length;while(!L&&H-->0){L=O.test(E[H])}E=Q[I];if(E&&!L){H=E.length;while(!L&&H-->0){L=O.test(E[H])}}}if(L){B[I]=1;K.push(I)}}}}}return K},getPath:function(n){var m=this,k=m.paths,j="",l;if(n in k){j=k[n]}else{l=m.nameToPrefix[n]||(m.nameToPrefix[n]=m.getPrefix(n));if(l){n=n.substring(l.length+1);j=k[l];if(j){j+="/"}}j+=n.replace(m.dotRe,"/")+".js"}return j},getPrefix:function(p){if(p in this.paths){return p}else{if(p in this.nameToPrefix){return this.nameToPrefix[p]}}var r=this.getPrefixes(),v=p.length,o,u,w,q,s,j;while(v-->0){o=r[v];if(o){u=p.charAt(v);if(u!=="."){continue}w=p.substring(0,v);for(s=0,j=o.length;s<j;s++){q=o[s];if(q===p.substring(0,v)){return q}}}}return""},getPrefixes:function(){var q=this,p=q.prefixes,n,s,o,u,r,m;if(!p){n=q.names.slice(0);q.prefixes=p=[];for(r=0,m=n.length;r<m;r++){s=n[r];o=s.length;u=p[o]||(p[o]=[]);u.push(s)}}return p},removeName:function(y){var u=this,q=u.aliasToName,o=u.alternateToName,p=u.nameToAliases,v=u.nameToAlternates,x=p[y],s=v[y],w,r;delete p[y];delete v[y];delete u.nameToPrefix[y];if(x){for(w=x.length;w--;){if(y===(r=x[w])){delete q[r]}}}if(s){for(w=s.length;w--;){if(y===(r=s[w])){delete o[r]}}}},resolveName:function(f){var j=this,g;if(!(f in j.nameToAliases)){if(!(g=j.aliasToName[f])){g=j.alternateToName[f]}}return g||f},select:function(m,o){var n=this,l={},p={excludes:l,exclude:function(){n.getNamesByExpression(arguments,l,true);return this}},k;for(k in m){p[k]=n.selectMethod(l,m[k],o||m)}return p},selectMethod:function(j,l,g){var k=this;return function(c){var b=Ext.Array.slice(arguments,1);b.unshift(k.getNamesByExpression(c,j));return l.apply(g,b)}},setPath:Ext.Function.flexSetter(function(f,g){var j=this;j.paths[f]=g;j.names.push(f);j.prefixes=null;j.nameToPrefix={};return j})};Ext.ClassManager=(function(C,H,A,N,E){var Q=Ext.Class.makeCtor,L=[],K={Ext:{name:"Ext",value:Ext}},P=Ext.apply(new Ext.Inventory(),{classes:{},classState:{},existCache:{},instantiators:[],isCreated:function(b){if(P.classes[b]||P.existCache[b]){return true}if(!P.lookupName(b,false)){return false}P.triggerCreated(b);return true},createdListeners:[],nameCreatedListeners:{},existsListeners:[],nameExistsListeners:{},overrideMap:{},triggerCreated:function(c,b){P.existCache[c]=b||1;P.classState[c]+=40;P.notify(c,P.createdListeners,P.nameCreatedListeners)},onCreated:function(d,b,c){P.addListener(d,b,c,P.createdListeners,P.nameCreatedListeners)},notify:function(l,j,d){var c=P.getAlternatesByName(l),k=[l],o,m,b,n,f,g;for(o=0,m=j.length;o<m;o++){f=j[o];f.fn.call(f.scope,l)}while(k){for(o=0,m=k.length;o<m;o++){g=k[o];j=d[g];if(j){for(b=0,n=j.length;b<n;b++){f=j[b];f.fn.call(f.scope,g)}delete d[g]}}k=c;c=null}},addListener:function(d,f,g,k,b){if(Ext.isArray(g)){d=Ext.Function.createBarrier(g.length,d,f);for(j=0;j<g.length;j++){this.addListener(d,null,g[j],k,b)}return}var j,c={fn:d,scope:f};if(g){if(this.isCreated(g)){d.call(f,g);return}if(!b[g]){b[g]=[]}b[g].push(c)}else{k.push(c)}},$namespaceCache:K,addRootNamespaces:function(b){for(var c in b){K[c]={name:c,value:b[c]}}},clearNamespaceCache:function(){L.length=0;for(var b in K){if(!K[b].value){delete K[b]}}},getNamespaceEntry:function(b){if(typeof b!=="string"){return b}var d=K[b],c;if(!d){c=b.lastIndexOf(".");if(c<0){d={name:b}}else{d={name:b.substring(c+1),parent:P.getNamespaceEntry(b.substring(0,c))}}K[b]=d}return d},lookupName:function(g,d){var f=P.getNamespaceEntry(g),k=Ext.global,j=0,c,b;for(c=f;c;c=c.parent){L[j++]=c}while(k&&j-->0){c=L[j];b=k;k=c.value||k[c.name];if(!k&&d){b[c.name]=k={}}}return k},setNamespace:function(b,c){var f=P.getNamespaceEntry(b),d=Ext.global;if(f.parent){d=P.lookupName(f.parent,true)}d[f.name]=c;return c},setXType:function(l,c){var k=l.$className,d=k?l:P.get(k=l),j=d.prototype,g=j.xtypes,b=j.xtypesChain,f=j.xtypesMap;if(!j.hasOwnProperty("xtypes")){j.xtypes=g=[];j.xtypesChain=b=b?b.slice(0):[];j.xtypesMap=f=Ext.apply({},f)}P.addAlias(k,"widget."+c,true);g.push(c);b.push(c);f[c]=true},set:function(d,c){var b=P.getName(c);P.classes[d]=P.setNamespace(d,c);if(b&&b!==d){P.addAlternate(b,d)}return P},get:function(b){return P.classes[b]||P.lookupName(b,false)},addNameAliasMappings:function(b){P.addAlias(b)},addNameAlternateMappings:function(b){P.addAlternate(b)},getByAlias:function(b){return P.get(P.getNameByAlias(b))},getByConfig:function(b,f){var c=b.xclass,d;if(c){d=c}else{d=b.xtype;if(d){f="widget."}else{d=b.type}d=P.getNameByAlias(f+d)}return P.get(d)},getName:function(b){return b&&b.$className||""},getClass:function(b){return b&&b.self||null},create:function(b,c,f){var d=Q(b);if(typeof c==="function"){c=c(d)}c.$className=b;return new C(d,c,function(){var g=c.postprocessors||P.defaultPostprocessors,l=P.postprocessors,k=[],m,q,n,r,o,p,j;delete c.postprocessors;for(q=0,n=g.length;q<n;q++){m=g[q];if(typeof m==="string"){m=l[m];p=m.properties;if(p===true){k.push(m.fn)}else{if(p){for(r=0,o=p.length;r<o;r++){j=p[r];if(c.hasOwnProperty(j)){k.push(m.fn);break}}}}}else{k.push(m)}}c.postprocessors=k;c.createdFn=f;P.processCreate(b,this,c)})},processCreate:function(f,b,c){var d=this,j=c.postprocessors.shift(),g=c.createdFn;if(!j){if(f){d.set(f,b)}delete b._classHooks;if(g){g.call(b,b)}if(f){d.triggerCreated(f)}return}if(j.call(d,f,b,c,d.processCreate)!==false){d.processCreate(f,b,c)}},createOverride:function(n,p,c){var m=this,l=p.override,j=p.requires,b=p.uses,o=p.mixins,f,k=1,g,d=function(){var q,r,s,u,v;if(!g){r=j?j.slice(0):[];if(o){if(!(f=o instanceof Array)){for(u in o){if(Ext.isString(q=o[u])){r.push(q)}}}else{for(s=0,v=o.length;s<v;++s){if(Ext.isString(q=o[s])){r.push(q)}}}}g=true;if(r.length){Ext.require(r,d);return}}if(f){for(s=0,v=o.length;s<v;++s){if(Ext.isString(q=o[s])){o[s]=Ext.ClassManager.get(q)}}}else{if(o){for(u in o){if(Ext.isString(q=o[u])){o[u]=Ext.ClassManager.get(q)}}}}q=l.$isClass?l:m.get(l);delete p.override;delete p.compatibility;delete p.requires;delete p.uses;Ext.override(q,p);Ext.Loader.history.push(n);if(b){Ext.Loader.addUsedClasses(b)}if(c){c.call(q,q)}};if(n){P.overrideMap[n]=true}if("compatibility" in p){k=p.compatibility;if(!k){k=false}else{if(typeof k==="number"){k=true}else{if(typeof k!=="boolean"){k=Ext.checkVersion(k)}}}}if(k){if(l.$isClass){d()}else{m.onCreated(d,m,l)}}m.triggerCreated(n,2);return m},instantiateByAlias:function(){var b=arguments[0],d=A.call(arguments),c=this.getNameByAlias(b);d[0]=c;return Ext.create.apply(Ext,d)},instantiate:function(){return Ext.create.apply(Ext,arguments)},dynInstantiate:function(b,c){c=N(c,true);c.unshift(b);return Ext.create.apply(Ext,c)},getInstantiator:function(d){var g=this.instantiators,c,b,f;c=g[d];if(!c){b=d;f=[];for(b=0;b<d;b++){f.push("a["+b+"]")}c=g[d]=new Function("c","a","return new c("+f.join(",")+")")}return c},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(b,c,g,f,d){if(!f){f="last"}if(!g){g=[b]}this.postprocessors[b]={name:b,properties:g||false,fn:c};this.setDefaultPostprocessorPosition(b,f,d);return this},setDefaultPostprocessors:function(b){this.defaultPostprocessors=N(b);return this},setDefaultPostprocessorPosition:function(b,c,d){var g=this.defaultPostprocessors,f;if(typeof c==="string"){if(c==="first"){g.unshift(b);return this}else{if(c==="last"){g.push(b);return this}}c=(c==="after")?1:-1}f=Ext.Array.indexOf(g,d);if(f!==-1){Ext.Array.splice(g,Math.max(0,f+c),0,b)}return this}});P.registerPostprocessor("alias",function(j,b,c){var g=Ext.Array.from(c.alias),f,d;for(f=0,d=g.length;f<d;f++){H=g[f];this.addAlias(b,H)}},["xtype","alias"]);P.registerPostprocessor("singleton",function(b,f,c,d){if(c.singleton){d.call(this,b,new f(),c)}else{return true}return false});P.registerPostprocessor("alternateClassName",function(b,k,d){var g=d.alternateClassName,j,f,c;if(!(g instanceof Array)){g=[g]}for(j=0,f=g.length;j<f;j++){c=g[j];this.set(c,k)}});P.registerPostprocessor("debugHooks",function(b,f,d){var c=f.isInstance?f.self:f;delete c.prototype.debugHooks});P.registerPostprocessor("deprecated",function(b,f,d){var c=f.isInstance?f.self:f;c.addDeprecations(d.deprecated);delete c.prototype.deprecated});Ext.apply(Ext,{create:function(){var f=arguments[0],c=typeof f,b=A.call(arguments,1),d;if(c==="function"){d=f}else{if(c!=="string"&&b.length===0){b=[f];if(!(f=f.xclass)){f=b[0].xtype;if(f){f="widget."+f}}}f=P.resolveName(f);d=P.get(f)}if(!d){Ext.syncRequire(f);d=P.get(f)}return P.getInstantiator(b.length)(d,b)},widget:function(j,b){var c=j,f,d,g;if(typeof c!=="string"){b=j;c=b.xtype;d=b.xclass}else{b=b||{}}if(b.isComponent){return b}if(!d){f="widget."+c;d=P.getNameByAlias(f)}if(d){g=P.get(d)}if(!g){return Ext.create(d||f,b)}return new g(b)},createByAlias:H(P,"instantiateByAlias"),define:function(b,d,c){if(d.override){P.classState[b]=20;return P.createOverride.apply(P,arguments)}P.classState[b]=10;return P.create.apply(P,arguments)},undefine:function(g){var f=P.classes;delete f[g];delete P.existCache[g];delete P.classState[g];P.removeName(g);var d=P.getNamespaceEntry(g),b=d.parent?P.lookupName(d.parent,false):Ext.global;if(b){try{delete b[d.name]}catch(c){b[d.name]=undefined}}},getClassName:H(P,"getName"),getDisplayName:function(b){if(b){if(b.displayName){return b.displayName}if(b.$name&&b.$class){return Ext.getClassName(b.$class)+"#"+b.$name}if(b.$className){return b.$className}}return"Anonymous"},getClass:H(P,"getClass"),namespace:function(){var c=E,b;for(b=arguments.length;b-->0;){c=P.lookupName(arguments[b],true)}return c}});Ext.addRootNamespaces=P.addRootNamespaces;Ext.createWidget=Ext.widget;Ext.ns=Ext.namespace;C.registerPreprocessor("className",function(c,b){if("$className" in b){c.$className=b.$className}},true,"first");C.registerPreprocessor("alias",function(k,q){var m=k.prototype,d=N(q.xtype),j=N(q.alias),g="widget.",l=g.length,p=Array.prototype.slice.call(m.xtypesChain||[]),c=Ext.merge({},m.xtypesMap||{}),b,n,o,f;for(b=0,n=j.length;b<n;b++){o=j[b];if(o.substring(0,l)===g){f=o.substring(l);Ext.Array.include(d,f)}}k.xtype=q.xtype=d[0];q.xtypes=d;for(b=0,n=d.length;b<n;b++){f=d[b];if(!c[f]){c[f]=true;p.push(f)}}q.xtypesChain=p;q.xtypesMap=c;Ext.Function.interceptAfterOnce(k,"onClassCreated",function(){var v=this,s=v.prototype,w=s.mixins,r,u;for(r in w){if(w.hasOwnProperty(r)){u=w[r];d=u.xtypes;if(d){for(b=0,n=d.length;b<n;b++){f=d[b];if(!c[f]){c[f]=true;p.push(f)}}}}}});for(b=0,n=d.length;b<n;b++){f=d[b];Ext.Array.include(j,g+f)}q.alias=j},["xtype","alias"]);if(Ext.manifest){var M=Ext.manifest,B=M.classes,F=M.paths,D={},J={},O,I,y,G,R;if(F){if(M.bootRelative){R=Ext.Boot.baseUrl;for(G in F){if(F.hasOwnProperty(G)){F[G]=R+F[G]}}}P.setPath(F)}if(B){for(O in B){J[O]=[];D[O]=[];I=B[O];if(I.alias){D[O]=I.alias}if(I.alternates){J[O]=I.alternates}}}P.addAlias(D);P.addAlternate(J)}return P}(Ext.Class,Ext.Function.alias,Array.prototype.slice,Ext.Array.from,Ext.global));(Ext.env||(Ext.env={})).Browser=function(C,I){var B=this,V=Ext.Boot.browserPrefixes,T=Ext.Boot.browserNames,U=B.enginePrefixes,N=B.engineNames,F=C.match(new RegExp("((?:"+Ext.Object.getValues(V).join(")|(?:")+"))([\\w\\._]+)")),P=C.match(new RegExp("((?:"+Ext.Object.getValues(U).join(")|(?:")+"))([\\w\\._]+)")),G=T.other,D=N.other,L="",Q="",S="",O=false,H,K,M,J,E;B.userAgent=C;this.is=function(b){return !!this.is[b]};if(/Edge\//.test(C)){F=C.match(/(Edge\/)([\w.]+)/)}if(F){G=T[Ext.Object.getKey(V,F[1])];if(G==="Safari"&&/^Opera/.test(C)){G="Opera"}L=new Ext.Version(F[2])}if(P){D=N[Ext.Object.getKey(U,P[1])];Q=new Ext.Version(P[2])}if(D==="Trident"&&G!=="IE"){G="IE";var R=C.match(/.*rv:(\d+.\d+)/);if(R&&R.length){R=R[1];L=new Ext.Version(R)}}if(G&&L){Ext.setVersion(G,L)}if(C.match(/FB/)&&G==="Other"){G=T.safari;D=N.webkit}if(C.match(/Android.*Chrome/g)){G="ChromeMobile"}if(C.match(/OPR/)){G="Opera";F=C.match(/OPR\/(\d+.\d+)/);L=new Ext.Version(F[1])}Ext.apply(this,{engineName:D,engineVersion:Q,name:G,version:L});this.setFlag(G,true,I);if(L){S=L.getMajor()||"";if(B.is.IE){S=parseInt(S,10);M=document.documentMode;if(M===7||(S===7&&M!==8&&M!==9&&M!==10)){S=7}else{if(M===8||(S===8&&M!==8&&M!==9&&M!==10)){S=8}else{if(M===9||(S===9&&M!==7&&M!==8&&M!==10)){S=9}else{if(M===10||(S===10&&M!==7&&M!==8&&M!==9)){S=10}else{if(M===11||(S===11&&M!==7&&M!==8&&M!==9&&M!==10)){S=11}}}}}E=Math.max(S,Ext.Boot.maxIEVersion);for(H=7;H<=E;++H){K="isIE"+H;if(S<=H){Ext[K+"m"]=true}if(S===H){Ext[K]=true}if(S>=H){Ext[K+"p"]=true}}}if(B.is.Opera&&parseInt(S,10)<=12){Ext.isOpera12m=true}Ext.chromeVersion=Ext.isChrome?S:0;Ext.firefoxVersion=Ext.isFirefox?S:0;Ext.ieVersion=Ext.isIE?S:0;Ext.operaVersion=Ext.isOpera?S:0;Ext.safariVersion=Ext.isSafari?S:0;Ext.webKitVersion=Ext.isWebKit?S:0;this.setFlag(G+S,true,I);this.setFlag(G+L.getShortVersion())}for(H in T){if(T.hasOwnProperty(H)){J=T[H];this.setFlag(J,G===J)}}this.setFlag(J);if(Q){this.setFlag(D+(Q.getMajor()||""));this.setFlag(D+Q.getShortVersion())}for(H in N){if(N.hasOwnProperty(H)){J=N[H];this.setFlag(J,D===J,I)}}this.setFlag("Standalone",!!navigator.standalone);this.setFlag("Ripple",!!document.getElementById("tinyhippos-injected")&&!Ext.isEmpty(window.top.ripple));this.setFlag("WebWorks",!!window.blackberry);if(window.PhoneGap!==undefined||window.Cordova!==undefined||window.cordova!==undefined){O=true;this.setFlag("PhoneGap");this.setFlag("Cordova")}if(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)(?!.*FBAN)/i.test(C)){O=true}this.setFlag("WebView",O);this.isStrict=Ext.isStrict=document.compatMode==="CSS1Compat";this.isSecure=Ext.isSecure;this.identity=G+S+(this.isStrict?"Strict":"Quirks")};Ext.env.Browser.prototype={constructor:Ext.env.Browser,engineNames:{webkit:"WebKit",gecko:"Gecko",presto:"Presto",trident:"Trident",other:"Other"},enginePrefixes:{webkit:"AppleWebKit/",gecko:"Gecko/",presto:"Presto/",trident:"Trident/"},styleDashPrefixes:{WebKit:"-webkit-",Gecko:"-moz-",Trident:"-ms-",Presto:"-o-",Other:""},stylePrefixes:{WebKit:"Webkit",Gecko:"Moz",Trident:"ms",Presto:"O",Other:""},propertyPrefixes:{WebKit:"webkit",Gecko:"moz",Trident:"ms",Presto:"o",Other:""},name:null,version:null,engineName:null,engineVersion:null,setFlag:function(f,g,j){if(g===undefined){g=true}this.is[f]=g;this.is[f.toLowerCase()]=g;if(j){Ext["is"+f]=g}return this},getStyleDashPrefix:function(){return this.styleDashPrefixes[this.engineName]},getStylePrefix:function(){return this.stylePrefixes[this.engineName]},getVendorProperyName:function(d){var f=this.propertyPrefixes[this.engineName];if(f.length>0){return f+Ext.String.capitalize(d)}return d},getPreferredTranslationMethod:function(c){if(typeof c==="object"&&"translationMethod" in c&&c.translationMethod!=="auto"){return c.translationMethod}else{return"csstransform"}}};(function(c){Ext.browser=new Ext.env.Browser(c,true);Ext.userAgent=c.toLowerCase();Ext.SSL_SECURE_URL=Ext.isSecure&&Ext.isIE?"javascript:''":"about:blank"}(Ext.global.navigator.userAgent));Ext.env.OS=function(s,G,w){var x=this,y=Ext.Boot.osNames,E=Ext.Boot.osPrefixes,H,A="",C=x.is,F,B,D,u,v;w=w||Ext.browser;for(F in E){if(E.hasOwnProperty(F)){B=E[F];D=s.match(new RegExp("(?:"+B+")([^\\s;]+)"));if(D){H=y[F];v=D[1];if(v&&v==="HTC_"){A=new Ext.Version("2.3")}else{if(v&&v==="Silk/"){A=new Ext.Version("2.3")}else{A=new Ext.Version(D[D.length-1])}}break}}}if(!H){H=y[(s.toLowerCase().match(/mac|win|linux/)||["other"])[0]];A=new Ext.Version("")}this.name=H;this.version=A;if(s.match(/ipad/i)){G="iPad"}if(G){this.setFlag(G.replace(/ simulator$/i,""))}this.setFlag(H);if(A){this.setFlag(H+(A.getMajor()||""));this.setFlag(H+A.getShortVersion())}for(F in y){if(y.hasOwnProperty(F)){u=y[F];if(!C.hasOwnProperty(H)){this.setFlag(u,(H===u))}}}if(this.name==="iOS"&&window.screen.height===568){this.setFlag("iPhone5")}if(w.is.Safari||w.is.Silk){if(this.is.Android2||this.is.Android3||w.version.shortVersion===501){w.setFlag("AndroidStock")}if(this.is.Android4){w.setFlag("AndroidStock");w.setFlag("AndroidStock4")}}};Ext.env.OS.prototype={constructor:Ext.env.OS,is:function(c){return !!this[c]},name:null,version:null,setFlag:function(d,f){if(f===undefined){f=true}if(this.flags){this.flags[d]=f}this.is[d]=f;this.is[d.toLowerCase()]=f;return this}};(function(){var w=Ext.global.navigator,p=w.userAgent,q=Ext.env.OS,r=(Ext.is||(Ext.is={})),o,s,v;q.prototype.flags=r;Ext.os=o=new q(p,w.platform);s=o.name;Ext["is"+s]=true;Ext.isMac=r.Mac=r.MacOS;var n=window.location.search.match(/deviceType=(Tablet|Phone)/),u=window.deviceType;if(n&&n[1]){v=n[1]}else{if(u==="iPhone"){v="Phone"}else{if(u==="iPad"){v="Tablet"}else{if(!o.is.Android&&!o.is.iOS&&!o.is.WindowsPhone&&/Windows|Linux|MacOS/.test(s)){v="Desktop";Ext.browser.is.WebView=!!Ext.browser.is.Ripple}else{if(o.is.iPad||o.is.RIMTablet||o.is.Android3||Ext.browser.is.Silk||(o.is.Android&&p.search(/mobile/i)===-1)){v="Tablet"}else{v="Phone"}}}}}o.setFlag(v,true);o.deviceType=v;delete q.prototype.flags}());Ext.feature={has:function(c){return !!this.has[c]},testElements:{},getTestElement:function(d,f){if(d===undefined){d="div"}else{if(typeof d!=="string"){return d}}if(f){return document.createElement(d)}if(!this.testElements[d]){this.testElements[d]=document.createElement(d)}return this.testElements[d]},isStyleSupported:function(k,l){var j=this.getTestElement(l).style,g=Ext.String.capitalize(k);if(typeof j[k]!=="undefined"||typeof j[Ext.browser.getStylePrefix(k)+g]!=="undefined"){return true}return false},isStyleSupportedWithoutPrefix:function(j,f){var g=this.getTestElement(f).style;if(typeof g[j]!=="undefined"){return true}return false},isEventSupported:function(m,j){if(j===undefined){j=window}var k=this.getTestElement(j),n="on"+m.toLowerCase(),l=(n in k);if(!l){if(k.setAttribute&&k.removeAttribute){k.setAttribute(n,"");l=typeof k[n]==="function";if(typeof k[n]!=="undefined"){k[n]=undefined}k.removeAttribute(n)}}return l},getStyle:function(k,l){var g=k.ownerDocument.defaultView,j=(g?g.getComputedStyle(k,null):k.currentStyle);return(j||k.style)[l]},getSupportedPropertyName:function(j,f){var g=Ext.browser.getVendorProperyName(f);if(g in j){return g}else{if(f in j){return f}}return null},detect:function(x){var w=this,u=document,B=w.toRun||w.tests,C=B.length,F=u.createElement("div"),E=[],H=Ext.supports,n=w.has,G,y,A,D,v;F.innerHTML='<div style="height:30px;width:50px;"><div style="height:20px;width:20px;"></div></div><div style="width: 200px; height: 200px; position: relative; padding: 5px;"><div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div></div><div style="position: absolute; left: 10%; top: 10%;"></div><div style="float:left; background-color:transparent;"></div>';if(x){u.body.appendChild(F)}D=w.preDetected[Ext.browser.identity]||[];while(C--){A=B[C];v=D[C];G=A.name;y=A.names;if(v===undefined){if(!x&&A.ready){E.push(A);continue}v=A.fn.call(w,u,F)}if(G){H[G]=n[G]=v}else{if(y){while(y.length){G=y.pop();H[G]=n[G]=v}}}}if(x){u.body.removeChild(F)}w.toRun=E},report:function(){var j=[],f=this.tests.length,g;for(g=0;g<f;++g){j.push(this.has[this.tests[g].name]?1:0)}Ext.log(Ext.browser.identity+": ["+j.join(",")+"]")},preDetected:{},tests:[{name:"CloneNodeCopiesExpando",fn:function(){var c=document.createElement("div");c.expandoProp={};return c.cloneNode().expandoProp===c.expandoProp}},{name:"CSSPointerEvents",fn:function(c){return"pointerEvents" in c.documentElement.style}},{name:"CSS3BoxShadow",fn:function(c){return"boxShadow" in c.documentElement.style||"WebkitBoxShadow" in c.documentElement.style||"MozBoxShadow" in c.documentElement.style}},{name:"CSS3NegationSelector",fn:function(f){try{f.querySelectorAll("foo:not(bar)")}catch(d){return false}return true}},{name:"ClassList",fn:function(c){return !!c.documentElement.classList}},{name:"Canvas",fn:function(){var c=this.getTestElement("canvas");return !!(c&&c.getContext&&c.getContext("2d"))}},{name:"Svg",fn:function(c){return !!(c.createElementNS&&!!c.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)}},{name:"Vml",fn:function(){var f=this.getTestElement(),d=false;f.innerHTML="<!--[if vml]><br><![endif]-->";d=(f.childNodes.length===1);f.innerHTML="";return d}},{name:"Touch",fn:function(){var c=navigator.msMaxTouchPoints||navigator.maxTouchPoints;if(Ext.browser.is.Chrome&&Ext.browser.version.isLessThanOrEqual(39)){return(Ext.supports.TouchEvents&&c!==1)||c>1}else{return Ext.supports.TouchEvents||c>0}}},{name:"TouchEvents",fn:function(){return this.isEventSupported("touchend")}},{name:"PointerEvents",fn:function(){return navigator.pointerEnabled}},{name:"MSPointerEvents",fn:function(){return navigator.msPointerEnabled}},{name:"Orientation",fn:function(){return("orientation" in window)&&this.isEventSupported("orientationchange")}},{name:"OrientationChange",fn:function(){return this.isEventSupported("orientationchange")}},{name:"DeviceMotion",fn:function(){return this.isEventSupported("devicemotion")}},{names:["Geolocation","GeoLocation"],fn:function(){return"geolocation" in window.navigator}},{name:"SqlDatabase",fn:function(){return"openDatabase" in window}},{name:"WebSockets",fn:function(){return"WebSocket" in window}},{name:"Range",fn:function(){return !!document.createRange}},{name:"CreateContextualFragment",fn:function(){var c=!!document.createRange?document.createRange():false;return c&&!!c.createContextualFragment}},{name:"History",fn:function(){return("history" in window&&"pushState" in window.history)}},{name:"Css3dTransforms",fn:function(){return this.has("CssTransforms")&&this.isStyleSupported("perspective")}},{name:"CssTransforms",fn:function(){return this.isStyleSupported("transform")}},{name:"CssTransformNoPrefix",fn:function(){return this.isStyleSupportedWithoutPrefix("transform")}},{name:"CssAnimations",fn:function(){return this.isStyleSupported("animationName")}},{names:["CssTransitions","Transitions"],fn:function(){return this.isStyleSupported("transitionProperty")}},{names:["Audio","AudioTag"],fn:function(){return !!this.getTestElement("audio").canPlayType}},{name:"Video",fn:function(){return !!this.getTestElement("video").canPlayType}},{name:"LocalStorage",fn:function(){try{if("localStorage" in window&&window.localStorage!==null){localStorage.setItem("sencha-localstorage-test","test success");localStorage.removeItem("sencha-localstorage-test");return true}}catch(c){}return false}},{name:"XHR2",fn:function(){return window.ProgressEvent&&window.FormData&&window.XMLHttpRequest&&("withCredentials" in new XMLHttpRequest())}},{name:"XHRUploadProgress",fn:function(){if(window.XMLHttpRequest&&!Ext.browser.is.AndroidStock){var c=new XMLHttpRequest();return c&&("upload" in c)&&("onprogress" in c.upload)}return false}},{name:"NumericInputPlaceHolder",fn:function(){return !(Ext.browser.is.AndroidStock4&&Ext.os.version.getMinor()<2)}},{name:"matchesSelector",fn:function(){var n=document.documentElement,k="matches",l="webkitMatchesSelector",j="msMatchesSelector",m="mozMatchesSelector";return n[k]?k:n[l]?l:n[j]?j:n[m]?m:null}},{name:"RightMargin",ready:true,fn:function(j,g){var f=j.defaultView;return !(f&&f.getComputedStyle(g.firstChild.firstChild,null).marginRight!=="0px")}},{name:"DisplayChangeInputSelectionBug",fn:function(){var c=Ext.webKitVersion;return 0<c&&c<533}},{name:"DisplayChangeTextAreaSelectionBug",fn:function(){var c=Ext.webKitVersion;return 0<c&&c<534.24}},{name:"TransparentColor",ready:true,fn:function(j,g,f){f=j.defaultView;return !(f&&f.getComputedStyle(g.lastChild,null).backgroundColor!=="transparent")}},{name:"ComputedStyle",ready:true,fn:function(j,g,f){f=j.defaultView;return f&&f.getComputedStyle}},{name:"Float",fn:function(c){return"cssFloat" in c.documentElement.style}},{name:"CSS3BorderRadius",ready:true,fn:function(j){var l=["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"],k=false,g;for(g=0;g<l.length;g++){if(j.documentElement.style[l[g]]!==undefined){k=true}}return k&&!Ext.isIE9}},{name:"CSS3LinearGradient",fn:function(q,w){var o="background-image:",p="-webkit-gradient(linear, left top, right bottom, from(black), to(white))",r="linear-gradient(left top, black, white)",s="-moz-"+r,v="-ms-"+r,u="-o-"+r,n=[o+p,o+r,o+s,o+v,o+u];w.style.cssText=n.join(";");return((""+w.style.backgroundImage).indexOf("gradient")!==-1)&&!Ext.isIE9}},{name:"MouseEnterLeave",fn:function(c){return("onmouseenter" in c.documentElement&&"onmouseleave" in c.documentElement)}},{name:"MouseWheel",fn:function(c){return("onmousewheel" in c.documentElement)}},{name:"Opacity",fn:function(d,f){if(Ext.isIE8){return false}f.firstChild.style.cssText="opacity:0.73";return f.firstChild.style.opacity=="0.73"}},{name:"Placeholder",fn:function(c){return"placeholder" in c.createElement("input")}},{name:"Direct2DBug",fn:function(c){return Ext.isString(c.documentElement.style.msTransformOrigin)&&Ext.isIE9m}},{name:"BoundingClientRect",fn:function(c){return"getBoundingClientRect" in c.documentElement}},{name:"RotatedBoundingClientRect",ready:true,fn:function(k){var j=k.body,n=false,l=k.createElement("div"),m=l.style;if(l.getBoundingClientRect){m.position="absolute";m.top="0";m.WebkitTransform=m.MozTransform=m.msTransform=m.OTransform=m.transform="rotate(90deg)";m.width="100px";m.height="30px";j.appendChild(l);n=l.getBoundingClientRect().height!==100;j.removeChild(l)}return n}},{name:"ChildContentClearedWhenSettingInnerHTML",ready:true,fn:function(){var d=this.getTestElement(),f;d.innerHTML="<div>a</div>";f=d.firstChild;d.innerHTML="<div>b</div>";return f.innerHTML!=="a"}},{name:"IncludePaddingInWidthCalculation",ready:true,fn:function(d,f){return f.childNodes[1].firstChild.offsetWidth===210}},{name:"IncludePaddingInHeightCalculation",ready:true,fn:function(d,f){return f.childNodes[1].firstChild.offsetHeight===210}},{name:"TextAreaMaxLength",fn:function(c){return("maxlength" in c.createElement("textarea"))}},{name:"GetPositionPercentage",ready:true,fn:function(d,f){return Ext.feature.getStyle(f.childNodes[2],"left")==="10%"}},{name:"PercentageHeightOverflowBug",ready:true,fn:function(j){var g=false,k,l;if(Ext.getScrollbarSize().height){l=this.getTestElement();k=l.style;k.height="50px";k.width="50px";k.overflow="auto";k.position="absolute";l.innerHTML=['<div style="display:table;height:100%;">','<div style="width:51px;"></div>',"</div>"].join("");j.body.appendChild(l);if(l.firstChild.offsetHeight===50){g=true}j.body.removeChild(l)}return g}},{name:"xOriginBug",ready:true,fn:function(l,k){k.innerHTML='<div id="b1" style="height:100px;width:100px;direction:rtl;position:relative;overflow:scroll"><div id="b2" style="position:relative;width:100%;height:20px;"></div><div id="b3" style="position:absolute;width:20px;height:20px;top:0px;right:0px"></div></div>';var m=document.getElementById("b1").getBoundingClientRect(),n=document.getElementById("b2").getBoundingClientRect(),j=document.getElementById("b3").getBoundingClientRect();return(n.left!==m.left&&j.right!==m.right)}},{name:"ScrollWidthInlinePaddingBug",ready:true,fn:function(j){var g=false,k,l;l=j.createElement("div");k=l.style;k.height="50px";k.width="50px";k.padding="10px";k.overflow="hidden";k.position="absolute";l.innerHTML='<span style="display:inline-block;zoom:1;height:60px;width:60px;"></span>';j.body.appendChild(l);if(l.scrollWidth===70){g=true}j.body.removeChild(l);return g}},{name:"rtlVertScrollbarOnRight",ready:true,fn:function(k,j){j.innerHTML='<div style="height:100px;width:100px;direction:rtl;overflow:scroll"><div style="width:20px;height:200px;"></div></div>';var l=j.firstChild,g=l.firstChild;return(g.offsetLeft+g.offsetWidth!==l.offsetLeft+l.offsetWidth)}},{name:"rtlVertScrollbarOverflowBug",ready:true,fn:function(j,g){g.innerHTML='<div style="height:100px;width:100px;direction:rtl;overflow:auto"><div style="width:95px;height:200px;"></div></div>';var f=g.firstChild;return f.clientHeight===f.offsetHeight}},{identity:"defineProperty",fn:function(){if(Ext.isIE8m){Ext.Object.defineProperty=Ext.emptyFn;return false}return true}},{identify:"nativeXhr",fn:function(){if(typeof XMLHttpRequest!=="undefined"){return true}XMLHttpRequest=function(){try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(c){return null}};return false}},{name:"SpecialKeyDownRepeat",fn:function(){return Ext.isWebKit?parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10)>=525:!(!(Ext.isGecko||Ext.isIE)||(Ext.isOpera&&Ext.operaVersion<12))}},{name:"EmulatedMouseOver",fn:function(){return Ext.os.is.iOS}},{name:"Hashchange",fn:function(){var c=document.documentMode;return"onhashchange" in window&&(c===undefined||c>7)}},{name:"FixedTableWidthBug",ready:true,fn:function(){if(Ext.isIE8){return false}var j=document.createElement("div"),f=document.createElement("div"),g;j.setAttribute("style","display:table;table-layout:fixed;");f.setAttribute("style","display:table-cell;min-width:50px;");j.appendChild(f);document.body.appendChild(j);j.offsetWidth;j.style.width="25px";g=j.offsetWidth;document.body.removeChild(j);return g===50}},{name:"FocusinFocusoutEvents",fn:function(){return !Ext.isGecko}},{name:"AsyncFocusEvents",fn:function(){return Ext.asyncFocus=!!Ext.isIE}},{name:"accessibility",ready:true,fn:function(o){var m=o.body,n,r,q,u,s;function p(c){var b=[],g=0,d,j;if(c.indexOf("rgb(")!==-1){b=c.replace("rgb(","").replace(")","").split(", ")}else{if(c.indexOf("#")!==-1){d=c.length===7?/^#(\S\S)(\S\S)(\S\S)$/:/^#(\S)(\S)(\S)$/;j=c.match(d);if(j){b=["0x"+j[1],"0x"+j[2],"0x"+j[3]]}}}for(var f=0;f<b.length;f++){g+=parseInt(b[f])}return g}n=o.createElement("div");r=o.createElement("img");q=n.style;Ext.apply(q,{width:"2px",position:"absolute",clip:"rect(1px,1px,1px,1px)",borderWidth:"1px",borderStyle:"solid",borderTopTolor:"#f00",borderRightColor:"#ff0",backgroundColor:"#fff",backgroundImage:"url("+Ext.BLANK_IMAGE_URL+")"});r.alt="";r.src=Ext.BLANK_IMAGE_URL;n.appendChild(r);m.appendChild(n);q=n.currentStyle||n.style;s=q.backgroundImage;u={Images:r.offsetWidth===1&&r.readyState!=="uninitialized",BackgroundImages:!(s!==null&&(s==="none"||s==="url(invalid-url:)")),BorderColors:q.borderTopColor!==q.borderRightColor,LightOnDark:p(q.color)-p(q.backgroundColor)>0};Ext.supports.HighContrastMode=!u.BackgroundImages;m.removeChild(n);n=r=null;return u}},{name:"ViewportUnits",ready:true,fn:function(m){if(Ext.isIE8){return false}var k=m.body,l=document.createElement("div"),n=l.currentStyle||l.style,o,p;k.appendChild(l);Ext.apply(n,{width:"50vw"});o=parseInt(window.innerWidth/2,10);p=parseInt((window.getComputedStyle?getComputedStyle(l,null):l.currentStyle).width,10);k.removeChild(l);l=null;return o===p}},{name:"CSSVariables",ready:false,fn:function(f){if(!window.getComputedStyle){return false}var d=window.getComputedStyle(f.documentElement);return d.getPropertyValue&&!!d.getPropertyValue("--x-supports-variables")}},{name:"Selectors2",ready:false,fn:function(f){try{return !!f.querySelectorAll(":scope")}catch(d){return false}}},{name:"CSSScrollSnap",ready:false,fn:function(f){var d=f.documentElement.style;return"scrollSnapType" in d||"webkitScrollSnapType" in d||"msScrollSnapType" in d}},0]};Ext.feature.tests.pop();Ext.supports={};Ext.feature.detect();Ext.env.Ready={blocks:(location.search||"").indexOf("ext-pauseReadyFire")>0?1:0,bound:0,delay:1,firing:false,generation:0,listeners:[],nextId:0,sortGeneration:0,state:0,timer:null,bind:function(){var d=Ext.env.Ready,f=document;if(!d.bound){if(f.readyState==="complete"){d.onReadyEvent({type:f.readyState||"body"})}else{d.bound=1;if(Ext.browser.is.PhoneGap&&!Ext.os.is.Desktop){d.bound=2;f.addEventListener("deviceready",d.onReadyEvent,false)}f.addEventListener("DOMContentLoaded",d.onReadyEvent,false);window.addEventListener("load",d.onReadyEvent,false)}}},block:function(){++this.blocks;Ext.isReady=false},fireReady:function(){var c=Ext.env.Ready;if(!c.state){Ext._readyTime=Ext.ticks();Ext.isDomReady=true;c.state=1;Ext.feature.detect(true);if(!c.delay){c.handleReady()}else{if(navigator.standalone){c.timer=Ext.defer(function(){c.timer=null;c.handleReadySoon()},1)}else{c.handleReadySoon()}}}},handleReady:function(){var c=this;if(c.state===1){c.state=2;Ext._beforeReadyTime=Ext.ticks();c.invokeAll();Ext._afterReadyTime=Ext.ticks()}},handleReadySoon:function(d){var f=this;if(!f.timer){f.timer=Ext.defer(function(){f.timer=null;f.handleReady()},d||f.delay)}},invoke:function(f){var d=f.delay;if(d){Ext.defer(f.fn,d,f.scope)}else{if(Ext.elevateFunction){Ext.elevateFunction(f.fn,f.scope)}else{f.fn.call(f.scope)}}},invokeAll:function(){if(Ext.elevateFunction){Ext.elevateFunction(this.doInvokeAll,this)}else{this.doInvokeAll()}},doInvokeAll:function(){var j=this,f=j.listeners,g;if(!j.blocks){Ext.isReady=true}j.firing=true;while(f.length){if(j.sortGeneration!==j.generation){j.sortGeneration=j.generation;f.sort(j.sortFn)}g=f.pop();if(j.blocks&&!g.dom){f.push(g);break}j.invoke(g)}j.firing=false},makeListener:function(j,k,l){var g={fn:j,id:++this.nextId,scope:k,dom:false,priority:0};if(l){Ext.apply(g,l)}g.phase=g.dom?0:1;return g},on:function(m,n,j){var l=Ext.env.Ready,k=l.makeListener(m,n,j);if(l.state===2&&!l.firing&&(k.dom||!l.blocks)){l.invoke(k)}else{l.listeners.push(k);++l.generation;if(!l.bound){l.bind()}}},onReadyEvent:function(f){var d=Ext.env.Ready;if(Ext.elevateFunction){Ext.elevateFunction(d.doReadyEvent,d,arguments)}else{d.doReadyEvent(f)}},doReadyEvent:function(f){var d=this;if(d.bound>0){d.unbind();d.bound=-1}if(!d.state){d.fireReady()}},sortFn:function(b,f){return -((b.phase-f.phase)||(f.priority-b.priority)||(b.id-f.id))},unblock:function(){var c=this;if(c.blocks){if(!--c.blocks){if(c.state===2&&!c.firing){c.invokeAll()}}}},unbind:function(){var d=this,f=document;if(d.bound>1){f.removeEventListener("deviceready",d.onReadyEvent,false)}f.removeEventListener("DOMContentLoaded",d.onReadyEvent,false);window.removeEventListener("load",d.onReadyEvent,false)}};(function(){var c=Ext.env.Ready;if(Ext.isIE9m){Ext.apply(c,{scrollTimer:null,readyStatesRe:/complete/i,pollScroll:function(){var f=true;try{document.documentElement.doScroll("left")}catch(b){f=false}if(f&&document.body){c.onReadyEvent({type:"doScroll"})}else{c.scrollTimer=Ext.defer(c.pollScroll,20)}return f},bind:function(){if(c.bound){return}var b=document,j;try{j=window.frameElement===undefined}catch(g){}if(!j||!b.documentElement.doScroll){c.pollScroll=Ext.emptyFn}else{if(c.pollScroll()){return}}if(b.readyState==="complete"){c.onReadyEvent({type:"already "+(b.readyState||"body")})}else{b.attachEvent("onreadystatechange",c.onReadyStateChange);window.attachEvent("onload",c.onReadyEvent);c.bound=1}},unbind:function(){document.detachEvent("onreadystatechange",c.onReadyStateChange);window.detachEvent("onload",c.onReadyEvent);if(Ext.isNumber(c.scrollTimer)){clearTimeout(c.scrollTimer);c.scrollTimer=null}},onReadyStateChange:function(){var b=document.readyState;if(c.readyStatesRe.test(b)){c.onReadyEvent({type:b})}}})}Ext.onDocumentReady=function(b,j,l){var k={dom:true};if(l){Ext.apply(k,l)}c.on(b,j,k)};Ext.onReady=function(b,g,j){c.on(b,g,j)};Ext.onInternalReady=function(b,g,j){c.on(b,g,Ext.apply({priority:1000},j))};c.bind()}());Ext.Loader=(new function(){var F=this,H=Ext.ClassManager,B=Ext.Boot,E=Ext.Class,y=Ext.env.Ready,A=Ext.Function.alias,C=["extend","mixins","requires"],v={},x=[],G=[],D=[],u={},w={enabled:true,scriptChainDelay:false,disableCaching:true,disableCachingParam:"_dc",paths:H.paths,preserveScripts:true,scriptCharset:undefined},s={disableCaching:true,disableCachingParam:true,preserveScripts:true,scriptChainDelay:"loadDelay"};Ext.apply(F,{isInHistory:v,isLoading:false,history:x,config:w,readyListeners:G,optionalRequires:D,requiresMap:u,hasFileLoadError:false,scriptsLoading:0,classesLoading:{},missingCount:0,missingQueue:{},syncModeEnabled:false,init:function(){var f=document.getElementsByTagName("script"),r=f[f.length-1].src,l=r.substring(0,r.lastIndexOf("/")+1),p=Ext._classPathMetadata,o=Ext.Microloader,m=Ext.manifest,k,g,c,q,d,b,j,n;if(!H.getPath("Ext")){H.setPath("Ext",l+"src")}if(p){Ext._classPathMetadata=null;F.addClassPathMappings(p)}if(m){k=m.loadOrder;d=Ext.Boot.baseUrl;if(k&&m.bootRelative){for(b=k.length,j=0;j<b;j++){n=k[j];n.path=d+n.path;n.canonicalPath=true}}}if(o){y.block();o.onMicroloaderReady(function(){y.unblock()})}},setConfig:Ext.Function.flexSetter(function(d,c){if(d==="paths"){F.setPath(c)}else{w[d]=c;var b=s[d];if(b){B.setConfig((b===true)?d:b,c)}}return F}),getConfig:function(b){return b?w[b]:w},setPath:function(){H.setPath.apply(H,arguments);return F},addClassPathMappings:function(b){H.setPath(b);return F},addBaseUrlClassPathMappings:function(c){for(var b in c){c[b]=B.baseUrl+c[b]}Ext.Loader.addClassPathMappings(c)},getPath:function(b){return H.getPath(b)},require:function(d,f,g,b){if(b){return F.exclude(b).require(d,f,g)}var c=H.getNamesByExpression(d);return F.load(c,f,g)},syncRequire:function(){var b=F.syncModeEnabled;F.syncModeEnabled=true;var c=F.require.apply(F,arguments);F.syncModeEnabled=b;return c},exclude:function(b){var c=H.select({require:function(d,f,g){return F.load(d,f,g)},syncRequire:function(f,d,g){var k=F.syncModeEnabled;F.syncModeEnabled=true;var j=F.load(f,d,g);F.syncModeEnabled=k;return j}});c.exclude(b);return c},load:function(p,b,n){if(b){if(b.length){b=F.makeLoadCallback(p,b)}b=b.bind(n||Ext.global)}var l=H.classState,j=[],c=[],o={},k=p.length,m,d,f,g;for(f=0;f<k;++f){d=H.resolveName(p[f]);if(!H.isCreated(d)){j.push(d);if(!l[d]){o[d]=F.getPath(d);c.push(o[d])}}}g=j.length;if(g){F.missingCount+=g;H.onCreated(function(){if(b){Ext.callback(b,n,arguments)}F.checkReady()},F,j);if(!w.enabled){Ext.raise("Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class"+((j.length>1)?"es":"")+": "+j.join(", "))}if(c.length){F.loadScripts({url:c,_classNames:j,_urlByClass:o})}else{F.checkReady()}}else{if(b){b.call(n)}F.checkReady()}if(F.syncModeEnabled){if(k===1){return H.get(p[0])}}return F},makeLoadCallback:function(c,b){return function(){var d=[],f=c.length;while(f-->0){d[f]=H.get(c[f])}return b.apply(this,d)}},onLoadFailure:function(){var c=this,b=c.onError;F.hasFileLoadError=true;--F.scriptsLoading;if(b){b.call(c.userScope,c)}F.checkReady()},onLoadSuccess:function(){var b=this,f=b.onLoad,m=b._classNames,c=b._urlByClass,l=H.classState,d=F.missingQueue,g,k,j;--F.scriptsLoading;if(f){f.call(b.userScope,b)}for(k=0,j=m.length;k<j;k++){g=m[k];if(!l[g]){d[g]=c[g]}}F.checkReady()},onReady:function(d,f,b,g){if(b){y.on(d,f,g)}else{var c=y.makeListener(d,f,g);if(F.isLoading){G.push(c)}else{y.invoke(c)}}},addUsedClasses:function(c){var f,d,b;if(c){c=(typeof c==="string")?[c]:c;for(d=0,b=c.length;d<b;d++){f=c[d];if(typeof f==="string"&&!Ext.Array.contains(D,f)){D.push(f)}}}return F},triggerReady:function(){var c,b=D;if(F.isLoading&&b.length){D=[];F.require(b)}else{F.isLoading=false;G.sort(y.sortFn);while(G.length&&!F.isLoading){c=G.pop();y.invoke(c)}y.unblock()}},historyPush:function(b){if(b&&!v[b]&&!H.overrideMap[b]){v[b]=true;x.push(b)}return F},loadScripts:function(b){var c=Ext.manifest,g=c&&c.loadOrder,f=c&&c.loadOrderMap,d;++F.scriptsLoading;if(g&&!f){c.loadOrderMap=f=B.createLoadOrderMap(g)}F.checkReady();d=Ext.apply({loadOrder:g,loadOrderMap:f,charset:w.scriptCharset,success:F.onLoadSuccess,failure:F.onLoadFailure,sync:F.syncModeEnabled,_classNames:[]},b);d.userScope=d.scope;d.scope=d;B.load(d)},loadScriptsSync:function(b){var c=F.syncModeEnabled;F.syncModeEnabled=true;F.loadScripts({url:b});F.syncModeEnabled=c},loadScriptsSyncBasePrefix:function(b){var c=F.syncModeEnabled;F.syncModeEnabled=true;F.loadScripts({url:b,prependBaseUrl:true});F.syncModeEnabled=c},loadScript:function(b){var l=typeof b==="string",g=b instanceof Array,c=!g&&!l,m=c?b.url:b,j=c&&b.onError,f=c&&b.onLoad,d=c&&b.scope,k={url:m,scope:d,onLoad:f,onError:j,_classNames:[]};F.loadScripts(k)},checkMissingQueue:function(){var f=F.missingQueue,d={},c,b=0;for(c in f){if(!(H.classState[c]||H.isCreated(c))){d[c]=f[c];b++}}F.missingCount=b;F.missingQueue=d},checkReady:function(){var b=F.isLoading,c;F.checkMissingQueue();c=F.missingCount+F.scriptsLoading;if(c&&!b){y.block();F.isLoading=!!c}else{if(!c&&b){F.triggerReady()}}}});Ext.require=A(F,"require");Ext.syncRequire=A(F,"syncRequire");Ext.exclude=A(F,"exclude");E.registerPreprocessor("loader",function(j,k,m,o){var K=this,c=[],L,b=H.getName(j),l,n,d,f,q,g,p,r;for(l=0,d=C.length;l<d;l++){g=C[l];if(k.hasOwnProperty(g)){p=k[g];if(typeof p==="string"){c.push(p)}else{if(p instanceof Array){for(n=0,f=p.length;n<f;n++){q=p[n];if(typeof q==="string"){c.push(q)}}}else{if(typeof p!=="function"){for(n in p){if(p.hasOwnProperty(n)){q=p[n];if(typeof q==="string"){c.push(q)}}}}}}}}if(c.length===0){return}if(b){u[b]=c}(b?F.exclude(b):F).require(c,function(){for(l=0,d=C.length;l<d;l++){g=C[l];if(k.hasOwnProperty(g)){p=k[g];if(typeof p==="string"){k[g]=H.get(p)}else{if(p instanceof Array){for(n=0,f=p.length;n<f;n++){q=p[n];if(typeof q==="string"){k[g][n]=H.get(q)}}}else{if(typeof p!=="function"){for(var I in p){if(p.hasOwnProperty(I)){q=p[I];if(typeof q==="string"){k[g][I]=H.get(q)}}}}}}}}o.call(K,j,k,m)});return false},true,"after","className");H.registerPostprocessor("uses",function(d,f,c){var g=c.uses,b;if(g){b=H.getNamesByExpression(c.uses);F.addUsedClasses(b)}});H.onCreated(F.historyPush);F.init()}());Ext._endTime=Ext.ticks();if(Ext._beforereadyhandler){Ext._beforereadyhandler()}(Ext.cmd.derive("Ext.Mixin",Ext.Base,function(c){return{statics:{addHook:function(b,o,q,p){var m=Ext.isFunction(b),n=function(){var g=arguments,f=m?b:p[b],d=this.callParent(g);f.apply(this,g);return d},r=o.hasOwnProperty(q)&&o[q];if(m){b.$previous=Ext.emptyFn}n.$name=q;n.$owner=o.self;if(r){n.$previous=r.$previous;r.$previous=n}else{o[q]=n}}},onClassExtended:function(b,w){var u=w.mixinConfig,q=w.xhooks,r=b.superclass,v=w.onClassMixedIn,y,s,p,x;if(q){delete w.xhooks;(u||(w.mixinConfig=u={})).on=q}if(u){y=r.mixinConfig;if(y){w.mixinConfig=u=Ext.merge({},y,u)}w.mixinId=u.id;s=u.before;p=u.after;q=u.on;x=u.extended}if(s||p||q||x){w.onClassMixedIn=function(d){var j=this.prototype,f=d.prototype,g;if(s){Ext.Object.each(s,function(l,k){d.addMember(l,function(){if(j[k].apply(this,arguments)!==false){return this.callParent(arguments)}})})}if(p){Ext.Object.each(p,function(l,k){d.addMember(l,function(){var m=this.callParent(arguments);j[k].apply(this,arguments);return m})})}if(q){for(g in q){c.addHook(q[g],f,g,j)}}if(x){d.onExtended(function(){var k=Ext.Array.slice(arguments,0);k.unshift(d);return x.apply(this,k)},this)}if(v){v.apply(this,arguments)}}}}}},0,0,0,0,0,0,[Ext,"Mixin"],0));Ext.util=Ext.util||{};Ext.util.DelayedTask=function(q,r,u,n,o){var p=this,m,s=function(){var b=Ext.GlobalEvents;clearInterval(p.id);p.id=null;q.apply(r,u||[]);if(o!==false&&b.hasListeners.idle){b.fireEvent("idle")}};n=typeof n==="boolean"?n:true;p.id=null;p.delay=function(f,c,d,b){if(n){p.cancel()}if(typeof f==="number"){m=f}q=c||q;r=d||r;u=b||u;if(!p.id){p.id=Ext.interval(s,m)}};p.cancel=function(){if(p.id){clearInterval(p.id);p.id=null}}};(Ext.cmd.derive("Ext.util.Event",Ext.Base,function(){var j=Array.prototype.slice,g=Ext.Array.insert,k=Ext.Array.toArray,l={};return{isEvent:true,suspended:0,noOptions:{},constructor:function(b,c){this.name=c;this.observable=b;this.listeners=[]},addListener:function(M,T,S,c,F){var H=this,O=false,I=H.observable,P=H.name,E,Q,K,d,G,f,R,N,b,J,L;if(H.findListener(M,T)===-1){Q=H.createListener(M,T,S,c,F);if(H.firing){H.listeners=H.listeners.slice(0)}E=H.listeners;N=R=E.length;K=S&&S.priority;G=H._highestNegativePriorityIndex;f=G!==undefined;if(K){d=(K<0);if(!d||f){for(b=(d?G:0);b<R;b++){J=E[b].o?E[b].o.priority||0:0;if(J<K){N=b;break}}}else{H._highestNegativePriorityIndex=N}}else{if(f){N=G}}if(!d&&N<=G){H._highestNegativePriorityIndex++}if(N===R){E[R]=Q}else{g(E,N,[Q])}if(I.isElement){I._getPublisher(P).subscribe(I,P,S.delegated!==false,S.capture)}if(F){L=F.managedListeners||(F.managedListeners=[]);L.push({item:H.observable,ename:(S&&S.managedName)||H.name,fn:M,scope:T,options:S})}O=true}return O},createListener:function(b,A,y,x,v){var d=this,c=Ext._namedScopes[A],w={fn:b,scope:A,ev:d,caller:x,manager:v,namedScope:c,defaultScope:c?(A||d.observable):undefined,lateBound:typeof b==="string"},B=b,f=false,o;if(y){w.o=y;if(y.single){B=d.createSingle(B,w,y,A);f=true}if(y.target){B=d.createTargeted(B,w,y,A,f);f=true}if(y.onFrame){B=d.createAnimFrame(B,w,y,A,f);f=true}if(y.delay){B=d.createDelayed(B,w,y,A,f);f=true}if(y.buffer){B=d.createBuffered(B,w,y,A,f);f=true}if(d.observable.isElement){o=y.type;if(o){w.type=o}}}w.fireFn=B;w.wrapped=f;return w},findListener:function(c,d){var f=this.listeners,n=f.length,b;while(n--){b=f[n];if(b){if(b.fn===c&&b.scope==d){return n}}}return -1},removeListener:function(b,E,d){var c=this,f=false,C=c.observable,w=c.name,A,D,y,F,B,x;d=d!=null?d:c.findListener(b,E);if(d!==-1){A=c.listeners[d];if(c.firing){c.listeners=c.listeners.slice(0)}c.listeners.splice(d,1);if(c._highestNegativePriorityIndex){if(d<c._highestNegativePriorityIndex){c._highestNegativePriorityIndex--}else{if(d===c._highestNegativePriorityIndex&&d===c.listeners.length){delete c._highestNegativePriorityIndex}}}if(A){D=A.o;if(A.task){A.task.cancel();delete A.task}x=A.tasks&&A.tasks.length;if(x){while(x--){A.tasks[x].cancel()}delete A.tasks}y=A.manager;if(y){F=y.managedListeners;if(F){for(x=F.length;x--;){B=F[x];if(B.item===c.observable&&B.ename===w&&B.fn===b&&B.scope===E){F.splice(x,1)}}}}if(C.isElement){C._getPublisher(w).unsubscribe(C,w,D.delegated!==false,D.capture)}}f=true}return f},clearListeners:function(){var c=this.listeners,d=c.length,b;while(d--){b=c[d];this.removeListener(b.fn,b.scope)}},suspend:function(){++this.suspended},resume:function(){if(this.suspended){--this.suspended}},isSuspended:function(){return this.suspended>0},fireDelegated:function(b,c){this.firingObservable=b;return this.fire.apply(this,c)},fire:function(){var J=this,Z=Ext.ComponentQuery,H=J.listeners,T=H.length,O=J.observable,d=O.isElement,K=O.isComponent,N=J.firingObservable,W,Q,M,b,Y,V,S,c,f,X,P,U,L,I,R;if(!J.suspended&&T>0){J.firing=true;Y=arguments.length?j.call(arguments,0):[];S=Y.length;if(d){L=Y[0]}for(b=0;b<T;b++){V=H[b];if(!V){continue}W=V.o;if(d){if(f){L.setCurrentTarget(f)}X=V.type;if(X){P=L;L=Y[0]=P.chain({type:X})}Ext.EventObject=L}U=Y;if(W){Q=W.delegate;if(Q){if(d){c=L.getTarget("#"+L.currentTarget.id+" "+Q);if(c){Y[1]=c;f=L.currentTarget;L.setCurrentTarget(c)}else{continue}}else{if(K&&!Z.is(N,Q,O)){continue}}}if(d){if(W.preventDefault){L.preventDefault()}if(W.stopPropagation){L.stopPropagation()}if(W.stopEvent){L.stopEvent()}}Y[S]=W;if(W.args){U=W.args.concat(Y)}}M=J.getFireInfo(V);I=M.fn;R=M.scope;M.fn=M.scope=null;if(R&&R.destroyed){J.removeListener(I,R,b);I=null}if(I&&I.apply(R,U)===false){Ext.EventObject=null;return(J.firing=false)}if(W){Y.length--}if(P){L=Y[0]=P;P=null}Ext.EventObject=null}}J.firing=false;return true},getFireInfo:function(r,b){var q=this.observable,p=r.fireFn,c=r.scope,f=r.namedScope,d;if(!b&&r.wrapped){l.fn=p;return l}d=b?r.fn:p;if(r.lateBound){if(!c||f){c=(r.caller||q).resolveListenerScope(r.defaultScope)}d=c[d]}else{if(f&&f.isController){c=(r.caller||q).resolveListenerScope(r.defaultScope)}else{if(!c||f){c=q}}}l.fn=d;l.scope=c;return l},createAnimFrame:function(d,c,p,f,o){var b;if(!o){b=c.ev.getFireInfo(c,true);d=b.fn;f=b.scope;b.fn=b.scope=null}return Ext.Function.createAnimationFrame(d,f,p.args)},createTargeted:function(d,c,b,f,n){return function(){if(b.target===arguments[0]){var m;if(!n){m=c.ev.getFireInfo(c,true);d=m.fn;f=m.scope;m.fn=m.scope=null}return d.apply(f,arguments)}}},createBuffered:function(d,c,b,f,n){c.task=new Ext.util.DelayedTask();return function(){if(c.task){var m;if(!n){m=c.ev.getFireInfo(c,true);d=m.fn;f=m.scope;m.fn=m.scope=null}c.task.delay(b.buffer,d,f,k(arguments))}}},createDelayed:function(d,c,b,f,n){return function(){var p=new Ext.util.DelayedTask(),m;if(!n){m=c.ev.getFireInfo(c,true);d=m.fn;f=m.scope;m.fn=m.scope=null}if(!c.tasks){c.tasks=[]}c.tasks.push(p);p.delay(b.delay||10,d,f,k(arguments))}},createSingle:function(d,c,b,f,n){return function(){var s=c.ev,r=s.observable,u=c.fn,m;if(r){r.removeListener(s.name,u,f)}else{s.removeListener(u,f)}if(!n){m=s.getFireInfo(c,true);d=m.fn;f=m.scope;m.fn=m.scope=null}return d.apply(f,arguments)}}}},1,0,0,0,0,0,[Ext.util,"Event"],0));(Ext.cmd.derive("Ext.mixin.Identifiable",Ext.Base,{statics:{uniqueIds:{}},isIdentifiable:true,mixinId:"identifiable",idCleanRegex:/\.|[^\w\-]/g,defaultIdPrefix:"ext-",defaultIdSeparator:"-",getOptimizedId:function(){return this.id},getUniqueId:function(){var l=this.id,p,n,m,k,o;if(!(l||l===0)){p=this.self.prototype;n=this.defaultIdSeparator;k=Ext.mixin.Identifiable.uniqueIds;if(!p.hasOwnProperty("identifiablePrefix")){m=this.xtype;if(m){o=this.defaultIdPrefix+m.replace(this.idCleanRegex,n)+n}else{if(!(o=p.$className)){o=this.defaultIdPrefix+"anonymous"+n}else{o=o.replace(this.idCleanRegex,n).toLowerCase()+n}}p.identifiablePrefix=o}o=this.identifiablePrefix;if(!k.hasOwnProperty(o)){k[o]=0}l=this.id=this.id=o+(++k[o])}this.getUniqueId=this.getOptimizedId;return l},setId:function(c){this.id=this.id=c},getId:function(){var c=this.id;if(!c){c=this.getUniqueId()}this.getId=this.getOptimizedId;return c}},0,0,0,0,0,0,[Ext.mixin,"Identifiable"],0));(Ext.cmd.derive("Ext.mixin.Observable",Ext.Mixin,function(r){var o=Ext.emptyFn,p=[],n=Array.prototype,m=n.slice,q=function(b){if(b instanceof q){return b}this.observable=b;if(arguments[1].isObservable){this.managedListeners=true}this.args=m.call(arguments,1)},l=["events","hasListeners","managedListeners","eventedBeforeEventNames"];q.prototype.destroy=function(){this.destroy=Ext.emptyFn;var b=this.observable;if(!b.destroyed){b[this.managedListeners?"mun":"un"].apply(b,this.args)}};return{mixinConfig:{id:"observable",after:{destroy:"destroyObservable"}},statics:{releaseCapture:function(b){b.fireEventArgs=this.prototype.fireEventArgs},capture:function(d,b,c){var f=function(j,g){return b.apply(c,[j].concat(g))};this.captureArgs(d,f,c)},captureArgs:function(d,b,c){d.fireEventArgs=Ext.Function.createInterceptor(d.fireEventArgs,b,c)},observe:function(c,b){if(c){if(!c.isObservable){Ext.applyIf(c,new this());this.captureArgs(c.prototype,c.fireEventArgs,c)}if(Ext.isObject(b)){c.on(b)}}return c},prepareClass:function(d,C,b){var D=d.listeners=[],F=b||d.prototype,B=F.listeners,g=C?C.listeners:d.superclass.self.listeners,k,f,E,c,G;if(g){D.push(g)}if(B){f=B.scope;if(!f){B.scope="self"}else{E=Ext._namedScopes[f];if(E&&E.isController){B.scope="self.controller"}}D.push(B);F.listeners=null}if(!d.HasListeners){var H=function(){},j=d.superclass.HasListeners||(C&&C.HasListeners)||r.HasListeners;d.prototype.HasListeners=d.HasListeners=H;H.prototype=d.hasListeners=new j()}f=d.prototype.$noClearOnDestroy||{};for(c=0,G=l.length;c<G;c++){f[l[c]]=true}d.prototype.$noClearOnDestroy=f}},isObservable:true,$vetoClearingPrototypeOnDestroy:true,eventsSuspended:0,constructor:function(k){var f=this,u=f.self,b,g,d,c,j;if(f.$observableInitialized){return}f.$observableInitialized=true;f.hasListeners=f.hasListeners=new f.HasListeners();f.eventedBeforeEventNames={};f.events=f.events||{};b=u.listeners;if(b&&!f._addDeclaredListeners(b)){u.listeners=null}g=(k&&k.listeners)||f.listeners;if(g){if(g instanceof Array){for(j=0,c=g.length;j<c;++j){f.addListener(g[j])}}else{f.addListener(g)}}d=(k&&k.bubbleEvents)||f.bubbleEvents;if(d){f.enableBubble(d)}if(f.$applyConfigs){if(k){Ext.apply(f,k)}}else{f.initConfig(k)}if(g){f.listeners=null}},onClassExtended:function(c,b){if(!c.HasListeners){r.prepareClass(c,c.prototype.$observableMixedIn?undefined:b)}},$eventOptions:{scope:1,delay:1,buffer:1,onFrame:1,single:1,args:1,destroyable:1,priority:1,order:1},$orderToPriority:{before:100,current:0,after:-100},_addDeclaredListeners:function(c){var b=this;if(c instanceof Array){Ext.each(c,b._addDeclaredListeners,b)}else{b._addedDeclaredListeners=true;b.addListener(c)}return b._addedDeclaredListeners},addManagedListener:function(y,f,c,x,w,g){var d=this,b=d.managedListeners=d.managedListeners||[],j,k;if(typeof f!=="string"){k=arguments.length>4?w:f;w=f;for(f in w){if(w.hasOwnProperty(f)){j=w[f];if(!y.$eventOptions[f]){d.addManagedListener(y,f,j.fn||j,j.scope||w.scope||x,j.fn?j:k,true)}}}if(w&&w.destroyable){return new q(d,y,w)}}else{if(c!==o){y.doAddListener(f,c,x,w,null,d,d);if(!g&&w&&w.destroyable){return new q(d,y,f,c,x)}}}},removeManagedListener:function(y,g,c,x){var d=this,w,j,b,k,f;if(y.$observableDestroyed){return}if(typeof g!=="string"){w=g;for(g in w){if(w.hasOwnProperty(g)){j=w[g];if(!y.$eventOptions[g]){d.removeManagedListener(y,g,j.fn||j,j.scope||w.scope||x)}}}}else{b=d.managedListeners?d.managedListeners.slice():[];g=Ext.canonicalEventName(g);for(f=0,k=b.length;f<k;f++){d.removeManagedListenerItem(false,b[f],y,g,c,x)}}},fireEvent:function(b){return this.fireEventArgs(b,m.call(arguments,1))},resolveListenerScope:function(b){var c=Ext._namedScopes[b];if(c){if(c.isSelf||c.isThis){b=null}}return b||this},fireEventArgs:function(c,j){c=Ext.canonicalEventName(c);var d=this,g=d.events,f=g&&g[c],b=true;if(d.hasListeners[c]){b=d.doFireEvent(c,j||p,f?f.bubble:false)}return b},fireAction:function(b,g,d,f,j,c){if(typeof d==="string"&&!f){d=this[d]}j=j?Ext.Object.chain(j):{};j.single=true;j.priority=((c==="after")?-99.5:99.5);this.doAddListener(b,d,f,j);this.fireEventArgs(b,g)},$eventedController:{_paused:1,pause:function(){++this._paused},resume:function(){var f=this,g=f.fn,j=f.scope,d=f.fnArgs,c=f.owner,k,b;if(!--f._paused){if(g){k=Ext.Array.slice(d||f.args);if(d===false){k.shift()}f.fn=null;k.push(f);if(Ext.isFunction(g)){b=g.apply(j,k)}else{if(j&&Ext.isString(g)&&Ext.isFunction(j[g])){b=j[g].apply(j,k)}}if(b===false){return false}}if(!f._paused){return f.owner.fireEventArgs(f.eventName,f.args)}}}},fireEventedAction:function(j,f,b,w,c){var d=this,x=d.eventedBeforeEventNames,g=x[j]||(x[j]="before"+j),k=Ext.apply({owner:d,eventName:j,fn:b,scope:w,fnArgs:c,args:f},d.$eventedController),y;f.push(k);y=d.fireEventArgs(g,f);f.pop();if(y===false){return false}return k.resume()},doFireEvent:function(k,g,b){var d=this,c,f,j=true;do{if(d.eventsSuspended){if((c=d.eventQueue)){c.push([k,g])}return j}else{f=d.events&&d.events[k];if(f&&f!==true){if((j=f.fire.apply(f,g))===false){break}}}}while(b&&(d=d.getBubbleParent()));return j},getBubbleParent:function(){var b=this,c=b.getBubbleTarget&&b.getBubbleTarget();if(c&&c.isObservable){return c}return null},addListener:function(d,C,B,A,g,k){var D=this,c=Ext._namedScopes,j,E,b,F,f;if(typeof d!=="string"){A=d;B=A.scope;E=B&&c[B];b=E&&E.isSelf;f=((D.isComponent||D.isWidget)&&A.element)?D.$elementEventOptions:D.$eventOptions;for(d in A){j=A[d];if(!f[d]){F=j.scope;if(F&&b){E=c[F];if(E&&E.isController){F="self.controller"}}D.doAddListener(d,j.fn||j,F||B,j.fn?j:A,g,k)}}if(A&&A.destroyable){return new q(D,A)}}else{D.doAddListener(d,C,B,A,g,k);if(A&&A.destroyable){return new q(D,d,C,B,A)}}return D},removeListener:function(j,f,g,c){var d=this,k,b;if(typeof j!=="string"){b=j;c=c||d.$eventOptions;for(j in b){if(b.hasOwnProperty(j)){k=b[j];if(!d.$eventOptions[j]){d.doRemoveListener(j,k.fn||k,k.scope||b.scope)}}}}else{d.doRemoveListener(j,f,g)}return d},onBefore:function(c,d,f,b){return this.addListener(c,d,f,b,"before")},onAfter:function(c,d,f,b){return this.addListener(c,d,f,b,"after")},unBefore:function(c,d,f,b){return this.removeListener(c,d,f,b,"before")},unAfter:function(c,d,f,b){return this.removeListener(c,d,f,b,"after")},addBeforeListener:function(){return this.onBefore.apply(this,arguments)},addAfterListener:function(){return this.onAfter.apply(this,arguments)},removeBeforeListener:function(){return this.unBefore.apply(this,arguments)},removeAfterListener:function(){return this.unAfter.apply(this,arguments)},clearListeners:function(){var d=this,g=d.events,c=d.hasListeners,f,b;if(g){for(b in g){if(g.hasOwnProperty(b)){f=g[b];if(f.isEvent){delete c[b];f.clearListeners()}}}d.events=null}d.clearManagedListeners()},clearManagedListeners:function(){var d=this,b=d.managedListeners?d.managedListeners.slice():[],f=0,c=b.length;for(;f<c;f++){d.removeManagedListenerItem(true,b[f])}d.managedListeners=[]},removeManagedListenerItem:function(b,c,d,j,f,g){if(b||(c.item===d&&c.ename===j&&(!f||c.fn===f)&&(!g||c.scope===g))){if(!c.item.destroyed){c.item.doRemoveListener(c.ename,c.fn,c.scope,c.options)}if(!b){Ext.Array.remove(this.managedListeners,c)}}},hasListener:function(b){b=Ext.canonicalEventName(b);return !!this.hasListeners[b]},isSuspended:function(d){var b=this.eventsSuspended>0,c=this.events;if(!b&&d&&c){d=c[d];if(d&&d.isEvent){return d.isSuspended()}}return b},suspendEvents:function(b){++this.eventsSuspended;if(b&&!this.eventQueue){this.eventQueue=[]}},suspendEvent:function(){var d=this,g=d.events,c=arguments.length,j,f,b;for(j=0;j<c;j++){b=arguments[j];b=Ext.canonicalEventName(b);f=g[b];if(!f||!f.isEvent){f=d._initEvent(b)}f.suspend()}},resumeEvent:function(){var f=this.events||0,c=f&&arguments.length,g,d,b;for(g=0;g<c;g++){b=Ext.canonicalEventName(arguments[g]);d=f[b];if(d&&d.resume){d.resume()}}},resumeEvents:function(c){var b=this,d=b.eventQueue,f,g;if(b.eventsSuspended&&!--b.eventsSuspended){delete b.eventQueue;if(!c&&d){f=d.length;for(g=0;g<f;g++){b.fireEventArgs.apply(b,d[g])}}}},relayEvents:function(w,v,g){var b=this,f=v.length,j=0,k,d,c={};if(Ext.isObject(v)){for(j in v){d=v[j];c[j]=b.createRelayer(d)}}else{for(;j<f;j++){k=v[j];c[k]=b.createRelayer(g?g+k:k)}}b.mon(w,c,null,null,undefined);return new q(b,w,c)},createRelayer:function(c,b){var d=this;return function(){return d.fireEventArgs.call(d,c,b?m.apply(arguments,b):arguments)}},enableBubble:function(d){if(d){var g=this,f=(typeof d=="string")?arguments:d,u=g.events,j=u&&f.length,b,k,c;for(c=0;c<j;++c){b=f[c];b=Ext.canonicalEventName(b);k=u[b];if(!k||!k.isEvent){k=g._initEvent(b)}g.hasListeners._incr_(b);k.bubble=true}}},destroy:function(){this.clearListeners();this.callParent();this.destroyObservable(true)},destroyObservable:function(b){var c=this;if(c.$observableDestroyed){return}if(!b){c.clearListeners()}if(c.destroyed){if(c.clearPropertiesOnDestroy){if(!c.clearPrototypeOnDestroy){c.fireEvent=c.fireEventArgs=c.fireAction=c.fireEventedAction=Ext.emptyFn}c.events=c.managedListeners=c.eventedBeforeEventNames=null;c.$observableDestroyed=true}}},privates:{doAddListener:function(f,B,y,x,g,j,d){var b=this,c=false,k,A;g=g||(x&&x.order);if(g){A=(x&&x.priority);if(!A){x=x?Ext.Object.chain(x):{};x.priority=b.$orderToPriority[g]}}f=Ext.canonicalEventName(f);k=(b.events||(b.events={}))[f];if(!k||!k.isEvent){k=b._initEvent(f)}if(B!==o){if(!d&&(y&&y.isObservable&&(y!==b))){d=y}if(k.addListener(B,y,x,j,d)){b.hasListeners._incr_(f);c=true}}return c},doRemoveListener:function(k,g,j){var d=this,c=false,b=d.events,f;k=Ext.canonicalEventName(k);f=b&&b[k];if(f&&f.isEvent){if(f.removeListener(g,j)){d.hasListeners._decr_(k);c=true}}return c},_initEvent:function(b){return(this.events[b]=new Ext.util.Event(this,b))}},deprecated:{"5.0":{methods:{addEvents:null}}}}},1,0,0,0,0,[[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.mixin,"Observable"],function(){var p=this,m=p.prototype,o=function(){},l=function(c){if(!c.HasListeners){var b=c.prototype;b.$observableMixedIn=1;p.prepareClass(c,this);c.onExtended(function(d,f){p.prepareClass(d,null,f)});if(b.onClassMixedIn){Ext.override(c,{onClassMixedIn:function(d){l.call(this,d);this.callParent(arguments)}})}else{b.onClassMixedIn=function(d){l.call(this,d)}}}k.call(this,c)},k=m.onClassMixedIn;o.prototype={_decr_:function(b,c){if(c==null){c=1}if(!(this[b]-=c)){delete this[b]}},_incr_:function(b){if(this.hasOwnProperty(b)){++this[b]}else{this[b]=1}}};m.HasListeners=p.HasListeners=o;p.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener",setListeners:"addListener"});p.observeClass=p.observe;function n(f){var g=(this.methodEvents=this.methodEvents||{})[f],b,c,r,j=this,d;if(!g){this.methodEvents[f]=g={};g.originalFn=this[f];g.methodName=f;g.before=[];g.after=[];d=function(q,v,w){if((c=q.apply(v||j,w))!==undefined){if(typeof c=="object"){if(c.returnValue!==undefined){b=c.returnValue}else{b=c}r=!!c.cancel}else{if(c===false){r=true}else{b=c}}}};this[f]=function(){var w=Array.prototype.slice.call(arguments,0),x,q,y;b=c=undefined;r=false;for(q=0,y=g.before.length;q<y;q++){x=g.before[q];d(x.fn,x.scope,w);if(r){return b}}if((c=g.originalFn.apply(j,w))!==undefined){b=c}for(q=0,y=g.after.length;q<y;q++){x=g.after[q];d(x.fn,x.scope,w);if(r){return b}}return b}}return g}Ext.apply(m,{onClassMixedIn:l,beforeMethod:function(b,c,d){n.call(this,b).before.push({fn:c,scope:d})},afterMethod:function(b,c,d){n.call(this,b).after.push({fn:c,scope:d})},removeMethodListener:function(f,j,b){var g=this.getMethodEvent(f),c,d;for(c=0,d=g.before.length;c<d;c++){if(g.before[c].fn==j&&g.before[c].scope==b){Ext.Array.erase(g.before,c,1);return}}for(c=0,d=g.after.length;c<d;c++){if(g.after[c].fn==j&&g.after[c].scope==b){Ext.Array.erase(g.after,c,1);return}}},toggleEventLogging:function(b){Ext.util.Observable[b?"capture":"releaseCapture"](this,function(c){if(Ext.isDefined(Ext.global.console)){Ext.global.console.log(c,arguments)}})}})}));(Ext.cmd.derive("Ext.util.HashMap",Ext.Base,{generation:0,config:{keyFn:null},constructor:function(f){var g=this,j;g.mixins.observable.constructor.call(g,f);g.clear(true);j=g.getKeyFn();if(j){g.getKey=j}},getCount:function(){return this.length},getData:function(d,f){if(f===undefined){f=d;d=this.getKey(f)}return[d,f]},getKey:function(c){return c.id},add:function(f,g){var j=this;if(arguments.length===1){g=f;f=j.getKey(g)}if(j.containsKey(f)){return j.replace(f,g)}j.map[f]=g;++j.length;j.generation++;if(j.hasListeners.add){j.fireEvent("add",j,f,g)}return g},replace:function(n,l){var m=this,k=m.map,j;if(arguments.length===1){l=n;n=m.getKey(l)}if(!m.containsKey(n)){m.add(n,l)}j=k[n];k[n]=l;m.generation++;if(m.hasListeners.replace){m.fireEvent("replace",m,n,l,j)}return l},remove:function(f){var d=this.findKey(f);if(d!==undefined){return this.removeAtKey(d)}return false},removeAtKey:function(f){var j=this,g;if(j.containsKey(f)){g=j.map[f];delete j.map[f];--j.length;j.generation++;if(j.hasListeners.remove){j.fireEvent("remove",j,f,g)}return true}return false},get:function(d){var f=this.map;return f.hasOwnProperty(d)?f[d]:undefined},clear:function(d){var f=this;if(d||f.generation){f.map={};f.length=0;f.generation=d?0:f.generation+1}if(d!==true&&f.hasListeners.clear){f.fireEvent("clear",f)}return f},containsKey:function(d){var f=this.map;return f.hasOwnProperty(d)&&f[d]!==undefined},contains:function(c){return this.containsKey(this.findKey(c))},getKeys:function(){return this.getArray(true)},getValues:function(){return this.getArray(false)},getArray:function(j){var g=[],l,k=this.map;for(l in k){if(k.hasOwnProperty(l)){g.push(j?l:k[l])}}return g},each:function(l,m){var j=Ext.apply({},this.map),n,k=this.length;m=m||this;for(n in j){if(j.hasOwnProperty(n)){if(l.call(m,n,j[n],k)===false){break}}}return this},clone:function(){var g=new this.self(this.initialConfig),j=this.map,f;g.suspendEvents();for(f in j){if(j.hasOwnProperty(f)){g.add(f,j[f])}}g.resumeEvents();return g},findKey:function(j){var f,g=this.map;for(f in g){if(g.hasOwnProperty(f)&&g[f]===j){return f}}return undefined}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.util,"HashMap"],function(f){var d=f.prototype;d.removeByKey=d.removeAtKey}));(Ext.cmd.derive("Ext.promise.Consequence",Ext.Base,function(c){return{promise:null,deferred:null,onFulfilled:null,onRejected:null,onProgress:null,constructor:function(b,l,j){var k=this;k.onFulfilled=b;k.onRejected=l;k.onProgress=j;k.deferred=new Ext.promise.Deferred();k.promise=k.deferred.promise},trigger:function(b,j){var k=this,l=k.deferred;switch(b){case"fulfill":k.propagate(j,k.onFulfilled,l,l.resolve);break;case"reject":k.propagate(j,k.onRejected,l,l.reject);break}},update:function(b){if(Ext.isFunction(this.onProgress)){b=this.onProgress(b)}this.deferred.update(b)},propagate:function(j,b,l,k){if(Ext.isFunction(b)){this.schedule(function(){try{l.resolve(b(j))}catch(d){l.reject(d)}})}else{k.call(this.deferred,j)}},schedule:function(b){var f=c.queueSize++;c.queue[f]=b;if(!f){Ext.asap(c.dispatch)}},statics:{queue:new Array(10000),queueSize:0,dispatch:function(){var j=c.queue,b,g;for(g=0;g<c.queueSize;++g){b=j[g];j[g]=null;b()}c.queueSize=0}}}},1,0,0,0,0,0,[Ext.promise,"Consequence"],0));(Ext.cmd.derive("Ext.promise.Deferred",Ext.Base,{promise:null,consequences:[],completed:false,completionAction:null,completionValue:null,constructor:function(){var c=this;c.promise=new Ext.promise.Promise(c);c.consequences=[];c.completed=false;c.completionAction=null;c.completionValue=null},then:function(k,j,l){var m=this,n=new Ext.promise.Consequence(k,j,l);if(m.completed){n.trigger(m.completionAction,m.completionValue)}else{m.consequences.push(n)}return n.promise},resolve:function(n){var o=this,k,p;if(o.completed){return}try{if(n===o.promise){throw new TypeError("A Promise cannot be resolved with itself.")}if(n!=null&&(typeof n==="object"||Ext.isFunction(n))&&Ext.isFunction(p=n.then)){k=false;try{p.call(n,function(b){if(!k){k=true;o.resolve(b)}},function(b){if(!k){k=true;o.reject(b)}})}catch(l){if(!k){o.reject(l)}}}else{o.complete("fulfill",n)}}catch(m){o.reject(m)}},reject:function(c){if(this.completed){return}this.complete("reject",c)},update:function(n){var k=this.consequences,l,m,j;if(this.completed){return}for(m=0,j=k.length;m<j;m++){l=k[m];l.update(n)}},complete:function(n,o){var p=this,m=p.consequences,q,r,l;p.completionAction=n;p.completionValue=o;p.completed=true;for(r=0,l=m.length;r<l;r++){q=m[r];q.trigger(p.completionAction,p.completionValue)}p.consequences=null}},1,0,0,0,0,0,[Ext.promise,"Deferred"],0));(Ext.cmd.derive("Ext.promise.Promise",Ext.Base,function(f){var d;return{statics:{CancellationError:Ext.global.CancellationError||Error,_ready:function(){d=Ext.promise.Deferred},all:function(b){return f.when(b).then(function(x){var c=new d(),u=x.length,w=new Array(u),r,y,q,v,s;if(!u){c.resolve(w)}else{q=function(g,j){return f.when(g).then(function(k){w[j]=k;if(!--u){c.resolve(w)}return k},function(k){return c.reject(k)})};for(r=v=0,s=x.length;v<s;r=++v){y=x[r];if(r in x){q(y,r)}else{u--}}}return c.promise})},is:function(b){return b!=null&&(typeof b==="object"||Ext.isFunction(b))&&Ext.isFunction(b.then)},rethrowError:function(b){Ext.asap(function(){throw b})},when:function(b){var c=new Ext.promise.Deferred();c.resolve(b);return c.promise}},owner:null,constructor:function(b){this.owner=b},then:function(b,n,c,m){var l;if(arguments.length===1&&Ext.isObject(arguments[0])){l=arguments[0];b=l.success;n=l.failure;c=l.progress;m=l.scope}if(m){if(b){b=Ext.Function.bind(b,m)}if(n){n=Ext.Function.bind(n,m)}if(c){c=Ext.Function.bind(c,m)}}return this.owner.then(b,n,c)},otherwise:function(j,c){var b;if(arguments.length===1&&Ext.isObject(arguments[0])){b=arguments[0];j=b.fn;c=b.scope}if(c!=null){j=Ext.Function.bind(j,c)}return this.owner.then(null,j)},always:function(j,c){var b;if(arguments.length===1&&Ext.isObject(arguments[0])){b=arguments[0];j=b.fn;c=b.scope}if(c!=null){j=Ext.Function.bind(j,c)}return this.owner.then(function(l){try{j()}catch(g){f.rethrowError(g)}return l},function(g){try{j()}catch(l){f.rethrowError(l)}throw g})},done:function(){this.owner.then(null,f.rethrowError)},cancel:function(b){if(b==null){b=null}this.owner.reject(new this.self.CancellationError(b))},log:function(b){if(b==null){b=""}return this.owner.then(function(c){Ext.log(""+(b||"Promise")+" resolved with value: "+c);return c},function(c){Ext.log(""+(b||"Promise")+" rejected with reason: "+c);throw c})}}},1,0,0,0,0,0,[Ext.promise,"Promise"],function(c){c._ready()}));(Ext.cmd.derive("Ext.Promise",Ext.Base,function(){var c;return{statics:{_ready:function(){c=Ext.promise.Promise},all:function(){return c.all.apply(c,arguments)},race:function(){},reject:function(b){var f=new Ext.promise.Deferred();f.reject(b);return f.promise},resolve:function(b){var f=new Ext.promise.Deferred();f.resolve(b);return f.promise}},constructor:function(b){var f=new Ext.promise.Deferred();b(f.resolve.bind(f),f.reject.bind(f));return f.promise}}},1,0,0,0,0,0,[Ext,"Promise"],function(d){var f=Ext.global.Promise;if(f&&f.resolve){Ext.Promise=f}else{d._ready()}}));(Ext.cmd.derive("Ext.Deferred",Ext.promise.Deferred,function(j){var g,f;return{statics:{_ready:function(){g=Ext.promise.Promise;f=Ext.Promise.resolve},all:function(){return g.all.apply(g,arguments)},any:function(b){return j.some(b,1).then(function(c){return c[0]},function(c){if(c instanceof Error&&c.message==="Too few Promises were resolved."){Ext.raise("No Promises were resolved.")}else{throw c}})},delay:function(d,b){var c;if(arguments.length===1){b=d;d=undefined}b=Math.max(b,0);c=new j();setTimeout(function(){c.resolve(d)},b);return c.promise},map:function(c,b){return j.resolved(c).then(function(A){var d,u,B,w,s,y,x,v;w=A.length;y=new Array(A.length);d=new j();if(!w){d.resolve(y)}else{s=function(k,l){return j.resolved(k).then(function(m){return b(m,l,y)}).then(function(m){y[l]=m;if(!--w){d.resolve(y)}return m},function(m){return d.reject(m)})};for(u=x=0,v=A.length;x<v;u=++x){B=A[u];if(u in A){s(B,u)}else{w--}}}return d.promise})},memoize:function(b,c,l){var d=Ext.Function.memoize(b,c,l);return function(){return j.all(Ext.Array.slice(arguments)).then(function(k){return d.apply(c,k)})}},parallel:function(c,b){if(b==null){b=null}var d=Ext.Array.slice(arguments,2);return j.map(c,function(l){if(!Ext.isFunction(l)){throw new Error("Invalid parameter: expected a function.")}return l.apply(b,d)})},pipeline:function(c,d,b){if(b==null){b=null}return j.reduce(c,function(m,n){if(!Ext.isFunction(n)){throw new Error("Invalid parameter: expected a function.")}return n.call(b,m)},d)},reduce:function(d,c,l){var b=arguments.length===3;return j.resolved(d).then(function(k){var n=[k,function(q,m,r){return j.resolved(q).then(function(o){return j.resolved(m).then(function(p){return c(o,p,r,k)})})}];if(b){n.push(l)}return Ext.Array.reduce.apply(Ext.Array,n)})},rejected:function(b){var c=new Ext.Deferred();c.reject(b);return c.promise},resolved:function(b){var c=new Ext.Deferred();c.resolve(b);return c.promise},sequence:function(c,b){if(b==null){b=null}var d=Ext.Array.slice(arguments,2);return j.reduce(c,function(n,m){if(!Ext.isFunction(m)){throw new Error("Invalid parameter: expected a function.")}return j.resolved(m.apply(b,d)).then(function(k){n.push(k);return n})},[])},some:function(b,c){return j.resolved(b).then(function(B){var E,w,d,F,C,D,y,v,A,x;v=[];y=c;D=(B.length-y)+1;E=new j();if(B.length<c){E.reject(new Error("Too few Promises were resolved."))}else{F=function(k){if(y>0){v.push(k)}y--;if(y===0){E.resolve(v)}return k};d=function(k){D--;if(D===0){E.reject(new Error("Too few Promises were resolved."))}return k};for(w=A=0,x=B.length;A<x;w=++A){C=B[w];if(w in B){j.resolved(C).then(F,d)}}}return E.promise})},timeout:function(l,c){var d=new j(),b;b=setTimeout(function(){if(b){d.reject(new Error("Promise timed out."))}},c);j.resolved(l).then(function(k){clearTimeout(b);b=null;d.resolve(k)},function(k){clearTimeout(b);b=null;d.reject(k)});return d.promise}}}},0,0,0,0,0,0,[Ext,"Deferred"],function(c){c._ready()}));Ext.Factory=function(d){var f=this;f.aliasPrefix=d+".";f.cache={};f.name=d.replace(f.fixNameRe,f.fixNameFn);f.type=d};Ext.Factory.prototype={defaultProperty:"type",instanceProp:"isInstance",create:function(u,r){var o=this,w=Ext.ClassManager,v=o.cache,s,p,q,n;if(u){if(u[o.instanceProp]){return u}if(typeof u==="string"){n=u;u={};u[o.defaultProperty]=n}p=u.xclass;n=u.type}if(r&&r.constructor===Object){u=Ext.apply({},u,r);r=r.type}if(p){if(!(q=w.get(p))){return w.instantiate(p,u)}}else{if(!(n=n||r||o.defaultType)){q=o.defaultClass}if(!q&&!(q=v[n])){s=o.aliasPrefix+n;p=w.getNameByAlias(s);if(!(q=p&&w.get(p))){return w.instantiateByAlias(s,u)}v[n]=q}}return q.isInstance?q:new q(u)},fixNameRe:/\.[a-z]/ig,fixNameFn:function(c){return c.substring(1).toUpperCase()},clearCache:function(){this.cache={}}};Ext.Factory.define=function(l,n){var k=Ext.Factory,p,o,m;if(l.constructor===Object){Ext.Object.each(l,k.define,k)}else{o=new Ext.Factory(l);if(n){if(n.constructor===Object){Ext.apply(o,n);if(typeof(p=o.xclass)==="string"){o.defaultClass=Ext.ClassManager.get(p)}}else{o.defaultType=n}}k[o.name]=m=o.create.bind(o);m.instance=o}return m};(Ext.cmd.derive("Ext.mixin.Factoryable",Ext.Base,{mixinId:"factoryable",onClassMixedIn:function(n){var o=n.prototype,m=o.factoryConfig,p=o.alias,q={},r,l;p=p&&p.length&&p[0];if(p&&(r=p.lastIndexOf("."))>0){q.type=p.substring(0,r);q.defaultType=p.substring(r+1)}if(m){delete o.factoryConfig;Ext.apply(q,m)}l=Ext.Factory.define(q.type,q);if(n.create===Ext.Base.create){n.create=l}}},0,0,0,0,0,0,[Ext.mixin,"Factoryable"],0));(Ext.cmd.derive("Ext.data.request.Base",Ext.Base,{factoryConfig:{type:"request",defaultType:"ajax"},result:null,success:null,timer:null,constructor:function(d){var f=this;Ext.apply(f,d.options||{},d.ownerConfig);f.id=++Ext.data.Connection.requestId;f.owner=d.owner;f.options=d.options;f.requestOptions=d.requestOptions},start:function(){var d=this,f=d.getTimeout();if(f&&d.async){d.timer=Ext.defer(d.onTimeout,f,d)}},abort:function(){var c=this;c.clearTimer();if(!c.timedout){c.aborted=true}c.abort=Ext.emptyFn},createDeferred:function(){return(this.deferred=new Ext.Deferred())},getDeferred:function(){return this.deferred||this.createDeferred()},getPromise:function(){return this.getDeferred().promise},then:function(){var c=this.getPromise();return c.then.apply(c,arguments)},onComplete:function(){var g=this,j=g.deferred,f=g.result;g.clearTimer();if(j){if(g.success){j.resolve(f)}else{j.reject(f)}}},onTimeout:function(){var c=this;c.timedout=true;c.timer=null;c.abort(true)},getTimeout:function(){return this.timeout},clearTimer:function(){var c=this.timer;if(c){clearTimeout(c);this.timer=null}},destroy:function(){var c=this;c.abort();c.owner=c.options=c.requestOptions=c.result=null;c.callParent()},privates:{createException:function(){var f=this,d;d={request:f,requestId:f.id,status:f.aborted?-1:0,statusText:f.aborted?"transaction aborted":"communication failure",getResponseHeader:f._getHeader,getAllResponseHeaders:f._getHeaders};if(f.aborted){d.aborted=true}if(f.timedout){d.timedout=true}return d},_getHeader:function(d){var f=this.headers;return f&&f[d.toLowerCase()]},_getHeaders:function(){return this.headers}}},1,0,0,0,0,[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.request,"Base"],0));(Ext.cmd.derive("Ext.data.flash.BinaryXhr",Ext.Base,{statics:{flashPluginActivated:function(){Ext.data.flash.BinaryXhr.flashPluginActive=true;Ext.data.flash.BinaryXhr.flashPlugin=document.getElementById("ext-flash-polyfill");Ext.GlobalEvents.fireEvent("flashready")},flashPluginActive:false,flashPluginInjected:false,connectionIndex:1,liveConnections:{},flashPlugin:null,onFlashStateChange:function(j,k,l){var g;g=this.liveConnections[Number(j)];if(g){g.onFlashStateChange(k,l)}},registerConnection:function(f){var d=this.connectionIndex;this.conectionIndex=this.connectionIndex+1;this.liveConnections[d]=f;return d},injectFlashPlugin:function(){var j=this,f,g;j.flashPolyfillEl=Ext.getBody().appendChild({id:"ext-flash-polyfill",cn:[{tag:"p",html:"To view this page ensure that Adobe Flash Player version 11.1.0 or greater is installed."},{tag:"a",href:"http://www.adobe.com/go/getflashplayer",cn:[{tag:"img",src:window.location.protocol+"//www.adobe.com/images/shared/download_buttons/get_flash_player.gif",alt:"Get Adobe Flash player"}]}]});f=[Ext.Loader.getPath("Ext.data.Connection"),"../../../plugins/flash/swfobject.js"].join("/");g="/plugins/flash/FlashPlugin.swf";if(Ext.flashPluginPath){g=Ext.flashPluginPath}Ext.Loader.loadScript({url:f,onLoad:function(){var m="11.4.0";var c="playerProductInstall.swf";var n={};var b={};b.quality="high";b.bgcolor="#ffffff";b.allowscriptaccess="sameDomain";b.allowfullscreen="true";var d={};d.id="ext-flash-polyfill";d.name="polyfill";d.align="middle";swfobject.embedSWF(g,"ext-flash-polyfill","0","0",m,c,n,b,d)},onError:function(){},scope:j});Ext.data.flash.BinaryXhr.flashPluginInjected=true}},readyState:0,status:0,statusText:"",responseBytes:null,javascriptId:null,constructor:function(d){if(!Ext.data.flash.BinaryXhr.flashPluginInjected){Ext.data.flash.BinaryXhr.injectFlashPlugin()}var f=this;Ext.apply(f,d);f.requestHeaders={}},abort:function(){var c=this;if(c.readyState==4){return}c.aborted=true;if(!Ext.data.flash.BinaryXhr.flashPluginActive){Ext.GlobalEvents.removeListener("flashready",c.onFlashReady,c);return}Ext.data.flash.BinaryXhr.flashPlugin.abortRequest(c.javascriptId);delete Ext.data.flash.BinaryXhr.liveConnections[c.javascriptId]},getAllResponseHeaders:function(){var c=[];Ext.Object.each(this.responseHeaders,function(f,b){c.push(f+": "+b)});return c.join("\r\n")},getResponseHeader:function(f){var d=this.responseHeaders;return(d&&d[f])||null},open:function(l,o,n,k,p){var m=this;m.method=l;m.url=o;m.async=n!==false;m.user=k;m.password=p},overrideMimeType:function(c){this.mimeType=c},send:function(d){var f=this;f.body=d;if(!Ext.data.flash.BinaryXhr.flashPluginActive){Ext.GlobalEvents.addListener("flashready",f.onFlashReady,f)}else{this.onFlashReady()}},onFlashReady:function(){var g=this,j,f;g.javascriptId=Ext.data.flash.BinaryXhr.registerConnection(g);j={method:g.method,url:g.url,user:g.user,password:g.password,mimeType:g.mimeType,requestHeaders:g.requestHeaders,body:g.body,javascriptId:g.javascriptId};f=Ext.data.flash.BinaryXhr.flashPlugin.postBinary(j)},setReadyState:function(f){var d=this;if(d.readyState!=f){d.readyState=f;d.onreadystatechange()}},setRequestHeader:function(f,d){this.requestHeaders[f]=d},onreadystatechange:Ext.emptyFn,parseData:function(f){var d=this;this.status=f.status||0;d.responseHeaders={};if(d.mimeType){d.responseHeaders["content-type"]=d.mimeType}if(f.reason=="complete"){this.responseBytes=f.data;d.responseHeaders["content-length"]=f.data.length}else{if(f.reason=="error"||f.reason=="securityError"){this.statusText=f.text;d.responseHeaders["content-length"]=0}}},onFlashStateChange:function(g,j){var f=this;if(g==4){f.parseData(j);delete Ext.data.flash.BinaryXhr.liveConnections[f.javascriptId]}f.setReadyState(g)}},1,0,0,0,0,0,[Ext.data.flash,"BinaryXhr"],0));(Ext.cmd.derive("Ext.data.request.Ajax",Ext.data.request.Base,{statics:{parseStatus:function(n,m){var j;if(m){if(m.responseType==="arraybuffer"){j=m.byteLength}else{if(m.responseText){j=m.responseText.length}}}n=n==1223?204:n;var k=(n>=200&&n<300)||n==304||(n==0&&Ext.isNumber(j)),l=false;if(!k){switch(n){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:l=true;break}}return{success:k,isException:l}}},start:function(o){var q=this,r=q.options,l=q.requestOptions,p=q.isXdr,m,n;m=q.xhr=q.openRequest(r,l,q.async,q.username,q.password);if(!p){n=q.setupHeaders(m,r,l.data,l.params)}if(q.async){if(!p){m.onreadystatechange=Ext.Function.bind(q.onStateChange,q)}}if(p){q.processXdrRequest(q,m)}Ext.data.request.Base.prototype.start.call(this,o);m.send(o);if(!q.async){return q.onComplete()}return q},abort:function(l){var g=this,j=g.xhr;if(l||g.isLoading()){try{j.onreadystatechange=null}catch(k){j.onreadystatechange=Ext.emptyFn}j.abort();Ext.data.request.Base.prototype.abort.call(this,l);g.onComplete();g.cleanup()}},cleanup:function(){this.xhr=null;delete this.xhr},isLoading:function(){var g=this,j=g.xhr,l=j&&j.readyState,k=Ext.data.flash&&Ext.data.flash.BinaryXhr;if(!j||g.aborted||g.timedout){return false}if(k&&j instanceof k){return l!==4}return l!==0&&l!==4},openRequest:function(q,l,p,m,r){var o=this,n=o.newRequest(q);if(m){n.open(l.method,l.url,p,m,r)}else{if(o.isXdr){n.open(l.method,l.url)}else{n.open(l.method,l.url,p)}}if(q.binary||o.binary){if(window.Uint8Array){n.responseType="arraybuffer"}else{if(n.overrideMimeType){n.overrideMimeType("text/plain; charset=x-user-defined")}}}if(q.withCredentials||o.withCredentials){n.withCredentials=true}return n},newRequest:function(f){var j=this,g;if(f.binaryData){if(window.Uint8Array){g=j.getXhrInstance()}else{g=new Ext.data.flash.BinaryXhr()}}else{if(j.cors&&Ext.isIE9m){g=j.getXdrInstance();j.isXdr=true}else{g=j.getXhrInstance();j.isXdr=false}}return g},setupHeaders:function(u,s,D,E){var y=this,G=Ext.apply({},s.headers||{},y.defaultHeaders),v=y.defaultPostHeader,x=s.jsonData,H=s.xmlData,A="Content-Type",F=y.useDefaultXhrHeader,w,C;if(!G.hasOwnProperty(A)&&(D||E)){if(D){if(s.rawData){v="text/plain"}else{if(H&&Ext.isDefined(H)){v="text/xml"}else{if(x&&Ext.isDefined(x)){v="application/json"}}}}G[A]=v}if(F&&!G["X-Requested-With"]){G["X-Requested-With"]=y.defaultXhrHeader}if(G[A]===undefined||G[A]===null){delete G[A]}try{for(w in G){if(G.hasOwnProperty(w)){C=G[w];u.setRequestHeader(w,C)}}}catch(B){y.owner.fireEvent("exception",w,C)}return G},getXdrInstance:function(){var c;if(Ext.ieVersion>=8){c=new XDomainRequest()}else{Ext.raise({msg:"Your browser does not support CORS"})}return c},getXhrInstance:(function(){var n=[function(){return new XMLHttpRequest()},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],m=0,j=n.length,k;for(;m<j;++m){try{k=n[m];k();break}catch(l){}}return k}()),processXdrRequest:function(j,g){var f=this;delete j.headers;j.contentType=j.options.contentType||f.defaultXdrContentType;g.onload=Ext.Function.bind(f.onStateChange,f,[true]);g.onerror=g.ontimeout=Ext.Function.bind(f.onStateChange,f,[false])},processXdrResponse:function(d,f){d.getAllResponseHeaders=function(){return[]};d.getResponseHeader=function(){return""};d.contentType=f.contentType||this.defaultXdrContentType},onStateChange:function(l){var k=this,j=k.xhr,g=Ext.GlobalEvents;if((j&&j.readyState==4)||k.isXdr){k.clearTimer();k.onComplete(l);k.cleanup();if(g.hasListeners.idle){g.fireEvent("idle")}}},onComplete:function(q){var u=this,y=u.owner,p=u.options,r=u.xhr,x={success:false,isException:false},o,s,w;if(!r||u.destroyed){return u.result=x}try{o=Ext.data.request.Ajax.parseStatus(r.status,r);if(o.success){o.success=r.readyState===4}}catch(v){o=x}s=u.success=u.isXdr?q:o.success;if(s){w=u.createResponse(r);if(y.hasListeners.requestcomplete){y.fireEvent("requestcomplete",y,w,p)}if(p.success){Ext.callback(p.success,p.scope,[w,p])}}else{if(o.isException||u.aborted||u.timedout){w=u.createException(r)}else{w=u.createResponse(r)}if(y.hasListeners.requestexception){y.fireEvent("requestexception",y,w,p)}if(p.failure){Ext.callback(p.failure,p.scope,[w,p])}}u.result=w;if(p.callback){Ext.callback(p.callback,p.scope,[p,s,w])}y.onRequestComplete(u);Ext.data.request.Base.prototype.onComplete.call(this,q);return w},createResponse:function(r){var u=this,y=u.isXdr,A={},q=y?[]:r.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),w=q.length,p,v,s,x,B;while(w--){p=q[w];v=p.indexOf(":");if(v>=0){s=p.substr(0,v).toLowerCase();if(p.charAt(v+1)==" "){++v}A[s]=p.substr(v+1)}}x={request:u,requestId:u.id,status:r.status,statusText:r.statusText,getResponseHeader:function(b){return A[b.toLowerCase()]},getAllResponseHeaders:function(){return A}};if(y){u.processXdrResponse(x,r)}if(u.binary){x.responseBytes=u.getByteArray(r)}else{x.responseText=r.responseText;x.responseXML=r.responseXML}return x},destroy:function(){this.xhr=null;Ext.data.request.Base.prototype.destroy.call(this)},privates:{getByteArray:function(o){var u=o.response,v=o.responseBody,n=Ext.data.flash&&Ext.data.flash.BinaryXhr,w,p,r,s;if(o instanceof n){w=o.responseBytes}else{if(window.Uint8Array){w=u?new Uint8Array(u):[]}else{if(Ext.isIE9p){try{w=new VBArray(v).toArray()}catch(q){w=[]}}else{if(Ext.isIE){if(!this.self.vbScriptInjected){this.injectVBScript()}getIEByteArray(o.responseBody,w=[])}else{w=[];p=o.responseText;r=p.length;for(s=0;s<r;s++){w.push(p.charCodeAt(s)&255)}}}}}return w},injectVBScript:function(){var c=document.createElement("script");c.type="text/vbscript";c.text=["Function getIEByteArray(byteArray, out)","Dim len, i","len = LenB(byteArray)","For i = 1 to len","out.push(AscB(MidB(byteArray, i, 1)))","Next","End Function"].join("\n");Ext.getHead().dom.appendChild(c);this.self.vbScriptInjected=true}}},0,0,0,0,["request.ajax"],0,[Ext.data.request,"Ajax"],0));(Ext.cmd.derive("Ext.data.request.Form",Ext.data.request.Base,{start:function(j){var k=this,l=k.options,g=k.requestOptions;Ext.data.request.Base.prototype.start.call(this,j);k.form=k.upload(l.form,g.url,g.data,l);return k},abort:function(l){var g=this,j;if(g.isLoading()){try{j=g.frame.dom;if(j.stop){j.stop()}else{j.document.execCommand("Stop")}}catch(k){}}Ext.data.request.Base.prototype.abort.call(this,l);g.onComplete();g.cleanup()},cleanup:function(){var d=this,f=d.frame;if(f){f.un("load",d.onComplete,d);Ext.removeNode(f)}d.frame=d.form=null},isLoading:function(){return !!this.frame},upload:function(S,N,v,O){S=Ext.getDom(S);O=O||{};var C=document.createElement("iframe"),J=Ext.get(C),G=J.id,R=[],Q="multipart/form-data",B={target:S.target,method:S.method,encoding:S.encoding,enctype:S.enctype,action:S.action},T=function(b,c){M=document.createElement("input");Ext.fly(M).set({type:"hidden",value:c,name:b});S.appendChild(M);R.push(M)},M,K,E,I,F,L,H,D,P;J.set({name:G,cls:"x-hidden-display",src:Ext.SSL_SECURE_URL,tabIndex:-1});document.body.appendChild(C);if(document.frames){document.frames[G].name=G}Ext.fly(S).set({target:G,method:"POST",enctype:Q,encoding:Q,action:N||B.action});if(v){K=Ext.Object.fromQueryString(v)||{};for(I in K){if(K.hasOwnProperty(I)){E=K[I];if(Ext.isArray(E)){F=E.length;for(L=0;L<F;L++){T(I,E[L])}}else{T(I,E)}}}}this.frame=J;J.on({load:this.onComplete,scope:this,single:!Ext.isOpera});S.submit();Ext.fly(S).set(B);for(H=R.length,D=0;D<H;D++){Ext.removeNode(R[D])}return S},getDoc:function(){var c=this.frame.dom;return(c&&(c.contentWindow.document||c.contentDocument))||(window.frames[c.id]||{}).document},getTimeout:function(){return this.options.timeout},onComplete:function(){var s=this,x=s.frame,y=s.owner,o=s.options,q,r,p,v,w;if(!x){return}if(s.aborted||s.timedout){s.result=w=s.createException();w.responseXML=null;w.responseText='{success:false,message:"'+Ext.String.trim(w.statusText)+'"}';w.request=s;q=o.failure;p=false}else{try{r=s.getDoc();s.result=w={responseText:"",responseXML:null,request:s};if(r){if(Ext.isOpera&&r.location==Ext.SSL_SECURE_URL){return}if(r.body){if((v=r.body.firstChild)&&/pre/i.test(v.tagName)){w.responseText=v.textContent||v.innerText}else{if((v=r.getElementsByTagName("textarea")[0])){w.responseText=v.value}else{w.responseText=r.body.textContent||r.body.innerText}}}w.responseXML=r.XMLDocument||r;q=o.success;p=true;w.status=200}else{Ext.raise("Could not acquire a suitable connection for the file upload service.")}}catch(u){s.result=w=s.createException();w.status=400;w.statusText=(u.message||u.description)+"";w.responseText='{success:false,message:"'+Ext.String.trim(w.statusText)+'"}';w.responseXML=null;q=o.failure;p=false}}s.frame=null;s.success=p;y.fireEvent(p?"requestcomplete":"requestexception",y,w,o);Ext.callback(q,o.scope,[w,o]);Ext.callback(o.callback,o.scope,[o,p,w]);y.onRequestComplete(s);Ext.asap(x.destroy,x);Ext.data.request.Base.prototype.onComplete.call(this)},destroy:function(){this.cleanup();Ext.data.request.Base.prototype.destroy.call(this)}},0,0,0,0,["request.form"],0,[Ext.data.request,"Form"],0));(Ext.cmd.derive("Ext.data.Connection",Ext.Base,{statics:{requestId:0},enctypeRe:/multipart\/form-data/i,config:{url:null,async:true,username:"",password:"",disableCaching:true,withCredentials:false,binary:false,cors:false,isXdr:false,defaultXdrContentType:"text/plain",disableCachingParam:"_dc",timeout:30000,extraParams:null,autoAbort:false,method:null,defaultHeaders:null,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:true,defaultXhrHeader:"XMLHttpRequest"},constructor:function(c){this.mixins.observable.constructor.call(this,c);this.requests={}},request:function(l){l=l||{};var j=this,g,k;if(j.fireEvent("beforerequest",j,l)!==false){g=j.setOptions(l,l.scope||Ext.global);k=j.createRequest(l,g);return k.start(g.data)}Ext.callback(l.callback,l.scope,[l,undefined,undefined]);return Ext.Deferred.rejected([l,undefined,undefined])},createRequest:function(n,j){var k=this,m=n.type||j.type,l;if(!m){m=k.isFormUpload(n)?"form":"ajax"}if(n.autoAbort||k.getAutoAbort()){k.abort()}l=Ext.Factory.request({type:m,owner:k,options:n,requestOptions:j,ownerConfig:k.getConfig()});k.requests[l.id]=l;k.latestId=l.id;return l},isFormUpload:function(d){var f=this.getForm(d);if(f){return d.isUpload||this.enctypeRe.test(f.getAttribute("enctype"))}return false},getForm:function(c){return Ext.getDom(c.form)},setOptions:function(q,r){var u=this,y=q.params||{},v=u.getExtraParams(),A=q.urlParams,B=q.url||u.getUrl(),w=q.cors,s=q.jsonData,C,D,x;if(w!==undefined){u.setCors(w)}if(Ext.isFunction(y)){y=y.call(r,q)}if(Ext.isFunction(B)){B=B.call(r,q)}B=this.setupUrl(q,B);x=q.rawData||q.binaryData||q.xmlData||s||null;if(s&&!Ext.isPrimitive(s)){x=Ext.encode(x)}if(q.binaryData){if(u.nativeBinaryPostSupport()){x=(new Uint8Array(q.binaryData));if((Ext.isChrome&&Ext.chromeVersion<22)||Ext.isSafari||Ext.isGecko){x=x.buffer}}}if(Ext.isObject(y)){y=Ext.Object.toQueryString(y)}if(Ext.isObject(v)){v=Ext.Object.toQueryString(v)}y=y+((v)?((y)?"&":"")+v:"");A=Ext.isObject(A)?Ext.Object.toQueryString(A):A;y=this.setupParams(q,y);C=(q.method||u.getMethod()||((y||x)?"POST":"GET")).toUpperCase();this.setupMethod(q,C);D=q.disableCaching!==false?(q.disableCaching||u.getDisableCaching()):false;if(C==="GET"&&D){B=Ext.urlAppend(B,(q.disableCachingParam||u.getDisableCachingParam())+"="+(new Date().getTime()))}if((C=="GET"||x)&&y){B=Ext.urlAppend(B,y);y=null}if(A){B=Ext.urlAppend(B,A)}return{url:B,method:C,data:x||y||null}},setupUrl:function(j,f){var g=this.getForm(j);if(g){f=f||g.action}return f},setupParams:function(g,j){var k=this.getForm(g),l;if(k&&!this.isFormUpload(g)){l=Ext.Element.serializeForm(k);j=j?(j+"&"+l):l}return j},setupMethod:function(d,f){if(this.isFormUpload(d)){return"POST"}return f},isLoading:function(c){if(!c){c=this.getLatest()}return c?c.isLoading():false},abort:function(c){if(!c){c=this.getLatest()}if(c&&c.isLoading()){c.abort()}},abortAll:function(){var f=this.requests,d;for(d in f){this.abort(f[d])}},getLatest:function(){var f=this.latestId,d;if(f){d=this.requests[f]}return d||null},clearTimeout:function(c){if(!c){c=this.getLatest()}if(c){c.clearTimer()}},onRequestComplete:function(c){delete this.requests[c.id]},nativeBinaryPostSupport:function(){return Ext.isChrome||(Ext.isSafari&&Ext.isDefined(window.Uint8Array))||(Ext.isGecko&&Ext.isDefined(window.Uint8Array))}},1,0,0,0,0,[["observable",Ext.mixin.Observable]],[Ext.data,"Connection"],0));Ext.define("Ext.overrides.data.Connection",{override:"Ext.data.Connection",onRequestComplete:function(c){},request:function(d){var f={"Credential-Type":Ext.manifest.appType};if(Ext.manifest.auth){f.Authorization="Bearer "+Ext.manifest.auth}d.headers=f;return arguments.callee.$previous.apply(this,arguments)}});(Ext.cmd.derive("Ext.Ajax",Ext.data.Connection,{singleton:true,autoAbort:false},0,0,0,0,0,0,[Ext,"Ajax"],0));(Ext.cmd.derive("Ext.AnimationQueue",Ext.Base,{singleton:true,constructor:function(){var c=this;c.queue=[];c.taskQueue=[];c.runningQueue=[];c.idleQueue=[];c.isRunning=false;c.isIdle=true;c.run=Ext.Function.bind(c.run,c);if(Ext.os.is.iOS){Ext.interval(c.watch,500,c)}},start:function(k,l,g){var j=this;j.queue.push(arguments);if(!j.isRunning){if(j.hasOwnProperty("idleTimer")){clearTimeout(j.idleTimer);delete j.idleTimer}if(j.hasOwnProperty("idleQueueTimer")){clearTimeout(j.idleQueueTimer);delete j.idleQueueTimer}j.isIdle=false;j.isRunning=true;j.doStart()}},watch:function(){if(this.isRunning&&Ext.now()-this.lastRunTime>=500){this.run()}},run:function(){var k=this;if(!k.isRunning){return}var j=k.runningQueue,n=Ext.now(),m,l;k.lastRunTime=n;k.frameStartTime=n;j.push.apply(j,k.queue);for(m=0,l=j.length;m<l;m++){k.invoke(j[m])}j.length=0;k.doIterate()},doStart:function(){this.animationFrameId=Ext.Function.requestAnimationFrame(this.run);this.lastRunTime=Ext.now()},doIterate:function(){this.animationFrameId=Ext.Function.requestAnimationFrame(this.run)},doStop:function(){Ext.Function.cancelAnimationFrame(this.animationFrameId)},stop:function(q,r,u){var n=this;if(!n.isRunning){return}var m=n.queue,o=m.length,s,p;for(s=0;s<o;s++){p=m[s];if(p[0]===q&&p[1]===r&&p[2]===u){m.splice(s,1);s--;o--}}if(o===0){n.doStop();n.isRunning=false;n.idleTimer=Ext.defer(n.whenIdle,100,n)}},onIdle:function(o,p,l){var q=this.idleQueue,r,n,m;for(r=0,n=q.length;r<n;r++){m=q[r];if(o===m[0]&&p===m[1]&&l===m[2]){return}}q.push(arguments);if(this.isIdle){this.processIdleQueue()}},unIdle:function(o,p,l){var q=this.idleQueue,r,n,m;for(r=0,n=q.length;r<n;r++){m=q[r];if(o===m[0]&&p===m[1]&&l===m[2]){q.splice(r,1);return true}}return false},queueTask:function(g,j,f){this.taskQueue.push(arguments);this.processTaskQueue()},dequeueTask:function(o,p,l){var q=this.taskQueue,r,n,m;for(r=0,n=q.length;r<n;r++){m=q[r];if(o===m[0]&&p===m[1]&&l===m[2]){q.splice(r,1);r--;n--}}},invoke:function(j){var k=j[0],l=j[1],g=j[2];k=(typeof k=="string"?l[k]:k);if(Ext.isArray(g)){k.apply(l,g)}else{k.call(l,g)}},whenIdle:function(){this.isIdle=true;this.processIdleQueue()},processIdleQueue:function(){if(!this.hasOwnProperty("idleQueueTimer")){this.idleQueueTimer=Ext.defer(this.processIdleQueueItem,1,this)}},processIdleQueueItem:function(){delete this.idleQueueTimer;if(!this.isIdle){return}var d=this.idleQueue,f;if(d.length>0){f=d.shift();this.invoke(f);this.processIdleQueue()}},processTaskQueue:function(){if(!this.hasOwnProperty("taskQueueTimer")){this.taskQueueTimer=Ext.defer(this.processTaskQueueItem,15,this)}},processTaskQueueItem:function(){delete this.taskQueueTimer;var d=this.taskQueue,f;if(d.length>0){f=d.shift();this.invoke(f);this.processTaskQueue()}}},1,0,0,0,0,0,[Ext,"AnimationQueue"],0));(Ext.cmd.derive("Ext.ComponentManager",Ext.Base,{alternateClassName:"Ext.ComponentMgr",singleton:true,count:0,typeName:"xtype",constructor:function(d){var f=this;Ext.apply(f,d||{});f.all={};f.references={};f.onAvailableCallbacks={}},create:function(d,f){if(typeof d==="string"){return Ext.widget(d)}if(d.isComponent){return d}if("xclass" in d){return Ext.create(d.xclass,d)}return Ext.widget(d.xtype||f,d)},get:function(c){return this.all[c]},register:function(j){var k=this,l=k.all,m=j.getId(),n=k.onAvailableCallbacks;l[m]=j;if(j.getReference&&j.getReference()){k.references[m]=j}++k.count;if(!k.hasFocusListener){Ext.on("focus",k.onGlobalFocus,k);k.hasFocusListener=true}n=n&&n[m];if(n&&n.length){k.notifyAvailable(j)}},unregister:function(d){var f=d.getId();if(d.getReference&&d.getReference()){this.references[f]=null;delete this.references[f]}this.all[f]=null;delete this.all[f];this.count--},markReferencesDirty:function(){this.referencesDirty=true},fixReferences:function(){var g=this,j=g.references,f;if(g.referencesDirty){for(f in j){if(j.hasOwnProperty(f)){j[f].fixReference()}}g.referencesDirty=false}},onAvailable:function(m,q,r){var n=this,o=n.onAvailableCallbacks,l=n.all,p;if(m in l){p=l[m];q.call(r||p,p)}else{if(m){if(!Ext.isArray(o[m])){o[m]=[]}o[m].push(function(b){q.call(r||b,b)})}}},notifyAvailable:function(f){var d=this.onAvailableCallbacks[f&&f.getId()]||[];while(d.length){(d.shift())(f)}},each:function(f,d){return Ext.Object.each(this.all,f,d)},getCount:function(){return this.count},getAll:function(){return Ext.Object.getValues(this.all)},getActiveComponent:function(){return Ext.Component.fromElement(Ext.dom.Element.getActiveElement())},onGlobalFocus:function(o){var r=this,u=o.toElement,n=o.fromElement,p=Ext.Component.fromElement(u),m=Ext.Component.fromElement(n),s,q;if(p===m){return}s=r.getCommonAncestor(m,p);if(m&&!(m.destroyed||m.destroying)){if(m.handleBlurEvent){m.handleBlurEvent(o)}for(q=m;q&&q!==s;q=q.getRefOwner()){if(!(q.destroyed||q.destroying)){q.onFocusLeave({event:o.event,type:"focusleave",target:n,relatedTarget:u,fromComponent:m,toComponent:p})}}}if(p&&!(p.destroyed||p.destroying)){if(p.handleFocusEvent){p.handleFocusEvent(o)}for(q=p;q&&q!==s;q=q.getRefOwner()){q.onFocusEnter({event:o.event,type:"focusenter",relatedTarget:n,target:u,fromComponent:m,toComponent:p})}}},getCommonAncestor:function(f,d){if(f===d){return f}while(f&&!(f.isAncestor(d)||f===d)){f=f.getRefOwner()}return f},privates:{clearAll:function(){this.all={};this.references={};this.onAvailableCallbacks={}},fromElement:function(v,s,u){var p=Ext.getDom(v),w=this.all,r=0,n,q,o;if(typeof s!=="number"){n=Ext.getDom(s);s=Number.MAX_VALUE}while(p&&p.nodeType===1&&r<s&&p!==n){q=p.getAttribute("data-componentid")||p.id;if(q){o=w[q];if(o&&(!u||Ext.ComponentQuery.is(o,u))){return o}r++}p=p.parentNode}return null}},deprecated:{5:{methods:{isRegistered:null,registerType:null}}}},1,0,0,0,0,0,[Ext,"ComponentManager",Ext,"ComponentMgr"],function(){Ext.getCmp=function(c){return Ext.ComponentManager.get(c)}}));Ext.ns("Ext.util").Operators={"=":function(d,f){return d==f},"!=":function(d,f){return d!=f},"^=":function(d,f){return d&&d.substr(0,f.length)==f},"$=":function(d,f){return d&&d.substr(d.length-f.length)==f},"*=":function(d,f){return d&&d.indexOf(f)!==-1},"%=":function(d,f){return(d%f)===0},"|=":function(d,f){return d&&(d==f||d.substr(0,f.length+1)==f+"-")},"~=":function(d,f){return d&&(" "+d+" ").indexOf(" "+f+" ")!=-1}};(Ext.cmd.derive("Ext.util.LruCache",Ext.util.HashMap,{config:{maxSize:null},add:function(j,k){var l=this,m,n;l.removeAtKey(j);n=l.last;m={prev:n,next:null,key:j,value:k};if(n){n.next=m}else{l.first=m}l.last=m;Ext.util.HashMap.prototype.add.call(this,j,m);l.prune();return k},insertBefore:function(p,l,o){var m=this,k,n;if(o=this.map[this.findKey(o)]){k=m.findKey(l);if(k){m.unlinkEntry(n=m.map[k])}else{n={prev:o.prev,next:o,key:p,value:l}}if(o.prev){n.prev.next=n}else{m.first=n}n.next=o;o.prev=n;m.prune();return l}else{return m.add(p,l)}},get:function(d){var f=this.map[d];if(f){if(f.next){this.moveToEnd(f)}return f.value}},removeAtKey:function(c){this.unlinkEntry(this.map[c]);return Ext.util.HashMap.prototype.removeAtKey.apply(this,arguments)},clear:function(c){this.first=this.last=null;return Ext.util.HashMap.prototype.clear.call(this,c)},unlinkEntry:function(c){if(c){if(c.next){c.next.prev=c.prev}else{this.last=c.prev}if(c.prev){c.prev.next=c.next}else{this.first=c.next}c.prev=c.next=null}},moveToEnd:function(c){this.unlinkEntry(c);if(c.prev=this.last){this.last.next=c}else{this.first=c}this.last=c},getArray:function(g){var f=[],j=this.first;while(j){f.push(g?j.key:j.value);j=j.next}return f},each:function(o,p,k){var l=this,m=k?l.last:l.first,n=l.length;p=p||l;while(m){if(o.call(p,m.key,m.value,n)===false){break}m=k?m.prev:m.next}return l},findKey:function(j){var f,g=this.map;for(f in g){if(g.hasOwnProperty(f)&&g[f].value===j){return f}}return undefined},clone:function(){var f=new this.self(this.initialConfig),g=this.map,j;f.suspendEvents();for(j in g){if(g.hasOwnProperty(j)){f.add(j,g[j].value)}}f.resumeEvents();return f},prune:function(){var j=this,f=j.getMaxSize(),g=f?(j.length-f):0;if(g>0){for(;j.first&&g;g--){j.removeAtKey(j.first.key)}}}},0,0,0,0,0,0,[Ext.util,"LruCache"],0));(Ext.cmd.derive("Ext.ComponentQuery",Ext.Base,{singleton:true},0,0,0,0,0,0,[Ext,"ComponentQuery"],function(){var K=this,x=Ext.util.Operators,G=/(\d*)n\+?(\d*)/,L=/\D/,E=/^(\s)+/,F=/\\(.)/g,D=new Ext.util.LruCache({maxSize:100}),C=["var r = [],","i = 0,","it = items,","l = it.length,","c;","for (; i < l; i++) {","c = it[i];","if (c.{0}) {","r.push(c);","}","}","return r;"].join(""),B=function(c,b){return b.method.apply(this,[c].concat(b.args))},P=function(c,d){var b=[],k=0,f=c.length,g,j=d!==">";for(;k<f;k++){g=c[k];if(g.getRefItems){b=b.concat(g.getRefItems(j))}}return b},J=function(g){var c=[],b=0,d=g.length,f;for(;b<d;b++){f=g[b];while(!!(f=f.getRefOwner())){c.push(f)}}return c},M=function(k,d,f){if(d==="*"){return k.slice()}else{var c=[],b=0,g=k.length,j;for(;b<g;b++){j=k[b];if(j.isXType(d,f)){c.push(j)}}return c}},O=function(o,n,d,f){var g=[],p=0,j=o.length,k,b,m,l,q,r,c;if(n.charAt(0)==="@"){k=true;n=n.substr(1)}if(n.charAt(0)==="?"){k=true;b=true;n=n.substr(1)}for(;p<j;p++){m=o[p];c=m.self&&m.self.getConfigurator&&m.self.$config.configs[n];if(c){l=m[c.names.get]()}else{if(k&&!m.hasOwnProperty(n)){continue}else{l=m[n]}}if(b){g.push(m)}else{if(d==="~="){if(l){if(!Ext.isArray(l)){l=l.split(" ")}for(q=0,r=l.length;q<r;q++){if(x[d](Ext.coerce(l[q],f),f)){g.push(m);break}}}}else{if(d==="/="){if(l!=null&&f.test(l)){g.push(m)}}else{if(!f?!!m[n]:x[d](Ext.coerce(l,f),f)){g.push(m)}}}}}return g},I=function(l,d,c){var b=[],j=0,f=l.length,g,k;for(;j<f;j++){g=l[j];k=c?g.id:g.getItemId();if(k===d){b.push(g)}}return b},y=function(c,d,b){return K.pseudos[d](c,b)},H=/^(\s?([>\^])\s?|\s|$)/,A=/^(#)?((?:\\\.|[\w\-])+|\*)(?:\((true|false)\))?/,N=[{re:/^\.((?:\\\.|[\w\-])+)(?:\((true|false)\))?/,method:M,argTransform:function(b){if(b[1]!==undefined){b[1]=b[1].replace(F,"$1")}return b.slice(1)}},{re:/^(?:\[((?:[@?$])?[\w\-]*)\s*(?:([\^$*~%!\/]?=)\s*(['"])?((?:\\\]|.)*?)\3)?(?!\\)\])/,method:O,argTransform:function(j){var c=j[0],f=j[1],g=j[2],b=j[4],d;if(b!==undefined){b=b.replace(F,"$1")}if(g==="/="){d=D.get(b);if(d){b=d}else{b=D.add(b,new RegExp(b))}}return[f,g,b]}},{re:/^#((?:\\\.|[\w\-])+)/,method:I},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:y,argTransform:function(b){if(b[2]!==undefined){b[2]=b[2].replace(F,"$1")}return b.slice(1)}},{re:/^(?:\{([^\}]+)\})/,method:C}];K.Query=Ext.extend(Object,{constructor:function(b){b=b||{};Ext.apply(this,b)},execute:function(c){var j=this.operations,g=[],d,f,b;for(f=0,b=j.length;f<b;f++){d=j[f];g=g.concat(this._execute(c,d))}return g},_execute:function(j,g){var f=0,d=g.length,c,b;if(!j){b=Ext.ComponentManager.getAll()}else{if(Ext.isIterable(j)){b=j}else{if(j.isMixedCollection){b=j.items}}}for(;f<d;f++){c=g[f];if(c.mode==="^"){b=J(b||[j])}else{if(c.mode){b=P(b||[j],c.mode)}else{b=B(b||P([j]),c)}}if(f===d-1){return b}}return[]},is:function(g,c){var k=this.operations,j=false,b=k.length,d,f;if(b===0){return true}for(f=0;f<b;f++){d=k[f];j=this._is(g,c,d);if(j){return j}}return false},_is:function(m,l,j){var o=j.length,g=[m],f,c,d,b,n,k;for(c=o-1;c>=0;--c){f=j[c];b=f.mode;if(b){if(b==="^"){g=P(g," ")}else{if(b===">"){n=[];for(d=0,o=g.length;d<o;++d){k=g[d].getRefOwner();if(k){n.push(k)}}g=n}else{g=J(g)}}}else{g=B(g,f)}if(g.length===0){return false}}if(l){if(!b){g=J(g)}if(g.length>0){g=B(g,{method:I,args:[l.id,true]})}if(g.length===0){return false}}return true},getMatches:function(f,d){var c=d.length,b;for(b=0;b<c;++b){f=B(f,d[b]);if(f.length===0){break}}return f},isMultiMatch:function(){return this.operations.length>1}});Ext.apply(K,{cache:new Ext.util.LruCache({maxSize:100}),pseudos:{not:function(d,c){var g=0,f=d.length,k=[],b=-1,j;for(;g<f;++g){j=d[g];if(!K.is(j,c)){k[++b]=j}}return k},first:function(c){var b=[];if(c.length>0){b.push(c[0])}return b},last:function(c){var b=c.length,d=[];if(b>0){d.push(c[b-1])}return d},focusable:function(g){var c=g.length,f=[],b=0,d;for(;b<c;b++){d=g[b];if(d.isFocusable&&d.isFocusable()){f.push(d)}}return f},canfocus:function(j,f){var c=j.length,g=[],b=0,d;for(;b<c;b++){d=j[b];if(d.canFocus&&d.canFocus(false,f)){g.push(d)}}return g},"nth-child":function(m,l){var k=[],g=G.exec(l==="even"&&"2n"||l==="odd"&&"2n+1"||!L.test(l)&&"n+"+l||l),c=(g[1]||1)-0,b=g[2]-0,d,j,f;for(d=0;j=m[d];d++){f=d+1;if(c===1){if(b===0||f===b){k.push(j)}}else{if((f+b)%c===0){k.push(j)}}}return k},scrollable:function(g){var c=g.length,f=[],b=0,d;for(;b<c;b++){d=g[b];if(d.scrollable||d._scrollable){f.push(d)}}return f},visible:function(c,j){j=j==="true";var b=c.length,f=[],g=0,d;for(;g<b;g++){d=c[g];if(d.isVisible(j)){f.push(d)}}return f}},query:function(j,l){if(!j){return Ext.ComponentManager.all.getArray()}var f=[],k=[],b={},c=K.cache.get(j),d,m,g;if(!c){c=K.cache.add(j,K.parse(j))}f=c.execute(l);if(c.isMultiMatch()){d=f.length;for(g=0;g<d;g++){m=f[g];if(!b[m.id]){k.push(m);b[m.id]=true}}f=k}return f},visitPreOrder:function(c,b,d,g,f){K._visit(true,c,b,d,g,f)},visitPostOrder:function(c,b,d,g,f){K._visit(false,c,b,d,g,f)},_visit:function(l,g,m,n,k,b){var o=K.cache.get(g),c=[m],j,p=0,d,f;if(!o){o=K.cache.add(g,K.parse(g))}f=o.is(m);if(m.getRefItems){j=m.getRefItems();p=j.length}if(b){Ext.Array.push(c,b)}if(l){if(f){if(n.apply(k||m,c)===false){return false}}}for(d=0;d<p;d++){if(K._visit.call(K,l,g,j[d],n,k,b)===false){return false}}if(!l){if(f){if(n.apply(k||m,c)===false){return false}}}},is:function(c,b,f){if(!b){return true}var d=K.cache.get(b);if(!d){d=K.cache.add(b,K.parse(b))}return d.is(c,f)},parse:function(j){var c=[],f,d,g,b;f=Ext.splitAndUnescape(j,",");for(g=0,b=f.length;g<b;g++){d=Ext.String.trim(f[g]);c.push(K._parse(d))}return new K.Query({operations:c})},_parse:function(s){var k=[],c=Ext.String.trim,f=N.length,n,r,b,l,j,g,d,q,p,m,o;while(s&&n!==s){n=s;r=s.match(A);if(r){l=r[1];b=c(r[2]).replace(F,"$1");if(l==="#"){k.push({method:I,args:[b]})}else{k.push({method:M,args:[b,Boolean(r[3])]})}s=s.replace(r[0],"").replace(E,"$1")}while(!(j=s.match(H))){for(q=0;s&&q<f;q++){p=N[q];g=s.match(p.re);m=p.method;d=p.argTransform;if(g){if(d){o=d(g)}else{o=g.slice(1)}k.push({method:Ext.isString(p.method)?Ext.functionFactory("items",Ext.String.format.apply(Ext.String,[m].concat(g.slice(1)))):p.method,args:o});s=s.replace(g[0],"").replace(E,"$1");break}if(q===(f-1)){Ext.raise('Invalid ComponentQuery selector: "'+arguments[0]+'"')}}}if(j[1]){k.push({mode:j[2]||j[1]});s=s.replace(j[0],"").replace(E,"")}}return k}});Ext.all=function(){return K.query.apply(K,arguments)};Ext.first=function(){var b=K.query.apply(K,arguments);return(b&&b[0])||null}}));(Ext.cmd.derive("Ext.Evented",Ext.Base,{alternateClassName:"Ext.EventedBase",initialized:false,constructor:function(c){this.mixins.observable.constructor.call(this,c);this.initialized=true},onClassExtended:function(p,m){if(!m.hasOwnProperty("eventedConfig")){return}var n=m.config,l=m.eventedConfig,o,k;if(n){Ext.applyIf(n,l)}else{p.addConfig(l)}for(o in l){if(l.hasOwnProperty(o)){k=Ext.Config.get(o);m[k.names.set]=k.eventedSetter||k.getEventedSetter()}}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext,"Evented",Ext,"EventedBase"],0));(Ext.cmd.derive("Ext.util.Positionable",Ext.Base,{mixinId:"positionable",_positionTopLeft:["position","top","left"],clippedCls:"x-clipped",afterSetPosition:Ext.emptyFn,adjustForConstraints:function(g,j){var f=this.getConstrainVector(j,g);if(f){g[0]+=f[0];g[1]+=f[1]}return g},alignTo:function(o,k,l,p){var m=this,n=m.el;return m.setXY(m.getAlignToXY(o,k,l),n.anim&&!!p?n.anim(p):false)},calculateAnchorXY:function(j,k,l,n){var m=this.getRegion();m.setPosition(0,0);m.translateBy(k||0,l||0);if(n){m.setWidth(n.width);m.setHeight(n.height)}return m.getAnchorPoint(j)},convertPositionSpec:function(c){return Ext.util.Region.getAlignInfo(c)},getAlignToXY:function(g,l,j){var k=this.getAlignToRegion(g,l,j);return[k.x,k.y]},getAlignToRegion:function(r,q,m,o){var p=this,l,n;r=Ext.get(r.el||r);if(!r||!r.dom){}q=p.convertPositionSpec(q);if(q.constrain){if(q.constrain==="!"){l=r}else{l=p.constrainTo||p.container||p.el.parent()}l=Ext.get(l.el||l).getConstrainRegion()}n=p.getRegion().alignTo({target:r.getRegion(),inside:l,minHeight:o,offset:m,align:q,axisLock:true});return n},getAnchorXY:function(u,r,s){var p=this,o=p.getRegion(),q=p.el,n=q.dom.nodeName==="BODY"||q.dom.nodeType===9,m=q.getScroll();if(r){o.setPosition(0,0)}else{if(n){o.setPosition(m.left,m.top)}}if(s){o.setWidth(s.width);o.setHeight(s.height)}return o.getAnchorPoint(u)},getBox:function(x,u){var w=this,p=u?w.getLocalXY():w.getXY(),s=p[0],v=p[1],r,A,y,B,q;if(w.el.dom.nodeName==="BODY"||w.el.dom.nodeType===9){r=Ext.Element.getViewportWidth();A=Ext.Element.getViewportHeight()}else{r=w.getWidth();A=w.getHeight()}if(x){y=w.getBorderPadding();B=y.beforeX;q=y.beforeY;s+=B;v+=q;r-=(B+y.afterX);A-=(q+y.afterY)}return{x:s,left:s,0:s,y:v,top:v,1:v,width:r,height:A,right:s+r,bottom:v+A}},calculateConstrainedPosition:function(w,C,r,A){var s=this,B,v=s.floatParent,y=v?v.getTargetEl():null,D,x,u,q=false;if(r&&v){D=y.getXY();x=y.getBorderPadding();D[0]+=x.beforeX;D[1]+=x.beforeY;if(C){u=[C[0]+D[0],C[1]+D[1]]}}else{u=C}w=w||s.constrainTo||y||s.container||s.el.parent();if(r&&u){u=s.reverseTranslateXY(u)}B=((s.constrainHeader&&s.header.rendered)?s.header:s).getConstrainVector(w,u,A);if(B){q=C||s.getPosition(r);q[0]+=B[0];q[1]+=B[1]}return q},getConstrainRegion:function(){var u=this,y=u.el,B=y.dom.nodeName==="BODY",w=y.dom,v=y.getBorders(),s=y.getXY(),x=s[0]+v.beforeX,r=s[1]+v.beforeY,q,A,p;if(B){q=y.getScroll();x=q.left;r=q.top;A=Ext.Element.getViewportWidth();p=Ext.Element.getViewportHeight()}else{A=w.clientWidth;p=w.clientHeight}return new Ext.util.Region(r,x+A,r+p,x)},getConstrainVector:function(p,u,r){var o=this,w=o.getRegion(),s=[0,0],v=(o.shadow&&o.constrainShadow&&!o.shadowDisabled)?o.el.shadow.getShadowSize():undefined,n=false,q=o.constraintInsets;if(!(p instanceof Ext.util.Region)){p=Ext.get(p.el||p);p=p.getConstrainRegion()}if(q){q=Ext.isObject(q)?q:Ext.Element.parseBox(q);p.adjust(q.top,q.right,q.bottom,q.left)}if(u){w.translateBy(u[0]-w.x,u[1]-w.y)}if(r){w.right=w.left+r[0];w.bottom=w.top+r[1]}if(v){p.adjust(v[0],-v[1],-v[2],v[3])}if(w.right>p.right){n=true;s[0]=(p.right-w.right)}if(w.left+s[0]<p.left){n=true;s[0]=(p.left-w.left)}if(w.bottom>p.bottom){n=true;s[1]=(p.bottom-w.bottom)}if(w.top+s[1]<p.top){n=true;s[1]=(p.top-w.top)}return n?s:false},getOffsetsTo:function(f){var g=this.getXY(),j=Ext.fly(f.el||f).getXY();return[g[0]-j[0],g[1]-j[1]]},getRegion:function(d){var f=this.getBox(d);return new Ext.util.Region(f.top,f.right,f.bottom,f.left)},getClientRegion:function(){var l=this,g,k=l.getBox(),j=l.dom;g=j.offsetWidth-j.clientWidth;if(g){if(l.getStyle("direction")==="rtl"){k.left+=g}else{k.right-=g}}g=j.offsetHeight-j.clientHeight;if(g){k.bottom-=g}return new Ext.util.Region(k.top,k.right,k.bottom,k.left)},getViewRegion:function(){var s=this,w=s.el,y=w.dom.nodeName==="BODY",u,p,r,q,v,x,o;if(y){p=w.getScroll();v=p.left;q=p.top;x=Ext.Element.getViewportWidth();o=Ext.Element.getViewportHeight()}else{u=s.getBorderPadding();r=s.getXY();v=r[0]+u.beforeX;q=r[1]+u.beforeY;x=s.getWidth(true);o=s.getHeight(true)}return new Ext.util.Region(q,v+x,q+o,v)},getClientRegion:function(){var q=this.el,n,m,o,p,r,l;n=this.getBorderPadding();m=this.getXY();o=m[0]+n.beforeX;p=m[1]+n.beforeY;r=q.dom.clientWidth;l=q.dom.clientHeight;return new Ext.util.Region(p,o+r,p+l,o)},move:function(u,C,B){var x=this,q=x.getXY(),s=q[0],v=q[1],A=[s-C,v],r=[s+C,v],w=[s,v-C],D=[s,v+C],y={l:A,left:A,r:r,right:r,t:w,top:w,up:w,b:D,bottom:D,down:D};u=u.toLowerCase();x.setXY([y[u][0],y[u][1]],B)},setBox:function(k){var l=this,g,j;if(k.isRegion){k={x:k.left,y:k.top,width:k.right-k.left,height:k.bottom-k.top}}l.constrainBox(k);g=k.x;j=k.y;l.setXY([g,j]);l.setSize(k.width,k.height);l.afterSetPosition(g,j);return l},constrainBox:function(l){var m=this,n,j,k;if(m.constrain||m.constrainHeader){j=("x" in l)?l.x:l.left;k=("y" in l)?l.y:l.top;n=m.calculateConstrainedPosition(null,[j,k],false,[l.width,l.height]);if(n){l.x=n[0];l.y=n[1]}}},translatePoints:function(f,g){var j=this.translateXY(f,g);return{left:j.x,top:j.y}},translateXY:function(p,r){var s=this,v=s.el,o=v.getStyle(s._positionTopLeft),w=o.position==="relative",u=parseFloat(o.left),q=parseFloat(o.top),n=s.getXY();if(Ext.isArray(p)){r=p[1];p=p[0]}if(isNaN(u)){u=w?0:v.dom.offsetLeft}if(isNaN(q)){q=w?0:v.dom.offsetTop}u=(typeof p==="number")?p-n[0]+u:undefined;q=(typeof r==="number")?r-n[1]+q:undefined;return{x:u,y:q}},reverseTranslateXY:function(n){var p=n,u=this.el,s=u.dom,v=s.offsetParent,w,r,o,q;if(v){w=u.isStyle("position","relative"),r=Ext.fly(v).getXY(),o=n[0]+r[0]+v.clientLeft;q=n[1]+r[1]+v.clientTop;if(w){o+=u.getPadding("l");q+=u.getPadding("t")}p=[o,q]}return p},privates:{clipTo:function(u,C){var B,D=this.el,w=D.getRegion(),A,v,y=[],q=this.clippedCls,s,x,r;if(u.isRegion){B=u}else{B=(u.isComponent?u.el:Ext.fly(u)).getConstrainRegion()}if(!C){C=15}if(C&1&&(A=B.top-w.top)>0){y[0]=A;x=true}else{y[0]=-10000}if(C&2&&(A=w.right-B.right)>0){y[1]=Math.max(0,D.getWidth()-A);x=true}else{y[1]=10000}if(C&4&&(A=w.bottom-B.bottom)>0){y[2]=Math.max(0,D.getHeight()-A);x=true}else{y[2]=10000}if(C&8&&(A=B.left-w.left)>0){y[3]=A;x=true}else{y[3]=-10000}s="rect(";for(v=0;v<4;++v){s+=Ext.Element.addUnits(y[v],"px");s+=(v===3)?")":","}D.dom.style.clip=s;D.addCls(q);if((r=D.shadow)&&(D=r.el)&&D.dom){y[2]-=r.offsets.y;y[3]-=r.offsets.x;s="rect(";for(v=0;v<4;++v){s+=Ext.Element.addUnits(y[v],"px");s+=(v===3)?")":","}D.dom.style.clip=s;if(x&&!Ext.supports.CSS3BoxShadow){D.dom.style.display="none"}else{D.dom.style.display="";D.addCls(q)}}},clearClip:function(){var f=this.el,d=this.clippedCls;f.dom.style.clip=Ext.isIE8?"auto":"";f.removeCls(d);if(f.shadow&&f.shadow.el&&f.shadow.el.dom){f.shadow.el.dom.style.clip=Ext.isIE8?"auto":"";if(!Ext.supports.CSS3BoxShadow){f.dom.style.display="";f.removeCls(d)}}}}},0,0,0,0,0,0,[Ext.util,"Positionable"],0));Ext.define("Ext.overrides.util.Positionable",{override:"Ext.util.Positionable",anchorTo:function(r,u,x,y,p,o){var s=this,q=!Ext.isEmpty(p),w=function(){s.mixins.positionable.alignTo.call(s,r,u,x,y);Ext.callback(o,s)},v=s.getAnchor();s.removeAnchor();Ext.apply(v,{fn:w,scroll:q});Ext.on("resize",w,null);if(q){Ext.getWin().on("scroll",w,null,{buffer:!isNaN(p)?p:50})}w();return s},getAnchor:function(){var j=this.el,g,f;if(!j||!j.dom){return}g=j.getData();f=g._anchor;if(!f){f=g._anchor={}}return f},alignTo:function(r,m,o,s){var p=this,q=p.el,u,n;if(p.isComponent&&p.getSizeModel().height.shrinkWrap){if(p.maxHeight){p.setMaxHeight(null)}u=true}n=p.getAlignToRegion(r,m,o,p.minHeight||150);p.setXY([n.x,n.y],q.anim&&!!s?q.anim(s):false);if(u&&(u=n.getHeight())!==p.getHeight()){p.setMaxHeight(u)}return p},removeAnchor:function(){var c=this.getAnchor();if(c&&c.fn){Ext.un("resize",c.fn);if(c.scroll){Ext.getWin().on("scroll",c.fn)}delete c.fn}return this},setBox:function(g,f){var j=this;if(g.isRegion){g={x:g.left,y:g.top,width:g.right-g.left,height:g.bottom-g.top}}if(f){j.constrainBox(g);j.animate(Ext.applyIf({to:g,listeners:{afteranimate:Ext.Function.bind(j.afterSetPosition,j,[g.x,g.y])}},f))}else{arguments.callee.$previous.call(this,g)}return j}});(Ext.cmd.derive("Ext.dom.UnderlayPool",Ext.Base,{constructor:function(c){this.elementConfig=c;this.cache=[]},checkOut:function(){var c=this.cache.shift();if(!c){c=Ext.Element.create(this.elementConfig);c.setVisibilityMode(2)}return c},checkIn:function(c){this.cache.push(c)},reset:function(){var d=this.cache,f=d.length;while(f--){d[f].destroy()}this.cache=[]}},1,0,0,0,0,0,[Ext.dom,"UnderlayPool"],0));(Ext.cmd.derive("Ext.dom.Underlay",Ext.Base,{constructor:function(c){Ext.apply(this,c)},beforeShow:Ext.emptyFn,getInsertionTarget:function(){return this.target},getPool:function(){return this.pool||(this.self.prototype.pool=new Ext.dom.UnderlayPool(this.elementConfig))},hide:function(){var f=this,d=f.el;if(d){d.hide();f.getPool().checkIn(d);f.el=null;f.hidden=true}},realign:function(o,p,w,n){var r=this,v=r.el,s=r.target,u=r.offsets,q=Math.max;if(v){if(o==null){o=s.getX()}if(p==null){p=s.getY()}if(w==null){w=s.getWidth()}if(n==null){n=s.getHeight()}if(u){o=o+u.x;p=p+u.y;w=q(w+u.w,0);n=q(n+u.h,0)}v.setXY([o,p]);v.setSize(w,n)}},setZIndex:function(c){this.zIndex=c;if(this.el){this.el.setStyle("z-index",c)}},show:function(){var p=this,n=p.target,l=p.zIndex,k=p.el,o=p.getInsertionTarget().dom,m;if(!k){k=p.el=p.getPool().checkOut()}p.beforeShow();if(l==null){l=(parseInt(n.getStyle("z-index"),10))}if(l){k.setStyle("z-index",l)}k.setStyle("position",p.fixed?"fixed":"");m=k.dom;if(m.nextSibling!==o){n.dom.parentNode.insertBefore(m,o)}k.show();p.realign();p.hidden=false}},1,0,0,0,0,0,[Ext.dom,"Underlay"],0));(Ext.cmd.derive("Ext.dom.Shadow",Ext.dom.Underlay,{alternateClassName:"Ext.Shadow",mode:"drop",offset:4,cls:"x-"+(!Ext.supports.CSS3BoxShadow?"ie":"css")+"-shadow",constructor:function(p){var n=this,m,o,l,k;Ext.dom.Underlay.prototype.constructor.call(this,p);n.elementConfig={cls:n.cls,role:"presentation"};l=n.offset;k=Math.floor(l/2);n.opacity=50;switch(n.mode.toLowerCase()){case"drop":m={x:0,y:0,w:l,h:l};if(Ext.supports.CSS3BoxShadow){o={x:l,y:l,h:-l,w:-l}}else{o={x:-k,y:-k,h:-k,w:-k}}break;case"sides":m={x:-l,y:0,w:l*2,h:l};if(Ext.supports.CSS3BoxShadow){o={x:0,y:l,h:-l,w:0}}else{o={x:1+k-2*l,y:-(1+k),h:-1,w:k-1}}break;case"frame":m={x:-l,y:-l,w:l*2,h:l*2};if(Ext.supports.CSS3BoxShadow){o={x:0,y:0,h:0,w:0}}else{o={x:1+k-2*l,y:1+k-2*l,h:l-k-1,w:l-k-1}}break;case"bottom":m={x:-l,y:0,w:l*2,h:l};if(Ext.supports.CSS3BoxShadow){o={x:0,y:l,h:-l,w:0}}else{o={x:0,y:l,h:0,w:0}}break}n.offsets=o;n.outerOffsets=m},getShadowSize:function(){var l=this,j=l.el?l.offset:0,g=[j,j,j,j],k=l.mode.toLowerCase();if(l.el&&k!=="frame"){g[0]=0;if(k=="drop"){g[3]=0}}return g},boxShadowProperty:(function(){var f="boxShadow",d=document.documentElement.style;if(!("boxShadow" in d)){if("WebkitBoxShadow" in d){f="WebkitBoxShadow"}else{if("MozBoxShadow" in d){f="MozBoxShadow"}}}return f}()),beforeShow:function(){var j=this,f=j.el.dom.style,g=j.shim;if(Ext.supports.CSS3BoxShadow){f[j.boxShadowProperty]="0 0 "+(j.offset+2)+"px #888"}else{f.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+j.opacity+") progid:DXImageTransform.Microsoft.Blur(pixelradius="+(j.offset)+")"}if(g){g.realign()}},setOpacity:function(d){var f=this.el;if(f){if(Ext.isIE&&!Ext.supports.CSS3BoxShadow){d=Math.floor(d*100/2)/100}this.opacity=d;f.setOpacity(d)}}},1,0,0,0,0,0,[Ext.dom,"Shadow",Ext,"Shadow"],0));(Ext.cmd.derive("Ext.dom.Shim",Ext.dom.Underlay,{cls:"x-shim",constructor:function(c){Ext.dom.Underlay.prototype.constructor.call(this,c);this.elementConfig={tag:"iframe",cls:this.cls,role:"presentation",frameBorder:"0",src:Ext.SSL_SECURE_URL,tabindex:"-1"}},getInsertionTarget:function(){var c=this.shadow;return(c&&c.el)||this.target}},1,0,0,0,0,0,[Ext.dom,"Shim"],0));(Ext.cmd.derive("Ext.dom.ElementEvent",Ext.util.Event,{addListener:function(w,r,q,B,y){var x=this,v=false,D=x.name,s=Ext.event.publisher.Dom.instance.directEvents[D],C,A,u;q=q||{};if(q.delegated===false||s){if(s&&q.delegate){q.capture=true}if(q.capture){u=x.directCaptures||(x.directCaptures=new Ext.util.Event(x.observable,D));v=u.addListener(w,r,q,B,y)}else{A=x.directs||(x.directs=new Ext.util.Event(x.observable,D));v=A.addListener(w,r,q,B,y)}}else{if(q.capture){C=x.captures||(x.captures=new Ext.util.Event(x.observable,D));v=C.addListener(w,r,q,B,y)}else{v=Ext.util.Event.prototype.addListener.call(this,w,r,q,B,y)}}return v},removeListener:function(q,r){var p=this,m=p.captures,s=p.directs,o=p.directCaptures,n=false,u=p.findListener(q,r);if(u!==-1){n=Ext.util.Event.prototype.removeListener.call(this,q,r,u)}else{if(s){u=s.findListener(q,r)}if(u!==-1){n=s.removeListener(q,r,u)}else{if(m){u=m.findListener(q,r)}if(u!==-1){n=m.removeListener(q,r,u)}else{if(o){u=o.findListener(q,r);if(u!==-1){n=o.removeListener(q,r,u)}}}}}return n},clearListeners:function(){var k=this,j=k.directCaptures,l=k.directs,g=k.captures;if(j){j.clearListeners()}if(l){l.clearListeners()}if(g){g.clearListeners()}Ext.util.Event.prototype.clearListeners.call(this)},suspend:function(){var k=this,j=k.directCaptures,l=k.directs,g=k.captures;if(j){j.suspend()}if(l){l.suspend()}if(g){g.suspend()}Ext.util.Event.prototype.suspend.call(this)},resume:function(){var k=this,j=k.directCaptures,l=k.directs,g=k.captures;if(j){j.resume()}if(l){l.resume()}if(g){g.resume()}Ext.util.Event.prototype.resume.call(this)}},0,0,0,0,0,0,[Ext.dom,"ElementEvent"],0));(Ext.cmd.derive("Ext.event.publisher.Publisher",Ext.Base,{isEventPublisher:true,$vetoClearingPrototypeOnDestroy:true,handledEvents:[],statics:{publishers:{},publishersByEvent:{}},constructor:function(){var f=this,d=f.type;f.handles={};f.registerEvents();Ext.event.publisher.Publisher.publishers[d]=f},registerEvents:function(o){var m=this,p=Ext.event.publisher.Publisher.publishersByEvent,r=o||m.handledEvents,n=r.length,l,q;for(q=0;q<n;q++){l=r[q];m.handles[l]=1;p[l]=m}},fire:function(k,g,l){var j;if(k.hasListeners[g]){j=k.events[g];if(j){j.fire.apply(j,l)}}}},1,0,0,0,0,0,[Ext.event.publisher,"Publisher"],0));(Ext.cmd.derive("Ext.util.Offset",Ext.Base,{statics:{fromObject:function(c){if(c instanceof this){return c}if(typeof c==="number"){return new this(c,c)}if(c.length){return new this(c[0],c[1])}return new this(c.x,c.y)}},constructor:function(d,f){this.x=(d!=null&&!isNaN(d))?d:0;this.y=(f!=null&&!isNaN(f))?f:0;return this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(c){this.x=c.x;this.y=c.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(c){return(this.x===c.x&&this.y===c.y)},add:function(c){this.x+=c.x;this.y+=c.y},round:function(f){if(!isNaN(f)){var d=Math.pow(10,f);this.x=Math.round(this.x*d)/d;this.y=Math.round(this.y*d)/d}else{this.x=Math.round(this.x);this.y=Math.round(this.y)}},isZero:function(){return this.x===0&&this.y===0}},3,0,0,0,0,0,[Ext.util,"Offset"],0));(Ext.cmd.derive("Ext.util.Region",Ext.Base,function(){var I=Ext.util,x=/([^\?!]*)(!|\?)?$/,A=/^(?:(?:([trbl])(\d+))|(tl|t|tc|tr|l|c|r|bl|b|bc|br))(?:-(?:(?:([trbl])(\d+))|(tl|t|tc|tr|l|c|r|bl|b|bc|br)))?$/i,E={l:0,r:100,t:0,b:100,c:50},C={l:100,r:0,t:0,b:100,c:50},L={b:0,l:1,t:2,r:3},y={"tl-tr":"l0-r0","tl-r":"l0-r50","bl-r":"l100-r50","bl-br":"l100-r100","tr-tl":"r0-l0","tr-l":"r0-l50","br-l":"r100-l50","br-bl":"r100-l100"},J={"tl-tr":"r0-l0","tl-r":"r0-l50","bl-r":"r100-l50","bl-br":"r100-l100","tr-tl":"l0-r0","tr-l":"l0-r50","br-l":"l100-r50","br-bl":"l100-r100"},B=[],H=new I.Offset(0,0),w=function(k){var c=I.Region,b=typeof k,g,d,f,j;if(k==null){return c.EMPTY}if(k.isRegion){return k}if(k.isElement||k.nodeType===1){return this.getRegion(k)}if(b==="string"){k=k.split(" ");switch(k.length){case 1:k[1]=k[2]=k[3]=k[0];break;case 2:k[2]=k[0];k[3]=k[1];break;case 3:k[3]=k[1]}g=parseInt(k[0],10)||0;d=parseInt(k[1],10)||0;f=parseInt(k[2],10)||0;j=parseInt(k[3],10)||0}else{if(b==="number"){g=d=f=j=k}else{if(typeof k.x==="number"){g=k.y;j=k.x;if(typeof k.right==="number"){d=k.right;f=k.bottom}else{d=j+k.width;f=g+k.height}}}}return new c(g,d,f,j)},F=[-1,1,1,-1],v=function(b,c,d){if(d!=null&&c){B[0]=B[1]=B[2]=B[3]=0;B[d]=c.y*F[d];b=I.Region.from(b);b.adjust.apply(b,B)}return b},D=function(q,g,l,p,f){var j=Math.ceil(p.x/2)+2,n,d,b,c,k,m,o;if(f&&!f.intersect(q)){return}if(l!=null){if(l&1){n=new I.Region(0,0,0,0).setWidth(p.y).setHeight(p.x);d=l===3;m=d?g.right:g.left;b=new I.Region(Math.max(g.top,q.top),m,Math.min(g.bottom,q.bottom),m);if(q.getHeight()>j){c=b.getHeight();if(c<q.width&&c<p.x+4){if(c<j){if(b.getAnchorPoint_c()[1]>q.getAnchorPoint_c()[1]){o=q.bottom-j}else{k=true;o=q.top+j-g.getHeight()}if(f){o=Math.min(Math.max(o,f.top),f.bottom-g.getHeight())}g.setPosition(g.x,o);b=new I.Region(Math.max(g.top,q.top),m,Math.min(g.bottom,q.bottom),m);c=b.getHeight();if(c<j){return}if(k){b.setPosition(m,q.y-p.x/2-2)}}b.setHeight(Math.max(c,p.x+4));if(f&&!f.contains(b)){return}}}g.anchor=n.alignTo({target:b,align:d?"l-r":"r-l",overlap:true});g.anchor.position=d?"right":"left"}else{n=new I.Region(0,0,0,0).setWidth(p.x).setHeight(p.y);d=l===0;o=d?g.bottom:g.top;b=new I.Region(o,Math.min(g.right,q.right),o,Math.max(g.left,q.left));if(q.getWidth()>j){c=b.getWidth();if(c<q.height&&c<p.x+4){if(c<j){if(b.getAnchorPoint_c()[0]>q.getAnchorPoint_c()[0]){m=q.right-j}else{k=true;m=q.left+j-g.getWidth()}if(f){m=Math.min(Math.max(m,f.left),f.right-g.getWidth())}g.setPosition(m,g.y);b=new I.Region(o,Math.min(g.right,q.right),o,Math.max(g.left,q.left));c=b.getWidth();if(c<j){return}if(k){b.setPosition(q.x-p.x/2-2,o)}}b.setWidth(Math.max(c,p.x+4));if(f&&!f.contains(b)){return}}}g.anchor=n.alignTo({target:b,align:d?"t-b":"b-t",overlap:true});g.anchor.position=d?"bottom":"top"}g.anchor.align=l}return g},K=function(g,d,c,f){var b;if(g&&f){if(d.top>=c.bottom&&d.bottom>f.bottom){d.setHeight(Math.max(d.getHeight()+f.bottom-d.bottom,g));d.constrainHeight=true}else{if(d.bottom<=c.top&&d.top<f.top){b=Math.max(d.getHeight()+d.top-f.top,g);d.adjust(d.getHeight()-b);d.constrainHeight=true}else{if(d.getHeight()>f.getHeight()){d.setHeight(Math.max(g,f.getHeight()));d.setPosition(d.x,0);d.constrainHeight=true}}}}},G=function(c,d,b,f){var g;if(c&&f){if(d.left>=b.right&&d.right>f.right){d.setWidth(Math.max(d.getWidth()+f.right-d.right,c));d.constrainWidth=true}else{if(d.right<=b.left&&d.left<f.left){g=Math.max(d.getWidth()+d.left-f.left,c);d.adjust(0,0,0,d.getWidth()-g);d.constrainWidth=true}else{if(d.getWidth()>f.getWidth()){d.setWidth(Math.max(c,f.getWidth()));d.setPosition(0,d.y);d.constrainWidth=true}}}}};return{isRegion:true,statics:{getRegion:function(b){return Ext.fly(b).getRegion()},from:function(b){return new this(b.top,b.right,b.bottom,b.left)},getAlignInfo:function(j,g){if(typeof j==="object"){return j}j=j?((j.indexOf("-")<0)?"tl-"+j:j):"tl-bl";b=x.exec(j);j=b[1];j=(g?J:y)[j]||j;var c=g?C:E,b,d=A.exec(j),f;f={myEdge:d[1],myOffset:d[2],otherEdge:d[4],otherOffset:d[5],constrain:b[2]};if(d[3]){f.myEdge=d[3][0];f.myOffset=c[d[3][1]];if(f.myOffset==null){f.myOffset=50}}if(d[6]){f.otherEdge=d[6][0];f.otherOffset=c[d[6][1]];if(f.otherOffset==null){f.otherOffset=50}}f.position=L[f.myEdge];return f}},constructor:function(c,d,f,g){var b=this;b.y=b.top=b[1]=c;b.right=d;b.bottom=f;b.x=b.left=b[0]=g;b.height=b.bottom-b.top;b.width=b.right-b.left},setPosition:function(c,b){if(arguments.length===1){b=c[1];c=c[0]}return this.translateBy(c-this.x,b-this.y)},contains:function(b){var c=this;return(b.x>=c.x&&(b.right||b.x)<=c.right&&b.y>=c.y&&(b.bottom||b.y)<=c.bottom)},intersect:function(j){var c=this,b=Math.max(c.y,j.y),g=Math.min(c.right,j.right),f=Math.min(c.bottom,j.bottom),d=Math.max(c.x,j.x);if(f>b&&g>d){return new this.self(b,g,f,d)}else{return false}},union:function(j){var c=this,b=Math.min(c.y,j.y),g=Math.max(c.right,j.right),f=Math.max(c.bottom,j.bottom),d=Math.min(c.x,j.x);return new this.self(b,g,f,d)},constrainTo:function(c){var d=this,b=Ext.Number.constrain;d.top=d.y=b(d.top,c.y,c.bottom);d.bottom=b(d.bottom,c.y,c.bottom);d.left=d.x=b(d.left,c.x,c.right);d.right=b(d.right,c.x,c.right);return d},adjust:function(c,d,f,g){var b=this;b.top=b.y+=c||0;b.left=b.x+=g||0;b.right+=d||0;b.bottom+=f||0;return b},getOutOfBoundOffset:function(d,c){if(!Ext.isObject(d)){if(d==="x"){return this.getOutOfBoundOffsetX(c)}else{return this.getOutOfBoundOffsetY(c)}}else{c=d;var b=new I.Offset();b.x=this.getOutOfBoundOffsetX(c.x);b.y=this.getOutOfBoundOffsetY(c.y);return b}},getOutOfBoundOffsetX:function(b){if(b<=this.x){return this.x-b}else{if(b>=this.right){return this.right-b}}return 0},getOutOfBoundOffsetY:function(b){if(b<=this.y){return this.y-b}else{if(b>=this.bottom){return this.bottom-b}}return 0},isOutOfBound:function(c,b){if(!Ext.isObject(c)){if(c==="x"){return this.isOutOfBoundX(b)}else{return this.isOutOfBoundY(b)}}else{b=c;return(this.isOutOfBoundX(b.x)||this.isOutOfBoundY(b.y))}},isOutOfBoundX:function(b){return(b<this.x||b>this.right)},isOutOfBoundY:function(b){return(b<this.y||b>this.bottom)},restrict:function(c,f,d){if(Ext.isObject(c)){var b;d=f;f=c;if(f.copy){b=f.copy()}else{b={x:f.x,y:f.y}}b.x=this.restrictX(f.x,d);b.y=this.restrictY(f.y,d);return b}else{if(c==="x"){return this.restrictX(f,d)}else{return this.restrictY(f,d)}}},restrictX:function(b,c){if(!c){c=1}if(b<=this.x){b-=(b-this.x)*c}else{if(b>=this.right){b-=(b-this.right)*c}}return b},restrictY:function(b,c){if(!c){c=1}if(b<=this.y){b-=(b-this.y)*c}else{if(b>=this.bottom){b-=(b-this.bottom)*c}}return b},alignTo:function(g){var s=this,j=s.self,u=I.Offset,N=w(g.target),p,r=g.rtl,n=g.overlap,b=g.align,c=g.anchorSize,l=g.offset,m=g.inside,d=g.position,o=g.allowXTranslate,f=g.allowYTranslate,q,k;if(l){l=u.fromObject(l)}if(c){c=u.fromObject(c)}if(d){if(d.length===2){d=new I.Point(d[0],d[1])}k=new j().copyFrom(s).setPosition(d.x,d.y)}else{b=s.getAlignInfo(b,r);if(m){if(N.x>=m.right){N.setPosition(m.right-1,N.y);if(b.position!==3){b=s.getAlignInfo("r-l",r)}}else{if(N.right<m.x){N.setPosition(m.x-N.getWidth()+1,N.y);if(b.position!==1){b=s.getAlignInfo("l-r",r)}}}if(N.y>=m.bottom){N.setPosition(N.x,m.bottom-1);if(b.position!==0){b=s.getAlignInfo("b-t",r)}}else{if(N.bottom<m.y){N.setPosition(N.x,m.y-N.getHeight()+1);if(b.position!==2){b=s.getAlignInfo("t-b",r)}}}}p=c?v(N,c,b.position):N;k=j.from(s).translateBy(s.getAlignToVector(p,b));n=!!k.intersect(p);if(l&&(n||!c)){k.translateBy(l)}if(c){D(N,k,b.position,c,m)}}if(m){if(k.left<m.left){k.translateBy(m.left-k.left,0);q=true}if(k.right>m.right&&k.left>m.left){k.translateBy(m.right-k.right,0);q=true}if(k.top<m.top){k.translateBy(0,m.top-k.top);q=true}if(k.bottom>m.bottom&&k.top>m.top){k.translateBy(0,m.bottom-k.bottom);q=true}if(q&&!n){k.anchor=null;if(g.axisLock){if(b.position&1){f=false}else{o=false}}if(d){if(k.contains(d)){d.exclude(k,{inside:m,centerOnSideChange:false})}}else{if(k.intersect(p)){b.position=N.exclude(k,{defaultPosition:b.position,inside:m,minHeight:g.minHeight,minWidth:g.minWidth,allowX:o,allowY:f,offset:l,anchorHeight:c?c.y:0,centerOnSideChange:!!c})}else{if(g.minWidth&&k.getWidth()>m.getWidth()){k.setPosition(0,k.y);k.setWidth(Math.max(m.getWidth(),g.minWidth));k.constrainWidth=true}else{if(g.minHeight&&k.getHeight()>m.getHeight()){k.setPosition(k.x,0);k.setHeight(Math.max(m.getHeight(),g.minHeight));k.constrainHeight=true}}}k.align=b;if(c){D(N,k,b.position,c,m)}}}}return k},exclude:function(S,p){p=p||{};var b=this,d=p.inside,n=p.defaultPosition,r=p.centerOnSideChange,Q=p.minHeight,o=p.minWidth,k=p.allowX!==false,m=p.allowY!==false,c=p.anchorHeight,R=p.offset,l=[],j,q,f,T,g,u,s;if(!R){R=H}if(m){l.push([0,q=b.top-S.bottom-c+R.y,"b-t",0,Math.abs(q)]);l.push([0,q=b.bottom-S.top+c+R.y,"t-b",2,Math.abs(q)])}else{r=false}if(k){l.push([q=b.left-S.right-c+R.x,0,"r-l",3,Math.abs(q)]);l.push([q=b.right-S.left+c+R.x,0,"l-r",1,Math.abs(q)])}else{r=false}Ext.Array.sort(l,function(N,M){var O=N[4]-M[4];if(!O){if(N[3]===n){return -1}if(M[3]===n){return 1}}return O});if(d){for(f=0;f<l.length;f++){q=l[f];j=I.Region.from(S);j.translateBy.apply(j,q);if(d.contains(j)){S.copyFrom(j);s={align:q[2],position:q[3],distance:q[4]};break}if(Q){K(Q,j,b,d);if(d.contains(j)){if(!T||j.getArea()>T.region.getArea()){T={region:j,align:q[2],position:q[3],distance:q[4]}}}}if(o){G(o,j,b,d);if(d.contains(j)){if(!T||j.getArea()>T.region.getArea()){T={region:j,align:q[2],position:q[3],distance:q[4]}}}}u=d.intersect(j);if(u){u=u.getArea();if(!g||(u&&g.area<u)){g={region:j,align:q[2],position:q[3],distance:q[4],area:u}}}}if(!s){if(T){S.copyFrom(T.region);s=T;S.constrainWidth=T.region.constrainWidth;S.constrainHeight=T.region.constrainHeight}else{if(g){S.copyFrom(g.region);s=g}}}if(s){if((s.position&1)!==(n&1)){if(s.distance&&r){q=S.alignTo({align:s.align,target:b,anchorSize:c,offset:R,axisLock:true,inside:d,minHeight:p.minHeight,minWidth:p.minWidth});if(d.contains(q)){S.setPosition(q.x,q.y)}}}return s.position}}else{S.translateBy.apply(S,l[0]);return l[0][3]}return n},getAlignToXY:function(b,f,c){var d=this.getAlignToVector(b,f,c);return[this.x+d[0],this.y+d[1]]},getAnchorPoint:function(b,c){b=(typeof b==="string")?this.getAlignInfo(b+"-tl",c):b;return this["getAnchorPoint_"+b.myEdge](b.myOffset)},getAlignToVector:function(g,c,b){c=(typeof c==="string")?this.getAlignInfo(c,b):c;var f=this["getAnchorPoint_"+c.myEdge](c.myOffset),d=g["getAnchorPoint_"+c.otherEdge](c.otherOffset);return[d[0]-f[0],d[1]-f[1]]},getAnchorPoint_t:function(b){return[this.x+Math.round(this.getWidth()*(b/100)),this.y]},getAnchorPoint_b:function(b){return[this.x+Math.round(this.getWidth()*(b/100)),this.bottom]},getAnchorPoint_l:function(b){return[this.x,this.y+Math.round(this.getHeight()*(b/100))]},getAnchorPoint_r:function(b){return[this.right,this.y+Math.round(this.getHeight()*(b/100))]},getAnchorPoint_c:function(){return[this.x+Math.round(this.getWidth()/2),this.y+Math.round(this.getHeight()/2)]},getHeight:function(){return this.bottom-this.y},getWidth:function(){return this.right-this.x},getArea:function(){return this.getHeight()*this.getWidth()},setHeight:function(b){this.bottom=this.top+b;return this},setWidth:function(b){this.right=this.left+b;return this},getSize:function(){return{width:this.right-this.x,height:this.bottom-this.y}},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(b){var c=this;c.top=c.y=c[1]=b.y;c.right=b.right;c.bottom=b.bottom;c.left=c.x=c[0]=b.x;return this},toString:function(){return"Region["+this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(d,b){if(d.length){b=d[1];d=d[0]}else{if(arguments.length===1){b=d.y;d=d.x}}var c=this;c.top=c.y+=b;c.right+=d;c.bottom+=b;c.left=c.x+=d;return c},round:function(){var b=this;b.top=b.y=Math.round(b.y);b.right=Math.round(b.right);b.bottom=Math.round(b.bottom);b.left=b.x=Math.round(b.x);return b},equals:function(b){return(this.top===b.top&&this.right===b.right&&this.bottom===b.bottom&&this.left===b.left)},getOffsetsTo:function(b){return{x:this.x-b.x,y:this.y-b.y}}}},3,0,0,0,0,0,[Ext.util,"Region"],function(c){c.prototype.getAlignInfo=c.getAlignInfo;c.EMPTY=new c(0,0,0,0)}));(Ext.cmd.derive("Ext.util.Point",Ext.util.Region,{isPoint:true,radianToDegreeConstant:180/Math.PI,origin:{x:0,y:0},statics:{fromEvent:function(j){var f=j.changedTouches,g=(f&&f.length>0)?f[0]:j;return this.fromTouch(g)},fromTouch:function(c){return new this(c.pageX,c.pageY)},from:function(c){if(!c){return new this(0,0)}if(!(c instanceof this)){return new this(c.x,c.y)}return c}},constructor:function(d,f){if(d==null){d=0}if(f==null){f=0}Ext.util.Region.prototype.constructor.call(this,f,d,f,d)},clone:function(){return new this.self(this.x,this.y)},copy:function(){return this.clone.apply(this,arguments)},copyFrom:function(c){this.x=c.x;this.y=c.y;return this},toString:function(){return"Point["+this.x+","+this.y+"]"},equals:function(c){return(this.x===c.x&&this.y===c.y)},isCloseTo:function(o,p){if(typeof p=="number"){return this.getDistanceTo(o)<=p}var k=o.x,l=o.y,m=p.x,n=p.y;return(this.x<=k+m&&this.x>=k-m&&this.y<=l+n&&this.y>=l-n)},isWithin:function(){return this.isCloseTo.apply(this,arguments)},isContainedBy:function(c){if(!(c instanceof Ext.util.Region)){c=Ext.get(c.el||c).getRegion()}return c.contains(this)},roundedEquals:function(c){if(!c||typeof c!=="object"){c=this.origin}return(Math.round(this.x)===Math.round(c.x)&&Math.round(this.y)===Math.round(c.y))},getDistanceTo:function(j){if(!j||typeof j!=="object"){j=this.origin}var g=this.x-j.x,f=this.y-j.y;return Math.sqrt(g*g+f*f)},getAngleTo:function(j){if(!j||typeof j!=="object"){j=this.origin}var g=this.x-j.x,f=this.y-j.y;return Math.atan2(f,g)*this.radianToDegreeConstant}},3,0,0,0,0,0,[Ext.util,"Point"],function(){this.prototype.translate=this.prototype.translateBy}));(Ext.cmd.derive("Ext.event.Event",Ext.Base,{alternateClassName:"Ext.EventObjectImpl",stopped:false,claimed:false,defaultPrevented:false,isEvent:true,statics:{resolveTextNode:function(c){return(c&&c.nodeType===3)?c.parentNode:c},pointerEvents:{pointerdown:1,pointermove:1,pointerup:1,pointercancel:1,pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerDown:1,MSPointerMove:1,MSPointerUp:1,MSPointerOver:1,MSPointerOut:1,MSPointerCancel:1,MSPointerEnter:1,MSPointerLeave:1},mouseEvents:{mousedown:1,mousemove:1,mouseup:1,mouseover:1,mouseout:1,mouseenter:1,mouseleave:1},clickEvents:{click:1,dblclick:1},touchEvents:{touchstart:1,touchmove:1,touchend:1,touchcancel:1},focusEvents:{focus:1,blur:1,focusin:1,focusout:1,focusenter:1,focusleave:1},pointerTypeMap:{2:"touch",3:"pen",4:"mouse",touch:"touch",pen:"pen",mouse:"mouse"},keyFlags:{CTRL:"ctrlKey",CONTROL:"ctrlKey",ALT:"altKey",SHIFT:"shiftKey",CMD:"metaKey",COMMAND:"metaKey",CMDORCTRL:Ext.isMac?"metaKey":"ctrlKey",COMMANDORCONTROL:Ext.isMac?"metaKey":"ctrlKey",META:"metaKey"},modifierGlyphs:{ctrlKey:"",altKey:"",metaKey:Ext.isMac?"":"",shiftKey:""},specialKeyGlyphs:{BACKSPACE:"",TAB:"",ENTER:"",RETURN:"",SPACE:"",PAGE_UP:"",PAGE_DOWN:"",END:"",HOME:"",LEFT:"",UP:"",RIGHT:"",DOWN:"",PRINT_SCREEN:"",INSERT:"",DELETE:"",CONTEXT_MENU:""},getKeyId:function(q){q=q.toUpperCase();var p=this,o=q.split("+"),n=o.length-1,s=o[n],u=[],m,r;for(r=0;r<n;r++){m=p.keyFlags[o[r]];u[m]=true}if(u.ctrlKey){u.push(p.modifierGlyphs.ctrlKey)}if(u.altKey){u.push(p.modifierGlyphs.altKey)}if(u.shiftKey){u.push(p.modifierGlyphs.shiftKey)}if(u.metaKey){u.push(p.modifierGlyphs.metaKey)}u.push(this.specialKeyGlyphs[s]||s);return u.join("")}},constructor:function(x){var r=this,o=r.self,s=r.self.resolveTextNode,p=x.changedTouches,w=p?p[0]:x,q=x.type,y,u;r.timeStamp=r.time=Ext.now();r.pageX=w.pageX;r.pageY=w.pageY;r.clientX=w.clientX;r.clientY=w.clientY;r.target=r.delegatedTarget=s(x.target);u=x.relatedTarget;if(u){if(Ext.isGecko&&q==="dragenter"||q==="dragleave"){try{r.relatedTarget=s(u)}catch(v){r.relatedTarget=null}}else{r.relatedTarget=s(u)}}r.browserEvent=r.event=x;r.type=q;r.button=x.button||0;r.shiftKey=x.shiftKey;r.ctrlKey=x.ctrlKey||x.metaKey||false;r.altKey=x.altKey;r.charCode=x.charCode;r.keyCode=x.keyCode;r.buttons=x.buttons;if(r.button===0&&r.buttons===0){r.buttons=1}if(o.focusEvents[q]){if(o.forwardTab!==undefined){r.forwardTab=o.forwardTab}}else{if(q!=="keydown"){delete o.forwardTab}}if(o.mouseEvents[q]){y="mouse"}else{if(o.clickEvents[q]){y=o.pointerTypeMap[x.pointerType]||"mouse"}else{if(o.pointerEvents[q]){y=o.pointerTypeMap[x.pointerType]}else{if(o.touchEvents[q]){y="touch"}}}}if(y){r.pointerType=y}r.isMultitouch=x.isPrimary===false||(x.touches&&x.touches.length>1)},chain:function(d){var f=Ext.Object.chain(this);f.parentEvent=this;return Ext.apply(f,d)},correctWheelDelta:function(g){var j=this.WHEEL_SCALE,f=Math.round(g/j);if(!f&&g){f=(g<0)?-1:1}return f},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.keyCode||this.charCode},getKeyName:function(){return this.keyCodes[this.keyCode]},getPoint:function(){var j=this,f=j.point,g;if(!f){g=j.getXY();f=j.point=new Ext.util.Point(g[0],g[1])}return f},getRelatedTarget:function(n,k,j){var m=this.relatedTarget,l=null;if(m&&m.nodeType){if(n){l=Ext.fly(m).findParent(n,k,j)}else{l=j?Ext.get(m):m}}return l},getTarget:function(j,g,f){return j?Ext.fly(this.target).findParent(j,g,f):(f?Ext.get(this.target):this.target)},getTime:function(){return this.time},getWheelDelta:function(){var c=this.getWheelDeltas();return c.y},getWheelDeltas:function(){var j=this,k=j.browserEvent,l=0,g=0;if(Ext.isDefined(k.wheelDeltaX)){l=k.wheelDeltaX;g=k.wheelDeltaY}else{if(k.wheelDelta){g=k.wheelDelta}else{if("deltaX" in k){l=k.deltaX;g=-k.deltaY}else{if(k.detail){g=-k.detail;if(g>100){g=3}else{if(g<-100){g=-3}}if(Ext.isDefined(k.axis)&&k.axis===k.HORIZONTAL_AXIS){l=g;g=0}}}}}return{x:j.correctWheelDelta(l),y:j.correctWheelDelta(g)}},getX:function(){return this.getXY()[0]},getXY:function(){var q=this,o=q.xy;if(!o){o=q.xy=[q.pageX,q.pageY];var r=o[0],m,p,n,l;if(!r&&r!==0){m=q.browserEvent;p=document;n=p.documentElement;l=p.body;o[0]=m.clientX+(n&&n.scrollLeft||l&&l.scrollLeft||0)-(n&&n.clientLeft||l&&l.clientLeft||0);o[1]=m.clientY+(n&&n.scrollTop||l&&l.scrollTop||0)-(n&&n.clientTop||l&&l.clientTop||0)}}return o},getY:function(){return this.getXY()[1]},hasModifier:function(){var c=this;return !!(c.ctrlKey||c.altKey||c.shiftKey||c.metaKey)},isNavKeyPress:function(j){var k=this,g=k.keyCode,l=k.type==="keypress";return((!l||Ext.isGecko)&&g>=33&&g<=40)||(!j&&(g===k.RETURN||g===k.TAB||g===k.ESC))},isSpecialKey:function(){var j=this,l=j.keyCode,g=Ext.isGecko,k=j.type==="keypress";return(g&&k&&j.charCode===0)||(this.isNavKeyPress())||(l===j.BACKSPACE)||(l===j.ENTER)||(l>=16&&l<=20)||((!k||g)&&l>=44&&l<=46)},makeUnpreventable:function(){this.browserEvent.preventDefault=Ext.emptyFn},preventDefault:function(){var f=this,d=f.parentEvent;f.defaultPrevented=true;if(d){d.defaultPrevented=true}f.browserEvent.preventDefault();return f},setCurrentTarget:function(c){this.currentTarget=this.delegatedTarget=c},stopEvent:function(){return this.preventDefault().stopPropagation()},stopPropagation:function(){var j=this,g=j.browserEvent,f=j.parentEvent;j.stopped=true;if(f&&!j.isGesture){f.stopped=true}if(!g.stopPropagation){g.cancelBubble=true;return j}g.stopPropagation();return j},claimGesture:function(){var f=this,d=f.parentEvent;f.claimed=true;if(d&&!f.hasOwnProperty("isGesture")){d.claimGesture()}else{f.preventDefault()}return f},within:function(k,j,g){var l;if(k){l=j?this.getRelatedTarget():this.getTarget()}return l?Ext.fly(k).contains(l)||!!(g&&l===Ext.getDom(k)):false},deprecated:{"4.0":{methods:{getPageX:"getX",getPageY:"getY"}}}},1,0,0,0,0,0,[Ext.event,"Event",Ext,"EventObjectImpl"],function(k){var o=k.prototype,n={BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_SCALE:(function(){var b;if(Ext.isGecko){b=3}else{if(Ext.isMac){if(Ext.isSafari&&Ext.webKitVersion>=532){b=120}else{b=12}b*=3}else{b=120}}return b}())},p={},m,l;Ext.apply(k,n);Ext.apply(o,n);delete n.WHEEL_SCALE;delete n.RETURN;for(m in n){l=n[m];p[l]=m}o.keyCodes=p;o.getTrueXY=o.getXY}));Ext.define("Ext.overrides.event.Event",{override:"Ext.event.Event",mousedownEvents:{mousedown:1,pointerdown:1,touchstart:1},injectEvent:(function(){var l,k={},m;if(!Ext.isIE9m&&document.createEvent){l={createHtmlEvent:function(g,c,d,f){var b=g.createEvent("HTMLEvents");b.initEvent(c,d,f);return b},createMouseEvent:function(E,G,d,f,b,g,B,A,D,H,I,c,J){var C=E.createEvent("MouseEvents"),F=E.defaultView||window;if(C.initMouseEvent){C.initMouseEvent(G,d,f,F,b,g,B,g,B,A,D,H,I,c,J)}else{C=E.createEvent("UIEvents");C.initEvent(G,d,f);C.view=F;C.detail=b;C.screenX=g;C.screenY=B;C.clientX=g;C.clientY=B;C.ctrlKey=A;C.altKey=D;C.metaKey=I;C.shiftKey=H;C.button=c;C.relatedTarget=J}return C},createUIEvent:function(g,r,c,d,b){var q=g.createEvent("UIEvents"),f=g.defaultView||window;q.initUIEvent(r,c,d,f,b);return q},fireEvent:function(b,d,c){b.dispatchEvent(c)}}}else{if(document.createEventObject){m={0:1,1:4,2:2};l={createHtmlEvent:function(g,c,d,f){var b=g.createEventObject();b.bubbles=d;b.cancelable=f;return b},createMouseEvent:function(D,E,d,f,b,g,A,y,C,F,G,c,H){var B=D.createEventObject();B.bubbles=d;B.cancelable=f;B.detail=b;B.screenX=g;B.screenY=A;B.clientX=g;B.clientY=A;B.ctrlKey=y;B.altKey=C;B.shiftKey=F;B.metaKey=G;B.button=m[c]||c;B.relatedTarget=H;return B},createUIEvent:function(g,b,d,f,c){var p=g.createEventObject();p.bubbles=d;p.cancelable=f;return p},fireEvent:function(b,d,c){b.fireEvent("on"+d,c)}}}}Ext.Object.each({load:[false,false],unload:[false,false],select:[true,false],change:[true,false],submit:[true,true],reset:[true,false],resize:[true,false],scroll:[true,false]},function(c,b){var d=b[0],f=b[1];k[c]=function(g,r){var q=l.createHtmlEvent(c,d,f);l.fireEvent(g,c,q)}});function n(b,c){var d=(b!=="mousemove");return function(g,f){var q=f.getXY(),r=l.createMouseEvent(g.ownerDocument,b,true,d,c,q[0],q[1],f.ctrlKey,f.altKey,f.shiftKey,f.metaKey,f.button,f.relatedTarget);l.fireEvent(g,b,r)}}Ext.each(["click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout"],function(b){k[b]=n(b,1)});Ext.Object.each({focusin:[true,false],focusout:[true,false],activate:[true,true],focus:[false,false],blur:[false,false]},function(c,b){var d=b[0],f=b[1];k[c]=function(g,r){var q=l.createUIEvent(g.ownerDocument,c,d,f,1);l.fireEvent(g,c,q)}});if(!l){k={};l={}}function j(b,c){}return function(b){var c=this,d=k[c.type]||j,f=b?(b.dom||b):c.getTarget();d(f,c)}}()),preventDefault:function(l){var n=this,o=n.browserEvent,p=n.parentEvent,k,m;if(typeof o.type!=="unknown"){if(!l){n.defaultPrevented=true}if(p){p.defaultPrevented=true}if(o.preventDefault){o.preventDefault()}else{if(o.type==="mousedown"){m=o.target;k=m.getAttribute("unselectable");if(k!=="on"){m.setAttribute("unselectable","on");Ext.defer(function(){m.setAttribute("unselectable",k)},1)}}o.returnValue=false;if(o.ctrlKey||o.keyCode>111&&o.keyCode<124){o.keyCode=-1}}}return n},stopPropagation:function(){var f=this,d=f.browserEvent;if(typeof d.type!=="unknown"){if(f.mousedownEvents[f.type]){Ext.GlobalEvents.fireMouseDown(f)}arguments.callee.$previous.call(this)}return f},deprecated:{"5.0":{methods:{clone:function(){return new this.self(this.browserEvent,this)}}}}},function(){var g=this,j,k=function(b){if(b.keyCode===9){g.forwardTab=!b.shiftKey}},l=function(b){if(b.keyCode===9){delete g.forwardTab}};if(Ext.isIE9m){j={0:0,1:0,4:1,2:2};g.override({statics:{enableIEAsync:function(b){var d,c={};for(d in b){c[d]=b[d]}return c}},constructor:function(c,b,f,n){var d=this;d.callParent([c,b,f,n]);d.button=j[c.button];if(c.type==="contextmenu"){d.button=2}d.toElement=c.toElement;d.fromElement=c.fromElement},mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,enableIEAsync:function(b){this.browserEvent=this.self.enableIEAsync(b)},getRelatedTarget:function(f,p,o){var c=this,d,b;if(!c.relatedTarget){d=c.type;if(c.mouseLeaveRe.test(d)){b=c.toElement}else{if(c.mouseEnterRe.test(d)){b=c.fromElement}}if(b){c.relatedTarget=c.self.resolveTextNode(b)}}return c.callParent([f,p,o])}});document.attachEvent("onkeydown",k);document.attachEvent("onkeyup",l);window.attachEvent("onunload",function(){document.detachEvent("onkeydown",k);document.detachEvent("onkeyup",l)})}else{if(document.addEventListener){document.addEventListener("keydown",k,true);document.addEventListener("keyup",l,true)}}});(Ext.cmd.derive("Ext.event.publisher.Dom",Ext.event.publisher.Publisher,{type:"dom",handledDomEvents:[],reEnterCount:0,captureEvents:{animationstart:1,animationend:1,resize:1,focus:1,blur:1},directEvents:{mouseenter:1,mouseleave:1,pointerenter:1,pointerleave:1,MSPointerEnter:1,MSPointerLeave:1,load:1,unload:1,beforeunload:1,error:1,DOMContentLoaded:1,DOMFrameContentLoaded:1,hashchange:1,scroll:1},blockedPointerEvents:{pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerOver:1,MSPointerOut:1,MSPointerEnter:1,MSPointerLeave:1},blockedCompatibilityMouseEvents:{mouseenter:1,mouseleave:1},constructor:function(){var c=this;c.bubbleSubscribers={};c.captureSubscribers={};c.directSubscribers={};c.directCaptureSubscribers={};c.delegatedListeners={};c.initHandlers();Ext.onInternalReady(c.onReady,c);Ext.event.publisher.Publisher.prototype.constructor.call(this)},registerEvents:function(){var l=this,n=Ext.event.publisher.Publisher.publishersByEvent,k=l.handledDomEvents,m=k.length,o=0,p;for(;o<m;o++){p=k[o];l.handles[p]=1;n[p]=l}Ext.event.publisher.Publisher.prototype.registerEvents.call(this)},onReady:function(){var j=this,g=j.handledDomEvents,k,l;if(g){for(l=0,k=g.length;l<k;l++){j.addDelegatedListener(g[l])}}Ext.getWin().on("unload",j.destroy,j)},initHandlers:function(){var c=this;c.onDelegatedEvent=Ext.bind(c.onDelegatedEvent,c);c.onDirectEvent=Ext.bind(c.onDirectEvent,c);c.onDirectCaptureEvent=Ext.bind(c.onDirectCaptureEvent,c)},addDelegatedListener:function(c){this.delegatedListeners[c]=1;this.target.addEventListener(c,this.onDelegatedEvent,!!this.captureEvents[c])},removeDelegatedListener:function(c){delete this.delegatedListeners[c];this.target.removeEventListener(c,this.onDelegatedEvent,!!this.captureEvents[c])},addDirectListener:function(j,g,f){g.dom.addEventListener(j,f?this.onDirectCaptureEvent:this.onDirectEvent,f)},removeDirectListener:function(j,g,f){g.dom.removeEventListener(j,f?this.onDirectCaptureEvent:this.onDirectEvent,f)},subscribe:function(q,r,n,l){var p=this,o,m;if(n&&!p.directEvents[r]){o=l?p.captureSubscribers:p.bubbleSubscribers;if(!p.handles[r]&&!p.delegatedListeners[r]){p.addDelegatedListener(r)}if(o[r]){++o[r]}else{o[r]=1}}else{o=l?p.directCaptureSubscribers:p.directSubscribers;m=q.id;o=o[r]||(o[r]={});if(o[m]){++o[m]}else{o[m]=1;p.addDirectListener(r,q,l)}}},unsubscribe:function(r,q,v,n){var o=this,p,s,w,u;if(v&&!o.directEvents[q]){p=o.captureSubscribers;s=o.bubbleSubscribers;w=n?p:s;if(w[q]){--w[q]}if(!o.handles[q]&&!s[q]&&!p[q]){this.removeDelegatedListener(q)}}else{w=n?o.directCaptureSubscribers:o.directSubscribers;u=r.id;w=w[q];if(w[u]){--w[u]}if(!w[u]){delete w[u];o.removeDirectListener(q,r,n)}}},getPropagatingTargets:function(j){var k=j,l=[],g;while(k){l.push(k);g=k.parentNode;if(!g){g=k.defaultView}k=g}return l},publish:function(y,B,F){var v=this,x=false,E=false,H,u,A,G,C,w,D,j;F=F||false;if(!B){A=y.target;if(v.captureEvents[y.type]){G=Ext.cache[A.id];B=G?[G]:[]}else{B=v.getPropagatingTargets(A)}}H=Ext.Array.from(y);w=B.length;j=H.length;for(C=0;C<j;C++){u=H[C].type;if(!x&&v.captureSubscribers[u]){x=true}if(!E&&v.bubbleSubscribers[u]){E=true}}if(x){for(C=w;C--;){G=Ext.cache[B[C].id];if(G){for(D=0;D<j;D++){y=H[D];v.fire(G,y.type,y,false,true);if(!F&&y.claimed){F=true;D=v.filterClaimed(H,y);j=H.length}if(y.stopped){H.splice(D,1);D--;j--}}}}}if(E&&!y.stopped){for(C=0;C<w;C++){G=Ext.cache[B[C].id];if(G){for(D=0;D<j;D++){y=H[D];v.fire(G,y.type,y,false,false);if(!F&&y.claimed&&v.filterClaimed){F=true;D=v.filterClaimed(H,y);j=H.length}if(y.stopped){H.splice(D,1);D--;j--}}}}}},publishDelegatedDomEvent:function(c){this.publish(c)},fire:function(o,p,m,l,k){var n;if(o.hasListeners[p]){n=o.events[p];if(n){if(k&&l){n=n.directCaptures}else{if(k){n=n.captures}else{if(l){n=n.directs}}}if(n){m.setCurrentTarget(o.dom);n.fire(m,m.target)}}}},onDelegatedEvent:function(c){if(Ext.elevateFunction){Ext.elevateFunction(this.doDelegatedEvent,this,[c])}else{this.doDelegatedEvent(c)}},doDelegatedEvent:function(g){var j=this,f;g=new Ext.event.Event(g);f=g.time;if(!j.isEventBlocked(g)){j.beforeEvent(g);Ext.frameStartTime=f;j.reEnterCount++;j.publishDelegatedDomEvent(g);j.reEnterCount--;j.afterEvent(g)}},onDirectEvent:function(c){if(Ext.elevateFunction){Ext.elevateFunction(this.doDirectEvent,this,[c,false])}else{this.doDirectEvent(c,false)}},onDirectCaptureEvent:function(c){if(Ext.elevateFunction){Ext.elevateFunction(this.doDirectEvent,this,[c,true])}else{this.doDirectEvent(c,true)}},doDirectEvent:function(l,p){var n=this,m=l.currentTarget,k,o;l=new Ext.event.Event(l);k=l.time;if(n.isEventBlocked(l)){return}n.beforeEvent(l);Ext.frameStartTime=k;o=Ext.cache[m.id];if(o){n.reEnterCount++;n.fire(o,l.type,l,true,p);n.reEnterCount--}n.afterEvent(l)},beforeEvent:function(m){var k=m.browserEvent,j=Ext.event.publisher.Dom,n,l;if(k.type==="touchstart"){n=k.touches;if(n.length===1){l=n[0];j.lastTouchStartX=l.pageX;j.lastTouchStartY=l.pageY}}},afterEvent:function(l){var k=l.browserEvent,m=k.type,n=Ext.event.publisher.Dom,j=Ext.GlobalEvents;if(l.self.pointerEvents[m]&&l.pointerType!=="mouse"){n.lastScreenPointerEventTime=Ext.now()}if(m==="touchend"){n.lastTouchEndTime=Ext.now()}if(!this.reEnterCount&&j.hasListeners.idle&&!j.idleEventMask[m]){j.fireEvent("idle")}},isEventBlocked:function(k){var l=this,m=k.type,j=Ext.event.publisher.Dom,n=Ext.now();if(Ext.isGecko&&k.type==="click"&&k.button===2){return true}return(l.blockedPointerEvents[m]&&k.pointerType!=="mouse")||(l.blockedCompatibilityMouseEvents[m]&&(n-j.lastScreenPointerEventTime<1000))||(Ext.supports.TouchEvents&&k.self.mouseEvents[k.type]&&Math.abs(k.pageX-j.lastTouchStartX)<15&&Math.abs(k.pageY-j.lastTouchStartY)<15&&(Ext.now()-j.lastTouchEndTime)<1000)},destroy:function(){var f=Ext.dom.GarbageCollector,d;for(d in this.delegatedListeners){this.removeDelegatedListener(d)}Ext.Reaper.flush();if(f){f.collect()}this.callParent()},reset:function(){var c=Ext.event.publisher.Dom;c.lastScreenPointerEventTime=c.lastTouchEndTime=c.lastTouchStartX=c.lastTouchStartY=undefined}},1,0,0,0,0,0,[Ext.event.publisher,"Dom"],function(l){var j=document,k=j.defaultView,g=l.prototype;if((Ext.os.is.iOS&&Ext.os.version.getMajor()<5)||Ext.browser.is.AndroidStock||!(k&&k.addEventListener)){g.target=j}else{g.target=k}l.instance=new l()}));Ext.define("Ext.overrides.event.publisher.Dom",{override:"Ext.event.publisher.Dom"},function(l){if(Ext.isIE9m){var p=document.documentElement,m=document.body,n=l.prototype,k,o;n.target=document;n.directBoundListeners={};k=function(b,c,d){b.target=b.srcElement||window;b.currentTarget=this;if(d){c.onDirectCaptureEvent(b)}else{c.onDirectEvent(b)}};o=function(b,c){b.target=b.srcElement||window;b.currentTarget=this;c.onDirectCaptureEvent(b)};l.override({addDelegatedListener:function(b){this.delegatedListeners[b]=1;this.target.attachEvent("on"+b,this.onDelegatedEvent)},removeDelegatedListener:function(b){delete this.delegatedListeners[b];this.target.detachEvent("on"+b,this.onDelegatedEvent)},addDirectListener:function(u,s,b){var g=this,f=s.dom,j=Ext.Function.bind(k,f,[g,b],true),d=g.directBoundListeners,c=d[u]||(d[u]={});c[f.id]=j;if(f.attachEvent){f.attachEvent("on"+u,j)}else{g.callParent([u,s,b])}},removeDirectListener:function(c,b,d){var f=b.dom;if(f.detachEvent){f.detachEvent("on"+c,this.directBoundListeners[c][f.id])}else{this.callParent([c,b,d])}},doDelegatedEvent:function(b){b.target=b.srcElement||window;if(b.type==="focusin"){b.relatedTarget=b.fromElement===m||b.fromElement===p?null:b.fromElement}else{if(b.type==="focusout"){b.relatedTarget=b.toElement===m||b.toElement===p?null:b.toElement}}return this.callParent([b])}});Ext.apply(n.directEvents,n.captureEvents);Ext.apply(n.directEvents,{change:1,input:1,paste:1});n.captureEvents={}}});(Ext.cmd.derive("Ext.event.publisher.Gesture",Ext.event.publisher.Dom,{type:"gesture",isCancelEvent:{touchcancel:1,pointercancel:1,MSPointerCancel:1},handledEvents:[],handledDomEvents:[],constructor:function(u){var p=this,s=p.handledDomEvents,m=Ext.supports,q=m.TouchEvents,o=p.onTouchStart,r=p.onTouchMove,n=p.onTouchEnd;p.handlers={touchstart:o,touchmove:r,touchend:n,touchcancel:n,pointerdown:o,pointermove:r,pointerup:n,pointercancel:n,MSPointerDown:o,MSPointerMove:r,MSPointerUp:n,MSPointerCancel:n,mousedown:o,mousemove:r,mouseup:n};p.activeTouchesMap={};p.activeTouches=[];p.changedTouches=[];p.recognizers=[];p.eventToRecognizer={};p.cancelEvents=[];if(q){p.onTargetTouchMove=p.onTargetTouchMove.bind(p);p.onTargetTouchEnd=p.onTargetTouchEnd.bind(p)}if(m.PointerEvents){s.push("pointerdown","pointermove","pointerup","pointercancel");p.mousePointerType="mouse"}else{if(m.MSPointerEvents){s.push("MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel");p.mousePointerType=4}else{if(q){s.push("touchstart","touchmove","touchend","touchcancel")}}}if(!s.length||(q&&Ext.isWebKit&&Ext.os.is.Desktop)){s.push("mousedown","mousemove","mouseup")}p.initConfig(u);return Ext.event.publisher.Dom.prototype.constructor.call(this)},onReady:function(){Ext.event.publisher.Dom.prototype.onReady.call(this);Ext.Array.sort(this.recognizers,function(b,j){var k=b.priority,l=j.priority;return(k>l)?1:(k<l)?-1:0})},registerRecognizer:function(k){var l=this,o=k.handledEvents,m=o.length,p,n;k.setOnRecognized(l.onRecognized);k.setCallbackScope(l);for(n=0;n<m;n++){p=o[n];l.handledEvents.push(p);l.eventToRecognizer[p]=k}l.registerEvents(o);l.recognizers.push(k)},onRecognized:function(J,D,A,I,B){var w=this,E=A.touches,v=A.changedTouches,y=v.length,K=w.events,F=!K.length,x=w.cancelEvents,L,C,G,H;I=I||{};I.type=D;I.target=v[0].target;I.stopped=false;I.claimed=false;I.isGesture=true;A=A.chain(I);if(!w.gestureTargets){if(y>1){L=[];for(G=0;G<y;G++){H=v[G];L.push(H.targets)}C=w.getCommonTargets(L)}else{C=v[0].targets}w.gestureTargets=C}if(B&&J.isSingleTouch&&(E.length>1)){A.target=E[0].target;x.push(A)}else{K.push(A)}if(F){w.publishGestures()}},getCommonTargets:function(n){var j=n[0],p=n.length;if(p===1){return j}var r=[],q=1,o,u,s;while(true){o=j[j.length-q];if(!o){return r}for(s=1;s<p;s++){u=n[s];if(u[u.length-q]!==o){return r}}r.unshift(o);q++}return r},invokeRecognizers:function(o,l){var p=this.recognizers,m=p.length,n,k;if(o==="onStart"){for(n=0;n<m;n++){p[n].isActive=true}}for(n=0;n<m;n++){k=p[n];if(k.isActive&&k[o].call(k,l)===false){k.isActive=false}}},filterClaimed:function(p,w){var r=this,v=r.eventToRecognizer,q=w.type,y=v[q],o,x,s,u;for(u=p.length;u--;){s=p[u].type;if(s===q){o=u}else{x=v[s];if(!y||(x&&(x!==y))){p.splice(u,1);if(o){o--}}}}r.claimRecognizer(y,p[0]);return o},claimRecognizer:function(l,m){var n=this,q=n.recognizers,p,o,r;for(p=0,o=q.length;p<o;p++){r=q[p];if(r!==l){r.isActive=false;r.cancel(m)}}if(n.events.length){n.publishGestures(true)}},publishGestures:function(l){var m=this,k=m.cancelEvents,j=m.events,n=m.gestureTargets;if(k.length){m.cancelEvents=[];m.publish(k,m.getPropagatingTargets(k[0].target),true)}if(j.length){m.events=[];m.gestureTargets=null;m.publish(j,n||m.getPropagatingTargets(j[0].target),l)}},updateTouches:function(C,I){var x=this,K=C.browserEvent,F=K.changedTouches||[K],J=x.activeTouches,B=x.activeTouchesMap,v=[],y,D,G,E,H,A,L,w;for(H=0,A=F.length;H<A;H++){y=F[H];if("identifier" in y){D=y.identifier}else{if("pointerId" in y){D=y.pointerId}else{D=1}}G=B[D];if(!G){E=Ext.event.Event.resolveTextNode(y.target);G=B[D]={identifier:D,target:E,targets:x.getPropagatingTargets(E)};J.push(G)}if(I){delete B[D];Ext.Array.remove(J,G)}L=y.pageX;w=y.pageY;G.pageX=L;G.pageY=w;G.point=new Ext.util.Point(L,w);v.push(G)}C.touches=Ext.Array.clone(J);C.changedTouches=v},publishDelegatedDomEvent:function(f){var d=this;if(!f.button||f.button<1){d.events=[f];d.handlers[f.type].call(d,f)}else{Ext.event.publisher.Dom.prototype.publishDelegatedDomEvent.call(this,f)}},onTouchStart:function(j){var g=this,k=j.target,l=j.browserEvent.touches;if(j.browserEvent.type==="touchstart"){k.addEventListener("touchmove",g.onTargetTouchMove);k.addEventListener("touchend",g.onTargetTouchEnd);k.addEventListener("touchcancel",g.onTargetTouchEnd)}if(l&&l.length<=g.activeTouches.length){g.removeGhostTouches(l)}g.updateTouches(j);if(!g.isStarted){if(Ext.enableGarbageCollector){Ext.dom.GarbageCollector.pause()}g.isStarted=true;g.invokeRecognizers("onStart",j)}g.invokeRecognizers("onTouchStart",j);g.publishGestures()},onTouchMove:function(g){var j=this,f=j.mousePointerType;if(j.isStarted){if(f&&g.browserEvent.pointerType===f&&g.buttons===0){g.type=Ext.dom.Element.prototype.eventMap.touchend;g.button=0;j.onTouchEnd(g);return}j.updateTouches(g);if(g.changedTouches.length>0){j.invokeRecognizers("onTouchMove",g)}}j.publishGestures()},onTouchEnd:function(g){var j=this,f;if(!j.isStarted){j.publishGestures();return}j.updateTouches(g,true);f=j.activeTouches.length;try{j.invokeRecognizers(j.isCancelEvent[g.type]?"onTouchCancel":"onTouchEnd",g)}finally{if(!f){j.isStarted=false;j.invokeRecognizers("onEnd",g)}j.publishGestures();if(!f){if(Ext.enableGarbageCollector){Ext.dom.GarbageCollector.resume()}}}},onTargetTouchMove:function(c){if(Ext.elevateFunction){Ext.elevateFunction(this.doTargetTouchMove,this,[c])}else{this.doTargetTouchMove(c)}},doTargetTouchMove:function(c){if(!Ext.getBody().contains(c.target)){this.onTouchMove(new Ext.event.Event(c))}},onTargetTouchEnd:function(c){if(Ext.elevateFunction){Ext.elevateFunction(this.doTargetTouchEnd,this,[c])}else{this.doTargetTouchEnd(c)}},doTargetTouchEnd:function(g){var f=this,j=g.target;j.removeEventListener("touchmove",f.onTargetTouchMove);j.removeEventListener("touchend",f.onTargetTouchEnd);j.removeEventListener("touchcancel",f.onTargetTouchEnd);if(!Ext.getBody().contains(j)){f.onTouchEnd(new Ext.event.Event(g))}},reset:function(){var k=this,n=k.recognizers,l=n.length,m,j;k.activeTouchesMap={};k.activeTouches=[];k.changedTouches=[];k.isStarted=false;k.gestureTargets=null;k.events=[];k.cancelEvents=[];for(m=0;m<l;m++){j=n[m];j.reset();j.isActive=false}Ext.event.publisher.Dom.prototype.reset.call(this)},privates:{removeGhostTouches:function(q){var s={},m=q.length,n=this.activeTouches,r=this.activeTouchesMap,u,o,p;for(u=0;u<m;++u){s[q[u].identifier]=true}u=n.length;while(u--){p=n[u];o=p.identifier;if(!q[o]){Ext.Array.remove(n,p);delete r[o]}}}}},1,0,0,0,0,0,[Ext.event.publisher,"Gesture"],function(c){c.instance=Ext.$gesturePublisher=new c()}));Ext.define("Ext.overrides.event.publisher.Gesture",{override:"Ext.event.publisher.Gesture"},function(){if(Ext.isIE9m){this.override({updateTouches:function(k,g){var j=k.browserEvent,l=k.getXY();j.pageX=l[0];j.pageY=l[1];this.callParent([k,g])},doDelegatedEvent:function(c){this.callParent([Ext.event.Event.enableIEAsync(c)])}})}});(Ext.cmd.derive("Ext.mixin.Templatable",Ext.Mixin,{mixinConfig:{id:"templatable"},referenceAttributeName:"reference",referenceSelector:"[reference]",getElementConfig:function(){return{reference:"element"}},getElementTemplate:function(){var c=document.createDocumentFragment();c.appendChild(Ext.Element.create(this.getElementConfig(),true));return c},initElement:function(){var c=this.self.prototype;c.elementTemplate=this.getElementTemplate();c.initElement=c.doInitElement;this.initElement.apply(this,arguments)},linkElement:function(d,f){this.link(d,f)},doInitElement:function(){var m=this.referenceAttributeName,q,p,o,n,r,l;q=this.elementTemplate.cloneNode(true);p=q.querySelectorAll(this.referenceSelector);for(o=0,n=p.length;o<n;o++){r=p[o];l=r.getAttribute(m);r.removeAttribute(m);this.linkElement(l,r)}}},0,0,0,0,0,0,[Ext.mixin,"Templatable"],0));(Ext.cmd.derive("Ext.TaskQueue",Ext.Base,{singleton:true,pending:false,mode:true,constructor:function(){this.readQueue=[];this.writeQueue=[];this.run=Ext.Function.bind(this.run,this);if(Ext.os.is.iOS){Ext.interval(this.watch,500,this)}},requestRead:function(g,j,f){this.request(true);this.readQueue.push(arguments)},requestWrite:function(g,j,f){this.request(false);this.writeQueue.push(arguments)},request:function(c){if(!this.pending){this.pendingTime=Date.now();this.pending=true;this.mode=c;if(c){Ext.defer(this.run,1,this)}else{Ext.Function.requestAnimationFrame(this.run)}}},watch:function(){if(this.pending&&Date.now()-this.pendingTime>=500){this.run()}},run:function(){this.pending=false;var p=this.readQueue,u=this.writeQueue,w=null,s;if(this.mode){s=p;if(u.length>0){w=false}}else{s=u;if(p.length>0){w=true}}var x=s.slice(),v,r,y,q,o;s.length=0;for(v=0,r=x.length;v<r;v++){y=x[v];q=y[0];o=y[1];if(o&&(o.destroying||o.destroyed)){continue}if(typeof q==="string"){q=o[q]}if(y.length>2){q.apply(o,y[2])}else{q.call(o)}}x.length=0;if(w!==null){this.request(w)}}},1,0,0,0,0,0,[Ext,"TaskQueue"],0));(Ext.cmd.derive("Ext.util.sizemonitor.Abstract",Ext.Base,{config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},width:null,height:null,contentWidth:null,contentHeight:null,constructor:function(c){this.refresh=Ext.Function.bind(this.refresh,this);this.info={width:0,height:0,contentWidth:0,contentHeight:0,flag:0};this.initElement();this.initConfig(c);this.bindListeners(true)},bindListeners:Ext.emptyFn,applyElement:function(c){if(c){return Ext.get(c)}},updateElement:function(c){c.append(this.detectorsContainer);c.addCls("x-size-monitored")},applyArgs:function(c){return c.concat([this.info])},refreshMonitors:Ext.emptyFn,forceRefresh:function(){Ext.TaskQueue.requestRead("refresh",this)},getContentBounds:function(){return this.detectorsContainer.getBoundingClientRect()},getContentWidth:function(){return this.detectorsContainer.clientWidth},getContentHeight:function(){return this.detectorsContainer.clientHeight},refreshSize:function(){var v=this.getElement();if(!v||v.destroyed){return false}var x=v.getWidth(),o=v.getHeight(),y=this.getContentWidth(),p=this.getContentHeight(),q=this.contentWidth,s=this.contentHeight,w=this.info,u=false,r=0;this.width=x;this.height=o;this.contentWidth=y;this.contentHeight=p;r=((q!==y?1:0)+(s!==p?2:0));if(r>0){w.width=x;w.height=o;w.contentWidth=y;w.contentHeight=p;w.flag=r;u=true;this.getCallback().apply(this.getScope(),this.getArgs())}return u},refresh:function(c){if(this.destroying||this.destroyed){return}if(this.refreshSize()||c){Ext.TaskQueue.requestWrite("refreshMonitors",this)}},destroy:function(){var f=this,d=f.getElement();f.bindListeners(false);if(d&&!d.destroyed){d.removeCls("x-size-monitored")}delete f._element;f.refresh=null;f.callParent()}},1,0,0,0,0,[[Ext.mixin.Templatable.prototype.mixinId||Ext.mixin.Templatable.$className,Ext.mixin.Templatable]],[Ext.util.sizemonitor,"Abstract"],0));(Ext.cmd.derive("Ext.util.sizemonitor.Scroll",Ext.util.sizemonitor.Abstract,{getElementConfig:function(){return{reference:"detectorsContainer",classList:["x-size-monitors","scroll"],children:[{reference:"expandMonitor",className:"expand"},{reference:"shrinkMonitor",className:"shrink"}]}},constructor:function(c){this.onScroll=Ext.Function.bind(this.onScroll,this);Ext.util.sizemonitor.Abstract.prototype.constructor.apply(this,arguments)},bindListeners:function(f){var d=f?"addEventListener":"removeEventListener";this.expandMonitor[d]("scroll",this.onScroll,true);this.shrinkMonitor[d]("scroll",this.onScroll,true)},forceRefresh:function(){Ext.TaskQueue.requestRead("refresh",this,[true])},onScroll:function(){Ext.TaskQueue.requestRead("refresh",this)},refreshMonitors:function(){var j=this.expandMonitor,g=this.shrinkMonitor,f=1000000;if(j&&!j.destroyed){j.scrollLeft=f;j.scrollTop=f}if(g&&!g.destroyed){g.scrollLeft=f;g.scrollTop=f}},destroy:function(){this.onScroll=null;Ext.util.sizemonitor.Abstract.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.util.sizemonitor,"Scroll"],0));(Ext.cmd.derive("Ext.util.sizemonitor.OverflowChange",Ext.util.sizemonitor.Abstract,{constructor:function(c){this.onExpand=Ext.Function.bind(this.onExpand,this);this.onShrink=Ext.Function.bind(this.onShrink,this);Ext.util.sizemonitor.Abstract.prototype.constructor.apply(this,arguments)},getElementConfig:function(){return{reference:"detectorsContainer",classList:["x-size-monitors","overflowchanged"],children:[{reference:"expandMonitor",className:"expand",children:[{reference:"expandHelper"}]},{reference:"shrinkMonitor",className:"shrink",children:[{reference:"shrinkHelper"}]}]}},bindListeners:function(f){var d=f?"addEventListener":"removeEventListener";this.expandMonitor[d](Ext.browser.is.Firefox?"underflow":"overflowchanged",this.onExpand,true);this.shrinkMonitor[d](Ext.browser.is.Firefox?"overflow":"overflowchanged",this.onShrink,true)},onExpand:function(c){if(Ext.browser.is.Webkit&&c.horizontalOverflow&&c.verticalOverflow){return}Ext.TaskQueue.requestRead("refresh",this)},onShrink:function(c){if(Ext.browser.is.Webkit&&!c.horizontalOverflow&&!c.verticalOverflow){return}Ext.TaskQueue.requestRead("refresh",this)},refreshMonitors:function(){if(this.destroying||this.destroyed){return}var l=this.expandHelper,m=this.shrinkHelper,p=this.getContentBounds(),n=p.width,k=p.height,o;if(l&&!l.destroyed){o=l.style;o.width=(n+1)+"px";o.height=(k+1)+"px"}if(m&&!m.destroyed){o=m.style;o.width=n+"px";o.height=k+"px"}Ext.TaskQueue.requestRead("refresh",this)},destroy:function(){this.onExpand=this.onShrink=null;Ext.util.sizemonitor.Abstract.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.util.sizemonitor,"OverflowChange"],0));(Ext.cmd.derive("Ext.util.SizeMonitor",Ext.Base,{constructor:function(d){var f=Ext.util.sizemonitor;if(Ext.browser.is.Firefox){return new f.OverflowChange(d)}else{return new f.Scroll(d)}}},1,0,0,0,0,0,[Ext.util,"SizeMonitor"],0));(Ext.cmd.derive("Ext.event.publisher.ElementSize",Ext.event.publisher.Publisher,{type:"size",handledEvents:["resize"],constructor:function(){this.monitors={};this.subscribers={};Ext.event.publisher.Publisher.prototype.constructor.apply(this,arguments)},subscribe:function(l){var j=l.id,k=this.subscribers,g=this.monitors;if(k[j]){++k[j]}else{k[j]=1;g[j]=new Ext.util.SizeMonitor({element:l,callback:this.onElementResize,scope:this,args:[l]})}l.on("painted","forceRefresh",g[j]);return true},unsubscribe:function(m){var k=m.id,l=this.subscribers,n=this.monitors,j;if(l[k]&&!--l[k]){delete l[k];j=n[k];m.un("painted","forceRefresh",j);j.destroy();delete n[k]}},onElementResize:function(d,f){Ext.TaskQueue.requestRead("fire",this,[d,"resize",[d,f]])}},1,0,0,0,0,0,[Ext.event.publisher,"ElementSize"],function(c){c.instance=new c()}));(Ext.cmd.derive("Ext.util.paintmonitor.Abstract",Ext.Base,{config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},eventName:"",monitorClass:"",constructor:function(c){this.onElementPainted=Ext.Function.bind(this.onElementPainted,this);this.initConfig(c)},bindListeners:function(c){this.monitorElement[c?"addEventListener":"removeEventListener"](this.eventName,this.onElementPainted,true)},applyElement:function(c){if(c){return Ext.get(c)}},updateElement:function(c){this.monitorElement=Ext.Element.create({classList:["x-paint-monitor",this.monitorClass]},true);c.appendChild(this.monitorElement);c.addCls("x-paint-monitored");this.bindListeners(true)},onElementPainted:function(){},destroy:function(){var j=this,l=j.monitorElement,g=l.parentNode,k=j.getElement();j.bindListeners(false);delete j.monitorElement;if(k&&!k.destroyed){k.removeCls("x-paint-monitored");delete j._element}if(g){g.removeChild(l)}j.callParent()}},1,0,0,0,0,0,[Ext.util.paintmonitor,"Abstract"],0));(Ext.cmd.derive("Ext.util.paintmonitor.CssAnimation",Ext.util.paintmonitor.Abstract,{eventName:Ext.browser.is.WebKit?"webkitAnimationEnd":"animationend",monitorClass:"cssanimation",onElementPainted:function(c){if(c.animationName==="x-paint-monitor-helper"){this.getCallback().apply(this.getScope(),this.getArgs())}}},0,0,0,0,0,0,[Ext.util.paintmonitor,"CssAnimation"],0));(Ext.cmd.derive("Ext.util.PaintMonitor",Ext.Base,{constructor:function(c){return new Ext.util.paintmonitor.CssAnimation(c)}},1,0,0,0,0,0,[Ext.util,"PaintMonitor"],0));(Ext.cmd.derive("Ext.event.publisher.ElementPaint",Ext.event.publisher.Publisher,{type:"paint",handledEvents:["painted"],constructor:function(){this.monitors={};this.subscribers={};Ext.event.publisher.Publisher.prototype.constructor.apply(this,arguments)},subscribe:function(g){var l=this,j=g.id,k=l.subscribers;if(k[j]){++k[j]}else{k[j]=1;l.monitors[j]=new Ext.util.PaintMonitor({element:g,callback:l.onElementPainted,scope:l,args:[g]})}},unsubscribe:function(l){var j=l.id,k=this.subscribers,g=this.monitors;if(k[j]&&!--k[j]){delete k[j];g[j].destroy();delete g[j]}},onElementPainted:function(c){Ext.TaskQueue.requestRead("fire",this,[c,"painted",[c]])}},1,0,0,0,0,0,[Ext.event.publisher,"ElementPaint"],function(c){c.instance=new c()}));(Ext.cmd.derive("Ext.dom.Element",Ext.Base,function(bc){var a5=window,ar=document,bo=ar.documentElement,a6=a5.top,a8,aJ,ay,bj="width",au="height",aP="min-width",bn="min-height",bb="max-width",aN="max-height",a6="top",aH="right",ax="bottom",aF="left",bh="visibility",aM="hidden",bp="display",a3="none",be="z-index",aY="position",a9="relative",a7="static",aV="-",aZ=/\w/g,az=/\s+/,aL=/[\s]+/,br=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,aB=/table-row|table-.*-group/,bq=/top/i,a1={t:"border-top-width",r:"border-right-width",b:"border-bottom-width",l:"border-left-width"},aR={t:"padding-top",r:"padding-right",b:"padding-bottom",l:"padding-left"},bf={t:"margin-top",r:"margin-right",b:"margin-bottom",l:"margin-left"},aG=[aR.l,aR.r,aR.t,aR.b],bl=[a1.l,a1.r,a1.t,a1.b],aU=/\d+$/,bi=/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,at="px",av=/(-[a-z])/gi,aD=/([a-z0-9\-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*);?/gi,ba=/^\d+(?:\.\d*)?px$/i,aX={},a2="originalDisplay",a0=function(c,b){return b.charAt(1).toUpperCase()},aA=function(f,b){var d,g,c;if(f.nodeType===1){f._extData=null;if(b){d=f.childNodes;for(g=0,c=d.length;g<c;++g){aA(d[g],b)}}}},aK="x-hidden-visibility",aO="x-hidden-display",bg="x-hidden-offsets",bs="x-hidden-clip",aQ="x-sized",aw="x-unsized",aC="x-stretched",bd={style:"style",className:"className",cls:"cls",classList:"classList",text:"text",hidden:"hidden",html:"html",children:"children"},a4=0,aT=0,aS=false,bm=false,aW,aI,bk;try{a8=a6.__elementIdCounter__}catch(aE){a6=a5}a6.__elementIdCounter=a8=(a6.__elementIdCounter__||0)+1;aJ="ext-window-"+a8;ay="ext-document-"+a8;return{alternateClassName:["Ext.Element"],observableType:"element",isElement:true,skipGarbageCollection:true,$applyConfigs:true,identifiablePrefix:"ext-element-",styleHooks:{},validIdRe:Ext.validIdRe,blockedEvents:Ext.supports.EmulatedMouseOver?{mouseover:1}:{},longpressEvents:{longpress:1,taphold:1},constructor:function(b){var c=this,d;if(typeof b==="string"){b=ar.getElementById(b)}if(!b){return null}c.dom=b;d=b.id;if(d){c.id=d}else{d=b.id=c.getUniqueId()}c.el=c;Ext.cache[d]=c;c.longpressListenerCount=0;c.mixins.observable.constructor.call(c)},inheritableStatics:{cache:Ext.cache={},editableSelector:'input,textarea,[contenteditable="true"]',VISIBILITY:1,DISPLAY:2,OFFSETS:3,CLIP:4,minKeyboardHeight:100,unitRe:bi,useDelegatedEvents:true,validNodeTypes:{1:1,9:1},addUnits:function(b,c){if(typeof b==="number"){return b+(c||at)}if(b===""||b==="auto"||b==null){return b||""}if(aU.test(b)){return b+(c||at)}if(!bi.test(b)){return b||""}return b},create:function(d,f){var n=this,g,p,m,k,l,j,b,o,c;d=d||{};if(d.isElement){return f?d.dom:d}else{if("nodeType" in d){return f?d:Ext.get(d)}}if(typeof d==="string"){return ar.createTextNode(d)}k=d.tag;if(!k){k="div"}if(d.namespace){p=ar.createElementNS(d.namespace,k)}else{p=ar.createElement(k)}m=p.style;for(j in d){if(j!=="tag"){l=d[j];switch(j){case bd.style:if(typeof l==="string"){p.setAttribute(j,l)}else{for(b in l){if(l.hasOwnProperty(b)){m[b]=l[b]}}}break;case bd.className:case bd.cls:c=l.split(az);g=g?g.concat(c):c;break;case bd.classList:g=g?g.concat(l):l;break;case bd.text:p.textContent=l;break;case bd.html:p.innerHTML=l;break;case bd.hidden:if(g){g.push(aO)}else{g=[aO]}break;case bd.children:if(l!=null){for(b=0,o=l.length;b<o;b++){p.appendChild(n.create(l[b],true))}}break;default:if(l!=null){p.setAttribute(j,l)}}}}if(g){p.className=g.join(" ")}if(f){return p}else{return n.get(p)}},detach:function(){var b=this.dom;if(b&&b.parentNode&&b.tagName!=="BODY"){b.parentNode.removeChild(b)}return this},fly:function(b,c){return Ext.fly(b,c)},fromPoint:(function(){var b;if(Ext.isIE){try{b=window.self!==window.top}catch(c){b=true}}return function(g,d,j){var f=null;f=ar.elementFromPoint(g,d);if(!f&&b){f=ar.elementFromPoint(g,d)}return j?f:Ext.get(f)}})(),fromPagePoint:function(f,d,b){var c=Ext.getDoc().getScroll();return bc.fromPoint(f-c.left,d-c.top,b)},get:function(f){var n=this,j=Ext.cache,c,d,g,k,l,b,m;if(!f){return null}if(f.isFly){f=f.dom}if(typeof f==="string"){g=f;if(j.hasOwnProperty(g)){k=j[g];if(k.skipGarbageCollection||!Ext.isGarbage(k.dom)){return k}else{k.destroy()}}if(g===aJ){return bc.get(a5)}else{if(g===ay){return bc.get(ar)}}d=Ext.getElementById?Ext.getElementById(g):ar.getElementById(g);if(d){return new bc(d)}}c=f.nodeType;if(c){l=(c===9);m=n.validNodeTypes[c]}else{b=(f.window==f)}if(m||b){g=f.id;if(j.hasOwnProperty(g)){k=j[g];if(k.skipGarbageCollection||f===k.dom||!Ext.isGarbage(k.dom)){return k}else{k.destroy()}}if(f===ar){f.id=ay}if(f==a5){f.id=aJ}f=new bc(f);if(b||l){f.skipGarbageCollection=true}return f}if(f.isElement){return f}if(f.isComposite){return f}if(Ext.isIterable(f)){return n.select(f)}return null},getActiveElement:function(c){var b=ar.activeElement;if(!b||!b.focus){b=ar.body}return c?Ext.get(b):b},getDocumentHeight:function(){return Math.max(!Ext.isStrict?ar.body.scrollHeight:bo.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(!Ext.isStrict?ar.body.scrollWidth:bo.scrollWidth,this.getViewportWidth())},getOrientation:function(){if(Ext.supports.OrientationChange){return(a5.orientation==0)?"portrait":"landscape"}return(a5.innerHeight>a5.innerWidth)?"portrait":"landscape"},getViewportHeight:function(){var b=bc._viewportHeight;if(Ext.isIE9m){return ar.documentElement.clientHeight}return(b!=null)?b:bo.clientHeight},getViewportWidth:function(){var b=bc._viewportWidth;if(Ext.isIE9m){return ar.documentElement.clientWidth}return(b!=null)?b:bo.clientWidth},getViewportScale:function(){var b=a5.top;return((Ext.isiOS||Ext.isAndroid)?1:(b.devicePixelRatio||b.screen.deviceXDPI/b.screen.logicalXDPI))*this.getViewportTouchScale()},getViewportTouchScale:function(g){var d=1,c="hidden",b=a5.top,f;if(!g){f=this._viewportTouchScale;if(f){return f}}if(Ext.isIE10p||Ext.isEdge||Ext.isiOS){d=bo.offsetWidth/a5.innerWidth}else{if(Ext.isChromeMobile){d=b.outerWidth/b.innerWidth}}return d},getViewSize:function(){return{width:bc.getViewportWidth(),height:bc.getViewportHeight()}},maskIframes:function(){var b=document.getElementsByTagName("iframe");Ext.each(b,function(d){var c;c=Ext.fly(d.parentNode).mask();c.setStyle("background-color","transparent")})},normalize:function(b){return aX[b]||(aX[b]=b.replace(av,a0))},_onWindowFocusChange:function(b){if(Ext.fly(b.target).is(bc.editableSelector)){a4=new Date();aS=(b.type==="focusin"||b.type==="pointerup")}},_onWindowResize:function(){var j=bo.clientWidth,d=bo.clientHeight,f=new Date(),b=1000,g,c;g=j-bc._documentWidth;c=d-bc._documentHeight;bc._windowWidth=j;bc._windowHeight=d;if(((f-a4)<b)||((f-aT)<b)){if(g===0&&(aS&&(c<=-bc.minKeyboardHeight))){bm=true;return}}if(bm&&(g===0)&&(c>=bc.minKeyboardHeight)){bm=false;aT=new Date()}if(bm){return}bc._viewportWidth=j;bc._viewportHeight=d},parseBox:function(f){f=f||0;var c=typeof f,d,b;if(c==="number"){return{top:f,right:f,bottom:f,left:f}}else{if(c!=="string"){return f}}d=f.split(" ");b=d.length;if(b===1){d[1]=d[2]=d[3]=d[0]}else{if(b===2){d[2]=d[0];d[3]=d[1]}else{if(b===3){d[3]=d[1]}}}return{top:parseFloat(d[0])||0,right:parseFloat(d[1])||0,bottom:parseFloat(d[2])||0,left:parseFloat(d[3])||0}},parseStyles:function(b){var c={},d;if(b){aD.lastIndex=0;while((d=aD.exec(b))){c[d[1]]=d[2]||""}}return c},select:function(c,d,b){return Ext.fly(b||ar).select(c,d)},query:function(b,c,d){return Ext.fly(d||ar).query(b,c)},unitizeBox:function(d,c){var b=this;d=b.parseBox(d);return b.addUnits(d.top,c)+" "+b.addUnits(d.right,c)+" "+b.addUnits(d.bottom,c)+" "+b.addUnits(d.left,c)},unmaskIframes:function(){var b=document.getElementsByTagName("iframe");Ext.each(b,function(c){Ext.fly(c.parentNode).unmask()})},serializeForm:function(g){var d=g.elements||(ar.forms[g]||Ext.getDom(g)).elements,l=false,m=encodeURIComponent,s="",b=d.length,r,n,o,f,k,q,c,p,j;for(q=0;q<b;q++){r=d[q];n=r.name;o=r.type;f=r.options;if(!r.disabled&&n){if(/select-(one|multiple)/i.test(o)){p=f.length;for(c=0;c<p;c++){j=f[c];if(j.selected){k=j.hasAttribute("value");s+=Ext.String.format("{0}={1}&",m(n),m(k?j.value:j.text))}}}else{if(!(/file|undefined|reset|button/i.test(o))){if(!(/radio|checkbox/i.test(o)&&!r.checked)&&!(o=="submit"&&l)){s+=m(n)+"="+m(r.value)+"&";l=/submit/i.test(o)}}}}}return s.substr(0,s.length-1)},getCommonAncestor:function(d,b,c){bk=bk||new Ext.dom.Fly();bk.attach(Ext.getDom(d));while(!bk.isAncestor(b)){if(bk.dom.parentNode){bk.attach(bk.dom.parentNode)}else{bk.attach(ar.body);break}}return c?bk.dom:Ext.get(bk)}},addCls:function(n,p,l){var m=this,d=m.getData(),k,c,g,f,b,o,j;if(!n){return m}if(!d.isSynchronized){m.synchronize()}c=m.dom;g=d.classMap;f=d.classList;p=p?p+aV:"";l=l?aV+l:"";if(typeof n==="string"){n=n.split(az)}for(b=0,o=n.length;b<o;b++){j=n[b];if(j){j=p+j+l;if(!g[j]){g[j]=true;f.push(j);k=true}}}if(k){c.className=f.join(" ")}return m},addClsOnClick:function(j,d,b){var g=this,f=g.dom,c=Ext.isFunction(d);g.on("mousedown",function(){if(c&&d.call(b||g,g)===false){return false}Ext.fly(f).addCls(j);var k=Ext.getDoc(),l=function(){Ext.fly(f).removeCls(j);k.removeListener("mouseup",l)};k.on("mouseup",l)});return g},addClsOnFocus:function(j,d,b){var g=this,f=g.dom,c=Ext.isFunction(d);g.on("focus",function(){if(c&&d.call(b||g,g)===false){return false}Ext.fly(f).addCls(j)});g.on("blur",function(){Ext.fly(f).removeCls(j)});return g},addClsOnOver:function(j,d,b){var g=this,f=g.dom,c=Ext.isFunction(d);g.hover(function(){if(c&&d.call(b||g,g)===false){return}Ext.fly(f).addCls(j)},function(){Ext.fly(f).removeCls(j)});return g},addStyles:function(d,f){var l=0,g=(d||"").match(aZ),j,c=g.length,k,b=[];if(c===1){l=Math.abs(parseFloat(this.getStyle(f[g[0]]))||0)}else{if(c){for(j=0;j<c;j++){k=g[j];b.push(f[k])}b=this.getStyle(b);for(j=0;j<c;j++){k=g[j];l+=parseFloat(b[f[k]])||0}}}return l},addUnits:function(b,c){return bc.addUnits(b,c)},adjustDirect2DDimension:function(f){var l=this,g=l.dom,b=l.getStyle("display"),c=g.style.display,k=g.style.position,m=f===bj?0:1,j=g.currentStyle,d;if(b==="inline"){g.style.display="inline-block"}g.style.position=b.match(aB)?"absolute":"static";d=(parseFloat(j[f])||parseFloat(j.msTransformOrigin.split(" ")[m])*2)%1;g.style.position=k;if(b==="inline"){g.style.display=c}return d},animate:function(b){b=new Ext.fx.Animation(b);b.setElement(this);this._activeAnimation=b;b.on({animationend:this._onAnimationEnd,scope:this});Ext.Animator.run(b);return b},_onAnimationEnd:function(){this._activeAnimation=null},getActiveAnimation:function(){return this._activeAnimation},append:function(){this.appendChild.apply(this,arguments)},appendChild:function(j,b){var g=this,d,c,f;if(j.nodeType||j.dom||typeof j==="string"){j=Ext.getDom(j);g.dom.appendChild(j);return !b?Ext.get(j):j}else{if(j.length){d=Ext.fly(ar.createDocumentFragment());c=j.length;for(f=0;f<c;f++){d.appendChild(j[f],b)}j=Ext.Array.toArray(d.dom.childNodes);g.dom.appendChild(d.dom);return b?j:new Ext.dom.CompositeElementLite(j)}else{return g.createChild(j,null,b)}}},appendTo:function(b){Ext.getDom(b).appendChild(this.dom);return this},applyStyles:function(b){if(b){if(typeof b==="function"){b=b.call()}if(typeof b==="string"){b=bc.parseStyles(b)}if(typeof b==="object"){this.setStyle(b)}}return this},blur:function(){var c=this,d=c.dom;if(d!==ar.body){try{d.blur()}catch(b){}return c}else{return c.focus(undefined,d)}},cacheScrollValues:function(){var g=this,f=[],j=[],d,k,b,c;aI=aI||new Ext.dom.Fly();d=g.query("*");for(b=0,c=d.length;b<c;b++){k=d[b];if(k.scrollTop>0||k.scrollLeft!==0){j.push(k);f.push(aI.attach(k).getScroll())}}return function(){var n,m,l;for(m=0,l=j.length;m<l;m++){n=f[m];aI.attach(j[m]);aI.setScrollLeft(n.left);aI.setScrollTop(n.top)}}},center:function(b){return this.alignTo(b||ar,"c-c")},child:function(c,b){var f=this,d=Ext.get(f).id;return f.selectNode(Ext.makeIdSelector(d)+" > "+c,!!b)},clone:function(c,b){var d=this.dom.cloneNode(c);if(Ext.supports.CloneNodeCopiesExpando){aA(d,c)}return b?d:Ext.get(d)},constrainScrollLeft:function(c){var b=this.dom;return Math.max(Math.min(c,b.scrollWidth-b.clientWidth),0)},constrainScrollTop:function(c){var b=this.dom;return Math.max(Math.min(c,b.scrollHeight-b.clientHeight),0)},createChild:function(b,c,d){b=b||{tag:"div"};if(c){return Ext.DomHelper.insertBefore(c,b,d!==true)}else{return Ext.DomHelper.append(this.dom,b,d!==true)}},contains:function(c){if(!c){return false}var b=this,d=Ext.getDom(c);return(d===b.dom)||b.isAncestor(d)},destroy:function(){var c=this,b=c.dom;if(b&&b.parentNode){b.parentNode.removeChild(b)}c.collect()},detach:function(){var b=this.dom;if(b&&b.parentNode&&b.tagName!=="BODY"){b.parentNode.removeChild(b)}return this},disableShadow:function(){var b=this.shadow;if(b){b.hide();b.disabled=true}},disableShim:function(){var b=this.shim;if(b){b.hide();b.disabled=true}},doReplaceWith:function(c){var b=this.dom;b.parentNode.replaceChild(Ext.getDom(c),b)},doScrollIntoView:function(l,c,g,b,k,o){aI=aI||new Ext.dom.Fly();var n=this,q=n.dom,j=aI.attach(l)[k](),m=l.scrollTop,p=n.getScrollIntoViewXY(l,j,m),d=p.x,f=p.y;if(b){if(g){g=Ext.apply({listeners:{afteranimate:function(){aI.attach(q).highlight()}}},g)}else{aI.attach(q).highlight()}}if(f!==m){aI.attach(l).scrollTo("top",f,g)}if(c!==false&&(d!==j)){aI.attach(l)[o]("left",d,g)}return n},down:function(c,b){return this.selectNode(c,!!b)},enableShadow:function(b,c){var g=this,d=g.shadow||(g.shadow=new Ext.dom.Shadow(Ext.apply({target:g},b))),f=g.shim;if(f){f.offsets=d.outerOffsets;f.shadow=d;d.shim=f}if(c===true||(c!==false&&g.isVisible())){d.show()}else{d.hide()}d.disabled=false},enableShim:function(b,c){var g=this,d=g.shim||(g.shim=new Ext.dom.Shim(Ext.apply({target:g},b))),f=g.shadow;if(f){d.offsets=f.outerOffsets;d.shadow=f;f.shim=d}if(c===true||(c!==false&&g.isVisible())){d.show()}else{d.hide()}d.disabled=false;return d},findParent:function(d,b,c){var j=this,g=j.dom,k=bo,f=0;if(b||b===0){if(typeof b!=="number"){k=Ext.getDom(b);b=Number.MAX_VALUE}}else{b=50}while(g&&g.nodeType===1&&f<b&&g!==k){if(Ext.fly(g).is(d)){return c?Ext.get(g):g}f++;g=g.parentNode}return null},findParentNode:function(d,b,c){var f=Ext.fly(this.dom.parentNode);return f?f.findParent(d,b,c):null},first:function(c,b){return this.matchNode("nextSibling","firstChild",c,b)},focus:function(d,b){var c=this;b=b||c.dom;if(Number(d)){Ext.defer(c.focus,d,c,[null,b])}else{Ext.GlobalEvents.fireEvent("beforefocus",b);b.focus()}return c},collect:function(){var c=this,b=c.dom,d=c.shadow,f=c.shim;if(!c.isFly){c.mixins.observable.destroy.call(c);delete Ext.cache[c.id];c.el=null}if(b){b._extData=c.dom=null}if(d){d.hide();c.shadow=null}if(f){f.hide();c.shim=null}},getAnchorToXY:function(d,c,f,b){return d.getAnchorXY(c,f,b)},getAttribute:function(c,b){var d=this.dom;return b?(d.getAttributeNS(b,c)||d.getAttribute(b+":"+c)):(d.getAttribute(c)||d[c]||null)},getAttributes:function(){var f=this.dom.attributes,g={},b,d,c;for(d=0,c=f.length;d<c;d++){b=f[d];g[b.name]=b.value}return g},getBottom:function(b){return(b?this.getLocalY():this.getY())+this.getHeight()},getById:function(d,c){var b=ar.getElementById(d)||this.dom.querySelector(Ext.makeIdSelector(d));return c?b:(b?Ext.get(b):null)},getBorderPadding:function(){var c=this.getStyle(aG),b=this.getStyle(bl);return{beforeX:(parseFloat(b[a1.l])||0)+(parseFloat(c[aR.l])||0),afterX:(parseFloat(b[a1.r])||0)+(parseFloat(c[aR.r])||0),beforeY:(parseFloat(b[a1.t])||0)+(parseFloat(c[aR.t])||0),afterY:(parseFloat(b[a1.b])||0)+(parseFloat(c[aR.b])||0)}},getBorders:function(){var b=this.getStyle(bl);return{beforeX:(parseFloat(b[a1.l])||0),afterX:(parseFloat(b[a1.r])||0),beforeY:(parseFloat(b[a1.t])||0),afterY:(parseFloat(b[a1.b])||0)}},getBorderWidth:function(b){return this.addStyles(b,a1)},getData:function(c){var d=this.dom,b;if(d){b=d._extData;if(!b&&!c){d._extData=b={}}}return b},getFirstChild:function(){return Ext.get(this.dom.firstElementChild)},getHeight:function(j,b){var k=this,f=k.dom,g=k.isStyle("display","none"),c,d;if(g){return 0}if(f.nodeName==="BODY"){c=bc.getViewportHeight()}else{c=f.offsetHeight;if(c==null){c=f.getBoundingClientRect().height}}if(Ext.supports.Direct2DBug){d=k.adjustDirect2DDimension(au);if(b){c+=d}else{if(d>0&&d<0.5){c++}}}if(j){c-=k.getBorderWidth("tb")+k.getPadding("tb")}return(c<0)?0:c},getHtml:function(){return this.dom?this.dom.innerHTML:""},getLeft:function(b){return b?this.getLocalX():this.getX()},getLocalX:function(){var d=this,b,c=d.getStyle("left");if(!c||c==="auto"){c=0}else{if(ba.test(c)){c=parseFloat(c)}else{c=d.getX();b=d.dom.offsetParent;if(b){c-=Ext.fly(b).getX()}}}return c},getLocalXY:function(){var f=this,g,b=f.getStyle(["left","top"]),c=b.left,d=b.top;if(!c||c==="auto"){c=0}else{if(ba.test(c)){c=parseFloat(c)}else{c=f.getX();g=f.dom.offsetParent;if(g){c-=Ext.fly(g).getX()}}}if(!d||d==="auto"){d=0}else{if(ba.test(d)){d=parseFloat(d)}else{d=f.getY();g=f.dom.offsetParent;if(g){d-=Ext.fly(g).getY()}}}return[c,d]},getLocalY:function(){var b=this,c,d=b.getStyle("top");if(!d||d==="auto"){d=0}else{if(ba.test(d)){d=parseFloat(d)}else{d=b.getY();c=b.dom.offsetParent;if(c){d-=Ext.fly(c).getY()}}}return d},getMargin:(function(){var b={t:"top",l:"left",r:"right",b:"bottom"},c=["margin-top","margin-left","margin-right","margin-bottom"];return function(j){var f=this,g,k,d;if(!j){g=f.getStyle(c);d={};if(g&&typeof g==="object"){d={};for(k in bf){d[k]=d[b[k]]=parseFloat(g[bf[k]])||0}}}else{d=f.addStyles(j,bf)}return d}})(),getPadding:function(b){return this.addStyles(b,aR)},getParent:function(){return Ext.get(this.dom.parentNode)},getRight:function(b){return(b?this.getLocalX():this.getX())+this.getWidth()},getScroll:function(){var j=this,d=j.dom,b=bo,f,g,c=ar.body;if(d===ar||d===c){f=b.scrollLeft||(c?c.scrollLeft:0);g=b.scrollTop||(c?c.scrollTop:0)}else{f=d.scrollLeft;g=d.scrollTop}return{left:f,top:g}},getScrollIntoViewXY:function(g,p,r){var l=this.dom,q=Ext.getDom(g),o=this.getOffsetsTo(q),s=l.offsetWidth,b=l.offsetHeight,u=o[0]+p,d=o[1]+r,k=d+b,f=u+s,w=q.clientHeight,n=q.clientWidth,j=p,v=r,m=v+w,c=j+n;if(b>w||d<v){r=d}else{if(k>m){r=k-w}}if(s>n||u<j){p=u}else{if(f>c){p=f-n}}return{x:p,y:r}},getScrollLeft:function(){var b=this.dom;if(b===ar||b===ar.body){return this.getScroll().left}else{return b.scrollLeft}},getScrollTop:function(){var b=this.dom;if(b===ar||b===ar.body){return this.getScroll().top}else{return b.scrollTop}},getSize:function(b){return{width:this.getWidth(b),height:this.getHeight(b)}},getStyle:function(m,s){var r=this,d=r.dom,f=typeof m!=="string",k=r.styleHooks,l=m,q=l,u=1,b,j,o,p,g,n,c;if(f){o={};l=q[0];c=0;if(!(u=q.length)){return o}}if(!d||d.documentElement){return o||""}b=d.style;if(s){n=b}else{n=d.ownerDocument.defaultView.getComputedStyle(d,null);if(!n){s=true;n=b}}do{p=k[l];if(!p){k[l]=p={name:bc.normalize(l)}}if(p.get){g=p.get(d,r,s,n)}else{j=p.name;g=n[j]}if(!f){return g}o[l]=g;l=q[++c]}while(c<u);return o},getStyleValue:function(b){return this.dom.style.getPropertyValue(b)},getTop:function(b){return b?this.getLocalY():this.getY()},getTouchAction:function(){return Ext.dom.TouchAction.get(this.dom)},getValue:function(b){var c=this.dom.value;return b?parseInt(c,10):c},getViewSize:function(){var b=this.dom;if(b===ar||b===ar.body){return{width:bc.getViewportWidth(),height:bc.getViewportHeight()}}else{return{width:b.clientWidth,height:b.clientHeight}}},getVisibilityMode:function(){var c=this,b=c.getData(),d=b.visibilityMode;if(d===undefined){b.visibilityMode=d=bc.DISPLAY}return d},getWidth:function(c,g){var k=this,f=k.dom,j=k.isStyle("display","none"),l,b,d;if(j){return 0}if(Ext.supports.BoundingClientRect){l=f.getBoundingClientRect();b=(k.vertical&&!Ext.supports.RotatedBoundingClientRect)?(l.bottom-l.top):(l.right-l.left);b=g?b:Math.ceil(b)}else{b=f.offsetWidth}if(Ext.supports.Direct2DBug&&!k.vertical){d=k.adjustDirect2DDimension(bj);if(g){b+=d}else{if(d>0&&d<0.5){b++}}}if(c){b-=k.getBorderWidth("lr")+k.getPadding("lr")}return(b<0)?0:b},getX:function(){return this.getXY()[0]},getXY:function(){var l=Math.round,f=this.dom,b=ar.body,c=0,d=0,j,g;if(f!==ar&&f!==b){try{j=b.getBoundingClientRect();g=f.getBoundingClientRect();c=g.left-j.left;d=g.top-j.top}catch(k){}}return[l(c),l(d)]},getY:function(){return this.getXY()[1]},getZIndex:function(){return parseInt(this.getStyle("z-index"),10)},hasCls:function(c){var b=this.getData();if(!b.isSynchronized){this.synchronize()}return b.classMap.hasOwnProperty(c)},hide:function(){this.setVisible(false);return this},insertAfter:function(b){b=Ext.getDom(b);b.parentNode.insertBefore(this.dom,b.nextSibling);return this},insertBefore:function(b){b=Ext.getDom(b);b.parentNode.insertBefore(this.dom,b);return this},insertFirst:function(b,c){b=b||{};if(b.nodeType||b.dom||typeof b==="string"){b=Ext.getDom(b);this.dom.insertBefore(b,this.dom.firstChild);return !c?Ext.get(b):b}else{return this.createChild(b,this.dom.firstChild,c)}},insertHtml:function(b,f,c){var d=Ext.DomHelper.insertHtml(b,this.dom,f);return c?Ext.get(d):d},insertSibling:function(g,c,m){var n=this,l=Ext.DomHelper,k=(c||"before").toLowerCase()==="after",d,j,f,b;if(Ext.isIterable(g)){f=g.length;j=Ext.fly(ar.createDocumentFragment());if(Ext.isArray(g)){for(b=0;b<f;b++){d=j.appendChild(g[b],m)}}else{for(b=0;b<f;b++){j.dom.appendChild(d=g[0])}if(m===false){d=Ext.get(d)}}n.dom.parentNode.insertBefore(j.dom,k?n.dom.nextSibling:n.dom);return d}g=g||{};if(g.nodeType||g.dom){d=n.dom.parentNode.insertBefore(Ext.getDom(g),k?n.dom.nextSibling:n.dom);if(!m){d=Ext.get(d)}}else{if(k&&!n.dom.nextSibling){d=l.append(n.dom.parentNode,g,!m)}else{d=l[k?"insertAfter":"insertBefore"](n.dom,g,!m)}}return d},is:function(c){var d=this.dom,b;if(!c){b=true}else{if(!d.tagName){b=false}else{if(Ext.isFunction(c)){b=c(d)}else{b=d[Ext.supports.matchesSelector](c)}}}return b},isAncestor:function(b){var c=false,f=this.dom,d=Ext.getDom(b);if(f&&d){if(f.contains){return f.contains(d)}else{if(f.compareDocumentPosition){return !!(f.compareDocumentPosition(d)&16)}else{while((d=d.parentNode)){c=d===f||c}}}}return c},isPainted:(function(){return !Ext.browser.is.IE?function(){var b=this.dom;return Boolean(b&&b.offsetParent)}:function(){var b=this.dom;return Boolean(b&&(b.offsetHeight!==0&&b.offsetWidth!==0))}})(),isScrollable:function(){var b=this.dom;return b.scrollHeight>b.clientHeight||b.scrollWidth>b.clientWidth},isStyle:function(c,b){return this.getStyle(c)===b},isVisible:function(b){var d=this.dom,c;if(!d){return false}if(!aW){aW=new Ext.dom.Fly()}for(c=d.ownerDocument.documentElement;d!==c;d=d.parentNode){if(!d||d.nodeType===11||(aW.attach(d)).isStyle(bh,aM)||aW.isStyle(bp,a3)){return false}if(!b){break}}return true},last:function(c,b){return this.matchNode("previousSibling","lastChild",c,b)},matchNode:function(b,d,c,j){var g=this.dom,f;if(!g){return null}f=g[d];while(f){if(f.nodeType===1&&(!c||Ext.fly(f,"_matchNode").is(c))){return !j?Ext.get(f):f}f=f[b]}return null},monitorMouseLeave:function(c,g,j){var f=this,d,b={mouseleave:function(k){if(Ext.isIE9m){k.enableIEAsync()}d=Ext.defer(g,c,j||f,[k])},mouseenter:function(){clearTimeout(d)},destroy:function(){clearTimeout(d);f.un(b)}};f.on(b);return b},next:function(c,b){return this.matchNode("nextSibling","nextSibling",c,b)},parent:function(c,b){return this.matchNode("parentNode","parentNode",c,b)},position:function(d,f,c,g){var b=this;if(b.dom.tagName!=="BODY"){if(!d&&b.isStyle(aY,a7)){b.setStyle(aY,a9)}else{if(d){b.setStyle(aY,d)}}if(f){b.setStyle(be,f)}if(c||g){b.setXY([c||false,g||false])}}},prev:function(c,b){return this.matchNode("previousSibling","previousSibling",c,b)},query:function(f,k,m){var c=this.dom,o,n,l,g,j,b,d;if(!c){return null}k=(k!==false);f=f.split(",");if(!m){o=[]}for(b=0,n=f.length;b<n;b++){if(typeof f[b]==="string"){if(m){g=c.querySelector(f[b]);return k?g:Ext.get(g)}j=c.querySelectorAll(f[b]);for(d=0,l=j.length;d<l;d++){o.push(k?j[d]:Ext.get(j[d]))}}}return o},radioCls:function(f){var d=this.dom.parentNode.childNodes,b;f=Ext.isArray(f)?f:[f];for(var g=0,c=d.length;g<c;g++){b=d[g];if(b&&b.nodeType===1){Ext.fly(b).removeCls(f)}}return this.addCls(f)},redraw:function(){var b=this.dom,c=b.style;c.display="none";b.offsetHeight;c.display=""},remove:function(){this.destroy()},removeChild:function(b){this.dom.removeChild(Ext.getDom(b));return this},removeCls:function(n,p,l){var m=this,d=m.getData(),k,c,g,f,b,o,j;if(!n){return m}if(!d.isSynchronized){m.synchronize()}c=m.dom;g=d.classMap;f=d.classList;p=p?p+aV:"";l=l?aV+l:"";if(typeof n==="string"){n=n.split(az)}for(b=0,o=n.length;b<o;b++){j=n[b];if(j){j=p+j+l;if(g[j]){delete g[j];Ext.Array.remove(f,j);k=true}}}if(k){c.className=f.join(" ")}return m},repaint:function(){var b=this;b.addCls("x-repaint");Ext.defer(function(){if(b.dom){Ext.fly(b.dom).removeCls("x-repaint")}},1);return b},replace:function(g,b){g=Ext.getDom(g);var c=g.parentNode,d=g.id,f=this.dom;if(b!==false&&d&&Ext.cache[d]){c.insertBefore(f,g);Ext.get(g).destroy()}else{c.replaceChild(f,g)}return this},replaceCls:function(f,n,p,j){var m=this,b,g,d,q,o,l,c=m.getData(),k;if(!f&&!n){return m}f=f||[];n=n||[];if(!c.isSynchronized){m.synchronize()}if(!j){j=""}b=m.dom;g=c.classMap;d=c.classList;p=p?p+aV:"";j=j?aV+j:"";if(typeof f==="string"){f=f.split(az)}if(typeof n==="string"){n=n.split(az)}for(q=0,o=f.length;q<o;q++){l=p+f[q]+j;if(g[l]){delete g[l];k=true}}for(q=0,o=n.length;q<o;q++){l=p+n[q]+j;if(!g[l]){g[l]=true;k=true}}if(k){c.classList=d=Ext.Object.getKeys(g);b.className=d.join(" ")}return m},replaceWith:function(g){var f=this,d=f.dom,j=d.parentNode,c=Ext.cache,b;f.clearListeners();if(g.nodeType||g.dom||typeof g==="string"){g=Ext.get(g);b=j.insertBefore(g.dom,d)}else{b=Ext.DomHelper.insertBefore(d,g)}j.removeChild(d);f.dom=b;if(!f.isFly){delete c[f.id];c[f.id=Ext.id(b)]=f}return f},resolveListenerScope:function(b){var c=this.component;return c?c.resolveListenerScope(b):this},scroll:function(k,j,f){if(!this.isScrollable()){return false}k=k.charAt(0);var l=this,c=l.dom,m=k==="r"||k==="l"?"left":"top",g=false,d,b;if(k==="l"||k==="t"||k==="u"){j=-j}if(m==="left"){d=c.scrollLeft;b=l.constrainScrollLeft(d+j)}else{d=c.scrollTop;b=l.constrainScrollTop(d+j)}if(b!==d){this.scrollTo(m,b,f);g=true}return g},scrollBy:function(b,c,g){var f=this,d=f.dom;if(b.length){g=c;c=b[1];b=b[0]}else{if(typeof b!="number"){g=c;c=b.y;b=b.x}}if(b){f.scrollTo("left",f.constrainScrollLeft(d.scrollLeft+b),g)}if(c){f.scrollTo("top",f.constrainScrollTop(d.scrollTop+c),g)}return f},scrollChildIntoView:function(b,c){Ext.fly(b).scrollIntoView(this,c)},scrollIntoView:function(c,d,f,b){c=Ext.getDom(c)||Ext.getBody().dom;return this.doScrollIntoView(c,d,f,b,"getScrollLeft","scrollTo")},scrollTo:function(l,j,c){var g=bq.test(l),k=this,d=g?"scrollTop":"scrollLeft",f=k.dom,b;if(!c||!k.anim){f[d]=j;f[d]=j}else{b={to:{}};b.to[d]=j;if(Ext.isObject(c)){Ext.applyIf(b,c)}k.animate(b)}return k},select:function(b,d){var c,f;if(typeof b==="string"){f=this.query(b,!d)}else{f=b;c=true}return d?new Ext.CompositeElement(f,!c):new Ext.CompositeElementLite(f,true)},selectNode:function(b,c){return this.query(b,c,true)},set:function(c,b){var g=this,d=g.dom,j,f;for(j in c){if(c.hasOwnProperty(j)){f=c[j];if(j==="style"){g.applyStyles(f)}else{if(j==="cls"){d.className=f}else{if(b!==false){if(f===undefined){d.removeAttribute(j)}else{d.setAttribute(j,f)}}else{d[j]=f}}}}}return g},setBottom:function(b){this.dom.style[ax]=bc.addUnits(b);return this},setCls:function(k){var g=this,l=g.getData(),b,j,c,f,d;if(!l.isSynchronized){g.synchronize()}if(typeof k==="string"){k=k.split(az)}l.classList=d=k.slice();l.classMap=f={};for(b=0,j=d.length;b<j;b++){f[d[b]]=true}g.dom.className=d.join(" ")},setDisplayed:function(b){var c=this;if(typeof b==="boolean"){b=b?c._getDisplay():a3}c.setStyle(bp,b);if(c.shadow||c.shim){c.setUnderlaysVisible(b!==a3)}return c},setHeight:function(c){var b=this;b.dom.style[au]=bc.addUnits(c);if(b.shadow||b.shim){b.syncUnderlays()}return b},setHtml:function(b){if(this.dom){this.dom.innerHTML=b}return this},setId:function(d){var f=this,c=f.id,b=Ext.cache;if(c){delete b[c]}f.dom.id=d;f.id=d;b[d]=f;return f},setLeft:function(b){var c=this;c.dom.style[aF]=bc.addUnits(b);if(c.shadow||c.shim){c.syncUnderlays()}return c},setLocalX:function(c){var d=this,b=d.dom.style;b.right="auto";b.left=(c===null)?"auto":c+"px";if(d.shadow||d.shim){d.syncUnderlays()}return d},setLocalXY:function(c,d){var f=this,b=f.dom.style;b.right="auto";if(c&&c.length){d=c[1];c=c[0]}if(c===null){b.left="auto"}else{if(c!==undefined){b.left=c+"px"}}if(d===null){b.top="auto"}else{if(d!==undefined){b.top=d+"px"}}if(f.shadow||f.shim){f.syncUnderlays()}return f},setLocalY:function(b){var c=this;c.dom.style.top=(b===null)?"auto":b+"px";if(c.shadow||c.shim){c.syncUnderlays()}return c},setMargin:function(d){var b=this,c=b.dom.style;if(d||d===0){d=b.self.unitizeBox((d===true)?5:d);c.setProperty("margin",d,"important")}else{c.removeProperty("margin-top");c.removeProperty("margin-right");c.removeProperty("margin-bottom");c.removeProperty("margin-left")}},setMaxHeight:function(b){this.dom.style[aN]=bc.addUnits(b);return this},setMaxWidth:function(b){this.dom.style[bb]=bc.addUnits(b);return this},setMinHeight:function(b){this.dom.style[bn]=bc.addUnits(b);return this},setMinWidth:function(b){this.dom.style[aP]=bc.addUnits(b);return this},setOpacity:function(c){var b=this;if(b.dom){b.setStyle("opacity",c)}return b},setPadding:function(d){var b=this,c=b.dom.style;if(d||d===0){d=b.self.unitizeBox((d===true)?5:d);c.setProperty("padding",d,"important")}else{c.removeProperty("padding-top");c.removeProperty("padding-right");c.removeProperty("padding-bottom");c.removeProperty("padding-left")}},setRight:function(b){this.dom.style[aH]=bc.addUnits(b);return this},setScrollLeft:function(b){this.dom.scrollLeft=b;return this},setScrollTop:function(b){this.dom.scrollTop=b;return this},setSize:function(f,c){var d=this,b=d.dom.style;if(Ext.isObject(f)){c=f.height;f=f.width}b.width=bc.addUnits(f);b.height=bc.addUnits(c);if(d.shadow||d.shim){d.syncUnderlays()}return d},setSizeState:function(f){var b=this,d,c;if(f===true){d=aQ;c=[aw,aC]}else{if(f===false){d=aw;c=[aQ,aC]}else{if(f===null){d=aC;c=[aQ,aw]}else{c=[aQ,aw,aC]}}}if(d){b.addCls(d)}b.removeCls(c);return b},setStyle:function(d,g){var k=this,f=k.dom,c=k.styleHooks,l=f.style,b=d,j;if(typeof b==="string"){j=c[b];if(!j){c[b]=j={name:bc.normalize(b)}}g=(g==null)?"":g;if(j.set){j.set(f,g,k)}else{l[j.name]=g}if(j.afterSet){j.afterSet(f,g,k)}}else{for(b in d){if(d.hasOwnProperty(b)){j=c[b];if(!j){c[b]=j={name:bc.normalize(b)}}g=d[b];g=(g==null)?"":g;if(j.set){j.set(f,g,k)}else{l[j.name]=g}if(j.afterSet){j.afterSet(f,g,k)}}}}return k},setText:function(b){this.dom.textContent=b},setTop:function(b){var c=this;c.dom.style[a6]=bc.addUnits(b);if(c.shadow||c.shim){c.syncUnderlays()}return c},setTouchAction:function(b){Ext.dom.TouchAction.set(this.dom,b)},setUnderlaysVisible:function(c){var d=this.shadow,b=this.shim;if(d&&!d.disabled){if(c){d.show()}else{d.hide()}}if(b&&!b.disabled){if(c){b.show()}else{b.hide()}}},setVisibility:function(c){var b=this.dom.style;if(c){b.removeProperty("visibility")}else{b.setProperty("visibility","hidden","important")}},setVisibilityMode:function(b){this.getData().visibilityMode=b;return this},setVisible:function(f){var c=this,b=c.getVisibilityMode(),d=f?"removeCls":"addCls";switch(b){case bc.DISPLAY:c.removeCls([aK,bg,bs]);c[d](aO);break;case bc.VISIBILITY:c.removeCls([aO,bg,bs]);c[d](aK);break;case bc.OFFSETS:c.removeCls([aK,aO,bs]);c[d](bg);break;case bc.CLIP:c.removeCls([aK,aO,bg]);c[d](bs);break}if(c.shadow||c.shim){c.setUnderlaysVisible(f)}return c},setWidth:function(c){var b=this;b.dom.style[bj]=bc.addUnits(c);if(b.shadow||b.shim){b.syncUnderlays()}return b},setX:function(b){return this.setXY([b,false])},setXY:function(g){var b=this,f=b.translatePoints(g),c=b.dom.style,d;b.position();c.right="auto";for(d in f){if(!isNaN(f[d])){c[d]=f[d]+"px"}}if(b.shadow||b.shim){b.syncUnderlays()}return b},setY:function(b){return this.setXY([false,b])},setZIndex:function(c){var b=this;if(b.shadow){b.shadow.setZIndex(c)}if(b.shim){b.shim.setZIndex(c)}return b.setStyle("z-index",c)},show:function(){this.setVisible(true);return this},swapCls:function(b,d,c,g){if(c===undefined){c=true}var j=this,f=c?b:d,k=c?d:b;if(k){j.removeCls(g?g+"-"+k:k)}if(f){j.addCls(g?g+"-"+f:f)}return j},synchronize:function(){var l=this,d=l.dom,k={},m=d.className,g,c,b,j,f=l.getData();if(m&&m.length>0){g=d.className.split(aL);for(c=0,b=g.length;c<b;c++){j=g[c];k[j]=true}}else{g=[]}f.classList=g;f.classMap=k;f.isSynchronized=true;return l},syncUnderlays:function(){var d=this,l=d.shadow,j=d.shim,g=d.dom,k,b,c,m,f;if(d.isVisible()){k=d.getXY();b=k[0];c=k[1];m=g.offsetWidth;f=g.offsetHeight;if(l&&!l.hidden){l.realign(b,c,m,f)}if(j&&!j.hidden){j.realign(b,c,m,f)}}},toggleCls:function(c,b){if(typeof b!=="boolean"){b=!this.hasCls(c)}return b?this.addCls(c):this.removeCls(c)},toggle:function(){this.setVisible(!this.isVisible());return this},translate:function(){var b="webkitTransform" in ar.createElement("div").style?"webkitTransform":"transform";return function(c,d,f){c=Math.round(c);d=Math.round(d);f=Math.round(f);this.dom.style[b]="translate3d("+(c||0)+"px, "+(d||0)+"px, "+(f||0)+"px)"}}(),unwrap:function(){var f=this.dom,b=f.parentNode,k,g=Ext.fly(Ext.Element.getActiveElement()),j,l,d,c;j=Ext.cache[g.id];if(j){g=j}if(this.contains(g)){if(j){j.suspendFocusEvents()}l=true}if(b){k=b.parentNode;if(l){c=k.getAttribute("tabIndex");d=Ext.fly(k);d.set({tabIndex:-1});d.suspendFocusEvents();d.focus()}k.insertBefore(f,b);k.removeChild(b)}else{k=ar.createDocumentFragment();k.appendChild(f)}if(l){if(j){j.focus();j.resumeFocusEvents()}else{Ext.fly(g).focus()}if(d){d.resumeFocusEvents();d.set({tabIndex:c})}}return this},up:function(d,c,b){return this.findParentNode(d,c,!b)},update:function(b){return this.setHtml(b)},wrap:function(d,k,o){var l=this,n=l.dom,b=Ext.DomHelper.insertBefore(n,d||{tag:"div"},!k),m=b,f=Ext.Element.getActiveElement(),c,g,j;c=Ext.cache[f.id];if(c){f=c}if(o){m=b.selectNode(o,k)}if(l.contains(f)){if(c){c.suspendFocusEvents()}j=b.dom.getAttribute("tabIndex");b.set({tabIndex:-1});b.suspendFocusEvents();b.focus();g=true}m.appendChild(n);if(g){if(c){c.focus();c.resumeFocusEvents()}else{Ext.fly(f).focus()}b.resumeFocusEvents();b.set({tabIndex:j})}return b},privates:{doAddListener:function(s,o,k,f,d,l,c){var p=this,m=Ext.$gesturePublisher,r=s,j=Ext.supports,n=j.TouchEvents,g=j.PointerEvents,b,u,q;s=Ext.canonicalEventName(s);if(!p.blockedEvents[s]){b=p.mixins.observable.doAddListener;f=f||{};if(bc.useDelegatedEvents===false){f.delegated=f.delegated||false}if(f.translate!==false){u=p.additiveEvents[s];if(u){f.type=s;s=u;b.call(p,s,o,k,f,d,l,c)}q=p.eventMap[s];if(q){f.type=f.type||s;if(c){f.managedName=r}s=q}}if(b.call(p,s,o,k,f,d,l,c)){if(p.longpressEvents[s]&&(++p.longpressListenerCount===1)){p.on("MSHoldVisual","preventMsHoldVisual",p)}}if(c&&q){delete f.managedName}delete f.type}},doRemoveListener:function(c,n,k){var o=this,m=Ext.$gesturePublisher,j=Ext.supports,l=j.TouchEvents,g=j.PointerEvents,f,p,d,q,b;c=Ext.canonicalEventName(c);if(!o.blockedEvents[c]){f=o.mixins.observable.doRemoveListener;d=o.additiveEvents[c];if(d){c=d;f.call(o,c,n,k)}p=o.eventMap[c];if(p){b=f.call(o,p,n,k)}b=f.call(o,c,n,k)||b;if(b){if(o.longpressEvents[c]&&!--o.longpressListenerCount){o.un("MSHoldVisual","preventMsHoldVisual",o)}}}},_initEvent:function(b){return(this.events[b]=new Ext.dom.ElementEvent(this,b))},_getDisplay:function(){var c=this.getData(),b=c[a2];if(b===undefined){c[a2]=b=""}return b},_getPublisher:function(c){var d=Ext.event.publisher.Publisher,b=d.publishersByEvent[c];if(!b||(this.dom===window&&c==="resize")){b=d.publishers.dom}return b},isFocusSuspended:function(){return !!this.getData().suspendFocusEvents},preventMsHoldVisual:function(b){b.preventDefault()},suspendFocusEvents:function(){if(!this.isFly){this.suspendEvent("focus","blur")}this.getData().suspendFocusEvents=true},resumeFocusEvents:function(){function b(){var c;if(!this.destroyed){c=this.getData();if(c){c.suspendFocusEvents=false}if(!this.isFly){this.resumeEvent("focus","blur")}}}if(!this.destroyed&&this.getData().suspendFocusEvents){if(Ext.isIE){Ext.asap(b,this)}else{b.call(this)}}}},deprecated:{"5.0":{methods:{cssTranslate:null,getHTML:"getHtml",getOuterHeight:null,getOuterWidth:null,getPageBox:function(f){var b=this,d=b.dom,n=d.nodeName==="BODY",m=n?bc.getViewportWidth():d.offsetWidth,c=n?bc.getViewportHeight():d.offsetHeight,k=b.getXY(),l=k[1],j=k[0]+m,o=k[1]+c,g=k[0];if(f){return new Ext.util.Region(l,j,o,g)}else{return{left:g,top:l,width:m,height:c,right:j,bottom:o}}},getScrollParent:null,isDescendent:null,isTransparent:function(b){var c=this.getStyle(b);return c?br.test(c):false},purgeAllListeners:"clearListeners",removeAllListeners:"clearListeners",setHTML:"setHtml",setTopLeft:null}}}}},1,0,0,0,0,[[Ext.util.Positionable.prototype.mixinId||Ext.util.Positionable.$className,Ext.util.Positionable],[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.dom,"Element",Ext,"Element"],function(V){var aq=document,al=aq.documentElement,ae=V.prototype,aa=Ext.supports,N="pointerdown",an="pointermove",ap="pointerup",ao="pointercancel",aj="MSPointerDown",ac="MSPointerMove",U="MSPointerUp",ar="MSPointerCancel",P="mousedown",X="mousemove",ag="mouseup",M="mouseover",O="mouseout",W="mouseenter",am="mouseleave",ab="touchstart",af="touchmove",T="touchend",ak="touchcancel",S="click",ai="dblclick",ad="tap",R="doubletap",ah=ae.eventMap={},Q=ae.additiveEvents={},Z=Ext.id,Y;Ext.id=function(d,f){var g=Ext.getDom(d,true),c,b;if(!g){b=Z(d,f)}else{if(!(b=g.id)){b=Z(null,f||V.prototype.identifiablePrefix);if(Ext.isSandboxed){c=Ext.sandboxPrefix||(Ext.sandboxPrefix=Ext.sandboxName.toLowerCase()+"-");b=c+b}g.id=b}}return b};if(aa.PointerEvents){ah[P]=N;ah[X]=an;ah[ag]=ap;ah[ab]=N;ah[af]=an;ah[T]=ap;ah[ak]=ao;ah[M]="pointerover";ah[O]="pointerout";ah[W]="pointerenter";if(!Ext.isIE11){ah[am]="pointerleave"}}else{if(aa.MSPointerEvents){ah[N]=aj;ah[an]=ac;ah[ap]=U;ah[ao]=ar;ah[P]=aj;ah[X]=ac;ah[ag]=U;ah[ab]=aj;ah[af]=ac;ah[T]=U;ah[ak]=ar;ah[M]="MSPointerOver";ah[O]="MSPointerOut"}else{if(aa.TouchEvents){ah[N]=ab;ah[an]=af;ah[ap]=T;ah[ao]=ak;ah[P]=ab;ah[X]=af;ah[ag]=T;ah[S]=ad;ah[ai]=R;if(Ext.isWebKit&&Ext.os.is.Desktop){ah[ab]=P;ah[af]=X;ah[T]=ag;ah[ak]=ag;Q[P]=P;Q[X]=X;Q[ag]=ag;Q[ab]=ab;Q[af]=af;Q[T]=T;Q[ak]=ak;Q[N]=P;Q[an]=X;Q[ap]=ag;Q[ao]=ag}}else{ah[N]=P;ah[an]=X;ah[ap]=ag;ah[ao]=ag;ah[ab]=P;ah[af]=X;ah[T]=ag;ah[ak]=ag}}}if(Ext.isWebKit){ah.transitionend=Ext.browser.getVendorProperyName("transitionEnd");ah.animationstart=Ext.browser.getVendorProperyName("animationStart");ah.animationend=Ext.browser.getVendorProperyName("animationEnd")}if(!Ext.supports.MouseWheel&&!Ext.isOpera){ah.mousewheel="DOMMouseScroll"}Y=ae.$eventOptions=Ext.Object.chain(ae.$eventOptions);Y.translate=Y.capture=Y.delegate=Y.delegated=Y.stopEvent=Y.preventDefault=Y.stopPropagation=Y.element=1;ae.styleHooks.opacity={name:"opacity",afterSet:function(c,d,f){var b=f.shadow;if(b){b.setOpacity(d)}}};ae.getTrueXY=ae.getXY;Ext.select=V.select;Ext.query=V.query;Ext.apply(Ext,{get:function(b){return V.get(b)},getDom:function(b){if(!b||!aq){return null}return typeof b==="string"?Ext.getElementById(b):"dom" in b?b.dom:b},getBody:function(){if(!Ext._bodyEl){if(!aq.body){throw new Error("[Ext.getBody] document.body does not yet exist")}Ext._bodyEl=Ext.get(aq.body)}return Ext._bodyEl},getHead:function(){if(!Ext._headEl){Ext._headEl=Ext.get(aq.head||aq.getElementsByTagName("head")[0])}return Ext._headEl},getDoc:function(){if(!Ext._docEl){Ext._docEl=Ext.get(aq)}return Ext._docEl},getWin:function(){if(!Ext._winEl){Ext._winEl=Ext.get(window)}return Ext._winEl},removeNode:function(c){c=c.dom||c;var b=c&&c.id,d=Ext.cache[b],f;if(d){d.destroy()}else{if(c&&(c.nodeType===3||c.tagName.toUpperCase()!=="BODY")){f=c.parentNode;if(f){f.removeChild(c)}}}}});Ext.isGarbage=function(b){return b&&b.nodeType===1&&b.tagName!=="BODY"&&b.tagName!=="HTML"&&(!b.parentNode||(b.offsetParent===null&&((Ext.isIE8?aq.all[b.id]:aq.getElementById(b.id))!==b)&&!(Ext.detachedBodyEl&&Ext.detachedBodyEl.isAncestor(b))))};if(Ext.os.is.Android||(Ext.os.is.Windows&&Ext.supports.Touch)){Ext.onReady(function(){var b=Ext.getWin();V._documentWidth=V._viewportWidth=al.clientWidth;V._documentHeight=V._viewportHeight=al.clientHeight;b.on({focusin:"_onWindowFocusChange",focusout:"_onWindowFocusChange",pointerup:"_onWindowFocusChange",capture:true,delegated:false,delay:1,scope:V});b.on({resize:"_onWindowResize",priority:2000,scope:V})})}}));(Ext.cmd.derive("Ext.util.Filter",Ext.Base,{isFilter:true,config:{property:null,value:null,filterFn:null,id:null,anyMatch:false,exactMatch:false,caseSensitive:false,disabled:false,disableOnEmpty:false,operator:null,root:null,serializer:null,convert:null},scope:null,$configStrict:false,statics:{createFilterFn:function(c){if(!c){return Ext.returnTrue}return function(l){var p=c.isCollection?c.items:c,b=p.length,o=true,n,m;for(n=0;o&&n<b;n++){m=p[n];if(!m.getDisabled()){o=m.filter(l)}}return o}},isEqual:function(f,d){if(f.getProperty()!==d.getProperty()){return false}if(f.getOperator()!==d.getOperator()){return false}if(f.getValue()===d.getValue()){return true}else{if(Ext.isArray(f)&&Ext.isArray(d)&&Ext.Array.equals(f,d)){return true}}return false},isInvalid:function(c){if(!c.filterFn){if(!c.property){return"A Filter requires either a property or a filterFn to be set"}if(!c.hasOwnProperty("value")&&!c.operator){return"A Filter requires either a property and value, or a filterFn to be set"}}return false}},constructor:function(c){this.initConfig(c)},preventConvert:{"in":1,notin:1},filter:function(n){var j=this,k=j._filterFn||j.getFilterFn(),l=j.getConvert(),m=j._value;j._filterValue=m;j.isDateValue=Ext.isDate(m);if(j.isDateValue){j.dateValue=m.getTime()}if(l&&!j.preventConvert[j.getOperator()]){j._filterValue=l.call(j.scope||j,m)}return k.call(j.scope||j,n)},getId:function(){var c=this._id;if(!c){c=this.getProperty();if(!c){c=Ext.id(null,"ext-filter-")}this._id=c}return c},getFilterFn:function(){var j=this,g=j._filterFn,f;if(!g){f=j.getOperator();if(f){g=j.operatorFns[f]}else{g=j.createRegexFilter()}j._filterFn=g;j.generatedFilterFn=true}return g},createRegexFilter:function(){var n=this,k=!!n.getAnyMatch(),j=!!n.getExactMatch(),m=n.getValue(),l=Ext.String.createRegex(m,!k,!k&&j,!n.getCaseSensitive());return function(c){var b=n.getPropertyValue(c);return l?l.test(b):(b==null)}},getPropertyValue:function(j){var f=this._root,g=(f==null)?j:j[f];return g[this._property]},getState:function(){var g=this.getInitialConfig(),f={},j;for(j in g){if(g.hasOwnProperty(j)){f[j]=g[j]}}delete f.root;f.value=this.getValue();return f},getScope:function(){return this.scope},serialize:function(){var f=this.getState(),j=this.getSerializer(),g;delete f.id;delete f.serializer;if(j){g=j.call(this,f);if(g){f=g}}return f},updateOperator:function(){if(this.generatedFilterFn){this._filterFn=null}},updateValue:function(c){if(this.generatedFilterFn){this._filterFn=null}if(this.getDisableOnEmpty()){this.setDisabled(Ext.isEmpty(c))}},updateFilterFn:function(c){delete this.generatedFilterFn},updateDisableOnEmpty:function(c){if(c){this.setDisabled(Ext.isEmpty(this.getValue()))}},privates:{getCandidateValue:function(o,p,m){var n=this,l=n._convert,k=n.getPropertyValue(o);if(l){k=l.call(n.scope||n,k)}else{if(!m){k=Ext.coerce(k,p)}}return k}}},1,0,0,0,0,0,[Ext.util,"Filter"],function(){var d=this.prototype,f=(d.operatorFns={"<":function(b){var c=this._filterValue;return this.getCandidateValue(b,c)<c},"<=":function(b){var c=this._filterValue;return this.getCandidateValue(b,c)<=c},"=":function(c){var b=this,j=b._filterValue;c=b.getCandidateValue(c,j);if(b.isDateValue&&c instanceof Date){c=c.getTime();j=b.dateValue}return c==j},"===":function(c){var b=this,j=b._filterValue;c=b.getCandidateValue(c,j,true);if(b.isDateValue&&c instanceof Date){c=c.getTime();j=b.dateValue}return c===j},">=":function(b){var c=this._filterValue;return this.getCandidateValue(b,c)>=c},">":function(b){var c=this._filterValue;return this.getCandidateValue(b,c)>c},"!=":function(c){var b=this,j=b._filterValue;c=b.getCandidateValue(c,j);if(b.isDateValue&&c instanceof Date){c=c.getTime();j=b.dateValue}return c!=j},"!==":function(c){var b=this,j=b._filterValue;c=b.getCandidateValue(c,j,true);if(b.isDateValue&&c instanceof Date){c=c.getTime();j=b.dateValue}return c!==j},"in":function(b){var c=this._filterValue;return Ext.Array.contains(c,this.getCandidateValue(b,c))},notin:function(b){var c=this._filterValue;return !Ext.Array.contains(c,this.getCandidateValue(b,c))},like:function(b){var c=this._filterValue;return c&&this.getCandidateValue(b,c).toLowerCase().indexOf(c.toLowerCase())>-1},"/=":function(k){var c=this,l=c._filterValue;k=c.getCandidateValue(k,l);if(l!==c.lastRegExpSource){c.lastRegExpSource=l;try{c.regex=new RegExp(l,"i")}catch(b){c.regex=null}}return c.regex?c.regex.test(k):false}});f["=="]=f["="];f.gt=f[">"];f.ge=f[">="];f.lt=f["<"];f.le=f["<="];f.eq=f["="];f.ne=f["!="]}));(Ext.cmd.derive("Ext.util.Observable",Ext.mixin.Observable,{$applyConfigs:true},0,0,0,0,0,0,[Ext.util,"Observable"],function(d){var f=Ext.mixin.Observable;d.releaseCapture=f.releaseCapture;d.capture=f.capture;d.captureArgs=f.captureArgs;d.observe=d.observeClass=f.observe}));(Ext.cmd.derive("Ext.util.AbstractMixedCollection",Ext.Base,{isMixedCollection:true,generation:0,indexGeneration:0,constructor:function(j,f){var g=this;if(arguments.length===1&&Ext.isObject(j)){g.initialConfig=j;Ext.apply(g,j)}else{g.allowFunctions=j===true;if(f){g.getKey=f}g.initialConfig={allowFunctions:g.allowFunctions,getKey:g.getKey}}g.items=[];g.map={};g.keys=[];g.indexMap={};g.length=0;g.mixins.observable.constructor.call(g)},destroy:function(){var c=this;c.items=c.map=c.keys=c.indexMap=null;c.callParent()},allowFunctions:false,add:function(k,j){var g=this.length,l;if(arguments.length===1){l=this.insert(g,k)}else{l=this.insert(g,k,j)}return l},getKey:function(c){return c.id},replace:function(m,k){var l=this,j,n;if(arguments.length==1){k=arguments[0];m=l.getKey(k)}j=l.map[m];if(typeof m=="undefined"||m===null||typeof j=="undefined"){return l.add(m,k)}l.generation++;n=l.indexOfKey(m);l.items[n]=k;l.map[m]=k;if(l.hasListeners.replace){l.fireEvent("replace",m,j,k)}return k},reorder:function(r){var o=this,u=o.items,s=0,p=u.length,m=[],q=[],n;o.suspendEvents();for(n in r){m[r[n]]=u[n]}for(s=0;s<p;s++){if(r[s]==undefined){q.push(u[s])}}for(s=0;s<p;s++){if(m[s]==undefined){m[s]=q.shift()}}o.clear();o.addAll(m);o.resumeEvents()},updateKey:function(n,m){var p=this,o=p.map,l=p.indexOfKey(n),q=p.indexMap,r;if(l>-1){r=o[n];delete o[n];delete q[n];o[m]=r;q[m]=l;p.keys[l]=m;p.indexGeneration=++p.generation}},addAll:function(g){var j=this,f;if(arguments.length>1||Ext.isArray(g)){j.insert(j.length,arguments.length>1?arguments:g)}else{for(f in g){if(g.hasOwnProperty(f)){if(j.allowFunctions||typeof g[f]!="function"){j.add(f,g[f])}}}}},each:function(m,n){var p=Ext.Array.push([],this.items),o=0,k=p.length,l;for(;o<k;o++){l=p[o];if(m.call(n||l,l,o,k)===false){break}}},eachKey:function(m,n){var l=this.keys,p=this.items,o=0,k=l.length;for(;o<k;o++){m.call(n||window,l[o],p[o],o,k)}},findBy:function(m,n){var l=this.keys,p=this.items,o=0,k=p.length;for(;o<k;o++){if(m.call(n||window,p[o],l[o])){return p[o]}}return null},insert:function(l,k,j){var g;if(Ext.isIterable(k)){g=this.doInsert(l,k,j)}else{if(arguments.length>2){g=this.doInsert(l,[k],[j])}else{g=this.doInsert(l,[k])}g=g[0]}return g},doInsert:function(B,v,w){var y=this,H,G,D,A=v.length,I=A,E=y.hasListeners.add,F,C={},x,J,u;if(w!=null){y.useLinearSearch=true}else{w=v;v=new Array(A);for(D=0;D<A;D++){v[D]=this.getKey(w[D])}}y.suspendEvents();for(D=0;D<A;D++){H=v[D];G=y.indexOfKey(H);if(G!==-1){if(G<B){B--}y.removeAt(G)}if(H!=null){if(C[H]!=null){x=true;I--}C[H]=D}}y.resumeEvents();if(x){J=v;u=w;v=new Array(I);w=new Array(I);D=0;for(H in C){v[D]=J[C[H]];w[D]=u[C[H]];D++}A=I}F=B===y.length&&y.indexGeneration===y.generation;Ext.Array.insert(y.items,B,w);Ext.Array.insert(y.keys,B,v);y.length+=A;y.generation++;if(F){y.indexGeneration=y.generation}for(D=0;D<A;D++,B++){H=v[D];if(H!=null){y.map[H]=w[D];if(F){y.indexMap[H]=B}}if(E){y.fireEvent("add",B,w[D],H)}}return w},remove:function(j){var k=this,l,g;if(!k.useLinearSearch&&(l=k.getKey(j))){g=k.indexOfKey(l)}else{g=Ext.Array.indexOf(k.items,j)}return(g===-1)?false:k.removeAt(g)},removeAll:function(f){var g=this,j;if(f||g.hasListeners.remove){if(f){for(j=f.length-1;j>=0;--j){g.remove(f[j])}}else{while(g.length){g.removeAt(0)}}}else{g.length=g.items.length=g.keys.length=0;g.map={};g.indexMap={};g.generation++;g.indexGeneration=g.generation}},removeAt:function(g){var k=this,j,l;if(g<k.length&&g>=0){k.length--;j=k.items[g];Ext.Array.erase(k.items,g,1);l=k.keys[g];if(typeof l!="undefined"){delete k.map[l]}Ext.Array.erase(k.keys,g,1);if(k.hasListeners.remove){k.fireEvent("remove",j,l)}k.generation++;return j}return false},removeRange:function(p,w){var o=this,v,n,q,r,u,s;if(p<o.length&&p>=0){if(!w){w=1}r=Math.min(p+w,o.length);w=r-p;s=r===o.length;u=s&&o.indexGeneration===o.generation;for(q=p;q<r;q++){n=o.keys[q];if(n!=null){delete o.map[n];if(u){delete o.indexMap[n]}}}v=o.items[q-1];o.length-=w;o.generation++;if(u){o.indexGeneration=o.generation}if(s){o.items.length=o.keys.length=o.length}else{o.items.splice(p,w);o.keys.splice(p,w)}return v}return false},removeAtKey:function(l){var j=this,k=j.keys,g;if(l==null){for(g=k.length-1;g>=0;g--){if(k[g]==null){j.removeAt(g)}}}else{return j.removeAt(j.indexOfKey(l))}},getCount:function(){return this.length},indexOf:function(g){var j=this,f;if(g!=null){if(!j.useLinearSearch&&(f=j.getKey(g))){return this.indexOfKey(f)}return Ext.Array.indexOf(j.items,g)}return -1},indexOfKey:function(c){if(!this.map.hasOwnProperty(c)){return -1}if(this.indexGeneration!==this.generation){this.rebuildIndexMap()}return this.indexMap[c]},rebuildIndexMap:function(){var k=this,l=k.indexMap={},m=k.keys,j=m.length,n;for(n=0;n<j;n++){l[m[n]]=n}k.indexGeneration=k.generation},get:function(l){var j=this,g=j.map[l],k=g!==undefined?g:(typeof l=="number")?j.items[l]:undefined;return typeof k!="function"||j.allowFunctions?k:null},getAt:function(c){return this.items[c]},getByKey:function(c){return this.map[c]},contains:function(g){var j=this,f;if(g!=null){if(!j.useLinearSearch&&(f=j.getKey(g))){return this.map[f]!=null}return Ext.Array.indexOf(this.items,g)!==-1}return false},containsKey:function(c){return this.map.hasOwnProperty(c)},clear:function(){var c=this;if(c.generation){c.length=0;c.items=[];c.keys=[];c.map={};c.indexMap={};c.generation++;c.indexGeneration=c.generation}if(c.hasListeners.clear){c.fireEvent("clear")}},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(o,u,n,m){var s=this.extractValues(o,u),p=s.length,q=0,r;n=n||0;m=(m||m===0)?m:p-1;for(r=n;r<=m;r++){q+=s[r]}return q},collect:function(p,u,r){var o=this.extractValues(p,u),y=o.length,x={},w=[],q,s,v;for(v=0;v<y;v++){q=o[v];s=String(q);if((r||!Ext.isEmpty(q))&&!x[s]){x[s]=true;w.push(q)}}return w},extractValues:function(g,f){var j=this.items;if(f){j=Ext.Array.pluck(j,f)}return Ext.Array.pluck(j,g)},hasRange:function(f,d){return(d<this.length)},getRange:function(n,u){var o=this,r=o.items,s=[],m=r.length,p,q;if(m<1){return s}if(n>u){q=true;p=n;n=u;u=p}if(n<0){n=0}if(u==null||u>=m){u=m-1}s=r.slice(n,u+1);if(q&&s.length){s.reverse()}return s},filter:function(l,m,k,j){var n=[];if(Ext.isString(l)){n.push(new Ext.util.Filter({property:l,value:m,anyMatch:k,caseSensitive:j}))}else{if(Ext.isArray(l)||l instanceof Ext.util.Filter){n=n.concat(l)}}return this.filterBy(Ext.util.Filter.createFilterFn(n))},filterBy:function(q,r){var n=this,m=new n.self(n.initialConfig),o=n.keys,u=n.items,p=u.length,s;m.getKey=n.getKey;for(s=0;s<p;s++){if(q.call(r||n,u[s],o[s])){m.add(o[s],u[s])}}m.useLinearSearch=n.useLinearSearch;return m},findIndex:function(m,n,k,l,j){if(Ext.isEmpty(n,false)){return -1}n=this.createValueMatcher(n,l,j);return this.findIndexBy(function(b){return b&&n.test(b[m])},null,k)},findIndexBy:function(q,r,n){var o=this,p=o.keys,u=o.items,s=n||0,m=u.length;for(;s<m;s++){if(q.call(r||o,u[s],p[s])){return s}}return -1},createValueMatcher:function(m,k,j,n){if(!m.exec){var l=Ext.String.escapeRegex;m=String(m);if(k===true){m=l(m)}else{m="^"+l(m);if(n===true){m+="$"}}m=new RegExp(m,j?"":"i")}return m},clone:function(){var d=this,f=new d.self(d.initialConfig);f.add(d.keys,d.items);f.useLinearSearch=d.useLinearSearch;return f}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.util,"AbstractMixedCollection"],0));(Ext.cmd.derive("Ext.util.Sorter",Ext.Base,{isSorter:true,config:{property:null,sorterFn:null,root:null,transform:null,direction:"ASC",id:undefined},statics:{createComparator:function(f,d){d=d||0;return function(p,b){var n=f.isCollection?f.items:f,c=n.length,o,m;for(m=0;m<c;++m){o=n[m].sort(p,b);if(o){return o}}return d&&d(p,b)}}},multiplier:1,constructor:function(c){this.initConfig(c)},getId:function(){var c=this._id;if(!c){c=this.getProperty();if(!c){c=Ext.id(null,"ext-sorter-")}this._id=c}return c},sort:function(d,f){return this.multiplier*this.sortFn(d,f)},sortFn:function(r,s){var p=this,q=p._transform,u=p._root,o=p._property,m,n;if(u){r=r[u];s=s[u]}m=r[o];n=s[o];if(q){m=q(m);n=q(n)}return(m>n)?1:(m<n?-1:0)},applyDirection:function(c){return c?c:"ASC"},updateDirection:function(c){this.multiplier=(c.toUpperCase()==="DESC")?-1:1},updateProperty:function(c){if(c){delete this.sortFn}},updateSorterFn:function(c){this.sortFn=c},toggle:function(){this.setDirection(Ext.String.toggle(this.getDirection(),"ASC","DESC"))},getState:function(){var f=this,d={root:f.getRoot(),property:f.getProperty(),direction:f.getDirection()};if(f._id){d.id=f._id}return d},serialize:function(){return{property:this.getProperty(),direction:this.getDirection()}}},1,0,0,0,0,0,[Ext.util,"Sorter"],0));(Ext.cmd.derive("Ext.util.Sortable",Ext.Base,{isSortable:true,$configPrefixed:false,$configStrict:false,config:{sorters:null},defaultSortDirection:"ASC",multiSortLimit:3,statics:{createComparator:function(c){return c&&c.length?function(l,m){var n=c[0].sort(l,m),b=c.length,k=1;for(;!n&&k<b;k++){n=c[k].sort.call(c[k],l,m)}return n}:function(){return 0}}},applySorters:function(g){var j=this,f=j.getSorters()||new Ext.util.MixedCollection(false,Ext.returnId);if(g){f.addAll(j.decodeSorters(g))}return f},sort:function(o,p,m,q){var u=this,n,r,s=u.getSorters();if(!s){u.setSorters(null);s=u.getSorters()}if(Ext.isArray(o)){q=m;m=p}else{if(Ext.isObject(o)){o=[o];q=m;m=p}else{if(Ext.isString(o)){n=s.get(o);if(!n){n={property:o,direction:p}}else{if(p==null){n.toggle()}else{n.setDirection(p)}}o=[n]}}}if(o&&o.length){o=u.decodeSorters(o);switch(m){case"multi":s.insert(0,o[0]);r=s.getCount()-u.multiSortLimit;if(r>0){s.removeRange(u.multiSortLimit,r)}break;case"prepend":s.insert(0,o);break;case"append":s.addAll(o);break;case undefined:case null:case"replace":s.clear();s.addAll(o);break;default:}}if(q!==false){u.fireEvent("beforesort",u,o);u.onBeforeSort(o);if(u.getSorterCount()){u.doSort(u.generateComparator())}}return o},getSorterCount:function(){return this.getSorters().items.length},generateComparator:function(){var c=this.getSorters().getRange();return c.length?this.createComparator(c):this.emptyComparator},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,decodeSorters:function(n){if(!Ext.isArray(n)){if(n===undefined){n=[]}else{n=[n]}}var p=n.length,m=Ext.util.Sorter,r=this.getModel?this.getModel():this.model,o,l,q;for(q=0;q<p;q++){l=n[q];if(!(l instanceof m)){if(Ext.isString(l)){l={property:l}}Ext.applyIf(l,{root:this.sortRoot,direction:"ASC"});if(l.fn){l.sorterFn=l.fn}if(typeof l=="function"){l={sorterFn:l}}if(r&&!l.transform){o=r.getField(l.property);l.transform=o&&o.sortType!==Ext.identityFn?o.sortType:undefined}n[q]=new Ext.util.Sorter(l)}}return n},getFirstSorter:function(){var k=this.getSorters().items,g=k.length,l=0,j;for(;l<g;++l){j=k[l];if(!j.isGrouper){return j}}return null}},0,0,0,0,0,0,[Ext.util,"Sortable"],function(){this.prototype.createComparator=this.createComparator}));(Ext.cmd.derive("Ext.util.MixedCollection",Ext.util.AbstractMixedCollection,{constructor:function(){this.initConfig();Ext.util.AbstractMixedCollection.prototype.constructor.apply(this,arguments)},doSort:function(c){this.sortBy(c)},_sort:function(o,A,r){var s=this,x,w,y=String(A).toUpperCase()=="DESC"?-1:1,u=[],c=s.keys,v=s.items,B;r=r||function(b,d){return b-d};for(x=0,w=v.length;x<w;x++){u[u.length]={key:c[x],value:v[x],index:x}}Ext.Array.sort(u,function(b,d){return r(b[o],d[o])*y||(b.index<d.index?-1:1)});for(x=0,w=u.length;x<w;x++){B=u[x];v[x]=B.value;c[x]=B.key;s.indexMap[B.key]=x}s.generation++;s.indexGeneration=s.generation;s.fireEvent("sort",s)},sortBy:function(u){var n=this,m=n.items,o,p=n.keys,r,q=m.length,s;for(s=0;s<q;s++){m[s].$extCollectionIndex=s}Ext.Array.sort(m,function(c,b){return u(c,b)||(c.$extCollectionIndex<b.$extCollectionIndex?-1:1)});for(s=0;s<q;s++){o=m[s];r=n.getKey(o);p[s]=r;n.indexMap[r]=s;delete o.$extCollectionIndex}n.generation++;n.indexGeneration=n.generation;n.fireEvent("sort",n,m,p)},findInsertionIndex:function(q,r){var p=this,u=p.items,n=0,m=u.length-1,s,o;if(!r){r=p.generateComparator()}while(n<=m){s=(n+m)>>1;o=r(q,u[s]);if(o>=0){n=s+1}else{if(o<0){m=s-1}}}return n},reorder:function(c){Ext.util.AbstractMixedCollection.prototype.reorder.call(this,c);this.fireEvent("sort",this)},sortByKey:function(d,f){this._sort("key",d,f||function(k,l){var b=String(k).toUpperCase(),c=String(l).toUpperCase();return b>c?1:(b<c?-1:0)})}},1,0,0,0,0,[["sortable",Ext.util.Sortable]],[Ext.util,"MixedCollection"],0));(Ext.cmd.derive("Ext.util.TaskRunner",Ext.Base,{interval:10,timerId:null,constructor:function(d){var f=this;if(typeof d=="number"){f.interval=d}else{if(d){Ext.apply(f,d)}}f.tasks=[];f.timerFn=Ext.Function.bind(f.onTick,f)},newTask:function(f){var d=new Ext.util.TaskRunner.Task(f);d.manager=this;return d},start:function(f){var g=this,j=Ext.Date.now();if(!f.pending){g.tasks.push(f);f.pending=true}f.stopped=false;f.taskStartTime=j;f.taskRunTime=f.fireOnStart!==false?0:f.taskStartTime;f.taskRunCount=0;if(!g.firing){if(f.fireOnStart!==false){g.startTimer(0,j)}else{g.startTimer(f.interval,j)}}return f},stop:function(c){if(!c.stopped){c.stopped=true;if(c.onStop){c.onStop.call(c.scope||c,c)}}return c},stopAll:function(){Ext.each(this.tasks,this.stop,this)},firing:false,nextExpires:1e+99,onTick:function(){var v=this,E=v.tasks,K=v.fireIdleEvent,J=Ext.Date.now(),L=1e+99,A=E.length,G=Ext.GlobalEvents,H,w,C,I,F,D,x;v.timerId=null;v.firing=true;for(C=0;C<A||C<(A=E.length);++C){I=E[C];if(!(D=I.stopped)){H=I.taskRunTime+I.interval;if(H<=J){F=1;if(I.hasOwnProperty("fireIdleEvent")){K=I.fireIdleEvent}else{K=v.fireIdleEvent}I.taskRunCount++;if(I.args){x=I.addCountToArgs?I.args.concat([I.taskRunCount]):I.args}else{x=[I.taskRunCount]}try{F=I.run.apply(I.scope||I,x)}catch(B){try{if(I.onError){F=I.onError.call(I.scope||I,I,B)}}catch(y){}}I.taskRunTime=J;if(F===false||I.taskRunCount===I.repeat){v.stop(I);D=true}else{D=I.stopped;H=J+I.interval}}if(!D&&I.duration&&I.duration<=(J-I.taskStartTime)){v.stop(I);D=true}}if(D){I.pending=false;if(!w){w=E.slice(0,C)}}else{if(w){w.push(I)}if(L>H){L=H}}}if(w){v.tasks=w}v.firing=false;if(v.tasks.length){v.startTimer(L-J,Ext.Date.now())}if(K!==false&&G.hasListeners.idle){G.fireEvent("idle")}},startTimer:function(k,m){var l=this,n=m+k,j=l.timerId;if(j&&l.nextExpires-n>l.interval){clearTimeout(j);j=null}if(!j){if(k<l.interval){k=l.interval}l.timerId=Ext.defer(l.timerFn,k);l.nextExpires=n}}},1,0,0,0,0,0,[Ext.util,"TaskRunner"],function(){var f=this,d=f.prototype;d.destroy=d.stopAll;f.Task=new Ext.Class({isTask:true,stopped:true,fireOnStart:false,constructor:function(b){Ext.apply(this,b)},restart:function(b){if(b!==undefined){this.interval=b}this.manager.start(this)},start:function(b){if(this.stopped){this.restart(b)}},stop:function(){this.manager.stop(this)}});d=f.Task.prototype;d.destroy=d.stop}));(Ext.cmd.derive("Ext.fx.target.Target",Ext.Base,{isAnimTarget:true,constructor:function(c){this.target=c;this.id=this.getId()},getId:function(){return this.target.id},remove:function(){Ext.destroy(this.target)}},1,0,0,0,0,0,[Ext.fx.target,"Target"],0));(Ext.cmd.derive("Ext.fx.target.Element",Ext.fx.target.Target,{type:"element",getElVal:function(j,f,g){if(g===undefined){if(f==="x"){g=j.getX()}else{if(f==="y"){g=j.getY()}else{if(f==="scrollTop"){g=j.getScroll().top}else{if(f==="scrollLeft"){g=j.getScroll().left}else{if(f==="height"){g=j.getHeight()}else{if(f==="width"){g=j.getWidth()}else{g=j.getStyle(f)}}}}}}}return g},getAttr:function(f,g){var j=this.target;return[[j,this.getElVal(j,f,g)]]},setAttr:function(n){var p=n.length,r,j,o,q,s,u;for(q=0;q<p;q++){r=n[q].attrs;for(j in r){if(r.hasOwnProperty(j)){u=r[j].length;for(s=0;s<u;s++){o=r[j][s];this.setElVal(o[0],j,o[1])}}}}},setElVal:function(j,f,g){if(f==="x"){j.setX(g)}else{if(f==="y"){j.setY(g)}else{if(f==="scrollTop"){j.scrollTo("top",g)}else{if(f==="scrollLeft"){j.scrollTo("left",g)}else{if(f==="width"){j.setWidth(g)}else{if(f==="height"){j.setHeight(g)}else{j.setStyle(f,g)}}}}}}}},0,0,0,0,0,0,[Ext.fx.target,"Element"],0));(Ext.cmd.derive("Ext.fx.target.ElementCSS",Ext.fx.target.Element,{setAttr:function(j,C){var H={attrs:[],duration:[],easing:[]},w=j.length,o=function(){this.setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",null)},J={single:true},B,I,y,x,E,F,A,D,G;for(A=0;A<w;A++){I=j[A];E=I.duration;x=I.easing;I=I.attrs;for(y in I){if(Ext.Array.indexOf(H.attrs,y)==-1){H.attrs.push(y.replace(/[A-Z]/g,function(b){return"-"+b.toLowerCase()}));H.duration.push(E+"ms");H.easing.push(x)}}}B=H.attrs.join(",");E=H.duration.join(",");x=H.easing.join(", ");for(A=0;A<w;A++){I=j[A].attrs;for(y in I){G=I[y].length;for(D=0;D<G;D++){F=I[y][D];F[0].setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",C?"":B);F[0].setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",C?"":E);F[0].setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",C?"":x);F[0].setStyle(y,F[1]);if(C){F=F[0].dom.offsetWidth}else{F[0].on(Ext.supports.CSS3TransitionEnd,o,F[0],J)}}}}}},0,0,0,0,0,0,[Ext.fx.target,"ElementCSS"],0));(Ext.cmd.derive("Ext.fx.target.CompositeElement",Ext.fx.target.Element,{isComposite:true,constructor:function(c){c.id=c.id||Ext.id(null,"ext-composite-");Ext.fx.target.Element.prototype.constructor.call(this,c)},getAttr:function(m,n){var u=[],o=this.target,p=o.elements,q=p.length,s,r;for(s=0;s<q;s++){r=p[s];if(r){r=o.getElement(r);u.push([r,this.getElVal(r,m,n)])}}return u},setAttr:function(u){var w=this.target,v=u.length,D=w.elements,F=D.length,k,B,j,x,C,y,A,E;for(y=0;y<v;y++){j=u[y].attrs;for(x in j){if(j.hasOwnProperty(x)){E=j[x].length;for(A=0;A<E;A++){k=j[x][A][1];for(B=0;B<F;++B){C=D[B];if(C){C=w.getElement(C);this.setElVal(C,x,k)}}}}}}},remove:function(){this.target.destroy()}},1,0,0,0,0,0,[Ext.fx.target,"CompositeElement"],0));(Ext.cmd.derive("Ext.fx.target.CompositeElementCSS",Ext.fx.target.CompositeElement,{setAttr:function(){return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this,arguments)}},0,0,0,0,0,0,[Ext.fx.target,"CompositeElementCSS"],0));(Ext.cmd.derive("Ext.fx.target.Sprite",Ext.fx.target.Target,{type:"draw",getFromPrim:function(j,f){var g;switch(f){case"rotate":case"rotation":g=j.attr.rotation;return{x:g.x||0,y:g.y||0,degrees:g.degrees||0};case"scale":case"scaling":g=j.attr.scaling;return{x:g.x||1,y:g.y||1,cx:g.cx||0,cy:g.cy||0};case"translate":case"translation":g=j.attr.translation;return{x:g.x||0,y:g.y||0};default:return j.attr[f]}},getAttr:function(d,f){return[[this.target,f!==undefined?f:this.getFromPrim(this.target,d)]]},setAttr:function(x){var C=x.length,A=[],G,D,j,I,J,v,w,E,F,y,B,H;for(E=0;E<C;E++){G=x[E].attrs;for(D in G){j=G[D];H=j.length;for(F=0;F<H;F++){J=j[F][0];I=j[F][1];if(D==="translate"||D==="translation"){w={x:I.x,y:I.y}}else{if(D==="rotate"||D==="rotation"){y=I.x;if(isNaN(y)){y=null}B=I.y;if(isNaN(B)){B=null}w={degrees:I.degrees,x:y,y:B}}else{if(D==="scale"||D==="scaling"){y=I.x;if(isNaN(y)){y=null}B=I.y;if(isNaN(B)){B=null}w={x:y,y:B,cx:I.cx,cy:I.cy}}else{if(D==="width"||D==="height"||D==="x"||D==="y"){w=parseFloat(I)}else{w=I}}}}v=Ext.Array.indexOf(A,J);if(v===-1){A.push([J,{}]);v=A.length-1}A[v][1][D]=w}}}C=A.length;for(E=0;E<C;E++){A[E][0].setAttributes(A[E][1])}this.target.redraw()}},0,0,0,0,0,0,[Ext.fx.target,"Sprite"],0));(Ext.cmd.derive("Ext.fx.target.CompositeSprite",Ext.fx.target.Sprite,{getAttr:function(l,m){var r=[],n=[].concat(this.target.items),o=n.length,p,q;for(p=0;p<o;p++){q=n[p];r.push([q,m!==undefined?m:this.getFromPrim(q,l)])}return r}},0,0,0,0,0,0,[Ext.fx.target,"CompositeSprite"],0));(Ext.cmd.derive("Ext.fx.target.Component",Ext.fx.target.Target,{type:"component",getPropMethod:{top:function(){return this.getPosition(true)[1]},left:function(){return this.getPosition(true)[0]},x:function(){return this.getPosition()[0]},y:function(){return this.getPosition()[1]},height:function(){return this.getHeight()},width:function(){return this.getWidth()},opacity:function(){return this.el.getStyle("opacity")}},setMethods:{top:"setPosition",left:"setPosition",x:"setPagePosition",y:"setPagePosition",height:"setSize",width:"setSize",opacity:"setOpacity"},getAttr:function(d,f){return[[this.target,f!==undefined?f:this.getPropMethod[d].call(this.target)]]},setAttr:function(M,D,H){var j=this,o=M.length,J,w,G,C,E,A,F,N,K,B,I={},L;for(C=0;C<o;C++){J=M[C].attrs;for(w in J){A=J[w].length;for(E=0;E<A;E++){G=J[w][E];L=I[j.setMethods[w]]||(I[j.setMethods[w]]={});L.target=G[0];L[w]=G[1]}}if(I.setPosition){G=I.setPosition;F=(G.left===undefined)?undefined:parseFloat(G.left);N=(G.top===undefined)?undefined:parseFloat(G.top);G.target.setPosition(F,N)}if(I.setPagePosition){G=I.setPagePosition;G.target.setPagePosition(G.x,G.y)}if(I.setSize){G=I.setSize;K=(G.width===undefined)?G.target.getWidth():parseFloat(G.width);B=(G.height===undefined)?G.target.getHeight():parseFloat(G.height);G.target.el.setSize(K,B);if(H||j.dynamic){Ext.GlobalEvents.on({idle:Ext.Function.bind(G.target.setSize,G.target,[K,B]),single:true})}}if(I.setOpacity){G=I.setOpacity;G.target.el.setStyle("opacity",G.opacity)}}}},0,0,0,0,0,0,[Ext.fx.target,"Component"],0));(Ext.cmd.derive("Ext.fx.Queue",Ext.Base,{constructor:function(){this.targets=new Ext.util.HashMap();this.fxQueue={}},getFxDefaults:function(d){var f=this.targets.get(d);if(f){return f.fxDefaults}return{}},setFxDefaults:function(f,g){var j=this.targets.get(f);if(j){j.fxDefaults=Ext.apply(j.fxDefaults||{},g)}},stopAnimation:function(o,p){var l=this,k=l.getFxQueue(o),m=k.length,n;while(m){n=k[m-1];if(n){n.end(p)}m--}},getActiveAnimation:function(f){var d=this.getFxQueue(f);return(d&&!!d.length)?d[0]:false},hasFxBlock:function(f){var d=this.getFxQueue(f);return d&&d[0]&&d[0].block},getFxQueue:function(m){if(!m){return false}var l=this,n=l.fxQueue,j=n[m],k=l.targets.get(m);if(!k){return false}if(!j){l.fxQueue[m]=n[m]=[];if(k.type!=="element"){k.target.on("destroy",function(){n[m]=null;delete n[m]})}}return l.fxQueue[m]},queueFx:function(m){var n=this,l=m.target,p=l.getId(),k,o;if(!l){return}k=n.getFxQueue(p);o=k.length;if(o){if(m.concurrent){m.paused=false}else{k[o-1].on("afteranimate",function(){m.paused=false})}}else{m.paused=false}m.on("afteranimate",function(){Ext.Array.remove(k,m);if(k.length===0){n.targets.remove(m.target);n.fxQueue[p]=null;delete n.fxQueue[p]}if(m.remove){if(l.type==="element"){var b=Ext.get(p);if(b){b.destroy()}}}},n,{single:true});k.push(m)}},1,0,0,0,0,0,[Ext.fx,"Queue"],0));(Ext.cmd.derive("Ext.fx.Manager",Ext.Base,{singleton:true,constructor:function(){var c=this;c.items=new Ext.util.MixedCollection();c.targetArr={};c.mixins.queue.constructor.call(c);c.taskRunner=new Ext.util.TaskRunner()},interval:16,forceJS:true,createTarget:function(j){var l=this,k=!l.forceJS&&Ext.supports.Transitions,g;l.useCSS3=k;if(j){if(j.tagName||Ext.isString(j)||j.isFly){j=Ext.get(j);g=new Ext.fx.target["Element"+(k?"CSS":"")](j)}else{if(j.dom){g=new Ext.fx.target["Element"+(k?"CSS":"")](j)}else{if(j.isComposite){g=new Ext.fx.target["CompositeElement"+(k?"CSS":"")](j)}else{if(j.isSprite){g=new Ext.fx.target.Sprite(j)}else{if(j.isCompositeSprite){g=new Ext.fx.target.CompositeSprite(j)}else{if(j.isComponent){g=new Ext.fx.target.Component(j)}else{if(j.isAnimTarget){return j}else{return null}}}}}}}l.targets.add(g);return g}else{return null}},addAnim:function(j){var k=this,l=k.items,g=k.task;l.add(j.id,j);if(!g&&l.length){g=k.task={run:k.runner,interval:k.interval,scope:k};k.taskRunner.start(g)}},removeAnim:function(j){var k=this,l=k.items,g=k.task;l.removeAtKey(j.id);if(g&&!l.length){k.taskRunner.stop(g);delete k.task}},runner:function(){var l=this,n=l.items.getRange(),m=0,j=n.length,k;l.targetArr={};l.timestamp=new Date();for(;m<j;m++){k=n[m];if(k.isReady()){l.startAnim(k)}}for(m=0;m<j;m++){k=n[m];if(k.isRunning()){l.runAnim(k)}}l.applyPendingAttrs();l.targetArr=null},startAnim:function(c){c.start(this.timestamp)},runAnim:function(q,m){if(!q){return}var r=this,o=r.useCSS3&&q.target.type==="element",u=r.timestamp-q.startTime,s=(u>=q.duration),p,n;if(m){u=q.duration;s=true}p=this.collectTargetData(q,u,o,s);if(o){q.target.setAttr(p.anims[q.id].attributes,true);r.collectTargetData(q,q.duration,o,s);q.paused=true;p=q.target.target;if(q.target.isComposite){p=q.target.target.last()}n={};n[Ext.supports.CSS3TransitionEnd]=q.lastFrame;n.scope=q;n.single=true;p.on(n)}return p},jumpToEnd:function(k){var l=this,j,g;if(!l.targetArr){l.targetArr={};g=true}j=l.runAnim(k,true);l.applyAnimAttrs(j,j.anims[k.id]);if(g){l.targetArr=null}},collectTargetData:function(o,k,m,l){var p=o.target.getId(),n=this.targetArr[p];if(!n){n=this.targetArr[p]={id:p,el:o.target,anims:{}}}n.anims[o.id]={id:o.id,anim:o,elapsed:k,isLastFrame:l,attributes:[{duration:o.duration,easing:(m&&o.reverse)?o.easingFn.reverse().toCSS3():o.easing,attrs:o.runAnim(k)}]};return n},applyAnimAttrs:function(g,f){var j=f.anim;if(f.attributes&&j.isRunning()){g.el.setAttr(f.attributes,false,f.isLastFrame);if(f.isLastFrame){j.lastFrame()}}},applyPendingAttrs:function(){var m=this.targetArr,l,o,p,n,k;for(o in m){if(m.hasOwnProperty(o)){l=m[o];for(k in l.anims){if(l.anims.hasOwnProperty(k)){p=l.anims[k];n=p.anim;if(p.attributes&&n.isRunning()){l.el.setAttr(p.attributes,false,p.isLastFrame);if(p.isLastFrame){n.lastFrame()}}}}}}}},1,0,0,0,0,[["queue",Ext.fx.Queue]],[Ext.fx,"Manager"],0));(Ext.cmd.derive("Ext.fx.Animator",Ext.Base,{isAnimator:true,duration:250,delay:0,delayStart:0,dynamic:false,easing:"ease",running:false,paused:false,damper:1,iterations:1,currentIteration:0,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(d){var f=this;d=Ext.apply(f,d||{});f.config=d;f.id=Ext.id(null,"ext-animator-");f.mixins.observable.constructor.call(f,d);f.timeline=[];f.createTimeline(f.keyframes);if(f.target){f.applyAnimator(f.target);Ext.fx.Manager.addAnim(f)}},sorter:function(b,f){return b.pct-f.pct},createTimeline:function(x){var u=this,q=[],s=u.to||{},A=u.duration,p,B,y,v,r,w;for(r in x){if(x.hasOwnProperty(r)&&u.animKeyFramesRE.test(r)){w={attrs:Ext.apply(x[r],s)};if(r==="from"){r=0}else{if(r==="to"){r=100}}w.pct=parseInt(r,10);q.push(w)}}Ext.Array.sort(q,u.sorter);v=q.length;for(y=0;y<v;y++){p=(q[y-1])?A*(q[y-1].pct/100):0;B=A*(q[y].pct/100);u.timeline.push({duration:B-p,attrs:q[y].attrs})}},applyAnimator:function(v){var r=this,q=[],o=r.timeline,s=o.length,x,u,y,p,w;if(r.fireEvent("beforeanimate",r)!==false){for(w=0;w<s;w++){x=o[w];p=x.attrs;u=p.easing||r.easing;y=p.damper||r.damper;delete p.easing;delete p.damper;x=new Ext.fx.Anim({target:v,easing:u,damper:y,duration:x.duration,paused:true,to:p});q.push(x)}r.animations=q;r.target=x.target;for(w=0;w<s-1;w++){x=q[w];x.nextAnim=q[w+1];x.on("afteranimate",function(){this.nextAnim.paused=false});x.on("afteranimate",function(){this.fireEvent("keyframe",this,++this.keyframeStep)},r)}q[s-1].on("afteranimate",function(){this.lastFrame()},r)}},start:function(l){var k=this,m=k.delay,n=k.delayStart,j;if(m){if(!n){k.delayStart=l;return}else{j=l-n;if(j<m){return}else{l=new Date(n.getTime()+m)}}}if(k.fireEvent("beforeanimate",k)!==false){k.startTime=l;k.running=true;k.animations[k.keyframeStep].paused=false}},lastFrame:function(){var g=this,f=g.iterations,j=g.currentIteration;j++;if(j<f){g.startTime=new Date();g.currentIteration=j;g.keyframeStep=0;g.applyAnimator(g.target);g.animations[g.keyframeStep].paused=false}else{g.currentIteration=0;g.end()}},end:function(){var c=this;c.fireEvent("afteranimate",c,c.startTime,new Date()-c.startTime)},isReady:function(){return this.paused===false&&this.running===false&&this.iterations>0},isRunning:function(){return false}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.fx,"Animator"],0));(Ext.cmd.derive("Ext.fx.CubicBezier",Ext.Base,{singleton:true,cubicBezierAtTime:function(u,F,H,v,w,B){var A=3*F,x=3*(v-F)-A,I=1-A-x,C=3*H,y=3*(w-H)-C,J=1-C-y;function D(b){return((I*b+x)*b+A)*b}function G(d,b){var c=E(d,b);return((J*c+y)*c+C)*c}function E(f,g){var j,l,k,d,b,c;for(k=f,c=0;c<8;c++){d=D(k)-f;if(Math.abs(d)<g){return k}b=(3*I*k+2*x)*k+A;if(Math.abs(b)<0.000001){break}k=k-d/b}j=0;l=1;k=f;if(k<j){return j}if(k>l){return l}while(j<l){d=D(k);if(Math.abs(d-f)<g){return k}if(f>d){j=k}else{l=k}k=(l-j)/2+j}return k}return G(u,1/(200*B))},cubicBezier:function(n,k,j,m){var l=function(b){return Ext.fx.CubicBezier.cubicBezierAtTime(b,n,k,j,m,1)};l.toCSS3=function(){return"cubic-bezier("+[n,k,j,m].join(",")+")"};l.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-j,1-m,1-n,1-k)};return l}},0,0,0,0,0,0,[Ext.fx,"CubicBezier"],0));(Ext.cmd.derive("Ext.fx.Easing",Ext.Base,function(){var o=Math,m=o.PI,p=o.pow,r=o.sin,n=o.sqrt,l=o.abs,q=1.70158;return{singleton:true,linear:Ext.identityFn,ease:function(d){var k=0.07813-d/2,w=n(0.0066+k*k),c=w-k,f=p(l(c),1/3)*(c<0?-1:1),g=-w-k,j=p(l(g),1/3)*(g<0?-1:1),b=f+j+0.25;return p(1-b,2)*3*b*0.1+(1-b)*3*b*b+b*b*b},easeIn:function(b){return p(b,1.7)},easeOut:function(b){return p(b,0.48)},easeInOut:function(d){var k=0.48-d/1.04,w=n(0.1734+k*k),c=w-k,f=p(l(c),1/3)*(c<0?-1:1),g=-w-k,j=p(l(g),1/3)*(g<0?-1:1),b=f+j+0.5;return(1-b)*3*b*b+b*b*b},backIn:function(b){return b*b*((q+1)*b-q)},backOut:function(b){b=b-1;return b*b*((q+1)*b+q)+1},elasticIn:function(d){if(d===0||d===1){return d}var b=0.3,c=b/4;return p(2,-10*d)*r((d-c)*(2*m)/b)+1},elasticOut:function(b){return 1-Ext.fx.Easing.elasticIn(1-b)},bounceIn:function(b){return 1-Ext.fx.Easing.bounceOut(1-b)},bounceOut:function(c){var f=7.5625,d=2.75,b;if(c<(1/d)){b=f*c*c}else{if(c<(2/d)){c-=(1.5/d);b=f*c*c+0.75}else{if(c<(2.5/d)){c-=(2.25/d);b=f*c*c+0.9375}else{c-=(2.625/d);b=f*c*c+0.984375}}}return b}}},0,0,0,0,0,0,[Ext.fx,"Easing"],function(j){var g=j.self,f=g.prototype;g.addMembers({"back-in":f.backIn,"back-out":f.backOut,"ease-in":f.easeIn,"ease-out":f.easeOut,"elastic-in":f.elasticIn,"elastic-out":f.elasticOut,"bounce-in":f.bounceIn,"bounce-out":f.bounceOut,"ease-in-out":f.easeInOut})}));(Ext.cmd.derive("Ext.fx.DrawPath",Ext.Base,{singleton:true,pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,is:function(f,d){d=String(d).toLowerCase();return(d=="object"&&f===Object(f))||(d=="undefined"&&typeof f==d)||(d=="null"&&f===null)||(d=="array"&&Array.isArray&&Array.isArray(f))||(Object.prototype.toString.call(f).toLowerCase().slice(8,-1))==d},path2string:function(){return this.join(",").replace(Ext.fx.DrawPath.pathToStringRE,"$1")},pathToString:function(c){return c.join(",").replace(Ext.fx.DrawPath.pathToStringRE,"$1")},parsePathString:function(g){if(!g){return null}var j={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},k=[],l=this;if(l.is(g,"array")&&l.is(g[0],"array")){k=l.pathClone(g)}if(!k.length){String(g).replace(l.pathCommandRE,function(f,n,b){var c=[],d=n.toLowerCase();b.replace(l.pathValuesRE,function(m,p){if(p){c.push(+p)}});if(d=="m"&&c.length>2){k.push([n].concat(Ext.Array.splice(c,0,2)));d="l";n=(n=="m")?"l":"L"}while(c.length>=j[d]){k.push([n].concat(Ext.Array.splice(c,0,j[d])));if(!j[d]){break}}})}k.toString=l.path2string;return k},pathClone:function(l){var o=[],j,m,p,n;if(!this.is(l,"array")||!this.is(l&&l[0],"array")){l=this.parsePathString(l)}for(p=0,n=l.length;p<n;p++){o[p]=[];for(j=0,m=l[p].length;j<m;j++){o[p][j]=l[p][j]}}o.toString=this.path2string;return o},pathToAbsolute:function(B){if(!this.is(B,"array")||!this.is(B&&B[0],"array")){B=this.parsePathString(B)}var v=[],s=0,u=0,j=0,r=0,x=0,w=B.length,C,A,y,D;if(w&&B[0][0]=="M"){s=+B[0][1];u=+B[0][2];j=s;r=u;x++;v[0]=["M",s,u]}for(;x<w;x++){C=v[x]=[];A=B[x];if(A[0]!=A[0].toUpperCase()){C[0]=A[0].toUpperCase();switch(C[0]){case"A":C[1]=A[1];C[2]=A[2];C[3]=A[3];C[4]=A[4];C[5]=A[5];C[6]=+(A[6]+s);C[7]=+(A[7]+u);break;case"V":C[1]=+A[1]+u;break;case"H":C[1]=+A[1]+s;break;case"M":j=+A[1]+s;r=+A[2]+u;default:y=1;D=A.length;for(;y<D;y++){C[y]=+A[y]+((y%2)?s:u)}}}else{y=0;D=A.length;for(;y<D;y++){v[x][y]=A[y]}}switch(C[0]){case"Z":s=j;u=r;break;case"H":s=C[1];break;case"V":u=C[1];break;case"M":A=v[x];D=A.length;j=A[D-2];r=A[D-1];default:A=v[x];D=A.length;s=A[D-2];u=A[D-1]}}v.toString=this.path2string;return v},interpolatePaths:function(I,x){var A=this,E=A.pathToAbsolute(I),w=A.pathToAbsolute(x),v={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},H={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},G=function(d,c){if(d[c].length>7){d[c].shift();var b=d[c];while(b.length){Ext.Array.splice(d,c++,0,["C"].concat(Ext.Array.splice(b,0,6)))}Ext.Array.erase(d,c,1);p=Math.max(E.length,w.length||0)}},F=function(g,b,d,f,c){if(g&&b&&g[c][0]=="M"&&b[c][0]!="M"){Ext.Array.splice(b,c,0,["M",f.x,f.y]);d.bx=0;d.by=0;d.x=g[c][1];d.y=g[c][2];p=Math.max(E.length,w.length||0)}},B,p,C,J,D,y;for(B=0,p=Math.max(E.length,w.length||0);B<p;B++){E[B]=A.command2curve(E[B],v);G(E,B);(w[B]=A.command2curve(w[B],H));G(w,B);F(E,w,v,H,B);F(w,E,H,v,B);C=E[B];J=w[B];D=C.length;y=J.length;v.x=C[D-2];v.y=C[D-1];v.bx=parseFloat(C[D-4])||v.x;v.by=parseFloat(C[D-3])||v.y;H.bx=(parseFloat(J[y-4])||H.x);H.by=(parseFloat(J[y-3])||H.y);H.x=J[y-2];H.y=J[y-1]}return[E,w]},command2curve:function(g,j){var d=this;if(!g){return["C",j.x,j.y,j.x,j.y,j.x,j.y]}if(g[0]!="T"&&g[0]!="Q"){j.qx=j.qy=null}switch(g[0]){case"M":j.X=g[1];j.Y=g[2];break;case"A":g=["C"].concat(d.arc2curve.apply(d,[j.x,j.y].concat(g.slice(1))));break;case"S":g=["C",j.x+(j.x-(j.bx||j.x)),j.y+(j.y-(j.by||j.y))].concat(g.slice(1));break;case"T":j.qx=j.x+(j.x-(j.qx||j.x));j.qy=j.y+(j.y-(j.qy||j.y));g=["C"].concat(d.quadratic2curve(j.x,j.y,j.qx,j.qy,g[1],g[2]));break;case"Q":j.qx=g[1];j.qy=g[2];g=["C"].concat(d.quadratic2curve(j.x,j.y,g[1],g[2],g[3],g[4]));break;case"L":g=["C"].concat(j.x,j.y,g[1],g[2],g[1],g[2]);break;case"H":g=["C"].concat(j.x,j.y,g[1],j.y,g[1],j.y);break;case"V":g=["C"].concat(j.x,j.y,j.x,g[1],j.x,g[1]);break;case"Z":g=["C"].concat(j.x,j.y,j.X,j.Y,j.X,j.Y);break}return g},quadratic2curve:function(u,r,o,q,m,s){var p=1/3,n=2/3;return[p*u+n*o,p*r+n*q,p*m+n*o,p*s+n*q,m,s]},rotate:function(r,m,l){var p=Math.cos(l),q=Math.sin(l),n=r*p-m*q,o=r*q+m*p;return{x:n,y:o}},arc2curve:function(aQ,az,aw,ay,aK,aV,aZ,aR,aC,aI){var aO=this,a1=Math.PI,aM=aO.radian,aA=a1*120/180,a3=aM*(+aK||0),aq=[],au=Math,aj=au.cos,a4=au.sin,y=au.sqrt,aP=au.abs,aU=au.asin,av,ao,ap,aJ,a2,al,ai,aE,aG,aW,aX,aS,aY,aD,a0,aF,an,ak,am,aH,aL,aN,x,ar,k,at,aB,ax,aT;if(!aI){av=aO.rotate(aQ,az,-a3);aQ=av.x;az=av.y;av=aO.rotate(aR,aC,-a3);aR=av.x;aC=av.y;ao=(aQ-aR)/2;ap=(az-aC)/2;aJ=(ao*ao)/(aw*aw)+(ap*ap)/(ay*ay);if(aJ>1){aJ=y(aJ);aw=aJ*aw;ay=aJ*ay}a2=aw*aw;al=ay*ay;ai=(aV==aZ?-1:1)*y(aP((a2*al-a2*ap*ap-al*ao*ao)/(a2*ap*ap+al*ao*ao)));aE=ai*aw*ap/ay+(aQ+aR)/2;aG=ai*-ay*ao/aw+(az+aC)/2;aW=aU(((az-aG)/ay).toFixed(7));aX=aU(((aC-aG)/ay).toFixed(7));aW=aQ<aE?a1-aW:aW;aX=aR<aE?a1-aX:aX;if(aW<0){aW=a1*2+aW}if(aX<0){aX=a1*2+aX}if(aZ&&aW>aX){aW=aW-a1*2}if(!aZ&&aX>aW){aX=aX-a1*2}}else{aW=aI[0];aX=aI[1];aE=aI[2];aG=aI[3]}aS=aX-aW;if(aP(aS)>aA){aB=aX;ax=aR;aT=aC;aX=aW+aA*(aZ&&aX>aW?1:-1);aR=aE+aw*aj(aX);aC=aG+ay*a4(aX);aq=aO.arc2curve(aR,aC,aw,ay,aK,0,aZ,ax,aT,[aX,aB,aE,aG])}aS=aX-aW;aY=aj(aW);aD=a4(aW);a0=aj(aX);aF=a4(aX);an=au.tan(aS/4);ak=4/3*aw*an;am=4/3*ay*an;aH=[aQ,az];aL=[aQ+ak*aD,az-am*aY];aN=[aR+ak*aF,aC-am*a0];x=[aR,aC];aL[0]=2*aH[0]-aL[0];aL[1]=2*aH[1]-aL[1];if(aI){return[aL,aN,x].concat(aq)}else{aq=[aL,aN,x].concat(aq).join().split(",");ar=[];at=aq.length;for(k=0;k<at;k++){ar[k]=k%2?aO.rotate(aq[k-1],aq[k],a3).y:aO.rotate(aq[k],aq[k+1],a3).x}return ar}}},0,0,0,0,0,0,[Ext.fx,"DrawPath"],0));(Ext.cmd.derive("Ext.fx.PropertyHandler",Ext.Base,{statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(n,u,w,q,o){w=(typeof w=="number")?w:1;var p=this.unitRE,s=p.exec(n),v,r;if(s){n=s[1];r=s[2];if(!this.scrollRE.test(o)&&!r&&this.pixelDefaultsRE.test(o)){r="px"}}n=+n||0;s=p.exec(u);if(s){u=s[1];r=s[2]||r}u=+u||0;v=(q!=null)?q:n;return{from:n,delta:(u-v)*w,units:r}},get:function(j,C,D,r,v){var s=j.length,A=[],y,w,u,B,x;for(y=0;y<s;y++){if(r){w=r[y][1].from}if(Ext.isArray(j[y][1])&&Ext.isArray(C)){u=[];B=0;x=j[y][1].length;for(;B<x;B++){u.push(this.computeDelta(j[y][1][B],C[B],D,w,v))}A.push([j[y][0],u])}else{A.push([j[y][0],this.computeDelta(j[y][1],C,D,w,v)])}}return A},set:function(j,q){var p=j.length,u=[],s,w,o,r,v;for(s=0;s<p;s++){w=j[s][1];if(Ext.isArray(w)){o=[];v=0;r=w.length;for(;v<r;v++){o.push(w[v].from+w[v].delta*q+(w[v].units||0))}u.push([j[s][0],o])}else{u.push([j[s][0],w.from+w.delta*q+(w.units||0)])}}return u}},stringHandler:{computeDelta:function(k,n,l,m,j){return{from:k,delta:n}},get:function(n,v,w,o,q){var p=n.length,u=[],s,r;for(s=0;s<p;s++){u.push([n[s][0],this.computeDelta(n[s][1],v,w,r,q)])}return u},set:function(k,l){var n=k.length,p=[],o,m;for(o=0;o<n;o++){m=k[o][1];p.push([k[o][0],m.delta])}return p}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(r,w){w=(typeof w=="number")?w:1;var q=false,u=[this.hexRE,this.rgbRE,this.hex3RE],s=u.length,o,v,n,p;for(p=0;p<s;p++){n=u[p];v=(p%2===0)?16:10;o=n.exec(r);if(o&&o.length===4){if(p===2){o[1]+=o[1];o[2]+=o[2];o[3]+=o[3]}q={red:parseInt(o[1],v),green:parseInt(o[2],v),blue:parseInt(o[3],v)};break}}return q||r},computeDelta:function(m,l,o,q){m=this.parseColor(m);l=this.parseColor(l,o);var n=q?q:m,r=typeof n,p=typeof l;if(r==="string"||r==="undefined"||p==="string"||p==="undefined"){return l||n}return{from:m,delta:{red:Math.round((l.red-n.red)*o),green:Math.round((l.green-n.green)*o),blue:Math.round((l.blue-n.blue)*o)}}},get:function(n,m,p,r){var o=n.length,s=[],q,u;for(q=0;q<o;q++){if(r){u=r[q][1].from}s.push([n[q][0],this.computeDelta(n[q][1],m,p,u)])}return s},set:function(n,r){var q=n.length,u=[],s,v,w,p,o;for(s=0;s<q;s++){v=n[s][1];if(v){p=v.from;o=v.delta;v=(typeof v==="object"&&"red" in v)?"rgb("+v.red+", "+v.green+", "+v.blue+")":v;v=(typeof v==="object"&&v.length)?v[0]:v;if(typeof v==="undefined"){return[]}w=typeof v==="string"?v:"rgb("+[(p.red+Math.round(o.red*r))%256,(p.green+Math.round(o.green*r))%256,(p.blue+Math.round(o.blue*r))%256].join(",")+")";u.push([n[s][0],w])}}return u}},object:{interpolate:function(j,l){l=(typeof l==="number")?l:1;var g={},k;for(k in j){g[k]=parseFloat(j[k])*l}return g},computeDelta:function(m,l,q,r){m=this.interpolate(m);l=this.interpolate(l,q);var n=r?r:m,o={},p;for(p in l){o[p]=l[p]-n[p]}return{from:m,delta:o}},get:function(n,m,p,r){var o=n.length,s=[],q,u;for(q=0;q<o;q++){if(r){u=r[q][1].from}s.push([n[q][0],this.computeDelta(n[q][1],m,p,u)])}return s},set:function(o,s){var r=o.length,w=[],u={},v,q,p,x,y;for(v=0;v<r;v++){x=o[v][1];q=x.from;p=x.delta;for(y in q){u[y]=q[y]+p[y]*s}w.push([o[v][0],u])}return w}},path:{computeDelta:function(k,j,m,n){m=(typeof m==="number")?m:1;var l;k=+k||0;j=+j||0;l=(n!=null)?n:k;return{from:k,delta:(j-l)*m}},forcePath:function(c){if(!Ext.isArray(c)&&!Ext.isArray(c[0])){c=Ext.fx.DrawPath.parsePathString(c)}return c},get:function(G,A,H,L){var F=this.forcePath(A),x=[],J=G.length,E,B,k,C,j,y,D,I,K;for(k=0;k<J;k++){K=this.forcePath(G[k][1]);C=Ext.fx.DrawPath.interpolatePaths(K,F);K=C[0];F=C[1];E=K.length;I=[];for(y=0;y<E;y++){C=[K[y][0]];B=K[y].length;for(D=1;D<B;D++){j=L&&L[0][1][y][D].from;C.push(this.computeDelta(K[y][D],F[y][D],H,j))}I.push(C)}x.push([G[k][0],I])}return x},set:function(j,s){var k=j.length,y=[],w,x,A,v,u,B,D,C;for(w=0;w<k;w++){B=j[w][1];v=[];D=B.length;for(x=0;x<D;x++){u=[B[x][0]];C=B[x].length;for(A=1;A<C;A++){u.push(B[x][A].from+B[x][A].delta*s)}v.push(u.join(","))}y.push([j[w][0],v.join(",")])}return y}}}},0,0,0,0,0,0,[Ext.fx,"PropertyHandler"],function(){var l=["outlineColor","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fill","stroke"],k=l.length,g=0,j;for(;g<k;g++){j=l[g];this[j]=this.color}l=["cursor"];k=l.length;g=0;for(;g<k;g++){j=l[g];this[j]=this.stringHandler}}));(Ext.cmd.derive("Ext.fx.Anim",Ext.Base,{isAnimation:true,duration:250,delay:0,delayStart:0,dynamic:false,easing:"ease",damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:false,running:false,paused:false,iterations:1,autoEnd:false,alternate:false,currentIteration:0,startTime:0,frameCount:0,constructor:function(f){var j=this,g;f=f||{};if(f.keyframes){return new Ext.fx.Animator(f)}Ext.apply(j,f);if(j.from===undefined){j.from={}}j.propHandlers={};j.config=f;j.target=Ext.fx.Manager.createTarget(j.target);j.easingFn=Ext.fx.Easing[j.easing];j.target.dynamic=j.dynamic;if(!j.easingFn){j.easingFn=String(j.easing).match(j.bezierRE);if(j.easingFn&&j.easingFn.length===5){g=j.easingFn;j.easingFn=Ext.fx.CubicBezier.cubicBezier(+g[1],+g[2],+g[3],+g[4])}}j.id=Ext.id(null,"ext-anim-");j.mixins.observable.constructor.call(j);Ext.fx.Manager.addAnim(j);if(f.autoEnd){j.running=true;j.jumpToEnd()}},setAttr:function(d,f){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,d,f)},initAttrs:function(){var r=this,p=r.from,o=r.to,q=r.initialFrom||{},u={},w,v,n,s;for(s in o){if(o.hasOwnProperty(s)){w=r.target.getAttr(s,p[s]);v=o[s];if(!Ext.fx.PropertyHandler[s]){if(Ext.isObject(v)){n=r.propHandlers[s]=Ext.fx.PropertyHandler.object}else{n=r.propHandlers[s]=Ext.fx.PropertyHandler.defaultHandler}}else{n=r.propHandlers[s]=Ext.fx.PropertyHandler[s]}u[s]=n.get(w,v,r.damper,q[s],s)}}r.currentAttrs=u},start:function(l){var k=this,m=k.delay,n=k.delayStart,j;if(m){if(!n){k.delayStart=l;return}else{j=l-n;if(j<m){return}else{l=new Date(n.getTime()+m)}}}if(k.fireEvent("beforeanimate",k)!==false){k.startTime=l;if(!k.paused&&!k.currentAttrs){k.initAttrs()}k.running=true;k.frameCount=0}},jumpToEnd:function(){var c=this;if(!c.endWasCalled){if(!c.currentAttrs){c.initAttrs()}Ext.fx.Manager.jumpToEnd(c);c.end()}},runAnim:function(p){var s=this,q=s.currentAttrs,x=s.duration,y=s.easingFn,A=s.propHandlers,v={},u,r,w,B;if(p>=x){p=x;B=true}if(s.reverse){p=x-p}for(w in q){if(q.hasOwnProperty(w)){r=q[w];u=B?1:y(p/x);v[w]=A[w].set(r,u)}}s.frameCount++;return v},lastFrame:function(){var g=this,f=g.iterations,j=g.currentIteration;j++;if(j<f){if(g.alternate){g.reverse=!g.reverse}g.startTime=new Date();g.currentIteration=j;g.paused=false}else{g.currentIteration=0;g.end();g.fireEvent("lastframe",g,g.startTime)}},endWasCalled:0,end:function(d){var f=this;if(f.endWasCalled++){return}f.startTime=0;f.paused=false;f.running=false;Ext.fx.Manager.removeAnim(f);if(!d){f.fireEvent("afteranimate",f,f.startTime);Ext.callback(f.callback,f.scope,[f,f.startTime])}if(f.remove){f.target.destroy()}},isReady:function(){return this.paused===false&&this.running===false&&this.iterations>0},isRunning:function(){return this.paused===false&&this.running===true&&this.isAnimator!==true}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.fx,"Anim"],0));Ext.enableFx=true;(Ext.cmd.derive("Ext.util.Animate",Ext.Base,{mixinId:"animate",isAnimate:true,animate:function(d){var f=this;if(Ext.fx.Manager.hasFxBlock(f.id)){return f}Ext.fx.Manager.queueFx(new Ext.fx.Anim(f.anim(d)));return this},anim:function(d){if(!Ext.isObject(d)){return(d)?{}:false}var f=this;if(d.stopAnimation){f.stopAnimation()}Ext.applyIf(d,Ext.fx.Manager.getFxDefaults(f.id));return Ext.apply({target:f,paused:true},d)},getAnimationProps:function(){var f=this,d=f.layout;return d&&d.animate?d.animate:{}},stopFx:Ext.Function.alias(Ext.util.Animate,"stopAnimation"),stopAnimation:function(c){Ext.fx.Manager.stopAnimation(this.id,c);return this},syncFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:true});return this},sequenceFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:false});return this},hasActiveFx:Ext.Function.alias(Ext.util.Animate,"getActiveAnimation"),getActiveAnimation:function(){return Ext.fx.Manager.getActiveAnimation(this.id)}},0,0,0,0,0,0,[Ext.util,"Animate"],0));(Ext.cmd.derive("Ext.dom.Fly",Ext.dom.Element,{alternateClassName:"Ext.dom.Element.Fly",validNodeTypes:{1:1,9:1,11:1},isFly:true,constructor:function(c){this.dom=c;this.el=this},attach:function(f){var d=this;if(!f){return d.detach()}d.dom=f;if(!Ext.cache[f.id]){d.getData().isSynchronized=false}return d},detach:function(){this.dom=null},addListener:null,removeListener:null},1,0,0,0,0,0,[Ext.dom,"Fly",Ext.dom.Element,"Fly"],function(f){var j={},g;f.cache=j;Ext.fly=function(b,o){var d=null,n=Ext.fly,p,c;o=o||(n.caller&&n.caller.$name)||"_global";b=Ext.getDom(b);if(b){p=b.nodeType;if(f.prototype.validNodeTypes[p]||(!p&&(b.window==b))){d=Ext.cache[b.id];if(!d||d.dom!==b){d=j[o]||(j[o]=new f());d.dom=b;c=d.getData(true);if(c){c.isSynchronized=false}}}}return d};Ext.getDetachedBody=function(){if(!g){Ext.detachedBodyEl=g=new f(document.createElement("div"));g.isDetachedBody=true}return g}}));(Ext.cmd.derive("Ext.dom.CompositeElementLite",Ext.Base,{alternateClassName:["Ext.CompositeElementLite"],isComposite:true,isLite:true,statics:{importElementMethods:function(){var d=Ext.dom.Element,f=this.prototype;Ext.Object.each(d.prototype,function(c,b){if(typeof b==="function"&&!f[c]){f[c]=function(){return this.invoke(c,arguments)}}})}},constructor:function(f,d){if(d){this.elements=f||[]}else{this.elements=[];this.add(f)}},getElement:function(f){var d=this._fly||(this._fly=new Ext.dom.Fly());return d.attach(f)},transformElement:function(c){return Ext.getDom(c)},getCount:function(){return this.elements.length},add:function(m,j){var k=this.elements,n,l;if(!m){return this}if(typeof m=="string"){m=Ext.fly(j||document).query(m)}else{if(m.isComposite){m=m.elements}else{if(!Ext.isIterable(m)){m=[m]}}}for(n=0,l=m.length;n<l;++n){k.push(this.transformElement(m[n]))}return this},invoke:function(q,u){var o=this,n=o.elements,p=n.length,m,r,s;if(s!==0){m=(o.isLite?Ext.dom.Fly:Ext.dom.Element).prototype;for(s=0;s<p;s++){r=n[s];if(r){m[q].apply(o.getElement(r),u)}}}return o},item:function(j){var g=this.elements[j],f=null;if(g){f=this.getElement(g)}return f},slice:function(f,d){return Ext.Array.slice(this.elements,f,d)},each:function(o,p){var n=this,q=n.elements,l=q.length,r,m;for(r=0;r<l;r++){m=q[r];if(m){m=this.getElement(m);if(o.call(p||m,m,n,r)===false){break}}}return n},fill:function(d){var f=this;f.elements=[];f.add(d);return f},insert:function(f,d){Ext.Array.insert(this.elements,f,d)},filter:function(v){var p=this,u=p.elements,q=u.length,s=[],r=0,o=typeof v=="function",n,w;for(;r<q;r++){w=u[r];n=false;if(w){w=p.getElement(w);if(o){n=v.call(w,w,p,r)!==false}else{n=w.is(v)}if(n){s.push(p.transformElement(w))}}}p.elements=s;return p},indexOf:function(c){return Ext.Array.indexOf(this.elements,this.transformElement(c))},replaceElement:function(l,m,d){var n=!isNaN(l)?l:this.indexOf(l),k;if(n>-1){m=Ext.getDom(m);if(d){k=this.elements[n];k.parentNode.insertBefore(m,k);Ext.removeNode(k)}Ext.Array.splice(this.elements,n,1,m)}return this},clear:function(j){var k=this,l=k.elements,g=l.length-1;if(j){for(;g>=0;g--){Ext.removeNode(l[g])}}this.elements=[]},addElements:function(l,n){if(!l){return this}if(typeof l==="string"){l=Ext.dom.Element.selectorFunction(l,n)}var m=this.elements,j=l.length,k;for(k=0;k<j;k++){m.push(Ext.get(l[k]))}return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(c){return this.indexOf(c)!=-1},removeElement:function(q,n){q=[].concat(q);var r=this,p=r.elements,s=q.length,o,u,k;for(k=0;k<s;k++){o=q[k];if((u=(p[o]||p[o=r.indexOf(o)]))){if(n){if(u.dom){u.destroy()}else{Ext.removeNode(u)}}Ext.Array.erase(p,o,1)}}return r},destroy:function(){return this.invoke("destroy",arguments);this.callParent()}},1,0,0,0,0,0,[Ext.dom,"CompositeElementLite",Ext,"CompositeElementLite"],function(f){var d=f.prototype;f.importElementMethods();d.on=d.addListener}));Ext.define("Ext.overrides.dom.Element",(function(){var aC,aA=window,ag=document,Y="hidden",av="isClipped",aa="overflow",aq="overflow-x",ar="overflow-y",an="originalClip",ai="height",aG="width",aF="visibility",aK="display",ae="none",W="offsets",aI="clip",az="originalDisplay",ad="visibilityMode",am="isVisible",aB="x-hidden-offsets",aw="x-hidden-clip",V=['<div class="{0}-tl" role="presentation">','<div class="{0}-tr" role="presentation">','<div class="{0}-tc" role="presentation"></div>',"</div>","</div>",'<div class="{0}-ml" role="presentation">','<div class="{0}-mr" role="presentation">','<div class="{0}-mc" role="presentation"></div>',"</div>","</div>",'<div class="{0}-bl" role="presentation">','<div class="{0}-br" role="presentation">','<div class="{0}-bc" role="presentation"></div>',"</div>","</div>"].join(""),ab=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig,ah=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,aJ=/\ssrc=([\'\"])(.*?)\1/i,ax=/\S/,aD=/\stype=([\'\"])(.*?)\1/i,ak=/^-ms-/,aj=/(-[a-z])/gi,ac=function(c,b){return b.charAt(1).toUpperCase()},ay="x-masked",al="x-masked-relative",ap="x-mask-msg",at=/^body/i,au={},ao=function(b){var d=b.getData(),c=d[ad];if(c===undefined){d[ad]=c=aC.VISIBILITY}return c},X=ag.createRange?ag.createRange():null,af={INPUT:true,TEXTAREA:true};if(Ext.isIE8){var aE=ag.createElement("div"),Z=[],aH=Ext.Function.createBuffered(function(){var c=Z.length,b;for(b=0;b<c;b++){aE.appendChild(Z[b])}aE.innerHTML="";Z.length=0},10)}return{override:"Ext.dom.Element",mixins:[Ext.util.Animate],skipGarbageCollection:false,_init:function(b){aC=b;b.tabbableSelector+=",["+b.tabbableSavedCounterAttribute+"]"},statics:{selectableCls:"x-selectable",unselectableCls:"x-unselectable",tabbableSelector:Ext.supports.CSS3NegationSelector?'a[href],button,iframe,input,select,textarea,[tabindex]:not([tabindex="-1"]),[contenteditable="true"]':'a[href],button,iframe,input,select,textarea,[tabindex],[contenteditable="true"]',naturallyFocusableTags:{BUTTON:true,IFRAME:true,EMBED:true,INPUT:true,OBJECT:true,SELECT:true,TEXTAREA:true,HTML:Ext.isIE?true:false,BODY:Ext.isIE?false:true},naturallyTabbableTags:{BUTTON:true,IFRAME:true,INPUT:true,SELECT:true,TEXTAREA:true,OBJECT:Ext.isIE8m?true:false},tabbableSavedCounterAttribute:"data-tabindex-counter",tabbableSavedValueAttribute:"data-tabindex-value",normalize:function(b){if(b==="float"){b=Ext.supports.Float?"cssFloat":"styleFloat"}return au[b]||(au[b]=b.replace(ak,"ms-").replace(aj,ac))}},addKeyListener:function(b,d,f){var c;if(typeof b!=="object"||Ext.isArray(b)){c={target:this,key:b,fn:d,scope:f}}else{c={target:this,key:b.key,shift:b.shift,ctrl:b.ctrl,alt:b.alt,fn:d,scope:f}}return new Ext.util.KeyMap(c)},addKeyMap:function(b){return new Ext.util.KeyMap(Ext.apply({target:this},b))},afterAnimate:function(){var b=this.shadow;if(b&&!b.disabled&&!b.animate){b.show()}},anchorAnimX:function(c){var b=(c==="l")?"right":"left";this.dom.style[b]="0px"},anim:function(c){if(!Ext.isObject(c)){return(c)?{}:false}var b=this,g=c.duration||Ext.fx.Anim.prototype.duration,d=c.easing||"ease",f;if(c.stopAnimation){b.stopAnimation()}Ext.applyIf(c,Ext.fx.Manager.getFxDefaults(b.id));Ext.fx.Manager.setFxDefaults(b.id,{delay:0});f={target:b.dom,remove:c.remove,alternate:c.alternate||false,duration:g,easing:d,callback:c.callback,listeners:c.listeners,iterations:c.iterations||1,scope:c.scope,block:c.block,concurrent:c.concurrent,delay:c.delay||0,paused:true,keyframes:c.keyframes,from:c.from||{},to:Ext.apply({},c),userConfig:c};Ext.apply(f.to,c.to);delete f.to.to;delete f.to.from;delete f.to.remove;delete f.to.alternate;delete f.to.keyframes;delete f.to.iterations;delete f.to.listeners;delete f.to.target;delete f.to.paused;delete f.to.callback;delete f.to.scope;delete f.to.duration;delete f.to.easing;delete f.to.concurrent;delete f.to.block;delete f.to.stopAnimation;delete f.to.delay;return f},animate:function(b){this.addAnimation(b);return this},addAnimation:function(j){var f=this,b=f.dom.id||Ext.id(f.dom),g,d,c;if(!Ext.fx.Manager.hasFxBlock(b)){if(j.listeners){g=j.listeners;delete j.listeners}if(j.internalListeners){j.listeners=j.internalListeners;delete j.internalListeners}c=j.autoEnd;delete j.autoEnd;d=new Ext.fx.Anim(f.anim(j));d.on({afteranimate:"afterAnimate",beforeanimate:"beforeAnimate",scope:f,single:true});if(g){d.on(g)}Ext.fx.Manager.queueFx(d);if(c){d.jumpToEnd()}}return d},beforeAnimate:function(){var b=this.shadow;if(b&&!b.disabled&&!b.animate){b.hide()}},boxWrap:function(c){c=c||"x-box";var b=Ext.get(this.insertHtml("beforeBegin","<div class='"+c+"' role='presentation'>"+Ext.String.format(V,c)+"</div>"));b.selectNode("."+c+"-mc").appendChild(this.dom);return b},clean:function(b){var j=this,g=j.dom,f=j.getData(),d=g.firstChild,k=-1,c;if(f.isCleaned&&b!==true){return j}while(d){c=d.nextSibling;if(d.nodeType===3){if(!(ax.test(d.nodeValue))){g.removeChild(d)}else{if(c&&c.nodeType===3){d.appendData(Ext.String.trim(c.data));g.removeChild(c);c=d.nextSibling;d.nodeIndex=++k}}}else{Ext.fly(d,"_clean").clean();d.nodeIndex=++k}d=c}f.isCleaned=true;return j},empty:X?function(){var b=this.dom;if(b.firstChild){X.setStartBefore(b.firstChild);X.setEndAfter(b.lastChild);X.deleteContents()}}:function(){var b=this.dom;while(b.lastChild){b.removeChild(b.lastChild)}},clearListeners:function(){this.removeAnchor();arguments.callee.$previous.call(this)},clearPositioning:function(b){b=b||"";return this.setStyle({left:b,right:b,top:b,bottom:b,"z-index":"",position:"static"})},createProxy:function(c,d,f){c=(typeof c==="object")?c:{tag:"div",role:"presentation",cls:c};var g=this,b=d?Ext.DomHelper.append(d,c,true):Ext.DomHelper.insertBefore(g.dom,c,true);b.setVisibilityMode(aC.DISPLAY);b.hide();if(f&&g.setBox&&g.getBox){b.setBox(g.getBox())}return b},clearOpacity:function(){return this.setOpacity("")},clip:function(){var b=this,d=b.getData(),c;if(!d[av]){d[av]=true;c=b.getStyle([aa,aq,ar]);d[an]={o:c[aa],x:c[aq],y:c[ar]};b.setStyle(aa,Y);b.setStyle(aq,Y);b.setStyle(ar,Y)}return b},destroy:function(){var g=this,d=g.dom,f=g.getData(),b,c;if(d){if(g.isAnimate){g.stopAnimation()}g.removeAnchor()}arguments.callee.$previous.call(this);if(d&&Ext.isIE8&&(d.window!=d)&&(d.nodeType!==9)&&(d.tagName!=="BODY")&&(d.tagName!=="HTML")){Z[Z.length]=d;aH()}if(f){b=f.maskEl;c=f.maskMsg;if(b){b.destroy()}if(c){c.destroy()}}},enableDisplayMode:function(b){var c=this;c.setVisibilityMode(aC.DISPLAY);if(b!==undefined){c.getData()[az]=b}return c},fadeIn:function(d){var c=this,b=c.dom;c.animate(Ext.apply({},d,{opacity:1,internalListeners:{beforeanimate:function(f){var g=Ext.fly(b,"_anim");if(g.isStyle("display","none")){g.setDisplayed("")}else{g.show()}}}}));return this},fadeOut:function(d){var c=this,b=c.dom;d=Ext.apply({opacity:0,internalListeners:{afteranimate:function(f){if(b&&f.to.opacity===0){var g=Ext.fly(b,"_anim");if(d.useDisplay){g.setDisplayed(false)}else{g.hide()}}}}},d);c.animate(d);return c},fixDisplay:function(){var b=this;if(b.isStyle(aK,ae)){b.setStyle(aF,Y);b.setStyle(aK,b._getDisplay());if(b.isStyle(aK,ae)){b.setStyle(aK,"block")}}},frame:function(c,g,f){var j=this,d=j.dom,b;c=c||"#C3DAF9";g=g||1;f=f||{};b=function(){var l=Ext.fly(d,"_anim"),m=this,k,n,o;l.show();k=l.getBox();n=Ext.getBody().createChild({role:"presentation",id:l.dom.id+"-anim-proxy",style:{position:"absolute","pointer-events":"none","z-index":35000,border:"0px solid "+c}});o=new Ext.fx.Anim({target:n,duration:f.duration||1000,iterations:g,from:{top:k.y,left:k.x,borderWidth:0,opacity:1,height:k.height,width:k.width},to:{top:k.y-20,left:k.x-20,borderWidth:10,opacity:0,height:k.height+40,width:k.width+40}});o.on("afteranimate",function(){n.destroy();m.end()})};j.animate({duration:(Math.max(f.duration,500)*2)||2000,listeners:{beforeanimate:{fn:b}},callback:f.callback,scope:f.scope});return j},getColor:function(b,l,d){var j=this.getStyle(b),k=d||d===""?d:"#",f,c,g=0;if(!j||(/transparent|inherit/.test(j))){return l}if(/^r/.test(j)){j=j.slice(4,j.length-1).split(",");c=j.length;for(;g<c;g++){f=parseInt(j[g],10);k+=(f<16?"0":"")+f.toString(16)}}else{j=j.replace("#","");k+=j.length===3?j.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):j}return(k.length>5?k.toLowerCase():l)},getLoader:function(){var b=this,d=b.getData(),c=d.loader;if(!c){d.loader=c=new Ext.ElementLoader({target:b})}return c},getPositioning:function(b){var c=this.getStyle(["left","top","position","z-index"]),d=this.dom;if(b){if(c.left==="auto"){c.left=d.offsetLeft+"px"}if(c.top==="auto"){c.top=d.offsetTop+"px"}}return c},ghost:function(c,f){var g=this,d=g.dom,b;c=c||"b";b=function(){var l=Ext.fly(d,"_anim"),m=l.getWidth(),n=l.getHeight(),k=l.getXY(),o=l.getPositioning(),j={opacity:0};switch(c){case"t":j.y=k[1]-n;break;case"l":j.x=k[0]-m;break;case"r":j.x=k[0]+m;break;case"b":j.y=k[1]+n;break;case"tl":j.x=k[0]-m;j.y=k[1]-n;break;case"bl":j.x=k[0]-m;j.y=k[1]+n;break;case"br":j.x=k[0]+m;j.y=k[1]+n;break;case"tr":j.x=k[0]+m;j.y=k[1]-n;break}this.to=j;this.on("afteranimate",function(){var p=Ext.fly(d,"_anim");if(p){p.hide();p.clearOpacity();p.setPositioning(o)}})};g.animate(Ext.applyIf(f||{},{duration:500,easing:"ease-out",listeners:{beforeanimate:b}}));return g},hide:function(b){if(typeof b==="string"){this.setVisible(false,b);return this}this.setVisible(false,this.anim(b));return this},highlight:function(d,g){var n=this,c=n.dom,l={},o,k,b,f,j,m;g=g||{};f=g.listeners||{};b=g.attr||"backgroundColor";l[b]=d||"ffff9c";if(!g.to){k={};k[b]=g.endColor||n.getColor(b,"ffffff","")}else{k=g.to}g.listeners=Ext.apply(Ext.apply({},f),{beforeanimate:function(){o=c.style[b];var p=Ext.fly(c,"_anim");p.clearOpacity();p.show();j=f.beforeanimate;if(j){m=j.fn||j;return m.apply(j.scope||f.scope||aA,arguments)}},afteranimate:function(){if(c){c.style[b]=o}j=f.afteranimate;if(j){m=j.fn||j;m.apply(j.scope||f.scope||aA,arguments)}}});n.animate(Ext.apply({},g,{duration:1000,easing:"ease-in",from:l,to:k}));return n},hover:function(b,c,f,g){var d=this;d.on("mouseenter",b,f||d.dom,g);d.on("mouseleave",c,f||d.dom,g);return d},initDD:function(f,b,d){var c=new Ext.dd.DD(Ext.id(this.dom),f,b);return Ext.apply(c,d)},initDDProxy:function(f,b,d){var c=new Ext.dd.DDProxy(Ext.id(this.dom),f,b);return Ext.apply(c,d)},initDDTarget:function(f,b,d){var c=new Ext.dd.DDTarget(Ext.id(this.dom),f,b);return Ext.apply(c,d)},isFocusable:function(){var b=this.dom,c=false,d;if(b&&!b.disabled){d=b.nodeName;c=!!Ext.Element.naturallyFocusableTags[d]||((d==="A"||d==="LINK")&&!!b.href)||b.getAttribute("tabIndex")!=null||b.contentEditable==="true";if(Ext.isIE8&&d==="INPUT"&&b.type==="hidden"){c=false}c=c&&this.isVisible(true)}return c},isInputField:function(){var b=this.dom,c=b.contentEditable;if((af[b.tagName]&&b.type!=="button")||(c===""||c==="true")){return true}return false},isTabbable:function(j){var g=this.dom,f=false,d,b,c;if(g&&!g.disabled){d=g.nodeName;c=g.getAttribute("tabIndex");b=c!=null;c-=0;if(d==="A"||d==="LINK"){if(g.href){f=b&&c<0?false:true}else{if(g.contentEditable==="true"){f=!b||(b&&c>=0)?true:false}else{f=b&&c>=0?true:false}}}else{if(g.contentEditable==="true"||Ext.Element.naturallyTabbableTags[d]){f=b&&c<0?false:true}else{if(b&&c>=0){f=true}}}if(Ext.isIE8&&d==="INPUT"&&g.type==="hidden"){f=false}f=f&&(j||((!this.component||this.component.isVisible(true))&&this.isVisible(true)))}return f},isMasked:function(c){var g=this,d=g.getData(),j=d.maskEl,b=d.maskMsg,f=false,k;if(j&&j.isVisible()){if(b){b.center(g)}f=true}else{if(c){k=g.findParentNode();if(k){return Ext.fly(k).isMasked(c)}}}return f},load:function(b){this.getLoader().load(b);return this},mask:function(d,j,c){var k=this,f=k.dom,g=k.getData(),l=g.maskEl,b;if(!(at.test(f.tagName)&&k.getStyle("position")==="static")){k.addCls(al)}if(l){l.destroy()}l=Ext.DomHelper.append(f,{role:"presentation",cls:"x-mask x-border-box",children:{role:"presentation",cls:j?ap+" "+j:ap,cn:{tag:"div",role:"presentation",cls:"x-mask-msg-inner",cn:{tag:"div",role:"presentation",cls:"x-mask-msg-text",html:d||""}}}},true);b=Ext.get(l.dom.firstChild);g.maskEl=l;k.addCls(ay);l.setDisplayed(true);if(typeof d==="string"){b.setDisplayed(true);b.center(k)}else{b.setDisplayed(false)}if(f===ag.body){l.addCls("x-mask-fixed")}k.saveTabbableState({skipSelf:f===ag.body});if(Ext.isIE9m&&f!==ag.body&&k.isStyle("height","auto")){l.setSize(undefined,c||k.getHeight())}return l},puff:function(f){var g=this,d=g.dom,b,j=g.getBox(),c=g.getStyle(["width","height","left","right","top","bottom","position","z-index","font-size","opacity"],true);f=Ext.applyIf(f||{},{easing:"ease-out",duration:500,useDisplay:false});b=function(){var k=Ext.fly(d,"_anim");k.clearOpacity();k.show();this.to={width:j.width*2,height:j.height*2,x:j.x-(j.width/2),y:j.y-(j.height/2),opacity:0,fontSize:"200%"};this.on("afteranimate",function(){var l=Ext.fly(d,"_anim");if(l){if(f.useDisplay){l.setDisplayed(false)}else{l.hide()}l.setStyle(c);Ext.callback(f.callback,f.scope)}})};g.animate({duration:f.duration,easing:f.easing,listeners:{beforeanimate:{fn:b}}});return g},selectable:function(){var b=this;b.dom.unselectable="";b.removeCls(aC.unselectableCls);b.addCls(aC.selectableCls);return b},setCapture:function(){var b=this.dom;if(Ext.isIE9m&&b.setCapture){b.setCapture()}},setHeight:function(c,b){var d=this;if(!b||!d.anim){arguments.callee.$previous.apply(this,arguments)}else{if(!Ext.isObject(b)){b={}}d.animate(Ext.applyIf({to:{height:c}},b))}return d},setHorizontal:function(){var b=this,c=b.verticalCls;delete b.vertical;if(c){delete b.verticalCls;b.removeCls(c)}delete b.setWidth;delete b.setHeight;if(!Ext.isIE8){delete b.getWidth;delete b.getHeight}delete b.styleHooks},updateText:function(d){var c=this,f,b;if(f){b=f.firstChild;if(!b||(b.nodeType!==3||b.nextSibling)){b=ag.createTextNode();c.empty();f.appendChild(b)}if(d){b.data=d}}},setHtml:function(l,b,d,k){var j=this,f,g,c;if(!j.dom){return j}l=l||"";g=j.dom;if(b!==true){g.innerHTML=l;Ext.callback(d,j);return j}f=Ext.id();l+='<span id="'+f+'" role="presentation"></span>';c=Ext.interval(function(){var s,o,p,q,r,m,n;if(!(m=ag.getElementById(f))){return false}clearInterval(c);Ext.removeNode(m);s=Ext.getHead().dom;while((o=ab.exec(l))){p=o[1];q=p?p.match(aJ):false;if(q&&q[2]){n=ag.createElement("script");n.src=q[2];r=p.match(aD);if(r&&r[2]){n.type=r[2]}s.appendChild(n)}else{if(o[2]&&o[2].length>0){if(k){Ext.functionFactory(o[2]).call(k)}else{Ext.globalEval(o[2])}}}}Ext.callback(d,k||j)},20);g.innerHTML=l.replace(ah,"");return j},setOpacity:function(b,c){var d=this;if(!d.dom){return d}if(!c||!d.anim){d.setStyle("opacity",b)}else{if(typeof c!="object"){c={duration:350,easing:"ease-in"}}d.animate(Ext.applyIf({to:{opacity:b}},c))}return d},setPositioning:function(b){return this.setStyle(b)},setVertical:function(d,c){var f=this,b=aC.prototype;f.vertical=true;if(c){f.addCls(f.verticalCls=c)}f.setWidth=b.setHeight;f.setHeight=b.setWidth;if(!Ext.isIE8){f.getWidth=b.getHeight;f.getHeight=b.getWidth}f.styleHooks=(d===270)?b.verticalStyleHooks270:b.verticalStyleHooks90},setSize:function(f,c,b){var d=this;if(Ext.isObject(f)){b=c;c=f.height;f=f.width}if(!b||!d.anim){d.dom.style.width=aC.addUnits(f);d.dom.style.height=aC.addUnits(c);if(d.shadow||d.shim){d.syncUnderlays()}}else{if(b===true){b={}}d.animate(Ext.applyIf({to:{width:f,height:c}},b))}return d},setVisible:function(d,c){var g=this,f=g.dom,b=ao(g);if(typeof c==="string"){switch(c){case aK:b=aC.DISPLAY;break;case aF:b=aC.VISIBILITY;break;case W:b=aC.OFFSETS;break;case aI:b=aC.CLIP;break}g.setVisibilityMode(b);c=false}if(!c||!g.anim){if(b===aC.DISPLAY){return g.setDisplayed(d)}else{if(b===aC.OFFSETS){g[d?"removeCls":"addCls"](aB)}else{if(b===aC.CLIP){g[d?"removeCls":"addCls"](aw)}else{if(b===aC.VISIBILITY){g.fixDisplay();f.style.visibility=d?"":Y}}}}}else{if(d){g.setOpacity(0.01);g.setVisible(true)}if(!Ext.isObject(c)){c={duration:350,easing:"ease-in"}}g.animate(Ext.applyIf({callback:function(){if(!d){Ext.fly(f).setVisible(false).setOpacity(1)}},to:{opacity:(d)?1:0}},c))}g.getData()[am]=d;if(g.shadow||g.shim){g.setUnderlaysVisible(d)}return g},setWidth:function(b,c){var d=this;if(!c||!d.anim){arguments.callee.$previous.apply(this,arguments)}else{if(!Ext.isObject(c)){c={}}d.animate(Ext.applyIf({to:{width:b}},c))}return d},setX:function(c,b){return this.setXY([c,this.getY()],b)},setXY:function(d,c){var b=this;if(!c||!b.anim){arguments.callee.$previous.call(this,d)}else{if(!Ext.isObject(c)){c={}}b.animate(Ext.applyIf({to:{x:d[0],y:d[1]}},c))}return this},setY:function(b,c){return this.setXY([this.getX(),b],c)},show:function(b){if(typeof b==="string"){this.setVisible(true,b);return this}this.setVisible(true,this.anim(b));return this},slideIn:function(d,f,c){var n=this,g=n.dom,k=g.style,l,j,b,m;d=d||"t";f=f||{};l=function(){var v=this,o=f.listeners,p=Ext.fly(g,"_anim"),u,r,s,q;if(!c){p.fixDisplay()}u=p.getBox();if((d=="t"||d=="b")&&u.height===0){u.height=g.scrollHeight}else{if((d=="l"||d=="r")&&u.width===0){u.width=g.scrollWidth}}r=p.getStyle(["width","height","left","right","top","bottom","position","z-index"],true);p.setSize(u.width,u.height);if(f.preserveScroll){b=p.cacheScrollValues()}q=p.wrap({role:"presentation",id:Ext.id()+"-anim-wrap-for-"+p.dom.id,style:{visibility:c?"visible":"hidden"}});m=q.dom.parentNode;q.setPositioning(p.getPositioning());if(q.isStyle("position","static")){q.position("relative")}p.clearPositioning("auto");q.clip();if(b){b()}p.setStyle({visibility:"",position:"absolute"});if(c){q.setSize(u.width,u.height)}switch(d){case"t":s={from:{width:u.width+"px",height:"0px"},to:{width:u.width+"px",height:u.height+"px"}};k.bottom="0px";break;case"l":s={from:{width:"0px",height:u.height+"px"},to:{width:u.width+"px",height:u.height+"px"}};n.anchorAnimX(d);break;case"r":s={from:{x:u.x+u.width,width:"0px",height:u.height+"px"},to:{x:u.x,width:u.width+"px",height:u.height+"px"}};n.anchorAnimX(d);break;case"b":s={from:{y:u.y+u.height,width:u.width+"px",height:"0px"},to:{y:u.y,width:u.width+"px",height:u.height+"px"}};break;case"tl":s={from:{x:u.x,y:u.y,width:"0px",height:"0px"},to:{width:u.width+"px",height:u.height+"px"}};k.bottom="0px";n.anchorAnimX("l");break;case"bl":s={from:{y:u.y+u.height,width:"0px",height:"0px"},to:{y:u.y,width:u.width+"px",height:u.height+"px"}};n.anchorAnimX("l");break;case"br":s={from:{x:u.x+u.width,y:u.y+u.height,width:"0px",height:"0px"},to:{x:u.x,y:u.y,width:u.width+"px",height:u.height+"px"}};n.anchorAnimX("r");break;case"tr":s={from:{x:u.x+u.width,width:"0px",height:"0px"},to:{x:u.x,width:u.width+"px",height:u.height+"px"}};k.bottom="0px";n.anchorAnimX("r");break}q.show();j=Ext.apply({},f);delete j.listeners;j=new Ext.fx.Anim(Ext.applyIf(j,{target:q,duration:500,easing:"ease-out",from:c?s.to:s.from,to:c?s.from:s.to}));j.on("afteranimate",function(){var w=Ext.fly(g,"_anim");w.setStyle(r);if(c){if(f.useDisplay){w.setDisplayed(false)}else{w.hide()}}if(q.dom){if(q.dom.parentNode){q.dom.parentNode.insertBefore(w.dom,q.dom)}else{m.appendChild(w.dom)}q.destroy()}if(b){b()}v.end()});if(o){j.on(o)}};n.animate({duration:f.duration?Math.max(f.duration,500)*2:1000,listeners:{beforeanimate:l}});return n},slideOut:function(b,c){return this.slideIn(b,c,true)},swallowEvent:function(b,j){var f=this,d,c,g=function(k){k.stopPropagation();if(j){k.preventDefault()}};if(Ext.isArray(b)){c=b.length;for(d=0;d<c;d++){f.on(b[d],g)}return f}f.on(b,g);return f},switchOff:function(c){var f=this,d=f.dom,b;c=Ext.applyIf(c||{},{easing:"ease-in",duration:500,remove:false,useDisplay:false});b=function(){var j=Ext.fly(d,"_anim"),k=this,l=j.getSize(),g=j.getXY(),n,m;j.clearOpacity();j.clip();m=j.getPositioning();n=new Ext.fx.Animator({target:d,duration:c.duration,easing:c.easing,keyframes:{33:{opacity:0.3},66:{height:1,y:g[1]+l.height/2},100:{width:1,x:g[0]+l.width/2}}});n.on("afteranimate",function(){var o=Ext.fly(d,"_anim");if(c.useDisplay){o.setDisplayed(false)}else{o.hide()}o.clearOpacity();o.setPositioning(m);o.setSize(l);k.end()})};f.animate({duration:(Math.max(c.duration,500)*2),listeners:{beforeanimate:{fn:b}},callback:c.callback,scope:c.scope});return f},syncContent:function(g){g=Ext.getDom(g);var f=g.childNodes,k=f.length,m=this.dom,l=m.childNodes,o=l.length,q,n,c,r,d,j,p,b=m._extData;if(Ext.isIE9m&&m.mergeAttributes){m.mergeAttributes(g,true);m.src=g.src}else{d=g.attributes;j=d.length;for(q=0;q<j;q++){p=d[q].name;if(p!=="id"){m.setAttribute(p,d[q].value)}}}if(b){b.isSynchronized=false}if(k!==o){m.innerHTML=g.innerHTML;return}for(q=0;q<k;q++){c=f[q];n=l[q];r=c.nodeType;if(r!==n.nodeType||(r===1&&c.tagName!==n.tagName)){m.innerHTML=g.innerHTML;return}if(r===3){n.data=c.data}else{if(c.id&&n.id!==c.id){n.id=c.id}n.style.cssText=c.style.cssText;n.className=c.className;Ext.fly(n,"_syncContent").syncContent(c)}}},toggle:function(c){var b=this;b.setVisible(!b.isVisible(),b.anim(c));return b},unmask:function(){var f=this,d=f.getData(),b=d.maskEl,c;if(b){c=b.dom.style;if(c.clearExpression){c.clearExpression("width");c.clearExpression("height")}if(b){b.destroy();delete d.maskEl}f.removeCls([ay,al])}f.restoreTabbableState(f.dom===ag.body)},unclip:function(){var b=this,d=b.getData(),c;if(d[av]){d[av]=false;c=d[an];if(c.o){b.setStyle(aa,c.o)}if(c.x){b.setStyle(aq,c.x)}if(c.y){b.setStyle(ar,c.y)}}return b},translate:function(c,d,b){if(Ext.supports.CssTransforms&&!Ext.isIE9m){arguments.callee.$previous.apply(this,arguments)}else{if(c!=null){this.dom.style.left=c+"px"}if(d!=null){this.dom.style.top=d+"px"}}},unselectable:function(){var b=this;if(Ext.isOpera){b.dom.unselectable="on"}b.removeCls(aC.selectableCls);b.addCls(aC.unselectableCls);return b},privates:{findTabbableElements:function(k){var j,p,n,c,b,r=this.dom,s=Ext.Element.tabbableSavedCounterAttribute,l=[],m=0,g,d,u,q,o,f;if(!r){return l}if(k){j=k.skipSelf;p=k.skipChildren;n=k.excludeRoot;c=k.includeSaved;b=k.includeHidden}n=n&&Ext.getDom(n);if(n&&n.contains(r)){return l}if(!j&&((c&&r.hasAttribute(s))||this.isTabbable(b))){l[m++]=r}if(p){return l}g=r.querySelectorAll(Ext.Element.tabbableSelector);o=g.length;if(!o){return l}u=new Ext.dom.Fly();for(q=0;q<o;q++){d=g[q];f=+d.getAttribute("tabIndex");if(((c&&d.hasAttribute(s))||(!(f<0)&&u.attach(d).isTabbable(b)))&&!(n&&(n===d||n.contains(d)))){l[m++]=d}}return l},saveTabbableState:function(j){var d=Ext.Element.tabbableSavedCounterAttribute,k=Ext.Element.tabbableSavedValueAttribute,b,l,f,g,c;if(!j||j.includeSaved==null){j=Ext.Object.chain(j||null);j.includeSaved=true}l=this.findTabbableElements(j);for(g=0,c=l.length;g<c;g++){f=l[g];b=+f.getAttribute(d);if(b>0){f.setAttribute(d,++b)}else{if(f.hasAttribute("tabIndex")){f.setAttribute(k,f.getAttribute("tabIndex"))}else{f.setAttribute(k,"none")}f.setAttribute("tabIndex","-1");f.setAttribute(d,"1")}}return l},restoreTabbableState:function(j,o){var c=this.dom,m=Ext.Element.tabbableSavedCounterAttribute,l=Ext.Element.tabbableSavedValueAttribute,f=[],k,g,f,d,b,n;if(!c){return this}if(!o){f=Ext.Array.from(c.querySelectorAll("["+m+"]"))}if(!j){f.unshift(c)}for(b=0,n=f.length;b<n;b++){d=f[b];if(!d.hasAttribute(m)||!d.hasAttribute(l)){continue}g=+d.getAttribute(m);if(g>1){d.setAttribute(m,--g);continue}k=d.getAttribute(l);if(k==="none"){d.removeAttribute("tabIndex")}else{d.setAttribute("tabIndex",k)}d.removeAttribute(l);d.removeAttribute(m)}return f}},deprecated:{"4.0":{methods:{pause:function(c){var b=this;Ext.fx.Manager.setFxDefaults(b.id,{delay:c});return b},scale:function(c,b,d){this.animate(Ext.apply({},d,{width:c,height:b}));return this},shift:function(b){this.animate(b);return this}}},"4.2":{methods:{moveTo:function(c,d,b){return this.setXY([c,d],b)},setBounds:function(b,d,f,c,g){return this.setBox({x:b,y:d,width:f,height:c},g)},setLeftTop:function(d,f){var b=this,c=b.dom.style;c.left=aC.addUnits(d);c.top=aC.addUnits(f);if(b.shadow||b.shim){b.syncUnderlays()}return b},setLocation:function(c,d,b){return this.setXY([c,d],b)}}},"5.0":{methods:{getAttributeNS:function(b,c){return this.getAttribute(c,b)},getCenterXY:function(){return this.getAlignToXY(ag,"c-c")},getComputedHeight:function(){return Math.max(this.dom.offsetHeight,this.dom.clientHeight)||parseFloat(this.getStyle(ai))||0},getComputedWidth:function(){return Math.max(this.dom.offsetWidth,this.dom.clientWidth)||parseFloat(this.getStyle(aG))||0},getStyleSize:function(){var f=this,d=this.dom,b=(d===ag||d===ag.body),g,c,j;if(b){return{width:aC.getViewportWidth(),height:aC.getViewportHeight()}}g=f.getStyle(["height","width"],true);if(g.width&&g.width!=="auto"){c=parseFloat(g.width)}if(g.height&&g.height!=="auto"){j=parseFloat(g.height)}return{width:c||f.getWidth(true),height:j||f.getHeight(true)}},isBorderBox:function(){return true},isDisplayed:function(){return !this.isStyle("display","none")},focusable:"isFocusable"}}}}})(),function(){var H=Ext.dom.Element,I=H.prototype,N=!Ext.isIE8,Y=document,P=Y.defaultView,O=/alpha\(opacity=(.*)\)/i,T=/^\s+|\s+$/g,K=I.styleHooks,E=Ext.supports,V,L,W,F,U,J,X;I._init(H);delete I._init;Ext.plainTableCls="x-table-plain";Ext.plainListCls="x-list-plain";if(Ext.CompositeElementLite){Ext.CompositeElementLite.importElementMethods()}if(!E.Opacity&&Ext.isIE){Ext.apply(K.opacity,{get:function(c){var d=c.style.filter,f,b;if(d.match){f=d.match(O);if(f){b=parseFloat(f[1]);if(!isNaN(b)){return b?b/100:0}}}return 1},set:function(c,f){var b=c.style,d=b.filter.replace(O,"").replace(T,"");b.zoom=1;if(typeof(f)==="number"&&f>=0&&f<1){f*=100;b.filter=d+(d.length?" ":"")+"alpha(opacity="+f+")"}else{b.filter=d}}})}if(!E.matchesSelector){var R=/^([a-z]+|\*)?(?:\.([a-z][a-z\-_0-9]*))?$/i,Q=/\-/g,Z,k=function(b,d){var c=new RegExp("(?:^|\\s+)"+d.replace(Q,"\\-")+"(?:\\s+|$)");if(b&&b!=="*"){b=b.toUpperCase();return function(f){return f.tagName===b&&c.test(f.className)}}return function(f){return c.test(f.className)}},G=function(b){b=b.toUpperCase();return function(c){return c.tagName===b}},M={};I.matcherCache=M;I.is=function(b){if(!b){return true}var n=this.dom,d,l,f,g,j,m,c;if(n.nodeType!==1){return false}if(!(f=Ext.isFunction(b)?b:M[b])){if(!(l=b.match(R))){g=n.parentNode;if(!g){j=true;g=Z||(Z=Y.createDocumentFragment());Z.appendChild(n)}m=Ext.Array.indexOf(Ext.fly(g,"_is").query(b),n)!==-1;if(j){Z.removeChild(n)}return m}c=l[1];d=l[2];M[b]=f=d?k(c,d):G(c)}return f(n)}}if(!P||!P.getComputedStyle){I.getStyle=function(f,n){var m=this,r=m.dom,c=typeof f!=="string",v=f,l=v,o=1,u=n,w=m.styleHooks,d,p,g,j,s,b,q;if(c){g={};v=l[0];q=0;if(!(o=l.length)){return g}}if(!r||r.documentElement){return g||""}p=r.style;if(n){b=p}else{b=r.currentStyle;if(!b){u=true;b=p}}do{j=w[v];if(!j){w[v]=j={name:H.normalize(v)}}if(j.get){s=j.get(r,m,u,b)}else{d=j.name;s=b[d]}if(!c){return s}g[v]=s;v=l[++q]}while(q<o);return g}}if(Ext.isIE8){X=function(c,f,d,b){if(b[this.styleName]==="none"){return"0px"}return b[this.name]};W=["Top","Right","Bottom","Left"];F=W.length;while(F--){U=W[F];J="border"+U+"Width";K["border-"+U.toLowerCase()+"-width"]=K[J]={name:J,styleName:"border"+U+"Style",get:X}}var S="x-sync-repaint";I.syncRepaint=function(){this.addCls(S);this.getWidth();this.removeCls(S)}}if(Ext.isIE10m){Ext.override(H,{focus:function(c,d){var f=this,g;d=d||f.dom;if(Number(c)){Ext.defer(f.focus,c,f,[null,d])}else{Ext.GlobalEvents.fireEvent("beforefocus",d);if(d&&(d.tagName==="INPUT"||d.tagname==="TEXTAREA")){Ext.synchronouslyFocusing=document.activeElement}try{d.focus()}catch(b){g=b}if(Ext.synchronouslyFocusing&&document.activeElement!==d&&!g){d.focus()}Ext.synchronouslyFocusing=null}return f}})}Ext.apply(Ext,{enableGarbageCollector:true,isBorderBox:true,useShims:false,getElementById:function(c){var d=Y.getElementById(c),b;if(!d&&(b=Ext.detachedBodyEl)){d=b.dom.querySelector(Ext.makeIdSelector(c))}return d},addBehaviors:function(c){if(!Ext.isReady){Ext.onInternalReady(function(){Ext.addBehaviors(c)})}else{var g={},d,b,f;for(b in c){if((d=b.split("@"))[1]){f=d[0];if(!g[f]){g[f]=Ext.fly(document).select(f,true)}g[f].on(d[1],c[b])}}g=null}}});if(Ext.isIE9m){Ext.getElementById=function(c){var d=Y.getElementById(c),b;if(!d&&(b=Ext.detachedBodyEl)){d=b.dom.all[c]}return d};I.getById=function(c,b){var d=this.dom,j=null,f,g;if(d){g=(N&&Y.getElementById(c))||d.all[c];if(g){if(b){j=g}else{f=Ext.cache[c];if(f){if(f.skipGarbageCollection||!Ext.isGarbage(f.dom)){j=f}else{f.destroy()}}j=j||new Ext.Element(g)}}}return j}}else{if(!Y.querySelector){Ext.getDetachedBody=Ext.getBody;Ext.getElementById=function(b){return Y.getElementById(b)};I.getById=function(c,b){var d=Y.getElementById(c);return b?d:(d?Ext.get(d):null)}}}if(Ext.isIE&&!(Ext.isIE9p&&Y.documentMode>=9)){I.getAttribute=function(b,d){var c=this.dom,f;if(d){f=typeof c[d+":"+b];if(f!=="undefined"&&f!=="unknown"){return c[d+":"+b]||null}return null}if(b==="for"){b="htmlFor"}return c[b]||null}}Ext.onInternalReady(function(){var r=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,u=[],m=I.setWidth,l=I.setHeight,d=I.setSize,c=/^\d+(?:\.\d*)?px$/i,n,p,b,f;if(E.FixedTableWidthBug){K.width={name:"width",set:function(B,v,x){var y=B.style,A=x._needsTableWidthFix,w=y.display;if(A){y.display="none"}y.width=v;if(A){B.scrollWidth;y.display=w}}};I.setWidth=function(w,y){var C=this,B=C.dom,x=B.style,A=C._needsTableWidthFix,v=x.display;if(A&&!y){x.display="none"}m.call(C,w,y);if(A&&!y){B.scrollWidth;x.display=v}return C};I.setSize=function(v,y,x){var C=this,B=C.dom,w=B.style,A=C._needsTableWidthFix,D=w.display;if(A&&!x){w.display="none"}d.call(C,v,y,x);if(A&&!x){B.scrollWidth;w.display=D}return C}}if(Ext.isIE8){K.height={name:"height",set:function(B,v,x){var y=x.component,w,A;if(y&&y._syncFrameHeight&&x===y.el){A=y.frameBody.dom.style;if(c.test(v)){w=y.getFrameInfo();if(w){A.height=(parseInt(v,10)-w.height)+"px"}}else{if(!v||v==="auto"){A.height=""}}}B.style.height=v}};I.setHeight=function(A,x){var w=this.component,v,y;if(w&&w._syncFrameHeight&&this===w.el){y=w.frameBody.dom.style;if(!A||A==="auto"){y.height=""}else{v=w.getFrameInfo();if(v){y.height=(A-v.height)+"px"}}}return l.call(this,A,x)};I.setSize=function(v,A,x){var w=this.component,B,y;if(w&&w._syncFrameHeight&&this===w.el){y=w.frameBody.dom.style;if(!A||A==="auto"){y.height=""}else{B=w.getFrameInfo();if(B){y.height=(A-B.height)+"px"}}}return d.call(this,v,A,x)}}Ext.getDoc().on("selectstart",function(v,B){var w=H.selectableCls,x=H.unselectableCls,A=B&&B.tagName;A=A&&A.toLowerCase();if(A==="input"||A==="textarea"){return}while(B&&B.nodeType===1&&B!==Y.documentElement){var y=Ext.fly(B);if(y.hasCls(w)){return}if(y.hasCls(x)){v.stopEvent();return}B=B.parentNode}});function o(v,y,w,A){var x=A[this.name]||"";return r.test(x)?"transparent":x}function g(w,v,x){return function(){w.selectionStart=v;w.selectionEnd=x}}function j(v){var x=E.DisplayChangeInputSelectionBug,w=E.DisplayChangeTextAreaSelectionBug,C,A,B,y;if(x||w){C=H.getActiveElement();A=C&&C.tagName;if((w&&A==="TEXTAREA")||(x&&A==="INPUT"&&C.type==="text")){if(Ext.fly(v).isAncestor(C)){B=C.selectionStart;y=C.selectionEnd;if(Ext.isNumber(B)&&Ext.isNumber(y)){return g(C,B,y)}}}}return Ext.emptyFn}function q(B,w,C,x){var A=x.marginRight,y,v;if(A!=="0px"){y=B.style;v=y.display;y.display="inline-block";A=(C?x:B.ownerDocument.defaultView.getComputedStyle(B,null)).marginRight;y.display=v}return A}function s(B,v,C,w){var A=w.marginRight,x,y,D;if(A!=="0px"){x=B.style;y=j(B);D=x.display;x.display="inline-block";A=(C?w:B.ownerDocument.defaultView.getComputedStyle(B,"")).marginRight;x.display=D;y()}return A}if(!E.RightMargin){K.marginRight=K["margin-right"]={name:"marginRight",get:(E.DisplayChangeInputSelectionBug||E.DisplayChangeTextAreaSelectionBug)?s:q}}if(!E.TransparentColor){n=["background-color","border-color","color","outline-color"];for(p=n.length;p--;){b=n[p];f=H.normalize(b);K[b]=K[f]={name:f,get:o}}}I.verticalStyleHooks90=V=Ext.Object.chain(K);I.verticalStyleHooks270=L=Ext.Object.chain(K);V.width=K.height||{name:"height"};V.height=K.width||{name:"width"};V["margin-top"]={name:"marginLeft"};V["margin-right"]={name:"marginTop"};V["margin-bottom"]={name:"marginRight"};V["margin-left"]={name:"marginBottom"};V["padding-top"]={name:"paddingLeft"};V["padding-right"]={name:"paddingTop"};V["padding-bottom"]={name:"paddingRight"};V["padding-left"]={name:"paddingBottom"};V["border-top"]={name:"borderLeft"};V["border-right"]={name:"borderTop"};V["border-bottom"]={name:"borderRight"};V["border-left"]={name:"borderBottom"};L.width=K.height||{name:"height"};L.height=K.width||{name:"width"};L["margin-top"]={name:"marginRight"};L["margin-right"]={name:"marginBottom"};L["margin-bottom"]={name:"marginLeft"};L["margin-left"]={name:"marginTop"};L["padding-top"]={name:"paddingRight"};L["padding-right"]={name:"paddingBottom"};L["padding-bottom"]={name:"paddingLeft"};L["padding-left"]={name:"paddingTop"};L["border-top"]={name:"borderRight"};L["border-right"]={name:"borderBottom"};L["border-bottom"]={name:"borderLeft"};L["border-left"]={name:"borderTop"};if(!Ext.scopeCss){u.push("x-body")}if(E.Touch){u.push("x-touch")}if(Ext.isIE&&Ext.isIE9m){u.push("x-ie","x-ie9m");u.push("x-ie8p");if(Ext.isIE8){u.push("x-ie8")}else{u.push("x-ie9","x-ie9p")}if(Ext.isIE8m){u.push("x-ie8m")}}if(Ext.isIE10){u.push("x-ie10")}if(Ext.isIE10p){u.push("x-ie10p")}if(Ext.isIE11){u.push("x-ie11")}if(Ext.isEdge){u.push("x-edge")}if(Ext.isGecko){u.push("x-gecko")}if(Ext.isOpera){u.push("x-opera")}if(Ext.isOpera12m){u.push("x-opera12m")}if(Ext.isWebKit){u.push("x-webkit")}if(Ext.isSafari){u.push("x-safari")}if(Ext.isChrome){u.push("x-chrome")}if(Ext.isMac){u.push("x-mac")}if(Ext.isLinux){u.push("x-linux")}if(!E.CSS3BorderRadius){u.push("x-nbr")}if(!E.CSS3LinearGradient){u.push("x-nlg")}if(E.Touch){u.push("x-touch")}if(Ext.os.deviceType){u.push("x-"+Ext.os.deviceType.toLowerCase())}Ext.getBody().addCls(u)},null,{priority:1500})});(Ext.cmd.derive("Ext.GlobalEvents",Ext.mixin.Observable,{alternateClassName:"Ext.globalEvents",observableType:"global",singleton:true,resizeBuffer:100,idleEventMask:{mousemove:1,touchmove:1,pointermove:1,MSPointerMove:1,unload:1},constructor:function(){var c=this;c.callParent();Ext.onInternalReady(function(){c.attachListeners()})},attachListeners:function(){Ext.get(window).on("resize",this.fireResize,this,{buffer:this.resizeBuffer});Ext.getDoc().on("mousedown",this.fireMouseDown,this)},fireMouseDown:function(c){this.fireEvent("mousedown",c)},fireResize:function(){var j=this,l=Ext.Element,g=l.getViewportWidth(),k=l.getViewportHeight();if(j.curHeight!==k||j.curWidth!==g){j.curHeight=k;j.curWidth=g;j.fireEvent("resize",g,k)}}},1,0,0,0,0,0,[Ext,"GlobalEvents",Ext,"globalEvents"],function(c){Ext.on=function(){return c.addListener.apply(c,arguments)};Ext.un=function(){return c.removeListener.apply(c,arguments)};Ext.fireEvent=function(){return c.fireEvent.apply(c,arguments)}}));Ext.define("Ext.overrides.GlobalEvents",{override:"Ext.GlobalEvents",deprecated:{5:{methods:{addListener:function(s,p,o,n,u,v,r){var w,q;if(s==="ready"){q=p}else{if(typeof s!=="string"){for(w in s){if(w==="ready"){q=s[w]}}}}if(q){Ext.onReady(q)}this.callParent([s,p,o,n,u,v,r])}}}}});(Ext.cmd.derive("Ext.Glyph",Ext.Base,{isGlyph:true,constructor:function(c){c&&this.setGlyph(c)},setGlyph:function(f){var d;this.glyphConfig=f;if(typeof f==="string"){d=f.split("@");if(isNaN(f=isNaN(d[0])?parseInt("0"+d[0],16):parseInt(d[0],10))||!f){f=d[0].charCodeAt(0)}this.fontFamily=d[1]||Ext._glyphFontFamily}else{this.fontFamily=Ext._glyphFontFamily}this.codepoint=f;this.character=Ext.String.fromCodePoint(this.codepoint);return this},getStyle:function(){return{"font-family":this.fontFamily}},isEqual:function(c){return c&&c.isGlyph&&c.codepoint===this.codepoint&&c.fontFamily===this.fontFamily},statics:(function(){var c;return{fly:function(b){return b.isGlyph?b:(c||(c=new Ext.Glyph())).setGlyph(b)}}})()},1,0,0,0,0,0,[Ext,"Glyph"],0));Ext.USE_NATIVE_JSON=false;Ext.JSON=(new (function(){var me=this,hasNative=window.JSON&&JSON.toString()==="[object JSON]",useHasOwn=!!{}.hasOwnProperty,pad=function(n){return n<10?"0"+n:n},doDecode=function(json){return eval("("+json+")")},doEncode=function(o,newline){if(o===null||o===undefined){return"null"}else{if(Ext.isDate(o)){return me.encodeDate(o)}else{if(Ext.isString(o)){if(Ext.isMSDate(o)){return me.encodeMSDate(o)}else{return me.encodeString(o)}}else{if(typeof o==="number"){return isFinite(o)?String(o):"null"}else{if(Ext.isBoolean(o)){return String(o)}else{if(o.toJSON){return o.toJSON()}else{if(Ext.isArray(o)){return encodeArray(o,newline)}else{if(Ext.isObject(o)){return encodeObject(o,newline)}else{if(typeof o==="function"){return"null"}}}}}}}}}return"undefined"},m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","\v":"\\u000b"},charToReplace=/[\\\"\x00-\x1f\x7f-\uffff]/g,encodeString=function(s){return'"'+s.replace(charToReplace,function(a){var c=m[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"'},encodeMSDate=function(o){return'"'+o+'"'},encodeArrayPretty=function(o,newline){var len=o.length,cnewline=newline+"   ",sep=","+cnewline,a=["[",cnewline],i;for(i=0;i<len;i+=1){a.push(me.encodeValue(o[i],cnewline),sep)}a[a.length-1]=newline+"]";return a.join("")},encodeObjectPretty=function(o,newline){var cnewline=newline+"   ",sep=","+cnewline,a=["{",cnewline],i,val;for(i in o){val=o[i];if(!useHasOwn||o.hasOwnProperty(i)){if(typeof val==="function"||val===undefined){continue}a.push(me.encodeValue(i)+": "+me.encodeValue(val,cnewline),sep)}}a[a.length-1]=newline+"}";return a.join("")},encodeArray=function(o,newline){if(newline){return encodeArrayPretty(o,newline)}var a=["[",""],len=o.length,i;for(i=0;i<len;i+=1){a.push(me.encodeValue(o[i]),",")}a[a.length-1]="]";return a.join("")},encodeObject=function(o,newline){if(newline){return encodeObjectPretty(o,newline)}var a=["{",""],i,val;for(i in o){val=o[i];if(!useHasOwn||o.hasOwnProperty(i)){if(typeof val==="function"||val===undefined){continue}a.push(me.encodeValue(i),":",me.encodeValue(val),",")}}a[a.length-1]="}";return a.join("")};me.encodeString=encodeString;me.encodeValue=doEncode;me.encodeDate=function(o){return'"'+o.getFullYear()+"-"+pad(o.getMonth()+1)+"-"+pad(o.getDate())+"T"+pad(o.getHours())+":"+pad(o.getMinutes())+":"+pad(o.getSeconds())+'"'};me.encode=function(o){if(hasNative&&Ext.USE_NATIVE_JSON){return JSON.stringify(o)}return me.encodeValue(o)};me.decode=function(json,safe){try{if(hasNative&&Ext.USE_NATIVE_JSON){return JSON.parse(json)}return doDecode(json)}catch(e){if(safe){return null}Ext.raise({sourceClass:"Ext.JSON",sourceMethod:"decode",msg:"You're trying to decode an invalid JSON String: "+json})}};me.encodeMSDate=encodeMSDate;if(!Ext.util){Ext.util={}}Ext.util.JSON=me;Ext.encode=me.encode;Ext.decode=me.decode})());(Ext.cmd.derive("Ext.mixin.Inheritable",Ext.Mixin,{mixinConfig:{id:"inheritable"},getInherited:function(n){var r=this,p=(n&&r.inheritedStateInner)||r.inheritedState,v=r.getRefOwner(),w=r.isContainer,o,u,s,q;if(!p||p.invalid){o=r.getRefOwner();q=r.ownerLayout;if(v){s=q?q===v.layout:true}r.inheritedState=p=Ext.Object.chain(o?o.getInherited(s):Ext.rootInheritedState);if(w){r.inheritedStateInner=u=Ext.Object.chain(p)}r.initInheritedState(p,u);p=(w&&n)?r.inheritedStateInner:r.inheritedState}return p},getInheritedConfig:function(k,j){var l=this.inheritedState,n,m;if(!l||l.invalid){l=this.getInherited()}m=l[k];if(j&&l.hasOwnProperty(k)){n=m;delete l[k];m=l[k];l[k]=n}return m},resolveListenerScope:function(l,k){var n=this,m=(typeof k==="boolean"),o=Ext._namedScopes[l],p;if(!o){p=n.getInheritedConfig("defaultListenerScope",m?k:true)||l||n}else{if(o.isController){p=n.getInheritedConfig("controller",m?k:!o.isSelf)}else{if(o.isSelf){p=n.getInheritedConfig("defaultListenerScope",m&&k)||n}else{if(o.isThis){p=n}}}}return p||null},resolveSatelliteListenerScope:function(m,k){var l=this,n=Ext._namedScopes[k],j;if(!n){j=l.getInheritedConfig("defaultListenerScope")||k||l}else{if(n.isController){j=l.getInheritedConfig("controller")}else{if(n.isSelf){j=l.getInheritedConfig("defaultListenerScope")||m}else{if(n.isThis){j=m}}}}return j||null},lookupReferenceHolder:function(c){return this.getInheritedConfig("referenceHolder",c!==false)||null},getRefOwner:function(){var c=this;return c.ownerCt||c.parent||c.$initParent||c.ownerCmp||c.floatParent},invalidateInheritedState:function(){var c=this.inheritedState;if(c){c.invalid=true;delete this.inheritedState}},privates:{fixReference:function(){var d=this,f;if(d.getReference()){f=d.lookupReferenceHolder();if(f){f.attachReference(d)}}},onInheritedAdd:function(j,f){var g=this;if(g.inheritedState&&f){g.invalidateInheritedState()}if(g.getReference()){Ext.ComponentManager.markReferencesDirty()}},onInheritedRemove:function(j){var f=this,g;if(f.getReference()){g=f.lookupReferenceHolder();if(g){g.clearReference(f)}}if(f.inheritedState&&!j){f.invalidateInheritedState()}}}},0,0,0,0,0,0,[Ext.mixin,"Inheritable"],function(){Ext.rootInheritedState={}}));(Ext.cmd.derive("Ext.mixin.Bindable",Ext.Base,{mixinId:"bindable",config:{bind:{$value:null,lazy:true},controller:null,defaultListenerScope:false,publishes:{$value:null,lazy:true,merge:function(f,d){return this.mergeSets(f,d)}},reference:null,session:{$value:null,lazy:true},twoWayBindable:{$value:null,lazy:true,merge:function(f,d){return this.mergeSets(f,d)}},viewModel:{$value:null,lazy:true}},defaultBindProperty:null,validRefRe:/^[a-z_][a-z0-9_]*$/i,initInheritedState:function(p){var o=this,l=o.getReference(),r=o.getController(),q=o.getConfig("viewModel",true),m=o.getConfig("session",true),n=o.getDefaultListenerScope();if(r){p.controller=r}if(n){p.defaultListenerScope=o}else{if(r){p.defaultListenerScope=r}}if(q){if(!q.isViewModel){q=o}p.viewModel=q}if(m){if(!m.isSession){m=o}p.session=m}if(l){o.referenceKey=(p.referencePath||"")+l;o.viewModelKey=(p.viewModelPath||"")+l}},lookupController:function(c){return this.getInheritedConfig("controller",c)||null},lookupSession:function(d){var f=d?null:this.getSession();if(!f){f=this.getInheritedConfig("session",d);if(f&&!f.isSession){f=f.getInherited().session=f.getSession()}}return f||null},lookupViewModel:function(d){var f=d?null:this.getViewModel();if(!f){f=this.getInheritedConfig("viewModel",d);if(f&&!f.isViewModel){f=f.getInherited().viewModel=f.getViewModel()}}return f||null},publishState:function(q,r){var s=this,A=s.publishedState,w=s.getBind(),u=w&&q&&w[q],v=0,y,B,x,p;if(u&&!u.syncing&&!u.isReadOnly()){if(!(u.calls===0&&(r==null||r===s.getInitialConfig()[q]))){u.setValue(r)}}if(!(B=s.getPublishes())){return}if(!(x=s.lookupViewModel())){return}if(!(p=s.viewModelKey)){return}if(q&&A){if(!B[q]){return}if(!(r&&r.constructor===Object)&&!(r instanceof Array)){if(A[q]===r){return}}p+=".";p+=q}else{A=A||(s.publishedState={});for(y in B){++v;if(y===q){A[y]=r}else{A[y]=s[y]}}if(!v){return}r=A}x.set(p,r)},privates:{addBindableUpdater:function(m){var n=this,l=n.self.$config.configs,j=l[m],k;if(j&&!n.hasOwnProperty(k=j.names.update)){n[k]=j.bindableUpdater||(j.root.bindableUpdater=n.makeBindableUpdater(j))}},applyBind:function(w,b){if(!w){return w}var u=this,q=u.lookupViewModel(),v=u.getTwoWayBindable(),y=u._getBindTemplateScope,s,p,x,r;u.$hasBinds=true;if(!b||typeof b==="string"){b={}}if(Ext.isString(w)){s=w;w={};w[u.defaultBindProperty]=s}for(p in w){x=w[p];s=b[p];if(s&&typeof s!=="string"){s.destroy();s=null;r=true}if(x){s=q.bind(x,u.onBindNotify,u);s._config=Ext.Config.get(p);s.getTemplateScope=y}if(r){delete b[p]}else{b[p]=s}if(v&&v[p]){if(r){u.clearBindableUpdater(p)}else{if(!s.isReadOnly()){u.addBindableUpdater(p)}}}}return b},applyController:function(c){if(c){c=Ext.Factory.controller(c);c.setView(this)}return c},applyPublishes:function(d){if(this.lookupViewModel()){for(var f in d){this.addBindableUpdater(f)}}return d},applySession:function(g){if(!g){return null}if(!g.isSession){var j=this.lookupSession(true),f=(g===true)?{}:g;if(j){g=j.spawn(f)}else{g=new Ext.data.Session(f)}}return g},applyViewModel:function(l){var k=this,g,j;if(!l){return null}if(!l.isViewModel){g={parent:k.lookupViewModel(true),view:k};g.session=k.getSession();if(!j&&!g.parent){g.session=k.lookupSession()}if(l){if(l.constructor===Object){Ext.apply(g,l)}else{if(typeof l==="string"){g.type=l}}}l=Ext.Factory.viewModel(g)}return l},_getBindTemplateScope:function(){return this.scope.resolveListenerScope()},clearBindableUpdater:function(m){var n=this,l=n.self.$config.configs,j=l[m],k;if(j&&n.hasOwnProperty(k=j.names.update)){if(n[k].$bindableUpdater){delete n[k]}}},destroyBindable:function(){var k=this,l=k.getConfig("viewModel",true),j=k.getConfig("session",true),g=k.getController();if(l&&l.isViewModel){l.destroy();k.setViewModel(null)}if(j&&j.isSession){if(j.getAutoDestroy()){j.destroy()}k.setSession(null)}if(g){k.setController(null);g.destroy()}},initBindable:function(){this.initBindable=Ext.emptyFn;this.getBind();this.getPublishes()},makeBindableUpdater:function(f){var g=f.names.update,j=function(c,l){var d=this,b=d.self.prototype[g];if(b){b.call(d,c,l)}d.publishState(f.name,c)};j.$bindableUpdater=true;return j},isSyncing:function(l){var j=this.getBind(),g=false,k;if(j){k=j[l];if(k){g=k.syncing>0}}return g},onBindNotify:function(j,f,g){g.syncing=(g.syncing+1)||1;this[g._config.names.set](j);--g.syncing},removeBindings:function(){var l=this,j,g,k;if(l.$hasBinds){j=l.getBind();if(j&&typeof j!=="string"){for(g in j){k=j[g];k.destroy();k._config=k.getTemplateScope=null}}}l.setBind(null)},updateSession:function(f){var d=this.getInherited();if(f){d.session=f}else{delete d.session}},updateViewModel:function(j){var g=this.getInherited(),f=this.getController();if(j){g.viewModel=j;j.setView(this);if(f){f.initViewModel(j)}}else{delete g.viewModel}}}},0,0,0,0,0,0,[Ext.mixin,"Bindable"],0));(Ext.cmd.derive("Ext.mixin.ComponentDelegation",Ext.Mixin,{mixinConfig:{id:"componentDelegation"},privates:{addDelegatedListener:function(v,s,q,p,x,y,w){var u=this,A,B,r;v=Ext.canonicalEventName(v);x=x||p.order;if(x){r=(p&&p.priority);if(!r){p=p?Ext.Object.chain(p):{};p.priority=u.$orderToPriority[x]}}A=u.$delegatedEvents||(u.$delegatedEvents={});B=A[v]||(A[v]=new Ext.util.Event(u,v));if(B.addListener(s,q,p,y,w)){u.$hasDelegatedListeners._incr_(v)}},clearDelegatedListeners:function(){var l=this,n=l.$delegatedEvents,j,m,k;if(n){for(j in n){m=n[j];k=m.listeners.length;m.clearListeners();l.$hasDelegatedListeners._decr_(j,k);delete n[j]}}},doFireDelegatedEvent:function(r,p){var m=this,q=true,l,o,n;if(m.$hasDelegatedListeners[r]){l=m.getRefOwner();while(l){o=l.$delegatedEvents;if(o){n=o[r];if(n){q=n.fireDelegated(m,p);if(q===false){break}}}l=l.getRefOwner()}}return q},removeDelegatedListener:function(k,n,o){var l=this,p=l.$delegatedEvents,m;if(p){m=p[k];if(m&&m.removeListener(n,o)){l.$hasDelegatedListeners._decr_(k);if(m.listeners.length===0){delete p[k]}}}},destroyComponentDelegation:function(){if(this.clearPropertiesOnDestroy){this.$delegatedEvents=null}}},onClassMixedIn:function(d){function f(){}d.prototype.HasListeners=d.HasListeners=f;f.prototype=d.hasListeners=new Ext.mixin.ComponentDelegation.HasDelegatedListeners()}},0,0,0,0,0,0,[Ext.mixin,"ComponentDelegation"],function(f){function d(){}f.HasDelegatedListeners=d;d.prototype=f.prototype.$hasDelegatedListeners=new Ext.mixin.Observable.HasListeners()}));(Ext.cmd.derive("Ext.mixin.Pluggable",Ext.Base,function(f){var d=[];return{config:{plugins:null},addPlugin:function(b){var c=this,j=c.getPlugins();if(j){b=c.createPlugin(b);b.init(c);j.push(b)}else{c.setPlugins(b)}return b},destroyPlugin:function(b){return this.removePlugin(b,true)},findPlugin:function(m){var p=this.getPlugins(),b=p&&p.length,n,c,o;for(n=0;n<b&&!o;n++){c=p[n];if(c.type===m||c.ptype===m){o=c}}return o||null},getPlugin:function(b){var p=this.getPlugins(),c=p&&p.length,n,m,o;for(n=0;n<c&&!o;n++){m=p[n];if(m.id===b||m.pluginId===b){o=m}}return o||null},removePlugin:function(c,l){var n=this.getPlugins(),m=n&&n.length||0,b;while(m-->0){b=n[m];if(b===c||b.id===c){n.splice(m,1);if(l){if(b.destroy){b.destroy()}}else{if(b.detachCmp){b.detachCmp();if(b.setCmp){b.setCmp(null)}}}break}b=null}return b},privates:{statics:{idSeed:0},activatePlugin:function(n){var c=this,p=c.initialConfig,r=p&&p.plugins,q=null,o,b;if(r){r=d.concat(r);for(o=r.length;o-->0;){b=r[o];if(b===n||b.type===n){c.initialConfig=p=Ext.apply({},p);p.plugins=r;r[o]=q=c.createPlugin(b);break}}}return q},applyPlugins:function(q,r){var b=this,p=r&&r.length||0,c,o,n;q=q?d.concat(q):null;c=q&&q.length||0;for(o=0;o<p;++o){r[o].$dead=true}for(o=0;o<c;++o){q[o]=b.createPlugin(q[o])}for(o=0;o<c;++o){n=q[o];if(n.$dead){delete n.$dead}else{n.init(b)}}for(o=0;o<p;++o){if((n=r[o]).$dead){delete n.$dead;Ext.destroy(n)}}return q},createPlugin:function(b){if(typeof b==="string"){b={type:b}}var c=b;if(!b.isInstance){b.cmp=this;c=Ext.factory(b,null,null,"plugin");delete b.cmp}if(!c.id){c.id=++f.idSeed}if(c.setCmp){c.setCmp(this)}return c}}}},0,0,0,0,0,0,[Ext.mixin,"Pluggable"],0));(Ext.cmd.derive("Ext.Widget",Ext.Evented,{alternateClassName:"Ext.Gadget",isWidget:true,element:{reference:"element"},observableType:"component",cachedConfig:{baseCls:true,cls:null,style:null,border:null,touchAction:null},config:{ui:null,userCls:null},eventedConfig:{width:null,height:null,hidden:null},template:[],classCls:null,classClsRoot:true,clearPropertiesOnDestroy:"async",noBorderCls:"x-noborder-trbl",constructor:function(j){var g=this,f;g.initId(j);g.initElement();g.mixins.observable.constructor.call(g,j);Ext.ComponentManager.register(g);f=g.getController();if(f){f.init(g)}},afterCachedConfig:function(){var q=this,p=q.self.prototype,o=q.referenceList,w=q.renderElement,s,v,u,r,x,y;p.renderTemplate=s=document.createDocumentFragment();s.appendChild(w.clone(true,true));y=s.querySelectorAll("[id]");for(u=0,r=y.length;u<r;u++){v=y[u];v.removeAttribute("id")}for(u=0,r=o.length;u<r;u++){x=o[u];q[x].dom.removeAttribute("reference")}},addCls:function(c){this.el.addCls(c)},applyBaseCls:function(f){var j="x-",g=this.xtype;if(f===true){f=this.classCls||(j+g)}else{if(!f){f=j+g}}return f},applyCls:function(c){if(typeof c=="string"){c=[c]}if(!c||!c.length){c=null}return c},applyHidden:function(c){return !!c},applyTouchAction:function(d,f){if(f!=null){d=Ext.merge({},f,d)}return d},applyWidth:function(c){return this.filterLengthValue(c)},applyHeight:function(c){return this.filterLengthValue(c)},updateBorder:function(c){c=c||c===null;this.el.toggleCls(this.noBorderCls,!c)},clearListeners:function(){var c=this;c.mixins.observable.clearListeners.call(c);c.mixins.componentDelegation.clearDelegatedListeners.call(c)},destroy:function(){var c=this;c.isDestroying=c.destroying=true;c.doDestroy();c.clearListeners();c.isDestroying=c.destroying=false;c.mixins.componentDelegation.destroyComponentDelegation.call(c);Ext.Evented.prototype.destroy.call(this)},doDestroy:function(){var k=this,n=k.referenceList,m,l,j;for(m=0,l=n.length;m<l;m++){j=n[m];if(k.hasOwnProperty(j)){k[j].destroy();k[j]=null}}k.destroyBindable();Ext.ComponentManager.unregister(k)},doFireEvent:function(n,l,j){var k=this,m=k.mixins.observable.doFireEvent.call(k,n,l,j);if(m!==false){m=k.mixins.componentDelegation.doFireDelegatedEvent.call(k,n,l)}return m},getBubbleTarget:function(){return this.getRefOwner()},getElementConfig:function(){var f=this,d=f.element;if(!("children" in d)){d=Ext.apply({children:f.getTemplate()},d)}return d},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getTemplate:function(){return this.template},getClassCls:function(){var m=this.self.prototype,k=m,o,l,p,n;while(k){l=k.classCls;if(l){if(l instanceof Array){for(p=0,n=l.length;p<n;p++){(o||(o=[])).push(l[p])}}else{(o||(o=[])).push(l)}}if(k.classClsRoot&&k.hasOwnProperty("classClsRoot")){break}k=k.superclass}if(o){m.classClsList=o}return o},hide:function(){this.setHidden(true)},initElement:function(){var v=this,u=v.self.prototype,I=v.getId(),J=v.referenceList=v.referenceList=[],G=true,y=!u.hasOwnProperty("renderTemplate"),B,E,C,H,D,w,x,F,A;if(y){G=false;B=document.createDocumentFragment();E=Ext.Element.create(v.processElementConfig.call(u),true);B.appendChild(E)}else{B=v.renderTemplate.cloneNode(true);E=B.firstChild}H=B.querySelectorAll("[reference]");for(D=0,w=H.length;D<w;D++){x=H[D];F=x.getAttribute("reference");if(G){x.removeAttribute("reference")}if(F==="element"){x.id=I;C=v.el=v.addElementReference(F,x);C.dom.setAttribute("data-componentid",I);if(y){A=v.getClassCls();if(A){C.addCls(A)}}}else{v.addElementReferenceOnDemand(F,x)}J.push(F)}if(E===C.dom){v.renderElement=C}else{v.addElementReferenceOnDemand("renderElement",E)}},is:function(c){return Ext.ComponentQuery.is(this,c)},isHidden:function(j){var g=!!this.getHidden(),f;if(!g&&j){f=this.getRefOwner();while(f&&f!==j){g=!!f.getHidden();if(g){break}f=f.getRefOwner()}}return g},isVisible:function(c){return !this.isHidden(c)},isXType:function(f,d){return d?(Ext.Array.indexOf(this.xtypes,f)!==-1):!!this.xtypesMap[f]},lookupTpl:function(c){return Ext.XTemplate.getTpl(this,c)},removeCls:function(c){this.el.removeCls(c)},toggleCls:function(d,f){this.element.toggleCls(d,f)},resolveListenerScope:function(f,d){return this.mixins.inheritable.resolveListenerScope.call(this,f,d)},setSize:function(f,d){if(f&&typeof f==="object"){return this.setSize(f.width,f.height)}if(f!==undefined){this.setWidth(f)}if(d!==undefined){this.setHeight(d)}},show:function(){this.setHidden(false)},updateBaseCls:function(g,l){var j=this,k=j.element;if(l){k.removeCls(l)}if(g){k.addCls(g)}if(!j.isConfiguring){j.syncUiCls()}},updateCls:function(f,d){this.element.replaceCls(d,f)},updateHidden:function(f){var d=this.renderElement;if(d&&!d.destroyed){if(f){d.hide()}else{d.show()}}},applyStyle:function(f,d){if(d&&f===d&&Ext.isObject(d)){f=Ext.apply({},f)}return f},updateStyle:function(c){this.element.applyStyles(c)},updateTouchAction:function(k){var n,j,m,l;for(n in k){j=this[n];m=k[n];if(j&&j.isElement){j.setTouchAction(m)}else{l=true}}if(l){this.el.setTouchAction(k)}},updateUi:function(){this.syncUiCls()},updateWidth:function(c){this.element.setWidth(c)},updateHeight:function(c){this.element.setHeight(c)},up:function(p,o){var q=this.getRefOwner(),r=typeof o==="string",m=typeof o==="number",l=o&&o.isComponent,n=0;if(p){for(;q;q=q.getRefOwner()){n++;if(p.isComponent||p.isWidget){if(q===p){return q}}else{if(Ext.ComponentQuery.is(q,p)){return q}}if(r&&q.is(o)){return}if(m&&n===o){return}if(l&&q===o){return}}}return q},updateLayout:Ext.emptyFn,onFocusEnter:Ext.emptyFn,onFocusLeave:Ext.emptyFn,isAncestor:function(){return false},privates:{addElementReferenceOnDemand:function(d,f){if(this._elementListeners[d]){this.addElementReference(d,f)}else{Ext.Object.defineProperty(this,d,{get:function(){delete this[d];return this.addElementReference(d,f)},configurable:true})}},addElementReference:function(q,o){var n=this,r=n[q]=Ext.get(o),p=n._elementListeners[q],l,m;r.skipGarbageCollection=true;r.component=n;if(p){p=Ext.clone(p);for(l in p){m=p[l];if(typeof m==="object"){m.scope=n}}p.scope=n;r.on(p)}return r},detachFromBody:function(){Ext.getDetachedBody().appendChild(this.element);this.isDetached=true},doAddListener:function(F,v,u,r,D,E,B){var w=this,s=r&&r.element,x=r&&r.delegate,y,C,A;if(s){y={};y[F]=v;if(u){y.scope=u}C=Ext.Element.prototype.$eventOptions;for(A in r){if(C[A]){y[A]=r[A]}}w.mon(w[s],y);return}else{if(x){w.mixins.componentDelegation.addDelegatedListener.call(w,F,v,u,r,D,E,B);return}}Ext.Evented.prototype.doAddListener.call(this,F,v,u,r,D,E,B)},doRemoveListener:function(g,k,l){var j=this;j.mixins.observable.doRemoveListener.call(j,g,k,l);j.mixins.componentDelegation.removeDelegatedListener.call(j,g,k,l)},filterLengthValue:function(c){if(c==="auto"||(!c&&c!==0)){return null}return c},getFocusEl:function(){return this.element},initElementListeners:function(p){var q=this,x=q.self.superclass,y=x._elementListeners,w=p.reference,B=p.children,u,r,A,s,v;if(q.hasOwnProperty("_elementListeners")){u=q._elementListeners}else{u=q._elementListeners=(y?Ext.Object.chain(y):{})}if(w){r=p.listeners;if(r){if(y){A=y[w];if(A){r=Ext.Object.chain(A);Ext.apply(r,p.listeners)}}u[w]=r;p.listeners=null}}if(B){for(v=0,s=B.length;v<s;v++){q.initElementListeners(B[v])}}},initId:function(l){var k=this,g=k.config,j=(l&&l.id)||(g&&g.id);if(j){k.setId(j);k.id=j}else{k.getId()}},processElementConfig:function(){var f=this,g=f.self.superclass,j;if(f.hasOwnProperty("_elementConfig")){j=f._elementConfig}else{j=f._elementConfig=f.getElementConfig();if(g.isWidget){f.processElementConfig.call(g)}f.initElementListeners(j)}return j},reattachToBody:function(){this.isDetached=false},addUi:function(l){var n=this,m=n.getUi(),o,p,k;if(l){l=l.split(" ");k=l.length;m=(m&&m.split(" "))||[];for(o=0;o<k;o++){p=l[o];if(m.indexOf(p)===-1){m.push(p)}}n.setUi(m.join(" "))}},removeUi:function(m){var o=this,n=o.getUi(),p,r,q,l;if(m){m=m.split(" ");l=m.length;n=(n&&n.split(" "))||[];for(p=0;p<l;p++){r=m[p];q=n.indexOf(r);if(q!==-1){n.splice(q,1)}}o.setUi(n.join(" "))}},syncUiCls:function(){var s=this,r=s.getUi(),x=s.currentUiCls,y=s.element,w=s.getBaseCls(),j=s.classClsList,A=[],D,B,v,C,u;if(x){y.removeCls(x)}if(r){r=r.split(" ");for(B=0,v=r.length;B<v;B++){D="-"+r[B];if(w&&(w!==s.classCls)){A.push(w+D)}if(j){for(C=0,u=j.length;C<u;C++){A.push(j[C]+D)}}}y.addCls(A);s.currentUiCls=A}},updateUserCls:function(f,d){this.element.replaceCls(d,f)}}},1,["widget"],["widget"],{widget:true},["widget.widget"],[[Ext.mixin.Inheritable.prototype.mixinId||Ext.mixin.Inheritable.$className,Ext.mixin.Inheritable],[Ext.mixin.Bindable.prototype.mixinId||Ext.mixin.Bindable.$className,Ext.mixin.Bindable],[Ext.mixin.ComponentDelegation.prototype.mixinId||Ext.mixin.ComponentDelegation.$className,Ext.mixin.ComponentDelegation],[Ext.mixin.Pluggable.prototype.mixinId||Ext.mixin.Pluggable.$className,Ext.mixin.Pluggable]],[Ext,"Widget",Ext,"Gadget"],function(f){var d=f.prototype;(d.$elementEventOptions=Ext.Object.chain(Ext.Element.prototype.$eventOptions)).element=1;(d.$eventOptions=Ext.Object.chain(d.$eventOptions)).delegate=1}));Ext.define("Ext.overrides.Widget",{override:"Ext.Widget",$configStrict:false,isComponent:true,liquidLayout:true,rendered:true,rendering:true,config:{renderTo:null},constructor:function(f){var j=this,g;(arguments.callee.$previous||Ext.Evented.prototype.constructor).call(this,f);j.getComponentLayout();g=j.getRenderTo();if(g){j.render(g)}},addClsWithUI:function(c){this.el.addCls(c)},afterComponentLayout:Ext.emptyFn,updateLayout:function(){var c=this.getRefOwner();if(c){c.updateLayout()}},destroy:function(){var f=this,d=f.ownerCt;if(d&&d.remove){d.remove(f,false)}(arguments.callee.$previous||Ext.Evented.prototype.destroy).call(this)},finishRender:function(){this.rendering=false;this.initBindable()},getAnimationProps:function(){return{}},getComponentLayout:function(){var f=this,d=f.componentLayout;if(!d){d=f.componentLayout=new Ext.layout.component.Auto();d.setOwner(f)}return d},getEl:function(){return this.element},getTdCls:function(){return"x-"+this.getTdType()+"-"+(this.ui||"default")+"-cell"},getTdType:function(){return this.xtype},getItemId:function(){return this.itemId||this.id},getSizeModel:function(){return Ext.Component.prototype.getSizeModel.apply(this,arguments)},onAdded:function(l,j,g){var k=this;k.ownerCt=l;k.onInheritedAdd(k,g)},onRemoved:function(f){var d=this;if(!f){d.removeBindings()}d.onInheritedRemove(f);d.ownerCt=d.ownerLayout=null},parseBox:function(c){return Ext.Element.parseBox(c)},removeClsWithUI:function(c){this.el.removeCls(c)},render:function(p,k){var m=this,o=m.element,n=Ext.Component.prototype,l;if(!m.ownerCt||m.floating){if(Ext.scopeCss){o.addCls(n.rootCls)}o.addCls(n.borderBoxCls)}if(k){l=p.childNodes[k];if(l){Ext.fly(p).insertBefore(o,l);return}}Ext.fly(p).appendChild(o)},setPosition:function(d,f){this.el.setLocalXY(d,f)},up:function(){return Ext.Component.prototype.up.apply(this,arguments)},isAncestor:function(){return Ext.Component.prototype.isAncestor.apply(this,arguments)},onFocusEnter:function(){return Ext.Component.prototype.onFocusEnter.apply(this,arguments)},onFocusLeave:function(){return Ext.Component.prototype.onFocusLeave.apply(this,arguments)},isLayoutChild:function(f){var d=this.ownerCt;return d?(d===f||d.isLayoutChild(f)):false},privates:{doAddListener:function(p,m,n,q,l,r,o){if(p=="painted"||p=="resize"){this.element.doAddListener(p,m,n||this,q,l)}(arguments.callee.$previous||Ext.Evented.prototype.doAddListener).call(this,p,m,n,q,l,r,o)},doRemoveListener:function(f,g,j){if(f=="painted"||f=="resize"){this.element.doRemoveListener(f,g,j)}(arguments.callee.$previous||Ext.Evented.prototype.doRemoveListener).call(this,f,g,j)}}},function(f){var d=f.prototype;if(Ext.isIE9m){d.addElementReferenceOnDemand=d.addElementReference}});(Ext.cmd.derive("Ext.ProgressBase",Ext.Base,{mixinId:"progressbase",config:{value:0,textTpl:null},applyTextTpl:function(c){if(!c.isTemplate){c=new Ext.XTemplate(c)}return c},applyValue:function(c){return c||0}},0,0,0,0,0,0,[Ext,"ProgressBase"],0));(Ext.cmd.derive("Ext.util.Format",Ext.Base,function(){var c;return{singleton:true,defaultDateFormat:"m/d/Y",thousandSeparator:",",decimalSeparator:".",currencyPrecision:2,currencySign:"$",currencySpacer:"",percentSign:"%",currencyAtEnd:false,stripTagsRe:/<\/?[^>]+>/gi,stripScriptsRe:/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,nl2brRe:/\r?\n/g,hashRe:/#+$/,allHashes:/^#+$/,formatPattern:/[\d,\.#]+/,formatCleanRe:/[^\d\.#]/g,I18NFormatCleanRe:null,formatFns:{},constructor:function(){c=this},nbsp:function(b,f){f=f!==false;if(f?b===""||b==null:!b){b="\xa0"}return b},undef:function(b){return b!==undefined?b:""},defaultValue:function(b,f){return b!==undefined&&b!==""?b:f},substr:"ab".substr(-1)!="b"?function(k,b,l){var j=String(k);return(b<0)?j.substr(Math.max(j.length+b,0),l):j.substr(b,l)}:function(g,b,j){return String(g).substr(b,j)},lowercase:function(b){return String(b).toLowerCase()},uppercase:function(b){return String(b).toUpperCase()},usMoney:function(b){return c.currency(b,"$",2)},currency:function(r,p,s,u,b){var n="",o=",0",q=0;r=r-0;if(r<0){r=-r;n="-"}s=Ext.isDefined(s)?s:c.currencyPrecision;o+=(s>0?".":"");for(;q<s;q++){o+="0"}r=c.number(r,o);if(b==null){b=c.currencySpacer}if((u||c.currencyAtEnd)===true){return Ext.String.format("{0}{1}{2}{3}",n,r,b,p||c.currencySign)}else{return Ext.String.format("{0}{1}{2}{3}",n,p||c.currencySign,b,r)}},date:function(f,b){if(!f){return""}if(!Ext.isDate(f)){f=new Date(Date.parse(f))}return Ext.Date.dateFormat(f,b||Ext.Date.defaultFormat)},dateRenderer:function(b){return function(f){return c.date(f,b)}},hex:function(b,g){var j=parseInt(b||0,10).toString(16);if(g){if(g<0){g=-g;if(j.length>g){j=j.substring(j.length-g)}}while(j.length<g){j="0"+j}}return j},or:function(b,f){return b||f},pick:function(j,k,b){if(Ext.isNumber(j)){var l=arguments[j+1];if(l){return l}}return j?b:k},lessThanElse:function(n,s,b,u,o){var r=Ext.Number.from(n,0),p=Ext.Number.from(s,0),q=!Ext.isDefined(o);return r<p?b:(r>p?u:(q?u:o))},sign:function(b,k,l,j){if(j===undefined){j=l}return c.lessThanElse(b,0,k,l,j)},stripTags:function(b){return !b?b:String(b).replace(c.stripTagsRe,"")},stripScripts:function(b){return !b?b:String(b).replace(c.stripScriptsRe,"")},fileSize:(function(){var j=1024,g=1048576,b=1073741824;return function(d){var f;if(d<j){if(d===1){f="1 byte"}else{f=d+" bytes"}}else{if(d<g){f=(Math.round(((d*10)/j))/10)+" KB"}else{if(d<b){f=(Math.round(((d*10)/g))/10)+" MB"}else{f=(Math.round(((d*10)/b))/10)+" GB"}}}return f}})(),math:(function(){var b={};return function(g,j){if(!b[j]){b[j]=Ext.functionFactory("v","return v "+j+";")}return b[j](g)}}()),round:function(b,g){var j=Number(b);if(typeof g==="number"){g=Math.pow(10,g);j=Math.round(b*g)/g}else{if(g===undefined){j=Math.round(j)}}return j},number:function(v,C){if(!C){return v}if(isNaN(v)){return""}var D=c.formatFns[C];if(!D){var y=C,H=c.thousandSeparator,u=c.decimalSeparator,B=0,E="",F,x,w,b,G,A;if(C.substr(C.length-2)==="/i"){if(!c.I18NFormatCleanRe||c.lastDecimalSeparator!==u){c.I18NFormatCleanRe=new RegExp("[^\\d\\"+u+"#]","g");c.lastDecimalSeparator=u}C=C.substr(0,C.length-2);F=C.indexOf(H)!==-1;x=C.replace(c.I18NFormatCleanRe,"").split(u)}else{F=C.indexOf(",")!==-1;x=C.replace(c.formatCleanRe,"").split(".")}w=C.replace(c.formatPattern,"");if(x.length>2){}else{if(x.length===2){B=x[1].length;b=x[1].match(c.hashRe);if(b){A=b[0].length;E='trailingZeroes=new RegExp(Ext.String.escapeRegex(utilFormat.decimalSeparator) + "*0{0,'+A+'}$")'}}}G=["var utilFormat=Ext.util.Format,extNumber=Ext.Number,neg,absVal,fnum,parts"+(F?",thousandSeparator,thousands=[],j,n,i":"")+(w?',formatString="'+C+'",formatPattern=/[\\d,\\.#]+/':"")+',trailingZeroes;return function(v){if(typeof v!=="number"&&isNaN(v=extNumber.from(v,NaN)))return"";neg=v<0;',"absVal=Math.abs(v);","fnum=Ext.Number.toFixed(absVal, "+B+");",E,";"];if(F){if(B){G[G.length]='parts=fnum.split(".");';G[G.length]="fnum=parts[0];"}G[G.length]="if(absVal>=1000) {";G[G.length]="thousandSeparator=utilFormat.thousandSeparator;thousands.length=0;j=fnum.length;n=fnum.length%3||3;for(i=0;i<j;i+=n){if(i!==0){n=3;}thousands[thousands.length]=fnum.substr(i,n);}fnum=thousands.join(thousandSeparator);}";if(B){G[G.length]="fnum += utilFormat.decimalSeparator+parts[1];"}}else{if(B){G[G.length]='if(utilFormat.decimalSeparator!=="."){parts=fnum.split(".");fnum=parts[0]+utilFormat.decimalSeparator+parts[1];}'}}G[G.length]='if(neg&&fnum!=="'+(B?"0."+Ext.String.repeat("0",B):"0")+'") { fnum="-"+fnum; }';if(b){G[G.length]='fnum=fnum.replace(trailingZeroes,"");'}G[G.length]="return ";if(w){G[G.length]="formatString.replace(formatPattern, fnum);"}else{G[G.length]="fnum;"}G[G.length]="};";D=c.formatFns[y]=Ext.functionFactory("Ext",G.join(""))(Ext)}return D(v)},numberRenderer:function(b){return function(f){return c.number(f,b)}},percent:function(b,f){return c.number(b*100,f||"0")+c.percentSign},attributes:function(g){if(typeof g==="object"){var j=[],b;for(b in g){if(g.hasOwnProperty(b)){j.push(b,'="',b==="style"?Ext.DomHelper.generateStyles(g[b],null,true):Ext.htmlEncode(g[b]),'" ')}}g=j.join("")}return g||""},plural:function(b,g,j){return b+" "+(b===1?g:(j?j:g+"s"))},nl2br:function(b){return Ext.isEmpty(b)?"":b.replace(c.nl2brRe,"<br/>")},capitalize:Ext.String.capitalize,uncapitalize:Ext.String.uncapitalize,ellipsis:Ext.String.ellipsis,escape:Ext.String.escape,escapeRegex:Ext.String.escapeRegex,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,toggle:Ext.String.toggle,trim:Ext.String.trim,parseBox:function(g){g=g||0;if(typeof g==="number"){return{top:g,right:g,bottom:g,left:g}}var b=g.split(" "),j=b.length;if(j===1){b[1]=b[2]=b[3]=b[0]}else{if(j===2){b[2]=b[0];b[3]=b[1]}else{if(j===3){b[3]=b[1]}}}return{top:parseInt(b[0],10)||0,right:parseInt(b[1],10)||0,bottom:parseInt(b[2],10)||0,left:parseInt(b[3],10)||0}},uri:function(b){return encodeURI(b)},uriCmp:function(b){return encodeURIComponent(b)},wordBreakRe:/[\W\s]+/,word:function(k,m,n){var l=n?(typeof n==="string"?new RegExp(n):n):c.wordBreakRe,b=(k||"").split(l);return b[m||0]||""}}},1,0,0,0,0,0,[Ext.util,"Format"],0));(Ext.cmd.derive("Ext.Template",Ext.Base,{inheritableStatics:{from:function(f,d){f=Ext.getDom(f);return new this(f.value||f.innerHTML,d||"")}},useEval:Ext.isGecko,constructor:function(p){var n=this,r=arguments,l=[],q,o=r.length,m;n.initialConfig={};if(o===1&&Ext.isArray(p)){r=p;o=r.length}if(o>1){for(q=0;q<o;q++){m=r[q];if(typeof m==="object"){Ext.apply(n.initialConfig,m);Ext.apply(n,m)}else{l.push(m)}}}else{l.push(p)}n.html=l.join("")},isTemplate:true,disableFormats:false,tokenRe:/\{(?:(?:(\d+)|([a-z_][\w\-]*))(?::([a-z_\.]+)(?:\(([^\)]*?)?\))?)?)\}/gi,apply:function(d){var f=this;if(f.compiled){if(!f.fn){f.compile()}return f.fn(d).join("")}return f.evaluate(d)},evaluate:function(k){var l=this,o=!l.disableFormats,m=Ext.util.Format,p=l;function n(g,b,c,f,d){if(c==null||c===""){c=b}if(f&&o){if(d){d=[k[c]].concat(Ext.functionFactory("return ["+d+"];")())}else{d=[k[c]]}if(f.substr(0,5)==="this."){return p[f.substr(5)].apply(p,d)}else{if(m[f]){return m[f].apply(m,d)}else{return g}}}else{return k[c]!==undefined?k[c]:""}}return l.html.replace(l.tokenRe,n)},applyOut:function(f,j){var g=this;if(g.compiled){if(!g.fn){g.compile()}j.push.apply(j,g.fn(f))}else{j.push(g.apply(f))}return j},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(f,g){var j=this;j.html=f;j.compiled=!!g;j.fn=null;return j},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var f=this,d;d=f.html.replace(f.compileARe,"\\\\").replace(f.compileBRe,"\\n").replace(f.compileCRe,"\\'").replace(f.tokenRe,f.regexReplaceFn.bind(f));d=(this.disableFormats!==true?"var fm=Ext.util.Format;":"")+(f.useEval?"$=":"return")+" function(v){return ['"+d+"'];};";f.fn=f.useEval?f.evalCompiled(d):(new Function("Ext",d))(Ext);f.compiled=true;return f},evalCompiled:function($){eval($);return $},regexReplaceFn:function(l,m,n,k,j){if(m==null||m===""){m='"'+n+'"'}else{if(this.stringFormat){m=parseInt(m)+1}}if(k&&this.disableFormats!==true){j=j?","+j:"";if(k.substr(0,5)==="this."){k=k+"("}else{if(Ext.util.Format[k]){k="fm."+k+"("}else{return l}}return"',"+k+"v["+m+"]"+j+"),'"}else{return"',v["+m+"] == undefined ? '' : v["+m+"],'"}},insertFirst:function(j,f,g){return this.doInsert("afterBegin",j,f,g)},insertBefore:function(j,f,g){return this.doInsert("beforeBegin",j,f,g)},insertAfter:function(j,f,g){return this.doInsert("afterEnd",j,f,g)},append:function(j,f,g){return this.doInsert("beforeEnd",j,f,g)},doInsert:function(n,l,j,k){var m=Ext.DomHelper.insertHtml(n,Ext.getDom(l),this.apply(j));return k?Ext.get(m):m},overwrite:function(k,g,j){var l=Ext.DomHelper.overwrite(Ext.getDom(k),this.apply(g));return j?Ext.get(l):l}},1,0,0,0,0,0,[Ext,"Template"],function(l){var m=/\{\d+\}/,j=function(b){if(m.test(b)){b=new l(b,n);return function(){return b.apply(arguments)}}else{return function(){return b}}},n={useFormat:false,compiled:true,stringFormat:true},k={};Ext.String.format=Ext.util.Format.format=function(b){var c=k[b]||(k[b]=j(b));return c.apply(this,arguments)};Ext.String.formatEncode=function(){return Ext.String.htmlEncode(Ext.String.format.apply(this,arguments))}}));(Ext.cmd.derive("Ext.util.XTemplateParser",Ext.Base,{constructor:function(c){Ext.apply(this,c)},doTpl:Ext.emptyFn,parse:function(F){var H=this,C=F.length,D={elseif:"elif"},B=H.topRe,P=H.actionsRe,N,O,J,E,L,I,K,m,s,Q,M,R,G;H.level=0;H.stack=O=[];for(N=0;N<C;N=Q){B.lastIndex=N;E=B.exec(F);if(!E){H.doText(F.substring(N,C));break}s=E.index;Q=B.lastIndex;if(N<s){J=F.substring(N,s);if(!(G&&Ext.String.trim(J)==="")){H.doText(J)}}G=false;if(E[1]){Q=F.indexOf("%}",s+2);H.doEval(F.substring(s+2,Q));Q+=2}else{if(E[2]){Q=F.indexOf("]}",s+2);H.doExpr(F.substring(s+2,Q));Q+=2}else{if(E[3]){H.doTag(E[3])}else{if(E[4]){M=null;while((m=P.exec(E[4]))!==null){J=m[2]||m[3];if(J){J=Ext.String.htmlDecode(J);L=m[1];L=D[L]||L;M=M||{};I=M[L];if(typeof I=="string"){M[L]=[I,J]}else{if(I){M[L].push(J)}else{M[L]=J}}}}if(!M){if(H.elseRe.test(E[4])){H.doElse()}else{if(H.defaultRe.test(E[4])){H.doDefault()}else{H.doTpl();O.push({type:"tpl"})}}}else{if(M["if"]){H.doIf(M["if"],M);O.push({type:"if"})}else{if(M["switch"]){H.doSwitch(M["switch"],M);O.push({type:"switch"});G=true}else{if(M["case"]){H.doCase(M["case"],M)}else{if(M.elif){H.doElseIf(M.elif,M)}else{if(M["for"]){++H.level;if(R=H.propRe.exec(E[4])){M.propName=R[1]||R[2]}H.doFor(M["for"],M);O.push({type:"for",actions:M})}else{if(M.foreach){++H.level;if(R=H.propRe.exec(E[4])){M.propName=R[1]||R[2]}H.doForEach(M.foreach,M);O.push({type:"foreach",actions:M})}else{if(M.exec){H.doExec(M.exec,M);O.push({type:"exec",actions:M})}}}}}}}}}else{if(E[0].length===5){O.push({type:"tpl"})}else{K=O.pop();H.doEnd(K.type,K.actions);if(K.type=="for"||K.type=="foreach"){--H.level}}}}}}}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]+)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|foreach|exec|switch|case|eval|between)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/},1,0,0,0,0,0,[Ext.util,"XTemplateParser"],0));(Ext.cmd.derive("Ext.util.XTemplateCompiler",Ext.util.XTemplateParser,{useEval:Ext.isGecko,useIndex:Ext.isIE8m,useFormat:true,propNameRe:/^[\w\d\$]*$/,compile:function(f){var g=this,j=g.generate(f);return g.useEval?g.evalTpl(j):(new Function("Ext",j))(Ext)},generate:function(g){var j=this,l="var fm=Ext.util.Format,ts=Object.prototype.toString;",k;j.maxLevel=0;j.body=["var c0=values, a0="+j.createArrayTest(0)+", p0=parent, n0=xcount, i0=xindex, k0, v;\n"];if(j.definitions){if(typeof j.definitions==="string"){j.definitions=[j.definitions,l]}else{j.definitions.push(l)}}else{j.definitions=[l]}j.switches=[];j.parse(g);j.definitions.push((j.useEval?"$=":"return")+" function ("+j.fnArgs+") {",j.body.join(""),"}");k=j.definitions.join("\n");j.definitions.length=j.body.length=j.switches.length=0;delete j.definitions;delete j.body;delete j.switches;return k},doText:function(g){var j=this,f=j.body;g=g.replace(j.aposRe,"\\'").replace(j.newLineRe,"\\n");if(j.useIndex){f.push("out[out.length]='",g,"'\n")}else{f.push("out.push('",g,"')\n")}},doExpr:function(f){var d=this.body;d.push("if ((v="+f+") != null) out");if(this.useIndex){d.push("[out.length]=v+''\n")}else{d.push(".push(v+'')\n")}},doTag:function(d){var f=this.parseTag(d);if(f){this.doExpr(f)}else{this.doText("{"+d+"}")}},doElse:function(){this.body.push("} else {\n")},doEval:function(c){this.body.push(c,"\n")},doIf:function(j,g){var f=this;if(j==="."){f.body.push("if (values) {\n")}else{if(f.propNameRe.test(j)){f.body.push("if (",f.parseTag(j),") {\n")}else{f.body.push("if (",f.addFn(j),f.callFn,") {\n")}}if(g.exec){f.doExec(g.exec)}},doElseIf:function(j,g){var f=this;if(j==="."){f.body.push("else if (values) {\n")}else{if(f.propNameRe.test(j)){f.body.push("} else if (",f.parseTag(j),") {\n")}else{f.body.push("} else if (",f.addFn(j),f.callFn,") {\n")}}if(g.exec){f.doExec(g.exec)}},doSwitch:function(g){var j=this,f;if(g==="."||g==="#"){f=g==="."?"values":"xindex";j.body.push("switch (",f,") {\n")}else{if(j.propNameRe.test(g)){j.body.push("switch (",j.parseTag(g),") {\n")}else{j.body.push("switch (",j.addFn(g),j.callFn,") {\n")}}j.switches.push(0)},doCase:function(m){var n=this,o=Ext.isArray(m)?m:[m],l=n.switches.length-1,k,p;if(n.switches[l]){n.body.push("break;\n")}else{n.switches[l]++}for(p=0,l=o.length;p<l;++p){k=n.intRe.exec(o[p]);o[p]=k?k[1]:("'"+o[p].replace(n.aposRe,"\\'")+"'")}n.body.push("case ",o.join(": case "),":\n")},doDefault:function(){var d=this,f=d.switches.length-1;if(d.switches[f]){d.body.push("break;\n")}else{d.switches[f]++}d.body.push("default:\n")},doEnd:function(l,j){var k=this,g=k.level-1;if(l=="for"||l=="foreach"){if(j.exec){k.doExec(j.exec)}k.body.push("}\n");k.body.push("parent=p",g,";values=r",g+1,";xcount=n"+g+";xindex=i",g,"+1;xkey=k",g,";\n")}else{if(l=="if"||l=="switch"){k.body.push("}\n")}}},doFor:function(o,m){var p=this,q,r=p.level,l=r-1,n;if(o==="."){q="values"}else{if(p.propNameRe.test(o)){q=p.parseTag(o)}else{q=p.addFn(o)+p.callFn}}if(p.maxLevel<r){p.maxLevel=r;p.body.push("var ")}if(o=="."){n="c"+r}else{n="a"+l+"?c"+l+"[i"+l+"]:c"+l}p.body.push("i",r,"=0,n",r,"=0,c",r,"=",q,",a",r,"=",p.createArrayTest(r),",r",r,"=values,p",r,",k",r,";\n","p",r,"=parent=",n,"\n","if (c",r,"){if(a",r,"){n",r,"=c",r,".length;}else if (c",r,".isMixedCollection){c",r,"=c",r,".items;n",r,"=c",r,".length;}else if(c",r,".isStore){c",r,"=c",r,".data.items;n",r,"=c",r,".length;}else{c",r,"=[c",r,"];n",r,"=1;}}\n","for (xcount=n",r,";i",r,"<n"+r+";++i",r,"){\n","values=c",r,"[i",r,"]");if(m.propName){p.body.push(".",m.propName)}p.body.push("\n","xindex=i",r,"+1\n");if(m.between){p.body.push('if(xindex>1){ out.push("',m.between,'"); } \n')}},doForEach:function(o,m){var p=this,q,r=p.level,l=r-1,n;if(o==="."){q="values"}else{if(p.propNameRe.test(o)){q=p.parseTag(o)}else{q=p.addFn(o)+p.callFn}}if(p.maxLevel<r){p.maxLevel=r;p.body.push("var ")}if(o=="."){n="c"+r}else{n="a"+l+"?c"+l+"[i"+l+"]:c"+l}p.body.push("i",r,"=-1,n",r,"=0,c",r,"=",q,",a",r,"=",p.createArrayTest(r),",r",r,"=values,p",r,",k",r,";\n","p",r,"=parent=",n,"\n","for(k",r," in c",r,"){\n","xindex=++i",r,"+1;\n","xkey=k",r,";\n","values=c",r,"[k",r,"];");if(m.propName){p.body.push(".",m.propName)}if(m.between){p.body.push('if(xindex>1){ out.push("',m.between,'"); } \n')}},createArrayTest:("isArray" in Array)?function(c){return"Array.isArray(c"+c+")"}:function(c){return"ts.call(c"+c+')==="[object Array]"'},doExec:function(l,k){var m=this,j="f"+m.definitions.length,n=m.guards[m.strict?0:1];m.definitions.push("function "+j+"("+m.fnArgs+") {",n.doTry," var $v = values; with($v) {","  "+l," }",n.doCatch,"}");m.body.push(j+m.callFn+"\n")},guards:[{doTry:"",doCatch:""},{doTry:"try { ",doCatch:" } catch(e) {\n}"}],addFn:function(g){var j=this,l="f"+j.definitions.length,k=j.guards[j.strict?0:1];if(g==="."){j.definitions.push("function "+l+"("+j.fnArgs+") {"," return values","}")}else{if(g===".."){j.definitions.push("function "+l+"("+j.fnArgs+") {"," return parent","}")}else{j.definitions.push("function "+l+"("+j.fnArgs+") {",k.doTry," var $v = values; with($v) {","  return("+g+")"," }",k.doCatch,"}")}}return l},parseTag:function(u){var o=this,m=o.tagRe.exec(u),q,n,r,p,s;if(!m){return null}q=m[1];n=m[2];r=m[3];p=m[4];if(q=="."){if(!o.validTypes){o.definitions.push("var validTypes={string:1,number:1,boolean:1};");o.validTypes=true}s='validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'}else{if(q=="#"){s="xindex"}else{if(q=="$"){s="xkey"}else{if(q.substr(0,7)=="parent."){s=q}else{if(isNaN(q)&&q.indexOf("-")==-1&&q.indexOf(".")!=-1){s="values."+q}else{s="values['"+q+"']"}}}}}if(p){s="("+s+p+")"}if(n&&o.useFormat){r=r?","+r:"";if(n.substr(0,5)!="this."){n="fm."+n+"("}else{n+="("}}else{return s}return n+s+r+")"},evalTpl:function($){eval($);return $},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/^([\w-\.\#\$]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?$/},0,0,0,0,0,0,[Ext.util,"XTemplateCompiler"],function(){var c=this.prototype;c.fnArgs="out,values,parent,xindex,xcount,xkey";c.callFn=".call(this,"+c.fnArgs+")"}));(Ext.cmd.derive("Ext.XTemplate",Ext.Template,{isXTemplate:true,emptyObj:{},fn:null,strict:false,apply:function(g,l,k,j){return this.applyOut(g,[],l,k,j).join("")},applyOut:function(m,u,r,p,n){var q=this,s;if(!q.fn){s=new Ext.util.XTemplateCompiler({useFormat:q.disableFormats!==true,definitions:q.definitions,strict:q.strict});q.fn=s.compile(q.html)}p=p||1;n=n||1;if(q.strict){q.fn(u,m,r||q.emptyObj,p,n)}else{try{q.fn(u,m,r||q.emptyObj,p,n)}catch(o){}}return u},compile:function(){return this},statics:{getTpl:function(l,j){var k=l[j],g;if(k&&!k.isTemplate){k=Ext.ClassManager.dynInstantiate("Ext.XTemplate",k);if(l.hasOwnProperty(j)){g=l}else{for(g=l.self.prototype;g&&!g.hasOwnProperty(j);g=g.superclass){}}g[j]=k;k.owner=g}return k||null}}},0,0,0,0,0,0,[Ext,"XTemplate"],0));(Ext.cmd.derive("Ext.app.EventDomain",Ext.Base,{statics:{instances:{}},isEventDomain:true,isInstance:false,constructor:function(){var c=this;if(!c.isInstance){Ext.app.EventDomain.instances[c.type]=c}c.bus={};c.monitoredClasses=[]},dispatch:function(A,v,x){v=Ext.canonicalEventName(v);var w=this,y=w.bus,u=y[v],D,F,G,E,s,B,C,H;if(!u){return true}for(D in u){if(u.hasOwnProperty(D)&&w.match(A,D,w.controller)){F=u[D];for(G in F){if(F.hasOwnProperty(G)){E=F[G];if(E.controller.isActive()){s=E.list;B=s.length;for(C=0;C<B;C++){H=s[C];if(H.fire.apply(H,x)===false){return false}}}}}}}return true},listen:function(S,K){var J=this,L=J.bus,P=J.idProperty,O=J.monitoredClasses,R=O.length,M=K.getId(),B=(J.type==="component"),G=B?K.getRefMap():null,E,N,D,F,U,T,V,H,I,C,Q;for(F in S){I=S[F];if(B){F=G[F]||F}if(I){if(P){F=F==="*"?F:F.substring(1)}for(C in I){U=null;T=I[C];V=K;C=Ext.canonicalEventName(C);H=new Ext.util.Event(K,C);if(Ext.isObject(T)){U=T;T=U.fn;V=U.scope||K;delete U.fn;delete U.scope}if(typeof T==="string"){T=V[T]}H.addListener(T,V,U);for(E=0;E<R;++E){Q=O[E].hasListeners;if(Q){Q._incr_(C)}}N=L[C]||(L[C]={});N=N[F]||(N[F]={});D=N[M]||(N[M]={controller:K,list:[]});D.list.push(H)}}}},match:function(g,f){var j=this.idProperty;if(j){return f==="*"||g[j]===f}return false},monitor:function(k){var l=this,g=k.isInstance?k:k.prototype,j=g.doFireEvent;l.monitoredClasses.push(k);g.doFireEvent=function(b,d){var c=this,f;f=j.apply(c,arguments);if(f!==false&&!c.destroyed&&!c.isSuspended(b)){f=l.dispatch(c,b,d)}return f}},unlisten:function(F){var x=this.bus,I=F,K=this.monitoredClasses,A=K.length,H,w,J,y,L,E,j,B,C,G,D;if(F.isController){I=F.getId()}for(w in x){w=Ext.canonicalEventName(w);if(x.hasOwnProperty(w)&&(j=x[w])){for(E in j){H=j[E];G=H[I];if(G){J=G.list;if(J){for(B=0,y=J.length;B<y;++B){L=J[B];L.clearListeners();for(C=0;C<A;++C){D=K[C].hasListeners;if(D){D._decr_(L.name)}}}delete H[I]}}}}}},destroy:function(){this.monitoredClasses=this.bus=null;this.callParent()}},1,0,0,0,0,0,[Ext.app,"EventDomain"],0));(Ext.cmd.derive("Ext.app.domain.Component",Ext.app.EventDomain,{singleton:true,type:"component",constructor:function(){this.callParent();this.monitor(Ext.Widget)},dispatch:function(l,n,o){var p=l.lookupController(false),m,k;while(p){m=p.compDomain;if(m){if(m.dispatch(l,n,o)===false){return false}}k=p.getView();p=k?k.lookupController(true):null}return this.callParent(arguments)},match:function(f,d){return f.is(d)}},1,0,0,0,0,0,[Ext.app.domain,"Component"],0));(Ext.cmd.derive("Ext.util.ProtoElement",Ext.Base,function(){var f=Ext.String.splitWords,d=Ext.Array.toMap;return{isProtoEl:true,clsProp:"cls",styleProp:"style",removedProp:"removed",styleIsText:false,constructor:function(k){var b=this,l,c;if(k){Ext.apply(b,k);l=b.cls;c=b.style;delete b.cls}b.classList=l?f(l):[];b.classMap=l?d(b.classList):{};if(c){if(typeof c==="string"){b.style=Ext.Element.parseStyles(c)}else{if(Ext.isFunction(c)){b.styleFn=c;delete b.style}else{b.style=Ext.apply({},c)}}}},flush:function(){this.flushClassList=[];this.removedClasses={};delete this.style;delete this.unselectableAttr},addCls:function(b){if(!b){return this}var p=this,c=(typeof b==="string")?f(b):b,v=c.length,r=p.classList,w=p.classMap,u=p.flushClassList,s=0,q;for(;s<v;++s){q=c[s];if(!w[q]){w[q]=true;r.push(q);if(u){u.push(q);delete p.removedClasses[q]}}}return p},hasCls:function(b){return b in this.classMap},removeCls:function(b){var c=this,r=c.classList,w=(c.classList=[]),u=d(f(b)),x=r.length,y=c.classMap,s=c.removedClasses,v,q;for(v=0;v<x;++v){q=r[v];if(u[q]){if(s){if(y[q]){s[q]=true;Ext.Array.remove(c.flushClassList,q)}}delete y[q]}else{w.push(q)}}return c},setStyle:function(b,c){var k=this,l=k.style||(k.style={});if(typeof b==="string"){if(arguments.length===1){k.setStyle(Ext.Element.parseStyles(b))}else{l[b]=c}}else{Ext.apply(l,b)}return k},unselectable:function(){this.addCls(Ext.dom.Element.unselectableCls);if(Ext.isOpera){this.unselectableAttr=true}},writeTo:function(b){var l=this,c=l.flushClassList||l.classList,m=l.removedClasses,n;if(l.styleFn){n=Ext.apply({},l.styleFn());Ext.apply(n,l.style)}else{n=l.style}b[l.clsProp]=c.join(" ");if(n){b[l.styleProp]=l.styleIsText?Ext.DomHelper.generateStyles(n,null,true):n}if(m){m=Ext.Object.getKeys(m);if(m.length){b[l.removedProp]=m.join(" ")}}if(l.unselectableAttr){b.unselectable="on"}return b}}},1,0,0,0,0,0,[Ext.util,"ProtoElement"],0));(Ext.cmd.derive("Ext.dom.CompositeElement",Ext.dom.CompositeElementLite,{alternateClassName:"Ext.CompositeElement",isLite:false,getElement:function(c){return c},transformElement:function(c){return Ext.get(c)}},0,0,0,0,0,0,[Ext.dom,"CompositeElement",Ext,"CompositeElement"],0));(Ext.cmd.derive("Ext.util.CSS",Ext.Base,function(){var m,k=null,l=document,n=/(-[a-z])/gi,j=function(c,b){return b.charAt(1).toUpperCase()};return{singleton:true,rules:k,initialized:false,constructor:function(){m=this},createStyleSheet:function(c,g){var d,f=l.getElementsByTagName("head")[0],b=l.createElement("style");b.setAttribute("type","text/css");if(g){b.setAttribute("id",g)}d=b.styleSheet;if(d){f.appendChild(b);d.cssText=c}else{b.appendChild(l.createTextNode(c));f.appendChild(b);d=b.sheet}m.cacheStyleSheet(d);return d},removeStyleSheet:function(c){var b=(typeof c==="string")?l.getElementById(c):c.ownerNode;if(b){b.parentNode.removeChild(b)}},swapStyleSheet:function(b,d){var c;m.removeStyleSheet(b);c=l.createElement("link");c.setAttribute("rel","stylesheet");c.setAttribute("type","text/css");c.setAttribute("id",b);c.setAttribute("href",d);l.getElementsByTagName("head")[0].appendChild(c)},cacheStyleSheet:function(u){if(!k){k=m.rules={}}try{var f=u.cssRules||u.rules,v=f.length-1,c=u.imports,d=c?c.length:0,g,b;for(b=0;b<d;++b){m.cacheStyleSheet(c[b])}for(;v>=0;--v){g=f[v];if(g.styleSheet){m.cacheStyleSheet(g.styleSheet)}m.cacheRule(g,u)}}catch(s){}},cacheRule:function(c,f){if(c.styleSheet){return m.cacheStyleSheet(c.styleSheet)}var g=c.selectorText,b,d;if(g){g=g.split(",");b=g.length;for(d=0;d<b;d++){k[Ext.String.trim(g[d]).toLowerCase()]={parentStyleSheet:f,cssRule:c}}}},getRules:function(b){var c={},d;if(k===null||b){m.refreshCache()}for(d in k){c[d]=k[d].cssRule}return c},refreshCache:function(){var c=l.styleSheets,d=0,f=c.length;k=m.rules={};for(;d<f;d++){try{if(!c[d].disabled){m.cacheStyleSheet(c[d])}}catch(b){}}},getRule:function(d,b,c){var g,f;if(!k||b){m.refreshCache()}if(!Ext.isArray(d)){f=k[d.toLowerCase()];if(f&&!c){f=f.cssRule}return f||null}for(g=0;g<d.length;g++){if(k[d[g]]){return c?k[d[g].toLowerCase()]:k[d[g].toLowerCase()].cssRule}}return null},createRule:function(g,d,b){var f,p=g.cssRules||g.rules,c=p.length;if(g.insertRule){g.insertRule(d+" {"+b+"}",c)}else{g.addRule(d,b||" ")}m.cacheRule(f=p[c],g);return f},updateRule:function(f,p,b){var g,d,c;if(!Ext.isArray(f)){g=m.getRule(f);if(g){if(arguments.length===2){c=Ext.Element.parseStyles(p);for(p in c){g.style[p.replace(n,j)]=c[p]}}else{g.style[p.replace(n,j)]=b}return true}}else{for(d=0;d<f.length;d++){if(m.updateRule(f[d],p,b)){return true}}}return false},deleteRule:function(f){var c=m.getRule(f,false,true),b,d;if(c){b=c.parentStyleSheet;d=Ext.Array.indexOf(b.cssRules||b.rules,c.cssRule);if(b.deleteRule){b.deleteRule(d)}else{b.removeRule(d)}delete k[f]}}}},1,0,0,0,0,0,[Ext.util,"CSS"],0));(Ext.cmd.derive("Ext.fx.easing.Abstract",Ext.Base,{config:{startTime:0,startValue:0},isEasing:true,isEnded:false,constructor:function(c){this.initConfig(c);return this},applyStartTime:function(c){if(!c){c=Ext.Date.now()}return c},updateStartTime:function(c){this.reset()},reset:function(){this.isEnded=false},getValue:Ext.emptyFn},1,0,0,0,0,0,[Ext.fx.easing,"Abstract"],0));(Ext.cmd.derive("Ext.fx.easing.Linear",Ext.fx.easing.Abstract,{config:{duration:0,endValue:0},updateStartValue:function(c){this.distance=this.getEndValue()-c},updateEndValue:function(c){this.distance=c-this.getStartValue()},getValue:function(){var d=Ext.Date.now()-this.getStartTime(),f=this.getDuration();if(d>f){this.isEnded=true;return this.getEndValue()}else{return this.getStartValue()+((d/f)*this.distance)}}},0,0,0,0,["easing.linear"],0,[Ext.fx.easing,"Linear"],0));(Ext.cmd.derive("Ext.util.translatable.Abstract",Ext.Evented,{config:{useWrapper:null,easing:null,easingX:{duration:300},easingY:{duration:300}},x:0,y:0,activeEasingX:null,activeEasingY:null,isAnimating:false,isTranslatable:true,constructor:function(c){this.mixins.observable.constructor.call(this,c);this.position={x:0,y:0}},factoryEasing:function(c){return Ext.factory(c,Ext.fx.easing.Linear,null,"easing")},applyEasing:function(c){if(!this.getEasingX()){this.setEasingX(this.factoryEasing(c))}if(!this.getEasingY()){this.setEasingY(this.factoryEasing(c))}},applyEasingX:function(c){return this.factoryEasing(c)},applyEasingY:function(c){return this.factoryEasing(c)},doTranslate:function(d,f){if(this.hasListeners.translate){this.fireEvent("translate",this,d,f)}},translate:function(f,g,j){if(j){return this.translateAnimated(f,g,j)}if(this.isAnimating){this.stopAnimation()}if(!isNaN(f)&&typeof f=="number"){this.x=f}if(!isNaN(g)&&typeof g=="number"){this.y=g}this.doTranslate(f,g)},translateAxis:function(n,l,m){var j,k;if(n=="x"){j=l}else{k=l}return this.translate(j,k,m)},getPosition:function(){var f=this,d=f.position;d.x=-f.x;d.y=-f.y;return d},animate:function(f,d){this.activeEasingX=f;this.activeEasingY=d;this.isAnimating=true;this.lastX=null;this.lastY=null;Ext.AnimationQueue.start(this.doAnimationFrame,this);this.fireEvent("animationstart",this,this.x,this.y);return this},translateAnimated:function(u,n,p){var q=this;if(!Ext.isObject(p)){p={}}if(q.isAnimating){q.stopAnimation()}q.callback=p.callback;q.callbackScope=p.scope;var r=Ext.Date.now(),o=p.easing,s=(typeof u=="number")?(p.easingX||o||q.getEasingX()||true):null,m=(typeof n=="number")?(p.easingY||o||q.getEasingY()||true):null;if(s){s=q.factoryEasing(s);s.setStartTime(r);s.setStartValue(q.x);s.setEndValue(u);if("duration" in p){s.setDuration(p.duration)}}if(m){m=q.factoryEasing(m);m.setStartTime(r);m.setStartValue(q.y);m.setEndValue(n);if("duration" in p){m.setDuration(p.duration)}}return q.animate(s,m)},doAnimationFrame:function(){var m=this,o=m.activeEasingX,p=m.activeEasingY,n=Date.now(),k,l;if(!m.isAnimating){return}m.lastRun=n;if(o===null&&p===null){m.stopAnimation();return}if(o!==null){m.x=k=Math.round(o.getValue());if(o.isEnded){m.activeEasingX=null;m.fireEvent("axisanimationend",m,"x",k)}}else{k=m.x}if(p!==null){m.y=l=Math.round(p.getValue());if(p.isEnded){m.activeEasingY=null;m.fireEvent("axisanimationend",m,"y",l)}}else{l=m.y}if(m.lastX!==k||m.lastY!==l){m.doTranslate(k,l);m.lastX=k;m.lastY=l}m.fireEvent("animationframe",m,k,l)},stopAnimation:function(){var c=this;if(!c.isAnimating){return}c.activeEasingX=null;c.activeEasingY=null;c.isAnimating=false;Ext.AnimationQueue.stop(c.doAnimationFrame,c);if(!c.destroying){c.fireEvent("animationend",c,c.x,c.y);if(c.callback){c.callback.call(c.callbackScope);c.callback=null}}},refresh:function(){this.translate(this.x,this.y)},destroy:function(){var c=this;c.destroying=true;if(c.isAnimating){c.stopAnimation()}Ext.Evented.prototype.destroy.call(this);c.destroying=false;c.destroyed=true}},1,0,0,0,0,0,[Ext.util.translatable,"Abstract"],0));(Ext.cmd.derive("Ext.util.translatable.Dom",Ext.util.translatable.Abstract,{config:{element:null},applyElement:function(c){if(!c){return}return Ext.get(c)},updateElement:function(){this.refresh()}},0,0,0,0,0,0,[Ext.util.translatable,"Dom"],0));(Ext.cmd.derive("Ext.util.translatable.ScrollPosition",Ext.util.translatable.Dom,{type:"scrollposition",constructor:function(c){if(c&&c.element){this.x=c.element.getScrollLeft();this.y=c.element.getScrollTop()}Ext.util.translatable.Dom.prototype.constructor.call(this,c)},translateAnimated:function(){var c=this.getElement();this.x=c.getScrollLeft();this.y=c.getScrollTop();Ext.util.translatable.Dom.prototype.translateAnimated.apply(this,arguments)},doTranslate:function(f,g){var j=this.getElement();j.setScrollLeft(Math.round(f));j.setScrollTop(Math.round(g))},getPosition:function(){var g=this,f=g.position,j=g.getElement();f.x=j.getScrollLeft();f.y=j.getScrollTop();return f}},1,0,0,0,0,0,[Ext.util.translatable,"ScrollPosition"],0));(Ext.cmd.derive("Ext.scroll.Scroller",Ext.Evented,{factoryConfig:{defaultType:"scroller"},isScroller:true,config:{direction:undefined,element:undefined,scrollbars:null,snapSelector:null,snapOffset:null,msSnapInterval:null,x:true,y:true,scrollElement:null,size:null,spacerXY:null},snappableCls:"x-scroller-snappable",elementCls:"x-scroller",spacerCls:"x-scroller-spacer",noScrollbarsCls:"x-no-scrollbars",statics:{create:function(d,f){return Ext.Factory.scroller(d,f)},getScrollingElement:function(){var k=document,j=this.$standardScrollElement,l=k.scrollingElement,m,n;if(l){return l}if(j===undefined){m=document.createElement("iframe");m.style.height="1px";document.body.appendChild(m);n=m.contentWindow.document;n.write('<!DOCTYPE html><div style="height:9999em">x</div>');n.close();j=n.documentElement.scrollHeight>n.body.scrollHeight;m.parentNode.removeChild(m);this.$standardScrollElement=j}return j?k.documentElement:k.body}},constructor:function(d){var f=this;f.position={x:0,y:0};Ext.Evented.prototype.constructor.call(this,d);f.onDomScrollEnd=Ext.Function.createBuffered(f.onDomScrollEnd,100,f)},destroy:function(){var c=this;c.setX(Ext.emptyString);c.setY(Ext.emptyString);c.setElement(null);c.setScrollElement(null);c.onDomScrollEnd=c._partners=c.component=null;if(c._translatable){c._translatable.destroy();c._translatable=null}c.removeSnapStylesheet();Ext.Evented.prototype.destroy.call(this)},addPartner:function(l,n){var m=this,k=m._partners||(m._partners={}),j=l._partners||(l._partners={});k[l.getId()]={scroller:l,axis:n};j[m.getId()]={scroller:m,axis:n}},applyElement:function(p,k){var n=this,o,m,l;if(k){n.scrollListener.destroy()}if(p){if(p.isElement){o=p}else{o=Ext.get(p)}if(o.dom===document.documentElement||o.dom===document.body){m=Ext.getWin();l=Ext.scroll.Scroller.getScrollingElement()}else{l=m=o}n.setScrollElement(Ext.get(l));n.scrollListener=m.on({scroll:n.onDomScroll,scope:n,destroyable:true});return o}},applySize:function(l,k){var g,j;if(l===null||typeof l==="number"){g=j=l}else{if(l){g=l.x;j=l.y}}if(g===null){g=0}else{if(g===undefined){g=(k?k.x:0)}}if(j===null){j=0}else{if(j===undefined){j=(k?k.y:0)}}return{x:g,y:j}},getClientSize:function(){var c=this.getElement().dom;return{x:c.clientWidth,y:c.clientHeight}},getScrollbarSize:function(){var s=this,x=0,o=0,u=s.getElement(),v,p,q,r,w,y;if(u&&!u.destroyed){p=s.getX();q=s.getY();v=u.dom;if(p||q){y=Ext.getScrollbarSize()}if(p==="scroll"){r=true}else{if(p){r=v.scrollWidth>v.clientWidth}}if(q==="scroll"){w=true}else{if(q){w=v.scrollHeight>v.clientHeight}}if(r){o=y.height}if(w){x=y.width}}return{width:x,height:o}},getPosition:function(){var c=this;if(c.positionDirty){c.updateDomScrollPosition()}return c.position},getSize:function(){var j=this.getElement(),f,g;if(j&&!j.destroyed){g=j.dom;f={x:g.scrollWidth,y:g.scrollHeight}}else{f={x:0,y:0}}return f},getMaxPosition:function(){var l=this.getElement(),g=0,j=0,k;if(l&&!l.destroyed){k=l.dom;g=k.scrollWidth-k.clientWidth;j=k.scrollHeight-k.clientHeight}return{x:g,y:j}},getMaxUserPosition:function(){var m=this,n=m.getElement(),j=0,k=0,l;if(n&&!n.destroyed){l=n.dom;if(m.getX()){j=l.scrollWidth-l.clientWidth}if(m.getY()){k=l.scrollHeight-l.clientHeight}}return{x:j,y:k}},refresh:function(){this.positionDirty=true;this.fireEvent("refresh",this);return this},removePartner:function(j){var g=this._partners,f=j._partners;if(g){delete g[j.getId()]}if(f){delete (f[this.getId()])}},scrollBy:function(k,l,j){var g=this.getPosition();if(k){if(k.length){j=l;l=k[1];k=k[0]}else{if(typeof k!=="number"){j=l;l=k.y;k=k.x}}}k=(typeof k==="number")?k+g.x:null;l=(typeof l==="number")?l+g.y:null;return this.doScrollTo(k,l,j)},scrollIntoView:function(v,u,x,r){var p=this,q=p.getPosition(),s,y,o,w=p.getElement();if(v){s=Ext.fly(v).getScrollIntoViewXY(w,q.x,q.y);y=(u===false)?q.x:s.x;o=s.y;if(o!==q.y||y!==q.x){if(r){p.on({scrollend:"doHighlight",scope:p,single:true,args:[v,r]})}p.doScrollTo(y,o,x)}else{if(r){p.doHighlight(v,r)}}}},isInView:function(c){return this.doIsInView(c)},scrollTo:function(g,j,l){var k;if(g){if(g.length){l=j;j=g[1];g=g[0]}else{if(typeof g!=="number"){l=j;j=g.y;g=g.x}}}if(g<0||j<0){k=this.getMaxPosition();if(g<0){g+=k.x}if(j<0){j+=k.y}}this.doScrollTo(g,j,l)},updateDirection:function(k){var l=this,g,j;if(!k){g=l.getX();j=l.getY();if(g&&j){k=(j==="scroll"&&g==="scroll")?"both":"auto"}else{if(j){k="vertical"}else{if(g){k="horizontal"}}}l._direction=k}else{if(k==="auto"){g=true;j=true}else{if(k==="vertical"){g=false;j=true}else{if(k==="horizontal"){g=true;j=false}else{if(k==="both"){g="scroll";j="scroll"}}}}l.setX(g);l.setY(j)}},updateScrollbars:function(d,f){this.syncScrollbarCls()},updateSize:function(n){var m=this,o=m.getElement(),k=n.x,l=n.y,p;if(o){m.positionDirty=true;p=m.getSpacer();if(!k&&!l){p.hide()}else{if(k>0){k-=1}if(l>0){l-=1}m.setSpacerXY({x:k,y:l});p.show()}}},updateMsSnapInterval:function(){this.initMsSnapInterval()},updateSnapSelector:function(){this.initSnap()},updateSnapOffset:function(){this.initSnap()},updateElement:function(d){var f=this;f.initXStyle();f.initYStyle();d.addCls(f.elementCls);f.initSnap();f.initMsSnapInterval();f.syncScrollbarCls()},updateX:function(c){this.initXStyle()},updateY:function(c){this.initYStyle()},deprecated:{"5":{methods:{getScroller:function(){return this}}},"5.1.0":{methods:{scrollToTop:function(c){return this.scrollTo(0,0,c)},scrollToEnd:function(c){return this.scrollTo(Infinity,Infinity,c)}}}},privates:{getSpacer:function(){var g=this,f=g._spacer,j;if(!f){j=g.getElement();f=g._spacer=j.createChild({cls:g.spacerCls,role:"presentation"},j.dom.firstChild);f.setVisibilityMode(2);f.hide();j.position()}return f},applySpacerXY:function(f,d){if(d&&f.x===d.x&&f.y===d.y){f=undefined}return f},updateSpacerXY:function(l){var o=this,k=o.getSpacer(),m=k.dom.style,p=l.y,n;m.marginTop="";o.translateSpacer(l.x,o.constrainScrollRange(p));m.lineHeight=Number(!parseInt(m.lineHeight,10))+"px";n=p-o.getElement().dom.scrollHeight;if(n>0){m.marginTop=Math.min(n,o.maxSpacerMargin||0)+"px"}},translateSpacer:function(d,f){this.getSpacer().translate(d,f)},doIsInView:function(s,q){var r=this,n=r.component,c={x:false,y:false},p,o=r.getElement(),u;if(s&&(q||(o.contains(s)||(n&&n.owns(s))))){u=o.getRegion();p=Ext.fly(s).getRegion();c.x=p.right>u.left&&p.left<u.right;c.y=p.bottom>u.top&&p.top<u.bottom}return c},constrainScrollRange:function(q){if(q<1000000){return q}if(!this.maxSpacerTranslate){var r=Math.pow(2,32),m=r,o=500,l=Ext.getBody().createChild({style:{position:"absolute",left:"-10000px",top:"0",width:"500px",height:"500px"},cn:{cls:this.spacerCls}},null,true),p=Ext.get(l.firstChild),n=p.dom.style;p.translate(0,r-1);n.lineHeight=Number(!parseInt(n.lineHeight,10))+"px";while(m!==o+1){p.translate(0,(r=o+Math.floor((m-o)/2)));n.lineHeight=Number(!parseInt(n.lineHeight,10))+"px";if(l.scrollHeight<r){m=r}else{o=r}}p.translate(0,Ext.scroll.Scroller.prototype.maxSpacerTranslate=o);m=o*2;while(m!==o+1){p.dom.style.marginTop=((r=o+Math.floor((m-o)/2)))+"px";n.lineHeight=Number(!parseInt(n.lineHeight,10))+"px";if(l.scrollHeight<r){m=r}else{o=r}}Ext.fly(l).destroy();Ext.scroll.Scroller.prototype.maxSpacerMargin=o-Ext.scroll.Scroller.prototype.maxSpacerTranslate}return Math.min(q,this.maxSpacerTranslate)},convertX:function(c){return c},doHighlight:function(f,d){if(d!==true){Ext.fly(f).highlight(d)}else{Ext.fly(f).highlight()}},doScrollTo:function(p,q,y){var r=this,v=r.getScrollElement(),u,x,o,s,w;if(v&&!v.destroyed){x=v.dom;o=(p===Infinity);s=(q===Infinity);if(o||s){u=r.getMaxPosition();if(o){p=u.x}if(s){q=u.y}}p=r.convertX(p);if(y){if(!this._translatable){this._translatable=new Ext.util.translatable.ScrollPosition({element:v})}this._translatable.translate(p,q,y)}else{if(q!=null){x.scrollTop=q}if(p!=null){x.scrollLeft=p;if(Ext.isIE8){w=x.scrollLeft;x.scrollLeft=p}}}r.positionDirty=true}},fireScrollStart:function(g,j){var k=this,l=k.component;k.invokePartners("onPartnerScrollStart",g,j);if(k.hasListeners.scrollstart){k.fireEvent("scrollstart",k,g,j)}if(l&&l.onScrollStart){l.onScrollStart(g,j)}Ext.GlobalEvents.fireEvent("scrollstart",k,g,j)},fireScroll:function(g,j){var k=this,l=k.component;k.invokePartners("onPartnerScroll",g,j);if(k.hasListeners.scroll){k.fireEvent("scroll",k,g,j)}if(l&&l.onScrollMove){l.onScrollMove(g,j)}Ext.GlobalEvents.fireEvent("scroll",k,g,j)},fireScrollEnd:function(g,j){var k=this,l=k.component;k.invokePartners("onPartnerScrollEnd",g,j);if(k.hasListeners.scrollend){k.fireEvent("scrollend",k,g,j)}if(l&&l.onScrollEnd){l.onScrollEnd(g,j)}Ext.GlobalEvents.fireEvent("scrollend",k,g,j)},getElementScroll:function(c){return c.getScroll()},initSnap:function(){var p=this,m=p.getSnapOffset(),o=p.getSnapSelector(),q=p.getElement(),l,n,r;if(q&&o){q.addCls(p.snappableCls);p.removeSnapStylesheet();if(m){l=m.x||0;n=m.y||0;if(l){l=-l+"px"}if(n){n=-n+"px"}}r=l+" "+n+";";p.snapStylesheet=Ext.util.CSS.createStyleSheet("#"+q.id+" "+o+"{-webkit-scroll-snap-coordinate:"+r+"scroll-snap-coordinate:"+r+"}")}},initMsSnapInterval:function(){var m=this.getElement(),n,j,k,l;if(m){n=this.getMsSnapInterval();if(n){j=n.x;k=n.y;l=m.dom.style;if(j){l["-ms-scroll-snap-points-x"]="snapInterval(0px, "+j+"px)"}if(k){l["-ms-scroll-snap-points-y"]="snapInterval(0px, "+k+"px)"}}}},initXStyle:function(){var f=this.getElement(),d=this.getX();if(f&&f.dom){if(!d){d="hidden"}else{if(d===true){d="auto"}}f.setStyle("overflow-x",d)}},initYStyle:function(){var d=this.getElement(),f=this.getY();if(d&&d.dom){if(!f){f="hidden"}else{if(f===true){f="auto"}}d.setStyle("overflow-y",f)}},invokePartners:function(n,m,o){var s=this,q=s._partners,u,p,r=n==="onPartnerScrollEnd";if(!s.suspendSync&!s.isReflecting){for(p in q){u=q[p].scroller;u.isReflecting=true;u[n](s,m,o);if(r){u.isReflecting=false}}}},clearReflecting:function(){this.isReflecting=false},suspendPartnerSync:function(){this.suspendSync=(this.suspendSync||0)+1},resumePartnerSync:function(g){var j=this,f;if(j.suspendSync){j.suspendSync--}if(!j.suspendSync&&g){f=j.getPosition();j.invokePartners("onPartnerScroll",f.x,f.y);j.invokePartners("onPartnerScrollEnd",f.x,f.y)}},updateDomScrollPosition:function(){var j=this,k=j.getScrollElement(),l,g=j.position;if(k&&!k.destroyed){l=j.getElementScroll(k);g.x=l.left;g.y=l.top}j.positionDirty=false;return g},syncWithPartners:function(){var m=this,l=m._partners,k,n,j;m.isReflecting=true;for(k in l){n=l[k].scroller;j=n.getPosition();m.onPartnerScroll(n,j.x,j.y)}m.isReflecting=false},syncScrollbarCls:function(){var c=this.getElement();if(c){c.toggleCls(this.noScrollbarsCls,this.getScrollbars()===false)}},onDomScroll:function(){var k=this,l,g,j;l=k.updateDomScrollPosition();if(k.restoring){return}g=l.x;j=l.y;if(!k.isScrolling){k.isScrolling=Ext.isScrolling=true;k.fireScrollStart(g,j)}k.fireScroll(g,j);k.onDomScrollEnd()},onDomScrollEnd:function(){var k=this,l,g,j;if(k.destroying||k.destroyed){return}l=k.getPosition();g=l.x;j=l.y;k.isScrolling=Ext.isScrolling=false;k.trackingScrollLeft=g;k.trackingScrollTop=j;k.fireScrollEnd(g,j)},onPartnerScroll:function(k,g,j){var l=k._partners[this.getId()].axis;if(l){if(l==="x"){j=null}else{if(l==="y"){g=null}}}this.doScrollTo(g,j,false,true)},onPartnerScrollStart:Ext.privateFn,onPartnerScrollEnd:Ext.privateFn,removeSnapStylesheet:function(){var c=this.snapStylesheet;if(c){Ext.util.CSS.removeStyleSheet(c);this.snapStylesheet=null}},restoreState:function(){var f=this,d=f.getScrollElement();if(d){if(f.trackingScrollTop!==undefined){f.restoring=true;Ext.defer(function(){f.restoring=false},50);f.doScrollTo(f.trackingScrollLeft,f.trackingScrollTop,false)}}}}},1,0,0,0,["scroller.scroller"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.scroll,"Scroller"],function(c){Ext.getViewportScroller=function(){return c.viewport||(c.viewport=new c())};Ext.setViewportScroller=function(b){if(c.viewport!==b){Ext.destroy(c.viewport);c.viewport=b.isScroller?b:new c(b)}};Ext.onReady(function(){Ext.defer(function(){var b=Ext.getViewportScroller();if(!b.getElement()){b.setElement(Ext.getBody())}},100)})}));(Ext.cmd.derive("Ext.util.Floating",Ext.Base,{mixinId:"floating",focusOnToFront:true,shadow:"sides",animateShadow:false,constrain:false,alignOnScroll:true,config:{activeCounter:0,alwaysOnTop:false},preventDefaultAlign:false,_visModeMap:{visibility:1,display:2,offsets:3},constructor:function(){var l=this,m=l.el,k=l.shadow,j,n;if(k){n={mode:(k===true)?"sides":k};j=l.shadowOffset;if(j){n.offset=j}n.animate=l.animateShadow;n.fixed=l.fixed;m.enableShadow(n,false)}if(l.shim||Ext.useShims){m.enableShim({fixed:l.fixed},false)}m.setVisibilityMode(l._visModeMap[l.hideMode]);l.el.on({mousedown:l.onMouseDown,scope:l,capture:true});l.registerWithOwnerCt();l.initHierarchyEvents()},alignTo:function(B,x,C,D,u){var v=this,q,r,y,A,s,w;if(B.isComponent){q=B.el;r=B.destroyed}else{q=B=Ext.get(B);y=q.dom;r=!y||Ext.isGarbage(y)}if(r){v._lastAlignTarget=null;if(v.alignListeners){v.alignListeners.destroy()}return}v.mixins.positionable.alignTo.call(v,q,x,C,D,u!==false);A=v.getXY();s=B.getXY();v.alignVector=[A[0]-s[0],A[1]-s[1]];v._lastAlignTarget=B;v._lastAlignToPos=x;v._lastAlignToOffsets=C;v._topAlignTarget=v.getTopAlignTarget();v.clearClip();if(!v.alignListeners){w={resize:{fn:v.alignOnResize,buffer:100},scope:v,destroyable:true};if(v.alignOnScroll&&!q.contains(v.el)){w.scroll=v.doRealign}v.alignListeners=Ext.on(w)}},initFloatConstrain:function(){var d=this,f=d.floatParent;if((d.constrain||d.constrainHeader)&&!d.constrainTo){d.constrainTo=f?f.getTargetEl():d.container}},initHierarchyEvents:function(){var f=this,d=this.syncHidden;if(!f.hasHierarchyEventListeners){f.mon(Ext.GlobalEvents,{hide:d,collapse:d,show:d,expand:d,added:d,scope:f});f.hasHierarchyEventListeners=true}},registerWithOwnerCt:function(){var g=this,j=g.ownerCt,f=g.zIndexParent;if(f){f.unregisterFloatingItem(g)}f=g.zIndexParent=g.up("[floating]");g.floatParent=j||f;g.initFloatConstrain();delete g.ownerCt;if(f){f.registerFloatingItem(g)}else{Ext.WindowManager.register(g)}},onMouseDown:function(p){var s=this,u=s.focusTask,m=s.getRefOwner(),r=p.pointerType==="touch",q,o,n;if(s.floating&&(!u||!u.id)){if(s.owns(Ext.Element.getActiveElement())){r=true}q=p.target;o=s.el.dom;while(!r&&q&&q!==o){if(Ext.fly(q).isFocusable()){r=true}q=q.parentNode}n=Ext.WindowManager.getActive()===s&&(q===o||r);if(!n){s.toFront(r)}if(!r&&m&&m.containsFocus){p.preventDefault()}}},onBeforeFloatLayout:function(){this.el.preventSync=true},onAfterFloatLayout:function(){var c=this.el;if(c.shadow||c.shim){c.setUnderlaysVisible(true);c.syncUnderlays()}},syncHidden:function(){var k=this,j=k.hidden||!k.rendered,g=k.hierarchicallyHidden=k.isHierarchicallyHidden(),l=k.pendingShow;if(j!==g){if(g){k.hide();k.pendingShow=true}else{if(l){delete k.pendingShow;if(l.length){k.show.apply(k,l)}else{k.show()}}}}},setZIndex:function(d){var f=this;f.el.setZIndex(d);d+=10;if(f.floatingDescendants){d=Math.floor(f.floatingDescendants.setBase(d)/100)*100+10000}return d},doConstrain:function(f){var j=this,g=j.calculateConstrainedPosition(f,null,true);if(g){j.setPosition(g)}},updateActiveCounter:function(f){var j=this,g=j.zIndexParent;if(g&&g!==g.zIndexManager.front&&j.bringParentToFront!==false){g.setActiveCounter(++Ext.ZIndexManager.activeCounter)}g=j.zIndexManager;if(g){g.onComponentUpdate(j)}},updateAlwaysOnTop:function(d){var f=this.zIndexManager;if(f){f.onComponentUpdate(this)}},toFront:function(f){var d=this;if(d.zIndexManager.bringToFront(d,f||!d.focusOnToFront)){if(d.hasListeners.tofront){d.fireEvent("tofront",d,d.el.getZIndex())}}return d},setActive:function(j,l){var k=this,g;if(j){if(k.el.shadow&&k.el.getData().isVisible!==false&&!k.maximized){k.el.enableShadow(null,true)}if(l){g=Ext.ComponentManager.getActiveComponent();if(!g||!g.up(k)){k.focus()}}k.fireEvent("activate",k)}else{k.fireEvent("deactivate",k)}},toBack:function(){this.zIndexManager.sendToBack(this);return this},center:function(){var d=this,f;if(d.isVisible()){f=d.getAlignToXY(d.container,"c-c");d.setPagePosition(f)}else{d.needsCenter=true}return d},onFloatShow:function(){var c=this;if(c.needsCenter){c.center()}else{if(c._lastAlignTarget){c.alignTo(c._lastAlignTarget,c._lastAlignToPos,c._lastAlignToOffsets,false,!c.fixed)}}c.needsCenter=false},fitContainer:function(o){var l=this,m=l.floatParent,p=m?m.getTargetEl():l.container,k=p.getViewSize(),n=m||(p.dom!==document.body)?[0,0]:p.getXY();k.x=n[0];k.y=n[1];l.setBox(k,o)},privates:{onFloatDestroy:function(){this.clearAlignEl()},getTopAlignTarget:function(){var f=this._lastAlignTarget,d=f;while(f&&(d=f)&&f.isComponent){if(d.isFloating()){f=d._lastAlignTarget}else{f=d.up("{isFloating()}");f=f&&f._lastAlignTarget}}return d},clearAlignEl:function(){var c=this;if(c._lastAlignTarget){c.alignListeners=Ext.destroy(c.alignListeners);Ext.un("scroll",c.doRealign,c);c._lastAlignToPos=c._lastAlignTarget=c._lastAlignToOffsets=c._topAlignTarget=null}},alignOnResize:function(){this.doRealign()},doRealign:function(l){var o=this,q=o._lastAlignTarget.el,p,n,m,r;if(q&&o.isVisible()){if(q.isComponent){p=q.destroyed}else{n=q.dom;p=!n||Ext.isGarbage(n)}if(p){o.clearAlignEl()}else{if(!l||(l.getElement().contains(o._topAlignTarget.el)&&!l.getElement().contains(o.el))){m=q.getXY();r=[m[0]+o.alignVector[0],m[1]+o.alignVector[1]];o.setXY(r);if(l){o.clipToScroller(l)}}}}},clipToScroller:function(j){var l=this,k=l._topAlignTarget.getBox(),n=j.getElement().getConstrainRegion(),m=0;if(k.top<n.top){m=1}if(k.right>n.right){m=m|2}if(k.bottom>n.bottom){m=m|4}if(k.left<n.left){m=m|8}if(m){l.clipTo(n,m)}else{l.clearClip()}}}},1,0,0,0,0,0,[Ext.util,"Floating"],0));(Ext.cmd.derive("Ext.util.ElementContainer",Ext.Base,{mixinId:"elementCt",config:{childEls:{$value:{},cached:true,lazy:true,merge:function(n,l,o,p){var q=l?Ext.Object.chain(l):{},r,m;if(n instanceof Array){for(r=n.length;r--;){m=n[r];if(!p||!(m in q)){if(typeof m==="string"){q[m]={name:m,itemId:m}}else{q[m.name]=m}}}}else{if(n){if(n.constructor===Object){for(r in n){if(!p||!(r in q)){m=n[r];if(m===true){q[r]={itemId:r}}else{if(typeof m==="string"){q[r]={itemId:m}}else{q[r]=m;if(!("itemId" in m)){m.itemId=r}}}q[r].name=r}}}else{if(!p||!(n in q)){q[n]={name:n,itemId:n}}}}}return q}}},destroy:function(){var k=this,l=k.getChildEls(),j,g;for(g in l){j=k[g];if(j){if(j.destroy){j.component=null;j.destroy()}k[g]=null}}},privates:{addChildEl:function(f){var g=this,j=g.getChildEls();if(!g.hasOwnProperty("childEls")){g.childEls=j=Ext.Object.chain(j)}if(typeof f==="string"){f={name:f,itemId:f}}j[f.name]=f},afterClassMixedIn:function(g){var j=g.prototype,f=j.childEls;if(f){delete j.childEls;g.getConfigurator().add({childEls:f})}},attachChildEls:function(D,E){var y=this,x=y.getChildEls(),A=E||y,k=A.id+"-",u=!A.frame,H,G,v,B,C,w,F;for(H in x){v=x[H];if(u&&v.frame){continue}C=v.select;if(C){w=D.select(C,true)}else{if(!(C=v.selectNode)){if(!(F=v.id)){F=k+v.itemId;w=Ext.cache[F]}else{w=Ext.cache[F]||D.getById(F)}}else{w=D.selectNode(C,false)}}if(w){if(w.isElement){w.component=A}else{if(w.isComposite&&!w.isLite){G=w.elements;for(B=G.length;B--;){G[B].component=A}}}}y[H]=w||null}}}},0,0,0,0,0,0,[Ext.util,"ElementContainer"],0));(Ext.cmd.derive("Ext.util.Renderable",Ext.Base,{mixinId:"renderable",frameCls:"x-frame",frameIdRegex:/[\-]frame\d+[TMB][LCR]$/,frameElNames:["TL","TC","TR","ML","MC","MR","BL","BC","BR","Table"],frameTpl:["<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'before'); %}</tpl>",'<tpl if="top">','<tpl if="left"><div id="{fgid}TL" data-ref="frameTL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}TR" data-ref="frameTR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}TC" data-ref="frameTC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>",'<tpl if="left"><div id="{fgid}ML" data-ref="frameML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}MR" data-ref="frameMR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}Body" data-ref="frameBody" class="{frameBodyCls} {frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</div>",'<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','<tpl if="bottom">','<tpl if="left"><div id="{fgid}BL" data-ref="frameBL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}BR" data-ref="frameBR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}BC" data-ref="frameBC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>","<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'after'); %}</tpl>"],frameTableTpl:["<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'before'); %}</tpl>",'<table id="{fgid}Table" data-ref="frameTable" class="{frameCls} ','x-table-plain" cellpadding="0" role="presentation">','<tpl if="top">','<tr role="presentation">','<tpl if="left"><td id="{fgid}TL" data-ref="frameTL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}TC" data-ref="frameTC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}TR" data-ref="frameTR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>",'<tr role="presentation">','<tpl if="left"><td id="{fgid}ML" data-ref="frameML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}Body" data-ref="frameBody" class="{frameBodyCls} {frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" style="{mcStyle}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</td>",'<tpl if="right"><td id="{fgid}MR" data-ref="frameMR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>",'<tpl if="bottom">','<tr role="presentation">','<tpl if="left"><td id="{fgid}BL" data-ref="frameBL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}BC" data-ref="frameBC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}BR" data-ref="frameBR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>","</table>","<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'after'); %}</tpl>"],_renderState:0,ariaEl:"el",_layerCls:"x-layer",_fixedLayerCls:"x-fixed-layer",ariaStaticRoles:{presentation:true,article:true,definition:true,directory:true,document:true,img:true,heading:true,math:true,note:true,banner:true,complementary:true,contentinfo:true,navigation:true,search:true,"undefined":true,"null":true},statics:{makeRenderSetter:function(f,g){var j=f.name;return function(d){var l=this,b=(l.renderConfigs||(l.renderConfigs={})),c=b[g];if(l._renderState>=g){(f.setter||f.getSetter()).call(l,d)}else{if(!c){b[g]=c={}}if(!(j in c)){c[j]=l[j]}l[j]=d}return l}},processRenderConfig:function(D,r,B){var w=this.prototype,y=this.getConfigurator(),q=Ext.util.Renderable,s=q.makeRenderSetter,A=D[r],v,u,C,x;for(C in A){u=Ext.Config.get(C);if(!w[x=u.names.set]){v=(u.renderSetter||(u.renderSetter={}));w[x]=v[B]||(v[B]=s(u,B))}}delete D[r];y.add(A)}},onClassMixedIn:function(m){var j=m.override,k=this.processRenderConfig,l=function(b){if(b.beforeRenderConfig){this.processRenderConfig(b,"beforeRenderConfig",1)}if(b.renderConfig){this.processRenderConfig(b,"renderConfig",3)}j.call(this,b)},n=function(b,c){b.override=l;b.processRenderConfig=k;if(c.beforeRenderConfig){b.processRenderConfig(c,"beforeRenderConfig",1)}if(c.renderConfig){b.processRenderConfig(c,"renderConfig",3)}};n(m,m.prototype);m.onExtended(n)},afterRender:function(){var o=this,s={},v=o.protoEl,p=o.el,r,n,u,q,w;o.finishRenderChildren();o._renderState=4;if(o.contentEl){u="x-";q=u+"hidden-";w=o.contentEl=Ext.get(o.contentEl);w.component=o;w.removeCls([u+"hidden",q+"display",q+"offsets"]);o.getContentTarget().appendChild(w.dom)}v.writeTo(s);n=s.removed;if(n){p.removeCls(n)}n=s.cls;if(n.length){p.addCls(n)}n=s.style;if(s.style){p.setStyle(n)}o.protoEl=null;if(!o.ownerCt&&!o.skipLayout){o.updateLayout()}if(!(o.x&&o.y)&&(o.pageX||o.pageY)){o.setPagePosition(o.pageX,o.pageY)}if(o.disableOnRender){o.onDisable()}r=o.controller;if(r&&r.afterRender){r.afterRender(o)}},afterFirstLayout:function(A,r){var x=this,s=x.x,v=x.y,u=x.defaultAlign,C=x.alignOffset,y,B,D,w,q;if(!x.ownerLayout){B=s!==undefined;D=v!==undefined}if(x.floating&&!x.preventDefaultAlign&&(!B||!D)){if(x.floatParent){w=x.floatParent.getTargetEl().getViewRegion();q=x.el.getAlignToXY(x.alignTarget||x.floatParent.getTargetEl(),u,C);w.x=q[0]-w.x;w.y=q[1]-w.y}else{q=x.el.getAlignToXY(x.alignTarget||x.container,u,C);w=x.el.translateXY(q[0],q[1])}s=B?s:w.x;v=D?v:w.y;B=D=true}if(B||D){x.setPosition(s,v)}x.onBoxReady(A,r);y=x.controller;if(y&&y.boxReady){y.boxReady(x,A,r)}},beforeRender:function(){var l=this,k=l.floating,m=l.getComponentLayout(),n=l.userCls,j;l._renderState=1;l.ariaUsesMainElement=l.ariaEl==="el";j=l.controller;if(j&&j.beforeRender){j.beforeRender(l)}l.initBindable();if(l.renderConfigs){l.flushRenderConfigs()}if(l.reference){l.publishState()}if(n){l.addCls(n)}if(k){l.addCls(l.fixed?l._fixedLayerCls:l._layerCls);n=k.cls;if(n){l.addCls(n)}}l.frame=l.frame||l.alwaysFramed;if(!m.initialized){m.initLayout()}l.initOverflow();l.setUI(l.ui)},doApplyRenderTpl:function(k,g){var j=g.$comp,l;if(!j.rendered){l=j.initRenderTpl();l.applyOut(g.renderData,k)}},getElConfig:function(){var q=this,o=q.autoEl,r=q.getFrameInfo(),u={tag:"div",tpl:r?q.initFramingTpl(r.table):q.initRenderTpl()},n=q.layoutTargetCls,p=q.protoEl,m=q.ariaRole,s;q.initStyles(p);if(n&&!r){p.addCls(n)}p.writeTo(u);p.flush();if(o){if(Ext.isString(o)){u.tag=o}else{Ext.apply(u,o)}}if(m&&q.ariaUsesMainElement){u.role=m;if(!q.ariaStaticRoles[m]){u["aria-hidden"]=!!q.hidden;u["aria-disabled"]=!!q.disabled;if(q.ariaLabel&&!q.ariaLabelledBy){u["aria-label"]=q.ariaLabel}if(q.collapsible){u["aria-expanded"]=!q.collapsed}if(q.ariaRenderAttributes){Ext.apply(u,q.ariaRenderAttributes)}if(q.config.ariaAttributes){Ext.apply(u,q.getAriaAttributes())}}}u.id=q.id;if(u.tpl){if(r){u.tplData=s=q.getFrameRenderData();s.renderData=q.initRenderData()}else{u.tplData=q.initRenderData()}}q.ariaRenderAttributes=null;return u},getInsertPosition:function(c){if(c!==undefined){if(Ext.isNumber(c)){c=this.container.dom.childNodes[c]}else{c=Ext.getDom(c)}}return c},getRenderTree:function(){var f=this,d=null;if(!f.hasListeners.beforerender||f.fireEvent("beforerender",f)!==false){f._renderState=1;f.beforeRender();f.rendering=true;f._renderState=2;d=f.getElConfig();if(f.el){d.id=f.$pid=Ext.id(null,f.el.identifiablePrefix)}}return d},initRenderData:function(){var k=this,g=k.ariaRole,j,l;j=Ext.apply({$comp:k,id:k.id,ui:k.ui,uiCls:k.uiCls,baseCls:k.baseCls,componentCls:k.componentCls,frame:k.frame,hasTabGuard:!!k.tabGuard,scrollerCls:k.scrollerCls,childElCls:"",ariaEl:k.ariaEl},k.renderData);if(g&&!k.ariaUsesMainElement){l={role:g};if(!k.ariaStaticRoles[g]){l["aria-hidden"]=!!k.hidden;l["aria-disabled"]=!!k.disabled;if(k.ariaLabel&&!k.ariaLabelledBy){l["aria-label"]=k.ariaLabel}if(k.collapsible){l["aria-expanded"]=!k.collapsed}if(k.ariaRenderAttributes){Ext.apply(l,k.ariaRenderAttributes)}if(k.config.ariaAttributes){Ext.apply(l,k.getAriaAttributes())}}j.ariaAttributes=l}return j},onRender:function(v,u){var r=this,p=r.x,q=r.y,w=null,x=r.el,s=r.scrollable,y,o;r.applyRenderSelectors();if(s&&s.isScroller){s.setElement(r.getOverflowEl());if(Ext.isIE){r.showListenerIE=Ext.on("show",r.onGlobalShow,r,{destroyable:true})}}r.rendering=null;r.rendered=true;r._renderState=3;if(r.renderConfigs){r.flushRenderConfigs()}if(p!=null){w={x:p}}if(q!=null){(w=w||{}).y=q}if(!r.getFrameInfo()){y=r.width;o=r.height;if(typeof y==="number"){w=w||{};w.width=y}if(typeof o==="number"){w=w||{};w.height=o}}r.lastBox=x.lastBox=w},render:function(s,u){var q=this,r=q.el,n=q.ownerLayout,o,m,p;if(r&&!r.isElement){q.wrapPrimaryEl(r);r=q.el}if(!q.skipLayout){Ext.suspendLayouts()}s=q.initContainer(s);p=q.getInsertPosition(u);if(!r){m=q.getRenderTree();if(n&&n.transformItemRenderTree){m=n.transformItemRenderTree(m)}if(m){if(p){r=Ext.DomHelper.insertBefore(p,m)}else{r=Ext.DomHelper.append(s,m)}q.wrapPrimaryEl(r);q.cacheRefEls(r)}}else{if(!q.hasListeners.beforerender||q.fireEvent("beforerender",q)!==false){q.beforeRender();q.needsRenderTpl=q.rendering=true;q._renderState=2;q.initStyles(r);if(q.allowDomMove!==false){if(p){s.dom.insertBefore(r.dom,p)}else{s.dom.appendChild(r.dom)}}}else{o=true}}if(r&&!o){q.finishRender(u)}if(!q.skipLayout){Ext.resumeLayouts(!q.hidden&&!s.isDetachedBody)}},ensureAttachedToBody:function(g){var j=this,f;while(j.ownerCt){j=j.ownerCt}if(j.container.isDetachedBody){j.container=f=Ext.getBody();f.appendChild(j.el.dom);if(g){j.updateLayout()}if(typeof j.x==="number"||typeof j.y==="number"){j.setPosition(j.x,j.y)}}},privates:{applyRenderSelectors:function(){var l=this,n=l.renderSelectors,m=l.el,k,j;l.attachChildEls(m);l.ariaEl=l[l.ariaEl]||l.el;if(n){for(j in n){k=n[j];if(k){l[j]=m.selectNode(k,false)}}}},cacheRefEls:function(q){q=q||this.el;var s=Ext.cache,o=Ext.dom.Element,n=q.isElement?q.dom:q,u=n.querySelectorAll("[data-ref]"),m=u.length,p,r;for(r=0;r<m;r++){p=u[r];if(!s[p.id]){new o(p)}}},doAutoRender:function(){var c=this;if(!c.rendered){if(c.floating){c.render(c.renderTo||document.body)}else{c.render(Ext.isBoolean(c.autoRender)?Ext.getBody():c.autoRender)}}},doRenderContent:function(g,j){var l=j.$comp,k=l.data;if(l.html){Ext.DomHelper.generateMarkup(l.html,g);delete l.html}if(l.tpl){if(!l.tpl.isTemplate){l.tpl=new Ext.XTemplate(l.tpl)}if(k){l.data=k=k.isEntity?k.getData(true):k;l.tpl.applyOut(k,g)}}},doRenderFramingTabGuard:function(l,j,g){var k=j.$comp.layout;j.renderData.$skipTabGuards=true;if(k&&k.doRenderTabGuard){k.doRenderTabGuard.call(this,l,j,g)}},flushRenderConfigs:function(){var r=this,o=r.renderConfigs,p=r._renderState,n,s,u,m,q;if(o){for(s=0;s<=p;++s){n=o[s];if(n){o[s]=null;for(u in n){q=n[u];(m||(m={}))[u]=r[u];r[u]=q}}}if(m){r.setConfig(m)}}},finishRender:function(r){var o=this,y=Ext.cache,p,s,x,q,u,v,w;if(!o.el||o.$pid){if(o.container){w=y[o.id];v=w?w.dom:o.container.getById(o.id,true)}else{x=o.$pid||o.id;w=y[x];v=w?w.dom:Ext.getDom(x)}if(!o.el){o.wrapPrimaryEl(v)}else{delete o.$pid;if(!o.el.dom){o.wrapPrimaryEl(o.el)}v.parentNode.insertBefore(o.el.dom,v);p=v;v=o.el.dom;s=v.firstChild;while(p.firstChild){v.insertBefore(p.firstChild,s)}o.el.addCls(p.className);Ext.removeNode(p)}}else{if(o.needsRenderTpl){q=o.initRenderTpl();if(q){u=o.initRenderData();q.insertFirst(o.getTargetEl(),u)}o.cacheRefEls()}}o.el.component=o;if(!o.container){o.container=Ext.get(o.el.dom.parentNode)}if(o.ctCls){o.container.addCls(o.ctCls)}o.onRender(o.container,r);if(!o.overflowInited){o.initOverflow()}o.el.setVisibilityMode(Ext.Element[o.hideMode.toUpperCase()]);if(o.overCls){o.el.hover(o.addOverCls,o.removeOverCls,o)}if(o.hasListeners.render){o.fireEvent("render",o)}o.afterRender();if(o.hasListeners.afterrender){o.fireEvent("afterrender",o)}o.initEvents();if(o.hidden){o.el.hide()}},finishRenderChildren:function(){var c=this.getComponentLayout();c.finishRender()},getFrameRenderData:function(){var g=this,j=g.frameSize,f="";if(g._syncFrameHeight&&g.height){f="height:"+(g.height-j.height)+"px"}return{$comp:g,id:g.id,fgid:g.id+"-frame",ui:g.ui,uiCls:g.uiCls,frameCls:g.frameCls,frameBodyCls:g.layoutTargetCls||"",baseCls:g.baseCls,hasTabGuard:g.tabGuard,top:!!j.top,left:!!j.left,right:!!j.right,bottom:!!j.bottom,mcStyle:f,frameElCls:""}},getFrameInfo:function(){if(Ext.supports.CSS3BorderRadius||!this.frame){return false}var B=this,H=B.frameInfoCache,N=B.getFramingInfoCls()+"-frameInfo",A=H[N],I,F,J,y,M,L,G,x,C,O,E,P,K,D;if(A==null){I=Ext.fly(B.getStyleProxy(N),"frame-style-el");F=I.getStyle("font-family");if(F){F=F.split("-");J=parseInt(F[1],10);y=parseInt(F[2],10);M=parseInt(F[3],10);L=parseInt(F[4],10);G=parseInt(F[5],10);x=parseInt(F[6],10);C=parseInt(F[7],10);O=parseInt(F[8],10);E=parseInt(F[9],10);P=parseInt(F[10],10);K=parseInt(F[11],10);D=parseInt(F[12],10);A={table:F[0].charAt(0)==="t",vertical:F[0].charAt(1)==="v",top:J,right:y,bottom:M,left:L,width:L+y,height:J+M,border:{top:G,right:x,bottom:C,left:O,width:O+x,height:G+C},padding:{top:E,right:P,bottom:K,left:D,width:D+P,height:E+K}}}else{A=false}H[N]=A}B.frame=!!A;B.frameSize=A;return A},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui},getStyleProxy:function(f){var d=this.styleProxyEl||(Ext.Component.prototype.styleProxyEl=Ext.getBody().createChild({role:"presentation",style:{position:"absolute",top:"-10000px"}},null,true));d.className=f;return d},getFrameTpl:function(c){return this.lookupTpl(c?"frameTableTpl":"frameTpl")},initContainer:function(d){var f=this;if(!d&&f.el){d=f.el.dom.parentNode;f.allowDomMove=false}f.container=d.dom?d:Ext.get(d);return f.container},initOverflow:function(){var m=this,j=m.getOverflowStyle(),k=m.scrollFlags,l=m.getOverflowEl(),n=(k.y||k.x);if(!n||!l||!l.isElement){return}m.overflowInited=true;l.setStyle(j)},initFramingTpl:function(f){var d=this.getFrameTpl(f);if(d&&!d.applyRenderTpl){this.setupFramingTpl(d)}return d},initRenderTpl:function(){var c=this.lookupTpl("renderTpl");if(c&&!c.renderContent){this.setupRenderTpl(c)}return c},setupFramingTpl:function(c){c.applyRenderTpl=this.doApplyRenderTpl;c.renderTabGuard=this.doRenderFramingTabGuard},setupRenderTpl:function(c){c.renderBody=c.renderContent=this.doRenderContent},updateFrame:function(){if(Ext.supports.CSS3BorderRadius||!this.frame){return}var y=this,E=y.el.dom,A=y.frameTable,I=y.frameBody,w=I.dom,B=y.getFrameInfo(),N,F,J,G,C,M,L,H,D,K,x;J=document.createElement("div");M=y.getFrameRenderData();M.hasTabGuard=false;H=y.getFrameTpl(B.table);H.insertFirst(J,M);x=J.querySelectorAll("[data-ref]");K=J.querySelector('[data-ref="frameBody"]');for(C=w;C.parentNode!==E;){C=C.parentNode}while(J.firstChild){E.insertBefore(J.firstChild,C)}K.parentNode.replaceChild(w,K);w.className=K.className;I.setSize();N=y.getChildEls();if(A){A.destroy();y.frameTable=null}for(F in N){if(N[F].frame){G=y[F];if(G&&G!==I){G.destroy();y[F]=null}}}for(D=x.length;D--;){F=(L=x[D]).getAttribute("data-ref");if(F!=="frameBody"){y[F]=new Ext.dom.Element(L)}}},frameInfoCache:{}}},0,0,0,0,0,0,[Ext.util,"Renderable"],0));(Ext.cmd.derive("Ext.state.Provider",Ext.Base,{prefix:"ext-",constructor:function(d){var f=this;Ext.apply(f,d);f.state={};f.mixins.observable.constructor.call(f)},get:function(g,f){var j=this.state[g];return j===undefined?f:j},clear:function(d){var f=this;delete f.state[d];f.fireEvent("statechange",f,d,null)},set:function(f,g){var j=this;j.state[f]=g;j.fireEvent("statechange",j,f,g)},decodeValue:function(s){var w=this,o=/^(a|n|d|b|s|o|e)\:(.*)$/,x=o.exec(unescape(s)),r,v,y,p,u,q;if(!x||!x[1]){return}v=x[1];s=x[2];switch(v){case"e":return null;case"n":return parseFloat(s);case"d":return new Date(Date.parse(s));case"b":return(s==="1");case"a":r=[];if(s){p=s.split("^");u=p.length;for(q=0;q<u;q++){s=p[q];r.push(w.decodeValue(s))}}return r;case"o":r={};if(s){p=s.split("^");u=p.length;for(q=0;q<u;q++){s=p[q];y=s.split("=");r[y[0]]=w.decodeValue(y[1])}}return r;default:return s}},encodeValue:function(m){var l="",n=0,p,k,o;if(m==null){return"e:1"}else{if(typeof m==="number"){p="n:"+m}else{if(typeof m==="boolean"){p="b:"+(m?"1":"0")}else{if(Ext.isDate(m)){p="d:"+m.toUTCString()}else{if(Ext.isArray(m)){for(k=m.length;n<k;n++){l+=this.encodeValue(m[n]);if(n!==k-1){l+="^"}}p="a:"+l}else{if(typeof m==="object"){for(o in m){if(typeof m[o]!=="function"&&m[o]!==undefined){l+=o+"="+this.encodeValue(m[o])+"^"}}p="o:"+l.substring(0,l.length-1)}else{p="s:"+m}}}}}}return escape(p)}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.state,"Provider"],0));(Ext.cmd.derive("Ext.state.Manager",Ext.Base,{singleton:true,constructor:function(){this.provider=new Ext.state.Provider()},setProvider:function(c){this.provider=c},get:function(f,d){return this.provider.get(f,d)},set:function(d,f){this.provider.set(d,f)},clear:function(c){this.provider.clear(c)},getProvider:function(){return this.provider}},1,0,0,0,0,0,[Ext.state,"Manager"],0));(Ext.cmd.derive("Ext.state.Stateful",Ext.Base,{mixinId:"state",config:{stateful:null},saveDelay:100,constructor:function(){var c=this;if(!c.stateEvents){c.stateEvents=[]}if(c.stateful){c.addStateEvents(c.stateEvents);c.initState()}},addStateEvents:function(n){var l=this,o,m,p,k;if(l.stateful&&l.getStateId()){k=(typeof n==="string")?arguments:n;p=l.stateEventsByName||(l.stateEventsByName={});for(o=k.length;o--;){m=k[o];if(m&&!p[m]){p[m]=1;l.on(m,l.onStateChange,l)}}}},onStateChange:function(){var k=this,g=k.saveDelay,j,l;if(!k.stateful){return}if(g){if(!k.stateTask){j=Ext.state.Stateful;l=j.runner||(j.runner=new Ext.util.TaskRunner());k.stateTask=l.newTask({run:k.saveState,scope:k,interval:g,repeat:1,fireIdleEvent:false})}k.stateTask.start()}else{k.saveState()}},saveState:function(){var r=this,B=r.getStateful(),C=B&&r.getStateId(),s=r.hasListeners,v,u,A,x,y,w,D,q;if(C){D=r.getState()||{};if(Ext.isObject(B)){u=r.self.getConfigurator();u=u.configs;for(y in B){if(B[y]){if(!(y in D)){v=u[y];D[y]=v?r[v.get]():r[y]}}else{delete D[y]}}}A=r.getPlugins()||[];for(y=0,w=A.length;y<w;y++){x=A[y];if(x&&x.getState){q=x.getState(D);if(q&&!D[x.ptype]){D[x.ptype]=q}}}if(!s.beforestatesave||r.fireEvent("beforestatesave",r,D)!==false){Ext.state.Manager.set(C,D);if(s.statesave){r.fireEvent("statesave",r,D)}}}},getState:function(){return null},applyState:function(c){if(c){Ext.apply(this,c)}},getStateId:function(){var c=this;return c.stateId||(c.autoGenId?null:c.id)},initState:function(){var p=this,x=p.stateful&&p.getStateId(),q=p.hasListeners,y,o,u,r,v,s,w;if(x){o=Ext.state.Manager.get(x);if(o){y=Ext.apply({},o);if(!q.beforestaterestore||p.fireEvent("beforestaterestore",p,o)!==false){v=p.getPlugins()||[];for(u=0,r=v.length;u<r;u++){s=v[u];if(s){w=s.ptype;if(s.applyState){s.applyState(y[w],o)}delete y[w]}}p.applyState(y);if(q.staterestore){p.fireEvent("staterestore",p,o)}}}}},savePropToState:function(l,m,n){var p=this,o=p[l],k=p.initialConfig;if(p.hasOwnProperty(l)){if(!k||k[l]!==o){if(m){m[n||l]=o}return true}}return false},savePropsToState:function(k,m){var n=this,j,l;if(typeof k==="string"){n.savePropToState(k,m)}else{for(j=0,l=k.length;j<l;++j){n.savePropToState(k[j],m)}}return m},destroy:function(){var c=this.stateTask;if(c){c.destroy();this.stateTask=null}}},1,0,0,0,0,0,[Ext.state,"Stateful"],0));(Ext.cmd.derive("Ext.util.Focusable",Ext.Base,{mixinId:"focusable",hasFocus:false,focusable:false,focusCls:"focus",initFocusable:Ext.emptyFn,initFocusableEvents:function(){this.initFocusableElement()},getFocusClsEl:function(){return this.getFocusEl()},getFocusEl:function(){return this.element||this.el},destroyFocusable:function(){var c=this;Ext.destroy(c.focusListeners);c.focusListeners=c.focusEnterEvent=c.focusTask=null;c.focusEl=c.ariaEl=null},enableFocusable:Ext.emptyFn,disableFocusable:function(){var j=this,l,k=j.focusCls,g;if(j.hasFocus){l=j.findFocusTarget();if(l){l.focus()}}g=j.getFocusClsEl();if(k&&g){g.removeCls(j.removeClsWithUI(k,true))}},isFocusable:function(f){var g=this,j;if(!g.focusable&&(!g.isContainer||!f)){return false}j=g.getFocusEl();if(j&&g.canFocus()){return j.isFocusable(f)}return false},canFocus:function(l,j){var k=this,g;g=(k.isContainer||k.focusable)&&k.rendered&&!k.destroying&&!k.destroyed&&!k.disabled&&(l||k.isVisible(true));return g||(j&&!!k.findFocusTarget())},focus:function(p,s,n,r){var q=this,m,o,u;if((!q.focusable&&!q.isContainer)||q.destroyed||q.destroying){return}if(s){q.getFocusTask().delay(Ext.isNumber(s)?s:10,q.focus,q,[p,false,n,r]);return q}q.cancelFocus();if(q.canFocus()){if(m=q.getFocusEl()){if(m.isComponent){return m.focus(p,s,n,r)}o=m.dom;if(o){if(q.floating){u=q.container.dom.scrollTop}m.focus();if(p){if(Ext.isArray(p)){if(q.selectText){q.selectText.apply(q,p)}}else{if(o.select){o.select()}else{if(q.selectText){q.selectText()}}}}Ext.callback(n,r)}if(q.floating){if(u!==undefined){q.container.dom.scrollTop=u}}}}else{m=q.findFocusTarget();if(m){return m.focus(p,s,n,r)}}return q},cancelFocus:function(){var c=this.getFocusTask();if(c){c.cancel()}},beforeBlur:Ext.emptyFn,onBlur:function(k){var l=this,n=l.focusableContainer,m=l.focusCls,j;if(!l.focusable||l.destroying){return}l.hasFocus=false;l.beforeBlur(k);if(n){n.beforeFocusableChildBlur(l,k)}j=l.getFocusClsEl();if(m&&j){j.removeCls(l.removeClsWithUI(m,true))}l.fireEvent("blur",l,k);l.postBlur(k);if(n){n.afterFocusableChildBlur(l,k)}},postBlur:Ext.emptyFn,beforeFocus:Ext.emptyFn,onFocus:function(k){var l=this,n=l.focusableContainer,m=l.focusCls,j;if(!l.focusable){return}if(l.canFocus()){l.beforeFocus(k);if(n){n.beforeFocusableChildFocus(l,k)}j=l.getFocusClsEl();if(m&&j){j.addCls(l.addClsWithUI(m,true))}if(!l.hasFocus){l.hasFocus=true;l.fireEvent("focus",l,k)}l.postFocus(k);if(n){n.afterFocusableChildFocus(l,k)}}},postFocus:Ext.emptyFn,getTabIndex:function(){var g=this,j,f;if(!g.focusable){return}j=g.rendered&&g.getFocusEl();if(j){if(j.isComponent){f=j.getTabIndex()}else{if(j.isElement){f=j.getAttribute("tabIndex")}else{return}}g.tabIndex=f}else{f=g.tabIndex}return f-0},setTabIndex:function(j,g){var k=this,l;if(!k.focusable){return}k.tabIndex=j;if(!k.rendered){return}l=g||k.getFocusEl();if(l){if(l.isComponent){l.setTabIndex(j)}else{if(l.isElement){l.set({tabIndex:j})}}}},onFocusEnter:function(f){var d=this;if(d.destroying||d.destroyed){return}if(d.floating&&d!==d.zIndexManager.getActive()){d.toFront(true)}d.focusEnterEvent=f;d.containsFocus=true;d.fireEvent("focusenter",d,f)},onFocusLeave:function(f){var d=this;if(d.destroying||d.destroyed){return}d.focusEnterEvent=null;d.containsFocus=false;d.fireEvent("focusleave",d,f)},privates:{revertFocus:function(){var g=this,j=g.focusEnterEvent,f;if(g.preventRefocus||!g.el.contains(Ext.Element.getActiveElement())||!j){return}f=j&&j.relatedTarget;if(Ext.getDoc().contains(f)&&Ext.fly(f).isFocusable()){f.focus()}else{if(j.fromComponent&&j.fromComponent.focus){j.fromComponent.focus()}}},findFocusTarget:function(){var l=this,g,k,j;for(g=l.up(":visible(true):not([disabled]):not([destroying])");g;g=g.up(":visible(true):not([disabled]):not([destroying])")){k=Ext.ComponentQuery.query(":canfocus()",g);if(k.length){j=Ext.Array.indexOf(k,Ext.ComponentManager.getActiveComponent());return k[j+1]||k[j-1]||k[0]}if(g.isFocusable&&g.isFocusable()){return g}}},initFocusableElement:function(){var g=this,f=g.tabIndex,j=g.getFocusEl();if(j&&!j.isComponent){g.focusEl=j;if(f!=null&&g.canFocus(true)){g.setTabIndex(f,j)}j.dom.setAttribute("data-componentid",g.id)}},getFocusTask:function(){if(!this.focusTask){this.focusTask=Ext.focusTask}return this.focusTask},handleFocusEvent:function(f){var d;if(this.isFocusing(f)){d=new Ext.event.Event(f.event);d.type="focus";d.relatedTarget=f.fromElement;d.target=f.toElement;this.onFocus(d)}},handleBlurEvent:function(f){var d;if(this.isBlurring(f)){d=new Ext.event.Event(f.event);d.type="blur";d.target=f.fromElement;d.relatedTarget=f.toElement;this.onBlur(d)}},isFocusing:function(f){var d;if(this.focusable){d=this.getFocusEl();if(d){if(d.isComponent){return d.isFocusing(f)}else{return f.toElement===d.dom&&f.fromElement!==f.toElement}}}return false},isBlurring:function(f){var d;if(this.focusable){d=this.getFocusEl();if(d){if(d.isComponent){return d.isBlurring(f)}else{return f.fromElement===d.dom&&f.fromElement!==f.toElement}}}return false},blur:function(){var f=this,d;if(!f.focusable||!f.canFocus()){return}d=f.getFocusEl();if(d){f.blurring=true;d.blur();delete f.blurring}return f},disableTabbing:function(){var g=this,j=g.el,f;if(j){j.saveTabbableState()}f=g.getFocusEl();if(f){if(f.isComponent){f.disableTabbing()}else{if(f.isElement&&j&&!j.contains(f)){f.saveTabbableState()}}}},enableTabbing:function(){var g=this,j=g.el,f;f=g.getFocusEl();if(f){if(f.isComponent){f.enableTabbing()}else{if(f.isElement&&j&&!j.contains(f)){f.restoreTabbableState()}}}if(j){j.restoreTabbableState()}},updateMaskState:function(k,j){var m=this,n=m.ariaEl.dom,l;if(k){m.disableTabbing();m.setMasked(true);if(n){n.setAttribute("aria-busy","true");l=n.getAttribute("aria-describedby");if(l){m._savedAriaDescribedBy=l}n.setAttribute("aria-describedby",j.ariaEl.id)}}else{m.enableTabbing();m.setMasked(false);if(n){n.removeAttribute("aria-busy");l=n.getAttribute("aria-describedby");n.removeAttribute("aria-describedby");if(l===j.ariaEl.id&&m._savedAriaDescribedBy){n.setAttribute("aria-describedby",m._savedAriaDescribedBy);delete m._savedAriaDescribedBy}}}}}},0,0,0,0,0,0,[Ext.util,"Focusable"],function(){if(!Ext.focusTask){Ext.focusTask=new Ext.util.DelayedTask()}}));(Ext.cmd.derive("Ext.mixin.Accessible",Ext.Mixin,{mixinConfig:{id:"accessible"},config:{ariaAttributes:{$value:null,lazy:true}},privates:{getAriaLabelEl:function(q){var o=[],m,p,r,n,l;if(q){if(Ext.isFunction(q)){return q.call(this)}else{if(!Ext.isArray(q)){q=[q]}m=this.lookupReferenceHolder();if(m){for(p=0,r=q.length;p<r;p++){n=m.lookupReference(q[p]);if(n){o.push(n.ariaEl.id)}}}}}return o.length?o.join(" "):null}}},0,0,0,0,0,0,[Ext.mixin,"Accessible"],0));(Ext.cmd.derive("Ext.mixin.Keyboard",Ext.Mixin,function(c){return{mixinConfig:{id:"keyboard"},config:{keyMap:{$value:null,cached:true,merge:function(u,w,b,p){if(u===null){return u}var v=w?Ext.Object.chain(w):{},s,q,r,o;for(s in u){if(s!=="scope"){q=s.toUpperCase();if(!p||v[q]===undefined){r=u[s];if(r){if(typeof r==="string"||typeof r==="function"){r={handler:r}}else{r=Ext.apply({handler:r.fn},r)}o=r.scope||u.scope||"self";r.scope=(o==="controller")?"self.controller":o}v[q]=r}}}return v}},keyMapEnabled:null},keyMapTarget:"el",applyKeyMap:function(b,n){var o=this,m,p,q,r;if(b){if(n&&o.isConfiguring){n=Ext.apply({},n)}m=b.scope||"controller";for(q in b){if(q==="scope"){continue}if(!(r=b[q])){if(!n){continue}}else{if(typeof r==="string"||typeof r==="function"){r={handler:r,scope:m}}else{if(r){r=Ext.apply({handler:r.fn,scope:m},r)}}n=n||{}}if(c.parseEntry(q,p=r||{})){n[p.name]=r}}}else{n=null}if(o._keyMapReady){o.setKeyMapListener(n&&o.getKeyMapEnabled())}return n||null},initKeyMap:function(){var b=this,f=b.getKeyMapEnabled();b._keyMapReady=true;if(f===null){b.setKeyMapEnabled(true)}else{b.setKeyMapListener(f&&b.getKeyMap())}},updateKeyMapEnabled:function(b){this.setKeyMapListener(b&&this._keyMapReady&&this.getKeyMap())},privates:{_keyMapReady:false,callKeyMapEntry:function(f,b){return f&&Ext.callback(f.handler,f.scope,[b,this],0,this)},findKeyMapEntry:function(k){var l=this,b=l.getKeyMap(),n,m;if(b){for(n in b){if(c.matchEntry(n,m=b[n],k)){return m}}}return null},onKeyMapEvent:function(b){var g=this,j=g.getKeyMapEnabled()?g.findKeyMapEntry(b):null;return g.callKeyMapEntry(j,b)},setKeyMapListener:function(l){var k=this,b=k._keyMapListener,j;if(b){b.destroy();b=null}if(l){j=k[k.keyMapTarget];if(typeof j==="function"){j=j.call(k)}b=j.on({destroyable:true,scope:k,keydown:"onKeyMapEvent",keypress:"onKeyMapEvent"})}k._keyMapListener=b||null},statics:{_charCodeRe:/^#([\d]+)$/,_hyphenRe:/^[a-z]+\-/i,_keyMapEvents:{charCode:"keypress",keyCode:"keydown"},matchEntry:function(n,k,b){var l=b.browserEvent,m;if(b.type!==k.event){return false}if(!(m=k.charCode)){if(k.keyCode!==b.keyCode||!k.shiftKey!==!l.shiftKey){return false}}else{if(b.getCharCode()!==m){return false}}return !k.ctrlKey===!l.ctrlKey&&!k.altKey===!l.altKey&&!k.metaKey===!l.metaKey},parseEntry:function(G,H){G=G.toUpperCase();var n=this,F=Ext.event.Event,b=F.keyFlags,C=n._hyphenRe.test(G)?"-":"+",k=(G===C)?[C]:G.split(C),B=k.length-1,A=k[B],E=A,w="keyCode",D,y,x;for(y=0;y<B;y++){H[b[k[y]]]=true}if(B){E=H.ctrlKey?"CTRL+":"";E+=H.altKey?"ALT+":"";E+=H.metaKey?"META+":"";E+=H.shiftKey?"SHIFT+":"";E+=A}H.name=E;if(isNaN(D=F[A])){if(!(x=n._charCodeRe.exec(A))){if(A.length===1){D=A.charCodeAt(0)}}else{D=+x[1]}if(D){w="charCode"}else{D=+A}}H.event=H.event||n._keyMapEvents[w];return !isNaN(D)&&(H[w]=D)}}}}},0,0,0,0,0,0,[Ext.mixin,"Keyboard"],0));(Ext.cmd.derive("Ext.Component",Ext.Base,{alternateClassName:"Ext.AbstractComponent",statics:{AUTO_ID:1000,pendingLayouts:null,layoutSuspendCount:0,DIRECTION_TOP:"top",DIRECTION_RIGHT:"right",DIRECTION_BOTTOM:"bottom",DIRECTION_LEFT:"left",VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,INVALID_ID_CHARS_Re:/[\.,\s]/g,ariaHighContrastModeCls:"x-aria-highcontrast",cancelLayout:function(f,g){var j=this.runningLayoutContext||this.pendingLayouts;if(j){j.cancelComponent(f,false,g)}},fromElement:function(g,j,f){return Ext.ComponentManager.fromElement(g,j,f)},flushLayouts:function(){var f=this,d=f.pendingLayouts;if(d&&d.invalidQueue.length){f.pendingLayouts=null;f.runningLayoutContext=d;Ext.override(d,{runComplete:function(){f.runningLayoutContext=null;var b=Ext.scroll.Scroller,c=Ext.GlobalEvents,j;if(b.viewport){b.viewport.restoreState()}j=this.callParent();if(c.hasListeners.afterlayout){c.fireEvent("afterlayout")}return j}});d.run()}},resumeLayouts:function(c){if(this.layoutSuspendCount&&!--this.layoutSuspendCount){if(c){this.flushLayouts()}if(Ext.GlobalEvents.hasListeners.resumelayouts){Ext.GlobalEvents.fireEvent("resumelayouts")}}},suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(n,k){var m=this,j=m.runningLayoutContext,l;if(j){j.queueInvalidate(n)}else{l=m.pendingLayouts||(m.pendingLayouts=new Ext.layout.Context());l.queueInvalidate(n);if(!k&&!m.layoutSuspendCount&&!n.isLayoutSuspended()){m.flushLayouts()}}}},$configPrefixed:false,$configStrict:false,clearPropertiesOnDestroy:"async",manageLayoutScroll:true,config:{data:null,maxHeight:null,maxWidth:null,minHeight:null,minWidth:null,scrollable:null},renderConfig:{touchAction:null},defaultBindProperty:"html",alignTarget:null,autoRender:false,autoShow:false,baseCls:"x-component",childEls:{frameTable:{frame:true},frameTL:{frame:"tl"},frameTC:{frame:"tc"},frameTR:{frame:"tr"},frameML:{frame:"ml"},frameBody:{frame:"mc"},frameMR:{frame:"mr"},frameBL:{frame:"bl"},frameBC:{frame:"bc"},frameBR:{frame:"br"}},componentLayout:"autocomponent",defaultAlign:"c-c",disabled:false,disabledRe:/^(?:button|input|select|textarea|optgroup|option|fieldset)$/i,nonMaskableRe:(function(){var c=["input","select","textarea","optgroup","option","table"];if(Ext.isIE9m&&!(Ext.isIE9&&!Ext.isIEQuirks)){c.push("p")}return new RegExp("^(?:"+c.join("|")+")$","i")}()),disabledCls:"x-item-disabled",draggable:false,floating:false,hidden:false,hideMode:"display",maskElement:null,renderTpl:"{%this.renderContent(out,values)%}",resizeHandles:"all",shrinkWrap:2,toFrontOnShow:true,synthetic:false,tplWriteMode:"overwrite",ui:"default",uiCls:[],userCls:null,weight:null,allowDomMove:true,autoGenId:false,borderBoxCls:"x-border-box",componentLayoutCounter:0,contentPaddingProperty:"padding",deferLayouts:false,frameSize:null,horizontalPosProp:"left",isComponent:true,_isLayoutRoot:false,layoutSuspendCount:0,liquidLayout:false,maskOnDisable:true,rendered:false,rootCls:"x-body",scrollerCls:"x-scroll-scroller",_scrollFlags:{auto:{auto:{overflowX:"auto",overflowY:"auto",x:true,y:true,both:true},"false":{overflowX:"auto",overflowY:"hidden",x:true,y:false,both:false},scroll:{overflowX:"auto",overflowY:"scroll",x:true,y:true,both:true}},"false":{auto:{overflowX:"hidden",overflowY:"auto",x:false,y:true,both:false},"false":{overflowX:"hidden",overflowY:"hidden",x:false,y:false,both:false},scroll:{overflowX:"hidden",overflowY:"scroll",x:false,y:true,both:false}},scroll:{auto:{overflowX:"scroll",overflowY:"auto",x:true,y:true,both:true},"false":{overflowX:"scroll",overflowY:"hidden",x:true,y:false,both:false},scroll:{overflowX:"scroll",overflowY:"scroll",x:true,y:true,both:true}},none:{overflowX:"",overflowY:"",x:false,y:false,both:false}},_scrollableCfg:{x:{x:true,y:false},y:{x:false,y:true},horizontal:{x:true,y:false},vertical:{x:false,y:true},both:{x:true,y:true},"true":{x:true,y:true}},validIdRe:Ext.validIdRe,constructor:function(y){var r=this,w,s,q,u,o,v,x,p;y=y||{};if(y.initialConfig){if(y.isAction){r.baseAction=y}y=y.initialConfig}else{if(y.tagName||y.dom||Ext.isString(y)){y={applyTo:y,id:y.id||y}}}r.initialConfig=y;r.getId();r.protoEl=new Ext.util.ProtoElement();r.initConfig(y);if(r.scrollable==null){o=r.autoScroll;if(o){p=!!o}else{v=r.overflowX;x=r.overflowY;if(v||x){p={x:(v&&v!=="hidden")?v:false,y:(x&&x!=="hidden")?x:false}}}if(p){r.setScrollable(p)}}q=r.xhooks;if(q){delete r.xhooks;Ext.override(r,q)}r.mixins.elementCt.constructor.call(r);r.setupProtoEl();if(r.cls){r.initialCls=r.cls;r.protoEl.addCls(r.cls)}if(r.style){r.initialStyle=r.style;r.protoEl.setStyle(r.style)}r.renderData=r.renderData||{};r.initComponent();if(!r.preventRegister){Ext.ComponentManager.register(r)}r.mixins.state.constructor.call(r);r.addStateEvents("resize");u=r.getController();if(u){u.init(r)}if(r.plugins){for(w=0,s=r.plugins.length;w<s;w++){r.plugins[w]=r.initPlugin(r.plugins[w])}}r.loader=r.getLoader();if(r.disabled){r.disabled=false;r.disable(true)}if(r.renderTo){r.render(r.renderTo)}if(r.autoShow&&!r.$initParent){r.show()}if(r.baseAction){r.baseAction.addComponent(r)}},beforeInitConfig:function(){this.mixins.observable.constructor.call(this)},addCls:function(f){var g=this,j=g.rendered?g.el:g.protoEl;j.addCls.apply(j,arguments);return g},addClsWithUI:function(u,o){var p=this,q=[],r=0,s=p.uiCls=Ext.Array.clone(p.uiCls),v=p.activeUI,w,n;if(typeof u==="string"){u=(u.indexOf(" ")<0)?[u]:Ext.String.splitWords(u)}w=u.length;for(;r<w;r++){n=u[r];if(n&&!p.hasUICls(n)){s.push(n);if(v){q=q.concat(p.addUIClsToElement(n))}}}if(o!==true&&v){p.addCls(q)}return q},afterComponentLayout:function(n,p,o,l){var m=this,k=m.scrollable;if(++m.componentLayoutCounter===1){m.afterFirstLayout(n,p)}else{if(m.manageLayoutScroll&&k){k.restoreState()}}if(n!==o||p!==l){m.onResize(n,p,o,l)}if(m.floating){m.onAfterFloatLayout()}},addPlugin:function(f){var d=this;f=d.constructPlugin(f);if(d.plugins){d.plugins.push(f)}else{d.plugins=[f]}if(d.pluginsInitialized){d.initPlugin(f)}return f},addPropertyToState:function(k,l,m){var n=this,j=arguments.length;if(j===3||n.hasOwnProperty(l)){if(j<3){m=n[l]}if(m!==n.initialConfig[l]){(k||(k={}))[l]=m}}return k},addUIClsToElement:function(n){var q=this,u=q.baseCls+"-"+q.ui+"-"+n,m=["x-"+n,q.baseCls+"-"+n,u],r,o,s,p;if(q.rendered&&q.frame&&!Ext.supports.CSS3BorderRadius){u+="-";r=q.getChildEls();for(o in r){p=r[o].frame;if(p&&p!==true){s=q[o];if(s){s.addCls(u+p)}}}}return m},removeUIClsFromElement:function(n){var q=this,u=q.baseCls+"-"+q.ui+"-"+n,m=["x-"+n,q.baseCls+"-"+n,u],r,o,s,p;if(q.rendered&&q.frame&&!Ext.supports.CSS3BorderRadius){u+="-";r=q.getChildEls();for(o in r){p=r[o].frame;if(p&&p!==true){s=q[o];if(s){s.removeCls(u+p)}}}}return m},adjustPosition:function(g,j){var l=this,k;if(l.isContainedFloater()){k=l.floatParent.getTargetEl().getViewRegion();g+=k.left;j+=k.top}return{x:g,y:j}},afterHide:function(j,l){var k=this,g=k.focusableContainer;delete k.getInherited().topmostFocusEvent;k.hiddenByLayout=null;if(k.ownerLayout){k.updateLayout({isRoot:false})}if(g){g.onFocusableChildHide(k)}k.fireHierarchyEvent("hide");k.fireEvent("hide",k);Ext.callback(j,l||k)},afterSetPosition:function(f,g){var j=this;j.onPosition(f,g);if(j.hasListeners.move){j.fireEvent("move",j,f,g)}},afterShow:function(p,n,r){var q=this,o=q.el,m,u,s;p=q.getAnimateTarget(p);if(!q.ghost){p=null}if(p){u={x:o.getX(),y:o.getY(),width:o.dom.offsetWidth,height:o.dom.offsetHeight};m={x:p.getX(),y:p.getY(),width:p.dom.offsetWidth,height:p.dom.offsetHeight};q.fireHierarchyEvent("show");s=q.ghost();s.el.stopAnimation();s.setX(-10000);q.ghostBox=u;s.el.animate({from:m,to:u,listeners:{afteranimate:function(){if(!q.destroying){s.componentLayout.lastComponentSize=null;q.unghost();q.ghostBox=null;q.onShowComplete(n,r)}}}})}else{q.onShowComplete(n,r);q.fireHierarchyEvent("show")}},animate:function(N){var w=this,K,G,H,P,M,O,y,C,F,L,B,E,J,D,A,I;N=N||{};M=N.to||{};if(Ext.fx.Manager.hasFxBlock(w.id)){return w}K=Ext.isDefined(M.width);if(K){P=Ext.Number.constrain(M.width,w.minWidth,w.maxWidth)}G=Ext.isDefined(M.height);if(G){H=Ext.Number.constrain(M.height,w.minHeight,w.maxHeight)}if(!N.dynamic&&(K||G)){C=(N.from?N.from.width:undefined)||w.getWidth();F=C;L=(N.from?N.from.height:undefined)||w.getHeight();B=L;E=false;if(G&&H>L){B=H;E=true}if(K&&P>C){F=P;E=true}if(G||K){I=w.el.getStyle("overflow");if(I!=="hidden"){w.el.setStyle("overflow","hidden")}}if(E){O=!Ext.isNumber(w.width);y=!Ext.isNumber(w.height);w.setSize(F,B);w.el.setSize(C,L);if(O){delete w.width}if(y){delete w.height}}if(K){M.width=P}if(G){M.height=H}}J=w.constrain;D=w.constrainHeader;if(J||D){w.constrain=w.constrainHeader=false;A=N.callback;N.callback=function(){w.constrain=J;w.constrainHeader=D;if(A){A.call(N.scope||w,arguments)}if(I!=="hidden"){w.el.setStyle("overflow",I)}}}return w.mixins.animate.animate.apply(w,arguments)},applyScrollable:function(n,m){var j=this,k=j.rendered,l;if(n){if(n===true||typeof n==="string"){l=j._scrollableCfg[n];n=l}if(m){m.setConfig(n);n=m}else{n=Ext.Object.chain(n);if(k){n.element=j.getOverflowEl()}n=Ext.scroll.Scroller.create(n,j.scrollableType);n.component=j}}else{if(m){n=m;m.setConfig({x:false,y:false})}}if(j.rendered&&!j.destroying&&!j.destroyed){if(n){j.getOverflowStyle()}else{j.scrollFlags=j._scrollFlags.none}j.updateLayout()}return n},applyTouchAction:function(d,f){if(f!=null){d=Ext.merge({},f,d)}return d},beforeDestroy:Ext.emptyFn,beforeLayout:function(){if(this.floating){this.onBeforeFloatLayout()}},beforeSetPosition:function(n,p,v){var q=this,o=null,s,u,w,r;if(n){if(Ext.isNumber(s=n[0])){v=p;p=n[1];n=s}else{if((s=n.x)!==undefined){v=p;p=n.y;n=s}}}if(q.constrain||q.constrainHeader){o=q.calculateConstrainedPosition(null,[n,p],true);if(o){n=o[0];p=o[1]}}u=(n!==undefined);w=(p!==undefined);if(u||w){q.x=n;q.y=p;r=q.adjustPosition(n,p);o={x:r.x,y:r.y,anim:v,hasX:u,hasY:w}}return o},beforeShow:Ext.emptyFn,bubble:function(k,l,g){var j=this;while(j){if(k.apply(l||j,g||[j])===false){break}j=j.getBubbleTarget()}return this},clearListeners:function(){var c=this;c.mixins.observable.clearListeners.call(c);c.mixins.componentDelegation.clearDelegatedListeners.call(c)},cloneConfig:function(k){k=k||{};var j=k.id||Ext.id(),g=Ext.applyIf(k,this.initialConfig),l;g.id=j;l=Ext.getClass(this);return new l(g)},destroy:function(){var c=this;if(!c.hasListeners.beforedestroy||c.fireEvent("beforedestroy",c)!==false){c.isDestroying=c.destroying=true;c.doDestroy();c.clearListeners();c.isDestroying=c.destroying=false;c.callParent();c.mixins.componentDelegation.destroyComponentDelegation.call(c);c.mixins.observable.destroyObservable.call(c,true)}},doDestroy:function(){var l=this,p=l.focusableContainer,o=l.renderSelectors,k,m,n;m=l.floatParent||l.ownerCt;if(l.floating){delete l.floatParent;if(l.zIndexManager&&!l.zIndexManager.destroyed){l.zIndexManager.unregister(l)}l.floating=true}l.removeBindings();if(!l.beforeDestroy.$emptyFn){l.beforeDestroy()}l.destroyBindable();if(m&&m.remove){m.remove(l,false)}l.stopAnimation();if(l.rendered){Ext.destroy(l.loadMask,l.dd,l.resizer,l.proxy,l.proxyWrap,l.resizerComponent,l.scrollable,l.contentEl)}if(p){p.onFocusableChildDestroy(l)}if(l.focusable){l.destroyFocusable()}Ext.destroy(l.componentLayout,l.loadMask,l.floatingDescendants);if(!l.onDestroy.$emptyFn){l.onDestroy()}Ext.destroy(l.plugins);if(l.rendered){Ext.Component.cancelLayout(l,true)}l.componentLayout=null;if(l.hasListeners.destroy){l.fireEvent("destroy",l)}if(!l.preventRegister){Ext.ComponentManager.unregister(l)}l.mixins.state.destroy.call(l);if(l.floating){l.onFloatDestroy()}if(l.rendered){if(l.showListenerIE){l.showListenerIE.destroy();l.showListenerIE=null}if(!l.preserveElOnDestroy){l.el.destroy()}l.el.component=null;l.mixins.elementCt.destroy.call(l);if(o){for(k in o){if(o.hasOwnProperty(k)){n=l[k];if(n){delete l[k];n.destroy()}}}}l.rendered=false}},disable:function(m,k){var l=this,n=l.focusableContainer,j=l.getInherited();if(!k){j.disabled=true;l.savedDisabled=true}if(l.maskOnDisable){j.disableMask=true}if(!l.disabled){if(n){n.beforeFocusableChildDisable(l)}l.addCls(l.disabledCls);if(l.rendered){l.onDisable()}else{l.disableOnRender=true}l.disabled=true;if(m!==true){l.fireEvent("disable",l)}if(n){n.onFocusableChildDisable(l)}}return l},doFireEvent:function(n,l,j){var k=this,m;m=k.mixins.observable.doFireEvent.call(k,n,l,j);if(m!==false&&!k.destroyed){m=k.mixins.componentDelegation.doFireDelegatedEvent.call(k,n,l)}return m},enable:function(m,k){var l=this,n=l.focusableContainer,j=l.getInherited();if(!k){delete l.getInherited().disabled;l.savedDisabled=false}if(l.maskOnDisable){delete j.disableMask}if(l.disabled){if(!(k&&j.hasOwnProperty("disabled"))){if(n){n.beforeFocusableChildEnable(l)}l.disableOnRender=false;l.removeCls(l.disabledCls);if(l.rendered){l.onEnable()}l.disabled=false;if(m!==true){l.fireEvent("enable",l)}if(n){n.onFocusableChildEnable(l)}}}return l},findParentBy:function(d){var f;for(f=this.getRefOwner();f&&!d(f,this);f=f.getRefOwner()){}return f||null},findParentByType:function(c){return Ext.isFunction(c)?this.findParentBy(function(b){return b.self===c||b.constructor===c}):this.up(c)},findPlugin:function(j){var l,g=this.plugins,k=g&&g.length;for(l=0;l<k;l++){if(g[l].ptype===j){return g[l]}}},getAnimateTarget:function(c){c=c||this.animateTarget;if(c){c=c.isComponent?c.getEl():Ext.get(c)}return c||null},getBubbleTarget:function(){return this.getRefOwner()},getComponentLayout:function(){var c=this;if(!c.componentLayout||!c.componentLayout.isLayout){c.setComponentLayout(Ext.layout.Layout.create(c.componentLayout,"autocomponent"))}return c.componentLayout},getEl:function(){return this.el},getHeight:function(){return this.el.getHeight()},initInheritedState:function(f){var g=this,j=g.componentLayout;if(g.hidden){f.hidden=true}if(g.collapseImmune){f.collapseImmune=true}if(g.modelValidation!==undefined){f.modelValidation=g.modelValidation}if(g.savedDisabled){f.disabled=true}g.mixins.bindable.initInheritedState.call(g,f);if(j&&j.initInheritedState){j.initInheritedState(f)}},getId:function(){var d=this,f;if(!(d.id||(d.id=d.initialConfig.id))){f=d.getXType();if(f){f=f.replace(Ext.Component.INVALID_ID_CHARS_Re,"-")}else{f=Ext.name.toLowerCase()+"-comp"}d.id=f+"-"+d.getAutoId()}return d.id},getItemId:function(){return this.itemId||this.id},getLoader:function(){var f=this,d=f.loader;if(d){if(!d.isLoader){f.loader=new Ext.ComponentLoader(Ext.apply({target:f},d))}else{d.setTarget(f)}return f.loader}return null},getMaskTarget:function(){return this.maskElement?this[this.maskElement]:null},getPlugin:function(k){var n,j=this.plugins,l=j&&j.length,m;for(n=0;n<l;n++){m=j[n];if(m.id===k||m.pluginId===k){return m}}return null},getPosition:function(j){var n=this,l,m=n.isContainedFloater(),k;if((j===true)&&!m){return[n.getLocalX(),n.getLocalY()]}l=n.getXY();if((j===true)&&m){k=n.floatParent.getTargetEl().getViewRegion();l[0]-=k.left;l[1]-=k.top}return l},getScrollX:function(){var c=this.getScrollable();return c?c.getPosition().x:0},getScrollY:function(){var c=this.getScrollable();return c?c.getPosition().y:0},getSize:function(c){return this.el.getSize(c)},getSizeModel:function(B){var w=this,K=Ext.layout.SizeModel,H=w.componentLayout.ownerContext,J=w.width,M=w.height,L,I,E,F,D,N,y,x,A,C,G=w.floating||w.floated;if(H){C=H.widthModel;D=H.heightModel}if(!C||!D){E=((L=typeof J)==="number");F=((I=typeof M)==="number");A=G||!(N=w.ownerLayout);if(A){y=Ext.layout.Layout.prototype.autoSizePolicy;x=G?3:w.shrinkWrap;if(E){C=K.configured}if(F){D=K.configured}}else{y=N.getItemSizePolicy(w,B);x=N.isItemShrinkWrap(w)}if(H){H.ownerSizePolicy=y}x=(x===true)?3:(x||0);if(A&&x){if(J&&L==="string"){x&=2}if(M&&I==="string"){x&=1}}if(x!==3){if(!B){B=w.ownerCt&&w.ownerCt.getSizeModel()}if(B){x|=(B.width.shrinkWrap?1:0)|(B.height.shrinkWrap?2:0)}}if(!C){if(!y.setsWidth){if(E){C=K.configured}else{C=(x&1)?K.shrinkWrap:K.natural}}else{if(y.readsWidth){if(E){C=K.calculatedFromConfigured}else{C=(x&1)?K.calculatedFromShrinkWrap:K.calculatedFromNatural}}else{C=K.calculated}}}if(!D){if(!y.setsHeight){if(F){D=K.configured}else{D=(x&2)?K.shrinkWrap:K.natural}}else{if(y.readsHeight){if(F){D=K.calculatedFromConfigured}else{D=(x&2)?K.calculatedFromShrinkWrap:K.calculatedFromNatural}}else{D=K.calculated}}}}return C.pairsByHeightOrdinal[D.ordinal]},getState:function(){var j=this,g=null,f=j.getSizeModel();if(f.width.configured){g=j.addPropertyToState(g,"width")}if(f.height.configured){g=j.addPropertyToState(g,"height")}return g},getUserCls:function(){return this.userCls},setUserCls:function(f){var j=this,g=j.userCls;if(f!==g){j.userCls=f;if(j.rendered){j.el.replaceCls(g,f)}}return g},getWidth:function(){return this.el.getWidth()},getXType:function(){return this.self.xtype},getXTypes:function(){var k=this.self,j,l,g;if(!k.xtypes){j=[];l=this;while(l){g=l.xtypes;if(g!==undefined){j.unshift.apply(j,g)}l=l.superclass}k.xtypeChain=j;k.xtypes=j.join("/")}return k.xtypes},hasCls:function(f){var d=this.rendered?this.el:this.protoEl;return d.hasCls.apply(d,arguments)},hasUICls:function(f){var j=this,g=j.uiCls||[];return Ext.Array.contains(g,f)},hide:function(l,k,n){var m=this,j=m.focusableContainer;if(m.pendingShow){m.pendingShow=false}if(!(m.rendered&&!m.isVisible())){if(!m.hasListeners.beforehide||m.fireEvent("beforehide",m)!==false||m.hierarchicallyHidden){m.getInherited().hidden=m.hidden=true;if(j){j.beforeFocusableChildHide(m)}m.fireHierarchyEvent("beforehide");if(m.rendered){m.onHide.apply(m,arguments)}}}return m},initComponent:function(){var g=this,j=g.width,f=g.height;if(g.plugins&&!g.plugins.processed){g.plugins=g.constructPlugins()}g.pluginsInitialized=true;if(j!=null||f!=null){g.setSize(j,f)}if(g.listeners){g.on(g.listeners);g.listeners=null}if(g.focusable){g.initFocusable()}},initEvents:function(){var o=this,m=o.afterRenderEvents,r,p,n,q,l;if(m){for(n in m){p=o[n];if(p&&p.on){r=m[n];for(q=0,l=r.length;q<l;++q){o.mon(p,r[q])}}}}if(o.focusable){o.initFocusableEvents()}o.initKeyMap()},is:function(c){return Ext.ComponentQuery.is(this,c)},isDescendantOf:function(d){var f;for(f=this.getRefOwner();f&&f!==d;f=f.getRefOwner()){}return f||null},isAncestor:function(c){while(c){if(c.getRefOwner()===this){return true}c=c.getRefOwner()}},isDisabled:function(){return this.disabled},isDraggable:function(){return !!this.draggable},isDroppable:function(){return !!this.droppable},isFloating:function(){return this.floating},isHidden:function(){return this.hidden},isHierarchicallyHidden:function(){var j=this,k=false,g,l;for(;(g=j.ownerCt||j.floatParent);j=g){l=g.getInherited();if(l.hidden){k=true;break}if(j.getInherited().collapseImmune){if(g.collapsed&&!j.collapseImmune){k=true;break}}else{k=!!l.collapsed;break}}return k},isLayoutChild:function(c){return !this.floating&&!!this.up(c)},isLayoutRoot:function(){var d=this,f=d.ownerLayout;if(!f||d._isLayoutRoot||d.floating){return true}return f.isItemLayoutRoot(d)},isLayoutSuspended:function(){var d=this,f;while(d){if(d.layoutSuspendCount||d.suspendLayout){return true}f=d.ownerLayout;if(!f){break}d=f.owner}return false},isVisible:function(f){var j=this,g;if(j.hidden||!j.rendered||j.destroyed){g=true}else{if(f){g=j.isHierarchicallyHidden()}}return !g},isXType:function(f,d){return d?(Ext.Array.indexOf(this.xtypes,f)!==-1):!!this.xtypesMap[f]},isMasked:function(d){var f=this;return !!(f.masked||(f.loadMask&&f.loadMask.isVisible())||(d&&f.getInherited().masked))},lookupTpl:function(c){return Ext.XTemplate.getTpl(this,c)},setMasked:function(g){var j=this,f=j.focusableContainer;if(g){j.masked=true;j.getInherited().masked=g}else{j.masked=false;delete j.getInherited().masked}if(f){f.onFocusableChildMasked(j,g)}return j},mask:function(k,m,j){var n=this.lastBox,l=this.getMaskTarget()||this.el;if(n){j=n.height}l.mask(k,m,j);this.setMasked(true)},nextNode:function(s,o){var v=this,u=v.ownerCt,n,r,p,q,w;if(o&&v.is(s)){return v}if(u){for(r=u.items.items,q=Ext.Array.indexOf(r,v)+1,p=r.length;q<p;q++){w=r[q];if(w.is(s)){return w}if(w.down){n=w.down(s);if(n){return n}}}return u.nextNode(s)}return null},nextSibling:function(p){var m=this.ownerCt,o,n,c,l;if(m){o=m.items;c=o.indexOf(this)+1;if(c){if(p){for(n=o.getCount();c<n;c++){if((l=o.getAt(c)).is(p)){return l}}}else{if(c<o.getCount()){return o.getAt(c)}}}}return null},onAdded:function(l,j,g){var k=this;k.ownerCt=l;k.onInheritedAdd(k,g);if(k.hasListeners&&k.hasListeners.added){k.fireEvent("added",k,l,j)}if(Ext.GlobalEvents.hasListeners.added){k.fireHierarchyEvent("added")}},onRemoved:function(k){var l=this,j,g;if(!l.isLayoutMoving&&l.el&&l.el.contains(Ext.Element.getActiveElement())){g=l.findFocusTarget();if(g){g.focus()}}if(Ext.GlobalEvents.hasListeners.removed){l.fireHierarchyEvent("removed")}if(l.hasListeners.removed){l.fireEvent("removed",l,l.ownerCt)}if(!k){l.removeBindings()}l.onInheritedRemove(k);l.ownerCt=l.ownerLayout=null},onBoxReady:function(k,g){var j=this,l;if(j.ariaLabelledBy||j.ariaDescribedBy){if(j.ariaLabelledBy){l=j.getAriaLabelEl(j.ariaLabelledBy);if(l){j.ariaEl.dom.setAttribute("aria-labelledby",l)}}if(j.ariaDescribedBy){l=j.getAriaLabelEl(j.ariaDescribedBy);if(l){j.ariaEl.dom.setAttribute("aria-describedby",l)}}}if(j.resizable){j.initResizable(j.resizable)}if(j.draggable){j.initDraggable()}if(j.hasListeners.boxready){j.fireEvent("boxready",j,k,g)}},onDestroy:Ext.emptyFn,onDisable:function(){var f=this,j,g;if(f.focusable){f.disableFocusable()}if(!f.ariaStaticRoles[f.ariaRole]){f.ariaEl.dom.setAttribute("aria-disabled",true)}if(f.maskOnDisable&&!f.getInheritedConfig("disableMask",true)){j=f.el.dom;g=j.nodeName;if(f.disabledRe.test(g)){j.disabled=true}if(!f.nonMaskableRe.test(g)){f.mask()}}},onEnable:function(){var f=this,j,g;if(f.focusable){f.enableFocusable()}if(!f.ariaStaticRoles[f.ariaRole]){f.ariaEl.dom.setAttribute("aria-disabled",false)}if(f.maskOnDisable&&f.getInherited().hasOwnProperty("masked")){j=f.el.dom;g=j.nodeName;if(f.disabledRe.test(g)){j.disabled=false}if(!f.nonMaskableRe.test(g)){f.unmask()}}},onGlobalShow:function(c){if(this.up(c)){this.getScrollable().restoreState()}},onHide:function(m,l,o){var n=this,q,p,r;if(!n.ariaStaticRoles[n.ariaRole]&&!n.destroying&&!n.destroyed){n.ariaEl.dom.setAttribute("aria-hidden",true)}n.revertFocus();m=n.getAnimateTarget(m);if(!n.ghost){m=null}if(m){r={x:m.getX(),y:m.getY(),width:m.dom.offsetWidth,height:m.dom.offsetHeight};q=n.ghost();q.el.stopAnimation();p=n.getSize();q.el.animate({to:r,listeners:{afteranimate:function(){if(!n.destroying){q.componentLayout.lastComponentSize=null;n.unghost(false);q.el.setSize(p);n.afterHide(l,o)}}}})}else{n.el.hide()}if(!m){n.afterHide(l,o)}},onPosition:Ext.emptyFn,onResize:function(m,j,n,k){var l=this;if(l.floating&&l.constrain){l.doConstrain()}if(l.hasListeners.resize){l.fireEvent("resize",l,m,j,n,k)}},onShow:function(){var c=this;if(!c.ariaStaticRoles[c.ariaRole]){c.ariaEl.dom.setAttribute("aria-hidden",false)}c.el.show();c.updateLayout({isRoot:false,context:c._showContext});if(c.floating){if(c.maximized){c.fitContainer()}else{if(c.constrain){c.doConstrain()}}}},_showContext:{show:true},onShowComplete:function(g,k){var j=this,l=j.focusableContainer;if(j.floating){j.onFloatShow()}Ext.callback(g,k||j);j.fireEvent("show",j);if(l){l.onFocusableChildShow(j)}delete j.hiddenByLayout},onShowVeto:Ext.emptyFn,previousNode:function(u,r){var n=this,o=n.ownerCt,m,p,q,s;if(r&&n.is(u)){return n}if(o){for(p=o.items.items,q=Ext.Array.indexOf(p,n)-1;q>-1;q--){s=p[q];if(s.query){m=s.query(u);m=m[m.length-1];if(m){return m}}if(s.is(u)){return s}}return o.previousNode(u,true)}return null},previousSibling:function(n){var l=this.ownerCt,m,c,k;if(l){m=l.items;c=m.indexOf(this);if(c!==-1){if(n){for(--c;c>=0;c--){if((k=m.getAt(c)).is(n)){return k}}}else{if(c){return m.getAt(--c)}}}}return null},registerFloatingItem:function(f){var d=this;if(!d.floatingDescendants){d.floatingDescendants=new Ext.ZIndexManager(d)}d.floatingDescendants.register(f)},removeCls:function(f){var g=this,j=g.rendered?g.el:g.protoEl;j.removeCls.apply(j,arguments);return g},removeClsWithUI:function(x,q){var r=this,s=[],v=0,B=Ext.Array,u=B.remove,w=r.uiCls=B.clone(r.uiCls),y=r.activeUI,A,p;if(typeof x==="string"){x=(x.indexOf(" ")<0)?[x]:Ext.String.splitWords(x)}A=x.length;for(v=0;v<A;v++){p=x[v];if(p&&r.hasUICls(p)){u(w,p);if(y){s=s.concat(r.removeUIClsFromElement(p))}}}if(q!==true&&y){r.removeCls(s)}return s},resumeLayouts:function(f){var d=this;if(!d.rendered){return}if(d.layoutSuspendCount&&!--d.layoutSuspendCount){d.suspendLayout=false;if(f&&!d.isLayoutSuspended()){d.updateLayout(f)}}},scrollBy:function(k,l,j){var g=this.getScrollable();if(g){g.scrollBy(k,l,j)}},scrollTo:function(l,j,k){var g=this.getScrollable();if(g){g.scrollTo(l,j,k)}},setAutoScroll:function(c){this.setScrollable(!!c);return this},setBorder:function(l,j){var k=this,g=!!j;if(k.rendered||g){if(!g){j=k.el}if(!l){l=0}else{if(l===true){l="1px"}else{l=this.unitizeBox(l)}}j.setStyle("border-width",l);if(!g){k.updateLayout()}}k.border=l},setDock:function(g){var j=this,f=j.ownerCt;if(g!==j.dock){if(f&&f.moveDocked){f.moveDocked(j,g)}else{j.dock=g}}return j},setDisabled:function(c){return this[c?"disable":"enable"]()},setFlex:function(c){this.flex=c},setHeight:function(c){return this.setSize(undefined,c)},setLoading:function(k,j){var l=this,g={target:l};if(l.rendered){if(k!==false){if(Ext.isString(k)){g.msg=k}else{Ext.apply(g,k)}if(!l.loadMask||!l.loadMask.isLoadMask){if(j&&g.useTargetEl==null){g.useTargetEl=true}l.loadMask=new Ext.LoadMask(g)}else{Ext.apply(l.loadMask,g)}if(l.loadMask.isVisible()){l.loadMask.syncMaskState()}else{l.loadMask.show()}}else{if(l.loadMask&&l.loadMask.isLoadMask){l.loadMask.hide()}}}return l.loadMask},setMargin:function(g,j){var f=this;if(f.rendered){if(!g&&g!==0){g=""}else{if(g===true){g=5}g=this.unitizeBox(g)}f.margin=g;f.margin$=null;f.getEl().setStyle("margin",g);if(!j){f.updateLayout(f._notAsLayoutRoot)}}else{f.margin=g}},setOverflowXY:function(f,d){this.setScrollable({x:(f&&f!=="hidden")?f:false,y:(d&&d!=="hidden")?d:false});return this},setPagePosition:function(k,l,p){var o=this,n,m;if(Ext.isArray(k)){l=k[1];k=k[0]}o.pageX=k;o.pageY=l;if(o.floating){if(o.isContainedFloater()){m=o.floatParent.getTargetEl().getViewRegion();if(Ext.isNumber(k)&&Ext.isNumber(m.left)){k-=m.left}if(Ext.isNumber(l)&&Ext.isNumber(m.top)){l-=m.top}}else{n=o.el.translateXY(k,l);k=n.x;l=n.y}o.setPosition(k,l,p)}else{n=o.el.translateXY(k,l);o.setPosition(n.x,n.y,p)}return o},setPosition:function(j,k,n){var m=this,l=m.beforeSetPosition.apply(m,arguments);if(l&&m.rendered){j=l.x;k=l.y;if(n){if(j!==m.getLocalX()||k!==m.getLocalY()){m.stopAnimation();m.animate(Ext.apply({duration:1000,listeners:{afteranimate:Ext.Function.bind(m.afterSetPosition,m,[j,k])},to:{left:j,top:k}},n))}}else{m.setLocalXY(j,k);m.afterSetPosition(j,k)}}return m},setScrollX:function(j,g){var f=this.getScrollable();if(f){f.scrollTo(j,null,g)}},setScrollY:function(g,j){var f=this.getScrollable();if(f){f.scrollTo(null,g,j)}},setSize:function(p,l){var o=this,r=o.width,m=o.height,n,q;if(p&&typeof p==="object"){l=p.height;p=p.width}if(typeof p==="number"){o.width=Ext.Number.constrain(p,o.minWidth,o.maxWidth)}else{if(p===null){delete o.width}else{if(typeof p==="string"){n=true;o.width=p}}}if(typeof l==="number"){o.height=Ext.Number.constrain(l,o.minHeight,o.maxHeight)}else{if(l===null){delete o.height}else{if(typeof l==="string"){q=true;o.height=l}}}if(o.rendered&&o.isVisible()){if(r!==o.width||m!==o.height){if(o.liquidLayout||n||q){o.el.setSize(o.width,o.height)}o.updateLayout(o._notAsLayoutRoot)}}return o},setStyle:function(g,j){var f=this.el||this.protoEl;f.setStyle(g,j);return this},setUI:function(m){var n=this,k=n.uiCls,l=n.activeUI,j;if(m===l){return}if(l){j=n.removeClsWithUI(k,true);if(j.length){n.removeCls(j)}n.removeUIFromElement()}else{n.uiCls=[]}n.ui=m;n.activeUI=m;n.addUIToElement();j=n.addClsWithUI(k,true);if(j.length){n.addCls(j)}if(n.rendered){n.updateLayout()}},setVisible:function(c){return this[c?"show":"hide"]()},setHidden:function(c){return this.setVisible(!c)},setWidth:function(c){return this.setSize(c)},show:function(m,k,o){var n=this,l=n.rendered,p=n.focusableContainer;if(n.hierarchicallyHidden||(n.floating&&!l&&n.isHierarchicallyHidden())){if(!l){n.initHierarchyEvents()}if(arguments.length>1){arguments[0]=null;n.pendingShow=arguments}else{n.pendingShow=true}}else{if(l&&n.isVisible()){if(n.floating){n.onFloatShow()}}else{if(n.fireEvent("beforeshow",n)!==false){n.hidden=false;delete this.getInherited().hidden;if(p){p.beforeFocusableChildShow(n)}Ext.suspendLayouts();if(!l&&(n.autoRender||n.floating)){n.doAutoRender();l=n.rendered}if(l){n.beforeShow();Ext.resumeLayouts();n.onShow.apply(n,arguments);n.afterShow.apply(n,arguments)}else{Ext.resumeLayouts(true)}}else{n.onShowVeto()}}}return n},showAt:function(g,j,l){var k=this;if(!k.rendered&&(k.autoRender||k.floating)){k.x=g;k.y=j;return k.show()}if(k.floating){k.setPosition(g,j,l)}else{k.setPagePosition(g,j,l)}return k.show()},showBy:function(l,j,k){var g=this;if(g.floating&&l){g._lastAlignTarget=l;g._lastAlignToPos=j||g.defaultAlign;g._lastAlignToOffsets=k||g.alignOffset;g.show()}return g},suspendLayouts:function(){var c=this;if(!c.rendered){return}if(++c.layoutSuspendCount===1){c.suspendLayout=true}},toggleCls:function(d,f){if(f===undefined){f=!this.hasCls(d)}return this[f?"addCls":"removeCls"](d)},unitizeBox:function(c){return Ext.Element.unitizeBox(c)},unmask:function(){(this.getMaskTarget()||this.el).unmask();this.setMasked(false)},unregisterFloatingItem:function(f){var d=this;if(d.floatingDescendants){d.floatingDescendants.unregister(f)}},up:function(p,o){var q=this.getRefOwner(),r=typeof o==="string",m=typeof o==="number",l=o&&o.isComponent,n=0;if(p){for(;q&&!q.destroyed;q=q.getRefOwner()){n++;if(p.isComponent){if(q===p){return q}}else{if(Ext.ComponentQuery.is(q,p)){return q}}if(r&&q.is(o)){return}if(m&&n===o){return}if(l&&q===o){return}}}return q},update:function(v,r,p,x){var q=this,o=(q.tpl&&!Ext.isString(v)),w=q.focusableContainer,s,y,u;if(o){q.data=(v&&v.isEntity)?v.getData(true):v}else{q.html=Ext.isObject(v)?Ext.DomHelper.markup(v):v}if(q.rendered){s=q.getSizeModel();y=s.width.shrinkWrap||s.height.shrinkWrap;if(q.isContainer){u=q.layout.getRenderTarget();y=y||q.items.items.length>0}else{u=q.getTargetEl()}if(o){q.tpl[q.tplWriteMode](u,q.data||{})}else{u.setHtml(q.html,r,p,x||q)}if(y){q.updateLayout()}if(w){w.onFocusableChildUpdate(q)}}},setHtml:function(j,f,g){this.update(j,f,null,g)},applyData:function(c){this.update(c)},updateBox:function(c){this.setSize(c.width,c.height);this.setPagePosition(c.x,c.y);return this},_asLayoutRoot:{isRoot:true},_notAsLayoutRoot:{isRoot:false},updateLayout:function(o){var m=this,l,p=m.lastBox,k=o&&o.isRoot,n=o&&o.context;if(p){p.invalid=true}if(!m.rendered||m.layoutSuspendCount||m.suspendLayout){return}if(m.hidden){Ext.Component.cancelLayout(m)}else{if(typeof k!=="boolean"){k=m.isLayoutRoot()}}if(k||!m.ownerLayout||!m.ownerLayout.onContentChange(m,n)){if(!m.isLayoutSuspended()){l=(o&&o.hasOwnProperty("defer"))?o.defer:m.deferLayouts;Ext.Component.updateLayout(m,l)}}},updateMaxHeight:function(f,d){this.changeConstraint(f,d,"min","max-height","height")},updateMaxWidth:function(f,d){this.changeConstraint(f,d,"min","max-width","width")},updateMinHeight:function(f,d){this.changeConstraint(f,d,"max","min-height","height")},updateMinWidth:function(d,f){this.changeConstraint(d,f,"max","min-width","width")},updateTouchAction:function(k){var n,j,m,l;for(n in k){j=this[n];m=k[n];if(j&&j.isElement){j.setTouchAction(m)}else{l=true}}if(l){this.el.setTouchAction(k)}},getAnchorToXY:function(j,g,k,l){return j.getAnchorXY(g,k,l)},getBorderPadding:function(){return this.el.getBorderPadding()},getLocalX:function(){return this.el.getLocalX()},getLocalXY:function(){return this.el.getLocalXY()},getLocalY:function(){return this.el.getLocalY()},getX:function(){return this.el.getX()},getXY:function(){return this.el.getXY()},getY:function(){return this.el.getY()},setLocalX:function(c){this.el.setLocalX(c)},setLocalXY:function(d,f){this.el.setLocalXY(d,f)},setLocalY:function(c){this.el.setLocalY(c)},setX:function(d,f){this.el.setX(d,f)},setXY:function(f,d){this.el.setXY(f,d)},setY:function(f,d){this.el.setY(f,d)},privates:{addOverCls:function(){var c=this;if(!c.disabled){c.el.addCls(c.overCls)}},addUIToElement:function(){var n=this,k=n.baseCls+"-"+n.ui,o,l,p,m;n.addCls(k);if(n.rendered&&n.frame&&!Ext.supports.CSS3BorderRadius){k+="-";o=n.getChildEls();for(l in o){m=o[l].frame;if(m&&m!==true){p=n[l];if(p){p.addCls(k+m)}}}}},changeConstraint:function(m,q,l,o,r){var n=this,p=n[r];if(m!=null&&typeof p==="number"){n[r]=Math[l](p,m)}if(n.liquidLayout){if(m!=null){n.setStyle(o,m+"px")}else{if(q){n.setStyle(o,"")}}}if(n.rendered){n.updateLayout()}},constructPlugin:function(f){var d=this;if(typeof f==="string"){f=Ext.PluginManager.create({},f,d)}else{f=Ext.PluginManager.create(f,null,d)}return f},constructPlugins:function(){var k=this,m=k.plugins,n,l,j;if(m){n=[];n.processed=true;if(!Ext.isArray(m)){m=[m]}for(l=0,j=m.length;l<j;l++){n[l]=k.constructPlugin(m[l])}}k.pluginsInitialized=true;return n},detachFromBody:function(){Ext.getDetachedBody().appendChild(this.el);Ext.Component.cancelLayout(this);this.isDetached=true},doAddListener:function(E,w,v,s,G,H,D){var x=this,y,B,F,u,C,A;if(Ext.isObject(w)||(s&&s.element)){if(s.element){u=s.element;y={};y[E]=w;if(v){y.scope=v}F=x.$elementEventOptions;for(B in s){if(F[B]){y[B]=s[B]}}}else{y=w;u=E}C=x[u];if(C&&C.isObservable){x.mon(C,y)}else{x.afterRenderEvents=x.afterRenderEvents||{};if(!x.afterRenderEvents[u]){x.afterRenderEvents[u]=[]}x.afterRenderEvents[u].push(y)}return}if(s){A=s.delegate;if(A){x.mixins.componentDelegation.addDelegatedListener.call(x,E,w,v,s,G,H,D);return}}x.mixins.observable.doAddListener.call(x,E,w,v,s,G,H,D)},doRemoveListener:function(g,k,l){var j=this;j.mixins.observable.doRemoveListener.call(j,g,k,l);j.mixins.componentDelegation.removeDelegatedListener.call(j,g,k,l)},fireHierarchyEvent:function(f){var d=Ext.GlobalEvents;if(d.hasListeners[f]){d.fireEvent(f,this)}},getActionEl:function(){return this.el},getAutoId:function(){this.autoGenId=true;return ++Ext.Component.AUTO_ID},getContentTarget:function(){return this.el},getDragEl:function(){return this.el},getOverflowEl:function(){return this.getTargetEl()},getOverflowStyle:function(){var n=this,p=n.getScrollable(),o=n._scrollFlags,k,l,m;if(p){k=p.getX();if(k===true){k="auto"}l=p.getY();if(l===true){l="auto"}m=o[k][l]}else{m=o.none}n.scrollFlags=m;return{overflowX:m.overflowX,overflowY:m.overflowY}},getPlugins:function(){var c=this.plugins;c=(c&&c.processed)?c:this.constructPlugins();return c||null},getProxy:function(){var d=this,f;if(!d.proxy){f=Ext.getBody();d.proxy=d.el.createProxy("x-proxy-el",f,true)}return d.proxy},getTargetEl:function(){return this.frameBody||this.el},getTdCls:function(){return"x-"+this.getTdType()+"-"+this.ui+"-cell"},getTdType:function(){return this.xtype},getTpl:function(c){return this.lookupTpl(c)},initCls:function(){var j=this,f=[j.baseCls],g=j.getComponentLayout().targetCls;if(g){f.push(g)}if(j.componentCls){f.push(j.componentCls)}else{j.componentCls=j.baseCls}return f},initDraggable:function(){var g=this,f=(g.resizer&&g.resizer.el!==g.el)?g.resizerComponent=new Ext.Component({el:g.resizer.el,rendered:true,container:g.container}):g,j=Ext.applyIf({el:f.getDragEl(),constrainTo:(g.constrain||g.draggable.constrain)?(g.constrainTo||(g.floatParent?g.floatParent.getTargetEl():g.container)):undefined},g.draggable);if(g.constrain||g.constrainDelegate){j.constrain=g.constrain;j.constrainDelegate=g.constrainDelegate}g.dd=new Ext.util.ComponentDragger(f,j)},initPadding:function(g){var f=this,j=f.padding;if(j!=null){if(f.layout&&f.layout.managePadding&&f.contentPaddingProperty==="padding"){g.setStyle("padding",0)}else{g.setStyle("padding",this.unitizeBox((j===true)?5:j))}}},initPlugin:function(c){c.init(this);return c},initResizable:function(d){var f=this;d=Ext.apply({target:f,dynamic:false,constrainTo:(f.constrain||(d&&d.constrain))?(f.constrainTo||(f.floatParent?f.floatParent.getTargetEl():f.container)):undefined,handles:f.resizeHandles},d);d.target=f;f.resizer=new Ext.resizer.Resizer(d)},initStyles:function(q){var v=this,x=v.margin,w=v.border,p=v.cls,B=v.style,s=v.x,u=v.y,y=v.liquidLayout,A,r;v.initPadding(q);if(x!=null){q.setStyle("margin",this.unitizeBox((x===true)?5:x))}if(w!=null){v.setBorder(w,q)}if(p&&p!==v.initialCls){q.addCls(p);v.cls=v.initialCls=null}if(B&&B!==v.initialStyle){q.setStyle(B);v.style=v.initialStyle=null}if(s!=null){q.setStyle(v.horizontalPosProp,(typeof s==="number")?(s+"px"):s)}if(u!=null){q.setStyle("top",(typeof u==="number")?(u+"px"):u)}if(!v.ownerCt||v.floating){if(Ext.scopeCss){q.addCls(v.rootCls)}q.addCls(v.borderBoxCls)}if(y||!v.getFrameInfo()){A=v.width;r=v.height;if(A!=null){if(typeof A==="number"){q.setStyle("width",A+"px")}else{q.setStyle("width",A)}}if(r!=null){if(typeof r==="number"){q.setStyle("height",r+"px")}else{q.setStyle("height",r)}}}},isContainedFloater:function(){return(this.floating&&this.floatParent)},isDescendant:function(c){if(c.isContainer){for(var f=this.ownerCt;f;f=f.ownerCt){if(f===c){return true}}}return false},owns:function(j){var f=false,g;if(j.isEvent){j=j.target}else{if(j.isElement){j=j.dom}}g=Ext.Component.fromElement(j);if(g){f=(g===this)||(!!g.up(this))}return f},parseBox:function(c){return Ext.Element.parseBox(c)},reattachToBody:function(){this.isDetached=false},removeManagedListenerItem:function(u,m,n,r,p,q){var o=this,s=m.options?m.options.element:null;if(s){s=o[s];if(s&&s.un){if(u||(m.item===n&&m.ename===r&&(!p||m.fn===p)&&(!q||m.scope===q))){s.un(m.ename,m.fn,m.scope);if(!u){Ext.Array.remove(o.managedListeners,m)}}}}else{return o.mixins.observable.removeManagedListenerItem.apply(o,arguments)}},removeOverCls:function(){this.el.removeCls(this.overCls)},removePlugin:function(c){Ext.Array.remove(this.plugins,c);c.destroy()},removeUIFromElement:function(){var n=this,k=n.baseCls+"-"+n.ui,o,l,p,m;n.removeCls(k);if(n.rendered&&n.frame&&!Ext.supports.CSS3BorderRadius){k+="-";o=n.getChildEls();for(l in o){m=o[l].frame;if(m&&m!==true){p=n[l];if(p){p.removeCls(k+m)}}}}},setComponentLayout:function(f){var d=this.componentLayout;if(d&&d.isLayout&&d!==f){d.setOwner(null)}this.componentLayout=f;f.setOwner(this)},setHiddenState:function(j){var k=this,l=k.getInherited(),g=k.zIndexManager;k.hidden=j;if(j){l.hidden=true}else{delete l.hidden}if(g){g.onComponentShowHide(k)}},setupProtoEl:function(){var c=this.initCls();this.protoEl.addCls(c)},wrapPrimaryEl:function(g){var j=this,f=j.el;if(!f||!f.isElement){j.el=Ext.get(g)}if(j.floating){this.mixins.floating.constructor.call(this)}}},deprecated:{5:{methods:{addClass:"addCls",doComponentLayout:function(){this.updateLayout();return this},removeClass:"removeCls",forceComponentLayout:"updateLayout",setDocked:"setDock"}}}},1,["component","box"],["component","box"],{component:true,box:true},["widget.box","widget.component"],[[Ext.mixin.Inheritable.prototype.mixinId||Ext.mixin.Inheritable.$className,Ext.mixin.Inheritable],[Ext.util.Floating.prototype.mixinId||Ext.util.Floating.$className,Ext.util.Floating],[Ext.util.Positionable.prototype.mixinId||Ext.util.Positionable.$className,Ext.util.Positionable],[Ext.util.Observable.prototype.mixinId||Ext.util.Observable.$className,Ext.util.Observable],[Ext.mixin.ComponentDelegation.prototype.mixinId||Ext.mixin.ComponentDelegation.$className,Ext.mixin.ComponentDelegation],[Ext.mixin.Bindable.prototype.mixinId||Ext.mixin.Bindable.$className,Ext.mixin.Bindable],[Ext.util.Animate.prototype.mixinId||Ext.util.Animate.$className,Ext.util.Animate],[Ext.util.ElementContainer.prototype.mixinId||Ext.util.ElementContainer.$className,Ext.util.ElementContainer],[Ext.util.Renderable.prototype.mixinId||Ext.util.Renderable.$className,Ext.util.Renderable],[Ext.state.Stateful.prototype.mixinId||Ext.state.Stateful.$className,Ext.state.Stateful],[Ext.util.Focusable.prototype.mixinId||Ext.util.Focusable.$className,Ext.util.Focusable],[Ext.mixin.Accessible.prototype.mixinId||Ext.mixin.Accessible.$className,Ext.mixin.Accessible],[Ext.mixin.Keyboard.prototype.mixinId||Ext.mixin.Keyboard.$className,Ext.mixin.Keyboard]],[Ext,"Component",Ext,"AbstractComponent"],function(f){var d=f.prototype;(d.$elementEventOptions=Ext.Object.chain(Ext.Element.prototype.$eventOptions)).element=1;(d.$eventOptions=Ext.Object.chain(d.$eventOptions)).delegate=1;f.createAlias({on:"addListener",prev:"previousSibling",next:"nextSibling"});Ext.resumeLayouts=function(b){f.resumeLayouts(b)};Ext.suspendLayouts=function(){f.suspendLayouts()};Ext.batchLayouts=function(b,c){f.suspendLayouts();try{b.call(c)}finally{f.resumeLayouts(true)}};Ext.setGlyphFontFamily=function(b){Ext._glyphFontFamily=b};f.hierarchyEventSource=d.hierarchyEventSource=Ext.GlobalEvents;Ext.onReady(function(){if(Ext.supports.HighContrastMode){Ext.getBody().addCls(f.ariaHighContrastModeCls)}})}));Ext.define("Ext.layout.container.border.Region",{override:"Ext.Component",initBorderRegion:function(){var c=this;if(!c._borderRegionInited){c._borderRegionInited=true;c.addStateEvents(["changeregion","changeweight"]);Ext.override(c,{getState:function(){var b=c.callParent();b=c.addPropertyToState(b,"region");b=c.addPropertyToState(b,"weight");return b}})}},getOwningBorderContainer:function(){var c=this.getOwningBorderLayout();return c&&c.owner},getOwningBorderLayout:function(){var c=this.ownerLayout;return(c&&c.isBorderLayout)?c:null},setRegion:function(v){var w=this,D,C=w.region;if(v!==C){D=w.getOwningBorderLayout();if(D){var A=D.regionFlags[v],u=w.placeholder,F=w.splitter,E=D.owner,r=D.regionMeta,B=w.collapsed||w.floated,s,x,y;if(w.fireEventArgs("beforechangeregion",[w,v])===false){return C}Ext.suspendLayouts();w.region=v;Ext.apply(w,A);if(w.updateCollapseTool){w.updateCollapseTool()}if(F){Ext.apply(F,A);F.updateOrientation();x=E.items;y=x.indexOf(w);if(y>=0){s=r[v].splitterDelta;if(x.getAt(y+s)!==F){x.remove(F);y=x.indexOf(w);if(s>0){++y}x.insert(y,F)}}}if(u){if(B){w.expand(false)}E.remove(u);w.placeholder=null;if(B){w.collapse(null,false)}}E.updateLayout();Ext.resumeLayouts(true);w.fireEventArgs("changeregion",[w,C])}else{w.region=v}}return C},setWeight:function(l){var m=this,n=m.getOwningBorderContainer(),k=m.placeholder,j=m.weight;if(l!==j){if(m.fireEventArgs("beforechangeweight",[m,l])!==false){m.weight=l;if(k){k.weight=l}if(n){n.updateLayout()}m.fireEventArgs("changeweight",[m,j])}}return j}},function(d){var f=d.prototype;f.setBorderRegion=f.setRegion;f.setRegionWeight=f.setWeight});Ext.define("Ext.theme.neptune.Component",{override:"Ext.Component",initComponent:function(){arguments.callee.$previous.call(this);if(this.dock&&this.border===undefined){this.border=false}},privates:{initStyles:function(){var g=this,j=g.hasOwnProperty("border"),f=g.border;if(g.dock){g.border=null}arguments.callee.$previous.apply(this,arguments);if(j){g.border=f}else{delete g.border}}}},function(){Ext.namespace("Ext.theme.is").Neptune=true;Ext.theme.name="Neptune"});Ext.define("Ext.theme.triton.Component",{override:"Ext.Component"},function(){Ext.namespace("Ext.theme.is").Triton=true;Ext.theme.name="Triton"});Ext.define("Ext.overrides.app.domain.Component",{override:"Ext.app.domain.Component"},function(c){c.monitor(Ext.Component)});(Ext.cmd.derive("Ext.app.EventBus",Ext.Base,{singleton:true,constructor:function(){var f=this,d=Ext.app.EventDomain.instances;f.callParent();f.domains=d;f.bus=d.component.bus},control:function(f,d){return this.domains.component.listen(f,d)},listen:function(j,l){var g=this.domains,k;for(k in j){if(j.hasOwnProperty(k)){g[k].listen(j[k],l)}}},unlisten:function(g){var f=Ext.app.EventDomain.instances,j;for(j in f){f[j].unlisten(g)}}},1,0,0,0,0,0,[Ext.app,"EventBus"],0));(Ext.cmd.derive("Ext.app.domain.Global",Ext.app.EventDomain,{singleton:true,type:"global",constructor:function(){var c=this;c.callParent();c.monitor(Ext.GlobalEvents)},listen:function(f,d){this.callParent([{global:f},d])},match:Ext.returnTrue},1,0,0,0,0,0,[Ext.app.domain,"Global"],0));(Ext.cmd.derive("Ext.app.BaseController",Ext.Base,{isController:true,config:{id:undefined,control:null,listen:null,routes:null,before:null},constructor:function(d){var f=this;Ext.apply(f,d);delete f.control;delete f.listen;f.eventbus=Ext.app.EventBus;f.mixins.observable.constructor.call(f,d)},updateId:function(c){this.id=c},applyListen:function(c){if(Ext.isObject(c)){c=Ext.clone(c)}return c},applyControl:function(c){if(Ext.isObject(c)){c=Ext.clone(c)}return c},updateControl:function(c){this.getId();if(c){this.control(c)}},updateListen:function(c){this.getId();if(c){this.listen(c)}},updateRoutes:function(r){if(r){var o=this,n=o.getBefore()||{},l=Ext.app.route.Router,p,q,m;for(p in r){q=r[p];if(Ext.isString(q)){q={action:q}}m=q.action;if(!q.before){q.before=n[m]}l.connect(p,q,o)}}},isActive:function(){return true},control:function(p,o,k){var n=this,m=k,l;if(Ext.isString(p)){l={};l[p]=o}else{l=p;m=o}n.eventbus.control(l,m||n)},listen:function(f,d){this.eventbus.listen(f,d||this)},destroy:function(){var f=this,d=f.eventbus;Ext.app.route.Router.disconnectAll(f);if(d){d.unlisten(f);f.eventbus=null}f.callParent()},redirectTo:function(k,j){if(k.isModel){k=k.toUrl()}var g=Ext.util.History.getToken()===k,l=false;if(!g){l=true;Ext.util.History.add(k)}else{if(j){l=true;Ext.app.route.Router.onStateChange(k)}}return l}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.app,"BaseController"],0));Ext.define("Ext.overrides.app.BaseController",{override:"Ext.app.BaseController",onHistoryBack:function(){history.back()},notFullscreen:function(){var c=this;if(document.exitFullscreen){document.exitFullscreen();c.fullscreenState="not"}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen();c.fullscreenState="not"}else{if(document.webkitCancelFullScreen){document.webkitCancelFullScreen();c.fullscreenState="not"}else{if(document.msExitFullscreen){document.msExitFullscreen();c.fullscreenState="not"}}}}},yepFullscreen:function(){var f=this;var d=document.documentElement;if(d.requestFullscreen){d.requestFullscreen();f.fullscreenState="yep"}else{if(d.mozRequestFullScreen){d.mozRequestFullScreen();f.fullscreenState="yep"}else{if(d.webkitRequestFullScreen){d.webkitRequestFullScreen();f.fullscreenState="yep"}else{if(d.msRequestFullscreen){d.msRequestFullscreen();f.fullscreenState="yep"}}}}},togglesFullscreen:function(){var c=this;if(c.fullscreenState=="yep"){c.notFullscreen()}else{c.yepFullscreen()}}});(Ext.cmd.derive("Ext.app.Util",Ext.Base,{},0,0,0,0,0,0,[Ext.app,"Util"],function(){Ext.apply(Ext.app,{namespaces:{Ext:{}},addNamespaces:function(k){var j=Ext.app.namespaces,l,g;if(!Ext.isArray(k)){k=[k]}for(l=0,g=k.length;l<g;l++){j[k[l]]=true}},clearNamespaces:function(){Ext.app.namespaces={}},getNamespace:function(l){var j=Ext.apply({},Ext.ClassManager.paths,Ext.app.namespaces),g="",k;for(k in j){if(j.hasOwnProperty(k)&&k.length>g.length&&(k+"."===l.substring(0,k.length+1))){g=k}}return g===""?undefined:g},setupPaths:function(j,n,k){var l=Ext.manifest,m;if(j&&n!==null){l=l&&l.paths;if(!l||n!==undefined){Ext.Loader.setPath(j,(n===undefined)?"app":n)}}if(k){for(m in k){if(k.hasOwnProperty(m)){Ext.Loader.setPath(m,k[m])}}}}});Ext.getNamespace=Ext.app.getNamespace}));(Ext.cmd.derive("Ext.util.CollectionKey",Ext.Base,{isCollectionKey:true,observerPriority:-200,config:{collection:null,keyFn:null,property:null,rootProperty:null,unique:true},generation:0,map:null,mapRebuilds:0,constructor:function(c){this.initConfig(c)},get:function(d){var f=this.map||this.getMap();return f[d]||null},clear:function(){this.map=null},getRootProperty:function(){var f=this,d=(arguments.callee.$previous||Ext.Base.prototype.getRootProperty).call(this);return d!==null?d:f.getCollection().getRootProperty()},indexOf:function(p,u){var y=this.map||this.getMap(),n=y[p],s=this.getCollection(),x=s.length,v,r,q,w;if(!n){return -1}if(u===undefined){u=-1}if(n instanceof Array){q=n;r=x;for(w=q.length;w-->0;){v=s.indexOf(q[w]);if(v<r&&v>u){r=v}}if(r===x){return -1}}else{r=s.indexOf(n)}return(r>u)?r:-1},updateKey:function(o,m){var p=this,n=p.map,l,k;if(n){l=n[m];if(l instanceof Array){k=Ext.Array.indexOf(l,o);if(k>=0){if(l.length>2){l.splice(k,1)}else{n[m]=l[1-k]}}}else{if(l){delete n[m]}}p.add([o])}},onCollectionAdd:function(f,d){if(this.map){this.add(d.items)}},onCollectionItemChange:function(f,d){this.map=null},onCollectionRefresh:function(){this.map=null},onCollectionRemove:function(r,s){var p=this,w=p.map,q=s.items,v=q.length,u,n,o;if(w){if(p.getUnique()&&v<r.length/2){for(u=0;u<v;++u){o=p.getKey(n=q[u]);delete w[o]}}else{p.map=null}}},add:function(q){var p=this,w=p.map,v,r,n,o,u,s;u=q.length;s=p.getUnique();for(r=0;r<u;++r){o=p.getKey(n=q[r]);if(s||!(o in w)){w[o]=n}else{if(!((v=w[o]) instanceof Array)){w[o]=v=[v]}v.push(n)}}},applyKeyFn:function(c){if(Ext.isString(c)){this.getKey=function(b){return b[c]()}}else{this.getKey=c}},updateProperty:function(f){var d=this.getRootProperty();this.getKey=function(b){return(d?b[d]:b)[f]}},getMap:function(){var d=this,f=d.map;if(!f){d.map=f={};d.keysByItemKey={};++d.mapRebuilds;d.add(d.getCollection().items)}return f},updateCollection:function(c){c.addObserver(this)},clone:function(){return new Ext.util.CollectionKey(this.getCurrentConfig())}},1,0,0,0,0,[[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.util,"CollectionKey"],0));(Ext.cmd.derive("Ext.util.Grouper",Ext.util.Sorter,{isGrouper:true,config:{groupFn:null,sortProperty:null},constructor:function(c){Ext.util.Sorter.prototype.constructor.apply(this,arguments)},getGroupString:function(d){var f=this._groupFn(d);return(f!=null)?String(f):""},sortFn:function(s,u){var q=this,v=q._groupFn(s),r=q._groupFn(u),n=q._sortProperty,o=q._root,p=q._sorterFn,w=q._transform;if(v===r){return 0}if(n||p){if(p){return p.call(this,s,u)}if(o){s=s[o];u=u[o]}v=s[n];r=u[n];if(w){v=w(v);r=w(r)}}return(v>r)?1:(v<r?-1:0)},standardGroupFn:function(f){var d=this._root;return(d?f[d]:f)[this._property]},updateSorterFn:function(){},updateProperty:function(){if(!this.getGroupFn()){this.setGroupFn(this.standardGroupFn)}}},1,0,0,0,0,0,[Ext.util,"Grouper"],0));(Ext.cmd.derive("Ext.util.Collection",Ext.Base,{isCollection:true,config:{autoFilter:true,autoSort:true,autoGroup:true,decoder:null,extraKeys:null,filters:null,grouper:null,groups:null,rootProperty:null,sorters:null,multiSortLimit:3,defaultSortDirection:"ASC",source:null,trackGroups:true},generation:0,indices:null,indexRebuilds:0,updating:0,grouped:false,sorted:false,filtered:false,$endUpdatePriority:1001,manageSorters:true,constructor:function(d){var f=this;f.items=[];f.map={};f.length=0;if(d&&d.keyFn){f.getKey=d.keyFn}f.mixins.observable.constructor.call(f,d)},destroy:function(){var k=this,l=k._filters,j=k._sorters,g=k._groups;if(l){l.destroy();k._filters=null}if(j){k.grouped=k.sorted=false;k.setSorters(null);if(k.manageSorters){j.destroy()}}if(g){g.destroy();k._groups=null}k.setSource(null);k.observers=k.items=k.map=null;k.callParent()},add:function(j){var k=this,g=k.decodeItems(arguments,0),l=g;if(g.length){k.splice(k.length,0,g);l=(g.length===1)?g[0]:g}return l},replaceAll:function(){var g=this,j,f;f=g.decodeItems(arguments,0);j=f;if(f.length){g.splice(0,g.length,f);j=(f.length===1)?f[0]:f}else{g.removeAll()}return j},aggregate:function(m,r,o,l,p){var n=this,q=Ext.Array.slice(arguments);q.unshift(n.items);return n.aggregateItems.apply(n,q)},aggregateByGroup:function(j,l,k){var g=this.getGroups();return this.aggregateGroups(g,j,l,k)},aggregateItems:function(A,K,F,I,E,J){var y=this,B=Ext.Number.clipIndices(A.length,[I,E]),H=(I!==0&&E!==A.length),C,D,G,x,j,L,w;I=B[0];E=B[1];if(!Ext.isFunction(F)){F=y._aggregators[F];return F.call(y,A,I,E,K,y.getRootProperty())}x=y.getRootProperty();L=new Array(G);w=H?new Array(G):A;for(C=I,D=0;C<E;++C,D++){if(H){w[D]=j=A[C]}L[D]=(x?j[x]:j)[K]}return F.call(J||y,A,L,0)},aggregateGroups:function(B,r,y,q){var u=B.items,v=u.length,A=!Ext.isFunction(y),x={},w,s,p;for(w=0;w<v;++w){s=u[w];if(!A){p=this.aggregateItems(s.items,r,y,null,null,q)}else{p=s[y](r)}x[s.getGroupKey()]=p}return x},beginUpdate:function(){if(!this.updating++){this.notify("beginupdate")}},clear:function(){var m=this,l=m.generation,j=l?m.items:[],n,k;if(l){m.items=[];m.length=0;m.map={};m.indices={};m.generation++;n=m.getExtraKeys();if(n){for(k in n){n[k].clear()}}}return j},clone:function(){var d=this,f=new d.self(d.initialConfig);f.add(d.items);return f},collect:function(o,s,q){var u=this.items,x=u.length,y={},v=[],w,r,p;for(w=0;w<x;++w){p=u[w];p=(s?p[s]:p)[o];r=String(p);if((q||!Ext.isEmpty(p))&&!y[r]){y[r]=1;v.push(p)}}return v},contains:function(g){var f=false,j;if(g!=null){j=this.getKey(g);f=this.map[j]===g}return f},containsKey:function(c){return c in this.map},createFiltered:function(u,v,D,y,E){var A=this,C=new A.self(A.initialConfig),w=A.getRootProperty(),B=A.items,G,F,H,x,s;if(Ext.isFunction(u)){x=u;s=v}else{if(Ext.isString(u)){H=[new Ext.util.Filter({property:u,value:v,root:w,anyMatch:D,caseSensitive:y,exactMatch:E})]}else{if(u instanceof Ext.util.Filter){H=[u];u.setRoot(w)}else{if(Ext.isArray(u)){H=u.slice(0);for(F=0,G=H.length;F<G;++F){H[F].setRoot(w)}}}}x=Ext.util.Filter.createFilterFn(H)}s=s||A;for(F=0,G=B.length;F<G;F++){if(x.call(s,B[F])){C.add(B[F])}}return C},filterBy:function(f,d){return this.createFiltered(f,d)},each:function(l,m){var p=this.items,k=p.length,n,o;if(k){m=m||this;p=p.slice(0);for(n=0;n<k;n++){o=l.call(m,p[n],n,k);if(o===false){break}}}return o},eachKey:function(q,n){var r=this,s=r.items,v=s.length,w,o,p,u;if(v){n=n||r;s=s.slice(0);for(w=0;w<v;w++){p=r.getKey(o=s[w]);u=q.call(n,p,o,w,v);if(u===false){break}}}return u},endUpdate:function(){if(!--this.updating){this.notify("endupdate")}},find:function(o,p,n,r,s,u){if(Ext.isEmpty(p,false)){return null}var q=Ext.String.createRegex(p,r,s,u),m=this.getRootProperty();return this.findBy(function(b){return b&&q.test((m?b[m]:b)[o])},null,n)},findBy:function(q,n,w){var r=this,s=r.items,u=s.length,v,o,p;n=n||r;for(v=w||0;v<u;v++){p=r.getKey(o=s[v]);if(q.call(n,o,p)){return s[v]}}return null},findIndex:function(n,o,m,q,r,l){var p=this.find(n,o,m,q,r,l);return p?this.indexOf(p):-1},findIndexBy:function(l,g,j){var k=this.findBy(l,g,j);return k?this.indexOf(k):-1},first:function(f){var d=f?this.getGroups():undefined;return d?this.aggregateGroups(d,null,"first"):this.items[0]},last:function(f){var d=f?this.getGroups():undefined;return d?this.aggregateGroups(d,null,"last"):this.items[this.length-1]},get:function(c){return this.map[c]},getAt:function(c){return this.items[c]},getByKey:function(c){return this.map[c]},getCount:function(){return this.length},getKey:function(d){var f=d.id;return(f===0||f)?f:((f=d._id)===0||f)?f:d.getId()},getRange:function(l,j){var m=this.items,k=m.length,n;if(!k){n=[]}else{n=Ext.Number.clipIndices(k,[l,j]);n=m.slice(n[0],n[1])}return n},getValues:function(n,p,w,v){var q=this.items,s=Ext.Number.clipIndices(q.length,[w,v]),r=[],u,o;for(u=s[0],v=s[1];u<v;++u){o=q[u];o=(p?o[p]:o)[n];r.push(o)}return r},indexOf:function(f){if(!f){return -1}var d=this.getKey(f);return this.indexOfKey(d)},indexOfKey:function(f){var j=this,g=j.indices;if(f in j.map){if(!g){g=j.getIndices()}return g[f]}return -1},insert:function(m,k){var l=this,j=l.decodeItems(arguments,1),n=j;if(j.length){l.splice(m,0,j);n=(j.length===1)?j[0]:j}return n},itemChanged:function(C,Q,M,K){var L=this,V=M===0||!!M,P=L.filtered&&L.getAutoFilter(),T=false,U=0,H=L.items,N=L.length-1,X=L.sorted&&N>0&&L.getAutoSort(),F=L.getSource(),G=0,O=false,I=false,D,E,S,J,R,W;if(F&&!F.updating){F.itemChanged(C,Q,M,K)}else{E=L.getKey(C);if(P){R=L.indexOfKey(V?M:E);I=(R<0);O=L.isItemFiltered(C);T=(I!==O)}if(T){if(O){G=[C];W=-1}else{J=[C];W=L.length}}else{if(X&&!O){if(!P){R=L.indexOfKey(V?M:E)}S=L.getSortFn();if(R!==-1){if(R&&S(H[R-1],H[R])>0){U=-1;W=Ext.Array.binarySearch(H,C,0,R,S)}else{if(R<N&&S(H[R],H[R+1])>0){U=1;W=Ext.Array.binarySearch(H,C,R+1,S)}}if(U){J=[C]}}}}D={item:C,key:E,index:W,filterChanged:T,keyChanged:V,indexChanged:!!U,filtered:O,oldIndex:R,newIndex:W,wasFiltered:I,meta:K};if(V){D.oldKey=M}if(Q){D.modified=Q}L.beginUpdate();L.notify("beforeitemchange",[D]);if(V){L.updateKey(C,M)}if(J||G){L.splice(W,G,J)}if(U>0){D.newIndex--}else{if(U<0){D.oldIndex++}}L.notify(O?"filtereditemchange":"itemchange",[D]);L.endUpdate()}},remove:function(j){var k=this,g=k.decodeRemoveItems(arguments,0),l=k.length;k.splice(0,g);return l-k.length},removeAll:function(){var f=this,d=f.length;if(f.generation&&d){f.splice(0,d)}return f},removeAt:function(q,r){var p=this,x=p.length,u=Ext.Number,v=u.clipIndices(x,[q,(r===undefined)?1:r],u.Clip.COUNT),w=v[0],y=v[1]-w,n=(y===1)&&p.getAt(w),s;p.splice(w,y);s=p.length-x;return(n&&s)?n:s},removeByKey:function(d){var f=this.getByKey(d);if(!f||!this.remove(f)){return false}return f},replace:function(f){var d=this.indexOf(f);if(d===-1){this.add(f)}else{this.insert(d,f)}},splice:function(ad,au,af){var av=this,aB=av.sorted&&av.getAutoSort(),ah=av.map,ap=av.items,ar=av.length,al=(au instanceof Array)?av.decodeRemoveItems(au):null,ak=!al,ac=Ext.Number,aA=ac.clipIndices(ar,[ad,ak?au:0],ac.Clip.COUNT),ay=aA[0],aw=aA[1],W=aw-ay,an=av.decodeItems(arguments,2),X=an?an.length:0,ae,aj,am,aC=ay,aD=av.indices||((X||al)?av.getIndices():null),aq=null,ax=W?[ay]:null,az=null,ao=av.getSource(),aE,aa,Z,U,ag,ab,V,at,ai,Y,k,n;if(ao&&!ao.updating){if(ak){al=[];for(U=0;U<W;++U){al.push(ap[ay+U])}}if(ay<ar){U=ao.indexOf(ap[ay])}else{U=ao.length}av.requestedIndex=ad;ao.splice(U,al,an);delete av.requestedIndex;return av}if(X){ae=an;az=[];aj={};if(aB){n=av.getSorters();if(X>1){if(!ae.$cloned){an=ae=ae.slice(0)}av.sortData(ae)}}for(U=0;U<X;++U){at=av.getKey(ag=an[U]);if((V=aj[at])!==undefined){(k||(k={}))[V]=1}else{ab=aD[at];if(ab<ay||aw<=ab){(ax||(ax=[])).push(ab)}}aj[at]=U;az.push(at)}if(k){ai=az;ae=[];az=[];ae.$cloned=true;for(U=0;U<X;++U){if(!k[U]){ag=an[U];ae.push(ag);az.push(ai[U])}}X=ae.length}aq={items:ae,keys:az}}for(U=al?al.length:0;U-->0;){at=av.getKey(al[U]);if((ab=aD[at])!==undefined){(ax||(ax=[])).push(ab)}}if(!aq&&!ax){return av}av.beginUpdate();if(ax){aE=null;Z=[];am={};if(ax.length>1){ax.sort(Ext.Array.numericSortFn)}for(U=0,Y=ax.length;U<Y;++U){at=av.getKey(ag=ap[ab=ax[U]]);if(!(at in ah)){continue}delete ah[at];if(!aE||ab>(aE.at+aa.length)){Z.push(aE={at:ab,items:(aa=[]),keys:(ai=[]),map:am,next:aE,replacement:aq});if(aq){aq.replaced=aE}}aa.push(am[at]=ag);ai.push(at);if(ab<aC-1){--aC}if(W>1&&ab===ay){--W;ax[U--]=++ay}}if(aq){aq.at=aC}for(V=Z.length;V-->0;){aE=Z[V];U=aE.at;Y=aE.items.length;if(U+Y<ar){av.indices=aD=null}av.length=ar-=Y;ap.splice(U,Y);if(aD){ai=aE.keys;for(U=0;U<Y;++U){delete aD[ai[U]]}}++av.generation;av.notify("remove",[aE])}}if(aq){if(aB&&X>1&&ar){av.spliceMerge(ae,az)}else{if(aB){if(X>1){aC=0;av.indices=aD=null}else{aC=n.findInsertionIndex(aq.items[0],ap,av.getSortFn(),ad)}}if(aC===ar){aw=aC;for(U=ae.length-1;U>=0;--U){ap[aw+U]=ae[U]}aD=av.indices;if(aD){for(U=0;U<X;++U){aD[az[U]]=aC+U}}}else{av.indices=null;Ext.Array.insert(ap,aC,ae)}for(U=0;U<X;++U){ah[az[U]]=ae[U]}av.length+=X;aq.at=aC;aq.atItem=aC===0?null:ap[aC-1];++av.generation;av.notify("add",[aq])}}av.endUpdate();return av},update:function(l,g){var k=this;k.beginUpdate();try{return l.call(g||k,k)}catch(j){throw j}finally{k.endUpdate()}},updateKey:function(r,o){var l=this,p=l.map,m=l.indices,q=l.getSource(),n;if(q&&!q.updating){q.updateKey(r,o)}else{if((n=l.getKey(r))!==o){if(p[o]===r&&!(n in p)){delete p[o];l.updating++;l.generation++;p[n]=r;if(m){m[n]=m[o];delete m[o]}l.notify("updatekey",[{item:r,newKey:n,oldKey:o}]);l.updating--}}}},findInsertIndex:function(n){var m=this.getSource(),l=m.items,p=m.indexOf(n)-1,o,k;while(p>-1){o=l[p];k=this.indexOf(o);if(k>-1){return k+1}--p}return 0},onCollectionAdd:function(D,C){var s=this,n=C.atItem,u=C.items,x=s.requestedIndex,v,w,B,y,r,A;if(!s.sorted){if(x!==undefined){w=x}else{if(n){w=s.indexOf(n);if(w===-1){w=s.findInsertIndex(u[0])}else{++w}}else{w=0}}}if(s.getAutoFilter()&&s.filtered){for(y=0,A=u.length;y<A;++y){r=u[y];if(s.isItemFiltered(r)){if(!B){B=u.slice(0,y)}if(!v){v=[]}v.push(r)}else{if(B){B.push(r)}}}}s.splice((w<0)?s.length:w,0,B||u);if(v){s.notify("filteradd",[v])}},onCollectionBeforeItemChange:function(f,d){this.onCollectionUpdateKey=null},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(f,d){delete this.onCollectionUpdateKey;this.itemChanged(d.item,d.modified,d.oldKey,d.meta)},onCollectionFilteredItemChange:null,onCollectionRefresh:function(w){var q=this,v={},o={},s,n,r,p,u;r=w.items;r=q.filtered&&q.getAutoFilter()?Ext.Array.filter(r,q.getFilterFn()):r.slice(0);if(q.sorted){q.sortData(r)}q.items=r;q.length=u=r.length;q.map=v;q.indices=o;for(s=0;s<u;++s){p=q.getKey(n=r[s]);v[p]=n;o[p]=s}q.notify("refresh")},onCollectionRemove:function(f,d){this.splice(0,d.items)},onCollectionUpdateKey:function(f,d){this.updateKey(d.item,d.oldKey)},_aggregators:{average:function(o,n,p,m,k){var l=p-n;return l&&this._aggregators.sum.call(this,o,n,p,m,k)/l},bounds:function(r,w,v,n,q){for(var o,p,u,s=w;s<v;++s){o=r[s];o=(q?o[q]:o)[n];if(!(o<p)){p=o}if(!(o>u)){u=o}}return[u,p]},count:function(c){return c.length},extremes:function(x,D,B,r,u){var w=null,C=null,y,q,v,A,s;for(y=D;y<B;++y){q=x[y];s=(u?q[u]:q)[r];if(!(s<v)){v=s;w=q}if(!(s>A)){A=s;C=q}}return[C,w]},max:function(m,l,n,b,o){var p=this._aggregators.bounds.call(this,m,l,n,b,o);return p[1]},maxItem:function(m,l,n,b,o){var p=this._aggregators.extremes.call(this,m,l,n,b,o);return p[1]},min:function(m,l,n,b,o){var p=this._aggregators.bounds.call(this,m,l,n,b,o);return p[0]},minItem:function(m,l,n,b,o){var p=this._aggregators.extremes.call(this,m,l,n,b,o);return p[0]},sum:function(s,p,u,n,m){for(var o,q=0,r=p;r<u;++r){o=s[r];o=(m?o[m]:o)[n];q+=o}return q}},_eventToMethodMap:{add:"onCollectionAdd",beforeitemchange:"onCollectionBeforeItemChange",beginupdate:"onCollectionBeginUpdate",endupdate:"onCollectionEndUpdate",itemchange:"onCollectionItemChange",filtereditemchange:"onCollectionFilteredItemChange",refresh:"onCollectionRefresh",remove:"onCollectionRemove",beforesort:"beforeCollectionSort",sort:"onCollectionSort",filter:"onCollectionFilter",filteradd:"onCollectionFilterAdd",updatekey:"onCollectionUpdateKey"},addObserver:function(f){var j=this,g=j.observers;if(!g){j.observers=g=[]}if(j.notifying){j.observers=g=g.slice(0)}g.push(f);if(g.length>1){Ext.Array.sort(g,j.prioritySortFn)}},prioritySortFn:function(b,j){var k=b.observerPriority||0,l=j.observerPriority||0;return k-l},applyExtraKeys:function(o,l){var n=this,p=l||{},q,r,m;for(r in o){m=o[r];if(!m.isCollectionKey){q={collection:n};if(Ext.isString(m)){q.property=m}else{q=Ext.apply(q,m)}m=new Ext.util.CollectionKey(q)}else{m.setCollection(n)}p[r]=n[r]=m;m.name=r}return p},applyGrouper:function(c){if(c){c=this.getSorters().decodeSorter(c,"Ext.util.Grouper")}return c},decodeItems:function(p,q){var n=this,r=(q===undefined)?p:p[q],l,m,o;if(!r||!r.$cloned){l=p.length>q+1||!Ext.isIterable(r);if(l){r=Ext.Array.slice(p,q);if(r.length===1&&r[0]===undefined){r.length=0}}m=n.getDecoder();if(m){if(!l){r=r.slice(0);l=true}for(o=r.length;o-->0;){if((r[o]=m.call(n,r[o]))===false){r.splice(o,1)}}}if(l){r.$cloned=true}}return r},getIndices:function(){var n=this,m=n.indices,k=n.items,l=k.length,o,p;if(!m){n.indices=m={};++n.indexRebuilds;for(o=0;o<l;++o){p=n.getKey(k[o]);m[p]=o}}return m},notify:function(v,r){var q=this,w=q.observers,o=q._eventToMethodMap[v],p=0,u,x,y,s;r=r||[];if(w&&o){q.notifying=true;for(u=0,x=w.length;u<x;++u){y=(s=w[u])[o];if(y){if(!p++){r.unshift(q)}y.apply(s,r)}}q.notifying=false}if(!q.hasListeners){return}if(q.hasListeners[v]){if(!p){r.unshift(q)}q.fireEventArgs(v,r)}},getFilterFn:function(){return this.getFilters().getFilterFn()},getFilters:function(f){var d=this._filters;if(!d&&f!==false){d=new Ext.util.FilterCollection();this.setFilters(d)}return d},isItemFiltered:function(c){return !this.getFilters().filterFn(c)},onFilterChange:function(m){var n=this,l=n.getSource(),o,p,k;if(!l){o=n.getExtraKeys();if(o){p={};for(k in o){p[k]=o[k].clone(n)}}l=new Ext.util.Collection({keyFn:n.getKey,extraKeys:p,rootProperty:n.getRootProperty()});if(n.length){l.add(n.items)}n.setSource(l);n.autoSource=l}else{if(l.length||n.length){n.onCollectionRefresh(l)}}n.notify("filter")},applyFilters:function(d,f){if(!d||d.isFilterCollection){return d}if(d){if(!f){f=this.getFilters()}f.splice(0,f.length,d)}return f},updateFilters:function(f,j){var g=this;if(j){j.un("endupdate","onEndUpdateFilters",g)}if(f){f.on({endupdate:"onEndUpdateFilters",scope:g,priority:g.$endUpdatePriority});f.$filterable=g}g.onEndUpdateFilters(f)},onEndUpdateFilters:function(k){var l=this,j=l.filtered,g=!!k&&(k.length>0);if(j||g){l.filtered=g;l.onFilterChange(k)}},getSortFn:function(){return this._sortFn||this.createSortFn()},getSorters:function(f){var d=this._sorters;if(!d&&f!==false){d=new Ext.util.SorterCollection();this.setSorters(d)}return d},onSortChange:function(){if(this.sorted){this.sortItems()}},sort:function(g,k,j){var l=this.getSorters();l.addSort.apply(l,arguments);return this},sortData:function(c){Ext.Array.sort(c,this.getSortFn());return c},sortItems:function(f){var d=this;if(d.sorted){f=d.getSortFn()}d.indices=null;d.notify("beforesort",[d.getSorters(false)]);if(d.length){Ext.Array.sort(d.items,f)}d.notify("sort")},sortBy:function(c){return this.sortItems(c)},findInsertionIndex:function(n,r,o,p){var m,q,l;r=r||this.items;o=o||this.getSortFn();l=r.length;if(p<l){m=p>0?o(r[p-1],n):0;q=p<l-1?o(n,r[p]):0;if(m<1&&q<1){return p}}return Ext.Array.binarySearch(r,n,o)},applySorters:function(d,f){if(!d||d.isSorterCollection){return d}if(d){if(!f){f=this.getSorters()}f.splice(0,f.length,d)}return f},createSortFn:function(){var k=this,g=k.getGrouper(),j=k.getSorters(false),l=j?j.getSortFn():null;if(!g){return l}return function(d,b){var c=g.sort(d,b);if(!c&&l){c=l(d,b)}return c}},updateGrouper:function(n){var m=this,j=m.getGroups(),k=m.getSorters(),l;m.onSorterChange();m.grouped=!!n;if(n){if(m.getTrackGroups()){if(!j){j=new Ext.util.GroupCollection({itemRoot:m.getRootProperty()});j.$groupable=m;m.setGroups(j)}j.setGrouper(n);l=true}}else{if(j){m.removeObserver(j);j.destroy()}m.setGroups(null)}if(!k.updating){m.onEndUpdateSorters(k)}if(l){j.onCollectionRefresh(m)}},updateSorters:function(f,j){var g=this;if(j&&!j.destroyed){j.un("endupdate","onEndUpdateSorters",g)}if(f){f.on({endupdate:"onEndUpdateSorters",scope:g,priority:g.$endUpdatePriority});f.$sortable=g}g.onSorterChange();g.onEndUpdateSorters(f)},onSorterChange:function(){this._sortFn=null},onEndUpdateSorters:function(k){var l=this,j=l.sorted,g=(l.grouped&&l.getAutoGroup())||(k&&k.length>0);if(j||g){l.sorted=!!g;l.onSortChange(k)}},removeObserver:function(d){var f=this.observers;if(f){Ext.Array.remove(f,d)}},spliceMerge:function(H,y){var A=this,B=A.map,K=H.length,N=0,G=A.items,x=G.length,I=[],J=0,E=[],M=A.getSortFn(),F,O,D,L,C,P;A.items=E;for(P=0;P<K;P=O){L=H[P];for(;N<x;++N){if(M(L,C=G[N])<0){break}E.push(C)}if(N===x){I[J++]={at:E.length,itemAt:E[E.length-1],items:(F=[])};if(J>1){I[J-2].next=I[J-1]}for(;P<K;++P){F.push(L=H[P]);E.push(L)}break}I[J++]={at:E.length,itemAt:E[E.length-1],items:(F=[L])};if(J>1){I[J-2].next=I[J-1]}E.push(L);for(O=P+1;O<K;++O){if(M(L=H[O],C)>=0){break}E.push(L);F.push(L)}}for(;N<x;++N){E.push(G[N])}for(D=0;D<K;++D){B[y[D]]=H[D]}A.length=E.length;++A.generation;A.indices=null;for(D=0;D<J;++D){A.notify("add",[I[D]])}},getGroups:function(){return(arguments.callee.$previous||Ext.Base.prototype.getGroups).call(this)||null},updateAutoGroup:function(f){var d=this.getGroups();if(d){d.setAutoGroup(f)}this.onEndUpdateSorters(this._sorters)},updateGroups:function(d,f){if(f){this.removeObserver(f)}if(d){this.addObserver(d)}},updateSource:function(j,f){var g=this.autoSource;if(f){if(!f.destroyed){f.removeObserver(this)}if(f===g){g.destroy();this.autoSource=null}}if(j){j.addObserver(this);if(j.length||this.length){this.onCollectionRefresh(j)}}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.util,"Collection"],function(){var c=this.prototype;c.removeAtKey=c.removeByKey;c.decodeRemoveItems=c.decodeItems;Ext.Object.each(c._aggregators,function(b){c[b]=function(j,k,l){return this.aggregate(j,b,k,l)};c[b+"ByGroup"]=function(f){return this.aggregateByGroup(f,b)}})}));(Ext.cmd.derive("Ext.util.ObjectTemplate",Ext.Base,{isObjectTemplate:true,excludeProperties:{},valueRe:/^[{][a-z\.]+[}]$/i,statics:{create:function(f,d){return f.isObjectTemplate?f:new Ext.util.ObjectTemplate(f,d)}},constructor:function(f,d){Ext.apply(this,d);this.template=f},apply:function(d){var f=this;delete f.apply;f.apply=f.compile(f.template);return f.apply(d)},privates:{compile:function(o){var n=this,r=n.excludeProperties,m,q,l,p;if(Ext.isString(o)){if(o.indexOf("{")<0){p=function(){return o}}else{if(n.valueRe.test(o)){o=o.substring(1,o.length-1).split(".");p=function(d){for(var c=d,b=0;c&&b<o.length;++b){c=c[o[b]]}return c}}else{o=new Ext.XTemplate(o);p=function(b){return o.apply(b)}}}}else{if(!o||Ext.isPrimitive(o)||Ext.isFunction(o)){p=function(){return o}}else{if(o instanceof Array){m=[];for(q=0,l=o.length;q<l;++q){m[q]=n.compile(o[q])}p=function(d){var c=[],b;for(b=0;b<l;++b){c[b]=m[b](d)}return c}}else{m={};for(q in o){if(!r[q]){m[q]=n.compile(o[q])}}p=function(d){var b={},f,c;for(f in o){c=r[f]?o[f]:m[f](d);if(c!==undefined){b[f]=c}}return b}}}}return p}}},1,0,0,0,0,0,[Ext.util,"ObjectTemplate"],0));(Ext.cmd.derive("Ext.data.schema.Role",Ext.Base,{isRole:true,left:true,owner:false,side:"left",isMany:false,defaultReaderType:"json",_internalReadOptions:{recordsOnly:true,asRoot:true},constructor:function(l,k){var j=this,g=k.extra;Ext.apply(j,k);if(g){g=Ext.apply({},g);delete g.type;Ext.apply(j,g);delete j.extra}j.association=l;if(l.owner===j.side){l.owner=j;j.owner=true}},processUpdate:function(){Ext.raise('Only the "many" for an association may be processed. "'+this.role+'" is not valid.')},processLoad:function(l,k,g,j){return g},checkMembership:Ext.emptyFn,adoptAssociated:function(j,g){var f=this.getAssociatedItem(j);if(f){g.adopt(f)}},$roleFilterId:"$associationRoleFilter",createAssociationStore:function(x,r,y,q){var v=this,A=v.association,w=A.getFieldName(),u=A.isManyToMany,C=v.storeConfig,D=r.getId(),B={asynchronousLoad:false,model:v.cls,role:v,session:x,associatedEntity:r,disableMetaChangeEvent:true,pageSize:null,remoteFilter:true,trackRemoved:!x},s;if(u){B.filters=[{id:v.$roleFilterId,property:v.inverse.field,value:D,exactMatch:true}]}else{if(w){B.filters=[{id:v.$roleFilterId,property:w,value:D,exactMatch:true}];B.foreignKeyName=w}}if(C){Ext.apply(B,C)}s=Ext.Factory.store(B);v.onStoreCreate(s,x,D);if(w||(u&&x)){s.on({scope:v,add:"onAddToMany",remove:"onRemoveFromMany",clear:"onRemoveFromMany"})}if(y){s.loadData(y)}s.complete=!!q;return s},onStoreCreate:Ext.emptyFn,getAssociatedStore:function(G,R,U,E,C){var K=this,I=K.getStoreName(),Q=G[I],V=G.session,M=R&&R.reload,H=G.$source,P=false,L=false,N,T,F,D,J,O,S,B;if(!Q){if(V){if(H){L=H.phantom}if(!E&&H){S=H[I];if(S&&!S.isLoading()){E=[];J=S.getData().items;for(F=0,D=J.length;F<D;++F){O=J[F];E.push(V.getRecord(O.self,O.id))}P=!!S.complete;N=true}}if(!N){B=!!E;E=K.findRecords(V,G,E,C);if(!B&&(!E||!E.length)){E=null}P=L||B}}else{P=!!E}Q=K.createAssociationStore(V,G,E,P||G.phantom);Q.$source=S;if(!E&&(K.autoLoad||R)){M=true}G[I]=Q}if(R){if(M||Q.isLoading()){Q.on("load",function(c,d,b,f){T=[c,f];U=U||R.scope||G;if(b){Ext.callback(R.success,U,T)}else{Ext.callback(R.failure,U,T)}T.push(b);Ext.callback(R,U,T);Ext.callback(R.callback,U,T)},null,{single:true})}else{T=[Q,null];U=U||R.scope||G;Ext.callback(R.success,U,T);T.push(true);Ext.callback(R,U,T);Ext.callback(R.callback,U,T)}}if(M&&!Q.isLoading()){Q.load()}return Q},getAssociatedItem:function(f){var d=this.isMany?this.getStoreName():this.getInstanceName();return f[d]||null},onDrop:Ext.emptyFn,onIdChanged:Ext.emptyFn,getReaderRoot:function(){var c=this;return c.associationKey||(c.associationKey=c.association.schema.getNamer().readerRoot(c.role))},getReader:function(){var m=this,j=m.reader,l=m.cls,k=!m.associationKey,n=this.getReaderRoot();if(j&&!j.isReader){if(Ext.isString(j)){j={type:j}}Ext.applyIf(j,{model:l,rootProperty:n,useSimpleAccessors:k,type:m.defaultReaderType});j=m.reader=Ext.createByAlias("reader."+j.type,j)}return j},getInstanceName:function(){var c=this;return c.instanceName||(c.instanceName=c.association.schema.getNamer().instanceName(c.role))},getOldInstanceName:function(){return this.oldInstanceName||(this.oldInstanceName="$old"+this.getInstanceName())},getStoreName:function(){var c=this;return c.storeName||(c.storeName=c.association.schema.getNamer().storeName(c.role))},constructReader:function(q){var p=this,m=p.getReader(),o=p.cls,n=!p.associationKey,u=p.getReaderRoot(),s,r;if(!m){r=o.getProxy();if(r){s=r.getReader();m=new s.self();m.copyFrom(s);m.setRootProperty(u)}else{m=new q.self({model:o,useSimpleAccessors:n,rootProperty:u})}p.reader=m}return m},read:function(o,l,n,m){var k=this.constructReader(n),p=k.getRoot(l);if(p){return k.readRecords(p,m,this._internalReadOptions)}},getCallbackOptions:function(f,j,g){if(typeof f==="function"){f={callback:f,scope:j||g}}else{if(f){f=Ext.apply({},f);f.scope=j||f.scope||g}}return f},doGetFK:function(E,r,u){var x=this,s=x.cls,B=x.association.getFieldName(),v=x.getInstanceName(),w=E[v],F=r&&r.reload,C=w!==undefined&&!F,y=E.session,D,A;if(!C){if(y){D=E.get(B);if(D||D===0){C=y.peekRecord(s,D,true)&&!F;w=y.getRecord(s,D,false)}else{C=true;E[v]=w=null}}else{if(B){D=E.get(B);if(!D&&D!==0){C=true;E[v]=w=null}else{if(!w){w=s.createWithId(D)}}}else{C=true;w=null}}}else{if(w){C=!w.isLoading()}}if(C){if(r){A=[w,null];u=u||r.scope||E;Ext.callback(r.success,u,A);A.push(true);Ext.callback(r,u,A);Ext.callback(r.callback,u,A)}}else{E[v]=w;r=x.getCallbackOptions(r,u,E);w.load(r)}return w},doSetFK:function(F,w,r,s){var x=this,A=x.association.getFieldName(),v=x.getInstanceName(),B=F[v],D=x.inverse,C=D.setterName,y=F.session,u,E;if(w&&w.isEntity){if(B!==w){E=x.getOldInstanceName();F[E]=B;F[v]=w;if(B&&B.isEntity){B[D.getInstanceName()]=undefined}if(A){F.set(A,w.getId())}delete F[E];F.onAssociatedRecordSet(w,x);if(C){w[C](F)}}}else{u=(F.changingKey&&!D.isMany)||F.set(A,w);if(u&&B&&B.isEntity&&!B.isEqual(B.getId(),w)){F[v]=undefined;if(!D.isMany){B[D.getInstanceName()]=undefined}}}if(r){if(Ext.isFunction(r)){r={callback:r,scope:s||F}}return F.save(r)}}},1,0,0,0,0,0,[Ext.data.schema,"Role"],0));(Ext.cmd.derive("Ext.data.schema.Association",Ext.Base,{isOneToOne:false,isManyToOne:false,isManyToMany:false,owner:null,field:null,constructor:function(g){var k=this,j,l;Ext.apply(k,g);k.left=j=new k.Left(k,k.left);k.right=l=new k.Right(k,k.right);j.inverse=l;l.inverse=j},hasField:function(){return !!this.field},getFieldName:function(){var c=this.field;return c?c.name:""}},1,0,0,0,0,0,[Ext.data.schema,"Association"],0));(Ext.cmd.derive("Ext.data.schema.OneToOne",Ext.data.schema.Association,{isOneToOne:true,isToOne:true,kind:"one-to-one",Left:Ext.define(null,{extend:"Ext.data.schema.Role",onDrop:function(f,j){var g=this.getAssociatedItem(f);f[this.getInstanceName()]=null;if(g){g[this.inverse.getInstanceName()]=null}},onIdChanged:function(j,m,n){var k=this.getAssociatedItem(j),l=this.association.getFieldName();if(!j.session&&k&&l){k.set(l,n)}},createGetter:function(){var c=this;return function(){return c.doGet(this)}},createSetter:function(){var c=this;return function(b){return c.doSet(this,b)}},doGet:function(g){var l=this.getInstanceName(),k=g[l],j=g.session;if(!k&&j){}return k||null},doSet:function(j,k){var n=this.getInstanceName(),l=j[n],m=this.inverse.setterName;if(l!==k){j[n]=k;if(m){k[m](j)}j.onAssociatedRecordSet(k,this)}return l},read:function(l,p,r,o){var q=this,n=q.callParent([l,p,r,o]),m;if(n){m=n[0];if(m){m[q.inverse.getInstanceName()]=l;l[q.getInstanceName()]=m;delete l.data[q.role]}}}}),Right:Ext.define(null,{extend:"Ext.data.schema.Role",left:false,side:"right",createGetter:function(){var c=this;return function(f,b){return c.doGetFK(this,f,b)}},createSetter:function(){var c=this;return function(b,j,g){return c.doSetFK(this,b,j,g)}},onDrop:function(l,n){var p=this,o=p.association.field,k=p.getAssociatedItem(l),m;if(p.inverse.owner){if(n&&o){m=l.get(o.name);if(m||m===0){k=n.getEntry(p.cls,m).record;if(k){k.drop()}}}else{if(k){k.drop()}}}if(o){l.set(o.name,null)}l[p.getInstanceName()]=null;if(k){k[p.inverse.getInstanceName()]=null}},onValueChange:function(n,o,p){var q=this,m=n[q.getOldInstanceName()]||q.getAssociatedItem(n),r=p||p===0,s=q.getInstanceName(),u=q.cls;n.changingKey=true;q.doSetFK(n,p);if(!r){n[s]=null}else{if(o&&u){n[s]=o.peekRecord(u,p)||undefined}}if(q.inverse.owner&&m){q.association.schema.queueKeyCheck(m,q)}n.changingKey=false},checkKeyForDrop:function(d){var f=this.inverse.getAssociatedItem(d);if(!f){d.drop()}},read:function(F,E,J,D){var A=this,v=A.callParent([F,E,J,D]),y,w,u,B,x,H,G,I,C;if(v){y=v[0];w=A.association.field;if(w){u=w.name}B=F.session;C=F.data;if(y){if(B){x=B.getRefs(y,this.inverse,true);I=(x&&x[F.id])||(C[u]===undefined)}else{I=true}if(I){if(w){G=C[u];H=y.id;if(G!==H){C[u]=H;if(B){B.updateReference(F,w,H,G)}}}y[A.inverse.getInstanceName()]=F;F[A.getInstanceName()]=y}delete C[A.role]}}}})},0,0,0,0,0,0,[Ext.data.schema,"OneToOne"],0));(Ext.cmd.derive("Ext.data.schema.ManyToOne",Ext.data.schema.Association,{isManyToOne:true,isToOne:true,kind:"many-to-one",Left:Ext.define(null,{extend:"Ext.data.schema.Role",isMany:true,onDrop:function(p,r){var q=this,n=q.getAssociatedItem(p),v,s,u,o,w;if(n){v=n.removeAll();if(v&&q.inverse.owner){for(u=0,s=v.length;u<s;++u){v[u].drop()}}n.destroy();p[q.getStoreName()]=null}else{if(r){v=r.getRefs(p,q);if(v){for(w in v){v[w].drop()}}}}},onIdChanged:function(p,v,u){var n=this.association.getFieldName(),o=this.getAssociatedItem(p),s,r,q,w;if(o){w=o.getFilters().get(this.$roleFilterId);if(w){w.setValue(u)}if(!p.session&&n){s=o.getDataSource().items;for(r=0,q=s.length;r<q;++r){s[r].set(n,u)}}}},processUpdate:function(q,v){var p=this,s=p.inverse.cls,r=v.R,w,o,n,u;if(r){for(w in r){o=q.peekRecord(s,w);if(o){u=q.getEntityList(p.cls,r[w]);n=p.getAssociatedItem(o);if(n){n.loadData(u);n.complete=true}else{o[p.getterName](null,null,u)}}else{q.onInvalidAssociationEntity(s,w)}}}},findRecords:function(x,w,C,r){var y=C,v=x.getRefs(w,this,true),u=this.association.field,s,D,E,B,A,F;if(u&&(v||r)){s=u.name;y=[];if(C){F={};for(B=0,A=C.length;B<A;++B){D=C[B];E=D.id;if(v&&v[E]){y.push(D)}else{if(r&&D.data[s]===undefined){y.push(D);D.data[s]=w.id;x.updateReference(D,u,w.id,undefined)}}F[E]=true}}if(v){for(E in v){if(!F||!F[E]){y.push(v[E])}}}}return y},processLoad:function(n,j,k,l){var m=k;if(l){m=this.findRecords(l,j,k,true)}this.onLoadMany(j,m,l);return m},adoptAssociated:function(p,l){var o=this.getAssociatedItem(p),m,n,k;if(o){o.setSession(l);m=o.getData().items;for(n=0,k=m.length;n<k;++n){l.adopt(m[n])}}},createGetter:function(){var c=this;return function(j,g,b){return c.getAssociatedStore(this,j,g,b,true)}},createSetter:null,onAddToMany:function(d,f){this.syncFK(f,d.getAssociatedEntity(),false)},onLoadMany:function(s,y,u){var q=this.inverse.getInstanceName(),C=s.getId(),r=this.association.field,w,v,A,B,x,D;if(r){for(w=0,v=y.length;w<v;++w){A=y[w];A[q]=s;if(r){D=r.name;x=A.data;B=x[D];if(B!==C){x[D]=C;if(u){u.updateReference(A,r,C,B)}}}}}},onRemoveFromMany:function(d,f){this.syncFK(f,d.getAssociatedEntity(),true)},read:function(r,y,o,w){var s=this,p=s.inverse.getInstanceName(),x=s.callParent([r,y,o,w]),q,u,v;if(x){q=r[s.getterName](null,null,x);delete r.data[s.role];x=q.getData().items;for(v=0,u=x.length;v<u;++v){x[v][p]=r}}},syncFK:function(y,s,r){var u=this.association.getFieldName(),w=this.inverse,x=w.setterName,q=w.getInstanceName(),v=y.length,C=s.getId(),D,A,B;while(v-->0){A=y[v];D=!A.isEqual(C,A.get(u));B=r?null:s;if(D!==r){A.changingKey=true;A[x](B);A.changingKey=false}else{A[q]=B}}}}),Right:Ext.define(null,{extend:"Ext.data.schema.Role",left:false,side:"right",onDrop:function(g,j){var f=this.association.field;if(f){g.set(f.name,null)}g[this.getInstanceName()]=null},createGetter:function(){var c=this;return function(f,b){return c.doGetFK(this,f,b)}},createSetter:function(){var c=this;return function(j,g,b){return c.doSetFK(this,j,g,b)}},checkMembership:function(k,j){var l=this.association.field,g;if(l){g=this.getSessionStore(k,j.get(l.name));if(g&&!g.contains(j)){g.add(j)}}},onValueChange:function(C,y,E,F){var x=this,u=x.getInstanceName(),r=x.cls,D,s,v,B,w,A;if(!C.changingKey){D=E||E===0;if(!D){C[u]=null}if(y){v=x.getSessionStore(y,F);if(v){v.remove(C)}if(D){v=x.getSessionStore(y,E);if(v&&!v.isLoading()){v.add(C)}if(r){A=y.peekRecord(r,E)}C[u]=A||undefined}}else{s=C.joined;if(s){for(B=s.length-1;B>=0;B--){v=s[B];if(v.isStore){w=v.getAssociatedEntity();if(w&&w.self===x.cls&&w.getId()===F){v.remove(C)}}}}}}if(x.owner&&E===null){x.association.schema.queueKeyCheck(C,x)}},checkKeyForDrop:function(f){var d=this.association.field;if(f.get(d.name)===null){f.drop()}},getSessionStore:function(k,l){var g=this.cls,j;if(g){j=k.peekRecord(g,l);if(j){return this.inverse.getAssociatedItem(j)}}},read:function(l,o,p,m){var n=this.callParent([l,o,p,m]),k;if(n){k=n[0];if(k){l[this.getInstanceName()]=k;delete l.data[this.role]}}}})},0,0,0,0,0,0,[Ext.data.schema,"ManyToOne"],0));(Ext.cmd.derive("Ext.data.schema.ManyToMany",Ext.data.schema.Association,{isManyToMany:true,isToMany:true,kind:"many-to-many",Left:Ext.define(null,{extend:"Ext.data.schema.Role",isMany:true,digitRe:/^\d+$/,findRecords:function(v,u,C){var s=v.getMatrixSlice(this.inverse,u.id),B=s.members,w=[],r=this.cls,F,y,x,E,A,D;if(C){F={};for(y=0,x=C.length;y<x;++y){D=C[y];E=D.id;A=B[E];if(!(A&&A[2]===-1)){w.push(D)}F[E]=true}}for(E in B){A=B[E];if(!F||!F[E]&&(A&&A[2]!==-1)){D=v.peekRecord(r,E);if(D){w.push(D)}}}return w},onIdChanged:function(g,j,k){var l=this.getAssociatedItem(g);if(l){l.getFilters().get(this.$roleFilterId).setValue(k)}},processLoad:function(n,j,k,l){var m=k;if(l){m=this.findRecords(l,j,k);this.onAddToMany(n,m,true)}return m},processUpdate:function(q,v){var p=this,s=p.inverse.cls,r=v.R,w,o,n,u;if(r){for(w in r){o=q.peekRecord(s,w);if(o){u=q.getEntityList(p.cls,r[w]);n=p.getAssociatedItem(o);if(n){n.loadData(u);n.complete=true}else{o[p.getterName](null,null,u)}}else{q.onInvalidAssociationEntity(s,w)}}}p.processMatrixBlock(q,v.C,1);p.processMatrixBlock(q,v.D,-1)},checkMembership:function(x,w){var v=x.getMatrix(this.association,true),y,C,B,s,r,F,D,A,E,u;if(!v){return}y=this.left?v.right:v.left;C=y.inverse.role.cls;B=this.inverse;r=y.slices;if(r){s=r[w.id];if(s){D=s.members;for(F in D){A=D[F];if(A[2]!==-1){E=x.peekRecord(C,F);if(E){u=B.getAssociatedItem(E);if(u){u.matrixUpdate=1;u.add(w);u.matrixUpdate=0}}}}}}},onStoreCreate:function(n,l,k){var m=this,j;if(l){j=l.getMatrixSlice(m.inverse,k);j.attach(n);j.notify=m.onMatrixUpdate;j.scope=m}},processMatrixBlock:function(o,p,q){var l=this.inverse,r=this.digitRe,n,m;if(p){for(m in p){if(r.test(m)){m=parseInt(m,10)}n=o.getMatrixSlice(l,m);n.update(p[m],q)}}},createGetter:function(){var c=this;return function(j,g,b){return c.getAssociatedStore(this,j,g,b,false)}},onAddToMany:function(f,g,j){if(!f.matrixUpdate){f.matrixUpdate=1;f.matrix.update(g,j===true?0:1);f.matrixUpdate=0}},onRemoveFromMany:function(f,d){if(!f.matrixUpdate){f.matrixUpdate=1;f.matrix.update(d,-1);f.matrixUpdate=0}},read:function(k,n,p,m){var o=this,l=o.callParent([k,n,p,m]);if(l){k[o.getterName](null,null,l);delete k.data[o.role]}},onMatrixUpdate:function(o,m,p){var l=o.store,r,n,q;if(l&&!l.loading&&!l.matrixUpdate){l.matrixUpdate=1;r=l.indexOfId(m);if(p<0){if(r>=0){l.remove([r])}}else{if(r<0){q=l.getSession().getEntry(this.type,m);n=q&&q.record;if(n){l.add(n)}}}l.matrixUpdate=0}},adoptAssociated:function(p,l){var n=this.getAssociatedItem(p),o,m,k;if(n){n.setSession(l);this.onStoreCreate(n,l,p.getId());o=n.getData().items;for(m=0,k=o.length;m<k;++m){l.adopt(o[m])}}}},function(){var c=this;Ext.ClassManager.onCreated(function(){Ext.data.schema.ManyToMany.prototype.Right=Ext.define(null,{extend:c,left:false,side:"right"})},null,"Ext.data.schema.ManyToMany")})},0,0,0,0,0,0,[Ext.data.schema,"ManyToMany"],0));(Ext.cmd.derive("Ext.util.Inflector",Ext.Base,{singleton:true,plurals:[[(/(quiz)$/i),"$1zes"],[(/^(ox)$/i),"$1en"],[(/([m|l])ouse$/i),"$1ice"],[(/(matr|vert|ind)ix|ex$/i),"$1ices"],[(/(x|ch|ss|sh)$/i),"$1es"],[(/([^aeiouy]|qu)y$/i),"$1ies"],[(/(hive)$/i),"$1s"],[(/(?:([^f])fe|([lr])f)$/i),"$1$2ves"],[(/sis$/i),"ses"],[(/([ti])um$/i),"$1a"],[(/(buffal|tomat|potat)o$/i),"$1oes"],[(/(bu)s$/i),"$1ses"],[(/(alias|status|sex)$/i),"$1es"],[(/(octop|vir)us$/i),"$1i"],[(/(ax|test)is$/i),"$1es"],[(/^(p)erson$/i),"$1eople"],[(/^(m)an$/i),"$1en"],[(/(.*)(child)(ren)?$/i),"$1$2ren"],[(/s$/i),"s"],[(/$/),"s"]],singulars:[[(/(address)$/i),"$1"],[(/(quiz)zes$/i),"$1"],[(/(matr)ices$/i),"$1ix"],[(/(vert|ind)ices$/i),"$1ex"],[(/^(ox)en/i),"$1"],[(/(alias|status)es$/i),"$1"],[(/(octop|vir)i$/i),"$1us"],[(/(cris|ax|test)es$/i),"$1is"],[(/(shoe)s$/i),"$1"],[(/(o)es$/i),"$1"],[(/(bus)es$/i),"$1"],[(/([m|l])ice$/i),"$1ouse"],[(/(x|ch|ss|sh)es$/i),"$1"],[(/(m)ovies$/i),"$1ovie"],[(/(s)eries$/i),"$1eries"],[(/([^aeiouy]|qu)ies$/i),"$1y"],[(/([lr])ves$/i),"$1f"],[(/(tive)s$/i),"$1"],[(/(hive)s$/i),"$1"],[(/([^f])ves$/i),"$1fe"],[(/(^analy)ses$/i),"$1sis"],[(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i),"$1$2sis"],[(/([ti])a$/i),"$1um"],[(/(n)ews$/i),"$1ews"],[(/(p)eople$/i),"$1erson"],[(/s$/i),""]],uncountable:["sheep","fish","series","species","money","rice","information","equipment","grass","mud","offspring","deer","means"],singular:function(f,d){this.singulars.unshift([f,d])},plural:function(f,d){this.plurals.unshift([f,d])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(c){return Ext.Array.indexOf(this.uncountable,c)!=-1},pluralize:function(l){if(this.isTransnumeral(l)){return l}var m=this.plurals,n=m.length,k,o,p;for(p=0;p<n;p++){k=m[p];o=k[0];if(o==l||(o.test&&o.test(l))){return l.replace(o,k[1])}}return l},singularize:function(l){if(this.isTransnumeral(l)){return l}var m=this.singulars,n=m.length,k,o,p;for(p=0;p<n;p++){k=m[p];o=k[0];if(o==l||(o.test&&o.test(l))){return l.replace(o,k[1])}}return l},classify:function(c){return Ext.String.capitalize(this.singularize(c))},ordinalize:function(j){var l=parseInt(j,10),k=l%10,g=l%100;if(11<=g&&g<=13){return j+"th"}else{switch(k){case 1:return j+"st";case 2:return j+"nd";case 3:return j+"rd";default:return j+"th"}}}},0,0,0,0,0,0,[Ext.util,"Inflector"],function(){var f={alumnus:"alumni",cactus:"cacti",focus:"foci",nucleus:"nuclei",radius:"radii",stimulus:"stimuli",ellipsis:"ellipses",paralysis:"paralyses",oasis:"oases",appendix:"appendices",index:"indexes",beau:"beaux",bureau:"bureaux",tableau:"tableaux",woman:"women",child:"children",man:"men",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",memorandum:"memoranda",phenomenon:"phenomena",foot:"feet",goose:"geese",tooth:"teeth",antenna:"antennae",formula:"formulae",nebula:"nebulae",vertebra:"vertebrae",vita:"vitae"},d;for(d in f){if(f.hasOwnProperty(d)){this.plural(d,f[d]);this.singular(f[d],d)}}}));(Ext.cmd.derive("Ext.data.schema.Namer",Ext.Base,{isNamer:true,capitalize:function(c){return Ext.String.capitalize(c)},fieldRole:function(f){var d=f.match(this.endsWithIdRe,"");if(d){f=f.substr(0,f.length-(d[1]||d[2]).length)}return this.apply("uncapitalize",f)},idField:function(c){return this.apply("uncapitalize,singularize",c)+"Id"},instanceName:function(c){return this.apply("underscore",c)},multiRole:function(c){return this.apply("undotted,uncapitalize,pluralize",c)},pluralize:function(c){return Ext.util.Inflector.pluralize(c)},readerRoot:function(c){return this.apply("uncapitalize",c)},singularize:function(c){return Ext.util.Inflector.singularize(c)},storeName:function(c){return this.apply("underscore",c)},uncapitalize:function(c){return Ext.String.uncapitalize(c)},underscore:function(c){return"_"+c},uniRole:function(c){return this.apply("undotted,uncapitalize,singularize",c)},undotted:function(j){if(j.indexOf(".")<0){return j}var g=j.split("."),f=g.length;while(f-->1){g[f]=this.apply("capitalize",g[f])}return g.join("")},getterName:function(f){var d=f.role;if(f&&f.isMany){return d}return"get"+this.apply("capitalize",d)},inverseFieldRole:function(o,n,q,u){var p=this,m=p.apply(n?"uniRole":"multiRole",o),r=p.apply("pluralize",q),s=p.apply("undotted,pluralize",u);if(r.toLowerCase()!==s.toLowerCase()){m=q+p.apply("capitalize",m)}return m},manyToMany:function(k,l,j){var m=this,n=m.apply("undotted,capitalize,singularize",l)+m.apply("undotted,capitalize,pluralize",j);if(k){n=m.apply("capitalize",k+n)}return n},manyToOne:function(j,l,g,k){return this.apply("capitalize,singularize",g)+this.apply("capitalize",l)},matrixRole:function(g,j){var f=this.apply(g?"multiRole,capitalize":"multiRole",j);return g?g+f:f},oneToOne:function(j,l,g,k){return this.apply("undotted,capitalize,singularize",g)+this.apply("capitalize",l)},setterName:function(c){return"set"+this.apply("capitalize",c.role)},endsWithIdRe:/(?:(_id)|[^A-Z](Id))$/,cache:{},apply:function(r,u){var o=this,v=o.cache,n=v[u]||(v[u]={}),p=n[r],q,s,w;if(!p){if(r.indexOf(",")<0){p=o[r](u)}else{s=(w=r.split(",")).length;p=u;for(q=0;q<s;++q){p=o.apply(w[q],p)}}n[r]=p}return p}},0,0,0,0,["namer.default"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.schema,"Namer"],0));(Ext.cmd.derive("Ext.data.schema.Schema",Ext.Base,{aliasPrefix:"schema.",isSchema:true,type:"default",statics:{instances:{},get:function(p){var n=this,q=n.instances,m="default",r=p&&Ext.isString(p),l,o;if(p){if(p.isSchema){return p}m=r?p:(p.id||m)}if(!(l=q[m])){q[m]=l=n.create(p);l.id=m}else{if(p&&!r){o=Ext.merge({},l.config);Ext.merge(o,p);l.setConfig(o);l.config=o}}return l},lookupEntity:function(k){var n=null,l=this.instances,o,p,m;if(k){if(k.isEntity){n=k.self}else{if(Ext.isFunction(k)){n=k}else{if(Ext.isString(k)){n=Ext.ClassManager.get(k);if(n&&(!n.prototype||!n.prototype.isEntity)){n=null}if(!n){for(p in l){m=l[p];o=m.getEntity(k);if(o){if(n){Ext.raise('Ambiguous entity name "'+k+'". Defined by schema "'+n.schema.type+'" and "'+p+'"')}n=o}}}if(!n){Ext.raise('No such Entity "'+k+'".')}}}}}return n}},assocCount:0,entityCount:0,config:{defaultIdentifier:null,keyCheckDelay:10,namer:"default",namespace:null,proxy:{type:"ajax",url:"{prefix}/{entityName}"},urlPrefix:""},onClassExtended:function(f,g){var j=g.alias;if(j&&!g.type){if(!Ext.isString(j)){j=j[0]}f.prototype.type=j.substring(this.prototype.aliasPrefix.length)}},constructor:function(c){this.initConfig(c);this.clear()},applyDefaultIdentifier:function(c){return c&&Ext.Factory.dataIdentifier(c)},applyNamer:function(f){var d=Ext.data.schema.Namer.create(f);d.schema=this;return d},applyNamespace:function(f){if(f){var d=f.length-1;if(f.charAt(d)!=="."){f+="."}}return f},applyProxy:function(c){return Ext.util.ObjectTemplate.create(c)},eachAssociation:function(j,k){var l=this.associations,g;for(g in l){if(l.hasOwnProperty(g)){if(j.call(k,g,l[g])===false){break}}}},eachEntity:function(k,l){var j=this.entities,g;for(g in j){if(j.hasOwnProperty(g)){if(k.call(l,g,j[g].cls)===false){break}}}},getAssociation:function(d){var f=this.associations[d];return f||null},getEntity:function(d){var f=this.entityClasses[d]||this.entities[d];return(f&&f.cls)||null},getEntityName:function(g){var j=this.getNamespace(),k,l;if(typeof g==="string"){l=g}else{l=g.$className||null}if(l){if(j){k=j.length;if(l.substring(0,k)!==j){return l}}if(k){l=l.substring(k)}}return l},hasAssociations:function(c){c=c.entityName||c;return !!this.associationEntityMap[c]},hasEntity:function(d){var f=this.getEntityName(d);return !!(this.entities[f]||this.entityClasses[f])},addMatrix:function(D,J,M,N,y){var x=this,F=x.getNamer(),B=x.associations,P=x.entities,K=N.type,A=y.type,L=N.field||F.apply("idField",K),H=y.field||F.apply("idField",A),O=N.role||F.matrixRole(M,K),E=y.role||F.matrixRole(M,A),C,I,G;I=P[K]||(P[K]={cls:null,name:K,associations:{}});G=P[A]||(P[A]={cls:null,name:A,associations:{}});++x.assocCount;B[J]=C=new Ext.data.schema.ManyToMany({name:J,schema:x,definedBy:D,left:{cls:I.cls,type:K,role:O,field:L,associationKey:N.associationKey},right:{cls:G.cls,type:A,role:E,field:H,associationKey:y.associationKey}});I.associations[C.right.role]=C.right;G.associations[C.left.role]=C.left;if(I.cls){x.associationEntityMap[I.cls.entityName]=true}if(G.cls){x.associationEntityMap[G.cls.entityName]=true}x.decorateModel(C)},addReference:function(E,T,F,S,D){var A=this,H=A.getNamer(),Q=A.entities,C=A.associations,I=E.entityName,P=F.association,L=F.child,J=F.parent,G=F.role,B=F.type||J||L,K=F.inverse,M=Ext.isString(K)?{role:K}:K,N=M&&M.role,R,O;if(!G){if(!T||F.legacy){G=H.apply("uncapitalize",B)}else{G=H.apply("fieldRole",T.name)}}if(!N){N=H.inverseFieldRole(I,S,G,B)}if(!P){if(S){P=H.oneToOne(E,N,B,G)}else{P=H.manyToOne(E,N,B,G)}}if(D&&P in C){if(D(C[P],P,N,G)!==false){return}}R=Q[B]||(Q[B]={cls:null,name:B,associations:{}});O=S?Ext.data.schema.OneToOne:Ext.data.schema.ManyToOne;P=new O({name:P,owner:L?"left":(J?"right":null),definedBy:E,schema:A,field:T,nullable:T?!!T.allowBlank:true,left:{cls:E,type:I,role:N,extra:M},right:{cls:R.cls,type:B,role:G,extra:F},meta:F});E.associations[G]=P.right;R.associations[N]=P.left;if(T){T.reference=P.right;E.references.push(T)}++A.assocCount;A.associationEntityMap[I]=true;if(R.cls){A.associationEntityMap[R.cls.entityName]=true}C[P.name]=P;if(P.right.cls){A.decorateModel(P)}},privates:{addEntity:function(x){var s=this,u=s.entities,q=x.entityName,p=u[q],v=x.fields,y,r,w,A,B;if(!p){u[q]=p={name:q,associations:{}}}else{y=p.associations;for(B in y){y[B].inverse.cls=x;s.associationEntityMap[q]=true;s.decorateModel(y[B].association)}}p.cls=x;x.prototype.associations=x.associations=p.associations;s.entityClasses[x.$className]=p;++s.entityCount;for(w=0,A=v.length;w<A;++w){r=v[w];if(r.reference){s.addReferenceDescr(x,r)}}},addMatrices:function(l,k){var m=this,p,n,o;if(Ext.isString(k)){m.addMatrixDescr(l,null,k)}else{if(k[0]){for(p=0,n=k.length;p<n;++p){m.addMatrixDescr(l,null,k[p])}}else{for(o in k){m.addMatrixDescr(l,o,k[o])}}}},addMatrixDescr:function(w,B,v){var u=this,r=w.entityName,x=u.associations,s=u.getNamer(),y=v.left,p=v.right,q,A;if(Ext.isString(v)){if(v.charAt(0)==="#"){y={type:r};p={type:v.substring(1)}}else{if(v.charAt(q=v.length-1)==="#"){y={type:v.substring(0,q)};p={type:r}}else{if(s.apply("multiRole",r)<s.apply("multiRole",v)){y={type:r};p={type:v}}else{y={type:v};p={type:r}}}}}else{A=v.relation;if(y||(!p&&s.apply("multiRole",r)<s.apply("multiRole",v.type))){if(!y||y===true){y={type:r}}else{y=Ext.apply({type:r},y)}p=v}else{if(!p||p===true){p={type:r}}else{p=Ext.apply({type:r},p)}y=v}}if(!B){B=s.manyToMany(A,y.type,p.type)}if(!(B in x)){u.addMatrix(w,B,A,y,p)}},addReferenceDescr:function(l,j){var g=this,k=j.$reference;if(Ext.isString(k)){k={type:k}}else{k=Ext.apply({},k)}g.addReference(l,j,k,j.unique)},addBelongsTo:function(d,f){this.addKeylessSingle(d,f,false)},addHasOne:function(d,f){this.addKeylessSingle(d,f,true)},addKeylessSingle:function(n,k,l){var j,m;k=Ext.apply({},this.checkLegacyAssociation(n,k));k.type=this.getEntityName(k.child||k.parent||k.type);j=k.foreignKey||(k.type.toLowerCase()+"_id");m=n.getField(j);k.fromSingle=true;if(m){m.$reference=k;m.unique=true;k.legacy=true}this.addReference(n,m,k,l)},addHasMany:function(B,v){var u=this,y=u.entities,E=u.pending,r,F,s,w,x,A,D,C;v=Ext.apply({},this.checkLegacyAssociation(B,v));v.type=this.getEntityName(v.child||v.parent||v.type);F=v.type;w=y[F];r=w&&w.cls;if(r){F=B.entityName;x=v.foreignKey||(F.toLowerCase()+"_id");delete v.foreignKey;C=Ext.apply({},v.inverse);delete v.inverse;A=Ext.apply({},v);delete A.type;v=Ext.apply({type:F,inverse:A},C);D=A.child;if(D){delete A.child;v.parent=F}s=r.getField(x);if(s){s.$reference=v;v.legacy=true}u.addReference(r,s,v,false)}else{if(!E[F]){E[F]=[]}E[F].push([B,v])}},checkLegacyAssociation:function(j,g){if(Ext.isString(g)){g={type:g}}else{g=Ext.apply({},g)}if(g.model){g.type=g.model;delete g.model}var f=g.associatedName||g.name;if(f){delete g.associatedName;delete g.name;g.role=f}return g},afterKeylessAssociations:function(p){var l=this.pending,o=p.entityName,m=l[o],n,k;if(m){for(n=0,k=m.length;n<k;++n){this.addHasMany.apply(this,m[n])}delete l[o]}},clear:function(j){var f=this,g=f.timer;delete f.setConfig;if(g){window.clearTimeout(g);f.timer=null}f.associations={};f.associationEntityMap={};f.entities={};f.entityClasses={};f.pending={};f.assocCount=f.entityCount=0;if(j){f.setNamespace(null)}},constructProxy:function(j){var l=this,k=Ext.Object.chain(j),g=l.getProxy();k.schema=l;k.prefix=l.getUrlPrefix();return g.apply(k)},applyDecoration:function(m){var o=this,l=m.inverse.cls,n=o.getNamer(),q,r,p;if(l&&!m.decorated){m.decorated=true;p=l.prototype;if(!(q=m.getterName)){m.getterName=q=n.getterName(m)}p[q]=m.createGetter();if(m.createSetter){if(!(r=m.setterName)){m.setterName=r=n.setterName(m)}p[r]=m.createSetter()}}},decorateModel:function(c){this.applyDecoration(c.left);this.applyDecoration(c.right)},processKeyChecks:function(p){var n=this,r=n.keyCheckQueue,m=n.timer,l,q,o;if(m){window.clearTimeout(m);n.timer=null}if(!r){return}do{r=n.keyCheckQueue;n.keyCheckQueue=[];for(q=0,l=r.length;q<l;++q){o=r[q];o.role.checkKeyForDrop(o.record)}}while(p&&n.keyCheckQueue.length)},queueKeyCheck:function(j,k){var m=this,n=m.keyCheckQueue,l=m.timer;if(!n){m.keyCheckQueue=n=[]}n.push({record:j,role:k});if(!l){m.timer=l=Ext.Function.defer(m.processKeyChecks,m.getKeyCheckDelay(),m)}},rankEntities:function(){var m=this,l=m.entities,k=Ext.Object.getKeys(l),n=k.length,o,p;m.nextRank=1;k.sort();for(p=0;p<n;++p){o=l[k[p]].cls;if(!o.rank){m.rankEntity(o)}}},rankEntity:function(m){var n=m.associations,k,l,j;for(j in n){l=n[j];if(!l.left&&l.association.field){k=l.cls;if(!k.rank){this.rankEntity(k)}}}m.rank=this.nextRank++}}},1,0,0,0,["schema.default"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.schema,"Schema"],0));(Ext.cmd.derive("Ext.data.AbstractStore",Ext.Base,{factoryConfig:{defaultType:"store",type:"store"},$configPrefixed:false,$configStrict:false,config:{filters:null,autoDestroy:undefined,storeId:null,statefulFilters:false,sorters:null,remoteSort:{lazy:true,$value:false},remoteFilter:{lazy:true,$value:false},groupField:undefined,groupDir:"ASC",grouper:null,pageSize:25,autoSort:null},currentPage:1,loading:false,isStore:true,updating:0,constructor:function(j){var g=this,f;g.isInitializing=true;g.mixins.observable.constructor.call(g,j);g.isInitializing=false;f=g.getStoreId();if(!f&&(j&&j.id)){g.setStoreId(f=j.id)}if(f){Ext.data.StoreManager.register(g)}},getCount:function(){var c=this.getData();return c?c.getCount():0},rangeCached:function(f,d){return this.getData().getCount()>=Math.max(f,d)},find:function(p,q,o,n,m,r){var s=!n,u=!!(s&&r);return this.getData().findIndex(p,q,o,s,u,!m)},findRecord:function(){var f=this,d=f.find.apply(f,arguments);return d!==-1?f.getAt(d):null},findExact:function(g,f,j){return this.getData().findIndexBy(function(b){return b.isEqual(b.get(g),f)},this,j)},findBy:function(j,f,g){return this.getData().findIndexBy(j,f,g)},getAt:function(c){return this.getData().getAt(c)||null},getRange:function(j,l,k){var g=this.getData().getRange(j,Ext.isNumber(l)?l+1:l);if(k&&k.callback){k.callback.call(k.scope||this,g,j,l,k)}return g},getFilters:function(f){var d=(arguments.callee.$previous||Ext.Base.prototype.getFilters).call(this);if(!d&&f!==false){this.setFilters([]);d=(arguments.callee.$previous||Ext.Base.prototype.getFilters).call(this)}return d},applyFilters:function(j,f){var g;if(!f){f=this.createFiltersCollection();g=true}f.add(j);if(g){this.onRemoteFilterSet(f,this.getRemoteFilter())}return f},getSorters:function(f){var d=(arguments.callee.$previous||Ext.Base.prototype.getSorters).call(this);if(!d&&f!==false){this.setSorters([]);d=(arguments.callee.$previous||Ext.Base.prototype.getSorters).call(this)}return d},applySorters:function(j,f){var g;if(!f){f=this.createSortersCollection();g=true}f.add(j);if(g){this.onRemoteSortSet(f,this.getRemoteSort())}return f},filter:function(j,g,f){if(Ext.isString(j)){j={property:j,value:g}}this.suppressNextFilter=!!f;this.getFilters().add(j);this.suppressNextFilter=false},removeFilter:function(l,g){var j=this,k=j.getFilters();j.suppressNextFilter=!!g;if(l instanceof Ext.util.Filter){k.remove(l)}else{k.removeByKey(l)}j.suppressNextFilter=false},updateAutoSort:function(c){this.getData().setAutoSort(c)},updateRemoteSort:function(c){this.onRemoteSortSet(this.getSorters(false),c)},updateRemoteFilter:function(c){this.onRemoteFilterSet(this.getFilters(false),c)},addFilter:function(f,d){this.suppressNextFilter=!!d;this.getFilters().add(f);this.suppressNextFilter=false},filterBy:function(f,d){this.getFilters().add({filterFn:f,scope:d||this})},clearFilter:function(f){var g=this,j=g.getFilters(false);if(!j||j.getCount()===0){return}g.suppressNextFilter=!!f;j.removeAll();g.suppressNextFilter=false},isFiltered:function(){return this.getFilters().getCount()>0},isSorted:function(){var c=this.getSorters(false);return !!(c&&c.length>0)||this.isGrouped()},addFieldTransform:function(k){if(k.getTransform()){return}var l=k.getProperty(),m=this.getModel(),j,n;if(m){j=m.getField(l);n=j?j.getSortType():null}if(n&&n!==Ext.identityFn){k.setTransform(n)}},beginUpdate:function(){if(!this.updating++){this.fireEvent("beginupdate")}},endUpdate:function(){if(this.updating&&!--this.updating){this.fireEvent("endupdate");this.onEndUpdate()}},getState:function(){var o=this,n=[],p=o.getFilters(),r=o.getGrouper(),m,q,l;o.getSorters().each(function(b){n[n.length]=b.getState();q=true});if(o.statefulFilters&&o.saveStatefulFilters){q=true;m=[];p.each(function(b){m[m.length]=b.getState()})}if(r){q=true}if(q){l={};if(n.length){l.sorters=n}if(m){l.filters=m}if(r){l.grouper=r.getState()}}return l},applyState:function(k){var m=this,n=k.sorters,j=k.filters,l=k.grouper;if(n){m.getSorters().replaceAll(n)}if(j){m.saveStatefulFilters=true;m.getFilters().replaceAll(j)}if(l){m.setGrouper(l)}},hasPendingLoad:Ext.emptyFn,isLoaded:Ext.emptyFn,isLoading:Ext.emptyFn,destroy:function(){var c=this;if(c.hasListeners.beforedestroy){c.fireEvent("beforedestroy",c)}c.destroying=true;if(c.getStoreId()){Ext.data.StoreManager.unregister(c)}c.doDestroy();if(c.hasListeners.destroy){c.fireEvent("destroy",c)}c.destroying=false;c.callParent()},doDestroy:Ext.emptyFn,sort:function(k,l,j){var g=this;if(arguments.length===0){if(g.getRemoteSort()){g.load()}else{g.forceLocalSort()}}else{g.getSorters().addSort(k,l,j)}},onBeforeCollectionSort:function(d,f){if(f){this.fireEvent("beforesort",this,f.getRange())}},onSorterEndUpdate:function(){var d=this,f;f=d.getSorters(false);if(d.settingGroups||!f){return}f=f.getRange();if(f.length){if(d.getRemoteSort()){d.load({callback:function(){d.fireEvent("sort",d,f)}})}else{d.fireEvent("datachanged",d);d.fireEvent("refresh",d);d.fireEvent("sort",d,f)}}else{d.fireEvent("sort",d,f)}},onFilterEndUpdate:function(){var g=this,j=g.suppressNextFilter,f=g.getFilters(false);if(!f){return}if(g.getRemoteFilter()){g.currentPage=1;if(!j){g.load()}}else{if(!j){g.fireEvent("datachanged",g);g.fireEvent("refresh",g)}}if(g.trackStateChanges){g.saveStatefulFilters=true}g.fireEvent("filterchange",g,g.getFilters().getRange())},updateGroupField:function(c){if(c){this.setGrouper({property:c,direction:this.getGroupDir()})}else{this.setGrouper(null)}},getGrouper:function(){return this.getData().getGrouper()},group:function(j,l){var n=this,m=n.getSorters(false),k=j||(m&&m.length);if(j&&typeof j==="string"){j={property:j,direction:l||n.getGroupDir()}}n.settingGroups=true;n.getData().setGrouper(j);delete n.settingGroups;if(k){if(n.getRemoteSort()){n.load({scope:n,callback:n.fireGroupChange})}else{n.fireEvent("datachanged",n);n.fireEvent("refresh",n);n.fireGroupChange()}}else{n.fireGroupChange()}},fireGroupChange:function(){if(!this.destroyed){this.fireEvent("groupchange",this,this.getGrouper())}},clearGrouping:function(){this.group(null)},getGroupField:function(){var d=this.getGrouper(),f="";if(d){f=d.getProperty()}return f},isGrouped:function(){return !!this.getGrouper()},applyGrouper:function(c){this.group(c);return this.getData().getGrouper()},getGroups:function(){return this.getData().getGroups()},onEndUpdate:Ext.emptyFn,privates:{loadsSynchronously:Ext.privateFn,onRemoteFilterSet:function(d,f){if(d){d[f?"on":"un"]("endupdate",this.onFilterEndUpdate,this)}},onRemoteSortSet:function(j,g){var f=this;if(j){j[g?"on":"un"]("endupdate",f.onSorterEndUpdate,f);f.getData()[g?"un":"on"]("beforesort",f.onBeforeCollectionSort,f)}}},deprecated:{5:{methods:{destroyStore:function(){this.destroy()}}}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable],[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data,"AbstractStore"],0));(Ext.cmd.derive("Ext.data.Error",Ext.Base,{isError:true,$configPrefixed:false,config:{field:null,message:""},constructor:function(c){this.initConfig(c);this.msg=this.message}},1,0,0,0,0,0,[Ext.data,"Error"],0));(Ext.cmd.derive("Ext.data.ErrorCollection",Ext.util.MixedCollection,{alternateClassName:"Ext.data.Errors",init:function(x){var u=this,w=x.fields,A=x.data,r,s,q,y,v,B,C,D;for(y=0,v=w.length;y<v;++y){s=w[y];D=s.name;C=A[D];if(s.validate&&!s.validate.$nullFn){r=u.length;B=s.validate(C,null,u,x);if(r===u.length&&B!==true){u.add(D,B)}}}return u},add:function(p,n){var o=this,k=Ext.data.field.Field.defaultInvalidMessage,l=p,m;if(Ext.isString(p)){l=new Ext.data.Error({field:p,message:n||k})}else{if(!(l.isError)){l=new Ext.data.Error({field:l.field||l.name,message:l.error||l.message||l.msg||k})}p=l.field}m=o.get(p);if(m){if(Ext.isArray(m)){m.push(l);return m}o.removeAtKey(p);l=[m,l];l.field=p;l=[l]}return Ext.util.MixedCollection.prototype.add.call(this,l)},getKey:function(c){return c.field},isValid:function(){return this.length===0},getByField:function(f){var d=this.get(f);if(d&&!Ext.isArray(d)){d=[d]}return d||[]}},0,0,0,0,0,0,[Ext.data,"ErrorCollection",Ext.data,"Errors"],0));(Ext.cmd.derive("Ext.data.operation.Operation",Ext.Base,{alternateClassName:"Ext.data.Operation",isOperation:true,config:{synchronous:false,url:"",params:undefined,callback:undefined,scope:undefined,resultSet:null,response:null,request:null,records:null,id:undefined,proxy:null,batch:null,recordCreator:null,internalCallback:null,internalScope:null},order:0,foreignKeyDirection:1,started:false,running:false,complete:false,success:undefined,exception:false,error:undefined,idPrefix:"ext-operation-",constructor:function(d){var f=d&&d.scope;this.initConfig(d);if(d){d.scope=f}if(f){this.setScope(f);this.initialConfig.scope=f}this._internalId=Ext.id(this,this.idPrefix)},getAction:function(){return this.action},execute:function(){var f=this,d;delete f.error;delete f.success;f.complete=f.exception=false;f.setStarted();f.request=d=f.doExecute();if(d){d.setOperation(f)}return d},doExecute:Ext.emptyFn,abort:function(){var f=this,d=f.request;if(f.running&&d){f.getProxy().abort(d);f.request=null}},process:function(n,l,j,k){var m=this;k=k!==false;m.setResponse(j);m.setResultSet(n);if(n.getSuccess()){m.doProcess(n,l,j);m.setSuccessful(k)}else{if(k){m.setException(n.getMessage())}}},_commitSetOptions:{convert:true,commit:true},doProcess:function(v,C,D){var x=this,E=x._commitSetOptions,H=x.getRecords(),F=H.length,u=H[0].clientIdProperty,s=v.getRecords(),y=s?s.length:0,w,A,G,B;if(y&&u){w=Ext.Array.toValueMap(H,"id");for(B=0;B<y;++B){A=s[B];G=w[A[u]];if(G){delete w[G.id];delete A[u];G.set(A,E)}}for(B in w){w[B].commit()}}else{for(B=0;B<F;++B){G=H[B];if(y===0||!(A=s[B])){G.commit()}else{G.set(A,E)}}}},setStarted:function(){this.started=this.running=true},setCompleted:function(){var f=this,d=f.getProxy();f.complete=true;f.running=false;f.triggerCallbacks();if(d){d.completeOperation(f)}},setSuccessful:function(c){this.success=true;if(c){this.setCompleted()}},setException:function(d){var f=this;f.exception=true;f.success=f.running=false;f.error=d;f.setCompleted()},triggerCallbacks:function(){var d=this,f=d.getInternalCallback();if(f){f.call(d.getInternalScope()||d,d);d.setInternalCallback(null);d.setInternalScope(null)}if(f=d.getCallback()){f.call(d.getScope()||d,d.getRecords(),d,d.wasSuccessful());d.setCallback(null);d.setScope(null)}},hasException:function(){return this.exception},getError:function(){return this.error},getRecords:function(){var c;return this._records||((c=this.getResultSet())?c.getRecords():null)},isStarted:function(){return this.started},isRunning:function(){return this.running},isComplete:function(){return this.complete},wasSuccessful:function(){return this.isComplete()&&this.success===true},allowWrite:function(){return true}},1,0,0,0,0,0,[Ext.data.operation,"Operation",Ext.data,"Operation"],0));(Ext.cmd.derive("Ext.data.operation.Create",Ext.data.operation.Operation,{action:"create",isCreateOperation:true,order:10,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().create(this)}},0,0,0,0,["data.operation.create"],0,[Ext.data.operation,"Create"],0));(Ext.cmd.derive("Ext.data.operation.Destroy",Ext.data.operation.Operation,{action:"destroy",isDestroyOperation:true,order:30,foreignKeyDirection:-1,doProcess:function(){var g=this.getRecords(),f=g.length,j;for(j=0;j<f;++j){g[j].setErased()}},doExecute:function(){return this.getProxy().erase(this)},getRecordData:function(j,m){var k={},l=j.idField,n=this.getNameProperty()||"name";k[l[n]]=j.id;return k}},0,0,0,0,["data.operation.destroy"],0,[Ext.data.operation,"Destroy"],0));(Ext.cmd.derive("Ext.data.operation.Read",Ext.data.operation.Operation,{action:"read",isReadOperation:true,config:{filters:undefined,sorters:undefined,grouper:undefined,start:undefined,limit:undefined,page:undefined,addRecords:false},doExecute:function(){return this.getProxy().read(this)},doProcess:Ext.emptyFn,allowWrite:function(){return false}},0,0,0,0,["data.operation.read"],0,[Ext.data.operation,"Read"],0));(Ext.cmd.derive("Ext.data.operation.Update",Ext.data.operation.Operation,{action:"update",isUpdateOperation:true,order:20,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().update(this)}},0,0,0,0,["data.operation.update"],0,[Ext.data.operation,"Update"],0));(Ext.cmd.derive("Ext.data.SortTypes",Ext.Base,{singleton:true,none:Ext.identityFn,stripCommasRe:/,/g,stripTagsRE:/<\/?[^>]+>/gi,asText:function(c){return(c!=null)?String(c).replace(this.stripTagsRe,""):"\x00"},asUCText:function(c){return(c!=null)?String(c).toUpperCase().replace(this.stripTagsRe,""):"\x00"},asUCString:function(c){return(c!=null)?String(c).toUpperCase():"\x00"},asDate:function(c){if(!c){return 0}if(Ext.isDate(c)){return c.getTime()}return Date.parse(String(c))},asFloat:function(d){var f=parseFloat(String(d).replace(this.stripCommasRe,""));return isNaN(f)?0:f},asInt:function(d){var f=parseInt(String(d).replace(this.stripCommasRe,""),10);return isNaN(f)?0:f}},0,0,0,0,0,0,[Ext.data,"SortTypes"],0));(Ext.cmd.derive("Ext.data.validator.Validator",Ext.Base,{isValidator:true,type:"base",statics:{all:{},register:function(j,f){var g=this.all;g[j.toUpperCase()]=g[j.toLowerCase()]=g[j]=f.prototype}},onClassExtended:function(d,f){if(f.type){Ext.data.validator.Validator.register(f.type,d)}},constructor:function(c){if(typeof c==="function"){this.fnOnly=true;this.validate=c}else{this.initConfig(c)}},validate:function(){return true},clone:function(){var c=this;if(c.fnOnly){return new Ext.data.validator.Validator(c.validate)}return new c.self(c.getCurrentConfig())}},1,0,0,0,["data.validator.base"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.validator,"Validator"],function(){this.register(this.prototype.type,this)}));(Ext.cmd.derive("Ext.data.field.Field",Ext.Base,{alternateClassName:"Ext.data.Field",aliasPrefix:"data.field.",type:"auto",factoryConfig:{defaultProperty:"name"},isDataField:true,isField:true,allowBlank:true,allowNull:false,critical:false,defaultInvalidMessage:"This field is invalid",defaultValue:undefined,definedBy:null,depends:null,dependents:null,mapping:null,name:null,ordinal:undefined,persist:null,reference:null,unique:false,rank:null,stripRe:/[\$,%]/g,calculated:false,evil:false,identifier:false,onClassExtended:function(o,m){var l=m.sortType,n=o.prototype,k=n.validators,p=m.validators;if(l&&Ext.isString(l)){n.sortType=Ext.data.SortTypes[l]}if(p){if(!Ext.isArray(p)){p=[p]}delete m.validators;if(k){p=k.concat(p)}n.validators=p}},argumentNamesRe:/^function\s*\(\s*([^,\)\s]+)/,calculateRe:/[^\.a-z0-9_]([a-z_][a-z_0-9]*)\.([a-z_][a-z_0-9]*)/gi,constructor:function(E){var w=this,u=w.calculateRe,B,s,v,A,F,H,y,G,x,D,C;if(E){if(Ext.isString(E)){w.name=E}else{C=E.validators;if(C){delete E.validators;w.instanceValidators=C}Ext.apply(w,E)}}if(!w.allowNull){w.allowNull=!!w.reference}B=w.calculate;F=w.depends;if(B){w.convert=w.doCalculate;if(!F){if(!(F=B.$depends)){H={};x=B.toString();B.$depends=F=[];y=w.argumentNamesRe.exec(x);G=y?y[1]:"data";while((y=u.exec(x))){if(G===y[1]&&!H[D=y[2]]){H[D]=1;F.push(D)}}}w.depends=F}}v=w.defaultValue;if(w.convert){w.calculated=s=w.convert.length>1;w.evil=s&&!F}if(w.persist===null){w.persist=!B}A=w.sortType;if(!w.sortType){w.sortType=Ext.data.SortTypes.none}else{if(Ext.isString(A)){w.sortType=Ext.data.SortTypes[A]}}if(F&&typeof F==="string"){w.depends=[F]}w.cloneDefaultValue=v!==undefined&&(Ext.isDate(v)||Ext.isArray(v)||Ext.isObject(v))},setModelValidators:function(c){this._validators=null;this.modelValidators=c},compileValidators:function(){var c=this;c._validators=[];c.constructValidators(c.validators);c.constructValidators(c.modelValidators);c.constructValidators(c.instanceValidators)},constructValidators:function(j){if(j){if(!(j instanceof Array)){j=[j]}var k=j.length,m=this._validators,n,l;for(n=0;n<k;++n){l=j[n];if(l.fn){l=l.fn}m.push(Ext.Factory.dataValidator(l))}}},collate:function(m,n){var l=this,j=m,k=n;if(l.sortType){j=l.sortType(j);k=l.sortType(k)}return(j===k)?0:((j<k)?-1:1)},compare:function(f,d){return(f===d)?0:((f<d)?-1:1)},isEqual:function(f,d){return this.compare(f,d)===0},convert:null,serialize:null,validate:function(q,w,r,v){var s=this,u="",p,B,y,A,x;if(!s._validators){s.compileValidators()}y=s._validators;for(x=0,A=y.length;x<A;++x){B=y[x];p=B.validate(q,v);if(p!==true){p=p||s.defaultInvalidMessage;if(r){r.add(s.name,p);u=u||p}else{if(w){if(u){u+=w}u+=p}else{u=p;break}}}}return u||true},doCalculate:function(d,f){return f?this.calculate(f.data):d},getName:function(){return this.name},getAllowBlank:function(){return this.allowBlank},getAllowNull:function(){return this.allowNull},getConvert:function(){return this.convert},getDefaultValue:function(){return this.defaultValue},getDepends:function(){return this.depends},getMapping:function(){return this.mapping},hasMapping:function(){var c=this.mapping;return !!(c||c===0)},getPersist:function(){return this.persist},getSortType:function(){return this.sortType},getType:function(){return"auto"},deprecated:{5.1:{methods:{getSortDir:function(){return this.sortDir}}}}},1,0,0,0,["data.field.auto"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.field,"Field",Ext.data,"Field"],0));(Ext.cmd.derive("Ext.data.field.Boolean",Ext.data.field.Field,{isBooleanField:true,trueRe:/^\s*(?:true|yes|on|1)\s*$/i,convert:function(c){if(typeof c==="boolean"){return c}if(this.allowNull&&(c===undefined||c===null||c==="")){return null}return this.trueRe.test(String(c))},getType:function(){return"bool"}},0,0,0,0,["data.field.bool","data.field.boolean"],0,[Ext.data.field,"Boolean"],0));Ext.define("Ext.overrides.data.field.Boolean",{override:"Ext.data.field.Boolean",defaultValue:0});(Ext.cmd.derive("Ext.data.field.Date",Ext.data.field.Field,{sortType:"asDate",isDateField:true,dateFormat:null,dateReadFormat:null,dateWriteFormat:null,compare:function(n,k){var l=n instanceof Date,m=k instanceof Date,j;if(m&&l){j=n.getTime()-k.getTime();if(j===0){j=0}else{j=j<0?-1:1}}else{if(l===m){j=0}else{j=l?1:-1}}return j},convert:function(g){if(!g){return null}if(g instanceof Date){return g}var f=this.dateReadFormat||this.dateFormat,j;if(f){return Ext.Date.parse(g,f,this.useStrict)}j=Date.parse(g);return j?new Date(j):null},serialize:function(j){var f=null,g;if(Ext.isDate(j)){g=this.getDateWriteFormat();f=g?Ext.Date.format(j,g):j}return f},getDateFormat:function(){return this.dateFormat},getDateReadFormat:function(){return this.dateReadFormat},getDateWriteFormat:function(){var c=this;if(c.hasOwnProperty("dateWriteFormat")){return c.dateWriteFormat}if(c.hasOwnProperty("dateFormat")){return c.dateFormat}return c.dateWriteFormat||c.dateFormat||"timestamp"},getType:function(){return"date"}},0,0,0,0,["data.field.date"],0,[Ext.data.field,"Date"],0));Ext.define("Ext.overrides.data.field.Date",{override:"Ext.data.field.Date",dateReadFormat:"d/m/Y",dateWriteFormat:"Y-m-d",convert:function(c){return Ext.util.Format.date(Ext.Date.parse(c,"Y-m-d"),"d/m/Y")}});(Ext.cmd.derive("Ext.data.field.Integer",Ext.data.field.Field,{isNumeric:true,isIntegerField:true,numericType:"int",convert:function(l){if(typeof l==="number"){return this.getNumber(l)}var j=l===undefined||l===null||l==="",g=this.allowNull,k;if(j){k=g?null:0}else{k=this.parse(l);if(g&&isNaN(k)){k=null}}return k},getNumber:function(c){return parseInt(c,10)},getType:function(){return this.numericType},parse:function(c){return parseInt(String(c).replace(this.stripRe,""),10)},sortType:function(c){if(c==null){c=Infinity}return c}},0,0,0,0,["data.field.int","data.field.integer"],0,[Ext.data.field,"Integer"],0));Ext.define("Ext.overrides.data.field.Integer",{override:"Ext.data.field.Integer",convert:null,defaultValue:null});(Ext.cmd.derive("Ext.data.field.Number",Ext.data.field.Integer,{isIntegerField:false,isNumberField:true,numericType:"float",getNumber:Ext.identityFn,parse:function(c){return parseFloat(String(c).replace(this.stripRe,""))}},0,0,0,0,["data.field.float","data.field.number"],0,[Ext.data.field,"Number"],0));(Ext.cmd.derive("Ext.data.field.String",Ext.data.field.Field,{sortType:"asUCString",isStringField:true,convert:function(f){var d=this.allowNull?null:"";return(f===undefined||f===null)?d:String(f)},getType:function(){return"string"}},0,0,0,0,["data.field.string"],0,[Ext.data.field,"String"],0));(Ext.cmd.derive("Ext.data.identifier.Generator",Ext.Base,{"abstract":true,factoryConfig:{defaultType:"sequential"},isGenerator:true,config:{id:null},constructor:function(f){var j=this,g;j.initConfig(f);g=j.getId();if(g){Ext.data.identifier.Generator.all[g]=j}},privates:{clone:function(f){var d=this.getInitialConfig();d=f?Ext.apply({},f,d):d;return new this.self(d)},statics:{all:{}}}},1,0,0,0,["data.identifier.default"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.identifier,"Generator"],function(){var g=this,f=Ext.Factory,j=f.dataIdentifier;f.dataIdentifier=function(d){var b=Ext.isString(d)?d:(d&&d.id),c=b&&g.all[b];return c||j(d)}}));(Ext.cmd.derive("Ext.data.identifier.Sequential",Ext.data.identifier.Generator,{config:{increment:1,prefix:null,seed:1},generate:function(){var j=this,f=j._seed,g=j._prefix;j._seed+=j._increment;return(g!==null)?g+f:f}},0,0,0,0,["data.identifier.sequential"],0,[Ext.data.identifier,"Sequential"],0));(Ext.cmd.derive("Ext.data.Model",Ext.Base,{alternateClassName:"Ext.data.Record",isEntity:true,isModel:true,validIdRe:null,erasing:false,observableType:"record",crudState:"R",crudStateWas:null,constructor:function(E,x){var w=this,J=w.self,y=J.identifier,G=Ext.data.Model,v=G.identifier,u=w.idField.name,A,I,H,B,C,F,D;w.data=w.data=E||(E={});w.session=x||null;w.internalId=B=v.generate();if((A=E) instanceof Array){w.data=E={};D=w.getFields();C=Math.min(D.length,A.length);for(F=0;F<C;++F){E[D[F].name]=A[F]}}if(!(H=J.initializeFn)){J.initializeFn=H=G.makeInitializeFn(J)}if(!H.$nullFn){J.initializeFn(w)}if(!(w.id=I=E[u])&&I!==0){if(x){y=x.getIdentifier(J);I=y.generate()}else{if(v===y){I=B}else{I=y.generate()}}E[u]=w.id=I;w.phantom=true;w.crudState="C"}if(x){x.add(w)}if(w.init&&Ext.isFunction(w.init)){w.init()}},editing:false,dirty:false,session:null,dropped:false,erased:false,clientIdProperty:null,evented:false,phantom:false,idProperty:"id",manyToMany:null,identifier:null,previousValues:undefined,proxy:undefined,schema:"default",versionProperty:null,generation:1,validationSeparator:null,convertOnSet:true,beginEdit:function(){var g=this,j=g.modified,f=g.previousValues;if(!g.editing){g.editing=true;g.editMemento={dirty:g.dirty,data:Ext.apply({},g.data),generation:g.generation,modified:j&&Ext.apply({},j),previousValues:f&&Ext.apply({},f)}}},cancelEdit:function(){var f=this,d=f.editMemento;if(d){f.editing=false;Ext.apply(f,d);f.editMemento=null}},endEdit:function(l,j){var k=this,g=k.editMemento;if(g){k.editing=false;k.editMemento=null;k.previousValues=g.previousValues;if(!l){if(!j){j=k.getModifiedFieldNames(g.data)}if(k.dirty||(j&&j.length)){k.callJoined("afterEdit",[j])}}}},getField:function(c){return this.self.getField(c)},getFields:function(){return this.self.getFields()},getFieldsMap:function(){return this.fieldsMap},getIdProperty:function(){return this.idProperty},getId:function(){return this.id},getObservableId:function(){return this.internalId},setId:function(f,d){this.set(this.idProperty,f,d)},getPrevious:function(f){var d=this.previousValues;return d&&d[f]},isModified:function(f){var d=this.modified;return !!(d&&d.hasOwnProperty(f))},getModified:function(f){var d;if(this.isModified(f)){d=this.modified[f]}return d},get:function(c){return this.data[c]},_singleProp:{},_rejectOptions:{convert:false,silent:true},set:function(aj,W,ah){var aq=this,aA=aq.self,S=aq.data,an=aq.modified,af=aq.previousValues,ad=aq.session,ae=Ext.isString(aj),am=(ae?ah:W),ab=am?am.convert!==false:aq.convertOnSet,aa=aq.fieldsMap,ay=am&&am.silent,ar=am&&am.commit,Z=!(am&&am.refs===false)&&ad,al=!(am&&am.dirty===false&&!ar),ao=null,av=0,az=aq.associations,aw,ax,aB,ap,at,ag,ai,au,U,T,X,ac,V,aC,Y,R,ak;if(ae){R=aq._singleProp;R[aj]=W}else{R=aj}if(!(V=aA.rankedFields)){V=aA.rankFields()}X=V.length;do{for(at in R){Y=R[at];aw=S[at];ai=aq;ax=aa[at];if(ax){if(ab&&ax.convert){Y=ax.convert(Y,aq)}ai=ax;aC=ax.reference}else{aC=null}if(ai.isEqual(aw,Y)){continue}S[at]=Y;(ao||(ao=[])).push(at);(af||(aq.previousValues=af={}))[at]=aw;if(aC&&aC.cls){if(Z){ad.updateReference(aq,ax,Y,aw)}aC.onValueChange(aq,ad,Y,aw)}T=(U=ax&&ax.dependents)&&U.length;while(T-->0){(au=U[T]).dirty=true;av=av?Math.min(av,au.rank):au.rank}if(!ax||ax.persist){if(an&&an.hasOwnProperty(at)){if(!al||ai.isEqual(an[at],Y)){delete an[at];aq.dirty=-1}}else{if(al){if(!an){aq.modified=an={}}aq.dirty=true;an[at]=aw}}}if(at===aq.idField.name){aB=true;ag=aw;ac=Y}}if(!av){break}ax=V[av-1];ax.dirty=false;if(ae){delete R[aj]}else{R=aq._singleProp;ae=true}aj=ax.name;R[aj]=S[aj];ab=true;for(;av<X;++av){if(V[av].dirty){break}}if(av<X){++av}else{av=0}}while(1);if(aq.dirty<0){aq.dirty=false;for(ap in an){if(an.hasOwnProperty(ap)){aq.dirty=true;break}}}if(ae){delete R[aj]}++aq.generation;if(aB){aq.id=ac;aq.onIdChanged(ac,ag);aq.callJoined("onIdChanged",[ag,ac]);if(az){for(ak in az){az[ak].onIdChanged(aq,ag,ac)}}}if(ar){aq.commit(ay,ao)}else{if(!ay&&!aq.editing&&ao){aq.callJoined("afterEdit",[ao])}}return ao},reject:function(f){var g=this,j=g.modified;if(j){g.set(j,g._rejectOptions)}g.dropped=false;g.clearState();if(!f){g.callJoined("afterReject")}},commit:function(p,n){var o=this,l=o.versionProperty,m=o.data,k;o.clearState();if(l&&!o.phantom&&!isNaN(m[l])){++m[l]}o.phantom=false;if(o.dropped){o.erased=k=true}if(!p){if(k){o.callJoined("afterErase")}else{o.callJoined("afterCommit",[n])}}},clearState:function(){var c=this;c.dirty=c.editing=false;c.editMemento=c.modified=null},drop:function(n){var l=this,m=l.associations,k=l.session,j;if(l.erased||l.dropped){return}l.dropped=true;if(m&&n!==false){for(j in m){m[j].onDrop(l,k)}}l.callJoined("afterDrop");if(l.phantom){l.setErased()}},join:function(j){var f=this,g=f.joined;if(!g){g=f.joined=[j]}else{if(!g.length){g[0]=j}else{Ext.Array.include(g,j)}}if(j.isStore&&!f.store){f.store=j}},unjoin:function(m){var n=this,l=n.joined,k=l&&l.length,p=n.store,o;if(m===n.session){n.session=null}else{if(k===1&&l[0]===m){l.length=0}else{if(k){Ext.Array.remove(l,m)}}if(p===m){p=null;if(l){for(o=0,k=l.length;o<k;++o){m=l[o];if(m.isStore){p=m;break}}}n.store=p}}},clone:function(j){var k=this,l=k.modified,g=k.copy(k.id,j);if(l){g.modified=Ext.apply({},l)}g.dirty=k.dirty;g.dropped=k.dropped;g.phantom=k.phantom;return g},copy:function(o,l){var n=this,m=Ext.apply({},n.data),p=n.idProperty,k=n.self;if(o||o===0){m[p]=o}else{if(o===null){delete m[p]}}return new k(m,l)},getProxy:function(){return this.self.getProxy()},getValidation:function(j){var g=this,f=g.validation;if(!f){g.validation=f=new Ext.data.Validation();f.attach(g)}if(j===true||(j!==false&&f.syncGeneration!==g.generation)){f.refresh(j)}return f},validate:function(){return new Ext.data.ErrorCollection().init(this)},isValid:function(){return this.getValidation().isValid()},toUrl:function(){var f=this.$className.split("."),d=f[f.length-1].toLowerCase();return d+"/"+this.getId()},erase:function(d){var f=this;f.erasing=true;f.drop();f.erasing=false;return f.save(d)},setErased:function(){this.erased=true;this.callJoined("afterErase")},getChanges:function(){return this.getData(this._getChangesOptions)},getCriticalFields:function(){var d=this.self,f=d.criticalFields;if(!f){d.rankFields();f=d.criticalFields}return f},getAssociatedData:function(K,L){var y=this,H=y.associations,w,D,v,A,G,I,B,E,F,J,C,x;K=K||{};y.$gathering=1;if(L){L=Ext.Object.chain(L)}for(F in H){E=H[F];v=E.getAssociatedItem(y);if(!v||v.$gathering){continue}if(v.isStore){v.$gathering=1;A=v.getData().items;I=A.length;G=[];for(D=0;D<I;++D){B=A[D];w=!B.$gathering;B.$gathering=1;if(L){x=L.associated;if(x===undefined){L.associated=w;C=true}else{if(!w){L.associated=false;C=true}}J=L}else{J=w?y._getAssociatedOptions:y._getNotAssociatedOptions}G.push(B.getData(J));if(C){L.associated=x;C=false}delete B.$gathering}delete v.$gathering}else{J=L||y._getAssociatedOptions;if(L&&L.associated===undefined){J.associated=true}G=v.getData(J)}K[F]=G}delete y.$gathering;return K},getData:function(K){var A=this,B={},J=(K===true)?A._getAssociatedOptions:(K||B),F=A.data,y=J.associated,N=J.changes,n=N&&J.critical,C=N?A.modified:F,D=A.fieldsMap,E=J.persist,L=J.serialize,H,x,G,I,M;if(C){for(I in C){M=F[I];x=D[I];if(x){if(E&&!x.persist){continue}if(L&&x.serialize){M=x.serialize(M,A)}}B[I]=M}}if(n){H=A.self.criticalFields||A.getCriticalFields();for(G=H.length;G-->0;){I=(x=H[G]).name;if(!(I in B)){M=F[I];if(L&&x.serialize){M=x.serialize(M,A)}B[I]=M}}}if(y){A.getAssociatedData(B,J)}return B},getTransientFields:function(){var d=this.self,f=d.transientFields;if(!f){d.rankFields();f=d.transientFields}return f},isLoading:function(){return !!this.loadOperation},abort:function(){var c=this.loadOperation;if(c){c.abort()}},load:function(u){u=Ext.apply({},u);var p=this,q=u.scope||p,s=p.getProxy(),n=u.callback,m=p.loadOperation,o=p.getId(),r;if(m){r=m.extraCalls;if(!r){r=m.extraCalls=[]}r.push(u);return m}u.id=o;u.recordCreator=function(d,b,f){var c=p.session;if(f){f.recordCreator=c?c.recordCreator:null}p.set(d,p._commitOptions);return p};u.internalCallback=function(k){var d=k.wasSuccessful()&&k.getRecords().length>0,c=p.loadOperation,g=c.extraCalls,l=[p,k],f=[p,k,d],j,b;p.loadOperation=null;if(d){Ext.callback(u.success,q,l)}else{Ext.callback(u.failure,q,l)}Ext.callback(n,q,f);if(g){for(j=0,b=g.length;j<b;++j){u=g[j];if(d){Ext.callback(u.success,q,l)}else{Ext.callback(u.failure,q,l)}Ext.callback(u.callback,q,f)}}p.callJoined("afterLoad")};delete u.callback;p.loadOperation=m=s.createOperation("read",u);m.execute();return m},save:function(n){n=Ext.apply({},n);var q=this,s=q.phantom,w=q.dropped,u=w?"destroy":(s?"create":"update"),o=n.scope||q,p=n.callback,r=q.getProxy(),v;n.records=[q];n.internalCallback=function(d){var c=[q,d],b=d.wasSuccessful();if(b){Ext.callback(n.success,o,c)}else{Ext.callback(n.failure,o,c)}c.push(b);Ext.callback(p,o,c)};delete n.callback;v=r.createOperation(u,n);if(w&&s){v.setResultSet(Ext.data.reader.Reader.prototype.nullResultSet);q.setErased();v.setSuccessful(true)}else{v.execute()}return v},inheritableStatics:{addFields:function(c){this.replaceFields(c)},replaceFields:function(v,y){var u=this,D=u.prototype,A=Ext.data.field.Field,C=u.fields,w=u.fieldsMap,F=u.fieldOrdinals,s,E,G,B,H,x;if(y===true){C.length=0;u.fieldsMap=w={};u.fieldOrdinals=F={}}else{if(y){for(E=y.length;E-->0;){H=y[E];if(H in F){delete F[H];delete w[H]}}for(E=0,B=C.length;E<B;++E){H=(s=C[E]).name;if(H in F){F[H]=E}else{C.splice(E,1);--E;--B}}}}for(E=0,B=v?v.length:0;E<B;E++){H=(s=v[E]).name;if(!(H in F)){F[H]=x=C.length;C.push(s=A.create(s));w[H]=s;s.ordinal=x;s.definedBy=s.owner=this}}u.idField=D.idField=G=w[D.idProperty];G.allowNull=G.critical=G.identifier=true;G.defaultValue=null;u.initializeFn=u.rankedFields=u.transientFields=u.criticalFields=null},removeFields:function(c){this.replaceFields(null,c)},getIdFromData:function(k){var l=this,g=l.idField,j=g.calculated?(new l(k)).id:k[g.name];return j},createWithId:function(k,n,m){var l=n,d=this;if(k||k===0){l={};if(n){Ext.apply(l,n)}l[d.idField.name]=k}return new d(l,m)},getFields:function(){return this.fields},getFieldsMap:function(){return this.fieldsMap},getField:function(c){return this.fieldsMap[c]||null},getProxy:function(){var l=this,g=l.proxy,j=l.defaultProxy,k;if(!g){g=l.proxyConfig;if(!g&&j){g=j}if(!g||!g.isProxy){if(typeof g==="string"){g={type:g}}k=l.schema.constructProxy(l);g=g?Ext.merge(k,g):k}g=l.setProxy(g)}return g},setProxy:function(j){var g=this,f;if(j){if(!j.isProxy){j=Ext.Factory.proxy(j)}else{f=j.getModel();if(f&&f!==g){j=j.clone()}}j.setModel(g)}return(g.prototype.proxy=g.proxy=j)},load:function(k,j,m){var n={},l;n[this.prototype.idProperty]=k;l=new this(n,m);l.load(j);return l}},deprecated:{5:{methods:{hasId:null,markDirty:null,setDirty:null,eachStore:function(l,n){var m=this,p=m.stores,k=p.length,o;for(o=0;o<k;++o){l.call(n,p[o])}},join:function(k){var l=this,g=l.stores,j=l.joined;if(!j){j=l.joined=[k]}else{j.push(k)}if(k.isStore){l.store=l.store||k;if(!g){g=l.stores=[]}g.push(k)}},unjoin:function(k){var l=this,g=l.stores,j=l.joined;if(j.length===1){j.length=0}else{Ext.Array.remove(j,k)}if(k.isStore){Ext.Array.remove(g,k);l.store=g[0]||null}}},properties:{persistenceProperty:null},inheritableStatics:{methods:{setFields:null}}}},privates:{_commitOptions:{commit:true},_getChangesOptions:{changes:true},_getAssociatedOptions:{associated:true},_getNotAssociatedOptions:{associated:false},copyFrom:function(v){var w=this,y=w.fields,r=y.length,C=[],u,B=0,x,A,q=w.idProperty,D,s;if(v){x=w.data;A=v.data;for(;B<r;B++){u=y[B];D=u.name;if(D!==q){s=A[D];if(s!==undefined&&!w.isEqual(x[D],s)){x[D]=s;C.push(D)}}}if(w.phantom&&!v.phantom){w.beginEdit();w.setId(v.getId());w.endEdit(true);w.commit(true)}}return C},callJoined:function(u,v){var r=this,p=r.joined,s=r.session,y=r.dropped?"D":(r.phantom?"C":(r.dirty?"U":"R")),x,w,q,o;r.crudState=y;if(p||s){if(v){v.unshift(r)}else{v=[r]}if(p){for(x=0,w=p.length;x<w;++x){o=p[x];if(o&&(q=o[u])){q.apply(o,v)}}}q=s&&s[u];if(q){q.apply(s,v)}}r.crudStateWas=y},onAssociatedRecordSet:function(d,f){this.callJoined("afterAssociatedRecordSet",[d,f])},onIdChanged:Ext.privateFn,setSession:function(c){this.session=c;if(c){c.add(this)}},getModifiedFieldNames:function(k){var n=this,m=n.data,p=[],l=k||n.editMemento.data,o;for(o in m){if(m.hasOwnProperty(o)){if(!n.isEqual(m[o],l[o],o)){p.push(o)}}}return p},isEqual:function(f,j,k){var l;if(k){l=k.isField?k:this.fieldsMap[k];if(l){return l.isEqual(f,j)}}if(f instanceof Date&&j instanceof Date){return f.getTime()===j.getTime()}return f===j},statics:{EDIT:"edit",REJECT:"reject",COMMIT:"commit",defaultProxy:"memory",rankFields:function(){var p=this,q=p.prototype,v=p.fields,x=v.length,s=[],y=[],u=[],o,r,w;p.rankedFields=q.rankedFields=s;p.criticalFields=q.criticalFields=y;p.transientFields=q.transientFields=u;for(w=0;w<x;++w){r=v[w];if(r.critical){y.push(r)}if(!r.persist){u.push(r)}if(r.evil){(o||(o=[])).push(r)}else{if(!r.depends){s.push(r);r.rank=s.length}}}for(w=0;w<x;++w){if(!(r=v[w]).rank&&!r.evil){p.topoAdd(r)}}if(o){for(w=0,x=o.length;w<x;++w){s.push(r=o[w]);r.rank=s.length}}return s},topoAdd:function(m){var r=this,n=m.depends,l=n?n.length:0,p=r.rankedFields,q,o;for(q=0;q<l;++q){o=r.fieldsMap[n[q]];(o.dependents||(o.dependents=[])).push(m);if(!o.rank){r.topoAdd(o)}}p.push(m);m.rank=p.length},initFields:function(L,W,I){var P=Ext.data.field.Field,U=L.fields,H=[],O={},S={},X=[],C=I.fields,N=L.versionProperty||I.versionProperty,M=W.idProperty,R,V,E,T,K,F,Q,D,G,J;W.fields=I.fields=H;W.fieldOrdinals=I.fieldOrdinals=O;W.fieldsMap=I.fieldsMap=S;W.references=I.references=X;if(C){for(E=0,T=C.length;E<T;++E){H[E]=V=Ext.Object.chain(C[E]);V.dependents=null;V.owner=W;O[K=V.name]=E;S[K]=V;V.rank=null;if(V.generated){D=V;G=V.name}}}if(U){delete L.fields;for(E=0,T=U.length;E<T;++E){V=U[E];Q=V.reference;if(Q&&typeof Q!=="string"){Q=Ext.merge({},Q)}V.$reference=Q;V=P.create(U[E]);K=V.name;F=O[K];if(F===undefined){O[K]=F=H.length}S[K]=V;H[F]=V;V.definedBy=V.owner=W;V.ordinal=F;if(K===M){J=V}}}R=S[M];if(!R){if(D&&D.generated){F=D.ordinal}else{F=H.length}delete S[G];delete O[G];R=new P(M);H[F]=R;O[M]=F;S[M]=R;R.definedBy=W;R.ordinal=F;R.generated=true}else{if(J&&D&&D.generated){Ext.Array.remove(H,D);delete S[G];delete O[G];S[M]=J;for(E=0,T=H.length;E<T;++E){V=H[E];H.ordinal=E;O[V.name]=E}}}R.allowNull=R.critical=R.identifier=true;R.defaultValue=null;W.idField=I.idField=R;if(N){V=S[N];if(!V){F=H.length;V=new P({name:N,type:"int"});H[F]=V;O[N]=F;S[N]=V;V.definedBy=W;V.ordinal=F;V.generated=true}V.defaultValue=1;V.critical=true}},initValidators:function(B,s,y){var v=y.validators,D,w,F,x,C,E,A,G,H,u;if(v){D={};for(w in v){D[w]=Ext.Array.clone(v[w])}}x=B.validators||B.validations;if(x){delete B.validators;D=D||{};if(Ext.isArray(x)){F={};for(C=0,E=x.length;C<E;++C){u=x[C];G=u.field;if(!F[G]){F[G]=[]}u=u.fn||u;F[G].push(u)}x=F}for(G in x){A=x[G];if(!Ext.isArray(A)){A=[A]}H=D[G];if(D[G]){Ext.Array.push(H,A)}else{D[G]=A}}}if(D){for(G in D){w=s.getField(G);if(w){w.setModelValidators(D[G])}}}s.validators=y.validators=D},initAssociations:function(A,w,r){var B=w.associations,y=w.belongsTo,u=w.hasMany,o=w.hasOne,s=w.manyToMany,x,C,v,D;delete w.associations;delete w.belongsTo;delete w.hasMany;delete w.hasOne;delete w.manyToMany;if(s){A.addMatrices(r,s)}if(B){B=Ext.isArray(B)?B:[B];for(x=0,C=B.length;x<C;++x){v=B[x];D=Ext.apply({},v);delete D.type;switch(v.type){case"belongsTo":A.addBelongsTo(r,D);break;case"hasMany":A.addHasMany(r,D);break;case"hasOne":A.addHasOne(r,D);break}}}if(y){y=Ext.isArray(y)?y:[y];for(x=0,C=y.length;x<C;++x){A.addBelongsTo(r,y[x])}}if(u){u=Ext.isArray(u)?u:[u];for(x=0,C=u.length;x<C;++x){A.addHasMany(r,u[x])}}if(o){o=Ext.isArray(o)?o:[o];for(x=0,C=o.length;x<C;++x){A.addHasOne(r,o[x])}}A.afterKeylessAssociations(r)},initIdentifier:function(l,k,m){var p=l.identifier||l.idgen,n=m.identifier||k.schema._defaultIdentifier,o;if(p){delete l.identifier;delete l.idgen;p=Ext.Factory.dataIdentifier(p)}else{if(n){if(n.clone&&!n.getId()){p=n.clone()}else{if(n.isGenerator){p=n}else{p=Ext.Factory.dataIdentifier(n)}}}}k.identifier=m.identifier=p;if(!p){o=k.entityName;if(!o){o=Ext.id(null,"extModel")}k.identifier=Ext.Factory.dataIdentifier({type:"sequential",prefix:o+"-"})}},findValidator:function(s,r,u){var p=u.type||u,n=s[r],m,q,o;if(n){for(q=0,m=n.length;q<m;++q){o=n[q];if(o.type===p){return o}}}return null},makeInitializeFn:function(J){var I=["var "],C=["\nreturn function (e) {\n    var data = e.data, v;\n"],w=0,A,B,y,u,F,x,D,E,v,G,H;if(!(D=J.rankedFields)){D=J.rankFields()}for(G=0,H=D.length;G<H;++G){x=D[G];E="f"+G;y=x.convert;if(G){I.push(",  \n    ")}I.push(E," = $fields["+G+"]");if((v=(x.defaultValue!==undefined))||y){u='data["'+x.name+'"]';++w;A=B="";if(x.cloneDefaultValue){A="Ext.clone(";B=")"}C.push("\n");if(y&&v){C.push("    v = ",u,";\n    if (v !== undefined) {\n        v = ",E,".convert(v, e);\n    }\n    if (v === undefined) {\n        v = ",A,E,".defaultValue",B,";\n    }\n    ",u," = v;")}else{if(y){C.push("    v = ",E,".convert(",u,",e);\n    if (v !== undefined) {\n        ",u," = v;\n    }\n")}else{if(v){C.push("    if (",u," === undefined) {\n        ",u," = ",A,E,".defaultValue",B,";\n    }\n")}}}}}if(!w){return Ext.emptyFn}I.push(";\n");I.push.apply(I,C);I.push("}");I=I.join("");F=new Function("$fields","Ext",I);return F(D,Ext)}}}},1,0,0,0,0,0,[Ext.data,"Model",Ext.data,"Record"],function(){var j=this,k=j.prototype,l=Ext.data.schema.Schema,g;j.proxyConfig=k.proxy;delete k.proxy;j.fields=[];j.fieldsMap=k.fieldsMap={};j.schema=k.schema=l.get(k.schema);k.idField=new Ext.data.field.Field(k.idProperty);j.identifier=new Ext.data.identifier.Sequential();j.onExtended(function(q,u){var b=q.prototype,r=u.schema,s=b.superclass.self,c,d,f;q.idProperty=u.idProperty||b.idProperty;if(r){delete u.schema;c=l.get(r)}else{if(!(c=b.schema)){c=g||(g=l.get("default"))}}q.rankFields=j.rankFields;q.topoAdd=j.topoAdd;b.schema=q.schema=c;if(!(d=u.entityName)){b.entityName=d=c.getEntityName(q)}q.entityName=d;q.fieldExtractors={};j.initIdentifier(u,q,b);j.initFields(u,q,b);j.initValidators(u,q,b);q.fields.items=q.fields;if(d){c.addEntity(q);j.initAssociations(c,u,q)}f=u.proxy;if(f){delete u.proxy}else{if(s!==j){f=s.proxyConfig||s.proxy}}q.proxyConfig=f})}));(Ext.cmd.derive("Ext.data.ResultSet",Ext.Base,{isResultSet:true,$configPrefixed:false,config:{loaded:true,count:null,total:null,success:false,records:null,message:null,metadata:null},constructor:function(c){this.initConfig(c)},getCount:function(){var f=(arguments.callee.$previous||Ext.Base.prototype.getCount).call(this),d;if(!f){d=this.getRecords();if(d){f=d.length}}return f}},1,0,0,0,0,0,[Ext.data,"ResultSet"],0));(Ext.cmd.derive("Ext.data.reader.Reader",Ext.Base,{alternateClassName:["Ext.data.Reader","Ext.data.DataReader"],factoryConfig:{defaultType:null},config:{totalProperty:"total",successProperty:"success",rootProperty:"",messageProperty:"",typeProperty:"",implicitIncludes:true,readRecordsOnFailure:true,model:null,proxy:null,transform:null,keepRawData:null},isReader:true,constructor:function(d){if(d&&d.hasOwnProperty("root")){d=Ext.apply({},d);d.rootProperty=d.root;delete d.root}var f=this;f.duringInit=1;f.mixins.observable.constructor.call(f,d);--f.duringInit;f.buildExtractors()},applyModel:function(c){return Ext.data.schema.Schema.lookupEntity(c)},applyTransform:function(c){if(c){if(Ext.isFunction(c)){c={fn:c}}else{if(c.charAt){c={fn:this[c]}}}return c.fn.bind(c.scope||this)}return c},forceBuildExtractors:function(){if(!this.duringInit){this.buildExtractors(true)}},updateTotalProperty:function(){this.forceBuildExtractors()},updateMessageProperty:function(){this.forceBuildExtractors()},updateSuccessProperty:function(){this.forceBuildExtractors()},read:function(n,k){var l,j,m;if(n){m=n.responseText;if(m){j=this.getResponseData(n);if(j&&j.__$isError){return new Ext.data.ResultSet({total:0,count:0,records:[],success:false,message:j.msg})}else{l=this.readRecords(j,k)}}else{if(m!==""){l=this.readRecords(n,k)}}}return l||this.nullResultSet},getNullResultSet:function(){return this.nullResultSet},createReadError:function(c){return{__$isError:true,msg:c}},readRecords:function(E,G,C){var B=this,D=C&&C.recordsOnly,w=C&&C.asRoot,v,F,H,y,A,x,J,I,u;u=B.getMeta?B.getMeta(E):E.metaData;if(u){B.onMetaChange(u)}I=B.getTransform();if(I){E=I(E)}B.buildExtractors();if(B.getKeepRawData()){B.rawData=E}if(B.hasListeners.rawdata){B.fireEventArgs("rawdata",[E])}E=B.getData(E);v=true;F=0;H=[];if(B.getSuccessProperty()){x=B.getSuccess(E);if(x===false||x==="false"){v=false}}if(B.getMessageProperty()){J=B.getMessage(E)}if(v||B.getReadRecordsOnFailure()){y=(w||Ext.isArray(E))?E:B.getRoot(E);if(y){A=y.length}if(B.getTotalProperty()){x=parseInt(B.getTotal(E),10);if(!isNaN(x)){A=x}}if(y){H=B.extractData(y,G);F=H.length}}return D?H:new Ext.data.ResultSet({total:A||F,metadata:u,count:F,records:H,success:v,message:J})},extractData:function(u,D){var w=this,C=D&&D.model?Ext.data.schema.Schema.lookupEntity(D.model):w.getModel(),F=C.schema,J=F.hasAssociations(C)&&w.getImplicitIncludes(),v=w.getFieldExtractorInfo(C.fieldExtractors),I=u.length,G=new Array(I),y=w.getTypeProperty(),x,H,E,A,B;if(!I&&Ext.isObject(u)){u=[u];I=1}for(B=0;B<I;B++){A=u[B];if(!A.isModel){H=A;if(y&&(E=w.getChildType(F,H,y))){x=E.getProxy().getReader();A=x.extractRecord(H,D,E,F.hasAssociations(E)&&x.getImplicitIncludes(),x.getFieldExtractorInfo(E.fieldExtractors))}else{A=w.extractRecord(H,D,C,J,v)}if(A.isModel&&A.isNode){A.raw=H}}if(A.onLoad){A.onLoad()}G[B]=A}return G},getChildType:function(l,k,j){var g;switch(typeof j){case"string":return l.getEntity(k[j]);case"object":g=j.namespace;return l.getEntity((g?g+".":"")+k[j.name]);case"function":return l.getEntity(j(k))}},extractRecordData:function(k,j){var l=j&&j.model?Ext.data.schema.Schema.lookupEntity(j.model):this.getModel(),g=this.getFieldExtractorInfo(l.fieldExtractors);return this.extractRecord(k,j,l,false,g)},extractRecord:function(w,v,u,n,p){var q=this,r=(v&&v.recordCreator)||q.defaultRecordCreator,o,s;o=q.extractModelData(w,p);s=r.call(q,o,u||q.getModel(),v);if(n&&s.isModel){q.readAssociated(s,w,v)}return s},getFieldExtractorInfo:function(g){if(!g){return}var f=this.$className,j=g[f];if(j===undefined){g[f]=j=this.buildFieldExtractors()}return j},buildFieldExtractors:function(){var r=this.getFields(),q=r.length,u=[],o=[],v=null,x=0,p,y,s,w;for(s=0;s<q;++s){p=r[s];w=this.createFieldAccessor(p);if(w){y=p.name;u.push("val = extractors["+x+"](raw); if (val !== undefined) { data['"+y+"'] = val; }");o.push(w);++x}}if(u.length){v={extractors:o,fn:new Function("raw","data","extractors","var val;"+u.join(""))}}return v},defaultRecordCreator:function(j,g){var f=new g(j);f.phantom=false;return f},getModelData:function(c){return{}},extractModelData:function(l,g){var j=this.getModelData(l),k;if(g){k=g.fn;k(l,j,g.extractors)}return j},readAssociated:function(k,m,n){var o=k.associations,p,l;for(p in o){if(o.hasOwnProperty(p)){l=o[p];if(l.cls){l.read(k,m,this,n)}}}},getFields:function(){return this.getModel().fields},getData:Ext.identityFn,getRoot:Ext.identityFn,getResponseData:function(c){},onMetaChange:function(m){var n=this,r=m.fields,q,o,l,p;n.metaData=m;if(m.root){n.setRootProperty(m.root)}if(m.totalProperty){n.setTotalProperty(m.totalProperty)}if(m.successProperty){n.setSuccessProperty(m.successProperty)}if(m.messageProperty){n.setMessageProperty(m.messageProperty)}l=m.clientIdProperty;if(r){o=Ext.define(null,{extend:"Ext.data.Model",fields:r,clientIdProperty:l});n.setModel(o);p=n.getProxy();if(p){p.setModel(o)}}else{if(l){q=n.getModel();if(q){q.self.prototype.clientIdProperty=l}}}},buildExtractors:function(l){var n=this,m,j,k;if(l||!n.hasExtractors){m=n.getTotalProperty();j=n.getSuccessProperty();k=n.getMessageProperty();if(m){n.getTotal=n.getAccessor(m)}if(j){n.getSuccess=n.getAccessor(j)}if(k){n.getMessage=n.getAccessor(k)}n.hasExtractors=true;return true}},getAccessor:function(k){var l=this,j=l.extractorCache,n,m;if(typeof k==="string"){m=l.getAccessorKey(k);n=j.get(m);if(!n){n=l.createAccessor(k);j.add(m,n)}}else{n=l.createAccessor(k)}return n},getAccessorKey:function(c){return this.$className+c},createAccessor:Ext.emptyFn,createFieldAccessor:Ext.emptyFn,destroy:function(){var c=this;c.model=c.getTotal=c.getSuccess=c.getMessage=c.rawData=null;c.onMetaChange=null;c.transform=null;c.callParent()},privates:{copyFrom:function(d){var f=this;d.buildExtractors();f.getTotal=d.getTotal;f.getSuccess=d.getSuccess;f.getMessage=d.getMessage;++f.duringInit;f.setConfig(d.getConfig());--f.duringInit;f.hasExtractors=true}}},1,0,0,0,["reader.base"],[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable],[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.reader,"Reader",Ext.data,"Reader",Ext.data,"DataReader"],function(f){var d=f.prototype;Ext.apply(d,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:true,message:""})});d.extractorCache=new Ext.util.LruCache()}));(Ext.cmd.derive("Ext.data.writer.Writer",Ext.Base,{factoryConfig:{defaultType:null},alternateClassName:["Ext.data.DataWriter","Ext.data.Writer"],config:{clientIdProperty:null,allDataOptions:{persist:true},partialDataOptions:{changes:true,critical:true},writeAllFields:false,dateFormat:null,nameProperty:"name",writeRecordId:true,transform:null},isWriter:true,constructor:function(c){this.initConfig(c)},applyTransform:function(c){if(c){if(Ext.isFunction(c)){c={fn:c}}return c.fn.bind(c.scope||this)}return c},write:function(m){var o=m.getOperation(),p=o.getRecords()||[],k=p.length,l=[],n;for(n=0;n<k;n++){l.push(this.getRecordData(p[n],o))}return this.writeRecords(m,l)},writeRecords:Ext.emptyFn,getRecordData:function(C,E){var y=this,G=y.getNameProperty(),K=G!=="name",I=C.self.idField,M=I[G]||I.name,N=C.id,H=y.getWriteAllFields(),A,J,F,L,w,B,D,x;if(I.serialize){N=I.serialize(N)}if(!H&&E&&E.isDestroyOperation){A={};A[M]=N}else{J=y.getDateFormat();F=C.phantom;L=(F||H)?y.getAllDataOptions():y.getPartialDataOptions();w=F&&y.getClientIdProperty();B=C.getFieldsMap();L.serialize=false;D=C.getData(L);A=K?{}:D;if(w){A[w]=N;delete D[M]}else{if(!y.getWriteRecordId()){delete D[M]}}for(M in D){N=D[M];if(!(x=B[M])){if(K){A[M]=N}}else{if(x.isDateField&&J&&Ext.isDate(N)){N=Ext.Date.format(N,J)}else{if(x.serialize){N=x.serialize(N,C)}}if(K){M=x[G]||M}A[M]=N}}}return A}},1,0,0,0,["writer.base"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.writer,"Writer",Ext.data,"DataWriter",Ext.data,"Writer"],0));(Ext.cmd.derive("Ext.data.proxy.Proxy",Ext.Base,{$configPrefixed:false,alternateClassName:["Ext.data.DataProxy","Ext.data.Proxy"],config:{batchOrder:"create,update,destroy",batchActions:true,model:undefined,reader:{type:"json"},writer:{type:"json"}},isProxy:true,isSynchronous:false,constructor:function(c){this.mixins.observable.constructor.call(this,c);this.pendingOperations={}},applyModel:function(c){return Ext.data.schema.Schema.lookupEntity(c)},updateModel:function(f){if(f){var d=this.getReader();if(d&&!d.getModel()){d.setModel(f)}}},applyReader:function(c){if(this.isSynchronous){c=c||{};c.keepRawData=true}return Ext.Factory.reader(c)},updateReader:function(f){if(f){var g=this,j=g.getModel();if(!j){j=f.getModel();if(j){g.setModel(j)}}else{f.setModel(j)}}},applyWriter:function(f){var d=this.getReader();f=Ext.Factory.writer(f);if(f.getRecord&&!f.getRecord()&&d&&d.getRecord){d=d.getRecord();if(d){f.setRecord(d)}}return f},abort:Ext.emptyFn,onMetaChange:function(c){this.fireEvent("metachange",this,c)},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,erase:Ext.emptyFn,batch:function(r,v){var w=this,x=w.getBatchActions(),A,E,B,D,C,u,F,s,y;if(r.operations===undefined){r={operations:r,listeners:v}}if(r.batch){if(Ext.isDefined(r.batch.runOperation)){A=Ext.applyIf(r.batch,{proxy:w,listeners:{}})}}else{r.batch={proxy:w,listeners:r.listeners||{}}}if(!A){A=new Ext.data.Batch(r.batch)}A.on("complete",Ext.bind(w.onBatchComplete,w,[r],0));B=w.getBatchOrder().split(",");D=B.length;for(u=0;u<D;u++){C=B[u];E=r.operations[C];if(E){if(x){A.add(w.createOperation(C,{records:E,params:r.params}))}else{s=E.length;for(F=0;F<s;F++){y=E[F];A.add(w.createOperation(C,{records:[y],params:r.params}))}}}}A.start();return A},onBatchComplete:function(f,j){var g=f.scope||this;if(j.hasException()){if(Ext.isFunction(f.failure)){Ext.callback(f.failure,g,[j,f])}}else{if(Ext.isFunction(f.success)){Ext.callback(f.success,g,[j,f])}}if(Ext.isFunction(f.callback)){Ext.callback(f.callback,g,[j,f])}},createOperation:function(g,j){var f=Ext.createByAlias("data.operation."+g,j);f.setProxy(this);this.pendingOperations[f._internalId]=f;return f},completeOperation:function(c){delete this.pendingOperations[c._internalId]},clone:function(){return new this.self(this.getInitialConfig())},destroy:function(){var j=this.pendingOperations,f,g;for(f in j){g=j[f];if(g&&g.isRunning()){g.abort()}}this.pendingOperations=null;this.callParent()}},1,0,0,0,["proxy.proxy"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable],[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.data.proxy,"Proxy",Ext.data,"DataProxy",Ext.data,"Proxy"],0));(Ext.cmd.derive("Ext.data.proxy.Client",Ext.data.proxy.Proxy,{alternateClassName:"Ext.data.ClientProxy",isSynchronous:true,clear:function(){}},0,0,0,0,0,0,[Ext.data.proxy,"Client",Ext.data,"ClientProxy"],0));(Ext.cmd.derive("Ext.data.proxy.Memory",Ext.data.proxy.Client,{alternateClassName:"Ext.data.MemoryProxy",isMemoryProxy:true,config:{enablePaging:false,data:{$value:null,merge:function(j,g,k,l){if(Ext.isArray(j)){return Ext.Array.clone(j)}else{return Ext.clone(j)}}}},finishOperation:function(l){var k=0,j=l.getRecords(),g=j.length;for(k;k<g;k++){j[k].dropped=!!l.isDestroyOperation;j[k].commit()}l.setSuccessful(true)},create:function(c){this.finishOperation(c)},update:function(c){this.finishOperation(c)},erase:function(c){this.finishOperation(c)},read:function(s){var q=this,p=q.getReader().read(q.getData()),v=p.getRecords(),r=s.getSorters(),y=s.getGrouper(),w=s.getFilters(),x=s.getStart(),u=s.getLimit(),o;if(s.process(p,null,null,false)!==false){if(w&&w.length){p.setRecords(v=Ext.Array.filter(v,Ext.util.Filter.createFilterFn(w)));p.setTotal(v.length)}if(y){r=r?r.concat(y):r}if(r&&r.length){p.setRecords(v=Ext.Array.sort(v,Ext.util.Sortable.createComparator(r)))}if(q.getEnablePaging()&&x!==undefined&&u!==undefined){if(x>=p.getTotal()){p.setConfig({success:false,records:[],total:0})}else{p.setRecords(Ext.Array.slice(v,x,x+u))}}s.setCompleted();if(o=p.getMetadata()){q.onMetaChange(o)}}},clear:Ext.emptyFn},0,0,0,0,["proxy.memory"],0,[Ext.data.proxy,"Memory",Ext.data,"MemoryProxy"],0));(Ext.cmd.derive("Ext.data.ProxyStore",Ext.data.AbstractStore,{config:{model:undefined,fields:null,proxy:undefined,autoLoad:undefined,autoSync:false,batchUpdateMode:"operation",sortOnLoad:true,trackRemoved:true,asynchronousLoad:undefined},onClassExtended:function(n,l,j){var m=l.model,k;if(typeof m==="string"){k=j.onBeforeCreated;j.onBeforeCreated=function(){var b=this,c=arguments;Ext.require(m,function(){k.apply(b,c)})}}},implicitModel:"Ext.data.Model",autoSyncSuspended:0,constructor:function(d){var f=this;f.removed=[];Ext.data.AbstractStore.prototype.constructor.apply(this,arguments);if(f.getAsynchronousLoad()===false){f.flushLoad()}},applyAsynchronousLoad:function(c){if(c==null){c=!this.loadsSynchronously()}return c},updateAutoLoad:function(c){this.getData();if(c){this.load(Ext.isObject(c)?c:undefined)}},getTotalCount:function(){return this.totalCount||0},applyFields:function(c){if(c){this.createImplicitModel(c)}},applyModel:function(c){if(c){c=Ext.data.schema.Schema.lookupEntity(c)}else{if(!this.destroying){this.getFields();c=this.getModel()||this.createImplicitModel()}}return c},applyProxy:function(f){var d=this.getModel();if(f!==null){if(f){if(f.isProxy){f.setModel(d)}else{if(Ext.isString(f)){f={type:f,model:d}}else{if(!f.model){f=Ext.apply({model:d},f)}}f=Ext.createByAlias("proxy."+f.type,f);f.autoCreated=true}}else{if(d){f=d.getProxy();this.useModelProxy=true}}if(!f){f=Ext.createByAlias("proxy.memory");f.autoCreated=true}}return f},applyState:function(f){var d=this;Ext.data.AbstractStore.prototype.applyState.call(this,f);if(d.getAutoLoad()||d.isLoaded()){d.load()}},updateProxy:function(f,d){this.proxyListeners=Ext.destroy(this.proxyListeners)},updateTrackRemoved:function(c){this.cleanRemoved();this.removed=c?[]:null},onMetaChange:function(d,f){this.fireEvent("metachange",this,f)},create:function(m,o){var n=this,l=n.getModel(),k=new l(m),p;o=Ext.apply({},o);if(!o.records){o.records=[k]}o.internalScope=n;o.internalCallback=n.onProxyWrite;p=n.createOperation("create",o);return p.execute()},read:function(){return this.load.apply(this,arguments)},update:function(j){var g=this,f;j=Ext.apply({},j);if(!j.records){j.records=g.getUpdatedRecords()}j.internalScope=g;j.internalCallback=g.onProxyWrite;f=g.createOperation("update",j);return f.execute()},onProxyWrite:function(l){var k=this,j=l.wasSuccessful(),g=l.getRecords();switch(l.getAction()){case"create":k.onCreateRecords(g,l,j);break;case"update":k.onUpdateRecords(g,l,j);break;case"destroy":k.onDestroyRecords(g,l,j);break}if(j){k.fireEvent("write",k,l);k.fireEvent("datachanged",k)}},onCreateRecords:Ext.emptyFn,onUpdateRecords:Ext.emptyFn,onDestroyRecords:function(j,f,g){if(g){this.cleanRemoved()}},erase:function(j){var g=this,f;j=Ext.apply({},j);if(!j.records){j.records=g.getRemovedRecords()}j.internalScope=g;j.internalCallback=g.onProxyWrite;f=g.createOperation("destroy",j);return f.execute()},onBatchOperationComplete:function(f,d){return this.onProxyWrite(d)},onBatchComplete:function(o,k){var l=this,p=o.operations,m=p.length,n;if(l.batchUpdateMode!=="operation"){l.suspendEvents();for(n=0;n<m;n++){l.onProxyWrite(p[n])}l.resumeEvents()}l.isSyncing=false;l.fireEvent("datachanged",l)},onBatchException:function(f,d){},filterNew:function(c){return c.phantom===true&&c.isValid()},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},getModifiedRecords:function(){return[].concat(this.getNewRecords(),this.getUpdatedRecords())},filterUpdated:function(c){return c.dirty===true&&c.phantom!==true&&c.isValid()},getRemovedRecords:function(){var c=this.getRawRemovedRecords();return c?Ext.Array.clone(c):[]},sync:function(q){var o=this,r={},n=o.getNewRecords(),p=o.getUpdatedRecords(),l=o.getRemovedRecords(),m=false;o.needsSync=false;if(n.length>0){r.create=n;m=true}if(p.length>0){r.update=p;m=true}if(l.length>0){r.destroy=l;m=true}if(m&&o.fireEvent("beforesync",r)!==false){o.isSyncing=true;q=q||{};o.proxy.batch(Ext.apply(q,{operations:r,listeners:o.getBatchListeners()}))}return o},getBatchListeners:function(){var f=this,d={scope:f,exception:f.onBatchException,complete:f.onBatchComplete};if(f.batchUpdateMode==="operation"){d.operationcomplete=f.onBatchOperationComplete}return d},save:function(){return this.sync.apply(this,arguments)},load:function(d){var f=this;if(typeof d==="function"){d={callback:d}}else{d=d?Ext.Object.chain(d):{}}f.pendingLoadOptions=d;if(f.getAsynchronousLoad()){if(!f.loadTimer){f.loadTimer=Ext.asap(f.flushLoad,f)}}else{f.flushLoad()}return f},flushLoad:function(){var g=this,j=g.pendingLoadOptions,f;g.clearLoadTask();if(!j){return}g.setLoadOptions(j);if(g.getRemoteSort()&&j.sorters){g.fireEvent("beforesort",g,j.sorters)}f=Ext.apply({internalScope:g,internalCallback:g.onProxyLoad,scope:g},j);g.lastOptions=f;f=g.createOperation("read",f);if(g.fireEvent("beforeload",g,f)!==false){g.onBeforeLoad(f);g.loading=true;f.execute()}},reload:function(c){return this.load(Ext.apply({},c,this.lastOptions))},onEndUpdate:function(){var c=this;if(c.needsSync&&c.autoSync&&!c.autoSyncSuspended){c.sync()}},afterReject:function(d){var f=this;if(f.contains(d)){f.onUpdate(d,Ext.data.Model.REJECT,null);f.fireEvent("update",f,d,Ext.data.Model.REJECT,null)}},afterCommit:function(f,g){var j=this;if(!g){g=null}if(j.contains(f)){j.onUpdate(f,Ext.data.Model.COMMIT,g);j.fireEvent("update",j,f,Ext.data.Model.COMMIT,g)}},afterErase:function(c){this.onErase(c)},onErase:Ext.emptyFn,onUpdate:Ext.emptyFn,doDestroy:function(){var f=this,d=f.getProxy();f.clearLoadTask();f.getData().destroy();f.data=null;f.setProxy(null);if(d.autoCreated){d.destroy()}f.setModel(null);Ext.data.AbstractStore.prototype.doDestroy.call(this)},hasPendingLoad:function(){return !!this.pendingLoadOptions||this.isLoading()},isLoading:function(){return !!this.loading},isLoaded:function(){return this.loadCount>0},suspendAutoSync:function(){++this.autoSyncSuspended},resumeAutoSync:function(f){var d=this;if(d.autoSyncSuspended&&!--d.autoSyncSuspended){if(f){d.sync()}}},removeAll:Ext.emptyFn,clearData:Ext.emptyFn,privates:{getRawRemovedRecords:function(){return this.removed},onExtraParamsChanged:function(){},clearLoadTask:function(){if(this.loadTimer){Ext.asapCancel(this.loadTimer)}this.pendingLoadOptions=this.loadTimer=null},cleanRemoved:function(){var g=this.getRawRemovedRecords(),f,j;if(g){for(j=0,f=g.length;j<f;++j){g[j].unjoin(this)}g.length=0}},createOperation:function(l,j){var k=this,n=k.getProxy(),m;if(!k.proxyListeners){m={scope:k,destroyable:true,beginprocessresponse:k.beginUpdate,endprocessresponse:k.endUpdate};if(!k.disableMetaChangeEvent){m.metachange=k.onMetaChange}k.proxyListeners=n.on(m)}return n.createOperation(l,j)},createImplicitModel:function(j){var k=this,n={extend:k.implicitModel,statics:{defaultProxy:"memory"}},l,m;if(j){n.fields=j}m=Ext.define(null,n);k.setModel(m);l=k.getProxy();if(l){m.setProxy(l)}else{k.setProxy(m.getProxy())}},loadsSynchronously:function(){return this.getProxy().isSynchronous},onBeforeLoad:Ext.privateFn,removeFromRemoved:function(d){var f=this.getRawRemovedRecords();if(f){Ext.Array.remove(f,d);d.unjoin(this)}},setLoadOptions:function(g){var k=this,l,j;if(k.getRemoteFilter()){l=k.getFilters(false);if(l&&l.getCount()){g.filters=l.getRange()}}if(k.getRemoteSort()){j=k.getSorters(false);if(j&&j.getCount()){g.sorters=j.getRange()}}}}},1,0,0,0,0,0,[Ext.data,"ProxyStore"],0));(Ext.cmd.derive("Ext.data.LocalStore",Ext.Mixin,{mixinConfig:{id:"localstore"},config:{extraKeys:null},applyExtraKeys:function(f){var g,j=this.getData();j.setExtraKeys(f);f=j.getExtraKeys();for(g in f){this[g]=f[g]}},add:function(c){return this.insert(this.getCount(),arguments.length===1?c:arguments)},constructDataCollection:function(){var c=new Ext.util.Collection({rootProperty:"data"});c.addObserver(this);return c},createModel:function(f){var j=this.getSession(),g;if(!f.isModel){g=this.getModel();f=new g(f,j)}return f},createFiltersCollection:function(){return this.getData().getFilters()},createSortersCollection:function(){var c=this.getData().getSorters();c.setSorterConfigure(this.addFieldTransform,this);return c},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionSort:function(){this.onSorterEndUpdate()},onCollectionFilter:function(){this.onFilterEndUpdate()},notifySorterChange:function(){this.getData().onSorterChange()},forceLocalSort:function(){this.getData().onSortChange()},contains:function(c){return this.indexOf(c)>-1},each:function(o,p,m){var n=this.getData(),l,r,q;if(typeof m==="object"){m=m.filtered}if(m===true&&n.filtered){n=n.getSource()}n=n.items.slice(0);l=n.length;for(q=0;q<l;++q){r=n[q];if(o.call(p||r,r,q,l)===false){break}}},collect:function(n,j,k){var m=this,l=m.getData();if(typeof j==="object"){k=j.filtered;j=j.allowNull}if(k===true&&l.filtered){l=l.getSource()}return l.collect(n,"data",j)},getById:function(f){var d=this.getData();if(d.filtered){d=d.getSource()}return d.get(f)||null},getByInternalId:function(f){var g=this.getData(),j;if(g.filtered){if(!g.$hasExtraKeys){j=this.makeInternalKeyCfg();g.setExtraKeys(j);g.$hasExtraKeys=true}g=g.getSource()}if(!g.$hasExtraKeys){g.setExtraKeys(j||this.makeInternalKeyCfg());g.$hasExtraKeys=true}return g.byInternalId.get(f)||null},getDataSource:function(){var c=this.getData();return c.getSource()||c},indexOf:function(c){return this.getData().indexOf(c)},indexOfId:function(c){return this.indexOf(this.getById(c))},insert:function(m,n){var k=this,j,l;if(n){if(!Ext.isIterable(n)){n=[n]}else{n=Ext.Array.clone(n)}j=n.length}if(!j){return[]}for(l=0;l<j;++l){n[l]=k.createModel(n[l])}k.getData().insert(m,n);return n},queryBy:function(j,f){var g=this.getData();return(g.getSource()||g).createFiltered(j,f)},query:function(m,n,l,k,p){var o=this.getData();return(o.getSource()||o).createFiltered(m,n,l,k,p)},first:function(c){return this.getData().first(c)||null},last:function(c){return this.getData().last(c)||null},sum:function(g,f){var j=this.getData();return(f&&this.isGrouped())?j.sumByGroup(g):j.sum(g)},count:function(d){var f=this.getData();return(d&&this.isGrouped())?f.countByGroup():f.count()},min:function(g,f){var j=this.getData();return(f&&this.isGrouped())?j.minByGroup(g):j.min(g)},max:function(g,f){var j=this.getData();return(f&&this.isGrouped())?j.maxByGroup(g):j.max(g)},average:function(g,f){var j=this.getData();return(f&&this.isGrouped())?j.averageByGroup(g):j.average(g)},aggregate:function(r,o,u,q){var s=this,y,v,x,p,w;if(u&&s.isGrouped()){y=s.getGroups().items;v=y.length;x={};for(w=0;w<v;++w){p=y[w];x[p.getGroupKey()]=s.getAggregate(r,o||s,p.items,q)}return x}else{return s.getAggregate(r,o,s.getData().items,q)}},getAggregate:function(n,o,q,m){var r=[],l=q.length,p;for(p=0;p<l;++p){r[p]=q[p].get(m)}return n.call(o||this,q,r)},addObserver:function(d){var f=this.observers;if(!f){this.observers=f=new Ext.util.Collection()}f.add(d)},removeObserver:function(d){var f=this.observers;if(f){f.remove(d)}},callObservers:function(o,r){var n=this.observers,m,s,q,u,p;if(n){s=n.items;if(r){r.unshift(this)}else{r=[this]}for(q=0,m=s.length;q<m;++q){p=s[q];u="onSource"+o;if(p[u]){p[u].apply(p,r)}}}},queryRecordsBy:function(o,p){var m=this.getData(),n=[],l,q,r;m=(m.getSource()||m).items;p=p||this;for(q=0,l=m.length;q<l;++q){r=m[q];if(o.call(p,r)===true){n.push(r)}}return n},queryRecords:function(m,n){var o=this.getData(),p=[],l,q,r;o=(o.getSource()||o).items;for(q=0,l=o.length;q<l;++q){r=o[q];if(r.get(m)===n){p.push(r)}}return p},privates:{isLast:function(c){return c===this.last()},makeInternalKeyCfg:function(){return{byInternalId:{property:"internalId",rootProperty:""}}}}},0,0,0,0,0,0,[Ext.data,"LocalStore"],0));(Ext.cmd.derive("Ext.data.proxy.Server",Ext.data.proxy.Proxy,{alternateClassName:"Ext.data.ServerProxy",isRemote:true,config:{url:"",pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",groupDirectionParam:"groupDir",sortParam:"sort",filterParam:"filter",directionParam:"dir",idParam:"id",simpleSortMode:false,simpleGroupMode:false,noCache:true,cacheString:"_dc",timeout:30000,api:{create:undefined,read:undefined,update:undefined,destroy:undefined},extraParams:{}},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},erase:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(f,j){var g=this.getExtraParams();g[f]=j;this.fireEvent("extraparamschanged",g)},updateExtraParams:function(f,d){this.fireEvent("extraparamschanged",f)},buildRequest:function(l){var n=this,r=Ext.apply({},l.getParams()),m=Ext.applyIf(r,n.getExtraParams()||{}),o,p,q;Ext.applyIf(m,n.getParams(l));p=l.getId();q=n.getIdParam();if(p!==undefined&&m[q]===undefined){m[q]=p}o=new Ext.data.Request({params:m,action:l.getAction(),records:l.getRecords(),url:l.getUrl(),operation:l,proxy:n});o.setUrl(n.buildUrl(o));l.setRequest(o);return o},processResponse:function(o,v,s,u){var q=this,w,r,p,n;if(q.destroying||q.destroyed){return}q.fireEvent("beginprocessresponse",q,u,v);if(o===true){r=q.getReader();if(u.status===204){p=r.getNullResultSet()}else{p=r.read(q.extractResponseData(u),{recordCreator:v.getRecordCreator()})}v.process(p,s,u);w=!v.wasSuccessful()}else{q.setException(v,u);w=true}if(w){q.fireEvent("exception",q,u,v)}else{n=p.getMetadata();if(n){q.onMetaChange(n)}}q.afterRequest(s,o);q.fireEvent("endprocessresponse",q,u,v)},setException:function(f,d){f.setException({status:d.status,statusText:d.statusText,response:d})},extractResponseData:Ext.identityFn,applyEncoding:function(c){return Ext.encode(c)},encodeSorters:function(k,m){var j=[],l=k.length,n;for(n=0;n<l;n++){j[n]=k[n].serialize()}return this.applyEncoding(m?j[0]:j)},encodeFilters:function(k){var j=[],l=k.length,n,m;for(n=0;n<l;n++){m=k[n];m.getFilterFn();if(m.generatedFilterFn){j.push(m.serialize())}}return this.applyEncoding(j)},getParams:function(G){if(!G.isReadOperation){return{}}var J=this,B={},D=G.getGrouper(),V=G.getSorters(),I=G.getFilters(),O=G.getPage(),P=G.getStart(),C=G.getLimit(),L=J.getSimpleSortMode(),S=J.getSimpleGroupMode(),E=J.getPageParam(),R=J.getStartParam(),U=J.getLimitParam(),T=J.getGroupParam(),K=J.getGroupDirectionParam(),Q=J.getSortParam(),F=J.getFilterParam(),H=J.getDirectionParam(),M,N;if(E&&O){B[E]=O}if(R&&(P||P===0)){B[R]=P}if(U&&C){B[U]=C}M=T&&D;if(M){if(S){B[T]=D.getProperty();B[K]=D.getDirection()}else{B[T]=J.encodeSorters([D],true)}}if(Q&&V&&V.length>0){if(L){N=0;if(V.length>1&&M){N=1}B[Q]=V[N].getProperty();B[H]=V[N].getDirection()}else{B[Q]=J.encodeSorters(V)}}if(F&&I&&I.length>0){B[F]=J.encodeFilters(I)}return B},buildUrl:function(g){var j=this,f=j.getUrl(g);if(j.getNoCache()){f=Ext.urlAppend(f,Ext.String.format("{0}={1}",j.getCacheString(),Ext.Date.now()))}return f},getUrl:function(f){var d;if(f){d=f.getUrl()||this.getApi()[f.getAction()]}return d?d:(arguments.callee.$previous||Ext.data.proxy.Proxy.prototype.getUrl).call(this)},doRequest:function(c){},afterRequest:Ext.emptyFn,destroy:function(){var c=this;c.destroying=true;c.reader=c.writer=Ext.destroy(c.reader,c.writer);Ext.data.proxy.Proxy.prototype.destroy.call(this);c.destroying=false;c.destroyed=true}},0,0,0,0,["proxy.server"],0,[Ext.data.proxy,"Server",Ext.data,"ServerProxy"],0));(Ext.cmd.derive("Ext.data.proxy.Ajax",Ext.data.proxy.Server,{alternateClassName:["Ext.data.HttpProxy","Ext.data.AjaxProxy"],isAjaxProxy:true,defaultActionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},config:{binary:false,headers:undefined,paramsAsJson:false,withCredentials:false,useDefaultXhrHeader:true,username:null,password:null,actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"}},doRequest:function(l){var p=this,o=p.getWriter(),q=p.buildRequest(l),m=p.getMethod(q),r,n;if(o&&l.allowWrite()){q=o.write(q)}q.setConfig({binary:p.getBinary(),headers:p.getHeaders(),timeout:p.getTimeout(),scope:p,callback:p.createRequestCallback(q,l),method:m,useDefaultXhrHeader:p.getUseDefaultXhrHeader(),disableCaching:false});if(m.toUpperCase()!=="GET"&&p.getParamsAsJson()){n=q.getParams();if(n){r=q.getJsonData();if(r){r=Ext.Object.merge({},r,n)}else{r=n}q.setJsonData(r);q.setParams(undefined)}}if(p.getWithCredentials()){q.setWithCredentials(true);q.setUsername(p.getUsername());q.setPassword(p.getPassword())}return p.sendRequest(q)},sendRequest:function(c){c.setRawRequest(Ext.Ajax.request(c.getCurrentConfig()));this.lastRequest=c;return c},abort:function(c){c=c||this.lastRequest;if(c){Ext.Ajax.abort(c.getRawRequest())}},getMethod:function(g){var k=this.getActionMethods(),l=g.getAction(),j;if(k){j=k[l]}return j||this.defaultActionMethods[l]},createRequestCallback:function(g,f){var j=this;return function(c,b,d){if(g===j.lastRequest){j.lastRequest=null}j.processResponse(b,f,g,d)}},destroy:function(){this.lastRequest=null;Ext.data.proxy.Server.prototype.destroy.call(this)}},0,0,0,0,["proxy.ajax"],0,[Ext.data.proxy,"Ajax",Ext.data,"HttpProxy",Ext.data,"AjaxProxy"],0));(Ext.cmd.derive("Ext.data.reader.Json",Ext.data.reader.Reader,{alternateClassName:"Ext.data.JsonReader",config:{record:null,metaProperty:"metaData",useSimpleAccessors:false,preserveRawData:false},updateRootProperty:function(){this.forceBuildExtractors()},updateMetaProperty:function(){this.forceBuildExtractors()},getResponseData:function(f){var j;try{return Ext.decode(f.responseText)}catch(g){j=this.createReadError(g.message);Ext.Logger.warn("Unable to parse the JSON returned by the server");this.fireEvent("exception",this,f,j);return j}},buildExtractors:function(){var g=this,f,j;if(Ext.data.reader.Reader.prototype.buildExtractors.apply(this,arguments)){f=g.getMetaProperty();j=g.getRootProperty();if(j){g.getRoot=g.getAccessor(j)}else{g.getRoot=Ext.identityFn}if(f){g.getMeta=g.getAccessor(f)}}},extractData:function(k,m){var l=this.getRecord(),n=[],o,p;if(l){o=k.length;if(!o&&Ext.isObject(k)){o=1;k=[k]}for(p=0;p<o;p++){n[p]=k[p][l]}}else{n=k}return Ext.data.reader.Reader.prototype.extractData.call(this,n,m)},getModelData:function(c){return this.getPreserveRawData()?Ext.apply({},c):c},createAccessor:(function(){var c=/[\[\.]/;return function(N){var A=this,J=A.getUseSimpleAccessors(),H,K,D,G,I,O,L,b,y,C,B,F,M,E;if(!(N||N===0)){return}if(typeof N==="function"){return N}if(!J){H=String(N).search(c)}if(J===true||H<0){K=function(d){return d[N]}}else{D="raw";G=[];I="";O=0;E=N.length;for(F=0;F<=E;++F){B=N[F];L=B===".";b=B==="[";y=B==="]";C=L||b||y||!B;if(!C||O>1||(O&&!y)){I+=B}else{if(C){M=false;if(b){++O}else{if(y){--O;M=true}}if(I){if(M){I="["+I+"]"}else{I="."+I}D+=I;G.push(""+D);I=""}}}}K=G.join(" && ");K=Ext.functionFactory("raw","return "+K)}return K}}()),createFieldAccessor:function(k){var n=this,j=k.mapping,m=j||j===0,l=m?j:k.name;if(m){if(typeof l==="function"){return function(b){return k.mapping(b,n)}}else{return n.createAccessor(l)}}},getAccessorKey:function(f){var d=this.getUseSimpleAccessors()?"simple":"";return this.$className+d+f},privates:{copyFrom:function(c){Ext.data.reader.Reader.prototype.copyFrom.call(this,c);this.getRoot=c.getRoot}}},0,0,0,0,["reader.json"],0,[Ext.data.reader,"Json",Ext.data,"JsonReader"],0));(Ext.cmd.derive("Ext.data.writer.Json",Ext.data.writer.Writer,{alternateClassName:"Ext.data.JsonWriter",config:{rootProperty:undefined,encode:false,allowSingle:true,expandData:false},getExpandedData:function(s){var v=s.length,r=0,o,w,q,u,p,j=function(b,d){var c={};c[b]=d;return c};for(;r<v;r++){o=s[r];for(w in o){if(o.hasOwnProperty(w)){q=w.split(".");u=q.length-1;if(u>0){p=o[w];for(;u>0;u--){p=j(q[u],p)}o[q[0]]=o[q[0]]||{};Ext.Object.merge(o[q[0]],p);delete o[w]}}}}return s},writeRecords:function(o,n){var p=this,l=p.getRootProperty(),q,m,r;if(p.getExpandData()){n=p.getExpandedData(n)}if(p.getAllowSingle()&&n.length===1){n=n[0];m=true}r=this.getTransform();if(r){n=r(n,o)}if(p.getEncode()){if(l){o.setParam(l,Ext.encode(n))}else{}}else{if(m||(n&&n.length)){q=o.getJsonData()||{};if(l){q[l]=n}else{q=n}o.setJsonData(q)}}return o}},0,0,0,0,["writer.json"],0,[Ext.data.writer,"Json",Ext.data,"JsonWriter"],0));(Ext.cmd.derive("Ext.util.Group",Ext.util.Collection,{config:{groupKey:null},$endUpdatePriority:2001,manageSorters:false},0,0,0,0,0,0,[Ext.util,"Group"],0));(Ext.cmd.derive("Ext.util.SorterCollection",Ext.util.Collection,{isSorterCollection:true,$sortable:null,sortFn:null,config:{sorterOptionsFn:null,sorterOptionsScope:null},constructor:function(d){var f=this;f.sortFn=Ext.util.Sorter.createComparator(f);Ext.util.Collection.prototype.constructor.call(this,d);f.setDecoder(f.decodeSorter)},addSort:function(r,s,y){var u=this,x,w,A,p,B,q,v;if(!r){u.beginUpdate();u.endUpdate()}else{p=u.getOptions();if(r instanceof Array){v=r;y=s;s=null}else{if(Ext.isString(r)){if(!(q=u.get(r))){v=[{property:r,direction:s||p.getDefaultSortDirection()}]}else{v=[q]}}else{if(Ext.isFunction(r)){v=[{sorterFn:r,direction:s||p.getDefaultSortDirection()}]}else{v=[r];y=s;s=null}}}y=u._sortModes[y||"replace"];B=u.getAt(0);x=u.length;w=y.append?x:0;u.beginUpdate();u.splice(w,y.replace?x:0,v);if(y.multi){x=u.length;A=p.getMultiSortLimit();if(x>A){u.removeAt(A,x)}}if(q&&s){q.setDirection(s)}else{if(w===0&&B&&B===u.getAt(0)){B.toggle()}}u.endUpdate()}},clear:function(){this.beginUpdate();Ext.util.Collection.prototype.clear.call(this);this.endUpdate(this.items)},getSortFn:function(){return this.sortFn},getByProperty:function(k){var n=this.items,j=n.length,m,l;for(m=0;m<j;++m){l=n[m];if(l.getProperty()===k){return l}}return null},_sortModes:{append:{append:1},multi:{multi:1},prepend:{prepend:1},replace:{replace:1}},decodeSorter:function(o,w){var q=this,n=q.getOptions(),p=n.getRootProperty(),v=q.getSorterOptionsFn(),u,r,s;if(o.isSorter){if(!o.getRoot()){o.setRoot(p)}}else{r={direction:n.getDefaultSortDirection(),root:p};s=typeof o;if(s==="string"){u=q.get(o);if(u){return u}r.property=o}else{if(s==="function"){r.sorterFn=o}else{r=Ext.apply(r,o);if(r.fn){r.sorterFn=r.fn;delete r.fn}}}o=Ext.create(w||"Ext.util.Sorter",r)}if(v){v.call(q.getSorterOptionsScope()||q,o)}return o},setSorterConfigure:function(f,d){this.setSorterOptionsFn(f);this.setSorterOptionsScope(d)},decodeRemoveItems:function(w,A){var u=this,y=(A===undefined)?w:w[A];if(!y||!y.$cloned){if(w.length>A+1||!Ext.isIterable(y)){y=Ext.Array.slice(w,A)}var s=u.items,x=y.length,B=[],C,r,D,n,v;for(C=0;C<x;C++){n=y[C];if(n&&n.isSorter){B.push(n)}else{v=typeof n;if(v==="string"){n=u.get(n);if(n){B.push(n)}}else{if(v==="function"){for(D=s.length;D-->0;){r=s[D];if(r.getSorterFn()===n){B.push(r)}}}}}}y=B;y.$cloned=true}return y},getOptions:function(){return this.$sortable||this}},1,0,0,0,0,0,[Ext.util,"SorterCollection"],0));(Ext.cmd.derive("Ext.util.FilterCollection",Ext.util.Collection,{isFilterCollection:true,$filterable:null,filterFn:null,constructor:function(d){var f=this;f.filterFn=Ext.util.Filter.createFilterFn(f);Ext.util.Collection.prototype.constructor.call(this,d);f.setDecoder(f.decodeFilter)},filterData:function(c){return this.filtered?Ext.Array.filter(c,this.filterFn):c},getFilterFn:function(){return this.filterFn},isItemFiltered:function(c){return !this.filterFn(c)},decodeFilter:function(k){var l=this.getOptions(),g=l.getRootProperty(),j;if(k.isFilter){if(!k.getRoot()){k.setRoot(g)}}else{j={root:g};if(Ext.isFunction(k)){j.filterFn=k}else{j=Ext.apply(j,k);if(j.fn){j.filterFn=j.fn;delete j.fn}if(Ext.util.Filter.isInvalid(j)){return false}}k=new Ext.util.Filter(j)}return k},decodeRemoveItems:function(n,A){var K=this,y=(A===undefined)?n:n[A];if(!y.$cloned){if(n.length>A+1||!Ext.isIterable(y)){y=Ext.Array.slice(n,A)}var E=K.items,w=y.length,C=[],H,D,G,x,I,J,B,F,L;for(D=0;D<w;D++){H=y[D];if(H&&H.isFilter){C.push(H)}else{L=typeof H;G=L==="function";x=H.property!==undefined&&H.value!==undefined;I=L==="string";for(F=E.length;F-->0;){J=E[F];B=false;if(I){B=J.getProperty()===H}else{if(G){B=J.getFilterFn()===H}else{if(x){B=J.getProperty()===H.property&&J.getValue()===H.value}}}if(B){C.push(J)}}}}y=C;y.$cloned=true}return y},getOptions:function(){return this.$filterable||this}},1,0,0,0,0,0,[Ext.util,"FilterCollection"],0));(Ext.cmd.derive("Ext.util.GroupCollection",Ext.util.Collection,{isGroupCollection:true,config:{grouper:null,itemRoot:null},observerPriority:-100,constructor:function(c){Ext.util.Collection.prototype.constructor.call(this,c);this.on("remove","onGroupRemove",this)},onCollectionAdd:function(f,d){this.addItemsToGroups(f,d.items,d.at)},onCollectionBeforeItemChange:function(f,d){this.changeDetails=d},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(g,f){var j=f.item;if(!f.indexChanged){this.syncItemGrouping(g,j,g.getKey(j),f.oldKey,f.oldIndex)}this.changeDetails=null},onCollectionRefresh:function(c){this.removeAll();this.addItemsToGroups(c,c.items)},onCollectionRemove:function(B,A){var u=this,q=u.changeDetails,v,s,r,w,y,x,n;if(q){n=q.item;r=u.findGroupForItem(n);v=[];if(r){v.push({group:r,items:[n]})}}else{v=u.groupItems(B,A.items,false)}for(w=0,y=v.length;w<y;++w){r=(s=v[w]).group;if(r){r.remove(s.items);if(!r.length){(x||(x=[])).push(r)}}}if(x){u.remove(x)}},onCollectionSort:function(o){var p=this,m=o.getSorters(false),l,q,r,n;if(m){l=p.items;q=p.length;for(r=0;r<q;++r){n=l[r];if(n.getSorters()!==m){n.setSorters(m)}}}},onCollectionUpdateKey:function(j,l){var g=l.index,k=l.item;if(!l.indexChanged){g=j.indexOf(k);this.syncItemGrouping(j,k,l.newKey,l.oldKey,g)}},addItemsToGroups:function(g,j,f){this.groupItems(g,j,true,f)},groupItems:function(H,J,E,K){var y=this,G={},L=[],I=H.getGrouper(),P=y.itemGroupKeys,N,O,M,C,F,A,B,D,x;for(F=0,D=J.length;F<D;++F){C=I.getGroupString(A=J[F]);B=H.getKey(A);if(E){(P||(y.itemGroupKeys=P={}))[B]=C}else{if(P){delete P[B]}}if(!(O=G[C])){if(!(M=y.getByKey(C))&&E){(x||(x=[])).push(M=y.createGroup(H,C))}L.push(G[C]=O={group:M,items:[]})}O.items.push(A)}if(E&&y.length>1&&K){N=H.indexOf(L[0].group.getAt(0));K=Math.max(K-N,0)}for(F=0,D=L.length;F<D;++F){O=L[F];O.group.insert(K!=null?K:M.items.length,O.items)}if(x){y.add(x)}return L},syncItemGrouping:function(K,M,F,C,J){var x=this,B=x.itemGroupKeys||(x.itemGroupKeys={}),I=K.getGrouper(),L=I.getGroupString(M),E=0,y=-1,w=F,A,N,G,D,H;if(C||C===0){D=B[C];delete B[C];w=C}else{D=B[F]}B[F]=L;if(!(N=x.get(L))){N=x.createGroup(K,L);A=[N]}if(N.get(w)!==M){if(N.getCount()>0&&K.getSorters().getCount()===0){H=K.indexOf(N.items[0]);if(J<H){y=0}else{y=J-H}}if(y===-1){N.add(M)}else{N.insert(y,M)}}else{N.itemChanged(M,null,C)}if(L!==D&&(D===0||D)){G=x.get(D);if(G){G.remove(M);if(!G.length){E=[G]}}}if(A){x.splice(0,E,A)}else{if(E){x.splice(0,E)}}},createGroup:function(j,f){var g=new Ext.util.Group({groupKey:f,rootProperty:this.getItemRoot(),sorters:j.getSorters()});return g},getKey:function(c){return c.getGroupKey()},createSortFn:function(){var g=this,f=g.getGrouper(),j=g.getSorters().getSortFn();if(!f){return j}return function(c,b){return f.sort(c.items[0],b.items[0])||j(c,b)}},updateGrouper:function(d){var f=this;f.grouped=!!(d&&f.$groupable.getAutoGroup());f.onSorterChange();f.onEndUpdateSorters(f.getSorters())},destroy:function(){this.$groupable=null;this.destroyGroups(this.items);Ext.util.Collection.prototype.destroy.call(this)},privates:{destroyGroups:function(j){var f=j.length,g;for(g=0;g<f;++g){j[g].destroy()}},findGroupForItem:function(l){var n=this.items,j=n.length,m,k;for(m=0;m<j;++m){k=n[m];if(k.contains(l)){return k}}},onGroupRemove:function(f,d){this.destroyGroups(d.items)}}},1,0,0,0,0,0,[Ext.util,"GroupCollection"],0));(Ext.cmd.derive("Ext.data.Store",Ext.data.ProxyStore,{config:{data:0,clearRemovedOnLoad:true,clearOnPageLoad:true,associatedEntity:null,role:null,session:null},addRecordsOptions:{addRecords:true},loadCount:0,complete:false,moveMapCount:0,constructor:function(f){var j=this,g;if(f){if(f.buffered){return new Ext.data.BufferedStore(f)}}Ext.data.ProxyStore.prototype.constructor.call(this,f);g=j.inlineData;if(g){delete j.inlineData;j.loadInlineData(g)}},applyData:function(g,f){var j=this;j.getFields();j.getModel();if(g&&g.isCollection){f=g}else{if(!f){f=j.constructDataCollection()}if(g){if(j.isInitializing){j.inlineData=g}else{j.loadData(g)}}}return f},loadInlineData:function(g){var j=this,f=j.getProxy();if(f&&f.isMemoryProxy){f.setData(g);j.suspendEvents();j.read();j.resumeEvents()}else{j.removeAll(true);j.suspendEvents();j.loadData(g);j.resumeEvents()}},onCollectionAdd:function(f,d){this.onCollectionAddItems(f,d.items,d)},onCollectionFilterAdd:function(f,d){this.onCollectionAddItems(f,d)},onCollectionAddItems:function(C,G,H){var x=this,A=G.length,v=H?!H.next:false,B=x.removed,D=x.ignoreCollectionAdd,y=x.getSession(),s=H&&H.replaced,F,w,E,u;for(F=0;F<A;++F){E=G[F];if(y){y.adopt(E)}if(!D){E.join(x);if(B&&B.length){Ext.Array.remove(B,E)}w=w||E.phantom||E.dirty}}if(D){return}if(s){u=[];do{Ext.Array.push(u,s.items);s=s.next}while(s);x.setMoving(u,true)}if(H){if(H.replaced){if(v){x.fireEvent("refresh",x)}}else{x.fireEvent("add",x,G,H.at);if(v){x.fireEvent("datachanged",x)}}}if(u){x.setMoving(u,false)}x.needsSync=x.needsSync||w},onCollectionBeforeItemChange:function(k,l){var j=l.item,m=l.modified||null,n=l.meta;this.fireEvent("beforeupdate",this,j,n,m,l)},onCollectionFilteredItemChange:function(){this.onCollectionItemChange.apply(this,arguments)},onCollectionItemChange:function(l,m){var n=this,k=m.item,o=m.modified||null,p=m.meta;if(n.fireChangeEvent(k)){n.onUpdate(k,p,o,m);n.fireEvent("update",n,k,p,o,m)}},afterChange:function(f,g,j){this.getData().itemChanged(f,g||null,undefined,j)},afterCommit:function(d,f){this.afterChange(d,f,Ext.data.Model.COMMIT)},afterEdit:function(d,f){this.needsSync=this.needsSync||d.dirty;this.afterChange(d,f,Ext.data.Model.EDIT)},afterReject:function(c){this.afterChange(c,null,Ext.data.Model.REJECT)},afterDrop:function(c){this.getData().remove(c)},afterErase:function(c){this.removeFromRemoved(c)},addSorted:function(j){var m=this,k=m.getRemoteSort(),l=m.getData(),n;if(k){l.setSorters(m.getSorters())}n=l.findInsertionIndex(j);if(k){l.setSorters(null)}return m.insert(n,j)},remove:function(v,n,p){var o=this,u=o.getDataSource(),q,s,w,r;if(v){if(v.isModel){if(u.indexOf(v)>-1){w=[v];q=1}else{q=0}}else{w=[];for(s=0,q=v.length;s<q;++s){r=v[s];if(r&&r.isEntity){if(!u.contains(r)){continue}}else{if(!(r=u.getAt(r))){continue}}w.push(r)}q=w.length}}if(!q){return[]}o.removeIsMove=n===true;o.removeIsSilent=p;u.remove(w);o.removeIsSilent=false;return w},onCollectionRemove:function(B,H){var v=this,A=v.removed,F=H.items,x=F.length,y=H.at,G=H.replacement,s=v.removeIsMove||(G&&Ext.Array.equals(F,G.items)),w=v.removeIsSilent,u=!H.next,D=v.getDataSource(),E,C;if(v.ignoreCollectionRemove){return}if(G){v.setMoving(G.items,true)}for(E=0;E<x;++E){C=F[E];if(!D.contains(C)){if(A&&!s&&!C.phantom&&!C.erasing){C.removedFrom=y+E;A.push(C);v.needsSync=true}else{C.unjoin(v)}}}if(!w){if(!G||!G.items.length){v.fireEvent("remove",v,F,y,s);if(u){v.fireEvent("datachanged",v)}}}if(G){v.setMoving(G.items,false)}},onFilterEndUpdate:function(){var c=this;if(c.destroying||c.destroyed){return}Ext.data.ProxyStore.prototype.onFilterEndUpdate.apply(this,arguments);c.callObservers("Filter")},removeAt:function(f,j){var g=this.getData();f=Math.max(f,0);if(f<g.length){if(arguments.length===1){j=1}else{if(!j){return}}g.removeAt(f,j)}},removeAll:function(n){var m=this,l=m.getData(),k=m.hasListeners.clear,j=l.getRange();if(l.length){m.removeIsSilent=true;m.callObservers("BeforeRemoveAll");l.removeAll();m.removeIsSilent=false;if(!n){m.fireEvent("clear",m,j);m.fireEvent("datachanged",m)}m.callObservers("AfterRemoveAll",[!!n])}return j},setRecords:function(d){var f=this.getCount();++this.loadCount;if(f){this.getData().splice(0,f,d)}else{this.add(d)}},splice:function(f,g,j){return this.getData().splice(f,g,j)},onProxyLoad:function(n){var l=this,m=n.getResultSet(),j=n.getRecords(),k=n.wasSuccessful();if(l.destroyed){return}if(m){l.totalCount=m.getTotal()}if(k){j=l.processAssociation(j);l.loadRecords(j,n.getAddRecords()?{addRecords:true}:undefined)}else{l.loading=false}if(l.hasListeners.load){l.fireEvent("load",l,j,k,n)}l.callObservers("AfterLoad",[j,k,n])},filterDataSource:function(m){var l=this.getDataSource(),p=l.items,k=p.length,o=[],n;for(n=0;n<k;n++){if(m.call(l,p[n])){o.push(p[n])}}return o},getNewRecords:function(){return this.filterDataSource(this.filterNew)},getRejectRecords:function(){return this.filterDataSource(this.filterRejects)},getUpdatedRecords:function(){return this.filterDataSource(this.filterUpdated)},loadData:function(l,k){var m=this,n=l.length,o=[],p;for(p=0;p<n;p++){o.push(m.createModel(l[p]))}o=m.processAssociation(o);m.loadRecords(o,k?m.addRecordsOptions:undefined)},loadRawData:function(o,r){var p=this,n=p.getSession(),l=p.getProxy().getReader().read(o,n?{recordCreator:n.recordCreator}:undefined),q=l.getRecords(),m=l.getSuccess();if(m){p.totalCount=l.getTotal();p.loadRecords(q,r?p.addRecordsOptions:undefined)}return m},loadRecords:function(m,s){var o=this,p=m.length,n=o.getData(),q,r,u;if(s){q=s.addRecords}if(!o.getRemoteSort()&&!o.getSortOnLoad()){u=true;n.setAutoSort(false)}if(!q){o.clearData(true)}o.loading=false;o.ignoreCollectionAdd=true;o.callObservers("BeforePopulate");n.add(m);o.ignoreCollectionAdd=false;if(u){n.setAutoSort(true)}for(r=0;r<p;r++){m[r].join(o)}++o.loadCount;o.complete=true;if(o.hasListeners.datachanged){o.fireEvent("datachanged",o)}if(o.hasListeners.refresh){o.fireEvent("refresh",o)}o.callObservers("AfterPopulate")},loadPage:function(j,g){var k=this,l=k.getPageSize();k.currentPage=j;g=Ext.apply({page:j,start:(j-1)*l,limit:l,addRecords:!k.getClearOnPageLoad()},g);k.read(g)},nextPage:function(c){this.loadPage(this.currentPage+1,c)},previousPage:function(c){this.loadPage(this.currentPage-1,c)},clearData:function(w){var p=this,r=p.removed,v=p.getDataSource(),q=p.getClearRemovedOnLoad(),o=r&&w&&!q,y,u,x,s;if(v){y=v.items;for(x=0,s=y.length;x<s;++x){u=y[x];if(o&&Ext.Array.contains(r,u)){continue}u.unjoin(p)}p.ignoreCollectionRemove=true;p.callObservers("BeforeClear");v.removeAll();p.ignoreCollectionRemove=false;p.callObservers("AfterClear")}if(r&&(!w||q)){r.length=0}},onIdChanged:function(g,j,f){this.getData().updateKey(g,j);this.fireEvent("idchanged",this,g,j,f)},commitChanges:function(){var k=this,j=k.getModifiedRecords(),g=j.length,l=0;Ext.suspendLayouts();k.beginUpdate();for(;l<g;l++){j[l].commit()}k.cleanRemoved();k.endUpdate();Ext.resumeLayouts(true)},filterNewOnly:function(c){return c.phantom===true},filterRejects:function(c){return c.phantom||c.dirty},rejectChanges:function(){var o=this,n=o.getRejectRecords(),q=n.length,s,v,w,p,u,r;Ext.suspendLayouts();o.beginUpdate();for(s=0;s<q;s++){v=n[s];if(v.phantom){w=w||[];w.push(v)}else{v.reject()}}if(w){o.remove(w);for(s=0,q=w.length;s<q;++s){w[s].reject()}}n=o.getRawRemovedRecords();if(n){q=n.length;p=!o.getRemoteSort()&&o.isSorted();if(p){u=o.getData();r=u.getAutoSort();u.setAutoSort(false)}for(s=q-1;s>=0;s--){v=n[s];v.reject();if(!p){o.insert(v.removedFrom||0,v)}}if(p){u.setAutoSort(r);o.add(n)}n.length=0}o.endUpdate();Ext.resumeLayouts(true)},doDestroy:function(){var l=this,g=l.loadTask,j=l.getData(),k=j.getSource();l.clearData();l.setSession(null);l.observers=null;if(g){g.cancel();l.loadTask=null}if(k){k.destroy()}Ext.data.ProxyStore.prototype.doDestroy.call(this)},privates:{fetch:function(f){f=Ext.apply({},f);this.setLoadOptions(f);var d=this.createOperation("read",f);d.execute()},fireChangeEvent:function(c){return this.getDataSource().contains(c)},onBeforeLoad:function(c){this.callObservers("BeforeLoad",[c])},onRemoteFilterSet:function(d,f){if(d){this.getData().setFilters(f?null:d)}Ext.data.ProxyStore.prototype.onRemoteFilterSet.call(this,d,f)},onRemoteSortSet:function(j,g){var f=this.getData();if(j){f.setSorters(g?null:j)}f.setAutoGroup(!g);Ext.data.ProxyStore.prototype.onRemoteSortSet.call(this,j,g)},isMoving:function(o,m){var l=this.moveMap,p=0,k,n;if(l){if(o){if(Ext.isArray(o)){for(n=0,k=o.length;n<k;++n){p+=l[o[n].id]?1:0}}else{if(l[o.id]){++p}}}else{p=m?l:this.moveMapCount}}return p},setLoadOptions:function(m){var l=this,j=l.getPageSize(),k,n;if(l.getRemoteSort()&&!m.grouper){n=l.getGrouper();if(n){m.grouper=n}}if(j||"start" in m||"limit" in m||"page" in m){m.page=m.page!=null?m.page:l.currentPage;m.start=(m.start!==undefined)?m.start:(m.page-1)*j;m.limit=m.limit!=null?m.limit:j;l.currentPage=m.page}m.addRecords=m.addRecords||false;if(!m.recordCreator){k=l.getSession();if(k){m.recordCreator=k.recordCreator}}Ext.data.ProxyStore.prototype.setLoadOptions.call(this,m)},setMoving:function(r,n){var p=this,o=p.moveMap||(p.moveMap={}),l=r.length,q,m;for(q=0;q<l;++q){m=r[q].id;if(n){if(o[m]){++o[m]}else{o[m]=1;++p.moveMapCount}}else{if(--o[m]===0){delete o[m];--p.moveMapCount}}}if(p.moveMapCount===0){p.moveMap=null}},processAssociation:function(f){var g=this,j=g.getAssociatedEntity();if(j){f=g.getRole().processLoad(g,j,f,g.getSession())}return f}}},1,0,0,0,["store.store"],[[Ext.data.LocalStore.prototype.mixinId||Ext.data.LocalStore.$className,Ext.data.LocalStore]],[Ext.data,"Store"],0));Ext.define("Ext.overrides.data.Store",{override:"Ext.data.Store",autoLoad:false,config:{extraParams:{}},setParams:function(j){var f=this,g=f.getExtraParams();f.setExtraParams(Ext.Object.merge(g,j));return f}});(Ext.cmd.derive("Ext.data.reader.Array",Ext.data.reader.Json,{alternateClassName:"Ext.data.ArrayReader",config:{totalProperty:undefined,successProperty:undefined},createFieldAccessor:function(j){var l=j.mapping,k=j.hasMapping()?l:j.ordinal,g;j.mapping=k;g=Ext.data.reader.Json.prototype.createFieldAccessor.apply(this,arguments);j.mapping=l;return g},getModelData:function(c){return{}}},0,0,0,0,["reader.array"],0,[Ext.data.reader,"Array",Ext.data,"ArrayReader"],0));(Ext.cmd.derive("Ext.data.ArrayStore",Ext.data.Store,{alternateClassName:["Ext.data.SimpleStore"],config:{proxy:{type:"memory",reader:"array"}},loadData:function(k,j){if(this.expandData){var l=[],n=0,m=k.length;for(;n<m;n++){l[l.length]=[k[n]]}k=l}Ext.data.Store.prototype.loadData.call(this,k,j)}},0,0,0,0,["store.array"],0,[Ext.data,"ArrayStore",Ext.data,"SimpleStore"],0));(Ext.cmd.derive("Ext.data.StoreManager",Ext.util.MixedCollection,{alternateClassName:["Ext.StoreMgr","Ext.data.StoreMgr","Ext.StoreManager"],singleton:true,register:function(){for(var d=0,f;(f=arguments[d]);d++){this.add(f)}},unregister:function(){for(var d=0,f;(f=arguments[d]);d++){this.remove(this.lookup(f))}},lookup:function(q,m){if(Ext.isArray(q)){var r=["field1"],o=!Ext.isArray(q[0]),n=q,p,l;if(o){n=[];for(p=0,l=q.length;p<l;++p){n.push([q[p]])}}else{for(p=2,l=q[0].length;p<=l;++p){r.push("field"+p)}}return new Ext.data.ArrayStore({data:n,fields:r,autoDestroy:true,autoCreated:true,expanded:o})}if(Ext.isString(q)){return this.get(q)}else{return Ext.Factory.store(q,m)}},getKey:function(c){return c.storeId},addEmptyStore:function(){var c=Ext.regStore("ext-empty-store",{proxy:"memory",useModelWarning:false});c.isEmptyStore=true;this.add(c)},clear:function(){this.callParent();this.addEmptyStore()}},0,0,0,0,0,0,[Ext.data,"StoreManager",Ext,"StoreMgr",Ext.data,"StoreMgr",Ext,"StoreManager"],function(){Ext.regStore=function(g,j){var f;if(Ext.isObject(g)){j=g}else{if(Ext.data.StoreManager.containsKey(g)){return Ext.data.StoreManager.lookup(g)}j.storeId=g}if(j instanceof Ext.data.Store){f=j}else{f=new Ext.data.Store(j)}Ext.data.StoreManager.register(f);return f};Ext.getStore=function(c){return Ext.data.StoreManager.lookup(c)};Ext.data.StoreManager.addEmptyStore()}));(Ext.cmd.derive("Ext.app.domain.Store",Ext.app.EventDomain,{singleton:true,type:"store",prefix:"store.",idMatchRe:/^\#/,constructor:function(){var c=this;c.callParent();c.monitor(Ext.data.AbstractStore)},match:function(j,l){var g=false,k=j.alias;if(l==="*"){g=true}else{if(this.idMatchRe.test(l)){g=j.getStoreId()===l.substring(1)}else{if(k){g=Ext.Array.indexOf(k,this.prefix+l)>-1}}}return g}},1,0,0,0,0,0,[Ext.app.domain,"Store"],0));(Ext.cmd.derive("Ext.app.route.Queue",Ext.Base,{queue:null,token:null,constructor:function(c){Ext.apply(this,c);this.queue=new Ext.util.MixedCollection()},queueAction:function(d,f){this.queue.add({route:d,args:f})},clearQueue:function(){this.queue.removeAll()},runQueue:function(){var f=this.queue,g=f.removeAt(0),j;if(g){j=g&&g.route;j.execute(this.token,g.args,this.onActionExecute,this)}},onActionExecute:function(c){if(c){this.clearQueue()}else{this.runQueue()}}},1,0,0,0,0,0,[Ext.app.route,"Queue"],0));(Ext.cmd.derive("Ext.app.route.Route",Ext.Base,{action:null,conditions:null,controller:null,allowInactive:false,url:null,before:null,caseInsensitive:false,matcherRegex:null,paramMatchingRegex:null,paramsInMatchString:null,constructor:function(j){var g=this,f;Ext.apply(g,j,{conditions:{}});f=g.url;g.paramMatchingRegex=new RegExp(/:([0-9A-Za-z\_]*)/g);g.paramsInMatchString=f.match(g.paramMatchingRegex)||[];g.matcherRegex=g.createMatcherRegex(f)},recognize:function(m){var l=this,j=l.controller,k,n;if((l.allowInactive||j.isActive())&&l.recognizes(m)){k=l.matchesFor(m);n=m.match(l.matcherRegex);n.shift();return Ext.applyIf(k,{controller:j,action:l.action,historyUrl:m,args:n})}return false},recognizes:function(c){return this.matcherRegex.test(c)},execute:function(s,o,n,r){var u=o.args||[],p=this.before,m=this.controller,q=this.createCallback(o,n,r);if(p){u.push(q);if(Ext.isString(p)){p=this.before=m[p]}if(p){p.apply(m,u)}}else{q.resume()}},matchesFor:function(o){var l={},m=this.paramsInMatchString,p=o.match(this.matcherRegex),n=0,k=m.length;p.shift();for(;n<k;n++){l[m[n].replace(":","")]=p[n]}return l},createMatcherRegex:function(y){var w=this.paramsInMatchString,q=this.conditions,v=0,s=w.length,p=Ext.util.Format.format,o=this.caseInsensitive?"i":"",x,r,u;for(;v<s;v++){x=w[v];r=q[x];u=p("{0}",r||"([%a-zA-Z0-9\\-\\_\\s,]+)");y=y.replace(new RegExp(x),u)}return new RegExp("^"+y+"$",o)},createCallback:function(g,j,l){var k=this;l=l||k;return{resume:function(){var d=k.controller,b=k.action,c;if(Ext.isString(b)){b=d[b]}g=g&&g.args?g.args:[];c=g.pop();if(c&&!Ext.isObject(c)){g.push(c)}if(b){k.action=b;b.apply(d,g)}if(j){j.call(l)}},stop:function(b){if(j){j.call(l,b)}}}}},1,0,0,0,0,0,[Ext.app.route,"Route"],0));(Ext.cmd.derive("Ext.util.History",Ext.Base,{singleton:true,alternateClassName:"Ext.History",useTopWindow:false,constructor:function(){var c=this;c.hiddenField=null;c.ready=false;c.currentToken=null;c.mixins.observable.constructor.call(c)},getHash:function(){return this.win.location.hash.substr(1)},setHash:function(f){try{this.win.location.hash=f;this.currentToken=f}catch(d){}},handleStateChange:function(c){this.currentToken=c;this.fireEvent("change",c)},startUp:function(){var c=this;c.currentToken=c.getHash();if(Ext.supports.Hashchange){Ext.get(c.win).on("hashchange",c.onHashChange,c)}else{Ext.TaskManager.start({fireIdleEvent:false,run:c.onHashChange,interval:50,scope:c})}c.ready=true;c.fireEvent("ready",c)},onHashChange:function(){var f=this,d=f.getHash();if(d!==f.hash){f.hash=d;f.handleStateChange(d)}},init:function(g,f){var j=this;if(j.ready){Ext.callback(g,f,[j]);return}if(!Ext.isReady){Ext.onInternalReady(function(){j.init(g,f)});return}j.win=j.useTopWindow?window.top:window;j.hash=j.getHash();if(g){j.on("ready",g,f,{single:true})}j.startUp()},add:function(g,l){var k=this,j=false;if(l===false||k.getToken()!==g){k.setHash(g);j=true}return j},back:function(){var c=this.useTopWindow?window.top:window;c.history.go(-1)},forward:function(){var c=this.useTopWindow?window.top:window;c.history.go(1)},getToken:function(){return this.ready?this.currentToken:this.getHash()}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.util,"History",Ext,"History"],0));(Ext.cmd.derive("Ext.app.route.Router",Ext.Base,{singleton:true,multipleToken:"|",queueRoutes:true,constructor:function(){var c=Ext.util.History;if(!c.ready){c.init()}c.on("change",this.onStateChange,this);this.clear()},onStateChange:function(E){var x=this,F=x.application,v=x.routes,B=v.length,s=x.queueRoutes,y=E.split(x.multipleToken),u=0,G=y.length,D,C,w,A,H;for(;u<G;u++){E=y[u];H=false;if(s){C=new Ext.app.route.Queue({token:E})}for(D=0;D<B;D++){w=v[D];A=w.recognize(E);if(A){H=true;if(s){C.queueAction(w,A)}else{w.execute(E,A)}}}if(s){C.runQueue()}if(!H&&F){F.fireEvent("unmatchedroute",E)}}},connect:function(k,j,g){var l={url:k,action:j,controller:g};if(Ext.isObject(j)){Ext.merge(l,j)}this.routes.push(new Ext.app.route.Route(l))},disconnectAll:function(o){var p=this.routes,k=p.length,m=[],l,n;for(l=0;l<k;++l){n=p[l];if(n.controller!==o){m.push(n)}}this.routes=m},recognize:function(m){var p=this.routes||[],l=0,k=p.length,o,n;for(;l<k;l++){o=p[l];n=o.recognize(m);if(n){return{route:o,args:n}}}return false},draw:function(c){c.call(this,this)},clear:function(){this.routes=[]}},1,0,0,0,0,0,[Ext.app.route,"Router"],0));(Ext.cmd.derive("Ext.app.Controller",Ext.app.BaseController,{statics:{strings:{model:{getter:"getModel",upper:"Model"},view:{getter:"getView",upper:"View"},controller:{getter:"getController",upper:"Controller"},store:{getter:"getStore",upper:"Store"},profile:{getter:"getProfile",upper:"Profiles"}},controllerRegex:/^(.*)\.controller\./,profileRegex:/^(.*)\.profile\./,createGetter:function(d,f){return function(){return this[d](f)}},getGetterName:function(o,k){var n="get",m=o.split("."),l=m.length,p;for(p=0;p<l;p++){n+=Ext.String.capitalize(m[p])}n+=k;return n},resolveNamespace:function(l,n){var m=Ext.app.Controller,o=l.prototype.isProfile?m.profileRegex:m.controllerRegex,p,q,r;p=Ext.getClassName(l);q=n.$namespace||n.namespace||Ext.app.getNamespace(p)||((r=o.exec(p))&&r[1]);return q},processDependencies:function(J,I,E,D,y,G){if(!y||!y.length){return}var x=this,K=x.strings[D],F,L,j,H,C,B,o,A;if(!Ext.isArray(y)){y=[y]}for(C=0,B=y.length;C<B;C++){H=y[C];F=x.getFullName(H,D,E,G);y[C]=L=F.absoluteName;j=F.shortName;I.push(L);o=x.getGetterName(j,K.upper);if(!J[o]){J[o]=A=x.createGetter(K.getter,H)}if(A&&D!=="controller"){A["Ext.app.getter"]=true}}},getFullName:function(q,n,o,p){var l=q,r,m;if((r=q.indexOf("@"))>0){l=q.substring(0,r);m=q.substring(r+1)+"."+l}else{if(q.indexOf(".")>0&&(Ext.ClassManager.isCreated(q)||this.hasRegisteredPrefix(q))){m=q;l=q.replace(o+"."+n+".","")}else{if(o){m=o+"."+n+"."+(p?p+"."+q:q);l=q}else{m=q}}}return{absoluteName:m,shortName:l}},hasRegisteredPrefix:function(f){var g=Ext.ClassManager,j=g.getPrefix(f);return j&&j!==f}},models:null,views:null,stores:null,controllers:null,config:{application:null,refs:null,active:true,moduleClassName:null},onClassExtended:function(l,k,g){var j=g.onBeforeCreated;g.onBeforeCreated=function(o,b){var p=Ext.app.Controller,d=[],f,c;c=o.prototype;f=p.resolveNamespace(o,b);if(f){c.$namespace=f}p.processDependencies(c,d,f,"model",b.models);p.processDependencies(c,d,f,"view",b.views);p.processDependencies(c,d,f,"store",b.stores);p.processDependencies(c,d,f,"controller",b.controllers);Ext.require(d,Ext.Function.pass(j,arguments,this))}},constructor:function(c){this.initAutoGetters();Ext.app.BaseController.prototype.constructor.call(this,c)},normalizeRefs:function(j){var g=this,f=[];if(j){if(Ext.isObject(j)){Ext.Object.each(j,function(c,b){if(Ext.isString(b)){b={selector:b}}b.ref=c;f.push(b)})}else{if(Ext.isArray(j)){f=Ext.Array.merge(f,j)}}}j=g.refs;if(j){g.refs=null;j=g.normalizeRefs(j);if(j){f=Ext.Array.merge(f,j)}}return f},getRefMap:function(){var l=this,o=l._refMap,k,m,n,p;if(!o){k=l.getRefs();o=l._refMap={};if(k){for(p=0,n=k.length;p<n;p++){m=k[p];o[m.ref]=m.selector}}}return o},applyId:function(c){return c||Ext.app.Controller.getFullName(this.$className,"controller",this.$namespace).shortName},applyRefs:function(c){return this.normalizeRefs(Ext.clone(c))},updateRefs:function(c){if(c){this.ref(c)}},initAutoGetters:function(){var j=this.self.prototype,g,f;for(g in j){f=j[g];if(f&&f["Ext.app.getter"]){f.call(this)}}},doInit:function(f){var d=this;if(!d._initialized){d.init(f);d._initialized=true}},finishInit:function(l){var n=this,m=n.controllers,p,o,k;if(n._initialized&&m&&m.length){for(o=0,k=m.length;o<k;o++){p=n.getController(m[o]);p.finishInit(l)}}},init:Ext.emptyFn,onLaunch:Ext.emptyFn,activate:function(){this.setActive(true)},deactivate:function(){this.setActive(false)},isActive:function(){return this.getActive()},ref:function(l){var n=this,r=0,o=l.length,m,p,q;l=Ext.Array.from(l);n.references=n.references||[];for(;r<o;r++){m=l[r];p=m.ref;q="get"+Ext.String.capitalize(p);if(!n[q]){n[q]=Ext.Function.pass(n.getRef,[p,m],n)}n.references.push(p.toLowerCase())}},addRef:function(c){this.ref(c)},getRef:function(n,l,k){var o=this,m=o.refCache||(o.refCache={}),p=m[n];l=l||{};k=k||{};Ext.apply(l,k);if(l.forceCreate){return Ext.ComponentManager.create(l,"component")}if(!p){if(l.selector){m[n]=p=Ext.ComponentQuery.query(l.selector)[0]}if(!p&&l.autoCreate){m[n]=p=Ext.ComponentManager.create(l,"component")}if(p){p.on("destroy",function(){m[n]=null})}}return p},hasRef:function(f){var d=this.references;return d&&Ext.Array.indexOf(d,f.toLowerCase())!==-1},getController:function(f){var d=this.getApplication();if(f===this.getId()){return this}return d&&d.getController(f)},getStore:function(g){var f,j;f=(g.indexOf("@")===-1)?g:g.split("@")[0];j=Ext.StoreManager.get(f);if(!j){g=Ext.app.Controller.getFullName(g,"store",this.$namespace);if(g){j=Ext.create(g.absoluteName,{id:f})}}return j},getModel:function(g){var j=Ext.app.Controller.getFullName(g,"model",this.$namespace),f=Ext.ClassManager.get(j.absoluteName);if(!f){f=Ext.data.schema.Schema.lookupEntity(g)}return f},getProfile:function(c){c=Ext.app.Controller.getFullName(c,"profile",this.$namespace);return c},getView:function(d){var f=Ext.app.Controller.getFullName(d,"view",this.$namespace);return f&&Ext.ClassManager.get(f.absoluteName)},destroy:function(k,p){var n=this,l=n.application,m,o;if(!p&&l){l.unregister(n)}n.application=null;if(k){m=n.refCache;for(o in m){if(m.hasOwnProperty(o)){Ext.destroy(m[o])}}}Ext.app.BaseController.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.app,"Controller"],0));(Ext.cmd.derive("Ext.app.Application",Ext.app.Controller,{isApplication:true,scope:undefined,namespaces:[],paths:null,config:{name:"",appProperty:"app",profiles:[],currentProfile:null,mainView:{$value:null,lazy:true},defaultToken:null,glyphFontFamily:null,quickTips:true},onClassExtended:function(q,w,r){var x=Ext.app.Controller,v=q.prototype,o=[],u,p,y,s;y=w.name||q.superclass.name;if(y){w.$namespace=y;Ext.app.addNamespaces(y)}if(w.namespaces){Ext.app.addNamespaces(w.namespaces)}if(w["paths processed"]){delete w["paths processed"]}else{Ext.app.setupPaths(y,("appFolder" in w)?w.appFolder:q.superclass.appFolder,w.paths)}x.processDependencies(v,o,y,"profile",w.profiles);v.getDependencies(q,w,o);if(o.length){u=r.onBeforeCreated;r.onBeforeCreated=function(d,b){var c=Ext.Array.clone(arguments);Ext.require(o,function(){return u.apply(this,c)})}}},getDependencies:Ext.emptyFn,constructor:function(d){var f=this;Ext.app.route.Router.application=f;Ext.app.Controller.prototype.constructor.call(this,d);f.doInit(f);f.initNamespace();Ext.on("appupdate",f.onAppUpdate,f,{single:true});this.onProfilesReady()},applyId:function(c){return c||this.$className},onAppUpdate:Ext.emptyFn,onProfilesReady:function(){var m=this,p=m.getProfiles(),n=p.length,l,o,k;for(o=0;o<n;o++){k=Ext.create(p[o],{application:m});if(k.isActive()&&!l){l=k;m.setCurrentProfile(l)}}if(l){l.init()}m.initControllers();m.onBeforeLaunch();m.finishInitControllers()},initNamespace:function(){var g=this,f=g.getAppProperty(),j;j=Ext.namespace(g.getName());if(j){j.getApplication=function(){return g};if(f){if(!j[f]){j[f]=g}}}},initControllers:function(){var l=this,k=Ext.Array.from(l.controllers),n=l.getCurrentProfile(),j,m;l.controllers=new Ext.util.MixedCollection();for(j=0,m=k.length;j<m;j++){l.getController(k[j])}if(n){k=n.getControllers();for(j=0,m=k.length;j<m;j++){l.getController(k[j])}}},finishInitControllers:function(){var k=this,j,l,g;j=k.controllers.getRange();for(l=0,g=j.length;l<g;l++){j[l].finishInit(k)}},launch:Ext.emptyFn,onBeforeLaunch:function(){var o=this,s=Ext.util.History,w=o.getDefaultToken(),q=o.getCurrentProfile(),v,p,c,r,u;o.initMainView();if(q){q.launch()}o.launch.call(o.scope||o);o.launched=true;o.fireEvent("launch",o);v=o.controllers.items;c=v.length;for(p=0;p<c;p++){r=v[p];r.onLaunch(o)}if(!s.ready){s.init()}u=s.getToken();if(u||u===w){Ext.app.route.Router.onStateChange(u)}else{if(w){s.add(w)}}if(Ext.Microloader&&Ext.Microloader.appUpdate&&Ext.Microloader.appUpdate.updated){Ext.Microloader.fireAppUpdate()}Ext.defer(Ext.ClassManager.clearNamespaceCache,2000,Ext.ClassManager)},getModuleClassName:function(d,f){return Ext.app.Controller.getFullName(d,f,this.getName()).absoluteName},initMainView:function(){var g=this,j=g.getCurrentProfile(),f;if(j){f=j.getMainView()}if(f){g.setMainView(f)}else{g.getMainView()}},applyMainView:function(f){var d=this.getView(f);return d.create({$initParent:this.viewport})},createController:function(c){return this.getController(c)},destroyController:function(c){if(typeof c==="string"){c=this.getController(c,true)}Ext.destroy(c)},getController:function(x,y){var p=this,w=p.controllers,r,u,s,v,q,c;u=w.get(x);if(!u){c=w.items;for(v=0,s=c.length;v<s;++v){q=c[v];r=q.getModuleClassName();if(r&&r===x){u=q;break}}}if(!u&&!y){r=p.getModuleClassName(x,"controller");u=Ext.create(r,{application:p,moduleClassName:r});w.add(u);if(p._initialized){u.doInit(p)}}return u},unregister:function(c){this.controllers.remove(c)},getApplication:function(){return this},destroy:function(j){var m=this,k=m.controllers,n=Ext.namespace(m.getName()),l=m.getAppProperty();Ext.un("appupdate",m.onAppUpdate,m);Ext.destroy(m.viewport);if(k){k.each(function(b){b.destroy(j,true)})}m.controllers=null;Ext.app.Controller.prototype.destroy.call(this,j,true);if(n&&n[l]===m){delete n[l]}if(Ext.app.route.Router.application===m){Ext.app.route.Router.application=null}if(Ext.app.Application.instance===m){Ext.app.Application.instance=null}},updateGlyphFontFamily:function(c){Ext.setGlyphFontFamily(c)},applyProfiles:function(d){var f=this;return Ext.Array.map(d,function(b){return f.getModuleClassName(b,"profile")})}},1,0,0,0,0,0,[Ext.app,"Application"],0));Ext.application=function(d){var f=function(b){Ext.onReady(function(){var c=Ext.viewport;c=c&&c.Viewport;if(c&&c.setup){c.setup(b.prototype.config.viewport)}Ext.app.Application.instance=new b()})};if(typeof d==="string"){Ext.require(d,function(){f(Ext.ClassManager.get(d))})}else{d=Ext.apply({extend:"Ext.app.Application"},d);Ext.app.setupPaths(d.name,d.appFolder,d.paths);d["paths processed"]=true;Ext.define(d.name+".$application",d,function(){f(this)})}};Ext.define("Ext.overrides.app.Application",{override:"Ext.app.Application",autoCreateViewport:false,config:{enableQuickTips:null},quickTips:true,updateEnableQuickTips:function(c){this.setQuickTips(c)},applyMainView:function(k){var n,l,m,j;if(typeof k==="string"){n=this.getView(k)}else{n=Ext.ClassManager.getByConfig(k)}l=n.prototype;if(!l.isViewport){j=l.plugins;j=["viewport"].concat(j?Ext.Array.from(j,true):[]);m={plugins:j}}return n.create(m)},getDependencies:function(l,n,p){var m=Ext.app.Controller,o=l.prototype,q=n.$namespace,r=n.autoCreateViewport;if(r){if(r===true){r="Viewport"}else{p.push("Ext.plugin.Viewport")}m.processDependencies(o,p,q,"view",r)}},onBeforeLaunch:function(){var f=this,d=f.autoCreateViewport;if(f.getQuickTips()){f.initQuickTips()}if(d){f.initViewport()}this.callParent(arguments)},getViewportName:function(){var d=null,f=this.autoCreateViewport;if(f){d=(f===true)?"Viewport":f}return d},initViewport:function(){this.setMainView(this.getViewportName())},initQuickTips:function(){Ext.tip.QuickTipManager.init()}});Ext.define("Ext.overrides.app.Application",{override:"Ext.app.Application",onAppUpdate:function(){Ext.Msg.confirm("Atualizao do aplicativo","Esta aplicao tem uma atualizao, recarregar?",function(c){if(c==="yes"){window.location.reload()}})}});(Ext.cmd.derive("Ext.app.domain.View",Ext.app.EventDomain,{isInstance:true,constructor:function(c){Ext.app.EventDomain.prototype.constructor.call(this,c);this.controller=c;this.monitoredClasses=[Ext.Widget]},match:function(j,g,l){var k=false;if(g==="#"){k=l===j.getController()}else{k=j.is(g)}return k},destroy:function(){this.controller=null;Ext.app.EventDomain.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.app.domain,"View"],0));Ext.define("Ext.overrides.app.domain.View",{override:"Ext.app.domain.View",constructor:function(c){(arguments.callee.$previous||Ext.app.EventDomain.prototype.constructor).call(this,c);this.monitoredClasses.push(Ext.Component)}});(Ext.cmd.derive("Ext.app.ViewController",Ext.app.BaseController,{isViewController:true,factoryConfig:{type:"controller"},config:{closeViewAction:"destroy"},view:null,constructor:function(){this.compDomain=new Ext.app.domain.View(this);Ext.app.BaseController.prototype.constructor.apply(this,arguments)},beforeInit:Ext.emptyFn,init:Ext.emptyFn,initViewModel:Ext.emptyFn,destroy:function(){var d=this,f=d.compDomain;if(f){f.unlisten(d);f.destroy()}d.compDomain=d.view=null;Ext.app.BaseController.prototype.destroy.call(this)},closeView:function(){var d=this.getView(),f;if(d){f=this.getCloseViewAction();d[f]()}},control:function(f,j){var g=f;if(Ext.isString(f)){g={};g[f]=j}this.compDomain.listen(g,this)},listen:function(g,f){var j=g.component;if(j){g=Ext.apply({},g);delete g.component;this.control(j)}this.callParent([g,f])},applyId:function(c){if(!c){c=Ext.id(null,"controller-")}return c},getReferences:function(){var c=this.view;return c&&c.getReferences()},getView:function(){return this.view},lookup:function(f){var d=this.view;return d&&d.lookup(f)},lookupReference:function(c){return this.lookup(c)},getSession:function(){var c=this.view;return c&&c.lookupSession()},getViewModel:function(){var c=this.view;return c&&c.lookupViewModel()},getStore:function(f){var d=this.getViewModel();return d?d.getStore(f):null},fireViewEvent:function(l,n){var m=this.view,j=false,k=arguments;if(m){if(m!==n){k=Ext.Array.slice(k);k.splice(1,0,m)}j=m.fireEvent.apply(m,k)}return j},privates:{view:null,attachReference:function(f){var d=this.view;if(d){d.attachReference(f)}},clearReference:function(f){var d=this.view;if(d){d.clearReference(f)}},clearReferences:function(){var c=this.view;if(c){c.clearReferences()}},setView:function(c){this.view=c;if(!this.beforeInit.$nullFn){this.beforeInit(c)}}}},1,0,0,0,["controller.controller"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.app,"ViewController"],0));(Ext.cmd.derive("Ext.util.Bag",Ext.Base,{isBag:true,constructor:function(){this.items=[];this.map={}},generation:0,length:0,beginUpdate:Ext.emptyFn,endUpdate:Ext.emptyFn,add:function(n){var s=this,u=s.items,D=s.map,A=1,y,w,r,B,x,v,C;if(Ext.isArray(n)){y=v=[];A=n.length}for(w=0;w<A;w++){B=s.getKey(x=y?n[w]:n);r=D[B];if(r===undefined){u.push(x);D[B]=s.length++;if(y){y.push(x)}else{v=x}}else{C=u[r];if(y){y.push(C)}else{v=C}u[r]=x}}++s.generation;return v},clear:function(){var g=this,j=g.generation||g.length,f=j?g.items:[];if(j){g.items=[];g.length=0;g.map={};++g.generation}return f},clone:function(){var g=this,j=new g.self(),f=g.length;if(f){Ext.apply(j.map,g.map);j.items=g.items.slice();j.length=g.length}return j},contains:function(k){var g=false,j=this.map,l;if(k!=null){l=this.getKey(k);if(l in j){g=this.items[j[l]]===k}}return g},containsKey:function(c){return c in this.map},destroy:function(){this.items=this.map=null;this.callParent()},each:function(l,m){var p=this.items,k=p.length,n,o;if(k){m=m||this;p=p.slice(0);for(n=0;n<k;n++){o=l.call(m,p[n],n,k);if(o===false){break}}}return o},getAt:function(f){var d=null;if(f<this.length){d=this.items[f]}return d},get:function(c){return this.getByKey(c)},getByKey:function(j){var g=this.map,f=(j in g)?this.items[g[j]]:null;return f},indexOfKey:function(j){var g=this.map,f=(j in g)?g[j]:-1;return f},last:function(){return this.items[this.length-1]},updateKey:function(n,l){var j=this,m=j.map,k;if(!n||!l){return}if((k=j.getKey(n))!==l){if(j.getAt(m[l])===n&&!(k in m)){j.generation++;m[k]=m[l];delete m[l]}}},getCount:function(){return this.length},getKey:function(c){return c.id||c.getId()},getRange:function(l,j){var m=this.items,k=m.length,n;if(!k){n=[]}else{n=Ext.Number.clipIndices(k,[l,j]);n=m.slice(n[0],n[1])}return n},remove:function(n){var v=this,F=v.map,w=v.items,x=null,C=1,y,B,A,u,D,s,E;if(Ext.isArray(n)){C=n.length;B=x=[]}if(v.length){for(A=0;A<C;A++){u=F[D=v.getKey(B?n[A]:n)];if(u!==undefined){delete F[D];E=w[u];if(B){B.push(E)}else{x=E}s=w.pop();if(u<--v.length){w[u]=s;F[v.getKey(s)]=u}y=true}}if(y){++v.generation}}return x},removeByKey:function(d){var f=this.getByKey(d);if(f){this.remove(f)}return f||null},replace:function(c){this.add(c);return c},sort:function(n){var l=this,j=l.items,k=j.length,m;if(k){Ext.Array.sort(j,n);l.map={};while(k-->0){m=j[k];l.map[l.getKey(m)]=k}++l.generation}}},1,0,0,0,0,0,[Ext.util,"Bag"],0));(Ext.cmd.derive("Ext.util.Scheduler",Ext.Base,{busyCounter:0,lastBusyCounter:0,destroyed:false,firing:null,notifyIndex:-1,nextId:0,orderedItems:null,passes:0,scheduledCount:0,validIdRe:null,config:{cycleLimit:5,preSort:null,tickDelay:5},suspendOnNotify:true,constructor:function(c){this.mixins.observable.constructor.call(this,c);this.items=new Ext.util.Bag()},destroy:function(){var d=this,f=d.timer;if(f){window.clearTimeout(f);d.timer=null}d.items.destroy();d.items=d.orderedItems=null;d.callParent()},add:function(g){var j=this,f=j.items;if(f===j.firing){j.items=f=f.clone()}g.id=g.id||++j.nextId;g.scheduler=j;f.add(g);if(!j.sortMap){j.orderedItems=null}},remove:function(g){var j=this,f=j.items;if(j.destroyed){return}if(f===j.firing){j.items=f=f.clone()}if(g.scheduled){j.unscheduleItem(g);g.scheduled=false}f.remove(g);j.orderedItems=null},sort:function(){var n=this,k=n.items,m={},l=n.getPreSort(),p,o;n.orderedItems=[];n.sortMap=m;if(l){k.sort(l)}k=k.items;for(p=0;p<k.length;++p){o=k[p];if(!m[o.id]){n.sortItem(o)}}n.sortMap=null},sortItem:function(m){var n=this,l=n.sortMap,j=n.orderedItems,k;if(!m.scheduler){n.add(m)}k=m.id;if(!(k in l)){l[k]=0;if(!m.sort.$nullFn){m.sort()}l[k]=1;m.order=n.orderedItems.length;j.push(m)}return n},sortItems:function(f){var j=this,g=j.sortItem;if(f){if(f instanceof Array){Ext.each(f,g,j)}else{Ext.Object.eachValue(f,g,j)}}return j},applyPreSort:function(n){if(typeof n==="function"){return n}var o=n.split(","),p=[],q=o.length,m,c,r;for(c=0;c<q;++c){p[c]=1;r=o[c];if((m=r.charAt(0))==="-"){p[c]=-1}else{if(m!=="+"){m=0}}if(m){o[c]=r.substring(1)}}return function(l,d){var b=0,k,f,g,j;for(k=0;!b&&k<q;++k){f=o[k];g=l[f];j=d[f];b=p[k]*((g<j)?-1:((j<g)?1:0))}return b}},notify:function(){var r=this,A=r.timer,x=r.getCycleLimit(),y=Ext.GlobalEvents,u=r.suspendOnNotify,p,w,q,s,v,B;if(A){window.clearTimeout(A);r.timer=null}if(!r.firing&&r.scheduledCount){if(u){Ext.suspendLayouts()}while(r.scheduledCount){if(x){--x}else{r.firing=null;break}if(!B){B=true;if(y.hasListeners.beforebindnotify){y.fireEvent("beforebindnotify",r)}}++r.passes;if(!(v=r.orderedItems)){r.sort();v=r.orderedItems}s=v.length;if(s){r.firing=r.items;for(w=0;w<s;++w){q=v[w];if(q.scheduled){q.scheduled=false;--r.scheduledCount;r.notifyIndex=w;q.react();if(!r.scheduledCount){break}}}}}r.firing=null;r.notifyIndex=-1;if(u){Ext.resumeLayouts(true)}}if((p=r.busyCounter)!==r.lastBusyCounter){if(!(r.lastBusyCounter=p)){r.fireEvent("idle",r)}}},onTick:function(){this.timer=null;this.notify()},scheduleItem:function(f){var d=this;++d.scheduledCount;if(!d.timer&&!d.firing){d.scheduleTick()}},scheduleTick:function(){var c=this;if(!c.destroyed&&!c.timer){c.timer=Ext.Function.defer(c.onTick,c.getTickDelay(),c)}},unscheduleItem:function(c){if(this.scheduledCount){--this.scheduledCount}},adjustBusy:function(f){var j=this,g=j.busyCounter+f;j.busyCounter=g;if(g){if(!j.lastBusyCounter){j.lastBusyCounter=g;j.fireEvent("busy",j)}}else{if(j.lastBusyCounter&&!j.timer){j.scheduleTick()}}},isBusy:function(){return !this.isIdle()},isIdle:function(){return !(this.busyCounter+this.lastBusyCounter)}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.util,"Scheduler"],0));(Ext.cmd.derive("Ext.data.Batch",Ext.Base,{config:{pauseOnException:false},current:-1,total:0,running:false,complete:false,exception:false,constructor:function(d){var f=this;f.mixins.observable.constructor.call(f,d);f.operations=[];f.exceptions=[]},add:function(l){var j=this,k,g;if(Ext.isArray(l)){for(k=0,g=l.length;k<g;++k){j.add(l[k])}}else{j.total++;l.setBatch(j);j.operations.push(l)}return j},sort:function(){this.operations.sort(this.sortFn)},sortFn:function(o,k){var p=o.order-k.order;if(p){return p}var l=o.entityType,n=k.entityType,m;if(!l||!n){return 0}if(!(m=l.rank)){l.schema.rankEntities();m=l.rank}return(m-n.rank)*o.foreignKeyDirection},start:function(d){var f=this;if(!f.operations.length||f.running){return f}f.exceptions.length=0;f.exception=false;f.running=true;return f.runOperation(Ext.isDefined(d)?d:f.current+1)},retry:function(){return this.start(this.current)},runNextOperation:function(){var c=this;if(c.running){c.runOperation(c.current+1)}return c},pause:function(){this.running=false;return this},getOperations:function(){return this.operations},getExceptions:function(){return this.exceptions},getCurrent:function(){var d=null,f=this.current;if(!(f===-1||this.complete)){d=this.operations[f]}return d},getTotal:function(){return this.total},isRunning:function(){return this.running},isComplete:function(){return this.complete},hasException:function(){return this.exception},runOperation:function(k){var j=this,l=j.operations,g=l[k];if(g===undefined){j.running=false;j.complete=true;j.fireEvent("complete",j,l[l.length-1])}else{j.current=k;g.setInternalCallback(j.onOperationComplete);g.setInternalScope(j);g.execute()}return j},onOperationComplete:function(f){var g=this,j=f.hasException();if(j){g.exception=true;g.exceptions.push(f);g.fireEvent("exception",g,f)}if(j&&g.getPauseOnException()){g.pause()}else{g.fireEvent("operationcomplete",g,f);g.runNextOperation()}}},1,0,0,0,0,[["observable",Ext.mixin.Observable]],[Ext.data,"Batch"],0));(Ext.cmd.derive("Ext.data.matrix.Slice",Ext.Base,{constructor:function(d,f){this.id=f;this.side=d;this.members={}},attach:function(d){var f=this;f.store=d;d.matrix=f;d.on("load",f.onStoreLoad,f,{single:true})},commit:function(){var d=this.members,f;for(f in d){d[f][2]=0}},onStoreLoad:function(c){this.update(c.getData().items,0)},update:function(E,K){var x=this,I=Ext.data.matrix.Slice,N=x.side,H=N.index,L=E.length,F=x.id,y=x.members,O=N.inverse,A=O.slices,J,C,D,B,P,G,M;for(D=0;D<L;++D){C=M=null;B=E[D];P=B.isEntity?(M=B).id:B;J=y[P];if(K<0&&J&&J[2]===1){delete y[P];G=A[P];if(G){delete G.members[F]}C=1}else{if(!J){J=[P,P,K];J[H]=F;y[P]=J;G=A[P];if(!G){A[P]=G=new I(O,P)}G.members[F]=J;C=1}else{if(K!==J[2]&&K!==0){J[2]=K;G=A[P];C=1}}}if(C){if(x.notify){x.notify.call(x.scope,x,P,K)}if(G&&G.notify){G.notify.call(G.scope,G,F,K)}}}},updateId:function(C){var u=this,D=u.id,v=u.side,q=v.slices,r=q[D],B=r.members,x=v.index,A=v.inverse.slices,w,y,s;u.id=C;q[C]=r;delete q[D];for(y in B){w=B[y];w[x]=C;s=A[y].members;s[C]=s[D];delete s[D]}},destroy:function(){var f=this,d=f.store;if(d){d.matrix=null;d.un("load",f.onStoreLoad,f)}f.notify=f.scope=f.store=f.side=f.members=null;f.callParent()}},1,0,0,0,0,0,[Ext.data.matrix,"Slice"],0));(Ext.cmd.derive("Ext.data.matrix.Side",Ext.Base,{constructor:function(g,l,j){var k=this;k.matrix=g;k.index=l;k.role=j;k.slices={}},commit:function(){var d=this.slices,f;for(f in d){d[f].commit()}},get:function(n,j){var m=this,k=m.slices,l=k[n]||(k[n]=new Ext.data.matrix.Slice(m,n));return(j||j===0)?l.members[j]:l},update:function(l,g,k){var j=this.get(l);return j.update(g,k)},updateId:function(g,f){var j=this.get(g);if(j){j.updateId(f)}},destroy:function(){var f=this,j=f.slices,g;for(g in j){j[g].destroy()}f.inverse=f.matrix=f.role=f.slices=null;f.callParent()}},1,0,0,0,0,0,[Ext.data.matrix,"Side"],0));(Ext.cmd.derive("Ext.data.matrix.Matrix",Ext.Base,{constructor:function(m,q){var o=this,r=q.isManyToMany?q:m.getSchema().getAssociation(q),l=Ext.data.matrix.Side,n=new l(o,0,r.left),p=new l(o,1,r.right);o.association=r;o.session=m;o.left=n;o.right=p;n.inverse=p;p.inverse=n},commit:function(){this.left.commit();this.right.commit()},update:function(j,f,g){return this.left.update(j,f,g)},updateId:function(l,m,q){var r=l.self,n=this.left,p=this.right,o;if(r===n.role.cls){o=n}if(r===p.role.cls){o=p}if(o){o.updateId(m,q)}},destroy:function(){var c=this;c.left.destroy();c.right.destroy();c.association=c.session=c.left=c.right=null;c.callParent()}},1,0,0,0,0,0,[Ext.data.matrix,"Matrix"],0));(Ext.cmd.derive("Ext.data.session.ChangesVisitor",Ext.Base,{constructor:function(g){var f=this,j;f.session=g;j=g.getCrudProperties();f.result=null;f.writerOptions={};f.createKey=j.create;f.readKey=j.read;f.updateKey=j.update;f.dropKey=j.drop},onDirtyRecord:function(C){var y=this,v=y.crud,D=C.phantom,F=C.dropped,B=!D&&!F,x=C.$className,G=(D||F)?"allDataOptions":"partialDataOptions",A=y.writerOptions,H=C.entityName,s,E,w,u;if(D&&F){return false}v=D?y.createKey:(F?y.dropKey:y.updateKey);A=A[x]||(A[x]={});if(F){if(!(s=A.drop)){A.drop=s={all:C.getProxy().getWriter().getWriteAllFields()}}if(!s.all){w=C.id}}if(!w){if(!(s=A[G])){s=C.getProxy().getWriter().getConfig(G);A[G]=s=Ext.Object.chain(s);y.setupOptions(s)}w=C.getData(s)}u=y.result||(y.result={});E=u[H]||(u[H]={});E=E[v]||(E[v]=[]);E.push(w)},setupOptions:function(c){c.serialize=true},onMatrixChange:function(v,p,q,y){var r=this,x=v.left.type,s=v.right.role,u=y<0?r.dropKey:r.createKey,w,o;o=r.result||(r.result={});w=o[x]||(o[x]={});w=w[s]||(w[s]={});w=w[u]||(w[u]={});w=w[p]||(w[p]=[]);w.push(q)}},1,0,0,0,0,0,[Ext.data.session,"ChangesVisitor"],0));(Ext.cmd.derive("Ext.data.session.ChildChangesVisitor",Ext.data.session.ChangesVisitor,{constructor:function(){this.seen={};Ext.data.session.ChangesVisitor.prototype.constructor.apply(this,arguments)},setupOptions:function(c){Ext.data.session.ChangesVisitor.prototype.setupOptions.call(this,c);c.serialize=false},onDirtyRecord:function(c){if(Ext.data.session.ChangesVisitor.prototype.onDirtyRecord.apply(this,arguments)!==false){if(!c.$source&&(c.dropped||!c.phantom)){this.readEntity(c)}}},readEntity:function(q){var p=this,r=p.readKey,v=q.entityName,u=q.id,w=p.seen,o=v+u,n,s;if(w[o]){return}w[o]=true;n=p.result||(p.result={});s=n[v]||(n[v]={});s=s[r]||(s[r]=[]);s.push(Ext.apply({},q.modified,q.data))}},1,0,0,0,0,0,[Ext.data.session,"ChildChangesVisitor"],0));(Ext.cmd.derive("Ext.data.session.BatchVisitor",Ext.Base,{map:null,constructor:function(c){this.batch=c},getBatch:function(p){var o=this.map,r=this.batch,n,u,s,m,q;if(o){if(!r){r=new Ext.data.Batch()}for(s in o){n=o[s];u=n.entity;q=u.getProxy();delete n.entity;for(m in n){m=q.createOperation(m,{records:n[m]});m.entityType=u;r.add(m)}}}if(r&&p!==false){r.sort()}return r},onDirtyRecord:function(k){var n=this,p=k.phantom?"create":(k.dropped?"destroy":"update"),o=k.$className,m=(n.map||(n.map={})),l=(m[o]||(m[o]={entity:k.self}));l=l[p]||(l[p]=[]);l.push(k)}},1,0,0,0,0,0,[Ext.data.session,"BatchVisitor"],0));(Ext.cmd.derive("Ext.mixin.Dirty",Ext.Base,{mixinId:"dirty",config:{dirty:null},dirty:false,_dirtyRecordCount:0,ignoreDirty:false,recordStateIsDirtyState:true,isDirty:function(){return this.getDirty()},applyDirty:function(c){return this.ignoreDirty?false:c},updateDirty:function(j,f){var g=this;g.dirty=j;if(!g.ignoreDirty&&g.fireEvent){g.fireEvent("dirtychange",g,j)}},clearRecordStates:function(){var f=this,d=f._crudCounters;if(d){d.C=d.U=d.D=0}f._dirtyRecordCount=0;if(f.recordStateIsDirtyState){f.setDirty(false)}},trackRecordState:function(m,u){var q=this,r=q._crudCounters||(q._crudCounters={C:0,R:0,U:0,D:0}),n=q._dirtyRecordCount,o,s,p;if(!u&&(p=m.crudStateWas)!==null){--r[p]}++r[m.crudState];q._dirtyRecordCount=s=r.C+r.U+r.D;o=!s!==!n;if(o&&q.recordStateIsDirtyState){q.setDirty(s>0)}return o},untrackRecordState:function(k){var n=this,o=n._crudCounters,l=n._dirtyRecordCount,m,p;if(o){--o[k.crudState];n._dirtyRecordCount=p=o.C+o.U+o.D;m=!p!==!l;if(m&&n.recordStateIsDirtyState){n.setDirty(p>0)}}return m}},0,0,0,0,0,0,[Ext.mixin,"Dirty"],0));(Ext.cmd.derive("Ext.data.Session",Ext.Base,{isSession:true,config:{schema:"default",parent:null,autoDestroy:true,crudProperties:{create:"C",read:"R",update:"U",drop:"D"}},crudOperations:[{type:"R",entityMethod:"readEntities"},{type:"C",entityMethod:"createEntities"},{type:"U",entityMethod:"updateEntities"},{type:"D",entityMethod:"dropEntities"}],crudKeys:{C:1,R:1,U:1,D:1},statics:{nextId:1},constructor:function(d){var f=this;f.data={};f.matrices={};f.id=Ext.data.Session.nextId++;f.identifierCache={};f.recordCreator=f.recordCreator.bind(f);f.mixins.observable.constructor.call(f,d)},destroy:function(){var p=this,r=p.matrices,o=p.data,q,n,l,m;for(m in r){r[m].destroy()}for(q in o){n=o[q];for(m in n){l=n[m].record;if(l){l.$source=null;l.unjoin(p)}}}p.identifierCache=p.recordCreator=p.matrices=p.data=null;p.setSchema(null);p.callParent()},adopt:function(l){var j=this,k=l.associations,g;if(l.session!==j){l.session=j;j.add(l);if(k){for(g in k){k[g].adoptAssociated(l,j)}}}},commit:function(){var p=this,o=p.data,r=p.matrices,q,n,m,l;for(q in o){n=o[q];for(m in n){l=n[m].record;if(l){l.commit()}}}for(m in r){r[m].commit()}p.clearRecordStates()},createRecord:function(n,m){var l=n.$isClass?n:this.getSchema().getEntity(n),j=this.getParent(),k;if(m&&j){k=l.getIdFromData(m);if(j.peekRecord(l,k)){Ext.raise("A parent session already contains an entry for "+l.entityName+": "+k)}}return new l(m,this)},getChanges:function(){var c=new Ext.data.session.ChangesVisitor(this);this.visitData(c);return c.result},getChangesForParent:function(){var c=new Ext.data.session.ChildChangesVisitor(this);this.visitData(c);return c.result},getRecord:function(o,w,u){var p=this,v=o.isModel,q,s,n,r;if(v){v=o;w=o.id;o=o.self}q=p.peekRecord(o,w);if(!q){s=o.$isClass?o:p.getSchema().getEntity(o);n=p.getParent();if(n){r=n.peekRecord(s,w)}if(r){if(r.isLoading()){v=false}else{q=r.copy(undefined,p);q.$source=r}}if(!q){if(v){q=v;p.adopt(q)}else{q=s.createWithId(w,null,p);if(u!==false){q.load(Ext.isObject(u)?u:undefined)}}}}return q},getSaveBatch:function(d){var f=new Ext.data.session.BatchVisitor();this.visitData(f);return f.getBatch(d)},onInvalidAssociationEntity:function(d,f){Ext.raise("Unable to read association entity: "+this.getModelIdentifier(d,f))},onInvalidEntityCreate:function(d,f){Ext.raise("Cannot create, record already not exists: "+this.getModelIdentifier(d,f))},onInvalidEntityDrop:function(d,f){Ext.raise("Cannot drop, record does not exist: "+this.getModelIdentifier(d,f))},onInvalidEntityRead:function(d,f){Ext.raise("Cannot read, record already not exists: "+this.getModelIdentifier(d,f))},onInvalidEntityUpdate:function(f,g,j){if(j){Ext.raise("Cannot update, record dropped: "+this.getModelIdentifier(f,g))}else{Ext.raise("Cannot update, record does not exist: "+this.getModelIdentifier(f,g))}},peekRecord:function(q,n,m){var o=q.$isClass?q:this.getSchema().getEntity(q),s=o.entityName,p=this.data[s],u,r;p=p&&p[n];u=p&&p.record;if(!u&&m){r=this.getParent();u=r&&r.peekRecord(q,n,m)}return u||null},save:function(){var j=this,f=j.getParent(),g;if(f){g=new Ext.data.session.ChildChangesVisitor(j);j.visitData(g);f.update(g.result);j.commit()}},spawn:function(){return new this.self({schema:this.getSchema(),parent:this})},update:function(B){var y=this,F=y.getSchema(),J=y.crudOperations,A=J.length,x=y.crudKeys,w,E,L,C,G,K,H,v,D,I;y.getSchema().processKeyChecks(true);for(w in B){E=F.getEntity(w);L=B[w];for(C=0;C<A;++C){G=J[C];K=L[G.type];if(K){y[G.entityMethod](E,K)}}}for(w in B){E=F.getEntity(w);H=E.associations;L=B[w];for(v in L){if(x[v]){continue}D=H[v];I=L[D.role];D.processUpdate(y,I)}}},privates:{add:function(p){var m=this,l=p.id,n=m.getEntry(p.self,l),o,k;n.record=p;m.trackRecordState(p,true);m.registerReferences(p);o=p.associations;for(k in o){o[k].checkMembership(m,p)}},afterCommit:function(c){this.trackRecordState(c)},afterDrop:function(c){this.trackRecordState(c)},afterEdit:function(c){this.trackRecordState(c)},afterErase:function(c){this.evict(c)},applySchema:function(c){return Ext.data.schema.Schema.get(c)},createEntities:function(p,r){var l=r.length,q,o,n,m;for(q=0;q<l;++q){o=r[q];m=p.getIdFromData(o);n=this.peekRecord(p,m);if(!n){n=this.createRecord(p,o)}else{this.onInvalidEntityCreate(p,m)}n.phantom=true}},dropEntities:function(o,p){var r=p.length,q,n,m,l;if(r){l=Ext.isObject(p[0])}for(q=0;q<r;++q){m=p[q];if(l){m=o.getIdFromData(m)}n=this.peekRecord(o,m);if(n){n.drop()}else{this.onInvalidEntityDrop(o,m)}}},evict:function(j){var m=this,n=j.entityName,l=m.data[n],k=j.id;if(l&&l[k]){m.untrackRecordState(j);j.unjoin(m);delete l[k]}},getEntityList:function(p,q){var l=q.length,r,m,n,o;for(r=0;r<l;++r){m=q[r];n=this.peekRecord(p,m);if(n){q[r]=n}else{o=true;q[r]=null;this.onInvalidAssociationEntity(p,m)}}if(o){q=Ext.Array.clean(q)}return q},getEntry:function(p,l){if(p.isModel){l=p.getId();p=p.self}var n=p.$isClass?p:this.getSchema().getEntity(p),k=n.entityName,m=this.data,o;o=m[k]||(m[k]={});o=o[l]||(o[l]={});return o},getRefs:function(s,u,o){var q=this.getEntry(s),r=q&&q.refs&&q.refs[u.role],p=o&&this.getParent(),n,w,v;if(p){n=p.getRefs(s,u);if(n){for(w in n){v=n[w];if((!r||!r[w])){this.getRecord(v.self,v.id)}}r=q&&q.refs&&q.refs[u.role]}}return r||null},getIdentifier:function(l){var m=this.getParent(),k,o,n,p;if(m){p=m.getIdentifier(l)}else{k=this.identifierCache;o=l.identifier;n=o.getId()||l.entityName;p=k[n];if(!p){if(o.clone){p=o.clone({id:null})}else{p=o}k[n]=p}}return p},getMatrix:function(j,k){var l=j.isManyToMany?j.name:j,m=this.matrices,n;n=m[l];if(!n&&!k){n=m[l]=new Ext.data.matrix.Matrix(this,j)}return n||null},getMatrixSlice:function(j,k){var g=this.getMatrix(j.association),l=g[j.side];return l.get(k)},getModelIdentifier:function(d,f){return f+"@"+d.entityName},onIdChanged:function(O,I,M){var D=this,S=D.matrices,L=O.entityName,H=O.id,A=D.data[L],R=A[I],E=O.associations,Q=R.refs,T=D._setNoRefs,N,P,F,K,B,J,G,C;delete A[I];A[M]=R;for(C in S){S[C].updateId(O,I,M)}if(Q){for(J in Q){G=Q[J];B=E[J];N=B.association;if(!N.isManyToMany){P=N.field.name;for(K in G){G[K].set(P,H,T)}}}}D.registerReferences(O,I)},processManyBlock:function(s,r,p,v){var o=this,w,q,u,n;if(p){for(w in p){q=o.peekRecord(s,w);if(q){u=o.getEntityList(r.cls,p[w]);n=r.getAssociatedItem(q);o[v](r,n,q,u)}else{o.onInvalidAssociationEntity(s,w)}}}},processManyCreate:function(j,k,g,l){if(k){k.add(l)}else{g[j.getterName](null,null,l)}},processManyDrop:function(j,k,g,l){if(k){k.remove(l)}},processManyRead:function(j,k,g,l){if(k){k.setRecords(l)}else{g[j.getterName](null,null,l)}},readEntities:function(p,r){var l=r.length,q,o,n,m;for(q=0;q<l;++q){o=r[q];m=p.getIdFromData(o);n=this.peekRecord(p,m);if(!n){n=this.createRecord(p,o)}else{this.onInvalidEntityRead(p,m)}n.phantom=false}},recordCreator:function(m,l){var n=this,k=l.getIdFromData(m),j=n.peekRecord(l,k,true);if(!j){j=new l(m,n)}else{j=n.getRecord(l,k)}return j},registerReferences:function(A,F){var w=A.entityName,G=A.id,H=A.data,B=F||F===0,v,C,s,y,E,u,x,D;y=(u=A.references).length;for(C=0;C<y;++C){E=u[C];s=H[E.name];if(s||s===0){E=E.reference;w=E.type;D=E.inverse.role;v=this.getEntry(E.cls,s);x=v.refs||(v.refs={});x=x[D]||(x[D]={});x[G]=A;if(B){delete x[F]}}}},updateEntities:function(q,u){var m=u.length,r,p,o,n,s;if(Ext.isArray(u)){for(r=0;r<m;++r){p=u[r];n=q.getIdFromData(p);o=this.peekRecord(q,n);if(o){o.set(p)}else{this.onInvalidEntityUpdate(q,n)}}}else{for(n in u){p=u[n];o=this.peekRecord(q,n);if(o&&!o.dropped){s=o.set(p)}else{this.onInvalidEntityUpdate(q,n,!!o)}}}},updateReference:function(s,q,w,y){var v=q.reference,p=v.type,u=v.inverse.role,x=s.id,o,r;if(y||y===0){r=this.getEntry(p,y).refs[u];delete r[x]}if(w||w===0){o=this.getEntry(p,w);r=o.refs||(o.refs={});r=r[u]||(r[u]={});r[x]=s}},visitData:function(C){var A=this,E=A.data,v=A.matrices,w,B,G,J,y,F,H,D,x,u,I;A.getSchema().processKeyChecks(true);for(H in E){w=E[H];for(G in w){D=w[G].record;if(D){if(D.phantom||D.dirty||D.dropped){if(C.onDirtyRecord){C.onDirtyRecord(D)}}else{if(C.onCleanRecord){C.onCleanRecord(D)}}}}}if(C.onMatrixChange){for(H in v){y=v[H].left;u=y.slices;B=y.role.association;for(G in u){x=u[G];F=x.members;for(J in F){I=(D=F[J])[2];if(I){C.onMatrixChange(B,D[0],D[1],I)}}}}}return C},_setNoRefs:{refs:false}}},1,0,0,0,0,[[Ext.mixin.Dirty.prototype.mixinId||Ext.mixin.Dirty.$className,Ext.mixin.Dirty],[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.data,"Session"],0));(Ext.cmd.derive("Ext.util.Schedulable",Ext.Base,{"abstract":true,isSchedulable:true,scheduled:false,constructor:function(){this.getScheduler().add(this)},destroy:function(){var f=this,d=f.getScheduler();if(d){d.remove(f)}f.scheduler=null;f.schedule=f.react=Ext.emptyFn;f.callParent()},getFullName:function(){return this.name||this.id},privates:{getScheduler:function(){return this.scheduler},schedule:function(){var f=this,d;if(!f.scheduled){d=f.getScheduler();if(d){f.scheduled=true;if(f.onSchedule){f.onSchedule()}d.scheduleItem(f)}}},unschedule:function(){var f=this,d;if(f.scheduled){d=f.getScheduler();if(d){d.unscheduleItem(f)}f.scheduled=false}},sort:function(){}}},1,0,0,0,0,0,[Ext.util,"Schedulable"],0));(Ext.cmd.derive("Ext.app.bind.BaseBinding",Ext.util.Schedulable,{calls:0,kind:20,defaultOptions:{},lastValue:undefined,constructor:function(j,k,m,n){var l=this;l.options=n;l.owner=j;l.scope=m;l.callback=k;l.lateBound=Ext.isString(k);if(n&&n.deep){l.deep=true}Ext.util.Schedulable.prototype.constructor.call(this)},destroy:function(){var f=this,d=f.owner;if(d){d.onBindDestroy(f)}Ext.util.Schedulable.prototype.destroy.call(this);f.scope=f.callback=f.owner=null},isReadOnly:function(){return true},privates:{getScheduler:function(){var c=this.owner;return c&&c.getScheduler()},getSession:function(){var c=this.owner;return c.isSession?c:c.getSession()},notify:function(j){var k=this,g=k.options||k.defaultOptions,l=k.lastValue;if(!k.calls||k.deep||k.valueChanged(j,l)){++k.calls;k.lastValue=j;if(k.lateBound){k.scope[k.callback](j,l,k)}else{k.callback.call(k.scope,j,l,k)}if(g.single){k.destroy()}}},valueChanged:function(g,j){var f=true;if(j!==g){if(g&&j&&g instanceof Date&&j instanceof Date){f=g.getTime()!==j.getTime()}}else{f=Ext.isArray(g)}return f}}},1,0,0,0,0,0,[Ext.app.bind,"BaseBinding"],0));(Ext.cmd.derive("Ext.app.bind.Binding",Ext.app.bind.BaseBinding,{constructor:function(l,k,n,j){var m=this;Ext.app.bind.BaseBinding.prototype.constructor.call(this,l.owner,k,n,j);m.stub=l;m.depth=l.depth;if(!l.isLoading()&&!l.scheduled){m.schedule()}},destroy:function(g){var f=this,j=f.stub;if(j&&!g){j.unbind(f);f.stub=null}Ext.app.bind.BaseBinding.prototype.destroy.call(this)},bindValidation:function(g,f){var j=this.stub;return j&&j.bindValidation(g,f)},bindValidationField:function(g,f){var j=this.stub;return j&&j.bindValidationField(g,f)},getFullName:function(){return this.fullName||(this.fullName="@("+this.stub.getFullName()+")")},getValue:function(){var d=this,f=d.stub;return f&&f.getValue()},isLoading:function(){var c=this.stub;return c&&c.isLoading()},isReadOnly:function(){var g=this.stub,j=this.options,f=true;if(!(j&&j.twoWay===false)){if(g){f=g.isReadOnly()}}return f},refresh:function(){},setValue:function(c){this.stub.set(c)},privates:{getDataObject:function(){var c=this.stub;return c&&c.getDataObject()},getRawValue:function(){var d=this,f=d.stub;return f&&f.getRawValue()},isDescendantOf:function(d){var f=this.stub;return f?(d===f)||f.isDescendantOf(d):false},react:function(){this.notify(this.getValue())},schedule:function(){if(!this.stub.scheduled){Ext.app.bind.BaseBinding.prototype.schedule.call(this)}},sort:function(){var c=this.stub;c.scheduler.sortItem(c)}}},1,0,0,0,0,0,[Ext.app.bind,"Binding"],0));(Ext.cmd.derive("Ext.app.bind.AbstractStub",Ext.util.Schedulable,{children:null,depth:0,generation:1,kind:10,parent:null,constructor:function(f,j){var g=this;g.owner=f;g.name=j;Ext.util.Schedulable.prototype.constructor.call(this)},destroy:function(){var m=this,n=m.children,l=m.bindings,k,o,p;if(l){for(o=0,k=l.length;o<k;++o){l[o].destroy(true)}}for(p in n){n[p].destroy()}if(m.scheduled){m.unschedule()}Ext.util.Schedulable.prototype.destroy.call(this)},add:function(f){var d=this;(d.children||(d.children={}))[f.name]=f;f.depth=d.depth+1;f.parent=d},getChild:function(f){var d=Ext.isString(f)?f.split("."):f;if(d&&d.length){return this.descend(d,0)}return this},getFullName:function(){var j=this,g=j.fullName,k=j.parent,l;if(!g){g=j.name||j.id;if(k&&(l=k.getFullName())){g=((l.charAt(l.length-1)!==":")?l+".":l)+g}j.fullName=g}return g},getSession:function(){var c=this.owner;return c.isSession?c:c.getSession()},bind:function(l,p,k){var o=this,n=new Ext.app.bind.Binding(o,l,p,k),m=(o.bindings||(o.bindings=[]));n.depth=o.depth;m.push(n);return n},getValue:function(){return this.isLoading()?null:this.getRawValue()},graft:function(m){var l=this,k=l.bindings,j=l.name,n;l.parent=l.bindings=null;l.destroy();m.depth=l.depth;m.bindings=k;m.generation=l.generation+1;m.name=j;m.id=l.id;m.path=l.path;if(k){for(n=k.length;n-->0;){k[n].stub=m}}return m},isDescendantOf:function(f){for(var d=this;d=d.parent;){if(d===f){return true}}return false},onSchedule:function(){for(var n,j,l,k,m=this.parent;m;m=m.parent){k=m.bindings;if(k){for(n=0,j=k.length;n<j;++n){l=k[n];if(l.deep&&!l.scheduled){l.schedule()}}}}},react:function(){var j=this.bindings,k,l,g;if(j){for(l=0,g=j.length;l<g;++l){k=j[l];if(!k.scheduled){k.schedule()}}}},unbind:function(d){var f=this.bindings;if(f&&f.length){Ext.Array.remove(f,d)}},privates:{collect:function(){var o=this.children,l=this.bindings,k=0,n=0,m,p;if(o){for(p in o){m=o[p];n=m.collect();if(n===0){m.destroy();delete o[p]}k+=n}}if(l){k+=l.length}return k},getScheduler:function(){var c=this.owner;return c&&c.getScheduler()},sort:function(){var c=this.parent;if(c){this.scheduler.sortItem(c)}}}},1,0,0,0,0,0,[Ext.app.bind,"AbstractStub"],0));(Ext.cmd.derive("Ext.app.bind.Stub",Ext.app.bind.AbstractStub,{isStub:true,dirty:true,formula:null,validationKey:"validation",constructor:function(j,n,m){var l=this,k=n;Ext.app.bind.AbstractStub.prototype.constructor.call(this,j,n);l.boundValue=null;if(m){m.add(l);if(!m.isRootStub){k=m.path+"."+n}l.checkHadValue()}l.path=k},destroy:function(){var j=this,g=j.formula,f=j.storeBinding;if(g){g.destroy()}if(f){f.destroy()}j.detachBound();Ext.app.bind.AbstractStub.prototype.destroy.call(this)},bindValidation:function(g,j){var f=this.parent;return f&&f.descend([this.validationKey,this.name]).bind(g,j)},bindValidationField:function(l,n){var o=this.parent,p=this.name,m=typeof l==="string",k;if(o){k=o.bind(function(c){var b=null;if(c&&c.isModel){b=c.getField(p)}if(m){n[l](b,c,this)}else{l.call(n,b,c,this)}})}return k||null},descend:function(n,q){var o=this,p=o.children||(o.children={}),m=q||0,r=n[m++],l;if(!(l=p[r])){l=new Ext.app.bind.Stub(o.owner,r,o)}if(m<n.length){l=l.descend(n,m)}return l},getChildValue:function(g){var j=this,k=j.name,l;if(!g&&!Ext.isString(g)){l=j.hadValue?null:undefined}else{l=j.inspectValue(g);if(!l){if(g.isEntity){l=g.data[k]}else{l=g[k]}}}return l},getDataObject:function(){var k=this,j=k.parent.getDataObject(),m=k.name,n=j?j[m]:null,l;if(!n&&j&&j.isEntity){l=j.associations;if(l&&m in l){n=j[l[m].getterName]()}}if(!n||!(n.$className||Ext.isObject(n))){j[m]=n={};k.hadValue=true;k.invalidate(true,true)}return n},getRawValue:function(){return this.getChildValue(this.getParentValue())},graft:function(m){var l=this,n=l.parent,o=l.children,k=l.name,p;m.parent=n;m.children=o;if(n){n.children[k]=m}if(o){for(p in o){o[p].parent=m}}l.children=null;m.checkHadValue();return Ext.app.bind.AbstractStub.prototype.graft.call(this,m)},isLoading:function(){var p=this,q=p.parent,m=false,r,n,o,l;if(q&&!(m=q.isLoading())){n=p.getParentValue();o=p.inspectValue(n);if(o){m=o.isLoading()}else{if(n&&n.isModel){r=n.associations;if(!(r&&p.name in r)){m=false;l=true}}if(!l){m=!p.hadValue&&p.getRawValue()===undefined}}}return m},invalidate:function(n,j){var k=this,l=k.children,m;k.checkHadValue();k.dirty=true;if(!j&&!k.isLoading()){if(!k.scheduled){k.schedule()}}if(n&&l){for(m in l){l[m].invalidate(n,j)}}},isReadOnly:function(){var c=this.formula;return !!(c&&!c.set)},set:function(p){var q=this,o=q.parent,y=q.name,s=q.formula,r,w,x,v,u;if(s&&!s.settingValue&&s.set){s.setValue(p);return}else{if(q.isLinkStub){v=q.getLinkFormulaStub();s=v?v.formula:null;if(s){s.setValue(p);return}}}r=o.getDataObject();if(r.isEntity){w=r.associations;if(w&&(y in w)){x=w[y];u=x.setterName;if(u){r[u](p)}q.invalidate(true)}else{r.set(y,p)}}else{if((p&&p.constructor===Object)||p!==r[y]){if(!q.setByLink(p)){if(p===undefined){delete r[y]}else{r[y]=p}q.inspectValue(r);q.invalidate(true)}}}},onStoreLoad:function(){this.invalidate(true)},afterLoad:function(c){this.invalidate(true)},afterCommit:function(c){this.afterEdit(c,null)},afterEdit:function(u,o){var p=this.children,m=o&&o.length,q=u.associations,r,s,n;if(p){if(m){for(s=0;s<m;++s){n=p[o[s]];if(n){n.invalidate()}}}else{for(r in p){if(!(q&&r in q)){p[r].invalidate()}}}}this.invalidate()},afterReject:function(c){this.afterEdit(c,null)},afterAssociatedRecordSet:function(j,l,k){var m=this.children,n=k.role;if(m&&n in m){m[n].invalidate(true)}},setByLink:function(p){var q=this,m=0,l,r,n,o;for(o=q;o;o=o.parent){if(o.isLinkStub){r=o;if(m){for(n=[],l=0,o=q;o!==r;o=o.parent){++l;n[m-l]=o.name}}break}++m}if(!r||!(o=r.getTargetStub())){return false}if(n){o=o.descend(n)}o.set(p);return true},setFormula:function(g){var f=this,j=f.formula;if(j){j.destroy()}f.formula=new Ext.app.bind.Formula(f,g)},react:function(){var k=this,l=this.boundValue,g=k.children,j;if(l){if(l.isValidation){l.refresh();j=l.generation;if(k.lastValidationGeneration===j){return}k.lastValidationGeneration=j}else{if(l.isModel){if(g&&g[k.validationKey]){l.isValid()}}else{if(l.isStore){if(l.isLoading()&&!l.loadCount){return}}}}}Ext.app.bind.AbstractStub.prototype.react.call(this)},privates:{checkHadValue:function(){if(!this.hadValue){this.hadValue=this.getRawValue()!==undefined}},collect:function(){var k=this,g=Ext.app.bind.AbstractStub.prototype.collect.call(this),l=k.storeBinding?1:0,j=k.formula?1:0;return g+l+j},getLinkFormulaStub:function(){var c=this;while(c.isLinkStub){c=c.binding.stub}return c.formula?c:null},getParentValue:function(){var c=this;if(c.dirty){c.parentValue=c.parent.getValue();c.dirty=false}return c.parentValue},setStore:function(c){this.storeBinding=c},inspectValue:function(p){var o=this,w=o.name,r=o.boundValue,v=null,u,n,s,q;if(p&&p.isEntity){u=p.associations;if(u&&(w in u)){v=p[u[w].getterName]();if(v&&v.isStore){v.$associatedStore=true}}else{if(w===o.validationKey){v=p.getValidation();o.lastValidationGeneration=null}}}else{if(p){n=p[w];if(n&&(n.isModel||n.isStore)){v=n}}}s=r!==v;if(s){if(r){o.detachBound()}if(v){if(v.isModel){v.join(o)}else{q=v.associatedEntity;if(q&&v.autoLoad!==false&&!v.complete&&!v.hasPendingLoad()){v.load()}v.on({scope:o,load:{fn:"onStoreLoad",single:true},destroy:"onDestroyBound"})}}o.boundValue=v}return v},detachBound:function(){var d=this,f=d.boundValue;if(f){if(f.isModel){f.unjoin(d)}else{f.un({scope:d,load:"onStoreLoad",destroy:"onDestroyBound"})}}},onDestroyBound:function(){if(!this.owner.destroying){this.set(null)}},sort:function(){var k=this,j=k.formula,g=k.scheduler,l=k.storeBinding;Ext.app.bind.AbstractStub.prototype.sort.call(this);if(l){g.sortItem(l)}if(j){g.sortItem(j)}}}},1,0,0,0,0,0,[Ext.app.bind,"Stub"],0));(Ext.cmd.derive("Ext.app.bind.LinkStub",Ext.app.bind.Stub,{isLinkStub:true,binding:null,destroy:function(){var j=this,g=j.binding,f=j.owner;if(g){j.binding=null;g.destroy();if(f){delete f.linkData[j.name]}}j.target=null;Ext.app.bind.Stub.prototype.destroy.call(this)},getFullName:function(){var c=this;return c.fullName||(c.fullName="("+Ext.app.bind.Stub.prototype.getFullName.call(this)+" -> "+c.binding.getFullName()+")")},getDataObject:function(){var c=this.binding;return c&&c.getDataObject()},getRawValue:function(){var c=this.binding;return c&&c.getRawValue()},getValue:function(){var c=this.binding;return c&&c.getValue()},getTargetStub:function(){var c=this.binding;return c&&c.stub},isLoading:function(){var c=this.binding;return c?c.isLoading():false},link:function(j,l){var g=this,k=g.binding;if(k){k.destroy()}l=g.target=l||g.owner;g.linkDescriptor=j;g.binding=l.bind(j,g.onChange,g);g.binding.deep=true},onChange:function(){this.invalidate(true)},react:function(){var f=this,d=f.owner.linkData;d[f.name]=f.getValue();Ext.app.bind.Stub.prototype.react.call(this)},privates:{collect:function(){var j=this,f=Ext.app.bind.Stub.prototype.collect.call(this),g=j.binding?1:0;return f+g},sort:function(){var c=this.binding;if(c){this.scheduler.sortItem(c)}}}},0,0,0,0,0,0,[Ext.app.bind,"LinkStub"],0));(Ext.cmd.derive("Ext.app.bind.RootStub",Ext.app.bind.AbstractStub,{isRootStub:true,depth:0,createRootChild:function(y,u){var p=this,x=p.owner,s=x.getData(),w=p.children,q=w&&w[y],r=q?null:p,o,v;if(u||s.hasOwnProperty(y)||!(o=x.getParent())){v=new Ext.app.bind.Stub(x,y,r)}else{v=new Ext.app.bind.LinkStub(x,y,q?null:r);v.link("{"+y+"}",o)}if(q){q.graft(v)}return v},createStubChild:function(c){return this.createRootChild(c,true)},descend:function(n,q){var o=this,p=o.children,m=q||0,r=n[m++],l=(p&&p[r])||o.createRootChild(r);if(m<n.length){l=l.descend(n,m)}return l},getFullName:function(){return this.fullName||(this.fullName=this.owner.id+":")},getDataObject:function(){return this.owner.data},getRawValue:function(){return this.owner.data},getValue:function(){return this.owner.data},isDescendantOf:function(){return false},isLoading:function(){return false},set:function(r){var s=this,x=s.children||(s.children={}),y=s.owner,v=y.data,o=y.getParent(),u,w,p,q;for(q in r){if((p=r[q])!==undefined){if(!(w=x[q])){w=new Ext.app.bind.Stub(y,q,s)}else{if(w.isLinkStub){if(!w.getLinkFormulaStub()){u=w;w=new Ext.app.bind.Stub(y,q);u.graft(w)}}}w.set(p)}else{if(v.hasOwnProperty(q)){delete v[q];w=x[q];if(w){if(!w.isLinkStub&&o){w=s.createRootChild(q)}w.invalidate(true)}}}}},schedule:Ext.emptyFn,unschedule:Ext.emptyFn},0,0,0,0,0,0,[Ext.app.bind,"RootStub"],0));(Ext.cmd.derive("Ext.app.bind.Multi",Ext.app.bind.BaseBinding,{isMultiBinding:true,missing:1,deep:true,constructor:function(o,l,m,q,r){var p=this,n=r&&r.trackStatics;Ext.app.bind.BaseBinding.prototype.constructor.call(this,l,m,q,r);p.bindings=[];p.literal=o.$literal;if(o.constructor===Object){if(n){p.staticKeys=[]}p.addObject(o,p.lastValue={},p.staticKeys)}else{p.addArray(o,p.lastValue=[])}if(!--p.missing&&!p.scheduled){p.schedule()}},destroy:function(){var c=this;c.bindings=Ext.destroy(c.bindings);Ext.app.bind.BaseBinding.prototype.destroy.call(this)},add:function(v,q,n){var o=this,s=o.owner,u=o.bindings,w=o.literal?(v.reference?"bindEntity":"bindExpression"):"bind",p,r;++o.missing;p=s[w](v,function(b){q[n]=b;if(p.calls===1){--o.missing}if(!o.missing&&!o.scheduled){o.schedule()}},o,null);r=p.depth;if(!u.length||r<o.depth){o.depth=r}u.push(p);return !this.isBindingStatic(p)},addArray:function(s,b){var p=this,n=s.length,r=false,o,u,q;for(q=0;q<n;++q){u=s[q];if(u&&(u.reference||Ext.isString(u))){o=p.add(u,b,q)}else{if(Ext.isArray(u)){o=p.addArray(u,b[q]=[])}else{if(u&&u.constructor===Object){o=p.addObject(u,b[q]={})}else{b[q]=u;o=false}}}r=r||o}return r},addObject:function(s,p,n){var o=this,q=false,b,u,r;for(r in s){u=s[r];if(u&&(u.reference||Ext.isString(u))){b=o.add(u,p,r)}else{if(Ext.isArray(u)){b=o.addArray(u,p[r]=[])}else{if(u&&u.constructor===Object){b=o.addObject(u,p[r]={})}else{p[r]=u;b=false}}}if(n&&!b){n.push(r)}q=q||b}return q},getFullName:function(){var m=this,l=m.fullName,k=m.bindings,n=k.length,j;if(!l){l="@[";for(j=0;j<n;++j){if(j){l+=","}l+=k[j].getFullName()}l+="]";m.fullName=l}return l},getRawValue:function(){return this.lastValue},isDescendantOf:function(){return false},isLoading:function(){for(var f=this.bindings,d=f.length;d-->0;){if(f[d].isLoading()){return true}}return false},isBindingStatic:function(c){return c.isTemplateBinding&&c.isStatic},isStatic:function(){var j=this.bindings,g=j.length,l,k;for(l=0;l<g;++l){k=j[l];if(!this.isBindingStatic(k)){return false}}return true},pruneStaticKeys:function(){var j=Ext.apply({},this.lastValue),k=this.staticKeys,g=k.length,l;for(l=0;l<g;++l){delete j[k[l]]}return j},react:function(){this.notify(this.lastValue)},refresh:function(){},privates:{sort:function(){this.scheduler.sortItems(this.bindings)}}},1,0,0,0,0,0,[Ext.app.bind,"Multi"],0));(Ext.cmd.derive("Ext.app.bind.Formula",Ext.util.Schedulable,{statics:{getFormulaParser:function(l){var g=this.formulaCache,j,k;if(!g){g=this.formulaCache=new Ext.util.LruCache({maxSize:20})}j=g.get(l);if(!j){k="[^\\.a-z0-9_]"+l+"\\(\\s*(['\"])(.*?)\\1\\s*\\)";j=new RegExp(k,"gi");g.add(l,j)}return j}},isFormula:true,calculation:null,explicit:false,set:null,single:false,argumentNamesRe:/^function\s*\(\s*([^,\)\s]+)/,constructor:function(o,n){var p=this,u=o.owner,r,q,m,s;p.owner=u;p.stub=o;Ext.util.Schedulable.prototype.constructor.call(this);if(n instanceof Function){p.get=m=n}else{p.get=m=n.get;p.set=n.set;q=n.bind;if(n.single){p.single=n.single}if(q){r=q.bindTo;if(r){s=Ext.apply({},q);delete s.bindTo;q=r}}}if(q){p.explicit=true}else{q=m.$expressions||p.parseFormula(m)}p.binding=u.bind(q,p.onChange,p,s)},destroy:function(){var f=this,g=f.binding,j=f.stub;if(g){g.destroy();f.binding=null}if(j){j.formula=null}Ext.util.Schedulable.prototype.destroy.call(this);f.getterFn=f.owner=null},getFullName:function(){return this.fullName||(this.fullName=this.stub.getFullName()+"="+Ext.util.Schedulable.prototype.getFullName.call(this)+")")},getRawValue:function(){return this.calculation},onChange:function(){if(!this.scheduled){this.schedule()}},parseFormula:function(m){var n=m.toString(),p={$literal:true},q,r,l,o;q=this.argumentNamesRe.exec(n);r=q?q[1]:"get";l=Ext.app.bind.Formula.getFormulaParser(r);while((q=l.exec(n))){o=q[2];p[o]=o}p.$literal=true;m.$expressions=p;return p},react:function(){var m=this,n=m.owner,l=m.binding.lastValue,k=m.getterFn,j;if(m.explicit){j=l}else{j=n.getFormulaFn(l)}m.settingValue=true;m.stub.set(m.calculation=m.get.call(n,j));m.settingValue=false;if(m.single){m.destroy()}},setValue:function(c){this.set.call(this.stub.owner,c)},privates:{getScheduler:function(){var c=this.owner;return c&&c.getScheduler()},sort:function(){var d=this,f=d.binding;if(!f.destroyed){d.scheduler.sortItem(f)}}}},1,0,0,0,0,0,[Ext.app.bind,"Formula"],0));(Ext.cmd.derive("Ext.util.Fly",Ext.Base,{inheritableStatics:{flyPoolSize:2,fly:function(){var g=this,j=g.flyweights||(g.flyweights=[]),f=j.length?j.pop():new g();f.reset.apply(f,arguments);return f}},release:function(){var g=this,j=g.self,f=j.flyweights||(j.flyweights=[]);g.reset();if(f.length<j.flyPoolSize){f.push(g)}},reset:Ext.emptyFn},0,0,0,0,0,0,[Ext.util,"Fly"],0));(Ext.cmd.derive("Ext.parse.Tokenizer",Ext.util.Fly,function(n){var o=(n.flyweights=[]),s={literal:true,"boolean":true},q={error:true},w={ident:true},v={literal:true},r={literal:true,nil:true},u={literal:true,number:true},p={literal:true,string:true};return{isTokenizer:true,statics:{BOOLEAN:s,ERROR:q,IDENT:w,LITERAL:v,NULL:r,NUMBER:u,STRING:p},config:{keywords:{"null":{type:"literal",is:r,value:null},"false":{type:"literal",is:s,value:false},"true":{type:"literal",is:s,value:true}},operators:{"+":"plus","-":"minus","*":"multiply","/":"divide","!":"bang",",":"comma",":":"colon","[":"arrayOpen","]":"arrayClose","{":"curlyOpen","}":"curlyClose","(":"parenOpen",")":"parenClose"}},error:null,index:-1,constructor:function(b){this.operators={};this.initConfig(b)},next:function(){var b=this.peek();this.head=undefined;return b},peek:function(){var b=this,d=b.error,c=b.head;if(d){return d}if(c===undefined){b.head=c=b.advance()}return c},release:function(){this.reset();if(o.length<n.flyPoolSize){o.push(this)}},reset:function(c,b,f){var d=this;d.error=null;d.head=undefined;d.index=-1;d.text=c||null;d.pos=b||0;d.end=(c&&f==null)?c.length:f;return d},privates:{digitRe:/[0-9]/,identFirstRe:/[a-z_$]/i,identRe:/[0-9a-z_$]/i,spaceRe:/[ \t]/,end:0,head:undefined,pos:0,text:null,applyOperators:function(d){var b=this.operators,c,j,f,m,k,g,l;for(l in d){c=b;g=d[l];k=l.length;for(m=0;m<k;++m){j=l.charAt(m);c=c[j]||(c[j]={})}if(g){c.token=f={type:"operator",value:l,is:{operator:true}};f.is[g]=true}else{c.token=null}}},advance:function(){var d=this,g=d.spaceRe,c=d.text,f=d.end,b;while(d.pos<f){b=c.charAt(d.pos);if(g.test(b)){++d.pos;continue}d.index=d.pos;return d.parse(b)}return null},parse:function(b){var d=this,g=d.digitRe,c=d.text,f=d.end,j;if(b==="."&&d.pos+1<f){if(g.test(c.charAt(d.pos+1))){j=d.parseNumber()}}if(!j&&d.operators[b]){j=d.parseOperator(b)}if(!j){if(b==='"'||b==="'"){j=d.parseString()}else{if(g.test(b)){j=d.parseNumber()}else{if(d.identFirstRe.test(b)){j=d.parseIdent()}else{j=d.syntaxError("Unexpected character")}}}}return j},parseIdent:function(){var l=this,b=l.identRe,B=l.getKeywords(),A=!l.operators["."],j=l.text,g=l.pos,c=g,f=l.end,d=0,m,k;while(c<f){m=j.charAt(c);if(A&&m==="."){if(d==="."){return l.syntaxError(c,"Unexpected dot operator")}++c}else{if(b.test(m)){++c}else{break}}d=m}if(d==="."){return l.syntaxError(c-1,"Unexpected dot operator")}k=j.substring(g,l.pos=c);return(B&&B[k])||{type:"ident",is:w,value:k}},parseNumber:function(){var k=this,b=k.digitRe,j=k.text,g=k.pos,f=k.end,l,m,c,d;while(k.pos<f){l=j.charAt(k.pos);if(l==="-"||l==="+"){if(k.pos!==g){return k.syntaxError(g,"Invalid number")}++k.pos}else{if(l==="."){if(m){break}m=true;++k.pos}else{if(l==="e"||l==="E"){if(c){break}m=c=true;l=j.charAt(++k.pos);if(l==="-"||l==="+"){++k.pos}}else{if(b.test(l)){++k.pos}else{break}}}}}d={type:"literal",is:u,value:+j.substring(g,k.pos)};if(!isFinite(d.value)){d=k.syntaxError(g,"Invalid number")}return d},parseOperator:function(l){var k=this,d=k.operators,j=k.text,g=k.end,c=k.pos,m,b,f;while(d[l]){d=d[l];f=d.token;++c;if(f){m=f;b=c}if(c<g){l=j.charAt(c)}else{break}}if(m){k.pos=b}return m},parseString:function(){var l=this,j=l.text,k=l.pos,f=k,d=l.end,m="",b,c,g;g=j.charAt(k++);while(k<d){b=j.charAt(k++);if(b===g){c=true;break}if(b==="\\"&&k<d){b=j.charAt(k++)}m+=b}l.pos=k;if(!c){return l.syntaxError(f,"Unterminated string")}return{type:"literal",is:p,value:m}},syntaxError:function(f,c){if(typeof f==="string"){c=f;f=this.pos}var b=(f==null)?"":(" (at index "+f+")"),d=new Error(c+b);d.type="error";d.is=q;if(b){d.at=f}return this.error=d}}}},1,0,0,0,0,0,[Ext.parse,"Tokenizer"],0));(Ext.cmd.derive("Ext.parse.Symbol",Ext.Base,{priority:0,constructor:function(j,g){var l=this,k=l.defaultProperty;if(g&&typeof g==="object"){Ext.apply(l,g)}else{if(g!==undefined&&k){l[k]=g}}l.id=j},led:function(){this.parser.syntaxError(this.at,"Missing operator")},nud:function(){this.parser.syntaxError(this.at,"Undefined")},update:function(n){if(n&&typeof n==="object"){var l=this,m=n.priority,k=n.led,j=n.nud;if(l.priority<=m){l.priority=m}if(k){l.led=k}if(j){l.nud=j}}}},1,0,0,0,0,0,[Ext.parse,"Symbol"],0));(Ext.cmd.derive("Ext.parse.symbol.Constant",Ext.parse.Symbol,{arity:"literal",isLiteral:true,defaultProperty:"value",constructor:function(f,d){Ext.parse.Symbol.prototype.constructor.call(this,f,d);this._value=this.value},nud:function(){var c=this;c.value=c._value;c.arity="literal";c.isLiteral=true;return c}},1,0,0,0,0,0,[Ext.parse.symbol,"Constant"],0));(Ext.cmd.derive("Ext.parse.symbol.Infix",Ext.parse.Symbol,{arity:"binary",isBinary:true,defaultProperty:"priority",led:function(f){var d=this;d.lhs=f;d.rhs=d.parser.parseExpression(d.priority);d.arity="binary";d.isBinary=true;return d}},0,0,0,0,0,0,[Ext.parse.symbol,"Infix"],0));(Ext.cmd.derive("Ext.parse.symbol.InfixRight",Ext.parse.symbol.Infix,{led:function(f){var d=this;d.lhs=f;d.rhs=d.parser.parseExpression(d.priority-1);d.arity="binary";d.isBinary=true;return d}},0,0,0,0,0,0,[Ext.parse.symbol,"InfixRight"],0));(Ext.cmd.derive("Ext.parse.symbol.Paren",Ext.parse.Symbol,{arity:"binary",isBinary:true,priority:80,led:function(n){var o=this,k=[],l=o.parser,m=n.id,p=n.arity;if(m!=="."&&m!=="["){if((p!=="unary"||m!=="function")&&p!=="ident"&&m!=="("&&m!=="&&"&&m!=="||"&&m!=="?"){l.syntaxError(n.at,"Expected a variable name.")}}o.arity="invoke";o.isInvoke=true;o.operand=n;o.args=k;while(l.token.id!==")"){if(k.length){l.advance(",")}k.push(l.parseExpression())}l.advance(")");return o},nud:function(){var f=this.parser,d=f.parseExpression();f.advance(")");return d}},0,0,0,0,0,0,[Ext.parse.symbol,"Paren"],0));(Ext.cmd.derive("Ext.parse.symbol.Prefix",Ext.parse.Symbol,{arity:"unary",isUnary:true,priority:70,nud:function(){var c=this;c.operand=c.parser.parseExpression(c.priority);c.arity="unary";c.isUnary=true;return c}},0,0,0,0,0,0,[Ext.parse.symbol,"Prefix"],0));(Ext.cmd.derive("Ext.parse.Parser",Ext.util.Fly,function(){var c=function(){return this};return{isParser:true,config:{constants:{"null":null,"false":false,"true":true},infix:{"+":50,"-":50,"*":60,"/":60},infixRight:{"&&":30,"||":30},prefix:{"!":0,"-":0,"+":0},symbols:{":":0,",":0,")":0,"[":0,"]":0,"{":0,"}":0,"(end)":0,"(ident)":{arity:"ident",isIdent:true,nud:c},"(literal)":{arity:"literal",isLiteral:true,nud:c},"(":{xclass:"Ext.parse.symbol.Paren"}},tokenizer:{keywords:null}},token:null,constructor:function(b){this.symbols={};this.initConfig(b)},advance:function(r){var p=this,b=p.tokenizer,u=b.peek(),w=p.symbols,q=b.index,s,v,o;if(p.error){throw p.error}if(r){p.expect(r)}if(!u){return p.token=w["(end)"]}b.next();s=u.is;o=u.value;if(s.ident){v=w[o]||w["(ident)"]}else{if(s.operator){if(!(v=w[o])){p.syntaxError(u.at,'Unknown operator "'+o+'"')}}else{if(s.literal){v=w["(literal)"]}else{p.syntaxError(u.at,"Unexpected token")}}}p.token=v=Ext.Object.chain(v);v.at=q;v.value=o;if(!v.arity){v.arity=u.type}return v},expect:function(b){var f=this.token;if(b!==f.id){this.syntaxError(f.at,'Expected "'+b+'"')}return this},parseExpression:function(l){var j=this,k=j.token,b;l=l||0;j.advance();b=k.nud();while(l<(k=j.token).priority){j.advance();b=k.led(b)}return b},reset:function(j,b,l){var k=this;k.error=k.token=null;k.tokenizer.reset(j,b,l);k.advance();return k},syntaxError:function(l,j){if(typeof l==="string"){j=l;l=this.pos}var b=(l==null)?"":(" (at index "+l+")"),k=new Error(j+b);k.type="error";if(b){k.at=l}throw this.error=k},privates:{error:null,addSymbol:function(w,s,b,q){var v=this.symbols,r=v[w],o,u,p;if(r){if(typeof s==="object"){o=s}else{if(q&&b){q=Ext.Array.from(q);u=q.length;o={};for(p=0;p<u;p++){o[q[p]]=b.prototype[q[p]]}}else{return r}}r.update(o)}else{if(s&&s.xclass){b=Ext.ClassManager.get(s.xclass)}else{b=b||Ext.parse.Symbol}v[w]=r=new b(w,s);r.parser=this}return r},addSymbols:function(l,k,b){for(var j in l){this.addSymbol(j,l[j],k,b)}},applyConstants:function(b){this.addSymbols(b,Ext.parse.symbol.Constant,"nud")},applyInfix:function(b){this.addSymbols(b,Ext.parse.symbol.Infix,"led")},applyInfixRight:function(b){this.addSymbols(b,Ext.parse.symbol.InfixRight,"led")},applyPrefix:function(b){this.addSymbols(b,Ext.parse.symbol.Prefix,"nud")},applySymbols:function(b){this.addSymbols(b)},applyTokenizer:function(b){var f=b;if(b&&!b.isTokenizer){f=new Ext.parse.Tokenizer(b)}this.tokenizer=f}}}},1,0,0,0,0,0,[Ext.parse,"Parser"],0));(Ext.cmd.derive("Ext.app.bind.Parser",Ext.parse.Parser,{infix:{":":{priority:70,led:function(f){var d=this;d.arity="formatter";d.operand=f;d.fmt=d.parser.parseFmt();return d}},"?":{priority:20,led:function(l){var n=this,k=n.parser,m=k.symbols[":"],j;n.condition=l;j=m.priority;m.priority=0;n.tv=k.parseExpression(0);n.parser.advance(":");m.priority=j;n.fv=k.parseExpression(0);n.arity="ternary";return n}},"===":40,"!==":40,"==":40,"!=":40,"<":40,"<=":40,">":40,">=":40},symbols:{"(":{nud:function(){var j=this.parser,k=j.symbols[":"],l,g;g=k.priority;k.priority=70;l=j.parseExpression();j.advance(")");k.priority=g;return l}}},prefix:{"@":0},tokenizer:{operators:{"@":"at","?":"qmark","===":"feq","!==":"fneq","==":"eq","!=":"neq","<":"lt","<=":"lte",">":"gt",">=":"gte","&&":"and","||":"or"}},compileExpression:function(k,l){var m=this,j,n;m.tokens=k;m.tokensMap=l;n=m.parseSlot(m.parseExpression(),j);m.tokens=m.tokensMap=null;return n},compileFormat:function(){var c;c=this.parseSlot({arity:"formatter",fmt:this.parseFmt(),operand:{arity:"ident",value:"dummy"}});this.expect("(end)");return c},privates:{useEval:Ext.isGecko,escapeRe:/("|'|\\)/g,parseFmt:function(){var k=this,g=[],l=k.symbols[":"].priority,j;do{if(g.length){k.advance()}j=k.parseExpression(l);if(j.isIdent||j.isInvoke){g.push(j)}else{k.syntaxError(j.at,"Expected formatter name")}}while(k.token.id===":");return g},parseSlot:function(q,B){var s=this,x=[],v=[],u=s.tokens||[],r,A,w,y,p;s.definitions=x;s.body=v;v.push("return "+s.compile(q)+";");y=u.length;A="var fm = Ext.util.Format,\nme,";p="var a = Ext.Array.from(values);\nme = scope;\n";if(u.length){for(w=0;w<y;w++){A+="v"+w+((w==y-1)?";":",");p+="v"+w+" = a["+w+"]; "}}else{A+="v0;";p+="v0 = a[0];"}x=Ext.Array.insert(x,0,[A]);v=Ext.Array.insert(v,0,[p]);v=v.join("\n");x.push((s.useEval?"$=":"return")+" function (values, scope) {",v,"}");A=x.join("\n");r=s.useEval?s.evalFn(A):(new Function("Ext",A))(Ext);s.definitions=s.body=null;return r},compile:function(g){var j=this,f;switch(g.arity){case"ident":return j.addToken(g.value);case"literal":f=g.value;return(typeof f==="string")?'"'+String(f).replace(j.escapeRe,"\\$1")+'"':f;case"unary":return j.compileUnary(g);case"binary":return j.compileBinary(g);case"ternary":return j.compileTernary(g);case"formatter":return j.compileFormatter(g)}return this.syntaxError(g.at,"Compile error! Unknown symbol")},compileUnary:function(j){var f=j.value,g=j.operand;if(f==="!"||f==="-"||f==="+"){return f+"("+this.compile(g)+")"}else{if(f==="@"){if(!g.isIdent){return this.syntaxError(j.at,"Compile error! Unexpected symbol")}return g.value}}return""},compileBinary:function(c){return"("+this.compile(c.lhs)+" "+c.value+" "+this.compile(c.rhs)+")"},compileTernary:function(c){return"("+this.compile(c.condition)+" ? "+this.compile(c.tv)+" : "+this.compile(c.fv)+")"},compileFormatter:function(l){var m=this,p=l.fmt,n=p.length,k=["var ret;"],o;if(p.length){k.push("ret = "+m.compileFormatFn(p[0],m.compile(l.operand))+";");for(o=1;o<n;o++){k.push("ret = "+m.compileFormatFn(p[o],"ret")+";")}}k.push("return ret;");return m.addFn(k.join("\n"))},compileFormatFn:function(m,n){var l,r=[],o="",p,q;if(m.isIdent){l=m.value}else{if(m.isInvoke){l=m.operand.value;r=m.args}}if(l.substring(0,5)==="this."){l="me."+l.substring(5)}else{if(!(l in Ext.util.Format)){return this.syntaxError(m.at,'Compile error! Invalid format specified "'+l+'"')}l="fm."+l}o+=n;p=r.length;for(q=0;q<p;q++){o+=", "+this.compile(r[q])}return l+"("+o+")"},addFn:function(j){var f=this.definitions,g="f"+f.length;f.push("function "+g+"() {",j,"}");return g+"()"},evalFn:function($){eval($);return $},addToken:function(g){var l=this.tokensMap,k=this.tokens,j=0;if(l&&k){if(g in l){j=l[g]}else{l[g]=j=k.length;k.push(g)}}return"v"+j}}},0,0,0,0,0,0,[Ext.app.bind,"Parser"],0));(Ext.cmd.derive("Ext.app.bind.Template",Ext.Base,{buffer:null,slots:null,tokens:null,constructor:function(j){var k=this,l=k._initters,g;k.text=j;for(g in l){k[g]=l[g]}},_initters:{apply:function(d,f){return this.parse().apply(d,f)},getTokens:function(){return this.parse().getTokens()}},apply:function(u,q){var o=this,r=o.slots,m=o.buffer,p=r.length,s,n;for(s=0;s<p;++s){n=r[s];if(n){m[s]=n(u,q)}}if(n&&o.single){return m[0]}return m.join("")},getTokens:function(){return this.tokens},isStatic:function(){var f=this.getTokens(),d=this.slots;return(f.length===0&&d.length===0)},privates:{parse:function(){var q=this,n=q.text,w=Ext.app.bind.Parser.fly(),u=(q.buffer=[]),r=(q.slots=[]),o=0,v=n.length,p=0,s;for(s in q._initters){delete q[s]}q.tokens=[];q.tokensMap={};for(s=0;s<v;){o=s;if((s=n.indexOf("{",o))<0){u[p++]=n.substring(o);break}if(o<s){u[p++]=n.substring(o,s)}w.reset(n,s+1);r[p++]=w.compileExpression(q.tokens,q.tokensMap);s=w.token.at+1;w.expect("}")}w.release();q.single=u.length===0&&r.length===1;return q}}},1,0,0,0,0,0,[Ext.app.bind,"Template"],0));(Ext.cmd.derive("Ext.app.bind.TemplateBinding",Ext.app.bind.BaseBinding,{isTemplateBinding:true,lastValue:undefined,value:undefined,constructor:function(q,m,n,r,s){var p=this,u=new Ext.app.bind.Template(q),o=u.getTokens();Ext.app.bind.BaseBinding.prototype.constructor.call(this,m,n,r,s);p.tpl=u;p.tokens=o;o.$literal=true;if(!u.isStatic()){p.multiBinding=new Ext.app.bind.Multi(o,m,p.onBindData,p)}else{p.isStatic=true;p.onData(u.text)}},destroy:function(){var c=this;Ext.destroy(c.multiBinding);c.tpl=c.multiBinding=null;Ext.app.bind.BaseBinding.prototype.destroy.call(this)},getFullName:function(){var c=this.multiBinding;return this.fullName||(this.fullName="$"+(c?c.getFullName():Ext.app.bind.BaseBinding.prototype.getFullName.call(this)))},getRawValue:function(){return this.value},getTemplateScope:function(){return null},isDescendantOf:function(){return false},isLoading:function(){var c=this.multiBinding;return c?c.isLoading():false},onBindData:function(c){this.onData(this.tpl.apply(c,this.getTemplateScope()))},onData:function(g){var j=this,f=j.value;if(f!==(j.value=g)){j.lastValue=f;j.schedule()}},react:function(){this.notify(this.value)},refresh:function(){var c=this.multiBinding;if(c){c.refresh()}},privates:{sort:function(){var c=this.multiBinding;if(c){this.scheduler.sortItem(c)}}}},1,0,0,0,0,0,[Ext.app.bind,"TemplateBinding"],0));(Ext.cmd.derive("Ext.data.ChainedStore",Ext.data.AbstractStore,{config:{source:null,remoteFilter:false,remoteSort:false},remove:function(){var c=this.getSource();return c.remove.apply(c,arguments)},removeAll:function(){var c=this.getSource();return c.removeAll()},getData:function(){var d=this,f=d.data;if(!f){d.data=f=d.constructDataCollection()}return f},getTotalCount:function(){return this.getCount()},getSession:function(){return this.getSource().getSession()},applySource:function(c){if(c){c=Ext.data.StoreManager.lookup(c)}return c},updateSource:function(j,l){var g=this,k;if(l&&!l.destroyed){l.removeObserver(g)}if(j){k=g.getData();k.setSource(j.getData());if(!g.isInitializing){g.fireEvent("refresh",g);g.fireEvent("datachanged",g)}j.addObserver(g)}},getModel:function(){return this.getSource().getModel()},getProxy:function(){return null},onCollectionAdd:function(l,m){var n=this,j=m.items,k=!m.next;if(n.ignoreCollectionAdd){return}n.fireEvent("add",n,j,m.at);if(k){n.fireEvent("datachanged",n)}},onCollectionItemChange:function(l,m){var n=this,k=m.item,o=m.modified||null,p=m.meta;n.onUpdate(k,p,o,m);n.fireEvent("update",n,k,p,o,m)},onCollectionUpdateKey:function(f,d){this.fireEvent("idchanged",this,d.item,d.oldKey,d.newKey)},onUpdate:Ext.emptyFn,onCollectionRemove:function(l,m){var n=this,j=m.items,k=!m.next;if(n.ignoreCollectionRemove){return}n.fireEvent("remove",n,j,m.at,false);if(k){n.fireEvent("datachanged",n)}},onSourceBeforeLoad:function(f,d){this.fireEvent("beforeload",this,d)},onSourceAfterLoad:function(k,l,j,g){this.fireEvent("load",this,l,j,g)},onFilterEndUpdate:function(){Ext.data.AbstractStore.prototype.onFilterEndUpdate.apply(this,arguments);this.callObservers("Filter")},onSourceBeforePopulate:function(){this.ignoreCollectionAdd=true;this.callObservers("BeforePopulate")},onSourceAfterPopulate:function(){var c=this;c.ignoreCollectionAdd=false;c.fireEvent("datachanged",c);c.fireEvent("refresh",c);this.callObservers("AfterPopulate")},onSourceBeforeClear:function(){this.ignoreCollectionRemove=true;this.callObservers("BeforeClear")},onSourceAfterClear:function(){this.ignoreCollectionRemove=false;this.callObservers("AfterClear")},onSourceBeforeRemoveAll:function(){this.ignoreCollectionRemove=true;this.callObservers("BeforeRemoveAll")},onSourceAfterRemoveAll:function(g,f){var j=this;j.ignoreCollectionRemove=false;if(!f){j.fireEvent("clear",j);j.fireEvent("datachanged",j)}this.callObservers("AfterRemoveAll",[f])},onSourceFilter:function(){var c=this;c.fireEvent("refresh",c);c.fireEvent("datachanged",c)},hasPendingLoad:function(){return this.getSource().hasPendingLoad()},isLoaded:function(){return this.getSource().isLoaded()},isLoading:function(){return this.getSource().isLoading()},doDestroy:function(){var c=this;c.observers=null;c.setSource(null);c.getData().destroy(true);c.data=null;Ext.data.AbstractStore.prototype.doDestroy.call(this)},privates:{isMoving:function(){var c=this.getSource();return c.isMoving?c.isMoving.apply(c,arguments):false},loadsSynchronously:function(){return this.getSource().loadsSynchronously()}}},0,0,0,0,["store.chained"],[[Ext.data.LocalStore.prototype.mixinId||Ext.data.LocalStore.$className,Ext.data.LocalStore]],[Ext.data,"ChainedStore"],0));(Ext.cmd.derive("Ext.app.ViewModel",Ext.Base,{isViewModel:true,factoryConfig:{name:"viewModel"},collectTimeout:100,expressionRe:/^(?:\{(?:(\d+)|([a-z_][\w\-\.]*))\})$/i,$configStrict:false,config:{data:true,formulas:{$value:null,merge:function(j,g,k,l){return this.mergeNew(j,g,k,l)}},links:null,parent:null,root:true,scheduler:null,schema:"default",session:null,stores:null,view:null},constructor:function(c){this.bindings={};this.initConfig(c)},destroy:function(){var s=this,v=s._scheduler,o=s.storeInfo,q=s.getParent(),w=s.collectTask,x=s.children,y=s.bindings,p,r,u;s.destroying=true;if(w){w.cancel();s.collectTask=null}if(x){for(p in x){x[p].destroy()}}if(o){for(p in o){r=o[p];u=r.autoDestroy;if(u||(!r.$wasInstance&&u!==false)){r.destroy()}Ext.destroy(r.$binding)}}if(q){q.unregisterChild(s)}s.getRoot().destroy();for(p in y){y[p].destroy()}if(v&&v.$owner===s){v.$owner=null;v.destroy()}s.children=s.storeInfo=s._session=s._view=s._scheduler=s.bindings=s._root=s._parent=s.formulaFn=s.$formulaData=null;s.destroying=false;s.callParent()},bind:function(o,m,q,r){var p=this,l=true,n;q=q||p;if(!r&&o.bindTo!==undefined&&!Ext.isString(o)){r=o;o=r.bindTo}if(!Ext.isString(o)){n=new Ext.app.bind.Multi(o,p,m,q,r)}else{if(p.expressionRe.test(o)){o=o.substring(1,o.length-1);n=p.bindExpression(o,m,q,r);l=false}else{n=new Ext.app.bind.TemplateBinding(o,p,m,q,r)}}if(l){p.bindings[n.id]=n}return n},getSession:function(){var j=this,g=j._session,f;if(!g&&(f=j.getParent())){j.setSession(g=f.getSession())}return g||null},getStore:function(j){var g=this.storeInfo,f;if(g){f=g[j]}return f||null},linkTo:function(n,s){var o=this,u,q,w,v,p,r;if(s.isModel){s={type:s.entityName,id:s.id}}v=s.type||s.reference;q=s.create;if(v){w=s.id;if(q){w=undefined}r=o.getRecord(v,w);if(Ext.isObject(q)){r.set(q);r.commit();r.phantom=true}u=o.getRoot().createStubChild(n);u.set(r)}else{u=o.getStub(n);if(!u.isLinkStub){p=new Ext.app.bind.LinkStub(o,u.name);u.graft(p);u=p}u.link(s)}},notify:function(){var c=this.getScheduler();if(!c.firing){c.notify()}},get:function(c){return this.getStub(c).getValue()},set:function(k,n){var j=this,l,m;j.getData();if(n===undefined&&k&&k.constructor===Object){m=j.getRoot();n=k}else{if(k&&k.indexOf(".")<0){l={};l[k]=n;n=l;m=j.getRoot()}else{m=j.getStub(k)}}m.set(n)},privates:{registerChild:function(f){var d=this.children;if(!d){this.children=d={}}d[f.getId()]=f},unregisterChild:function(f){var d=this.children;if(!this.destroying&&d){delete d[f.getId()]}},getRecord:function(p,l){var n=this.getSession(),m=p,o=l!==undefined,k;if(n){if(o){k=n.getRecord(p,l)}else{k=n.createRecord(p)}}else{if(!m.$isClass){m=this.getSchema().getEntity(m)}if(o){k=m.createWithId(l);k.load()}else{k=new m()}}return k},bindExpression:function(l,k,n,j){var m=this.getStub(l);return m.bind(k,n,j)},applyScheduler:function(c){if(c&&!c.isInstance){c=new Ext.util.Scheduler(c);c.$owner=this}return c},getScheduler:function(){var g=this,f=g._scheduler,j;if(!f){if(!(j=g.getParent())){f=new Ext.util.Scheduler({preSort:"kind,-depth"});f.$owner=g}else{f=j.getScheduler()}g.setScheduler(f)}return f},getStub:function(f){var d=this.getRoot();return f?d.getChild(f):d},collect:function(){var g=this,j=g.getParent(),f=g.collectTask;if(j){j.collect();return}if(!f){f=g.collectTask=new Ext.util.DelayedTask(g.doCollect,g)}if(g.collectTimeout===0){g.doCollect()}else{f.delay(g.collectTimeout)}},doCollect:function(){var f=this.children,d;if(f){for(d in f){f[d].doCollect()}}this.getRoot().collect()},onBindDestroy:function(j,g){var k=this,l;if(k.destroying){return}if(!g){delete k.bindings[j.id]}l=k.getParent();if(l){l.onBindDestroy(j,true)}else{k.collect()}},applyData:function(m,k){var l=this,j,n;l.getSession();if(!k){n=l.getParent();l.linkData=j=n?Ext.Object.chain(n.getData()):{};l.data=l._data=Ext.Object.chain(j)}if(m&&m.constructor===Object){l.getRoot().set(m)}},applyParent:function(c){if(c){c.registerChild(this)}return c},applyStores:function(s){var p=this,u=p.getRoot(),r,m,n,o,q;p.storeInfo={};p.listenerScopeFn=function(){return p.getView().getInheritedConfig("defaultListenerScope")};for(r in s){m=s[r];if(m.isStore){m.$wasInstance=true;p.setupStore(m,r);continue}else{if(Ext.isString(m)){m={source:m}}else{m=Ext.apply({},m)}}q=m.listeners;delete m.listeners;n=p.bind(m,p.onStoreBind,p,{trackStatics:true});if(n.isStatic()){n.destroy();p.createStore(r,m,q)}else{n.$storeKey=r;n.$listeners=q;o=u.createStubChild(r);o.setStore(n)}}},onStoreBind:function(l,q,m){var n=this.storeInfo,o=m.$storeKey,r=n[o],p;if(!r){this.createStore(o,l,m.$listeners,m)}else{l=Ext.merge({},m.pruneStaticKeys());p=l.proxy;delete l.type;delete l.model;delete l.fields;delete l.proxy;delete l.listeners;if(p){delete p.reader;delete p.writer;r.getProxy().setConfig(p)}r.setConfig(l)}},createStore:function(o,k,n,l){var m=this.getSession(),p;k=Ext.apply({},k);if(k.session){k.session=m}if(k.source){k.type=k.type||"chained"}k.listeners=n;k.resolveListenerScope=this.listenerScopeFn;p=Ext.Factory.store(k);p.$binding=l;this.setupStore(p,o)},setupStore:function(d,f){d.resolveListenerScope=this.listenerScopeFn;this.storeInfo[f]=d;this.set(f,d)},applyFormulas:function(m){var l=this,j=l.getRoot(),n,k;l.getData();for(n in m){j.createStubChild(n);k=l.getStub(n);k.setFormula(m[n])}return m},applyLinks:function(d){for(var f in d){this.linkTo(f,d[f])}},applySchema:function(c){return Ext.data.schema.Schema.get(c)},applyRoot:function(){var d=new Ext.app.bind.RootStub(this),f=this.getParent();if(f){d.depth=f.getRoot().depth-1000}return d},getFormulaFn:function(g){var j=this,f=j.formulaFn;if(!f){f=j.formulaFn=function(b){return j.$formulaData[b]}}j.$formulaData=g;return f}}},1,0,0,0,["viewmodel.default"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable],[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.app,"ViewModel"],0));(Ext.cmd.derive("Ext.app.domain.Controller",Ext.app.EventDomain,{singleton:true,type:"controller",prefix:"controller.",idMatchRe:/^\#/,constructor:function(){var c=this;c.callParent();c.monitor(Ext.app.BaseController)},match:function(j,l){var g=false,k=j.alias;if(l==="*"){g=true}else{if(l==="#"){g=!!j.isApplication}else{if(this.idMatchRe.test(l)){g=j.getId()===l.substring(1)}else{if(k){g=Ext.Array.indexOf(k,this.prefix+l)>-1}}}}return g}},1,0,0,0,0,0,[Ext.app.domain,"Controller"],0));(Ext.cmd.derive("Ext.data.PageMap",Ext.util.LruCache,{config:{store:null,pageSize:0,rootProperty:""},clear:function(d){var f=this;f.pageMapGeneration=(f.pageMapGeneration||0)+1;f.indexMap={};Ext.util.LruCache.prototype.clear.call(this,d)},forEach:function(r,j){var u=this,x=Ext.Object.getKeys(u.map),B=x.length,s=u.getPageSize(),y,A,q,v,w;for(y=0;y<B;y++){x[y]=+x[y]}Ext.Array.sort(x,Ext.Array.numericSortFn);j=j||u;for(y=0;y<B;y++){q=x[y];v=u.getPage(q);w=v.length;for(A=0;A<w;A++){if(r.call(j,v[A],(q-1)*s+A)===false){return}}}},findBy:function(k,l){var j=this,g=null;l=l||j;j.forEach(function(b,c){if(k.call(l,b,c)){g=b;return false}});return g},findIndexBy:function(k,l){var j=this,g=-1;l=l||j;j.forEach(function(b,c){if(k.call(l,b)){g=c;return false}});return g},find:function(o,p,n,r,s,u){if(Ext.isEmpty(p,false)){return null}var q=Ext.String.createRegex(p,r,s,u),m=this.getRootProperty();return this.findBy(function(b){return b&&q.test((m?b[m]:b)[o])},null,n)},findIndex:function(o,p,n,r,s,u){if(Ext.isEmpty(p,false)){return null}var q=Ext.String.createRegex(p,r,s,u),m=this.getRootProperty();return this.findIndexBy(function(b){return b&&q.test((m?b[m]:b)[o])},null,n)},getPageFromRecordIndex:function(c){return Math.floor(c/this.getPageSize())+1},addAll:function(c){this.addPage(1,c)},addPage:function(p,B){var r=this,q=r.getPageSize(),y=p+Math.floor((B.length-1)/q),s=(p-1)*q,v=r.indexMap,w,A,x,u;for(u=0;p<=y;p++,u+=q){w=Ext.Array.slice(B,u,u+q);for(A=0,x=w.length;A<x;A++){v[w[A].internalId]=s++}r.add(p,w);r.fireEvent("pageadd",r,p,w)}},getCount:function(){var c=Ext.util.LruCache.prototype.getCount.call(this);if(c){c=(c-1)*this.getPageSize()+this.last.value.length}return c},getByInternalId:function(d){var f=this.indexMap[d];if(f!=null){return this.getAt(f)}},indexOf:function(f){var d=-1;if(f){d=this.indexMap[f.internalId];if(d==null){d=-1}}return d},insert:function(){},remove:function(){},removeAt:function(){},removeAtKey:function(l){var m=this,o=m.getPage(l),p,n,k;if(o){if(m.fireEvent("beforepageremove",m,l,o)!==false){p=o.length;for(n=0;n<p;n++){delete m.indexMap[o[n].internalId]}k=Ext.util.LruCache.prototype.removeAtKey.apply(this,arguments);m.fireEvent("pageremove",m,l,o);o.length=0}}return k},getPage:function(c){return this.get(c)},hasRange:function(k,n){var m=this,j=m.getPageFromRecordIndex(k),l=m.getPageFromRecordIndex(n);for(;j<=l;j++){if(!m.hasPage(j)){return false}}return(l-1)*m._pageSize+m.getPage(l).length>n},hasPage:function(c){return !!this.get(c)},peekPage:function(c){return this.map[c]},getAt:function(c){return this.getRange(c,c+1)[0]},getRange:function(H,G){G--;if(!this.hasRange(H,G)){Ext.raise("PageMap asked for range which it does not have")}var B=this,E=Ext.Array,A=B.getPageSize(),w=B.getPageFromRecordIndex(H),D=B.getPageFromRecordIndex(G),F=(w-1)*A,u=(D*A)-1,y=w,s=[],v,C,x;for(;y<=D;y++){if(y===w){v=H-F;x=v>0}else{v=0;x=false}if(y===D){C=A-(u-G);x=x||C<A}if(x){E.push(s,E.slice(B.getPage(y),v,C))}else{E.push(s,B.getPage(y))}}return s}},0,0,0,0,0,0,[Ext.data,"PageMap"],0));(Ext.cmd.derive("Ext.data.BufferedStore",Ext.data.ProxyStore,{isBufferedStore:true,buffered:true,config:{data:0,pageSize:25,remoteSort:true,remoteFilter:true,sortOnLoad:false,purgePageCount:5,trailingBufferZone:25,leadingBufferZone:200,defaultViewSize:100,viewSize:0,trackRemoved:false},applyData:function(f){var d=this.data||(this.data=this.createDataCollection());return d},applyProxy:function(c){c=Ext.data.ProxyStore.prototype.applyProxy.call(this,c);if(c&&c.setEnablePaging){c.setEnablePaging(true)}return c},applyAutoSort:function(){},createFiltersCollection:function(){return new Ext.util.FilterCollection()},createSortersCollection:function(){return new Ext.util.SorterCollection()},updateGroupField:function(c){this.group(c)},getGrouper:function(){return this.grouper},isGrouped:function(){return !!this.grouper},createDataCollection:function(){var f=this,d=new Ext.data.PageMap({store:f,rootProperty:"data",pageSize:f.getPageSize(),maxSize:f.getPurgePageCount(),listeners:{clear:f.onPageMapClear,scope:f}});f.relayEvents(d,["beforepageremove","pageadd","pageremove"]);f.pageRequests={};return d},removeAll:function(f){var j=this,g=j.getData();if(g){if(f){j.suspendEvent("clear")}g.clear();if(f){j.resumeEvent("clear")}}},flushLoad:function(){var f=this,d=f.pendingLoadOptions;f.clearLoadTask();if(!d){return}f.getData().clear();d.page=1;d.start=0;d.limit=f.getViewSize()||f.getDefaultViewSize();d.loadCallback=d.callback;d.callback=null;return f.loadToPrefetch(d)},reload:function(q){var w=this,y=w.getData(),u=Number.MAX_VALUE,v,C,x,r,A,D,s,B;if(!q){q={}}if(w.loading||w.fireEvent("beforeload",w,q)===false){return}D=function(){var b=w.totalCount,c=C-v;if(C>=b){C=b-1;v=Math.max(C-c,0)}if(w.rangeCached(v,C,false)){w.loadCount=(w.loadCount||0)+1;w.loading=false;y.un("pageadd",D);B=y.getRange(v,C);w.fireEvent("load",w,B,true);w.fireEvent("refresh",w)}};s=Math.ceil((w.getLeadingBufferZone()+w.getTrailingBufferZone())/2);if(w.lastRequestStart&&w.preserveScrollOnReload){v=w.lastRequestStart;C=w.lastRequestEnd;u=w.getTotalCount()}else{v=q.start||0;C=v+(q.count||w.getPageSize())-1}y.clear(true);delete w.totalCount;v=Math.max(v-s,0);C=Math.min(C+s,u);v=v===0?0:v-1;C=C===u?C:C+1;x=w.getPageFromRecordIndex(v);r=w.getPageFromRecordIndex(C);w.loading=true;q.waitForReload=D;y.on("pageadd",D);for(A=x;A<=r;A++){w.prefetchPage(A,q)}},filter:function(){Ext.data.ProxyStore.prototype.filter.apply(this,arguments)},filterBy:function(f,d){},loadData:function(f,d){},loadPage:function(g,f){var j=this;f=f||{};f.page=j.currentPage=g;f.start=(g-1)*j.getPageSize();f.limit=j.getViewSize()||j.getDefaultViewSize();f.loadCallback=f.callback;f.callback=null;return j.loadToPrefetch(f)},clearData:function(g){var f=this,j=f.getData();if(j){j.clear()}},getCount:function(){return this.totalCount||0},getRange:function(C,y,s){var u=this,B=u.totalCount-1,A=u.lastRequestStart,r=[],x=u.getData(),D,v,E,F,w;s=Ext.apply({prefetchStart:C,prefetchEnd:y},s);y=(y>=u.totalCount)?B:y;if(s.forRender!==false){v=C===0?0:C-1;E=y===B?y:y+1}else{v=C;E=y}u.lastRequestStart=C;u.lastRequestEnd=y;if(u.rangeCached(C,y,s.forRender)){u.onRangeAvailable(s);r=x.getRange(C,y+1)}else{u.fireEvent("cachemiss",u,C,y);F=u.getPageFromRecordIndex(v);w=u.getPageFromRecordIndex(E);D=function(d,b,c){if(b>=F&&b<=w&&u.rangeCached(C,y)){u.fireEvent("cachefilled",u,C,y);x.un("pageadd",D);u.onRangeAvailable(s)}};x.on("pageadd",D);u.prefetchRange(C,y)}u.primeCache(C,y,C<A?-1:1);return r},getById:function(f){var d=this.data.findBy(function(b){return b.getId()===f});return d},getAt:function(d){var f=this.getData();if(f.hasRange(d,d)){return f.getAt(d)}},getByInternalId:function(c){return this.data.getByInternalId(c)},contains:function(c){return this.indexOf(c)>-1},indexOf:function(c){return this.getData().indexOf(c)},indexOfId:function(c){return this.indexOf(this.getById(c))},group:function(l,j){var k=this,g;if(l&&typeof l==="string"){g=k.grouper;if(g&&j!==undefined){g.setDirection(j)}else{k.grouper=new Ext.util.Grouper({property:l,direction:j||"ASC",root:"data"})}}else{k.grouper=l?k.getSorters().decodeSorter(l,"Ext.util.Grouper"):null}k.getData().clear();k.loadPage(1,{callback:function(){k.fireEvent("groupchange",k,k.getGrouper())}})},getPageFromRecordIndex:function(c){return Math.floor(c/this.getPageSize())+1},calculatePageCacheSize:function(f){var g=this,j=g.getPurgePageCount();return j?Math.max(g.getData().getMaxSize()||0,Math.ceil((f+g.getTrailingBufferZone()+g.getLeadingBufferZone())/g.getPageSize())*2+j):0},loadToPrefetch:function(L){var A=this,I=L,E,J,x,y=L.start,K=L.start+L.limit-1,M=(A.getViewSize()||L.limit),D=Math.min(K,L.start+M-1),C=A.getPageFromRecordIndex(Math.max(y-A.getTrailingBufferZone(),0)),N=A.getPageFromRecordIndex(K+A.getLeadingBufferZone()),F=A.getData(),B=function(){J=J||[];if(L.loadCallback){L.loadCallback.call(L.scope||A,J,G,true)}if(L.callback){L.callback.call(L.scope||A,J,y||0,K||0,L)}},w=function(){A.loadCount=(A.loadCount||0)+1;A.fireEvent("datachanged",A);A.fireEvent("refresh",A);A.fireEvent("load",A,J,true)},H=function(){if(A.rangeCached(y,D)){A.loading=false;J=F.getRange(y,D+1);F.un("pageadd",H);if(A.hasListeners.guaranteedrange){A.guaranteeRange(y,D,L.callback,L.scope)}B();w()}},G;F.setMaxSize(A.calculatePageCacheSize(M));if(A.fireEvent("beforeload",A,L)!==false){delete A.totalCount;A.loading=true;if(L.callback){I=Ext.apply({},L);delete I.callback}A.on("prefetch",function(c,d,b,f){G=f;if(b){if((x=A.getTotalCount())){F.on("pageadd",H);D=Math.min(D,x-1);N=A.getPageFromRecordIndex(Math.min(D+A.getLeadingBufferZone(),x-1));for(E=C+1;E<=N;++E){A.prefetchPage(E,I)}}else{B();w()}}else{A.loading=false;B();A.fireEvent("load",A,d,false)}},null,{single:true});A.prefetchPage(C,I)}},prefetch:function(n){var m=this,p=m.getPageSize(),l=m.getData(),o,k;if(p){if(m.lastPageSize&&p!=m.lastPageSize){Ext.raise("pageSize cannot be dynamically altered")}if(!l.getPageSize()){l.setPageSize(p)}}else{m.pageSize=l.setPageSize(p=n.limit)}m.lastPageSize=p;if(!n.page){n.page=m.getPageFromRecordIndex(n.start);n.start=(n.page-1)*p;n.limit=Math.ceil(n.limit/p)*p}k=m.pageRequests[n.page];if(!k||k.getOperation().pageMapGeneration!==l.pageMapGeneration){n=Ext.apply({action:"read",filters:m.getFilters().items,sorters:m.getSorters().items,grouper:m.getGrouper(),internalCallback:m.onProxyPrefetch,internalScope:m},n);o=m.createOperation("read",n);o.pageMapGeneration=l.pageMapGeneration;if(m.fireEvent("beforeprefetch",m,o)!==false){m.pageRequests[n.page]=o.execute();if(m.getProxy().isSynchronous){delete m.pageRequests[n.page]}}}return m},onPageMapClear:function(){var m=this,n=m.wasLoading,j=m.pageRequests,k=m.getData(),l;k.clearListeners();k.on("clear",m.onPageMapClear,m);m.relayEvents(k,["beforepageremove","pageadd","pageremove"]);m.loading=true;m.totalCount=0;for(l in j){if(j.hasOwnProperty(l)){j[l].getOperation().abort()}}m.fireEvent("clear",m);m.loading=n},prefetchPage:function(m,p){var n=this,k=n.getPageSize(),l=(m-1)*k,o=n.totalCount;if(o!==undefined&&n.data.getCount()===o){return}n.prefetch(Ext.applyIf({page:m,start:l,limit:k},p))},onProxyPrefetch:function(x){if(this.destroying||this.destroyed){return}var s=this,r=x.getResultSet(),y=x.getRecords(),v=x.wasSuccessful(),u=x.getPage(),A=x.waitForReload,p=s.totalCount,B=s.pageRequests,q,w;if(x.pageMapGeneration===s.getData().pageMapGeneration){if(r){s.totalCount=r.getTotal();if(s.totalCount!==p){s.fireEvent("totalcountchange",s.totalCount)}}if(u!==undefined){delete s.pageRequests[u]}s.loading=false;s.fireEvent("prefetch",s,y,v,x);if(v){if(s.totalCount===0){if(A){for(q in B){w=B[q].getOperation();if(w.waitForReload===A){delete w.waitForReload}}s.getData().un("pageadd",A);s.fireEvent("load",s,[],true);s.fireEvent("refresh",s)}}else{s.cachePage(y,x.getPage())}}Ext.callback(x.getCallback(),x.getScope()||s,[y,x,v])}},cachePage:function(n,k){var l=this,j=n.length,m;if(!Ext.isDefined(l.totalCount)){l.totalCount=n.length;l.fireEvent("totalcountchange",l.totalCount)}for(m=0;m<j;m++){n[m].join(l)}l.getData().addPage(k,n)},rangeCached:function(k,j,l){var m=k,n=j;if(l!==false){m=k===0?0:k-1,n=j===this.totalCount-1?j:j+1}return this.getData().hasRange(m,n)},pageCached:function(c){return this.getData().hasPage(c)},pagePending:function(c){return !!this.pageRequests[c]},rangeSatisfied:function(f,d){return this.rangeCached(f,d)},onRangeAvailable:function(n){var m=this,p=m.getTotalCount(),l=n.prefetchStart,k=(n.prefetchEnd>p-1)?p-1:n.prefetchEnd,o;k=Math.max(0,k);o=m.getData().getRange(l,k+1);if(n.fireEvent!==false){m.fireEvent("guaranteedrange",o,l,k,n)}if(n.callback){n.callback.call(n.scope||m,o,l,k,n)}},guaranteeRange:function(k,j,l,m,n){n=Ext.apply({callback:l,scope:m},n);this.getRange(k,j+1,n)},prefetchRange:function(m,r){var p=this,q,l,n,o=p.getData();if(!p.rangeCached(m,r)){q=p.getPageFromRecordIndex(m);l=p.getPageFromRecordIndex(r);o.setMaxSize(p.calculatePageCacheSize(r-m+1));for(n=q;n<=l;n++){if(!p.pageCached(n)){p.prefetchPage(n)}}}},primeCache:function(n,s,o){var p=this,q=p.getLeadingBufferZone(),r=p.getTrailingBufferZone(),u=p.getPageSize(),m=p.totalCount;if(o===-1){n=Math.max(n-q,0);s=Math.min(s+r,m-1)}else{if(o===1){n=Math.max(Math.min(n-r,m-u),0);s=Math.min(s+q,m-1)}else{n=Math.min(Math.max(Math.floor(n-((q+r)/2)),0),m-p.pageSize);s=Math.min(Math.max(Math.ceil(s+((q+r)/2)),0),m-1)}}p.prefetchRange(n,s)},sort:function(j,f,g){if(arguments.length===0){this.clearAndLoad()}else{this.getSorters().addSort(j,f,g)}},onSorterEndUpdate:function(){var d=this,f=d.getSorters().getRange();if(f.length){d.fireEvent("beforesort",d,f);d.clearAndLoad({callback:function(){d.fireEvent("sort",d,f)}})}else{d.fireEvent("sort",d,f)}},clearAndLoad:function(d){var f=this;f.clearing=true;f.getData().clear();f.clearing=false;f.loadPage(1,d)},privates:{isLast:function(c){return this.indexOf(c)===this.getTotalCount()-1},isMoving:function(){return false}}},0,0,0,0,["store.buffered"],0,[Ext.data,"BufferedStore"],0));(Ext.cmd.derive("Ext.data.NodeInterface",Ext.Base,{statics:{decorate:function(p){var n=Ext.data.schema.Schema.lookupEntity(p),l=n.prototype,k,o,m;if(!n.prototype.isObservable){n.mixin(Ext.mixin.Observable.prototype.mixinId,Ext.mixin.Observable)}if(l.isNode){return}k=l.idProperty;o=n.getField(k);m=o.type;n.override(this.getPrototypeBody());n.addFields([{name:"parentId",type:m,defaultValue:null,allowNull:o.allowNull},{name:"index",type:"int",defaultValue:-1,persist:false,convert:null},{name:"depth",type:"int",defaultValue:0,persist:false,convert:null},{name:"expanded",type:"bool",defaultValue:false,persist:false,convert:null},{name:"expandable",type:"bool",defaultValue:true,persist:false,convert:null},{name:"checked",type:"auto",defaultValue:null,persist:false,convert:null},{name:"leaf",type:"bool",defaultValue:false},{name:"cls",type:"string",defaultValue:"",persist:false,convert:null},{name:"iconCls",type:"string",defaultValue:"",persist:false,convert:null},{name:"icon",type:"string",defaultValue:"",persist:false,convert:null},{name:"glyph",type:"string",defaultValue:"",persist:false,convert:null},{name:"root",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"isLast",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"isFirst",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"allowDrop",type:"boolean",defaultValue:true,persist:false,convert:null},{name:"allowDrag",type:"boolean",defaultValue:true,persist:false,convert:null},{name:"loaded",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"loading",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"href",type:"string",defaultValue:"",persist:false,convert:null},{name:"hrefTarget",type:"string",defaultValue:"",persist:false,convert:null},{name:"qtip",type:"string",defaultValue:"",persist:false,convert:null},{name:"qtitle",type:"string",defaultValue:"",persist:false,convert:null},{name:"qshowDelay",type:"int",defaultValue:0,persist:false,convert:null},{name:"children",type:"auto",defaultValue:null,persist:false,convert:null},{name:"visible",type:"boolean",defaultValue:true,persist:false},{name:"text",type:"string",persist:false}])},getPrototypeBody:function(){var d={idchanged:true,append:true,remove:true,move:true,insert:true,beforeappend:true,beforeremove:true,beforemove:true,beforeinsert:true,expand:true,collapse:true,beforeexpand:true,beforecollapse:true,sort:true},f={silent:true};return{isNode:true,firstChild:null,lastChild:null,parentNode:null,previousSibling:null,nextSibling:null,constructor:function(){var b=this;b.mixins.observable.constructor.call(b);b.callParent(arguments);b.childNodes=[];return b},createNode:function(y){var r=this,u=r.childType,b,q,w,c,s,v,x=r.self;if(!y.isModel){if(u){x=r.schema.getEntity(u)}else{b=r.getTreeStore();q=b&&b.getProxy().getReader();w=r.getProxy();c=w?w.getReader():null;s=!q||(c&&c.initialConfig.typeProperty)?c:q;if(s){v=s.getTypeProperty();if(v){x=s.getChildType(r.schema,y,v)}}}y=new x(y)}if(!y.childNodes){y.firstChild=y.lastChild=y.parentNode=y.previousSibling=y.nextSibling=null;y.childNodes=[]}return y},isLeaf:function(){return this.get("leaf")===true},setFirstChild:function(b){this.firstChild=b},setLastChild:function(b){this.lastChild=b},updateInfo:function(q,v){var p=this,u=p.phantom,b;q={silent:true,commit:q};if(v.depth!==p.data.depth){var c={depth:p.data.depth+1},w=p.childNodes,s=w.length,r;for(r=0;r<s;r++){w[r].set(c)}}b=p.set(v,q);p.phantom=u;return b},isLast:function(){return this.get("isLast")},isFirst:function(){return this.get("isFirst")},hasChildNodes:function(){return !this.isLeaf()&&this.childNodes.length>0},isExpandable:function(){var b=this;if(b.get("expandable")){return !(b.isLeaf()||(b.isLoaded()&&!b.phantom&&!b.hasChildNodes()))}return false},triggerUIUpdate:function(){this.callJoined("afterEdit",[])},appendChild:function(E,L,C){var b=this,B,c,y,M,I,J={isLast:true,parentId:b.getId(),depth:(b.data.depth||0)+1},K,F=b.getTreeStore(),G=F&&F.triStateCheckbox?1:false,H=F&&F.bulkUpdate,A,D,N;Ext.suspendLayouts();if(Ext.isArray(E)){c=E.length;K=new Array(c);b.callTreeStore("beginFill");for(B=0;B<c;B++){K[B]=b.appendChild(E[B],L,C)}b.callTreeStore("endFill",[K])}else{E=b.createNode(E);if(L!==true&&b.fireBubbledEvent("beforeappend",[b,E])===false){Ext.resumeLayouts(true);return false}y=b.childNodes.length;M=E.parentNode;if(M){if(L!==true&&E.fireBubbledEvent("beforemove",[E,M,b,y])===false){Ext.resumeLayouts(true);return false}if(M.removeChild(E,false,L,M.getTreeStore()===F)===false){Ext.resumeLayouts(true);return false}}F&&F.beginUpdate();y=b.childNodes.length;if(y===0){b.setFirstChild(E)}b.childNodes[y]=E;E.parentNode=b;E.nextSibling=null;b.setLastChild(E);I=b.childNodes[y-1];if(I){E.previousSibling=I;I.nextSibling=E;I.updateInfo(C,{isLast:false});if(!H){I.triggerUIUpdate()}}else{E.previousSibling=null}J.isFirst=y===0;J.index=y;N=E.updateInfo(C,J);if(b.isLeaf()){b.set("leaf",false)}if(!b.isLoaded()){if(H){b.data.loaded=true}else{b.set("loaded",true)}}else{if(b.childNodes.length===1&&!H){b.triggerUIUpdate()}}if(y&&b.childNodes[y-1].isExpanded()&&!H){b.childNodes[y-1].cascade(b.triggerUIUpdate)}if(F){F.registerNode(b,!H);if(H){F.registerNode(E)}}if(L!==true){b.fireBubbledEvent("append",[b,E,y]);if(M){E.fireBubbledEvent("move",[E,M,b,y])}}b.callTreeStore("onNodeAppend",[E,y]);if(N){E.callJoined("afterEdit",[N])}K=E;if(F){F.endUpdate()}}Ext.resumeLayouts(true);return K},getOwnerTree:function(){var b=this.getTreeStore();if(b){return b.ownerTree}},getTreeStore:function(){var b=this;while(b&&!b.treeStore){b=b.parentNode}return b&&b.treeStore},removeChild:function(y,B,F,b){var c=this,u=c.indexOf(y),w,x,D,A=c.getTreeStore(),C=A&&A.bulkUpdate,v,E=[];if(u===-1||(F!==true&&c.fireBubbledEvent("beforeremove",[c,y,!!b])===false)){return false}Ext.suspendLayouts();A&&A.beginUpdate();Ext.Array.erase(c.childNodes,u,1);if(c.firstChild===y){c.setFirstChild(y.nextSibling)}if(c.lastChild===y){c.setLastChild(y.previousSibling)}D=y.previousSibling;if(D){y.previousSibling.nextSibling=y.nextSibling}if(y.nextSibling){y.nextSibling.previousSibling=y.previousSibling;if(u===0){y.nextSibling.updateInfo(false,{isFirst:true})}for(w=u,x=c.childNodes.length;w<x;w++){c.childNodes[w].updateInfo(false,{index:w})}}else{if(D){D.updateInfo(false,{isLast:true});if(!C){if(D.isExpanded()){D.cascade(c.triggerUIUpdate)}else{D.triggerUIUpdate()}}}}if(!c.childNodes.length&&!C){c.triggerUIUpdate()}Ext.resumeLayouts(true);if(F!==true){v={parentNode:y.parentNode,previousSibling:y.previousSibling,nextSibling:y.nextSibling};c.callTreeStore("beforeNodeRemove",[[y],!!b,E]);y.previousSibling=y.nextSibling=y.parentNode=null;c.fireBubbledEvent("remove",[c,y,!!b,v]);c.callTreeStore("onNodeRemove",[[y],!!b,E])}if(B){y.erase(true)}else{y.clear()}if(!b){y.set({parentId:null,lastParentId:c.getId()},f)}if(A){A.endUpdate()}return y},copy:function(o,u,q){var b=this,r,p=[o],s=b.childNodes?b.childNodes.length:0,c;if(u&&u.isSession){p.push(u)}else{if(arguments.length<3){q=u}}r=b.callParent(p);if(q){for(c=0;c<s;c++){r.appendChild(b.childNodes[c].copy(undefined,true))}}return r},clear:function(k,l){var c=this,b;c.parentNode=c.previousSibling=c.nextSibling=null;if(k){c.firstChild=c.lastChild=c.childNodes=null}if(l){c.firstChild=c.lastChild=null;c.childNodes.length=0;if(c.data){c.data.children=null}}},drop:function(){var n=this,b=n.childNodes,q=n.parentNode,r,p,o,c=n.getTreeStore();n.callParent();if(q){q.removeChild(n)}else{if(n.get("root")){c.setRoot(null)}}c&&c.beginUpdate();for(p=0,r=b?b.length:0;p<r;p++){o=b[p];o.clear();o.drop()}c&&c.endUpdate()},erase:function(o){var c=this,b=c.childNodes,p=b&&b.length,n,m;c.remove();c.clear(true);c.callParent([o]);for(n=0;n<p;n++){m=b[n];m.parentNode=null;m.erase(o)}},insertBefore:function(C,x,H){var w=this,y=w.indexOf(x),b=C.parentNode,I=y,B,G,A,D=w.getTreeStore(),F=D&&D.bulkUpdate,c,J,E;if(!x){return w.appendChild(C)}if(C===x){return false}C=w.createNode(C);if(H!==true&&w.fireBubbledEvent("beforeinsert",[w,C,x])===false){return false}if(b===w&&w.indexOf(C)<y){I--}if(b){if(H!==true&&C.fireBubbledEvent("beforemove",[C,b,w,y,x])===false){return false}if(b.removeChild(C,false,H,b.getTreeStore()===D)===false){return false}}D&&D.beginUpdate();if(I===0){w.setFirstChild(C)}Ext.Array.splice(w.childNodes,I,0,C);C.parentNode=w;C.nextSibling=x;x.previousSibling=C;G=w.childNodes[I-1];if(G){C.previousSibling=G;G.nextSibling=C}else{C.previousSibling=null}c=C.updateInfo(false,{parentId:w.getId(),index:I,isFirst:I===0,isLast:false,depth:(w.data.depth||0)+1});for(A=I+1,B=w.childNodes.length;A<B;A++){J=w.childNodes[A];E=J.updateInfo(false,{index:A});if(E){J.callJoined("afterEdit",[E])}}if(!w.isLoaded()){if(F){w.data.loaded=true}else{w.set("loaded",true)}}else{if(w.childNodes.length===1&&!F){w.triggerUIUpdate()}}if(D){D.registerNode(w,!F)}if(H!==true){w.fireBubbledEvent("insert",[w,C,x]);if(b){C.fireBubbledEvent("move",[C,b,w,I,x])}}w.callTreeStore("onNodeInsert",[C,I]);if(c){C.callJoined("afterEdit",[c])}if(D){D.endUpdate()}return C},insertChild:function(j,b){var c=this.childNodes[j];if(c){return this.insertBefore(b,c)}else{return this.appendChild(b)}},isLastVisible:function(){var b=this,j=b.data.isLast,c=b.nextSibling;if(!j&&b.getTreeStore().isFiltered()){while(c){if(c.data.visible){return false}c=c.nextSibling}return true}return j},remove:function(k,c){var b=this,l=b.parentNode;if(l){l.removeChild(b,k,c)}else{if(k){b.erase(true)}}return b},removeAll:function(x,b,u){var q=this,c=q.childNodes,r=c.length,v,w,s,y=[];if(!r){return}if(!u){w=q.getTreeStore();if(w){w.beginUpdate();w.suspendEvent("remove");q.callTreeStore("beforeNodeRemove",[c,false,y])}}for(s=0;s<r;++s){v=c[s];v.previousSibling=v.nextSibling=v.parentNode=null;q.fireBubbledEvent("remove",[q,v,false]);if(x){v.erase(true)}else{v.removeAll(false,b,true)}}if(!u&&w){w.resumeEvent("remove");q.callTreeStore("onNodeRemove",[c,false,y]);w.endUpdate()}q.firstChild=q.lastChild=null;c.length=0;if(!u){q.triggerUIUpdate()}return q},getChildAt:function(b){return this.childNodes[b]},replaceChild:function(l,b,c){var k=b?b.nextSibling:null;this.removeChild(b,false,c);this.insertBefore(l,k,c);return b},indexOf:function(b){return Ext.Array.indexOf(this.childNodes,b)},indexOfId:function(b){var c=this.childNodes,l=c.length,k=0;for(;k<l;++k){if(c[k].getId()===b){return k}}return -1},getPath:function(b,c){b=b||this.idProperty;c=c||"/";var k=[this.get(b)],l=this.parentNode;while(l){k.unshift(l.get(b));l=l.parentNode}return c+k.join(c)},getDepth:function(){return this.get("depth")},bubble:function(c,k,l){var b=this;while(b){if(c.apply(k||b,l||[b])===false){break}b=b.parentNode}},cascade:function(c,q,s,u){var o=this;if(arguments.length===1&&!Ext.isFunction(c)){u=c.after;q=c.scope;s=c.args;c=c.before}if(!c||c.apply(q||o,s||[o])!==false){var b=o.childNodes,p=b.length,r;for(r=0;r<p;r++){b[r].cascade.call(b[r],c,q,s,u)}if(u){u.apply(q||o,s||[o])}}},cascadeBy:function(){return this.cascade.apply(this,arguments)},eachChild:function(m,n,p){var b=this.childNodes,c=b.length,o;for(o=0;o<c;o++){if(m.apply(n||this,p||[b[o]])===false){break}}},findChild:function(c,b,j){return this.findChildBy(function(){return this.get(c)==b},null,j)},findChildBy:function(b,c,r){var n=this.childNodes,u=n.length,p=0,s,q;for(;p<u;p++){s=n[p];if(b.call(c||s,s)===true){return s}else{if(r){q=s.findChildBy(b,c,r);if(q!==null){return q}}}}return null},contains:function(b){return b.isAncestor(this)},isAncestor:function(c){var b=this.parentNode;while(b){if(b===c){return true}b=b.parentNode}return false},sort:function(b,u,c){var q=this,n=q.childNodes,r=n.length,s,v,w={isFirst:true};if(r>0){if(!b){b=q.getTreeStore().getSortFn()}Ext.Array.sort(n,b);q.setFirstChild(n[0]);q.setLastChild(n[r-1]);for(s=0;s<r;s++){v=n[s];v.previousSibling=n[s-1];v.nextSibling=n[s+1];w.isLast=(s===r-1);w.index=s;v.updateInfo(false,w);w.isFirst=false;if(u&&!v.isLeaf()){v.sort(b,true,true)}}if(c!==true){q.fireBubbledEvent("sort",[q,n]);q.callTreeStore("onNodeSort",[n])}}},isExpanded:function(){return this.get("expanded")},isLoaded:function(){return this.get("loaded")},isBranchLoaded:function(){var b=!this.isLeaf()&&this.isLoaded();if(b){this.cascade(function(c){if(!c.isLeaf()){b=b||c.isBranchLoaded()}return b})}return b},isLoading:function(){return this.get("loading")},isRoot:function(){return !this.parentNode},isVisible:function(){var b=this.parentNode;while(b){if(!b.isExpanded()){return false}b=b.parentNode}return true},expand:function(p,b,o){var n=this,m,c;if(!n.isLeaf()){if(n.isLoading()){n.on("expand",function(){n.expand(p,b,o)},n,{single:true})}else{if(!n.isExpanded()){if(n.fireBubbledEvent("beforeexpand",[n])!==false){if(p){if(n.parentNode&&n.parentNode.isSynchronousRecursiveExpand){n.isSynchronousRecursiveExpand=true}else{m=n.getTreeStore();if(m.getProxy().isSynchronous||n.isBranchLoaded()){n.isSynchronousRecursiveExpand=true;m.suspendEvent("add","datachanged");c=true}}}n.callTreeStore("onBeforeNodeExpand",[n.onChildNodesAvailable,n,[p,b,o]]);if(c){m.resumeEvent("add","datachanged");m.fireEvent("datachanged",m);m.fireEvent("refresh",m)}n.isSynchronousRecursiveExpand=false}}else{if(p){n.expandChildren(true,b,o)}else{Ext.callback(b,o||n,[n.childNodes])}}}}else{Ext.callback(b,o||n)}},onChildNodesAvailable:function(v,w,c,b){var r=this,x=r.getTreeStore(),y=x&&x.bulkUpdate,s,u,q;Ext.suspendLayouts();for(s=r.parentNode;s;s=s.parentNode){if(!s.isExpanded()){(q||(q=[])).unshift(s)}}if(y||!x.isVisible(r)){r.data.expanded=true}else{r.set("expanded",true)}if(q){for(u=1;u<q.length;u++){s=q[u];if(y||!x.isVisible(s)){s.data.expanded=true}else{s.set("expanded",true)}}q[0].expand();for(u=1;u<q.length;u++){s=q[u];s.fireBubbledEvent("expand",[s,s.childNodes])}}else{r.callTreeStore("onNodeExpand",[v,false])}r.fireBubbledEvent("expand",[r,v]);if(w){r.expandChildren(true,c,b)}else{Ext.callback(c,b||r,[r.childNodes])}Ext.resumeLayouts(true)},expandChildren:function(y,c,b,x){var u=this,s,w,C,D,v,A,B;if(Ext.isBoolean(c)){s=c;c=b;b=x;x=s}if(x===undefined){B=u.getTreeStore();x=B&&B.singleExpand}C=u.childNodes;D=[];v=x?Math.min(C.length,1):C.length;for(w=0;w<v;++w){A=C[w];if(!A.isLeaf()){D[D.length]=A}}v=D.length;for(w=0;w<v;++w){D[w].expand(y)}if(c){Ext.callback(c,b||u,[u.childNodes])}},collapse:function(w,c,b){var q=this,s=q.isExpanded(),x=q.getTreeStore(),y=x&&x.bulkUpdate,r=q.childNodes.length,v,u;if(!q.isLeaf()&&((!s&&w)||q.fireBubbledEvent("beforecollapse",[q])!==false)){Ext.suspendLayouts();if(q.isExpanded()){if(w){u=function(){for(v=0;v<r;v++){q.childNodes[v].setCollapsed(true)}};if(c){c=Ext.Function.createSequence(u,Ext.Function.bind(c,b,[q.childNodes]))}else{c=u}}else{if(c){c=Ext.Function.bind(c,b,[q.childNodes])}}if(y||!x.contains(q)){q.data.expanded=false}else{q.set("expanded",false)}q.callTreeStore("onNodeCollapse",[q.childNodes,c,b]);q.fireBubbledEvent("collapse",[q,q.childNodes]);c=null}else{if(w){for(v=0;v<r;v++){q.childNodes[v].setCollapsed(true)}}}Ext.resumeLayouts(true)}Ext.callback(c,b||q,[q.childNodes])},setCollapsed:function(k){var b=this,l=b.childNodes.length,c;if(!b.isLeaf()&&b.fireBubbledEvent("beforecollapse",[b])!==false){b.data.expanded=false;b.fireBubbledEvent("collapse",[b,b.childNodes]);if(k){for(c=0;c<l;c++){b.childNodes[c].setCollapsed(true)}}}},collapseChildren:function(u,c,b){var p=this,r,w=p.childNodes,q=w.length,s=[],v;for(r=0;r<q;++r){v=w[r];if(!v.isLeaf()&&v.isLoaded()&&v.isExpanded()){s.push(v)}}q=s.length;if(q){for(r=0;r<q;++r){v=s[r];if(r===q-1){v.collapse(u,c,b)}else{v.collapse(u)}}}else{Ext.callback(c,b)}},fireEvent:function(b){return this.fireBubbledEvent(b,Ext.Array.slice(arguments,1))},fireBubbledEvent:function(m,c){var n,b,l;if(d[m]){for(b=this;n!==false&&b;b=(l=b).parentNode){n=b.fireEventArgs.call(b,m,c)}if(n!==false){b=l.getTreeStore();if(b&&b.hasListeners&&b.hasListeners[m="node"+m]){n=b.fireEventArgs(m,c)}}return n}else{return this.fireEventArgs.apply(this,arguments)}},serialize:function(p){var c=p||new Ext.data.writer.Json({writeAllFields:true}),q=c.getRecordData(this),b=this.childNodes,r=b.length,n,o;if(r>0){q.children=n=[];for(o=0;o<r;o++){n.push(b[o].serialize(c))}}return q},callTreeStore:function(b,n){var l=this,c=l.getTreeStore(),m=c&&c[b];if(c&&m){n=n||[];if(n[0]!==l){n.unshift(l)}m.apply(c,n)}},addCls:function(b){this.replaceCls(null,b)},removeCls:function(b){this.replaceCls(b)},replaceCls:function(l,c){var k=this._parseCls(this.data.cls),b=this._parseCls(l);if(b.length){k=Ext.Array.difference(k,b)}b=this._parseCls(c);if(b.length){k=Ext.Array.unique(k.concat(b))}this.set("cls",k.join(" "))},toggleCls:function(q,n){if(n===undefined){var o=this._parseCls(this.data.cls),b=this._parseCls(q),r=b.length,p,c;for(p=0;p<r;++p){c=b[p];if(Ext.Array.contains(o,c)){Ext.Array.remove(o,c)}else{o.push(c)}}this.set("cls",o.join(" "))}else{if(n){this.addCls(q)}else{this.removeCls(q)}}},privates:{_noCls:[],spacesRe:/\s+/,join:function(b){if(b.isTreeStore){if(this.isRoot()){this.treeStore=this.store=b}}else{this.callParent([b])}},callJoined:function(b,c){this.callParent([b,c]);this.callTreeStore(b,c)},_parseCls:function(b){if(!b){return this._noCls}if(typeof b==="string"){return b.split(this.spacesRe)}return b}}}}}},0,0,0,0,0,0,[Ext.data,"NodeInterface"],0));(Ext.cmd.derive("Ext.mixin.Queryable",Ext.Base,{mixinId:"queryable",isQueryable:true,query:function(c){c=c||"*";return Ext.ComponentQuery.query(c,this.getQueryRoot())},queryBy:function(n,o){var q=[],r=this.getQueryRoot().getRefItems(true),p=0,l=r.length,m;for(;p<l;++p){m=r[p];if(n.call(o||m,m)!==false){q.push(m)}}return q},queryById:function(c){return this.down(Ext.makeIdSelector(c))},child:function(d){var f=this.getQueryRoot().getRefItems();if(d&&d.isComponent){return this.matchById(f,d.getItemId())}if(d){f=Ext.ComponentQuery.query(d,f)}if(f.length){return f[0]}return null},down:function(c){if(c&&c.isComponent){return this.matchById(this.getRefItems(true),c.getItemId())}c=c||"";return this.query(c)[0]||null},visitPreOrder:function(g,j,k,l){Ext.ComponentQuery._visit(true,g,this.getQueryRoot(),j,k,l)},visitPostOrder:function(g,j,k,l){Ext.ComponentQuery._visit(false,g,this.getQueryRoot(),j,k,l)},getRefItems:function(){return[]},getQueryRoot:function(){return this},privates:{matchById:function(n,k){var j=n.length,m,l;for(m=0;m<j;++m){l=n[m];if(l.getItemId()===k){return l}}return null}}},0,0,0,0,0,0,[Ext.mixin,"Queryable"],0));(Ext.cmd.derive("Ext.data.TreeModel",Ext.data.Model,{getRefItems:function(){return this.childNodes},getRefOwner:function(){return this.parentNode},statics:{defaultProxy:"memory"}},0,0,0,0,0,[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.data,"TreeModel"],function(){Ext.data.NodeInterface.decorate(this)}));(Ext.cmd.derive("Ext.data.Request",Ext.Base,{isDataRequest:true,config:{action:undefined,params:undefined,method:"GET",url:null,operation:null,proxy:null,disableCaching:false,headers:{},callbackKey:null,rawRequest:null,jsonData:undefined,xmlData:undefined,withCredentials:false,username:null,password:null,binary:false,callback:null,scope:null,timeout:30000,records:null,directFn:null,args:null,useDefaultXhrHeader:null},constructor:function(c){this.initConfig(c)},getParam:function(f){var g=this.getParams(),j;if(g){return g[f]}return j},setParam:function(f,j){var g=this.getParams()||{};g[f]=j;this.setParams(g)}},1,0,0,0,0,0,[Ext.data,"Request"],0));(Ext.cmd.derive("Ext.data.TreeStore",Ext.data.Store,{isTreeStore:true,config:{root:null,rootVisible:false,defaultRootProperty:"children",parentIdProperty:null,clearOnLoad:true,clearRemovedOnLoad:true,nodeParam:"node",defaultRootId:"root",defaultRootText:"Root",folderSort:false,pageSize:null},filterer:"topdown",lazyFill:false,fillCount:0,bulkUpdate:0,nodesToUnregister:0,_silentOptions:{silent:true},implicitModel:"Ext.data.TreeModel",constructor:function(d){var f=this;f.byIdMap={};Ext.data.Store.prototype.constructor.call(this,d)},applyFields:function(f,g){var j=this;if(f){if(j.defaultRootProperty!==j.self.prototype.config.defaultRootProperty){f=f.concat({name:j.defaultRootProperty,type:"auto",defaultValue:null,persist:false})}}Ext.data.Store.prototype.applyFields.call(this,f,g)},onSorterEndUpdate:function(){var m=this,j=m.getSorters(),l=j.getRange(),n=m.getRoot(),k=m.getFolderSort();m.fireEvent("beforesort",m,l);if(n&&(k||l.length)){if(m.getRemoteSort()){if(l.length){m.load({callback:function(){m.fireEvent("sort",m,l)}})}}else{n.sort(this.getSortFn(),true);m.fireEvent("datachanged",m);m.fireEvent("refresh",m);m.fireEvent("sort",m,l)}}else{m.fireEvent("sort",m,l)}},updateFolderSort:function(c){this.needsFolderSort=c;this.onSorterEndUpdate()},getSortFn:function(){return this._sortFn||(this._sortFn=this.createSortFn())},createSortFn:function(){var d=this,f=this.sorters.getSortFn();return function(l,m){var c,b,n=0;if(d.needsFolderSort){c=l.data.leaf?1:0;b=m.data.leaf?1:0;n=c-b}if(d.needsIndexSort&&n===0){n=l.data.index-m.data.index}return n||f(l,m)}},getTotalCount:function(){return this.getCount()},afterEdit:function(y,x){var q=this,w=y.parentNode,p=q.getRootVisible(),u=!w&&!p,s,v=y.get("visible"),o,r;if(!u&&v!==q.contains(y)){if(v){if(!w||q.isVisible(y)){o=[y];if(y.isExpanded()){q.handleNodeExpand(y,y.childNodes,o)}s=y.previousSibling?q.indexOfPreviousVisibleNode(y.previousSibling):(w?q.indexOf(w):-1);q.insert(s+1,o)}}else{r=q.indexOf(y);q.removeAt(r,q.indexOfNextVisibleNode(y)-r)}}else{if(q.getRoot()&&q.needsLocalFilter()){q.onFilterEndUpdate(q.getFilters())}}Ext.data.Store.prototype.afterEdit.call(this,y,x)},afterReject:function(d){var f=this;if(f.contains(d)){f.onUpdate(d,Ext.data.Model.REJECT,null);f.fireEvent("update",f,d,Ext.data.Model.REJECT,null)}},afterCommit:function(f,g){var j=this;if(!g){g=null}if(j.contains(f)){j.onUpdate(f,Ext.data.Model.COMMIT,g);j.fireEvent("update",j,f,Ext.data.Model.COMMIT,g)}},updateRootVisible:function(j){var f=this.getRoot(),g;if(f){g=this.getData();if(j){g.insert(0,f)}else{g.remove(f)}}},updateTrackRemoved:function(c){Ext.data.Store.prototype.updateTrackRemoved.apply(this,arguments);this.removedNodes=this.removed;this.removed=null},onDestroyRecords:function(j,f,g){if(g){this.removedNodes.length=0}},updateProxy:function(f){var d;if(f){if(f.setIdParam){f.setIdParam(this.getNodeParam())}d=f.getReader();if(Ext.isEmpty(d.getRootProperty())){d.setRootProperty(this.getDefaultRootProperty())}}},setProxy:function(c){this.changingProxy=true;(arguments.callee.$previous||Ext.data.Store.prototype.setProxy).call(this,c);this.changingProxy=false},updateModel:function(d){if(d){var f=d.prototype.isNode;Ext.data.NodeInterface.decorate(d);if(!f&&!this.changingProxy){this.getProxy().getReader().buildExtractors(true)}}},onCollectionFilter:Ext.emptyFn,onFilterEndUpdate:function(p){var q=this,r=p.length,m=q.getRoot(),n,s,o,u;if(!q.getRemoteFilter()){if(r){q.doFilter(m)}else{m.cascade({after:function(b){b.set("visible",true,q._silentOptions)}})}if(r){o=[];n=m.childNodes;for(u=0,r=n.length;u<r;u++){s=n[u];if(s.get("visible")){o.push(s)}}}else{o=m.childNodes}q.onNodeFilter(m,o);m.fireEvent("filterchange",m,o);q.suppressNextFilter=true;Ext.data.Store.prototype.onFilterEndUpdate.call(this,p);q.suppressNextFilter=false}else{Ext.data.Store.prototype.onFilterEndUpdate.call(this,p)}},onNodeFilter:function(j,k){var m=this,l=m.getData(),n=[];if(m.getRootVisible()&&j.get("visible")){n.push(j)}m.handleNodeExpand(j,k,n);m.suspendEvents();l.splice(0,l.getCount(),n);m.resumeEvents();if(!m.suppressNextFilter){m.fireEvent("datachanged",m);m.fireEvent("refresh",m)}},onBeforeNodeExpand:function(A,q,p,v){var u=this,s,x,r,w,B,y;if(A.isLoaded()){y=[A.childNodes];if(v){y.push.apply(y,v)}Ext.callback(q,p||A,y)}else{if(A.isLoading()){u.on("load",function(){y=[A.childNodes];if(v){y.push.apply(y,v)}Ext.callback(q,p||A,y)},u,{single:true,priority:1001})}else{s=u.getProxy().getReader();x=A.getProxy();r=x?x.getReader():null;w=r&&r.initialConfig.rootProperty?r:s;B=w.getRoot(A.raw||A.data);if(B||(A.phantom&&!A.isRoot())){if(B){u.fillNode(A,w.extractData(B,{model:A.childType,recordCreator:u.recordCreator}))}y=[A.childNodes];if(v){y.push.apply(y,v)}Ext.callback(q,p||A,y)}else{u.read({node:A,onChildNodesAvailable:function(){delete u.lastOptions.onChildNodesAvailable;y=[A.childNodes];if(v){y.push.apply(y,v)}Ext.callback(q,p||A,y)}});u.flushLoad()}}}},onNodeExpand:function(l,n){var k=this,j=k.indexOf(l)+1,m=[];k.handleNodeExpand(l,n,m);if(!k.refreshCounter&&l.isRoot()&&!l.get("visible")){k.loadRecords(m)}else{k.insert(j,m)}},handleNodeExpand:function(o,r,p){var m=this,n=r?r.length:0,q,l;if(o!==this.getRoot()&&!m.isVisible(o)){return}if(n){for(q=0;q<n;q++){l=r[q];if(l.get("visible")){p.push(l);if(l.isExpanded()){if(l.isLoaded()){m.handleNodeExpand(l,l.childNodes,p)}else{l.set("expanded",false);l.expand()}}}}}},onNodeCollapse:function(p,l,m,q){var o=this,r=o.indexOf(p)+1,n;if(o.needsLocalFilter()){l=Ext.Array.filter(l,o.filterVisible)}if(l.length&&o.isVisible(p)){n=o.indexOfNextVisibleNode(p);o.removeAt(r,n-r)}Ext.callback(m,q)},indexOfNextVisibleNode:function(f){var d;while(f.parentNode){for(d=f.nextSibling;d&&!d.get("visible");d=d.nextSibling){}if(d){return this.indexOf(d)}f=f.parentNode}return this.getCount()},indexOfPreviousVisibleNode:function(f){var d;for(d=f;d&&!d.get("visible");d=d.previousSibling){}if(d){if(d.isExpanded()&&d.lastChild){return this.indexOfPreviousVisibleNode(d.lastChild)}}else{d=f.parentNode}return this.indexOf(d)},filterNew:function(c){return !c.get("root")&&Ext.data.Store.prototype.filterNew.call(this,c)},filterRejects:function(c){return !c.get("root")&&Ext.data.Store.prototype.filterRejects.call(this,c)},getNewRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterNew,this)},getRejectRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterRejects,this)},getUpdatedRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterUpdated)},beforeNodeRemove:function(s,n,o,w){if(!Ext.isArray(n)){n=[n]}var p=this,q=n.length,r=p.removedNodes,u,v;for(u=0;!v&&u<q;u++){if(n[u].get("visible")){v=n[u]}}if(v){w[0]=p.indexOf(n[0]);w[1]=p.indexOfNextVisibleNode(n[n.length-1])-w[0]}else{w[0]=-1;w[1]=0}for(u=0;u<q;u++){n[u].cascade(function(b){p.unregisterNode(b,true);if(r&&!o){if(!b.phantom&&!b.erasing&&!p.loading){b.removedFrom=p.indexOf(b);r.push(b);p.needsSync=true}}})}},afterDrop:Ext.emptyFn,onNodeRemove:function(j,k,n,m){var l=this;l.suspendAutoSync();if(m[0]!==-1){l.removeIsMove=n;l.removeAt.apply(l,m);l.removeIsMove=false}l.resumeAutoSync()},onNodeAppend:function(j,g,f){this.onNodeInsert(j,g,f)},onNodeInsert:function(q,D,x){var w=this,B=D.raw||D.data,y=w.removedNodes,v,C,u,A,r,s;if(q&&w.needsLocalFilter()){w.doFilter(q)}w.beginUpdate();if(w.isVisible(D)){if(x===0||!D.previousSibling){s=w.indexOf(q)}else{s=w.indexOfPreviousVisibleNode(D.previousSibling)}w.insert(s+1,D);if(!D.isLeaf()&&D.isExpanded()){if(D.isLoaded()){w.onNodeExpand(D,D.childNodes)}else{if(!w.fillCount){D.set("expanded",false);D.expand()}}}}Ext.Array.remove(y,D);w.needsSync=w.needsSync||D.phantom||D.dirty;if(!D.isLeaf()&&!D.isLoaded()&&!w.lazyFill){v=w.getProxy().getReader();C=D.getProxy();u=C?C.getReader():null;A=u&&u.initialConfig.rootProperty?u:v;r=A.getRoot(B);if(r){w.fillNode(D,A.extractData(r,{model:D.childType,recordCreator:w.recordCreator}))}}w.endUpdate()},registerNode:function(n,l){var o=this,m=o.byIdMap[n.id],q,p,r;o.byIdMap[n.id]=n;if(n.onRegisterTreeNode&&n!==m){n.onRegisterTreeNode(o)}if(n.onUnregisterTreeNode){o.nodesToUnregister++}if(l===true){q=n.childNodes;p=q.length;for(r=0;r<p;r++){o.registerNode(q[r],true)}}},unregisterNode:function(n,l){var o=this,m=o.byIdMap[n.id],q,p,r;delete o.byIdMap[n.id];if(l===true){q=n.childNodes;p=q.length;for(r=0;r<p;r++){o.unregisterNode(q[r],true)}}if(n.onUnregisterTreeNode&&n===m){n.onUnregisterTreeNode(o);o.nodesToUnregister--}},onNodeSort:function(j,g){var f=this;f.suspendAutoSync();if((f.indexOf(j)!==-1&&j.isExpanded())||(j===f.getRoot()&&!f.getRootVisible())){Ext.suspendLayouts();f.onNodeCollapse(j,g);f.onNodeExpand(j,g);Ext.resumeLayouts(true)}f.resumeAutoSync(f.autoSync)},applyRoot:function(k){var n=this,l=n.getModel(),j=l.prototype.idProperty,m=n.getDefaultRootId();if(k&&!k.isNode){k=Ext.apply({text:n.getDefaultRootText(),root:true,isFirst:true,isLast:true,depth:0,index:0,parentId:null,allowDrag:false},k);if(m&&k[j]===undefined){k[j]=m}k=new l(k)}return k},updateRoot:function(m,r){var o=this,n,l=!r,p,q=[];o.getTrackRemoved();o.suspendEvent("add","remove");if(r&&r.isModel){if(o.getRootVisible()){p=[r]}else{p=r.childNodes}o.beforeNodeRemove(null,p,false,q);r.set("root",false);o.onNodeRemove(null,p,false,q);r.fireEvent("remove",null,r,false);r.fireEvent("rootchange",null);r.clearListeners();r.store=r.treeStore=null;o.unregisterNode(r)}o.getData().clear();if(m){if(m.fireEventArgs("beforeappend",[null,m])===false){m=null}else{n=m.parentNode;if(n){if(!n.removeChild(m,false,false,n.getTreeStore()===o)){return}}else{if((n=m.getTreeStore())&&n!==o&&m===n.getRoot()){n.setRoot(null)}}m.store=m.treeStore=o;m.set("root",true);m.updateInfo(true,{isFirst:true,isLast:true,depth:0,index:0,parentId:null});o.registerNode(m,true);m.fireEvent("append",null,m,false);m.fireEvent("rootchange",m);o.onNodeAppend(null,m,0);m.phantom=true}}o.fireEvent("rootchange",m,r);if(m&&(o.getAutoLoad()||m.isExpanded())){if(m.isLoaded()){o.onNodeExpand(m,m.childNodes);o.fireEvent("datachanged",o);o.fireEvent("refresh",o)}else{m.data.expanded=false;m.expand(false);if(m.isLoaded&&!o.getProxy().isSynchronous){o.fireEvent("datachanged",o);o.fireEvent("refresh",o)}}}else{if(!l){o.fireEvent("datachanged",o);o.fireEvent("refresh",o)}}o.resumeEvent("add","remove")},doDestroy:function(){var f=this,d=f.getRoot();if(d&&f.nodesToUnregister){d.cascade(function(b){if(b.onUnregisterTreeNode){b.onUnregisterTreeNode(f)}})}Ext.data.Store.prototype.doDestroy.call(this)},each:function(l,m,k){var j,n=0;if(k&&typeof k==="object"){j=k.collapsed;k=k.filtered}if(j){this.getRoot().cascade(function(b){if(k===true||b.get("visible")){return l.call(m||b,b,n++)}})}else{return Ext.data.Store.prototype.each.call(this,l,m,k)}},collect:function(r,u,p){var s,o={},m=[],n,q;if(u&&typeof u==="object"){s=u.collapsed;p=u.filtered;u=u.allowNull}if(s||p){this.getRoot().cascade(function(b){if(p===true||b.get("visible")){q=b.get(r);n=String(q);if((u||!Ext.isEmpty(q))&&!o[n]){o[n]=1;m.push(q)}}if(!s&&!b.isExpanded()){return false}})}else{m=Ext.data.Store.prototype.collect.call(this,r,u,p)}return m},getNodeById:function(c){return this.byIdMap[c]||null},findNode:function(m,n,p,q,r){if(Ext.isEmpty(n,false)){return null}if(m===this.model.idProperty&&arguments.length<3){return this.byIdMap[n]}var o=Ext.String.createRegex(n,p,q,r),l=null;Ext.Object.eachValue(this.byIdMap,function(b){if(b&&o.test(b.get(m))){l=b;return false}});return l},load:function(d){var f=d&&d.node;if(!f&!(f=this.getRoot())){f=this.setRoot({expanded:true});return}if(f.isLoading()){return}return Ext.data.Store.prototype.load.call(this,d)},reload:function(d){var f=Ext.apply({},d,this.lastOptions);f.node=this.getRoot();return this.load(f)},flushLoad:function(){var q=this,n=q.pendingLoadOptions,w,p,o,s=q.getClearOnLoad(),r,v,u;q.clearLoadTask();if(!n){return}w=n.node||q.getRoot();r=w&&w.isRoot();p=n.callback;o=n.scope;n.params=n.params||{};if(w.data.expanded&&!r){w.data.loaded=false;if(s){w.data.expanded=false}n.callback=function(c,d,b){if(!s){w.collapse()}w.expand();Ext.callback(p,o,[c,d,b])}}n.id=w.getId();q.setLoadOptions(n);if(q.getRemoteSort()&&n.sorters){q.fireEvent("beforesort",q,n.sorters)}n=Ext.apply({node:n.node||w,internalScope:q,internalCallback:q.onProxyLoad},n);q.lastOptions=Ext.apply({},n);n.isRootLoad=r;v=q.createOperation("read",n);if(q.fireEvent("beforeload",q,v)!==false){q.loading=true;if(r){if(q.getClearRemovedOnLoad()){q.removedNodes.length=0}if(s){q.unregisterNode(w,true);w.clear(false,true);q.registerNode(w);u=true}}else{if(q.getTrackRemoved()&&q.getClearRemovedOnLoad()){q.clearRemoved(w)}if(s){w.removeAll(false)}}if(q.loading&&w){w.set("loading",true)}if(u){q.clearData(true);if(q.getRootVisible()){q.suspendEvents();q.add(w);q.resumeEvents()}}v.execute()}return q},onProxyLoad:function(u){var p=this,n=u.initialConfig,s=u.wasSuccessful(),v=u.getRecords(),w=n.node,r=n.isRootLoad,o=u.getScope()||p,q=[v,u,s];if(p.destroyed){return}p.loading=false;w.set("loading",false);if(s){++p.loadCount;if(!p.getClearOnLoad()){v=p.cleanRecords(w,v)}if(p.getParentIdProperty()){v=p.treeify(w,v)}if(r){p.suspendEvent("add","update")}v=p.fillNode(w,v)}Ext.callback(n.onChildNodesAvailable,o,q);if(r){p.resumeEvent("add","update");p.callObservers("BeforePopulate");p.fireEvent("datachanged",p);p.fireEvent("refresh",p);p.callObservers("AfterPopulate")}p.fireEvent("load",p,v,s,u,w)},clearRemoved:function(C){var u=this,y=u.removedNodes,D=C.getId(),A=y.length,B=A,q={},w=[],r={},v,x,s;if(C===u.getRoot()){u.removedNodes.length=0;return}for(;B--;){v=y[B];r[v.getId()]=v}for(B=A;B--;){v=y[B];x=v;while(x&&x.getId()!==D){s=x.get("parentId")||x.get("lastParentId");x=x.parentNode||u.getNodeById(s)||r[s]}if(x){q[v.getId()]=v}}for(B=0;B<A;B++){v=y[B];if(!q[v.getId()]){w.push(v)}}u.removedNodes=w},fillNode:function(k,g){var l=this,j=g?g.length:0;if(++l.bulkUpdate===1){l.suspendEvent("datachanged")}if(j){l.setupNodes(g)}if(l.bulkUpdate===1){k.set("loaded",true)}else{k.data.loaded=true}if(g.length){k.appendChild(g,undefined,true)}if(!--l.bulkUpdate){l.resumeEvent("datachanged")}return g},setupNodes:function(v){var r=this,s=r.getSorters(),q=false,x=v.length,y=r.sortOnLoad&&x>1&&!r.getRemoteSort()&&r.getFolderSort()||s.length,w=r.needsLocalFilter(),o,p,u;if(w){r.doFilter(v[0])}for(u=1;u<x;u++){o=v[u];p=v[u-1];if(w){r.doFilter(o)}q=o.data.index!==p.data.index}if(y){r.needsIndexSort=true;Ext.Array.sort(v,r.getSortFn());r.needsIndexSort=false}else{if(q){Ext.Array.sort(v,r.sortByIndex)}}},beginFill:function(){var c=this;if(!c.fillCount++){c.beginUpdate();c.suspendEvent("add","update");c.suspendAutoSync();c.fillArray=[]}},endFill:function(o,r){var n=this,m=n.fillArray,p,l,q;m.push(r);if(!--n.fillCount){n.resumeAutoSync();n.resumeEvent("add","update");for(p=0,l=m.length;p<l;p++){q=n.indexOf(m[p][0]);if(q!==-1){n.fireEvent("add",n,m[p],q)}}n.fillArray=null;n.endUpdate()}},sortByIndex:function(f,d){return f.data.index-d.data.index},onIdChanged:function(n,l,p){var m=n.childNodes,k=m&&m.length,o;Ext.data.Store.prototype.onIdChanged.apply(this,arguments);delete this.byIdMap[l];this.byIdMap[p]=n;for(o=0;o<k;o++){m[o].set("parentId",p)}},treeify:function(A,D){var w=this,u=A.getId(),F=w.getParentIdProperty(),y=D.length,s=[],x={},C,E,B,v,H,G;for(C=0;C<y;C++){E=D[C];E.data.depth=1;x[E.id]=E}for(C=0;C<y;C++){E=D[C];B=E.data[F];if(!(B||B===0)||B===u){s.push(E)}else{v=x[B];v.$children=v.$children||[];v.$children.push(E);E.data.depth=v.data.depth+1}}for(H in x){E=x[H];G=E.$children;if(G){delete E.$children;w.setupNodes(G);E.appendChild(G)}w.registerNode(E)}w.setupNodes(s);return s},cleanRecords:function(p,u){var q={},n=p.childNodes,r=0,m=n.length,s=[],o;for(;r<m;++r){q[n[r].getId()]=true}for(r=0,m=u.length;r<m;++r){o=u[r];if(!q[o.getId()]){s.push(o)}}return s},removeAll:function(){this.suspendEvents();this.setRoot(null);this.resumeEvents();Ext.data.Store.prototype.removeAll.call(this)},doSort:function(d){var f=this;if(f.getRemoteSort()){f.load()}else{f.tree.sort(d,true);f.fireEvent("datachanged",f);f.fireEvent("refresh",f)}f.fireEvent("sort",f,f.sorters.getRange())},filterVisible:function(c){return c.get("visible")},isVisible:function(k){var g=k.parentNode,j=k.data.visible,l=this.getRoot();while(j&&g){j=g.data.expanded&&g.data.visible;g=g.parentNode}return j&&!(k===l&&!this.getRootVisible())},commitChanges:function(){var c=this.removedNodes;if(c){c.length=0}Ext.data.Store.prototype.commitChanges.call(this)},getRootNode:function(){return this.getRoot()},setRootNode:function(c){this.setRoot(c);return this.getRoot()},privates:{fireChangeEvent:function(c){return !!this.byIdMap[c.id]},getRawRemovedRecords:function(){return this.removedNodes},createOperation:function(m,j){var k=this,l=j.node,n;if(k.useModelProxy&&l&&l!==k.getRootNode()){n=l.getProxy()}if(n&&n!==k.getProxy()){return n.createOperation(m,j)}else{return Ext.data.Store.prototype.createOperation.call(this,m,j)}},recordCreator:function(d,f){return new f(d)},doFilter:function(c){this.filterNodes(c,this.getFilters().getFilterFn(),true)},filterNodes:function(x,o,s){var r=this,y=r.filterer==="bottomup",v=o(x)&&s||(x.isRoot()&&!r.getRootVisible()),p=x.childNodes,u=p&&p.length,w,q;if(u){for(w=0;w<u;++w){q=r.filterNodes(p[w],o,v||y)||q}if(y){v=q||v}}x.set("visible",v,r._silentOptions);return v},needsLocalFilter:function(){return !this.getRemoteFilter()&&this.getFilters().length},onRemoteFilterSet:function(f,g){var j=this.getData();j.setFilters(null);if(f){f.on("endupdate",this.onFilterEndUpdate,this)}},onRemoteSortSet:function(j,g){var f=this.getData();f.setSorters(null);if(j){j.on("endupdate",this.onSorterEndUpdate,this)}}},deprecated:{5:{properties:{tree:null}}}},1,0,0,0,["store.tree"],0,[Ext.data,"TreeStore"],0));(Ext.cmd.derive("Ext.data.Validation",Ext.data.Model,{isValidation:true,syncGeneration:0,attach:function(c){this.record=c;this.isBase=c.self===Ext.data.Model;delete this.data.id},getValidation:function(){return null},isValid:function(){var c=this;if(c.syncGeneration!==c.record.generation){c.refresh()}return !c.dirty},refresh:function(U){if(this.isBase){return}var C=this,j=C.data,S=C.record,N=S.fields,J=S.generation,D=S.data,O=S.validationSeparator,T=null,R,P,M,V,F,H,L,E,G,Q,I,K;if(U||C.syncGeneration!==J){C.syncGeneration=J;for(H=0,G=N.length;H<G;++H){V=N[H];K=V.name;I=D[K];R=V.defaultInvalidMessage;M=0;if(!(K in j)){j[K]=P=true}else{P=j[K]}if(V.validate!==Ext.emptyFn){Q=V.validate(I,O,null,S);if(Q!==true){M=Q||R}}if(!M){M=true}if(M!==P){(T||(T={}))[K]=M}}if(T){C.set(T)}}}},0,0,0,0,0,0,[Ext.data,"Validation"],0));(Ext.cmd.derive("Ext.dom.Helper",Ext.Base,function(){var m="afterbegin",p="afterend",o="beforebegin",r="beforeend",n=["BeforeBegin","previousSibling"],q=["AfterEnd","nextSibling"],s={beforebegin:n,afterend:q},u={beforebegin:n,afterend:q,afterbegin:["AfterBegin","firstChild"],beforeend:["BeforeEnd","lastChild"]};return{singleton:true,alternateClassName:["Ext.DomHelper","Ext.core.DomHelper"],emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/^(?:tag|children|cn|html|tpl|tplData)$/i,endRe:/end/i,attributeTransform:{cls:"class",htmlFor:"for"},closeTags:{},detachedDiv:document.createElement("div"),decamelizeName:function(){var c=/([a-z])([A-Z])/g,d={};function b(j,f,g){return f+"-"+g.toLowerCase()}return function(f){return d[f]||(d[f]=f.replace(c,b))}}(),generateMarkup:function(l,g){var w=this,b=typeof l,c,j,k,d,f;if(b==="string"||b==="number"){g.push(l)}else{if(Ext.isArray(l)){for(d=0;d<l.length;d++){if(l[d]){w.generateMarkup(l[d],g)}}}else{k=l.tag||"div";g.push("<",k);for(c in l){if(l.hasOwnProperty(c)){j=l[c];if(j!==undefined&&!w.confRe.test(c)){if(j&&j.join){j=j.join(" ")}if(typeof j==="object"){g.push(" ",c,'="');w.generateStyles(j,g,true).push('"')}else{g.push(" ",w.attributeTransform[c]||c,'="',j,'"')}}}}if(w.emptyTags.test(k)){g.push("/>")}else{g.push(">");if((j=l.tpl)){j.applyOut(l.tplData,g)}if((j=l.html)){g.push(j)}if((j=l.cn||l.children)){w.generateMarkup(j,g)}f=w.closeTags;g.push(f[k]||(f[k]="</"+k+">"))}}}return g},generateStyles:function(d,j,f){var b=j||[],g,c;for(g in d){if(d.hasOwnProperty(g)){c=d[g];g=this.decamelizeName(g);if(f&&Ext.String.hasHtmlCharacters(c)){c=Ext.String.htmlEncode(c)}b.push(g,":",c,";")}}return j||b.join("")},markup:function(b){if(typeof b==="string"){return b}var c=this.generateMarkup(b,[]);return c.join("")},applyStyles:function(b,c){Ext.fly(b).applyStyles(c)},createContextualFragment:function(g){var c=this.detachedDiv,b=document.createDocumentFragment(),f,d;c.innerHTML=g;d=c.childNodes;f=d.length;while(f--){b.appendChild(d[0])}return b},createDom:function(f,b){var g=this,j=g.markup(f),c=g.detachedDiv,d;c.innerHTML=j;d=c.firstChild;return Ext.supports.ChildContentClearedWhenSettingInnerHTML?d.cloneNode(true):d},insertHtml:function(d,j,c){var l=this,g,b,f,x,k;d=d.toLowerCase();if(j.insertAdjacentHTML){if(l.ieInsertHtml){k=l.ieInsertHtml(d,j,c);if(k){return k}}g=u[d];if(g){j.insertAdjacentHTML(g[0],c);return j[g[1]]}}else{if(j.nodeType===3){d=d===m?o:d;d=d===r?p:d}b=Ext.supports.CreateContextualFragment?j.ownerDocument.createRange():undefined;x="setStart"+(this.endRe.test(d)?"After":"Before");if(s[d]){if(b){b[x](j);k=b.createContextualFragment(c)}else{k=this.createContextualFragment(c)}j.parentNode.insertBefore(k,d===o?j:j.nextSibling);return j[(d===o?"previous":"next")+"Sibling"]}else{f=(d===m?"first":"last")+"Child";if(j.firstChild){if(b){try{b[x](j[f]);k=b.createContextualFragment(c)}catch(y){k=this.createContextualFragment(c)}}else{k=this.createContextualFragment(c)}if(d===m){j.insertBefore(k,j.firstChild)}else{j.appendChild(k)}}else{j.innerHTML=c}return j[f]}}},insertBefore:function(b,c,d){return this.doInsert(b,c,d,o)},insertAfter:function(b,c,d){return this.doInsert(b,c,d,p)},insertFirst:function(b,c,d){return this.doInsert(b,c,d,m)},append:function(b,c,d){return this.doInsert(b,c,d,r)},overwrite:function(f,g,c){var d=this,b;f=Ext.getDom(f);g=d.markup(g);if(d.ieOverwrite){b=d.ieOverwrite(f,g)}if(!b){f.innerHTML=g;b=f.firstChild}return c?Ext.get(b):b},doInsert:function(g,c,d,b){var f=this,j;g=g.dom||Ext.getDom(g);if("innerHTML" in g){j=f.insertHtml(b,g,f.markup(c))}else{j=f.createDom(c,null);if(g.nodeType===3){b=b===m?o:b;b=b===r?p:b}if(s[b]){g.parentNode.insertBefore(j,b===o?g:g.nextSibling)}else{if(g.firstChild&&b===m){g.insertBefore(j,g.firstChild)}else{g.appendChild(j)}}}return d?Ext.get(j):j},createTemplate:function(c){var b=this.markup(c);return new Ext.Template(b)},createHtml:function(b){return this.markup(b)}}},0,0,0,0,0,0,[Ext.dom,"Helper",Ext,"DomHelper",Ext.core,"DomHelper"],0));Ext.define("Ext.overrides.dom.Helper",(function(){var s=/^(?:table|thead|tbody|tr|td)$/i,o=/td|tr|tbody|thead/i,p="<table>",n="</table>",u=p+"<tbody>",q="</tbody>"+n,m=u+"<tr>",r="</tr>"+q;return{override:"Ext.dom.Helper",ieInsertHtml:function(b,d,f){var c=null;if(Ext.isIE9m&&s.test(d.tagName)){c=this.insertIntoTable(d.tagName.toLowerCase(),b,d,f)}return c},ieOverwrite:function(c,b){if(Ext.isIE9m&&s.test(c.tagName)){while(c.firstChild){c.removeChild(c.firstChild)}if(b){return this.insertHtml("afterbegin",c,b)}}},ieTable:function(d,l,c,f){var k=-1,g=this.detachedDiv,j,b;g.innerHTML=[l,c,f].join("");while(++k<d){g=g.firstChild}j=g.nextSibling;if(j){j=g;g=document.createDocumentFragment();while(j){b=j.nextSibling;g.appendChild(j);j=b}}return g},insertIntoTable:function(k,f,g,d){var j,y,b=f==="beforebegin",l=f==="afterbegin",c=f==="beforeend",x=f==="afterend";if(k==="td"&&(l||c)||!o.test(k)&&(b||x)){return null}y=b?g:x?g.nextSibling:l?g.firstChild:null;if(b||x){g=g.parentNode}if(k==="td"||(k==="tr"&&(c||l))){j=this.ieTable(4,m,d,r)}else{if(((k==="tbody"||k==="thead")&&(c||l))||(k==="tr"&&(b||x))){j=this.ieTable(3,u,d,q)}else{j=this.ieTable(2,p,d,n)}}g.insertBefore(j,y);return j}}})());(Ext.cmd.derive("Ext.data.proxy.Rest",Ext.data.proxy.Ajax,{alternateClassName:"Ext.data.RestProxy",defaultActionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"},slashRe:/\/$/,periodRe:/\.$/,config:{appendId:true,format:null,batchActions:false,actionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"}},buildUrl:function(q){var o=this,r=q.getOperation(),u=r.getRecords(),p=u?u[0]:null,n=o.getFormat(),w=o.getUrl(q),v,s;if(p&&!p.phantom){v=p.getId()}else{v=r.getId()}if(o.getAppendId()&&o.isValidId(v)){if(!w.match(o.slashRe)){w+="/"}w+=encodeURIComponent(v);s=q.getParams();if(s){delete s[o.getIdParam()]}}if(n){if(!w.match(o.periodRe)){w+="."}w+=n}q.setUrl(w);return Ext.data.proxy.Ajax.prototype.buildUrl.call(this,q)},isValidId:function(c){return c||c===0}},0,0,0,0,["proxy.rest"],0,[Ext.data.proxy,"Rest",Ext.data,"RestProxy"],0));(Ext.cmd.derive("Ext.dom.GarbageCollector",Ext.Base,{singleton:true,interval:30000,constructor:function(){var c=this;c.lastTime=Ext.now();c.onTick=c.onTick.bind(c);c.resume()},collect:function(){var o=this,w=Ext.cache,v,r,u,n,q,s;for(v in w){if(!w.hasOwnProperty(v)){continue}u=w[v];if(u.skipGarbageCollection){continue}r=u.dom;try{q=Ext.isGarbage(r)}catch(p){delete w[v];continue}if(q){if(u&&u.dom){u.collect()}}}if(Ext.isIE9m){n={};for(v in w){if(w.hasOwnProperty(v)){n[v]=w[v]}}Ext.cache=Ext.dom.Element.cache=n}o.lastTime=Ext.now()},onTick:function(){this.timerId=null;if(Ext.enableGarbageCollector){this.collect()}this.resume()},pause:function(){var c=this.timerId;if(c){this.timerId=null;clearTimeout(c)}},resume:function(){var d=this,f=d.lastTime;if(Ext.enableGarbageCollector&&(Ext.now()-f)>d.interval){d.collect()}if(!d.timerId){d.timerId=Ext.defer(d.onTick,d.interval)}}},1,0,0,0,0,0,[Ext.dom,"GarbageCollector"],0));(Ext.cmd.derive("Ext.dom.TouchAction",Ext.Base,{singleton:true,lastTouchStartTime:0,minMoveDistance:8,spaceRe:/\s+/,preventSingle:null,preventMulti:null,disabledOverflowDom:null,panXCls:"x-touch-action-pan-x",panYCls:"x-touch-action-pan-y",cssValues:["none","pan-x","pan-y","pan-x pan-y","pinch-zoom","pan-x pinch-zoom","pan-y pinch-zoom","manipulation","double-tap-zoom","pan-x double-tap-zoom","pan-y double-tap-zoom","pan-x pan-y double-tap-zoom","pinch-zoom double-tap-zoom","pan-x pinch-zoom double-tap-zoom","pan-y pinch-zoom double-tap-zoom",""],objectValues:[{panX:false,panY:false,pinchZoom:false,doubleTapZoom:false},{panX:true,panY:false,pinchZoom:false,doubleTapZoom:false},{panX:false,panY:true,pinchZoom:false,doubleTapZoom:false},{panX:true,panY:true,pinchZoom:false,doubleTapZoom:false},{panX:false,panY:false,pinchZoom:true,doubleTapZoom:false},{panX:true,panY:false,pinchZoom:true,doubleTapZoom:false},{panX:false,panY:true,pinchZoom:true,doubleTapZoom:false},{panX:true,panY:true,pinchZoom:true,doubleTapZoom:false},{panX:false,panY:false,pinchZoom:false,doubleTapZoom:true},{panX:true,panY:false,pinchZoom:false,doubleTapZoom:true},{panX:false,panY:true,pinchZoom:false,doubleTapZoom:true},{panX:true,panY:true,pinchZoom:false,doubleTapZoom:true},{panX:false,panY:false,pinchZoom:true,doubleTapZoom:true},{panX:true,panY:false,pinchZoom:true,doubleTapZoom:true},{panX:false,panY:true,pinchZoom:true,doubleTapZoom:true},{panX:true,panY:true,pinchZoom:true,doubleTapZoom:true}],attributeName:"data-extTouchAction",constructor:function(){var f=this,d=Ext.supports;if(d.PointerEvents){f.cssProp="touch-action"}else{if(d.MSPointerEvents){f.cssProp="-ms-touch-action"}else{if(d.TouchEvents){Ext.getWin().on({touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",scope:f,translate:false,capture:true,priority:5000});Ext.on({scroll:"onScroll",scope:f,destroyable:true})}}}},containsTargets:function(l,m){var p=true,n=m.type==="touchend"?m.changedTouches:m.touches,k,o;for(k=0,o=n.length;k<o;k++){if(!l.contains(n[k].target)){p=false;break}}return p},disableOverflow:function(m,o){var n=this,l=o?"overflow-y":"overflow-x",k,p;if(!n.disabledOverflowDom&&!Ext.isiOS&&!Ext.getScrollbarSize().width){n.disabledOverflowDom=m;p=o?n.panXCls:n.panYCls;while(m){k=Ext.fly(m).getStyle(l);if(k==="auto"||k==="scroll"){Ext.fly(m).addCls(p)}m=m.parentNode}}},get:function(g){var f=g.getAttribute(this.attributeName),j=null;if(f!=null){j=this.objectValues[f]}return j},getFlags:function(f){var d;if(typeof f==="number"){d=f}else{d=0;if(f.panX!==false){d|=1}if(f.panY!==false){d|=2}if(f.pinchZoom!==false){d|=4}if(f.doubleTapZoom!==false){d|=8}}return d},lookupFlags:function(c){return c.getAttribute&&c.getAttribute(this.attributeName)},onScroll:function(){this.scrollOccurred=true;this.isDoubleTap=false},onTouchEnd:function(m){var n=this,l=m.target,k,p,o;k=m.touches.length;if(k===0){if(n.isDoubleTap){while(l){p=n.lookupFlags(l);if(p!=null){o=p&8;if(!o){m.preventDefault()}}l=l.parentNode}}n.isDoubleTap=false;n.preventSingle=null;n.preventMulti=null;n.resetOverflow()}},onTouchMove:function(A){var y=this,w=null,C=A.target,H,x,L,v,K,I,F,J,D,E,B,G;B=y.preventSingle;G=y.preventMulti;x=A.touches.length;if((x===1&&(B===false))||(G===false)){return}if((x>1&&(G===true))||(x===1&&(B===true))){w=true}else{while(C){H=y.lookupFlags(C);if(H!=null){if(!H){w=true}else{if(x===1){L=!!(H&1);v=!!(H&2);if(L&&v){w=false}else{if(!L&&!v){w=true}else{K=A.getPoint();I=y.startPoint;F=Ext.Element.getViewportScale();J=Math.abs(K.getDistanceTo(y.startPoint)*F);if(J>=y.minMoveDistance){D=Math.abs(K.x-I.x);E=Math.abs(K.y-I.y);w=!!((L&&(E>D))||(v&&(D>E)))}}}}else{if(y.containsTargets(C,A)){w=!(H&4)}else{w=false}}}if(w){break}}C=C.parentNode}}if(x===1){y.preventSingle=w}else{if(x>1){y.preventMulti=w}}if(w){A.preventDefault()}},onTouchStart:function(n){var p=this,o,q,m,r,l;if(n.touches.length===1){o=n.time;if(!p.scrollOccurred&&((o-p.lastTouchStartTime)<=500)){p.isDoubleTap=true}p.lastTouchStartTime=o;p.scrollOccurred=false;p.startPoint=n.getPoint();m=n.target;while(m){q=p.lookupFlags(m);if(q!=null){r=!!(q&1);l=!!(q&2);if(r!==l){p.disableOverflow(m,r);break}}m=m.parentNode}}else{p.isDoubleTap=false}},resetOverflow:function(){var d=this,f=d.disabledOverflowDom;while(f){Ext.fly(f).removeCls([d.panXCls,d.panYCls]);f=f.parentNode}d.disabledOverflowDom=null},set:function(l,m){var n=this,o=n.cssProp,k=n.getFlags(m),p=n.attributeName;if(o){Ext.fly(l).setStyle(o,n.cssValues[k])}if(k===15){l.removeAttribute(p)}else{l.setAttribute(p,k)}}},1,0,0,0,0,0,[Ext.dom,"TouchAction"],0));(Ext.cmd.derive("Ext.event.gesture.Recognizer",Ext.Base,{priority:0,handledEvents:[],isStarted:false,config:{onRecognized:Ext.emptyFn,callbackScope:null},constructor:function(c){this.initConfig(c);Ext.event.publisher.Gesture.instance.registerRecognizer(this)},onStart:Ext.emptyFn,onEnd:Ext.emptyFn,onTouchStart:Ext.emptyFn,onTouchMove:Ext.emptyFn,onTouchEnd:function(){return this.reset()},onTouchCancel:function(c){return this.cancel(c)},fire:function(g,j,k,l){this.getOnRecognized().call(this.getCallbackScope(),this,g,j,k,l)},cancel:function(c){if(this.isStarted){this.onCancel(c)}return this.reset()},onCancel:Ext.emptyFn,reset:function(){this.isStarted=false;return false}},1,0,0,0,0,[[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.event.gesture,"Recognizer"],0));(Ext.cmd.derive("Ext.event.gesture.SingleTouch",Ext.event.gesture.Recognizer,{isSingleTouch:true,onTouchStart:function(c){if(c.touches.length>1){return this.cancel(c)}}},0,0,0,0,0,0,[Ext.event.gesture,"SingleTouch"],0));(Ext.cmd.derive("Ext.event.gesture.DoubleTap",Ext.event.gesture.SingleTouch,{priority:300,config:{moveDistance:8,tapDistance:24,maxDuration:300},handledEvents:["singletap","doubletap"],singleTapTimer:null,startTime:0,lastTapTime:0,onTouchStart:function(j){var k=this,l=Ext.event.gesture.SingleTouch.prototype.onTouchStart.call(this,j),g;if(l!==false){k.isStarted=true;g=k.lastStartPoint=j.changedTouches[0].point;k.startPoint=k.startPoint||g;k.startTime=j.time;clearTimeout(k.singleTapTimer)}return l},onTouchMove:function(m){var n=this,j=m.changedTouches[0].point,l=Ext.Element.getViewportScale(),k=Math.round(Math.abs(j.getDistanceTo(n.lastStartPoint)*l));if(k>=n.getMoveDistance()){return n.cancel(m)}},onTouchEnd:function(u){var r=this,v=r.getMaxDuration(),A=u.time,s=u.target,q=r.lastTapTime,x=r.lastTarget,p=u.changedTouches[0].point,w,y,B;r.lastTapTime=A;r.lastTarget=s;if(q){w=A-q;if(w<=v){y=Ext.Element.getViewportScale();B=Math.round(Math.abs(p.getDistanceTo(r.startPoint)*y));if(B<=r.getTapDistance()){if(s!==x){return r.cancel(u)}r.lastTarget=null;r.lastTapTime=0;r.fire("doubletap",u,{touch:u.changedTouches[0],duration:w});return Ext.event.gesture.SingleTouch.prototype.onTouchEnd.call(this,u)}}}if(A-r.startTime>v){r.fire("singletap",u);r.reset()}else{r.setSingleTapTimer(u)}},setSingleTapTimer:function(f){var d=this;d.singleTapTimer=Ext.defer(function(){d.fire("singletap",f);d.reset()},d.getMaxDuration())},reset:function(){var c=this;clearTimeout(c.singleTapTimer);c.startTime=c.lastTapTime=0;c.lastStartPoint=c.startPoint=c.singleTapTimer=null;return Ext.event.gesture.SingleTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,"DoubleTap"],function(d){var f=Ext.manifest.gestures;d.instance=new d(f&&f.doubleTap)}));(Ext.cmd.derive("Ext.event.gesture.Drag",Ext.event.gesture.SingleTouch,{priority:100,startPoint:null,previousPoint:null,lastPoint:null,handledEvents:["dragstart","drag","dragend","dragcancel"],config:{minDistance:8},constructor:function(){Ext.event.gesture.SingleTouch.prototype.constructor.apply(this,arguments);this.initInfo()},initInfo:function(){this.info={touch:null,previous:{x:0,y:0},x:0,y:0,delta:{x:0,y:0},absDelta:{x:0,y:0},flick:{velocity:{x:0,y:0}},direction:{x:0,y:0},time:0,previousTime:{x:0,y:0},longpress:false}},onTouchStart:function(g){var j=this,f=Ext.event.gesture.SingleTouch.prototype.onTouchStart.call(this,g);if(f!==false){j.startTime=g.time;j.startPoint=g.changedTouches[0].point}return f},tryDragStart:function(o){var p=this,k=o.changedTouches[0].point,m=p.getMinDistance(),n=Ext.Element.getViewportScale(),l=Math.round(Math.abs(k.getDistanceTo(p.startPoint)*n));if(l>=m){p.doDragStart(o)}},doDragStart:function(n,r){var q=this,m=n.changedTouches[0],l=m.point,o=q.info,p;if(r){p=Ext.now();q.startTime=p;q.startPoint=l;o.longpress=true}else{p=n.time}q.isStarted=true;q.previousPoint=q.lastPoint=l;q.resetInfo("x",n,m);q.resetInfo("y",n,m);o.time=p;q.fire("dragstart",n,o)},onTouchMove:function(k){var l=this,j,g;if(!l.startPoint){return}if(!l.isStarted){l.tryDragStart(k)}if(!l.isStarted){return}j=k.changedTouches[0];g=j.point;if(l.lastPoint){l.previousPoint=l.lastPoint}l.lastPoint=g;l.lastMoveEvent=k;l.updateInfo("x",k,j);l.updateInfo("y",k,j);l.info.time=k.time;l.fire("drag",k,l.info)},onAxisDragEnd:function(f,g){var j=g.time-g.previousTime[f];if(j>0){g.flick.velocity[f]=(g[f]-g.previous[f])/j}},resetInfo:function(u,q,r){var p=this,o=p.lastPoint[u],w=p.startPoint[u],n=o-w,s=u.toUpperCase(),v=p.info;v.touch=r;v.delta[u]=n;v.absDelta[u]=Math.abs(n);v.previousTime[u]=p.startTime;v.previous[u]=w;v[u]=o;v.direction[u]=0;v["start"+s]=p.startPoint[u];v["previous"+s]=v.previous[u];v["page"+s]=v[u];v["delta"+s]=v.delta[u];v["absDelta"+s]=v.absDelta[u];v["previousDelta"+s]=0;v.startTime=p.startTime},updateInfo:function(A,v,w){var u=this,r=u.lastPoint[A],y=u.previousPoint[A],D=u.startPoint[A],q=r-D,B=u.info,s=B.direction,x=A.toUpperCase(),C=B.previous[A];B.touch=w;B.delta[A]=q;B.absDelta[A]=Math.abs(q);if(r!==C&&r!==B[A]){B.previous[A]=B[A];B.previousTime[A]=B.time}B[A]=r;if(r>y){s[A]=1}else{if(r<y){s[A]=-1}}B["start"+x]=D;B["previous"+x]=B.previous[A];B["page"+x]=B[A];B["delta"+x]=B.delta[A];B["absDelta"+x]=B.absDelta[A];B["previousDelta"+x]=B.previous[A]-D;B.startTime=u.startTime},onTouchEnd:function(l){var n=this,k,j,m;if(n.isStarted){k=l.changedTouches[0];j=k.point;m=n.info;n.lastPoint=j;n.updateInfo("x",l,k);n.updateInfo("y",l,k);m.time=l.time;n.onAxisDragEnd("x",m);n.onAxisDragEnd("y",m);n.fire("dragend",l,m)}return Ext.event.gesture.SingleTouch.prototype.onTouchEnd.call(this,l)},onCancel:function(k){var g=this,j=k.changedTouches[0],l=g.info;if(!k.touches.length){g.lastPoint=j.point}g.updateInfo("x",k,j);g.updateInfo("y",k,j);l.time=k.time;g.fire("dragcancel",k,l,true)},reset:function(){var c=this;c.lastPoint=c.startPoint=c.previousPoint=c.lastPoint=c.lastMoveEvent=null;c.initInfo();return Ext.event.gesture.SingleTouch.prototype.reset.call(this)}},1,0,0,0,0,0,[Ext.event.gesture,"Drag"],function(d){var f=Ext.manifest.gestures;d.instance=new d(f&&f.drag)}));(Ext.cmd.derive("Ext.event.gesture.Swipe",Ext.event.gesture.SingleTouch,{priority:600,handledEvents:["swipestart","swipe","swipecancel"],config:{minDistance:80,maxOffset:35,maxDuration:1000},onTouchStart:function(k){var l=this,g=Ext.event.gesture.SingleTouch.prototype.onTouchStart.call(this,k),j;if(g!==false){j=k.changedTouches[0];l.startTime=k.time;l.isHorizontal=true;l.isVertical=true;l.startX=j.pageX;l.startY=j.pageY}return g},onTouchMove:function(x){var w=this,y=x.changedTouches[0],s=y.pageX,v=y.pageY,A=s-w.startX,B=v-w.startY,D=Math.abs(s-w.startX),E=Math.abs(v-w.startY),C=x.time-w.startTime,r,u,F;if((D===0&&E===0)||(C>w.getMaxDuration())){return w.cancel(x)}if(w.isHorizontal&&E>w.getMaxOffset()){w.isHorizontal=false}if(w.isVertical&&D>w.getMaxOffset()){w.isVertical=false}if(!w.isVertical||!w.isHorizontal){r=w.getMinDistance();if(w.isHorizontal&&D<r){u=(A<0)?"left":"right";F=D}else{if(w.isVertical&&E<r){u=(B<0)?"up":"down";F=E}}}if(!w.isHorizontal&&!w.isVertical){return w.cancel(x)}if(u&&!w.isStarted){w.isStarted=true;w.fire("swipestart",x,{touch:y,direction:u,distance:F,duration:C})}},onTouchEnd:function(x){var w=this,y,s,v,A,B,D,E,r,C,u,F;if(w.onTouchMove(x)!==false){y=x.changedTouches[0];s=y.pageX;v=y.pageY;A=s-w.startX;B=v-w.startY;D=Math.abs(A);E=Math.abs(B);r=w.getMinDistance();C=x.time-w.startTime;if(w.isVertical&&E<r){w.isVertical=false}if(w.isHorizontal&&D<r){w.isHorizontal=false}if(w.isHorizontal){u=(A<0)?"left":"right";F=D}else{if(w.isVertical){u=(B<0)?"up":"down";F=E}}w.fire("swipe",x,{touch:y,direction:u,distance:F,duration:C})}return Ext.event.gesture.SingleTouch.prototype.onTouchEnd.call(this,x)},onCancel:function(c){this.fire("swipecancel",c,null,true)},reset:function(){var c=this;c.startTime=c.isHorizontal=c.isVertical=c.startX=c.startY=null;return Ext.event.gesture.SingleTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,"Swipe"],function(d){var f=Ext.manifest.gestures;d.instance=new d(f&&f.swipe)}));(Ext.cmd.derive("Ext.event.gesture.EdgeSwipe",Ext.event.gesture.Swipe,{priority:500,handledEvents:["edgeswipe","edgeswipestart","edgeswipeend","edgeswipecancel"],config:{minDistance:60},onTouchStart:function(k){var l=this,g=Ext.event.gesture.Swipe.prototype.onTouchStart.call(this,k),j;if(g!==false){j=k.changedTouches[0];l.direction=null;l.isHorizontal=true;l.isVertical=true;l.startX=j.pageX;l.startY=j.pageY}return g},onTouchMove:function(A){var y=this,C=A.changedTouches[0],L=C.pageX,x=C.pageY,D=L-y.startX,E=x-y.startY,I=Math.abs(x-y.startY),H=Math.abs(L-y.startX),K=y.getMinDistance(),F=y.getMaxOffset(),G=A.time-y.startTime,v=Ext.Viewport&&Ext.Element.getViewportWidth(),B=Ext.Viewport&&Ext.Element.getViewportHeight(),w,J;if(y.isVertical&&H>F){y.isVertical=false}if(y.isHorizontal&&I>F){y.isHorizontal=false}if(y.isVertical&&y.isHorizontal){if(I>H){y.isHorizontal=false}else{y.isVertical=false}}if(y.isHorizontal){w=(D<0)?"left":"right";J=D}else{if(y.isVertical){w=(E<0)?"up":"down";J=E}}w=y.direction||(y.direction=w);if(w==="up"){J=E*-1}else{if(w==="left"){J=D*-1}}y.distance=J;if(!J){return y.cancel(A)}if(!y.isStarted){if((w==="right"&&y.startX>K)||(w==="down"&&y.startY>K)||(w==="left"&&(v-y.startX)>K)||(w==="up"&&(B-y.startY)>K)){return y.cancel(A)}y.isStarted=true;y.startTime=A.time;y.fire("edgeswipestart",A,{touch:C,direction:w,distance:J,duration:G})}else{y.fire("edgeswipe",A,{touch:C,direction:w,distance:J,duration:G})}},onTouchEnd:function(g){var f=this,j;if(f.onTouchMove(g)!==false){j=g.time-f.startTime;f.fire("edgeswipeend",g,{touch:g.changedTouches[0],direction:f.direction,distance:f.distance,duration:j})}return this.reset()},onCancel:function(c){this.fire("edgeswipecancel",c,{touch:c.changedTouches[0]},true)},reset:function(){var c=this;c.direction=c.isHorizontal=c.isVertical=c.startX=c.startY=c.startTime=c.distance=null;return Ext.event.gesture.Swipe.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,"EdgeSwipe"],function(d){var f=Ext.manifest.gestures;d.instance=new d(f&&f.edgeSwipe)}));(Ext.cmd.derive("Ext.event.gesture.LongPress",Ext.event.gesture.SingleTouch,{priority:400,config:{moveDistance:8,minDuration:1000},handledEvents:["longpress","taphold"],onTouchStart:function(g){var j=this,f=Ext.event.gesture.SingleTouch.prototype.onTouchStart.call(this,g);if(f!==false){j.startPoint=g.changedTouches[0].point;j.setLongPressTimer(g)}return f},setLongPressTimer:function(f){var d=this;d.timer=Ext.defer(d.fireLongPress,d.getMinDuration(),d,[f])},onTouchMove:function(m){var n=this,j=m.changedTouches[0].point,l=Ext.Element.getViewportScale(),k=Math.round(Math.abs(j.getDistanceTo(n.startPoint)*l));if(k>=n.getMoveDistance()){return n.cancel(m)}},reset:function(){var c=this;clearTimeout(c.timer);c.timer=c.startPoint=null;return Ext.event.gesture.SingleTouch.prototype.reset.call(this)},fireLongPress:function(g){var f=this,j={touch:g.changedTouches[0],duration:f.getMinDuration(),startDrag:f.startDrag};this.fire("taphold",g,j);this.fire("longpress",g,j);this.reset()},startDrag:function(){var f=Ext.event.gesture.Drag.instance,d=this.parentEvent;f.doDragStart(d,true);Ext.event.publisher.Gesture.instance.claimRecognizer(f,d)}},0,0,0,0,0,0,[Ext.event.gesture,"LongPress"],function(d){var f=Ext.manifest.gestures;d.instance=new d(f&&f.longPress)}));(Ext.cmd.derive("Ext.event.gesture.MultiTouch",Ext.event.gesture.Recognizer,{requiredTouchesCount:2,isTracking:false,isMultiTouch:true,onTouchStart:function(k){var n=this,j=n.requiredTouchesCount,l=k.touches,m=l.length;if(m===j){n.isTracking=true}else{if(m>j){return n.cancel(k)}}},reset:function(){this.isTracking=false;return Ext.event.gesture.Recognizer.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,"MultiTouch"],0));(Ext.cmd.derive("Ext.event.gesture.Pinch",Ext.event.gesture.MultiTouch,{priority:700,handledEvents:["pinchstart","pinch","pinchend","pinchcancel"],startDistance:0,lastTouches:null,onTouchMove:function(n){var p=this,o,m,k,l;if(p.isTracking){o=n.touches;m=o[0].point;k=o[1].point;l=m.getDistanceTo(k);if(l===0){return}if(!p.isStarted){p.isStarted=true;p.startDistance=l;p.fire("pinchstart",n,{touches:o,distance:l,scale:1})}else{p.fire("pinch",n,{touches:o,distance:l,scale:l/p.startDistance})}}},onTouchEnd:function(c){if(this.isStarted){this.fire("pinchend",c)}return Ext.event.gesture.MultiTouch.prototype.onTouchEnd.call(this,c)},onCancel:function(c){this.fire("pinchcancel",c,null,true)},reset:function(){this.lastTouches=null;this.startDistance=0;return Ext.event.gesture.MultiTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,"Pinch"],function(d){var f=Ext.manifest.gestures;d.instance=new d(f&&f.pinch)}));(Ext.cmd.derive("Ext.event.gesture.Rotate",Ext.event.gesture.MultiTouch,{priority:800,handledEvents:["rotatestart","rotate","rotateend","rotatecancel"],startAngle:0,lastTouches:null,lastAngle:null,onTouchMove:function(r){var q=this,s,x,v,u,w,y,p,o;if(q.isTracking){s=r.touches;x=q.lastAngle;v=s[0].point;u=s[1].point;w=v.getAngleTo(u);if(x!==null){o=Math.abs(x-w);y=w+360;p=w-360;if(Math.abs(y-x)<o){w=y}else{if(Math.abs(p-x)<o){w=p}}}q.lastAngle=w;if(!q.isStarted){q.isStarted=true;q.startAngle=w;q.fire("rotatestart",r,{touches:s,angle:w,rotation:0})}else{q.fire("rotate",r,{touches:s,angle:w,rotation:w-q.startAngle})}q.lastTouches=Ext.Array.clone(s)}},onTouchEnd:function(c){if(this.isStarted){this.fire("rotateend",c)}return Ext.event.gesture.MultiTouch.prototype.onTouchEnd.call(this,c)},onCancel:function(c){this.fire("rotatecancel",c,null,true)},reset:function(){var c=this;c.lastTouches=c.lastAngle=c.startAngle=null;return Ext.event.gesture.MultiTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,"Rotate"],function(d){var f=Ext.manifest.gestures;d.instance=new d(f&&f.rotate)}));(Ext.cmd.derive("Ext.event.gesture.Tap",Ext.event.gesture.SingleTouch,{priority:200,handledEvents:["tap","tapcancel"],config:{moveDistance:8},onTouchStart:function(g){var j=this,f=Ext.event.gesture.SingleTouch.prototype.onTouchStart.call(this,g);if(f!==false){j.isStarted=true;j.startPoint=g.changedTouches[0].point}return f},onTouchMove:function(m){var n=this,j=m.changedTouches[0].point,l=Ext.Element.getViewportScale(),k=Math.round(Math.abs(j.getDistanceTo(n.startPoint)*l));if(k>=n.getMoveDistance()){return n.cancel(m)}},onTouchEnd:function(c){this.fire("tap",c,{touch:c.changedTouches[0]});return Ext.event.gesture.SingleTouch.prototype.onTouchEnd.call(this,c)},onCancel:function(c){this.fire("tapcancel",c,{touch:c.changedTouches[0]},true)},reset:function(){this.startPoint=null;return Ext.event.gesture.SingleTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,"Tap"],function(f){var d=Ext.manifest.gestures;f.instance=new f(d&&d.tap)}));(Ext.cmd.derive("Ext.event.publisher.Focus",Ext.event.publisher.Dom,{type:"focus",handledEvents:["focusenter","focusleave","focusmove"],handledDomEvents:["focusin","focusout"],publishDelegatedDomEvent:function(g){var j=this,f=g.relatedTarget;if(g.type==="focusout"){if(f==null){j.processFocusIn(g,g.target,document.body)}}else{if(f==null||!f.tagName){f=document.body}j.processFocusIn(g,f,g.target)}},processFocusIn:function(s,r,y){var q=this,p,A,u=[],B,v,w,x;w=Ext.fly(r);x=Ext.fly(y);if((w&&w.isFocusSuspended())||(x&&x.isFocusSuspended())){return}for(A=r,p=Ext.dom.Element.getCommonAncestor(y,r,true);A&&A!==p;A=A.parentNode){u.push(A)}if(u.length){B=q.createSyntheticEvent("focusleave",s,r,y);q.publish(B,u);if(B.stopped){return}}u.length=0;for(A=y;A&&A!==p;A=A.parentNode){u.push(A)}v=q.createSyntheticEvent("focusenter",s,y,r);if(u.length){q.publish(v,u);if(v.stopped){return}}u=q.getPropagatingTargets(p);if(u.length){B=q.createSyntheticEvent("focusmove",s,y,r);q.publish(B,u);if(B.stopped){return}}Ext.GlobalEvents.fireEvent("focus",{event:v,toElement:y,fromElement:r})},createSyntheticEvent:function(n,k,l,j){var m=new Ext.event.Event(k);m.type=n;m.relatedTarget=j;m.target=l;return m}},0,0,0,0,0,0,[Ext.event.publisher,"Focus"],function(f){var d;f.instance=new f();if(!Ext.supports.FocusinFocusoutEvents){this.override({handledDomEvents:["focus","blur"],publishDelegatedDomEvent:function(c){var j=this,b;j.callSuper([c]);b=c.target!==window&&c.target!==document;if(c.type==="blur"){if(!b){if(c.explicitOriginalTarget===f.previousActiveElement){if(c.target===window){clearTimeout(d);d=0;j.processFocusIn(c,f.previousActiveElement,document.body);f.previousActiveElement=null}}}else{d=setTimeout(function(){d=0;j.processFocusIn(c,c.target,document.body);f.previousActiveElement=null},0)}f.previousActiveElement=b?c.target:null}else{clearTimeout(d);d=0;j.processFocusIn(c,f.previousActiveElement||document.body,b?c.target:document.body)}}})}}));(Ext.cmd.derive("Ext.fx.State",Ext.Base,{isAnimatable:{"background-color":true,"background-image":true,"background-position":true,"border-bottom-color":true,"border-bottom-width":true,"border-color":true,"border-left-color":true,"border-left-width":true,"border-right-color":true,"border-right-width":true,"border-spacing":true,"border-top-color":true,"border-top-width":true,"border-width":true,bottom:true,color:true,crop:true,"font-size":true,"font-weight":true,height:true,left:true,"letter-spacing":true,"line-height":true,"margin-bottom":true,"margin-left":true,"margin-right":true,"margin-top":true,"max-height":true,"max-width":true,"min-height":true,"min-width":true,opacity:true,"outline-color":true,"outline-offset":true,"outline-width":true,"padding-bottom":true,"padding-left":true,"padding-right":true,"padding-top":true,right:true,"text-indent":true,"text-shadow":true,top:true,"vertical-align":true,visibility:true,width:true,"word-spacing":true,"z-index":true,zoom:true,transform:true},constructor:function(c){this.data={};this.set(c)},setConfig:function(c){this.set(c);return this},setRaw:function(c){this.data=c;return this},clear:function(){return this.setRaw({})},setTransform:function(q,m){var n=this.data,l=Ext.isArray(m),r=n.transform,o,p;if(!r){r=n.transform={translateX:0,translateY:0,translateZ:0,scaleX:1,scaleY:1,scaleZ:1,rotate:0,rotateX:0,rotateY:0,rotateZ:0,skewX:0,skewY:0}}if(typeof q=="string"){switch(q){case"translate":if(l){o=m.length;if(o==0){break}r.translateX=m[0];if(o==1){break}r.translateY=m[1];if(o==2){break}r.translateZ=m[2]}else{r.translateX=m}break;case"rotate":if(l){o=m.length;if(o==0){break}r.rotateX=m[0];if(o==1){break}r.rotateY=m[1];if(o==2){break}r.rotateZ=m[2]}else{r.rotate=m}break;case"scale":if(l){o=m.length;if(o==0){break}r.scaleX=m[0];if(o==1){break}r.scaleY=m[1];if(o==2){break}r.scaleZ=m[2]}else{r.scaleX=m;r.scaleY=m}break;case"skew":if(l){o=m.length;if(o==0){break}r.skewX=m[0];if(o==1){break}r.skewY=m[1]}else{r.skewX=m}break;default:r[q]=m}}else{for(p in q){if(q.hasOwnProperty(p)){m=q[p];this.setTransform(p,m)}}}},set:function(g,j){var k=this.data,l;if(typeof g!="string"){for(l in g){j=g[l];if(l==="transform"){this.setTransform(j)}else{k[l]=j}}}else{if(g==="transform"){this.setTransform(j)}else{k[g]=j}}return this},unset:function(d){var f=this.data;if(f.hasOwnProperty(d)){delete f[d]}return this},getData:function(){return this.data}},1,0,0,0,0,0,[Ext.fx,"State"],0));(Ext.cmd.derive("Ext.fx.animation.Abstract",Ext.Evented,{isAnimation:true,config:{name:"",element:null,before:null,from:{},to:{},after:null,states:{},duration:300,easing:"linear",iteration:1,direction:"normal",delay:0,onBeforeStart:null,callback:null,onEnd:null,onBeforeEnd:null,scope:null,reverse:null,preserveEndState:false,replacePrevious:true},STATE_FROM:"0%",STATE_TO:"100%",DIRECTION_UP:"up",DIRECTION_DOWN:"down",DIRECTION_LEFT:"left",DIRECTION_RIGHT:"right",stateNameRegex:/^(?:[\d\.]+)%$/,constructor:function(){this.states={};Ext.Evented.prototype.constructor.apply(this,arguments);return this},applyElement:function(c){return Ext.get(c)},applyBefore:function(d,f){if(d){return Ext.factory(d,Ext.fx.State,f)}},applyAfter:function(f,d){if(f){return Ext.factory(f,Ext.fx.State,d)}},setFrom:function(c){return this.setState(this.STATE_FROM,c)},setTo:function(c){return this.setState(this.STATE_TO,c)},getFrom:function(){return this.getState(this.STATE_FROM)},getTo:function(){return this.getState(this.STATE_TO)},setStates:function(f){var g=this.stateNameRegex,j;for(j in f){if(g.test(j)){this.setState(j,f[j])}}return this},getStates:function(){return this.states},updateCallback:function(c){if(c){this.setOnEnd(c)}},end:function(){this.stop()},stop:function(){this.fireEvent("stop",this)},destroy:function(){this.stop();Ext.Evented.prototype.destroy.call(this)},setState:function(l,j){var g=this.getStates(),k;k=Ext.factory(j,Ext.fx.State,g[l]);if(k){g[l]=k}return this},getState:function(c){return this.getStates()[c]},getData:function(){var w=this,q=w.getStates(),y={},v=w.getBefore(),B=w.getAfter(),u=q[w.STATE_FROM],s=q[w.STATE_TO],r=u.getData(),x=s.getData(),A,C,D;for(C in q){if(q.hasOwnProperty(C)){D=q[C];A=D.getData();y[C]=A}}return{before:v?v.getData():{},after:B?B.getData():{},states:y,from:r,to:x,duration:w.getDuration(),iteration:w.getIteration(),direction:w.getDirection(),easing:w.getEasing(),delay:w.getDelay(),onEnd:w.getOnEnd(),onBeforeEnd:w.getOnBeforeEnd(),onBeforeStart:w.getOnBeforeStart(),scope:w.getScope(),preserveEndState:w.getPreserveEndState(),replacePrevious:w.getReplacePrevious()}}},1,0,0,0,0,0,[Ext.fx.animation,"Abstract"],0));(Ext.cmd.derive("Ext.fx.animation.Slide",Ext.fx.animation.Abstract,{alternateClassName:"Ext.fx.animation.SlideIn",config:{direction:"left",out:false,offset:0,easing:"auto",containerBox:"auto",elementBox:"auto",isElementBoxFit:true,useCssTransform:true},reverseDirectionMap:{up:"down",down:"up",left:"right",right:"left"},applyEasing:function(c){if(c==="auto"){return"ease-"+((this.getOut())?"in":"out")}return c},getContainerBox:function(){var c=this._containerBox;if(c==="auto"){c=this.getElement().getParent().getBox()}return c},getElementBox:function(){var c=this._elementBox;if(this.getIsElementBoxFit()){return this.getContainerBox()}if(c==="auto"){c=this.getElement().getBox()}return c},getData:function(){var K=this.getElementBox(),H=this.getContainerBox(),D=K?K:H,v=this.getFrom(),L=this.getTo(),E=this.getOut(),F=this.getOffset(),w=this.getDirection(),I=this.getUseCssTransform(),C=this.getReverse(),G=0,J=0,x,A,y,B;if(C){w=this.reverseDirectionMap[w]}switch(w){case this.DIRECTION_UP:if(E){J=H.top-D.top-D.height-F}else{J=H.bottom-D.bottom+D.height+F}break;case this.DIRECTION_DOWN:if(E){J=H.bottom-D.bottom+D.height+F}else{J=H.top-D.height-D.top-F}break;case this.DIRECTION_RIGHT:if(E){G=H.right-D.right+D.width+F}else{G=H.left-D.left-D.width-F}break;case this.DIRECTION_LEFT:if(E){G=H.left-D.left-D.width-F}else{G=H.right-D.right+D.width+F}break}x=(E)?0:G;A=(E)?0:J;if(I){v.setTransform({translateX:x,translateY:A})}else{v.set("left",x);v.set("top",A)}y=(E)?G:0;B=(E)?J:0;if(I){L.setTransform({translateX:y,translateY:B})}else{L.set("left",y);L.set("top",B)}return Ext.fx.animation.Abstract.prototype.getData.apply(this,arguments)}},0,0,0,0,["animation.slide","animation.slideIn"],0,[Ext.fx.animation,"Slide",Ext.fx.animation,"SlideIn"],0));(Ext.cmd.derive("Ext.fx.animation.SlideOut",Ext.fx.animation.Slide,{config:{out:true}},0,0,0,0,["animation.slideOut"],0,[Ext.fx.animation,"SlideOut"],0));(Ext.cmd.derive("Ext.fx.animation.Fade",Ext.fx.animation.Abstract,{alternateClassName:"Ext.fx.animation.FadeIn",config:{out:false,before:{display:null,opacity:0},after:{opacity:null},reverse:null},updateOut:function(f){var g=this.getTo(),j=this.getFrom();if(f){j.set("opacity",1);g.set("opacity",0)}else{j.set("opacity",0);g.set("opacity",1)}}},0,0,0,0,["animation.fade","animation.fadeIn"],0,[Ext.fx.animation,"Fade",Ext.fx.animation,"FadeIn"],0));(Ext.cmd.derive("Ext.fx.animation.FadeOut",Ext.fx.animation.Fade,{config:{out:true,before:{}}},0,0,0,0,["animation.fadeOut"],0,[Ext.fx.animation,"FadeOut"],0));(Ext.cmd.derive("Ext.fx.animation.Flip",Ext.fx.animation.Abstract,{config:{easing:"ease-in",direction:"right",half:false,out:null},getData:function(){var y=this,w=y.getFrom(),v=y.getTo(),x=y.getDirection(),E=y.getOut(),r=y.getHalf(),D=r?90:180,B=1,F=1,s=0,u=0,A=0,C=0;if(E){F=0.8}else{B=0.8}switch(x){case this.DIRECTION_UP:if(E){A=D}else{s=-D}break;case this.DIRECTION_DOWN:if(E){A=-D}else{s=D}break;case this.DIRECTION_RIGHT:if(E){C=D}else{u=-D}break;case this.DIRECTION_LEFT:if(E){C=-D}else{u=D}break}w.setTransform({rotateX:s,rotateY:u,scale:B});v.setTransform({rotateX:A,rotateY:C,scale:F});return Ext.fx.animation.Abstract.prototype.getData.call(this)}},0,0,0,0,["animation.flip"],0,[Ext.fx.animation,"Flip"],0));(Ext.cmd.derive("Ext.fx.animation.Pop",Ext.fx.animation.Abstract,{alternateClassName:"Ext.fx.animation.PopIn",config:{out:false,before:{display:null,opacity:0},after:{opacity:null}},getData:function(){var g=this.getTo(),j=this.getFrom(),f=this.getOut();if(f){j.set("opacity",1);j.setTransform({scale:1});g.set("opacity",0);g.setTransform({scale:0})}else{j.set("opacity",0);j.setTransform({scale:0});g.set("opacity",1);g.setTransform({scale:1})}return Ext.fx.animation.Abstract.prototype.getData.apply(this,arguments)}},0,0,0,0,["animation.pop","animation.popIn"],0,[Ext.fx.animation,"Pop",Ext.fx.animation,"PopIn"],0));(Ext.cmd.derive("Ext.fx.animation.PopOut",Ext.fx.animation.Pop,{config:{out:true,before:{}}},0,0,0,0,["animation.popOut"],0,[Ext.fx.animation,"PopOut"],0));(Ext.cmd.derive("Ext.fx.Animation",Ext.Base,{constructor:function(j){var f=Ext.fx.animation.Abstract,g;if(typeof j=="string"){g=j;j={}}else{if(j&&j.type){g=j.type}}if(g){f=Ext.ClassManager.getByAlias("animation."+g)}return Ext.factory(j,f)}},1,0,0,0,0,0,[Ext.fx,"Animation"],0));(Ext.cmd.derive("Ext.fx.runner.Css",Ext.Evented,{prefixedProperties:{transform:true,"transform-origin":true,perspective:true,"transform-style":true,transition:true,"transition-property":true,"transition-duration":true,"transition-timing-function":true,"transition-delay":true,animation:true,"animation-name":true,"animation-duration":true,"animation-iteration-count":true,"animation-direction":true,"animation-timing-function":true,"animation-delay":true},lengthProperties:{top:true,right:true,bottom:true,left:true,width:true,height:true,"max-height":true,"max-width":true,"min-height":true,"min-width":true,"margin-bottom":true,"margin-left":true,"margin-right":true,"margin-top":true,"padding-bottom":true,"padding-left":true,"padding-right":true,"padding-top":true,"border-bottom-width":true,"border-left-width":true,"border-right-width":true,"border-spacing":true,"border-top-width":true,"border-width":true,"outline-width":true,"letter-spacing":true,"line-height":true,"text-indent":true,"word-spacing":true,"font-size":true,translate:true,translateX:true,translateY:true,translateZ:true,translate3d:true,x:true,y:true},durationProperties:{"transition-duration":true,"transition-delay":true,"animation-duration":true,"animation-delay":true},angleProperties:{rotate:true,rotateX:true,rotateY:true,rotateZ:true,skew:true,skewX:true,skewY:true},lengthUnitRegex:/([a-z%]*)$/,DEFAULT_UNIT_LENGTH:"px",DEFAULT_UNIT_ANGLE:"deg",DEFAULT_UNIT_DURATION:"ms",customProperties:{x:true,y:true},formattedNameCache:{x:"left",y:"top"},transformMethods3d:["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","skewX","skewY","scaleX","scaleY","scaleZ"],transformMethodsNo3d:["translateX","translateY","rotate","skewX","skewY","scaleX","scaleY"],constructor:function(){var c=this;c.transformMethods=Ext.feature.has.Css3dTransforms?c.transformMethods3d:c.transformMethodsNo3d;c.vendorPrefix=Ext.browser.getStyleDashPrefix();c.ruleStylesCache={};Ext.Evented.prototype.constructor.call(this)},getStyleSheet:function(){var g=this.styleSheet,f,j;if(!g){f=document.createElement("style");f.type="text/css";(document.head||document.getElementsByTagName("head")[0]).appendChild(f);j=document.styleSheets;this.styleSheet=g=j[j.length-1]}return g},applyRules:function(r){var u=this.getStyleSheet(),p=this.ruleStylesCache,q=u.cssRules,y,w,s,A,x,B,v;for(y in r){w=r[y];s=p[y];if(s===undefined){x=q.length;u.insertRule(y+"{}",x);s=p[y]=q.item(x).style}A=s.$cache;if(!A){A=s.$cache={}}for(B in w){v=this.formatValue(w[B],B);B=this.formatName(B);if(A[B]!==v){A[B]=v;if(v===null){s.removeProperty(B)}else{s.setProperty(B,v,"important")}}}}return this},applyStyles:function(p){var m,q,n,r,l,o;for(m in p){if(p.hasOwnProperty(m)){this.activeElement=q=document.getElementById(m);if(!q){continue}n=q.style;r=p[m];for(l in r){if(r.hasOwnProperty(l)){o=this.formatValue(r[l],l);l=this.formatName(l);if(o===null){n.removeProperty(l)}else{n.setProperty(l,o,"important")}}}}}this.activeElement=null;return this},formatName:function(j){var f=this.formattedNameCache,g=f[j];if(!g){if((Ext.os.is.Tizen||!Ext.feature.has.CssTransformNoPrefix)&&this.prefixedProperties[j]){g=this.vendorPrefix+j}else{g=j}f[j]=g}return g},formatValue:function(s,C){var w=typeof s,q=this.DEFAULT_UNIT_LENGTH,v=this.customProperties[C],y,D,A,x,B,r,u;if(s===null){return""}if(w==="string"){if(this.lengthProperties[C]){u=s.match(this.lengthUnitRegex)[1];if(u.length>0){}else{s=s+q;if(v){s=this.getCustomValue(s,C)}return s}}return s}else{if(w==="number"){if(s==0){return"0"}if(this.lengthProperties[C]){s=s+q;if(v){s=this.getCustomValue(s,C)}return s}if(this.angleProperties[C]){return s+this.DEFAULT_UNIT_ANGLE}if(this.durationProperties[C]){return s+this.DEFAULT_UNIT_DURATION}}else{if(C==="transform"){y=this.transformMethods;B=[];for(A=0,x=y.length;A<x;A++){D=y[A];B.push(D+"("+this.formatValue(s[D],D)+")")}return B.join(" ")}else{if(Ext.isArray(s)){r=[];for(A=0,x=s.length;A<x;A++){r.push(this.formatValue(s[A],C))}return(r.length>0)?r.join(", "):"none"}}}}return s},getCustomValue:function(j,g){var l=Ext.fly(this.activeElement),k=j.match(this.lengthUnitRegex)[1];if(g==="x"){j=l.translateXY(parseInt(j,10)).x}else{if(g==="y"){j=l.translateXY(null,parseInt(j,10)).y}}return j+k}},1,0,0,0,0,0,[Ext.fx.runner,"Css"],0));(Ext.cmd.derive("Ext.fx.runner.CssTransition",Ext.fx.runner.Css,{alternateClassName:"Ext.Animator",singleton:true,listenersAttached:false,constructor:function(){this.runningAnimationsData={};return this.callParent(arguments)},attachListeners:function(){this.listenersAttached=true;Ext.getWin().on("transitionend","onTransitionEnd",this)},onTransitionEnd:function(j){var f=j.target,g=f.id;if(g&&this.runningAnimationsData.hasOwnProperty(g)){this.refreshRunningAnimationsData(Ext.get(f),[j.browserEvent.propertyName])}},getElementId:function(c){return c.getId?c.getId():c.id},onAnimationEnd:function(B,C,E,y,u){var F=this.getElementId(B),x=this.runningAnimationsData[F],s={},v={},G,A,D,w,H;E.un("stop","onAnimationStop",this);if(x){G=x.nameMap}s[F]=v;if(C.onBeforeEnd){C.onBeforeEnd.call(C.scope||this,B,y)}E.fireEvent("animationbeforeend",E,B,y);this.fireEvent("animationbeforeend",this,E,B,y);if(u||(!y&&!C.preserveEndState)){A=C.toPropertyNames;for(D=0,w=A.length;D<w;D++){H=A[D];if(G&&!G.hasOwnProperty(H)){v[H]=null}}}if(C.after){Ext.merge(v,C.after)}this.applyStyles(s);if(C.onEnd){C.onEnd.call(C.scope||this,B,y)}E.fireEvent("animationend",E,B,y);this.fireEvent("animationend",this,E,B,y);Ext.AnimationQueue.stop(Ext.emptyFn,E)},onAllAnimationsEnd:function(j){var g=this.getElementId(j),f={};delete this.runningAnimationsData[g];f[g]={"transition-property":null,"transition-duration":null,"transition-timing-function":null,"transition-delay":null};this.applyStyles(f);this.fireEvent("animationallend",this,j)},hasRunningAnimations:function(f){var g=this.getElementId(f),j=this.runningAnimationsData;return j.hasOwnProperty(g)&&j[g].sessions.length>0},refreshRunningAnimationsData:function(O,J,A,E){var L=this.getElementId(O),D=this.runningAnimationsData,R=D[L];if(!R){return}var H=R.nameMap,B=R.nameList,Q=R.sessions,M,K,N,j,I,P,C,F,G=false;A=Boolean(A);E=Boolean(E);if(!Q){return this}M=Q.length;if(M===0){return this}if(E){R.nameMap={};B.length=0;for(I=0;I<M;I++){P=Q[I];this.onAnimationEnd(O,P.data,P.animation,A,E)}Q.length=0}else{for(I=0;I<M;I++){P=Q[I];C=P.map;F=P.list;for(K=0,N=J.length;K<N;K++){j=J[K];if(C[j]){delete C[j];Ext.Array.remove(F,j);P.length--;if(--H[j]==0){delete H[j];Ext.Array.remove(B,j)}}}if(P.length==0){Q.splice(I,1);I--;M--;G=true;this.onAnimationEnd(O,P.data,P.animation,A)}}}if(!E&&!A&&Q.length==0&&G){this.onAllAnimationsEnd(O)}},getRunningData:function(f){var d=this.runningAnimationsData;if(!d.hasOwnProperty(f)){d[f]={nameMap:{},nameList:[],sessions:[]}}return d[f]},getTestElement:function(){var m=this,l=m.testElement,n=m.iframe,k,j;if(l){if(l.ownerDocument.defaultView!==n.contentWindow){n.contentDocument.body.appendChild(l);m.testElementComputedStyle=k.defaultView.getComputedStyle(l)}}else{n=m.iframe=document.createElement("iframe");n.setAttribute("tabIndex",-1);j=n.style;j.setProperty("visibility","hidden","important");j.setProperty("width","0px","important");j.setProperty("height","0px","important");j.setProperty("position","absolute","important");j.setProperty("border","0px","important");j.setProperty("zIndex","-1000","important");document.body.appendChild(n);k=n.contentDocument;k.open();k.writeln("</body>");k.close();m.testElement=l=k.createElement("div");l.style.setProperty("position","absolute","important");k.body.appendChild(l);m.testElementComputedStyle=k.defaultView.getComputedStyle(l)}return l},getCssStyleValue:function(n,k){var l=this.getTestElement(),j=this.testElementComputedStyle,m=l.style;m.setProperty(n,k);if(Ext.browser.is.Firefox){l.offsetHeight}k=j.getPropertyValue(n);m.removeProperty(n);return k},run:function(S){var am=this,ah=Ext.Function,af=am.lengthProperties,ag={},au={},U={},aa={},ar,aA,aq,R,ad,T,ai,an,ax,ay,az,W,X,ae,j,V,ac,aj,ao,av,at,al,Z,ak,ap,aw,Y,ab;if(!am.listenersAttached){am.attachListeners()}S=Ext.Array.from(S);for(W=0,ae=S.length;W<ae;W++){j=S[W];j=Ext.factory(j,Ext.fx.Animation);am.activeElement=ar=j.getElement();Ext.AnimationQueue.start(Ext.emptyFn,j);aj=window.getComputedStyle(ar.dom);aA=am.getElementId(ar);U[aA]=U=Ext.merge({},j.getData());if(j.onBeforeStart){j.onBeforeStart.call(j.scope||am,ar)}j.fireEvent("animationstart",j,U);am.fireEvent("animationstart",am,j,U);ad=U.before;aq=U.from;R=U.to;U.fromPropertyNames=T=[];U.toPropertyNames=ai=[];for(av in R){if(R.hasOwnProperty(av)){R[av]=at=am.formatValue(R[av],av);ao=am.formatName(av);ak=af.hasOwnProperty(av);if(!ak){at=am.getCssStyleValue(ao,at)}if(aq.hasOwnProperty(av)){aq[av]=Z=am.formatValue(aq[av],av);if(!ak){Z=am.getCssStyleValue(ao,Z)}if(at!==Z){T.push(ao);ai.push(ao)}}else{al=aj.getPropertyValue(ao);if(at!==al){ai.push(ao)}}}}V=ai.length;if(V===0){am.onAnimationEnd(ar,U,j);continue}ay=am.getRunningData(aA);Y=ay.sessions;if(Y.length>0){am.refreshRunningAnimationsData(ar,Ext.Array.merge(T,ai),true,U.replacePrevious)}ap=ay.nameMap;aw=ay.nameList;ac={};for(X=0;X<V;X++){av=ai[X];ac[av]=true;if(!ap.hasOwnProperty(av)){ap[av]=1;aw.push(av)}else{ap[av]++}}ab={element:ar,map:ac,list:ai.slice(),length:V,data:U,animation:j};Y.push(ab);j.on("stop","onAnimationStop",am);az=Ext.apply({},ad);Ext.apply(az,aq);if(aw.length>0){T=Ext.Array.difference(aw,T);ai=Ext.Array.merge(T,ai);az["transition-property"]=T}ag[aA]=az;au[aA]=Ext.apply({},R);aa[aA]={"transition-property":ai,"transition-duration":U.duration,"transition-timing-function":U.easing,"transition-delay":U.delay};j.startTime=Date.now()}am.activeElement=null;ax=am.$className;am.applyStyles(ag);an=function(b){if(b.data===ax&&b.source===window){window.removeEventListener("message",an,false);am.applyStyles(au)}};ah.requestAnimationFrame(function(){if(Ext.isIE){am.applyStyles(aa);ah.requestAnimationFrame(function(){window.addEventListener("message",an,false);window.postMessage(ax,"*")})}else{Ext.merge(au,aa);window.addEventListener("message",an,false);window.postMessage(ax,"*")}})},onAnimationStop:function(r){var p=this.runningAnimationsData,n,m,o,u,s,q;for(n in p){if(p.hasOwnProperty(n)){m=p[n];o=m.sessions;for(u=0,s=o.length;u<s;u++){q=o[u];if(q.animation===r){this.refreshRunningAnimationsData(q.element,q.list.slice(),false)}}}}}},1,0,0,0,0,0,[Ext.fx.runner,"CssTransition",Ext,"Animator"],0));(Ext.cmd.derive("Ext.list.AbstractTreeItem",Ext.Widget,{isTreeListItem:true,cachedConfig:{expandable:false,expanded:false,iconCls:"",leaf:true,loading:false,selected:false,selectedParent:false},config:{iconClsProperty:"iconCls",indent:null,owner:null,node:null,over:null,parentItem:null,text:{lazy:true,$value:""},textProperty:"text"},updateNode:function(s){if(s){var p=this,w=p.itemMap,o,v,q,r,n,u;p.element.dom.setAttribute("data-recordId",s.internalId);if(!w){o=s.childNodes;v=p.getOwner();p.itemMap=w={};for(r=0,q=o.length;r<q;++r){u=o[r];if(u.data.visible){n=v.createItem(u,p);w[u.internalId]=n;p.insertItem(n,null)}}}p.setExpanded(s.isExpanded());p.doNodeUpdate(s)}},updateSelected:function(f){if(!this.isConfiguring){var d=this.getParentItem();while(d&&!d.isRootListItem){d.setSelectedParent(f);d=d.getParentItem()}}},collapse:function(){this.getNode().collapse()},expand:function(){this.getNode().expand()},getToolElement:Ext.emptyFn,insertItem:Ext.emptyFn,isExpanded:function(){return this.getExpanded()},isSelectionEvent:Ext.emptyFn,isToggleEvent:Ext.emptyFn,nodeCollapse:function(m,k){var n=this,j=n.getOwner(),l=n.preventAnimation?null:j.getAnimation();n.nodeCollapseBegin(l,k);if(!l){n.nodeCollapseEnd(k)}},nodeCollapseBegin:function(k,j){var l=this,g=l.getOwner();l.setExpanded(false);g.fireEvent("itemcollapse",g,l)},nodeCollapseEnd:function(c){if(!c){this.getOwner().updateLayout()}},nodeExpand:function(m){var n=this,j=n.getOwner(),k=n.getFloated(),l=!k&&j.getAnimation();n.nodeExpandBegin(l);if(!l){n.nodeExpandEnd()}},nodeExpandBegin:function(g){var j=this,f=j.getOwner();j.setExpanded(true);f.fireEvent("itemexpand",f,j)},nodeExpandEnd:function(){this.getOwner().updateLayout()},nodeInsert:function(s,q){var p=this,u=p.getOwner(),w=p.itemMap,v=s.internalId,n=u.getItem(s),r=null,o;if(n){o=n.getParentItem();o.removeItem(n);if(o!==p){o.doUpdateExpandable();n.setParentItem(p)}}else{n=p.getOwner().createItem(s,p)}w[v]=n;if(q){r=w[q.internalId]}p.insertItem(n,r);p.doUpdateExpandable();u.fireEvent("iteminsert",u,p,n,r);u.updateLayout()},nodeRemove:function(n){var o=this,m=o.itemMap,k=o.getOwner(),l=n.internalId,p=m[l];if(p){delete m[l];o.removeItem(p);p.destroy();o.doUpdateExpandable();k.fireEvent("itemremove",k,o,p);k.updateLayout()}},nodeUpdate:function(f,d){this.doNodeUpdate(f)},removeItem:Ext.emptyFn,destroy:function(){var k=this,j=k.itemMap,g=k.getOwner(),l;if(j){for(l in j){j[l].destroy()}k.itemMap=null}if(g){g.removeItem(k.getNode())}k.setNode(null);k.setParentItem(null);k.setOwner(null);Ext.Widget.prototype.destroy.call(this)},privates:{doNodeUpdate:function(j){var k=this,l=this.getTextProperty(),g=this.getIconClsProperty();if(l){k.setText(j.data[l])}if(g){k.setIconCls(j.data[g])}k.setLoading(j.isLoading());k.setLeaf(j.isLeaf());k.doUpdateExpandable()},doUpdateExpandable:function(){var c=this.getNode();this.setExpandable(c.isExpandable())},onClick:function(k){var m=this,j=m.getOwner(),n=m.getNode(),l={event:k,item:m,node:n,tree:j,select:n.get("selectable")!==false&&m.isSelectionEvent(k),toggle:m.isToggleEvent(k)};if(j.fireEvent("itemclick",j,l)!==false){if(l.toggle){m.toggleExpanded();k.preventDefault()}if(l.select){j.setSelection(m.getNode())}}},toggleExpanded:function(){if(this.isExpanded()){this.collapse()}else{this.expand()}},updateIndent:function(j){var f=this.itemMap,g;for(g in f){f[g].setIndent(j)}},updateOwner:function(c){this.parent=c}}},0,0,["widget"],{widget:true},0,0,[Ext.list,"AbstractTreeItem"],0));(Ext.cmd.derive("Ext.list.RootTreeItem",Ext.list.AbstractTreeItem,{isRootListItem:true,element:{reference:"element",tag:"ul",cls:"x-treelist-root-container"},insertItem:function(f,d){if(d){f.element.insertBefore(d.element)}else{this.element.appendChild(f.element)}},isToggleEvent:function(c){return false}},0,0,["widget"],{widget:true},0,0,[Ext.list,"RootTreeItem"],0));(Ext.cmd.derive("Ext.list.TreeItem",Ext.list.AbstractTreeItem,{collapsedCls:"x-treelist-item-collapsed",expandedCls:"x-treelist-item-expanded",floatedCls:[Ext.Widget.prototype.floatedCls,"x-treelist-item-floated"],floatedToolCls:"x-treelist-item-tool-floated",leafCls:"x-treelist-item-leaf",expandableCls:"x-treelist-item-expandable",hideIconCls:"x-treelist-item-hide-icon",loadingCls:"x-treelist-item-loading",selectedCls:"x-treelist-item-selected",selectedParentCls:"x-treelist-item-selected-parent",withIconCls:"x-treelist-item-with-icon",hoverCls:"x-treelist-item-over",rowHoverCls:"x-treelist-row-over",isTreeListItem:true,config:{rowCls:null},rowClsProperty:"rowCls",element:{reference:"element",tag:"li",cls:"x-treelist-item",children:[{reference:"rowElement",cls:"x-treelist-row",children:[{reference:"wrapElement",cls:"x-treelist-item-wrap",children:[{reference:"iconElement",cls:"x-treelist-item-icon"},{reference:"textElement",cls:"x-treelist-item-text"},{reference:"expanderElement",cls:"x-treelist-item-expander"}]}]},{reference:"itemContainer",tag:"ul",cls:"x-treelist-container"},{reference:"toolElement",cls:"x-treelist-item-tool"}]},constructor:function(d){Ext.list.AbstractTreeItem.prototype.constructor.call(this,d);var f=this.toolElement.dom;f.parentNode.removeChild(f)},getToolElement:function(){return this.toolElement},insertItem:function(f,d){if(d){f.element.insertBefore(d.element)}else{this.itemContainer.appendChild(f.element)}},isSelectionEvent:function(f){var d=this.getOwner();return(!this.isToggleEvent(f)||!d.getExpanderOnly()||d.getSelectOnExpander())},isToggleEvent:function(f){var d=false;if(this.getOwner().getExpanderOnly()){d=f.target===this.expanderElement.dom}else{d=!this.itemContainer.contains(f.target)}return d},nodeCollapseBegin:function(l,k){var m=this,n=m.itemContainer,j;if(m.expanding){m.stopAnimation(m.expanding)}j=l&&n.getHeight();Ext.list.AbstractTreeItem.prototype.nodeCollapseBegin.call(this,l,k);if(l){n.dom.style.display="block";m.collapsingForExpand=k;m.collapsing=this.runAnimation(Ext.merge({from:{height:j},to:{height:0},callback:m.nodeCollapseDone,scope:m},l))}},nodeCollapseDone:function(g){var j=this,f=j.itemContainer;j.collapsing=null;f.dom.style.display="";f.setHeight(null);j.nodeCollapseEnd(j.collapsingForExpand)},nodeExpandBegin:function(j){var k=this,l=k.itemContainer,g;if(k.collapsing){k.stopAnimation(k.collapsing)}Ext.list.AbstractTreeItem.prototype.nodeExpandBegin.call(this,j);if(j){g=l.getHeight();l.setHeight(0);k.expanding=k.runAnimation(Ext.merge({to:{height:g},callback:k.nodeExpandDone,scope:k},j))}},nodeExpandDone:function(){this.expanding=null;this.itemContainer.setHeight(null);this.nodeExpandEnd()},removeItem:function(c){this.itemContainer.removeChild(c.element)},updateNode:function(d,f){this.syncIndent();Ext.list.AbstractTreeItem.prototype.updateNode.call(this,d,f)},updateExpandable:function(){this.updateExpandCls()},updateExpanded:function(){this.updateExpandCls()},updateIconCls:function(l,g){var j=this,k=j.element;j.doIconCls(j.iconElement,l,g);j.doIconCls(j.toolElement,l,g);k.toggleCls(j.withIconCls,!!l);k.toggleCls(j.hideIconCls,l===null)},updateLeaf:function(c){this.element.toggleCls(this.leafCls,c)},updateLoading:function(c){this.element.toggleCls(this.loadingCls,c)},updateOver:function(f){var d=this;d.element.toggleCls(d.hoverCls,!!f);d.rowElement.toggleCls(d.rowHoverCls,f>1)},updateRowCls:function(f,d){this.rowElement.replaceCls(d,f)},updateSelected:function(m,k){var l=this,j=l.selectedCls,n=l.getToolElement();Ext.list.AbstractTreeItem.prototype.updateSelected.call(this,m,k);l.element.toggleCls(j,m);if(n){n.toggleCls(j,m)}},updateSelectedParent:function(j){var g=this;g.element.toggleCls(g.selectedParentCls,j);var f=g.getToolElement();if(f){f.toggleCls(g.selectedCls,j)}},updateText:function(c){this.textElement.update(c)},privates:{doNodeUpdate:function(c){Ext.list.AbstractTreeItem.prototype.doNodeUpdate.call(this,c);this.setRowCls(c&&c.data[this.rowClsProperty])},doIconCls:function(g,j,f){if(f){g.removeCls(f)}if(j){g.addCls(j)}},syncIndent:function(){var k=this,g=k.getIndent(),l=k.getNode(),j;if(l){j=l.data.depth-1;k.wrapElement.dom.style.marginLeft=(j*g)+"px"}},updateExpandCls:function(){if(!this.updatingExpandCls){var m=this,o=m.getExpandable(),n=m.element,p=m.getExpanded(),k=m.expandedCls,l=m.collapsedCls;m.updatingExpandCls=true;n.toggleCls(m.expandableCls,o);if(o){n.toggleCls(k,p);n.toggleCls(l,!p)}else{n.removeCls([k,l])}m.updatingExpandCls=false}},updateIndent:function(f,d){this.syncIndent();Ext.list.AbstractTreeItem.prototype.updateIndent.call(this,f,d)}}},1,["treelistitem"],["widget","treelistitem"],{widget:true,treelistitem:true},["widget.treelistitem"],0,[Ext.list,"TreeItem"],0));Ext.define("Ext.overrides.list.TreeItem",{override:"Ext.list.TreeItem",config:{floated:null},setFloated:function(m){var n=this,p=n.element,l=n.placeholder,o,k;if(n.treeItemFloated!==m){if(m){l=p.clone(false,true);l.id+="-placeholder";n.placeholder=Ext.get(l);n.wasExpanded=n.getExpanded();n.setExpanded(true);p.addCls(n.floatedCls);p.dom.parentNode.insertBefore(l,p.dom);n.floater=n.createFloater()}else{if(l){k=n.wasExpanded;o=n.getNode();n.setExpanded(k);if(!k&&o.isExpanded()){n.preventAnimation=true;o.collapse();n.preventAnimation=false}n.floater.remove(n,false);p.removeCls(n.floatedCls);l.dom.parentNode.insertBefore(p.dom,l.dom);l.destroy();n.floater.destroy();n.placeholder=n.floater=null}}n.treeItemFloated=m}},getFloated:function(){return this.treeItemFloated},runAnimation:function(c){return this.itemContainer.addAnimation(c)},stopAnimation:function(c){c.jumpToEnd()},privates:{createFloater:function(){var l=this,j=l.getOwner(),n=l.up("treelist"),m,k=l.getToolElement();l.floater=m=new Ext.container.Container({cls:n.self.prototype.element.cls+" "+n.uiPrefix+n.getUi()+" x-treelist-floater",floating:true,width:Ext.isIE8?200:(n.expandedWidth-k.getWidth()),shadow:false,renderTo:Ext.getBody(),listeners:{element:"el",click:function(b){return j.onClick(b)}}});m.add(l);m.show();m.el.alignTo(k,"tr?");return m}}});Ext.define("Ext.theme.triton.list.TreeItem",{override:"Ext.list.TreeItem",compatibility:Ext.isIE8,setFloated:function(f,d){arguments.callee.$previous.call(this,f,d);this.toolElement.syncRepaint()}});(Ext.cmd.derive("Ext.list.Tree",Ext.Widget,{expanderFirstCls:"x-treelist-expander-first",expanderOnlyCls:"x-treelist-expander-only",highlightPathCls:"x-treelist-highlight-path",microCls:"x-treelist-micro",uiPrefix:"x-treelist-",element:{reference:"element",cls:"x-treelist x-unselectable",listeners:{click:"onClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseover:"onMouseOver"},children:[{reference:"toolsElement",cls:"x-treelist-toolstrip",listeners:{click:"onToolStripClick",mouseover:"onToolStripMouseOver"}}]},cachedConfig:{animation:{duration:500,easing:"ease"},expanderFirst:true,expanderOnly:true},config:{defaults:{xtype:"treelistitem"},highlightPath:null,iconSize:null,indent:null,micro:false,overItem:null,selection:null,selectOnExpander:false,singleExpand:null,store:null,ui:null},twoWayBindable:{selection:1},publishes:{selection:1},defaultBindProperty:"store",constructor:function(d){var f=this;Ext.Widget.prototype.constructor.call(this,d);f.publishState("selection",f.getSelection());if(!Ext.isIE8){f.el.on({resize:f.onElResize,buffer:300,scope:f})}},beforeLayout:function(){this.syncIconSize()},destroy:function(){var c=this;c.destroying=true;c.unfloatAll();c.activeFloater=null;c.setSelection(null);c.setStore(null);Ext.Widget.prototype.destroy.call(this)},updateOverItem:function(m,c){var n={},o=2,l,p;for(l=m;l;l=this.getItem(p.parentNode)){p=l.getNode();n[p.internalId]=true;l.setOver(o);o=1}if(c){for(l=c;l;l=this.getItem(p.parentNode)){p=l.getNode();if(n[p.internalId]){break}l.setOver(0)}}},applyMicro:function(c){return Boolean(c)},applySelection:function(g,f){var j=this.getStore();if(!j){g=null}if(g&&g.get("selectable")===false){g=f}return g},updateSelection:function(l,g){var j=this,k;if(!j.destroying){k=j.getItem(g);if(k){k.setSelected(false)}k=j.getItem(l);if(k){k.setSelected(true)}j.fireEvent("selectionchange",j,l)}},applyStore:function(c){return c&&Ext.StoreManager.lookup(c,"tree")},updateStore:function(l,j){var k=this,g;if(j){if(!j.destroyed){if(j.getAutoDestroy()){j.destroy()}else{k.storeListeners.destroy()}}k.removeRoot();k.storeListeners=null}if(l){k.storeListeners=l.on({destroyable:true,scope:k,filterchange:"onFilterChange",nodeappend:"onNodeAppend",nodecollapse:"onNodeCollapse",nodeexpand:"onNodeExpand",nodeinsert:"onNodeInsert",noderemove:"onNodeRemove",rootchange:"onRootChange",update:"onNodeUpdate"});g=l.getRoot();if(g){k.createRootItem(g)}}if(!k.destroying){k.updateLayout()}},updateExpanderFirst:function(c){this.element.toggleCls(this.expanderFirstCls,c)},updateExpanderOnly:function(c){this.element.toggleCls(this.expanderOnlyCls,!c)},updateHighlightPath:function(c){this.element.toggleCls(this.highlightPathCls,c)},onElResize:function(f,d){if(!this.getMicro()){this.expandedWidth=d.width}},updateMicro:function(d){var f=this;if(!d){f.unfloatAll();f.activeFloater=null}f.element.toggleCls(f.microCls,d)},updateUi:function(j,g){var k=this.element,l=this.uiPrefix;if(g){k.removeCls(l+g)}if(j){k.addCls(l+j)}delete this.iconSize;this.syncIconSize()},getItem:function(j){var g=this.itemMap,f;if(j&&g){f=g[j.internalId]}return f||null},getItemConfig:function(f,d){return Ext.apply({parentItem:d.isRootListItem?null:d,owner:this,node:f,indent:this.getIndent()},this.getDefaults())},privates:{checkForOutsideClick:function(f){var d=this.activeFloater;if(!d.element.contains(f.target)){this.unfloatAll()}},collapsingForExpand:false,createItem:function(n,r){var o=this,p=Ext.create(o.getItemConfig(n,r)),m=o.toolsElement,l,q;if(r.isRootListItem){l=p.getToolElement();if(l){q=o.findVisiblePreviousSibling(n);if(!q){m.insertFirst(l)}else{q=o.getItem(q);l.insertAfter(q.getToolElement())}l.dom.setAttribute("data-recordId",n.internalId);l.isTool=true}}o.itemMap[n.internalId]=p;return p},createRootItem:function(f){var g=this,j;g.itemMap={};g.rootItem=j=new Ext.list.RootTreeItem({indent:g.getIndent(),node:f,owner:g});g.element.appendChild(j.element);g.itemMap[f.internalId]=j},findVisiblePreviousSibling:function(f){var d=f.previousSibling;while(d){if(d.data.visible){return d}d=d.previousSibling}return null},floatItem:function(j,l){var k=this,g;if(j.getFloated()){return}if(k.toolMouseListeners){k.toolMouseListeners.destroy();k.floaterMouseListeners.destroy()}k.unfloatAll();k.activeFloater=g=j;k.floatedByHover=l;j.setFloated(true);if(l){k.toolMouseListeners=j.getToolElement().monitorMouseLeave(300,k.checkForMouseLeave,k);k.floaterMouseListeners=(j.floater||j).el.monitorMouseLeave(300,k.checkForMouseLeave,k)}else{Ext.on("mousedown","checkForOutsideClick",k)}},onClick:function(j){var f=j.getTarget("[data-recordId]"),g;if(f){g=f.getAttribute("data-recordId");f=this.itemMap[g];if(f){f.onClick(j)}}},onMouseEnter:function(c){this.onMouseOver(c)},onMouseLeave:function(){this.setOverItem(null)},onMouseOver:function(f){var d=Ext.Component.fromElement(f.getTarget());this.setOverItem(d&&d.isTreeListItem&&d)},checkForMouseLeave:function(g){var j=this.activeFloater,f=g.getRelatedTarget();if(j){if(f!==j.getToolElement().dom&&!j.element.contains(f)){this.unfloatAll()}}},onFilterChange:function(c){this.onRootChange(c.getRoot())},onNodeAppend:function(f,g){if(f){var j=this.itemMap[f.internalId];if(j){j.nodeInsert(g,null)}}},onNodeCollapse:function(f){var d=this.itemMap[f.internalId];if(d){d.nodeCollapse(f,this.collapsingForExpand)}},onNodeExpand:function(p){var q=this,r=q.itemMap[p.internalId],o,u,s,m,n;if(r){if(!r.isRootItem&&q.getSingleExpand()){q.collapsingForExpand=true;m=(r.getParentItem()||q.rootItem).getNode();o=m.childNodes;for(s=0,u=o.length;s<u;++s){n=o[s];if(n!==p){n.collapse()}}q.collapsing=false}r.nodeExpand(p)}},onNodeInsert:function(g,j,l){var k=this.itemMap[g.internalId];if(k){k.nodeInsert(j,l)}},onNodeRemove:function(g,j,l){if(g&&!l){var k=this.itemMap[g.internalId];if(k){k.nodeRemove(j)}}},onNodeUpdate:function(j,k,n,l){var m=this.itemMap[k.internalId];if(m){m.nodeUpdate(k,l)}},onRootChange:function(d){var f=this;f.removeRoot();if(d){f.createRootItem(d)}f.updateLayout();f.fireEvent("refresh",f)},removeItem:function(m){var l=this.itemMap,k=m.internalId,n,j;if(l){n=l[k];if(n.getParentItem()===null){j=n.getToolElement();if(j){this.toolsElement.removeChild(j)}}delete l[k]}},removeRoot:function(){var f=this,d=f.rootItem;if(d){f.element.removeChild(d.element);f.rootItem=f.itemMap=Ext.destroy(d)}},onToolStripClick:function(j){var f=j.getTarget("[data-recordId]"),g;if(f){g=f.getAttribute("data-recordId");f=this.itemMap[g];if(f){if(f===this.activeFloater){this.unfloatAll()}else{this.floatItem(f,false)}}}},onToolStripMouseOver:function(j){var f=j.getTarget("[data-recordId]"),g;if(f){g=f.getAttribute("data-recordId");f=this.itemMap[g];if(f){this.floatItem(f,true)}}},syncIconSize:function(){var f=this,d=f.iconSize||(f.iconSize=parseInt(f.element.getStyle("background-position"),10));f.setIconSize(d)},unfloatAll:function(){var f=this,d=f.activeFloater;if(d){d.setFloated(false);f.activeFloater=null;if(f.floatedByHover){d.getToolElement().un("mouseleave","checkForMouseLeave",f);d.element.un({scope:f,mouseleave:"checkForMouseLeave",mouseover:"onMouseOver"})}else{Ext.un("mousedown","checkForOutsideClick",f)}}},defaultIconSize:22,updateIconSize:function(c){this.setIndent(c||this.defaultIconSize)},updateIndent:function(f){var d=this.rootItem;if(d){d.setIndent(f)}}}},1,["treelist"],["widget","treelist"],{widget:true,treelist:true},["widget.treelist"],0,[Ext.list,"Tree"],0));(Ext.cmd.derive("Ext.mixin.Container",Ext.Mixin,{mixinConfig:{id:"container"},isContainer:true,config:{referenceHolder:false},getReferences:function(){Ext.ComponentManager.fixReferences();return this.refs||null},lookup:function(f){var d=this.getReferences();return(d&&d[f])||null},lookupReference:function(c){return this.lookup(c)},privates:{attachReference:function(l){var j=this,k,g;if(j.destroying||j.destroyed){return}g=j.refs||(j.refs={});k=l.referenceKey;g[k]=l},clearReference:function(j){var f=this.refs,g=j.referenceKey;if(f&&g){j.viewModelKey=j.referenceKey=f[g]=null}},containerOnAdded:function(f,d){if(d){Ext.ComponentManager.markReferencesDirty()}},containerOnRemoved:function(d){var f;if(!d){f=this.lookupReferenceHolder();if(f){Ext.ComponentManager.markReferencesDirty();f.clearReferences()}}},clearReferences:function(){this.refs=null},initContainerInheritedState:function(q,s){var o=this,u=o.getController(),n=o.getSession(),r=o.getConfig("viewModel",true),m=o.getReference(),p=o.getReferenceHolder();if(u){q.referenceHolder=u;p=true}else{if(p){q.referenceHolder=o}}if(p){q.referencePath=""}else{if(m&&o.isParentReference){q.referencePath=o.referenceKey+"."}}if(n){q.session=n}if(r){q.viewModelPath=""}else{if(m&&o.isParentReference){q.viewModelPath=o.viewModelKey+"."}}},setupReference:function(f){var d;if(f&&f.charAt(d=f.length-1)===">"){this.isParentReference=true;f=f.substring(0,d)}return f}}},0,0,0,0,0,0,[Ext.mixin,"Container"],0));(Ext.cmd.derive("Ext.mixin.Responsive",Ext.Mixin,function(c){return{mixinConfig:{id:"responsive",after:{destroy:"destroy"}},config:{responsiveConfig:{$value:undefined,merge:function(b,o,l,m){if(!b){return o}var p=o?Ext.Object.chain(o):{},n;for(n in b){if(!m||!(n in p)){p[n]={fn:null,config:b[n]}}}return p}},responsiveFormulas:{$value:0,merge:function(b,l,j,k){return this.mergeNew(b,l,j,k)}}},destroy:function(){c.unregister(this)},privates:{statics:{active:false,all:{},context:Ext.Object.chain(Ext.platformTags),count:0,nextId:0,activate:function(){c.active=true;c.updateContext();Ext.on("resize",c.onResize,c)},deactivate:function(){c.active=false;Ext.un("resize",c.onResize,c)},notify:function(){var l=c.all,m=c.context,n=Ext.GlobalEvents,b=c.timer,k;if(b){c.timer=null;Ext.asapCancel(b)}c.updateContext();Ext.suspendLayouts();n.fireEvent("beforeresponsiveupdate",m);for(k in l){l[k].setupResponsiveContext()}n.fireEvent("beginresponsiveupdate",m);for(k in l){l[k].updateResponsiveState()}n.fireEvent("responsiveupdate",m);Ext.resumeLayouts(true)},onResize:function(){if(!c.timer){c.timer=Ext.asap(c.onTimer)}},onTimer:function(){c.timer=null;c.notify()},processConfig:function(r,b,n){var m=b&&b[n],o=r.config,q,p;if(m){p=r.self.getConfigurator();q=p.configs[n];o[n]=q.merge(m,o[n],r)}},register:function(f){var b=f.$responsiveId;if(!b){f.$responsiveId=b=++c.nextId;c.all[b]=f;if(++c.count===1){c.activate()}}},unregister:function(f){var b=f.$responsiveId;if(b in c.all){f.$responsiveId=null;delete c.all[b];if(--c.count===0){c.deactivate()}}},updateContext:function(){var b=Ext.Element,j=b.getViewportWidth(),l=b.getViewportHeight(),k=c.context;k.width=j;k.height=l;k.tall=j<l;k.wide=!k.tall;k.landscape=k.portrait=false;if(!k.platform){k.platform=Ext.platformTags}k[Ext.dom.Element.getOrientation()]=true}},afterClassMixedIn:function(b){var k=b.prototype,n=k.responsiveConfig,l=k.responsiveFormulas,m;if(n||l){m={};if(n){delete k.responsiveConfig;m.responsiveConfig=n}if(l){delete k.responsiveFormulas;m.responsiveFormulas=l}b.getConfigurator().add(m)}},applyResponsiveConfig:function(b){for(var f in b){b[f].fn=Ext.createRuleFn(f)}return b},applyResponsiveFormulas:function(j){var k={},b,l;if(j){for(l in j){if(Ext.isString(b=j[l])){b=Ext.createRuleFn(b)}k[l]=b}}return k},getResponsiveState:function(){var m=c.context,b=this.getResponsiveConfig(),n={},l,k;if(b){for(k in b){l=b[k];if(l.fn.call(this,m)){Ext.merge(n,l.config)}}}return n},setupResponsiveContext:function(){var g=this.getResponsiveFormulas(),b=c.context,j;if(g){for(j in g){b[j]=g[j].call(this,b)}}},transformInstanceConfig:function(b){var g=this,j;c.register(g);if(b){c.processConfig(g,b,"responsiveConfig");c.processConfig(g,b,"responsiveFormulas")}g.setupResponsiveContext();j=g.getResponsiveState();if(b){j=Ext.merge({},b,j);delete j.responsiveConfig;delete j.responsiveFormulas}return j},updateResponsiveState:function(){var b=this.getResponsiveState();this.setConfig(b)}}}},0,0,0,0,0,0,[Ext.mixin,"Responsive"],0));(Ext.cmd.derive("Ext.perf.Accumulator",Ext.Base,function(){var u=null,p=Ext.global.chrome,s,v=function(){v=Ext.now;var d,c;if(Ext.isChrome&&p&&p.Interval){d=new p.Interval();d.start();v=function(){return d.microseconds()/1000}}else{if(window.ActiveXObject){try{c=new ActiveXObject("SenchaToolbox.Toolbox");Ext.senchaToolbox=c;v=function(){return c.milliseconds}}catch(b){}}}Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=v;return v()};function o(b,c){b.sum+=c;b.min=Math.min(b.min,c);b.max=Math.max(b.max,c)}function r(b){var d=b?b:(v()-this.time),c=this,f=c.accum;++f.count;if(!--f.depth){o(f.total,d)}o(f.pure,d-c.childTime);u=c.parent;if(u){++u.accum.childCount;u.childTime+=d}}function w(){return{min:Number.MAX_VALUE,max:0,sum:0}}function n(b,c){return function(){var d=b.enter(),f=c.apply(this,arguments);d.leave();return f}}function q(d,f,g,b){var c={avg:0,min:b.min,max:b.max,sum:0};if(d){g=g||0;c.sum=b.sum-f*g;c.avg=c.sum/d}return c}return{constructor:function(c){var b=this;b.count=b.childCount=b.depth=b.maxDepth=0;b.pure=w();b.total=w();b.name=c},statics:{getTimestamp:v},format:function(c){if(!s){s=new Ext.XTemplate(["{name} - {count} call(s)",'<tpl if="count">','<tpl if="childCount">'," ({childCount} children)","</tpl>",'<tpl if="depth - 1">'," ({depth} deep)","</tpl>",'<tpl for="times">',", {type}: {[this.time(values.sum)]} msec (","avg={[this.time(values.sum / parent.count)]}",")","</tpl>","</tpl>"].join(""),{time:function(d){return Math.round(d*100)/100}})}var b=this.getData(c);b.name=this.name;b.pure.type="Pure";b.total.type="Total";b.times=[b.pure,b.total];return s.apply(b)},getData:function(c){var b=this;return{count:b.count,childCount:b.childCount,depth:b.maxDepth,pure:q(b.count,b.childCount,c,b.pure),total:q(b.count,b.childCount,c,b.total)}},enter:function(){var c=this,b={accum:c,leave:r,childTime:0,parent:u};++c.depth;if(c.maxDepth<c.depth){c.maxDepth=c.depth}u=b;b.time=v();return b},monitor:function(c,d,f){var b=this.enter();if(f){c.apply(d,f)}else{c.call(d)}b.leave()},report:function(){Ext.log(this.format())},tap:function(m,k){var l=this,c=typeof k==="string"?[k]:k,B,g,D,b,d,f,j,C;C=function(){if(typeof m==="string"){B=Ext.global;b=m.split(".");for(D=0,d=b.length;D<d;++D){B=B[b[D]]}}else{B=m}for(D=0,d=c.length;D<d;++D){f=c[D];g=f.charAt(0)==="!";if(g){f=f.substring(1)}else{g=!(f in B.prototype)}j=g?B:B.prototype;j[f]=n(l,j[f])}};Ext.ClassManager.onCreated(C,l,m);return l}}},1,0,0,0,0,0,[Ext.perf,"Accumulator"],function(){Ext.perf.getTimestamp=this.getTimestamp}));(Ext.cmd.derive("Ext.perf.Monitor",Ext.Base,{singleton:true,alternateClassName:"Ext.Perf",constructor:function(){this.accumulators=[];this.accumulatorsByName={}},calibrate:function(){var r=new Ext.perf.Accumulator("$"),n=r.total,q=Ext.perf.Accumulator.getTimestamp,o=0,m,l,p;p=q();do{m=r.enter();m.leave();++o}while(n.sum<100);l=q();return(l-p)/o},get:function(j){var g=this,f=g.accumulatorsByName[j];if(!f){g.accumulatorsByName[j]=f=new Ext.perf.Accumulator(j);g.accumulators.push(f)}return f},enter:function(c){return this.get(c).enter()},monitor:function(f,g,j){this.get(f).monitor(g,j)},report:function(){var g=this,j=g.accumulators,f=g.calibrate();j.sort(function(b,c){return(b.name<c.name)?-1:((c.name<b.name)?1:0)});g.updateGC();Ext.log("Calibration: "+Math.round(f*100)/100+" msec/sample");Ext.each(j,function(b){Ext.log(b.format(f))})},getData:function(g){var j={},f=this.accumulators;Ext.each(f,function(b){if(g||b.count){j[b.name]=b.getData()}});return j},reset:function(){Ext.each(this.accumulators,function(d){var f=d;f.count=f.childCount=f.depth=f.maxDepth=0;f.pure={min:Number.MAX_VALUE,max:0,sum:0};f.total={min:Number.MAX_VALUE,max:0,sum:0}})},updateGC:function(){var f=this.accumulatorsByName.GC,j=Ext.senchaToolbox,g;if(f){f.count=j.garbageCollectionCounter||0;if(f.count){g=f.pure;f.total.sum=g.sum=j.garbageCollectionMilliseconds;g.min=g.max=g.sum/f.count;g=f.total;g.min=g.max=g.sum/f.count}}},watchGC:function(){Ext.perf.getTimestamp();var c=Ext.senchaToolbox;if(c){this.get("GC");c.watchGarbageCollector(false)}},setup:function(o){if(!o){o={render:{"Ext.Component":"render"},layout:{"Ext.layout.Context":"run"}}}this.currentConfig=o;var n,l,p,m,k;for(n in o){if(o.hasOwnProperty(n)){l=o[n];p=Ext.Perf.get(n);for(m in l){if(l.hasOwnProperty(m)){k=l[m];p.tap(m,k)}}}}this.watchGC()},setupLog:function(o){var m,k,p,l,n;for(m in o){if(o.hasOwnProperty(m)){k=Ext.ClassManager.get(m);if(k){p=o[m];n={};for(l in p){n[l]=(function(c,b){return function(){var j,g,f,r,d;j=+Date.now();d=this.callParent(arguments);g=+Date.now()-j;if(window.console&&g>0){r=b==="this"?this:typeof b==="string"?this[b]:typeof b==="number"?arguments[b]:null;if(r){f=r.id}if(f!=null){console.log(c+" for "+f+": "+g+"ms")}else{console.log(c+" for unknown: "+g+"ms")}if(console.trace){console.trace()}}return d}})(l,p[l])}Ext.override(k,n)}}}}},1,0,0,0,0,0,[Ext.perf,"Monitor",Ext,"Perf"],0));(Ext.cmd.derive("Ext.plugin.Abstract",Ext.Base,{alternateClassName:"Ext.AbstractPlugin",isPlugin:true,constructor:function(c){if(c){this.pluginConfig=c;this.initConfig(c)}},clonePlugin:function(c){return new this.self(Ext.apply({},c,this.pluginConfig))},getCmp:function(){return this.cmp},setCmp:function(c){this.cmp=c},init:Ext.emptyFn,destroy:function(){this.cmp=this.pluginConfig=null;this.callParent()},onClassExtended:function(n,k,j){var l=k.alias,m=n.prototype;if(l&&!k.ptype){if(Ext.isArray(l)){l=l[0]}m.ptype=l.split("plugin.")[1]}},resolveListenerScope:function(j){var k=this,l=k.getCmp(),g;if(l){g=l.resolveSatelliteListenerScope(k,j)}return g||k.mixins.observable.resolveListenerScope.call(k,j)}},1,0,0,0,0,0,[Ext.plugin,"Abstract",Ext,"AbstractPlugin"],0));Ext.define("Ext.overrides.plugin.Abstract",{override:"Ext.plugin.Abstract",$configStrict:false,$configPrefixed:false,disabled:false,getState:null,applyState:null,enable:function(){this.disabled=false},disable:function(){this.disabled=true}});(Ext.cmd.derive("Ext.util.ItemCollection",Ext.util.MixedCollection,{alternateClassName:"Ext.ItemCollection",getKey:function(c){return c.getItemId&&c.getItemId()},has:function(c){return this.map.hasOwnProperty(c.getId())}},0,0,0,0,0,0,[Ext.util,"ItemCollection",Ext,"ItemCollection"],0));(Ext.cmd.derive("Ext.util.TaskManager",Ext.util.TaskRunner,{alternateClassName:["Ext.TaskManager"],singleton:true},0,0,0,0,0,0,[Ext.util,"TaskManager",Ext,"TaskManager"],0));(Ext.cmd.derive("Ext.util.TextMetrics",Ext.Base,{statics:{shared:null,measure:function(j,l,k){var n=this,m=n.shared;if(!m){m=n.shared=new n(j,k)}m.bind(j);m.setFixedWidth(k||"auto");return m.getSize(l)},destroy:function(){var c=this;Ext.destroy(c.shared);c.shared=null}},constructor:function(g,j){var k=this,l=Ext.getBody().createChild({role:"presentation",cls:"x-textmetrics"});l.setVisibilityMode(1);k.measure=l;if(g){k.bind(g)}l.position("absolute");l.setLocalXY(-1000,-1000);l.hide();if(j){l.setWidth(j)}},getSize:function(g){var j=this.measure,f;j.setHtml(g);f=j.getSize();j.setHtml("");return f},bind:function(d){var f=this;f.el=Ext.get(d);f.measure.setStyle(f.el.getStyle(["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing","word-break"]))},setFixedWidth:function(c){this.measure.setWidth(c)},getWidth:function(c){this.measure.dom.style.width="auto";return this.getSize(c).width},getHeight:function(c){return this.getSize(c).height},destroy:function(){var c=this;c.el=c.measure=Ext.destroy(c.measure);c.callParent()}},1,0,0,0,0,0,[Ext.util,"TextMetrics"],function(){Ext.Element.override({getTextWidth:function(g,j,f){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.valueFrom(g,this.dom.innerHTML,true)).width,j||0,f||1000000)}})}));Ext.define(null,{override:"Ext.event.publisher.Focus",compatibility:Ext.isIE10m,publishDelegatedDomEvent:function(g){var f=document.body,j=Ext.synchronouslyFocusing;if(j&&((g.type==="focusout"&&(g.srcElement===j||g.srcElement===window)&&g.toElement===f)||(g.type==="focusin"&&(g.srcElement===f||g.srcElement===window)&&g.fromElement===j&&g.toElement===null))){return}this.callParent([g])}});Ext.define(null,{override:"Ext.form.field.Checkbox",compatibility:Ext.isIE8,changeEventName:"propertychange",onChangeEvent:function(c){if(this.duringSetRawValue||c.browserEvent.propertyName!=="checked"){return}this.callParent([c])},updateCheckedCls:function(j){var f=this,g=f.displayEl;f.callParent([j]);if(g&&j!==f.lastValue){g.repaint()}}});Ext.define(null,{override:"Ext.form.field.Radio",compatibility:Ext.isIE8,getSubTplData:function(d){var f=this.callParent([d]);delete f.checked;return f},afterRender:function(){this.callParent();if(this.checked){this.inputEl.dom.checked=true}},onChange:function(f,d){this.callSuper([f,d])}});Ext.define(null,{override:"Ext.scroll.Scroller",compatibility:Ext.isIE8,privates:{doScrollTo:function(q,r,y){var s=this,w=s.getElement(),v,x,p,o,u;if(w&&!w.destroyed){x=this.getElement().dom;o=(q===Infinity);u=(r===Infinity);if(o||u){v=s.getMaxPosition();if(o){q=v.x}if(u){r=v.y}}q=s.convertX(q);if(y){p={};if(r!=null){p.scrollTop=r}if(q!=null){p.scrollLeft=q}w.animate(Ext.mergeIf({to:{scrollTop:r,scrollLeft:q}},y))}else{if(q!=null&&r!=null){s.deferDomScroll=true}if(r!=null){x.scrollTop=r}if(q!=null){x.scrollLeft=q}if(s.deferDomScroll){s.deferDomScroll=false;+x.scrollLeft;x.scrollLeft=q}}s.positionDirty=true}},onDomScroll:function(){var c=this;if(c.deferDomScroll){return}c.callParent()}}});(Ext.cmd.derive("Ext.Action",Ext.Base,{constructor:function(c){this.initialConfig=c;this.itemId=c.itemId=(c.itemId||c.id||Ext.id());this.items=[]},isAction:true,setText:function(c){this.initialConfig.text=c;this.callEach("setText",[c])},getText:function(){return this.initialConfig.text},setIconCls:function(c){this.initialConfig.iconCls=c;this.callEach("setIconCls",[c])},setGlyph:function(c){this.initialConfig.glyph=c;this.callEach("setGlyph",[c])},getIconCls:function(){return this.initialConfig.iconCls},setDisabled:function(c){this.initialConfig.disabled=c;this.callEach("setDisabled",[c])},enable:function(){this.setDisabled(false)},disable:function(){this.setDisabled(true)},isDisabled:function(){return this.initialConfig.disabled},setHidden:function(c){this.initialConfig.hidden=c;this.callEach("setVisible",[!c])},show:function(){this.setHidden(false)},hide:function(){this.setHidden(true)},isHidden:function(){return this.initialConfig.hidden},setHandler:function(f,d){this.initialConfig.handler=f;this.initialConfig.scope=d;this.callEach("setHandler",[f,d])},each:function(f,d){Ext.each(this.items,f,d)},callEach:function(l,o){var p=this.items,n=0,k=p.length,m;Ext.suspendLayouts();for(;n<k;n++){m=p[n];m[l].apply(m,o)}Ext.resumeLayouts(true)},addComponent:function(c){this.items.push(c);c.on("destroy",this.removeComponent,this)},removeComponent:function(c){Ext.Array.remove(this.items,c)},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||Ext.global,arguments)}},1,0,0,0,0,0,[Ext,"Action"],0));(Ext.cmd.derive("Ext.ElementLoader",Ext.Base,{statics:{Renderer:{Html:function(f,j,g){f.getTarget().setHtml(j.responseText,g.scripts===true,g.rendererScope);return true}}},url:null,params:null,baseParams:null,autoLoad:false,target:null,loadMask:false,ajaxOptions:null,scripts:false,isLoader:true,constructor:function(j){var g=this,f;g.mixins.observable.constructor.call(g,j);g.setTarget(g.target);if(g.autoLoad){f=g.autoLoad;if(f===true){f=null}g.load(f)}},setTarget:function(f){var d=this;f=Ext.get(f);if(d.target&&d.target!==f){d.abort()}d.target=f},getTarget:function(){return this.target||null},abort:function(){var c=this.active;if(c!==undefined){Ext.Ajax.abort(c.request);if(c.mask){this.removeMask()}delete this.active}},removeMask:function(){this.target.unmask()},addMask:function(c){this.target.mask(c===true?null:c)},load:function(q){q=Ext.apply({},q);var o=this,l=Ext.isDefined(q.loadMask)?q.loadMask:o.loadMask,n=Ext.apply({},q.params),r=Ext.apply({},q.ajaxOptions),m=q.callback||o.callback,p=q.scope||o.scope||o;Ext.applyIf(r,o.ajaxOptions);Ext.applyIf(q,r);Ext.applyIf(n,o.params);Ext.apply(n,o.baseParams);Ext.applyIf(q,{url:o.url});Ext.apply(q,{scope:o,params:n,callback:o.onComplete});if(o.fireEvent("beforeload",o,q)===false){return}if(l){o.addMask(l)}o.active={options:q,mask:l,scope:p,callback:m,success:q.success||o.success,failure:q.failure||o.failure,renderer:q.renderer||o.renderer,scripts:Ext.isDefined(q.scripts)?q.scripts:o.scripts};o.active.request=Ext.Ajax.request(q);o.setOptions(o.active,q)},setOptions:function(f,d){f.rendererScope=d.rendererScope||this.rendererScope||this},onComplete:function(r,n,l){var p=this,o=p.active,m,q;if(o){q=o.scope;m=o.rendererScope;if(n){n=p.getRenderer(o.renderer).call(m,p,l,o)!==false}if(n){Ext.callback(o.success,q,[p,l,r]);p.fireEvent("load",p,l,r)}else{Ext.callback(o.failure,q,[p,l,r]);p.fireEvent("exception",p,l,r)}Ext.callback(o.callback,q,[p,n,l,r]);if(o.mask){p.removeMask()}}delete p.active},getRenderer:function(c){if(Ext.isFunction(c)){return c}return this.statics().Renderer.Html},startAutoRefresh:function(f,j){var g=this;g.stopAutoRefresh();g.autoRefresh=Ext.interval(function(){g.load(j)},f)},stopAutoRefresh:function(){clearInterval(this.autoRefresh);this.autoRefresh=null},isAutoRefreshing:function(){return !!this.autoRefresh},destroy:function(){var c=this;c.stopAutoRefresh();c.abort();c.callParent()}},1,0,0,0,0,[[Ext.util.Observable.prototype.mixinId||Ext.util.Observable.$className,Ext.util.Observable]],[Ext,"ElementLoader"],0));(Ext.cmd.derive("Ext.ComponentLoader",Ext.ElementLoader,{statics:{Renderer:{Data:function(j,n,l){var k=true;try{j.getTarget().update(Ext.decode(n.responseText))}catch(m){k=false}return k},Component:function(l,q,n){var m=true,o=l.getTarget(),r=[];try{r=Ext.decode(q.responseText)}catch(p){m=false}if(m){o.suspendLayouts();if(n.removeAll){o.removeAll()}o.add(r);o.resumeLayouts(true)}return m}}},target:null,loadOnRender:false,loadMask:false,renderer:"html",setTarget:function(f){var d=this;if(Ext.isString(f)){f=Ext.getCmp(f)}if(d.target&&d.target!==f){d.abort()}d.target=f;if(f&&d.loadOnRender){if(f.rendered){d.doLoadOnRender()}else{d.mon(f,"render",d.doLoadOnRender,d)}}},doLoadOnRender:function(){var c=this.loadOnRender;this.load(Ext.isObject(c)?c:null)},removeMask:function(){this.target.setLoading(false)},addMask:function(c){this.target.setLoading(c)},setOptions:function(f,d){f.removeAll=Ext.isDefined(d.removeAll)?d.removeAll:this.removeAll;f.rendererScope=d.rendererScope||this.rendererScope||this.target},getRenderer:function(f){if(Ext.isFunction(f)){return f}var d=this.statics().Renderer;switch(f){case"component":return d.Component;case"data":return d.Data;default:return Ext.ElementLoader.Renderer.Html}}},0,0,0,0,0,0,[Ext,"ComponentLoader"],0));(Ext.cmd.derive("Ext.layout.SizeModel",Ext.Base,{constructor:function(m){var k=this,l=k.self,j=l.sizeModelsArray,n;Ext.apply(k,m);k[n=k.name]=true;k.fixed=!(k.auto=k.natural||k.shrinkWrap);j[k.ordinal=j.length]=l[n]=l.sizeModels[n]=k},statics:{sizeModelsArray:[],sizeModels:{}},calculated:false,configured:false,constrainedMax:false,constrainedMin:false,natural:false,shrinkWrap:false,calculatedFromConfigured:false,calculatedFromNatural:false,calculatedFromShrinkWrap:false,names:null},1,0,0,0,0,0,[Ext.layout,"SizeModel"],function(){var o=this,j=o.sizeModelsArray,q,r,m,n,p;new o({name:"calculated"});new o({name:"configured",names:{width:"width",height:"height"}});new o({name:"natural"});new o({name:"shrinkWrap"});new o({name:"calculatedFromConfigured",configured:true,calculatedFrom:true,names:{width:"width",height:"height"}});new o({name:"calculatedFromNatural",natural:true,calculatedFrom:true});new o({name:"calculatedFromShrinkWrap",shrinkWrap:true,calculatedFrom:true});new o({name:"constrainedMax",configured:true,constrained:true,names:{width:"maxWidth",height:"maxHeight"}});new o({name:"constrainedMin",configured:true,constrained:true,names:{width:"minWidth",height:"minHeight"}});new o({name:"constrainedDock",configured:true,constrained:true,constrainedByMin:true,names:{width:"dockConstrainedWidth",height:"dockConstrainedHeight"}});for(q=0,m=j.length;q<m;++q){p=j[q];p.pairsByHeightOrdinal=n=[];for(r=0;r<m;++r){n.push({width:p,height:j[r]})}}}));(Ext.cmd.derive("Ext.layout.Layout",Ext.Base,{factoryConfig:{type:"layout"},isLayout:true,initialized:false,running:false,needsItemSize:true,setsItemSize:true,autoSizePolicy:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},$configPrefixed:false,$configStrict:false,constructor:function(d){var f=this;f.id=Ext.id(null,f.type+"-");f.initConfig(d);delete f.type;f.layoutCount=0},beginLayout:Ext.emptyFn,beginLayoutCycle:function(k){var l=this,g=l.context,j;if(l.lastWidthModel!==k.widthModel){if(l.lastWidthModel){j=true}l.lastWidthModel=k.widthModel}if(l.lastHeightModel!==k.heightModel){if(l.lastWidthModel){j=true}l.lastHeightModel=k.heightModel}if(j){(g=k.context).clearTriggers(l,false);g.clearTriggers(l,true);l.triggerCount=0}},finishedLayout:function(c){this.lastWidthModel=c.widthModel;this.lastHeightModel=c.heightModel;this.ownerContext=null},redoLayout:Ext.emptyFn,undoLayout:Ext.emptyFn,getAnimatePolicy:function(){return this.animatePolicy},getItemSizePolicy:function(c){return this.autoSizePolicy},isItemBoxParent:function(c){return false},isItemLayoutRoot:function(j){var k=j.getSizeModel(),l=k.width,g=k.height;if(!j.componentLayout.lastComponentSize&&(l.calculated||g.calculated)){return false}return !l.shrinkWrap&&!g.shrinkWrap},isItemShrinkWrap:function(c){return c.shrinkWrap},isRunning:function(){return !!this.ownerContext},getItemsRenderTree:function(p,r){var m=p.length,o,n,q,l;if(m){l=[];for(o=0;o<m;++o){n=p[o];if(!n.rendered){if(r&&(r[n.id]!==undefined)){q=r[n.id]}else{this.configureItem(n);q=n.getRenderTree();if(r){r[n.id]=q}}if(q){l.push(q)}}}}return l},finishRender:Ext.emptyFn,finishRenderItems:function(k,j){var l=j.length,n,m;for(n=0;n<l;n++){m=j[n];if(m.rendering){m.finishRender(n)}}},renderChildren:function(){var j=this,f=j.getLayoutItems(),g=j.getRenderTarget();j.renderItems(f,g)},renderItems:function(l,n){var o=this,p=l.length,r=0,m=0,q;if(p){Ext.suspendLayouts();for(;r<p;r++,m++){q=l[r];if(q&&!q.rendered){o.renderItem(q,n,m)}else{if(q.ignoreDomPosition){--m}else{if(!o.isValidParent(q,n,m)){o.moveItem(q,n,m)}else{o.configureItem(q)}}}}Ext.resumeLayouts(true)}},isValidParent:function(l,k,j){var m=(k&&k.dom)||k,n=this.getItemLayoutEl(l);if(n&&m){if(typeof j==="number"){j=this.getPositionOffset(j);return n===m.childNodes[j]}return n.parentNode===m}return false},getItemLayoutEl:function(k){var j=k.el?k.el.dom:Ext.getDom(k),g=j.parentNode,l;if(g){l=g.className;if(l&&l.indexOf("x-resizable-wrap")!==-1){j=j.parentNode}}return j},getPositionOffset:function(c){return c},configureItem:function(c){c.ownerLayout=this},renderItem:function(k,j,g){var l=this;if(!k.rendered){l.configureItem(k);k.render(j,g)}},moveItem:function(l,k,g){var j=Ext.Element.getActiveElement(true);k=k.dom||k;if(typeof g==="number"){g=k.childNodes[g]}if(l.el.contains(j)){j.suspendFocusEvents()}else{j=null}k.insertBefore(l.el.dom,g||null);l.container=Ext.get(k);this.configureItem(l);if(j){j.focus();j.resumeFocusEvents()}},onContentChange:function(){this.owner.updateLayout();return true},initLayout:function(){this.initialized=true},setOwner:function(c){this.owner=c},getLayoutItems:function(){return[]},onAdd:function(c){c.ownerLayout=this},onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(k){var l=this,m=k.el,n=l.owner,j;if(k.rendered){j=[].concat(l.itemCls||[]);if(n.itemCls){j=Ext.Array.push(j,n.itemCls)}if(j.length){m.removeCls(j)}}delete k.ownerLayout},afterCollapse:function(d,f){if(f){this.onContentChange(d)}},afterExpand:function(d,f){if(f){this.onContentChange(d)}},destroy:function(){var d=this,f;if(d.targetCls){f=d.getTarget();if(f){f.removeCls(d.targetCls)}}if(!d.onDestroy.$emptyFn){d.onDestroy()}d.callParent()},sortWeightedItems:function(g,j){for(var l=0,k=g.length;l<k;++l){g[l].$i=l}Ext.Array.sort(g,function(c,d){var b=d.weight-c.weight;if(!b){b=c.$i-d.$i;if(c[j]){b=-b}}return b});for(l=0;l<k;++l){delete g[l].$i}}},1,0,0,0,0,[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.layout,"Layout"],function(){var c=this;c.prototype.sizeModels=c.sizeModels=Ext.layout.SizeModel.sizeModels}));(Ext.cmd.derive("Ext.layout.container.Container",Ext.layout.Layout,{alternateClassName:"Ext.layout.ContainerLayout",type:"container",beginCollapse:Ext.emptyFn,beginExpand:Ext.emptyFn,animatePolicy:null,activeItemCount:0,renderTpl:["{%this.renderBody(out,values)%}"],usesContainerHeight:true,usesContainerWidth:true,usesHeight:true,usesWidth:true,constructor:function(){Ext.layout.Layout.prototype.constructor.apply(this,arguments);this.mixins.elementCt.constructor.call(this)},destroy:function(){this.mixins.elementCt.destroy.call(this);Ext.layout.Layout.prototype.destroy.call(this)},beginLayout:function(c){Ext.layout.Layout.prototype.beginLayout.apply(this,arguments);c.targetContext=c.paddingContext=c.getEl("getTarget",this);this.cacheChildItems(c)},beginLayoutCycle:function(g,f){var j=this;Ext.layout.Layout.prototype.beginLayoutCycle.apply(this,arguments);if(f){if(j.usesContainerHeight){++g.consumersContainerHeight}if(j.usesContainerWidth){++g.consumersContainerWidth}}},cacheChildItems:function(n){var o=this,q,m,l,p,r;if(o.needsItemSize||o.setsItemSize){q=n.context;m=n.childItems=[];l=n.visibleItems=o.getVisibleItems();p=l.length;for(r=0;r<p;++r){m.push(q.getCmp(l[r]))}}},cacheElements:function(){var c=this.owner;this.attachChildEls(c.el,c)},calculate:function(g){var j=g.props,f=g.el;if(g.widthModel.shrinkWrap&&isNaN(j.width)){g.setContentWidth(f.getWidth())}if(g.heightModel.shrinkWrap&&isNaN(j.height)){g.setContentHeight(f.getHeight())}},configureItem:function(n){var o=this,m=o.itemCls,p=o.owner.itemCls,k,l;n.ownerLayout=o;if(m){if(typeof m==="string"){l=[m]}else{l=m;k=!!l}}if(p){if(k){l=Ext.Array.clone(l)}l=Ext.Array.push(l||[],p)}if(l){n.addCls(l)}},doRenderBody:function(d,f){this.renderItems(d,f);this.renderContent(d,f)},doRenderContainer:function(n,k){var m=k.$comp.layout,j=m.getRenderTpl(),l=m.getRenderData();j.applyOut(l,n)},doRenderItems:function(l,j){var k=j.$layout,g=k.getRenderTree();if(g){Ext.DomHelper.generateMarkup(g,l)}},doRenderTabGuard:function(n,l,j){var m=l.$comp,k;if(m.tabGuard&&!l.$skipTabGuards){k=m.lookupTpl("tabGuardTpl");if(k){l.tabGuard=j;l.tabGuardEl=m.tabGuardElements[j];m.addChildEl(l.tabGuardEl);k.applyOut(l,n);delete l.tabGuard;delete l.tabGuardEl}}},finishRender:function(){var k=this,g=k.owner,j,l;Ext.layout.Layout.prototype.finishRender.call(this);k.cacheElements();j=k.getRenderTarget();l=k.getLayoutItems();k.finishRenderItems(j,l)},notifyOwner:function(){this.owner.afterLayout(this)},getContainerSize:function(A,v){var y=A.targetContext,w=y.getFrameInfo(),r=A.paddingContext.getPaddingInfo(),s=0,q=0,x,u,B,p;if(!A.widthModel.shrinkWrap){++q;B=v?y.getDomProp("width"):y.getProp("width");x=(typeof B==="number");if(x){++s;B-=w.width+r.width;if(B<0){B=0}}}if(!A.heightModel.shrinkWrap){++q;p=v?y.getDomProp("height"):y.getProp("height");u=(typeof p==="number");if(u){++s;p-=w.height+r.height;if(p<0){p=0}}}return{width:B,height:p,needed:q,got:s,gotAll:s===q,gotWidth:x,gotHeight:u}},getPositionOffset:function(d){if(!this.createsInnerCt){var f=this.owner.itemNodeOffset;if(f){d+=f}}return d},getLayoutItems:function(){var d=this.owner,f=d&&d.items;return(f&&f.items)||[]},getRenderData:function(){var c=this.owner;return{$comp:c,$layout:this,ownerId:c.id}},getRenderedItems:function(){var q=this,o=q.getRenderTarget(),m=q.getLayoutItems(),r=m.length,p=[],u,n,s;for(u=0,n=0;u<r;u++,n++){s=m[u];if(s.rendered){if(s.ignoreDomPosition){--n}else{if(!this.isValidParent(s,o,n)){continue}}p.push(s)}}return p},getRenderTarget:function(){return this.owner.getTargetEl()},getElementTarget:function(){return this.getRenderTarget()},getRenderTpl:function(){var d=this,f=Ext.XTemplate.getTpl(this,"renderTpl");if(!f.renderContent){d.owner.setupRenderTpl(f)}return f},getRenderTree:function(){var g,k=this.owner.items,j,l={};do{j=k.generation;g=this.getItemsRenderTree(this.getLayoutItems(),l)}while(k.generation!==j);return g},renderChildren:function(){var n=this,m=n.owner.items,k=n.getRenderTarget(),l,j;do{l=m.generation;j=n.getLayoutItems();n.renderItems(j,k)}while(m.generation!==l)},getScrollbarsNeeded:function(u,o,v,p){var w=Ext.getScrollbarSize(),r=typeof u==="number",n=typeof o==="number",q=0,s=0;if(!w.width){return 0}if(n&&o<p){s=2;u-=w.width}if(r&&u<v){q=1;if(!s&&n){o-=w.height;if(o<p){s=2}}}return s+q},getTarget:function(){return this.owner.getTargetEl()},getVisibleItems:function(){var n=this.getRenderTarget(),r=this.getLayoutItems(),o=r.length,l=[],q,m,p;for(q=0,m=0;q<o;q++,m++){p=r[q];if(p.rendered&&p.hidden!==true&&!p.floated){if(p.ignoreDomPosition){--m}else{if(!this.isValidParent(p,n,m)){continue}}l.push(p)}}return l},getMoveAfterIndex:function(c){return this.owner.items.indexOf(c)+1},moveItemBefore:function(n,m){var k=this.owner,p=k.items,o=p.indexOf(n),l;if(n===m){return n}if(m){l=p.indexOf(m);if(o>-1&&o<l){--l}}else{l=p.length}return k.insert(l,n)},setupRenderTpl:function(c){c.renderBody=this.doRenderBody;c.renderContainer=this.doRenderContainer;c.renderItems=this.doRenderItems;c.renderTabGuard=this.doRenderTabGuard},getContentTarget:function(){return this.owner.getDefaultContentTarget()},onAdd:function(c){if(!c.liquidLayout){++this.activeItemCount}Ext.layout.Layout.prototype.onAdd.call(this,c)},onRemove:function(f,d){if(!f.liquidLayout){--this.activeItemCount}Ext.layout.Layout.prototype.onRemove.call(this,f,d)}},1,0,0,0,["layout.container"],[[Ext.util.ElementContainer.prototype.mixinId||Ext.util.ElementContainer.$className,Ext.util.ElementContainer]],[Ext.layout.container,"Container",Ext.layout,"ContainerLayout"],0));(Ext.cmd.derive("Ext.layout.container.Auto",Ext.layout.container.Container,{type:"autocontainer",childEls:["outerCt","innerCt"],reserveScrollbar:false,managePadding:true,manageOverflow:false,needsItemSize:false,setsItemSize:false,lastOverflowAdjust:{width:0,height:0},outerCtCls:"x-autocontainer-outerCt",innerCtCls:"x-autocontainer-innerCt",renderTpl:['<div id="{ownerId}-outerCt" data-ref="outerCt" class="{outerCtCls}" role="presentation">','<div id="{ownerId}-innerCt" data-ref="innerCt" style="{%this.renderPadding(out, values)%}" ','<tpl if="!$comp.html">role="presentation"</tpl>','class="{innerCtCls}">',"{%this.renderBody(out,values)%}","</div>","</div>"],beginLayout:function(c){Ext.layout.container.Container.prototype.beginLayout.apply(this,arguments);this.initContextItems(c)},beforeLayoutCycle:function(j){var l=this.owner,k=l.inheritedState,g=l.inheritedStateInner;if(!k||k.invalid){k=l.getInherited();g=l.inheritedStateInner}if(j.widthModel.shrinkWrap){g.inShrinkWrapTable=true}else{delete g.inShrinkWrapTable}},beginLayoutCycle:function(A){var u=this,C=u.outerCt,w=u.lastOuterCtWidth||"",x=u.lastOuterCtHeight||"",s=u.lastOuterCtTableLayout||"",D=A.state,r,y,q,B,v;Ext.layout.container.Container.prototype.beginLayoutCycle.apply(this,arguments);y=q=B="";if(!A.widthModel.shrinkWrap){y="100%";v=u.owner.inheritedStateInner;r=u.getOverflowXStyle(A);B=(v.inShrinkWrapTable||r==="auto"||r==="scroll")?"":"fixed"}if(!A.heightModel.shrinkWrap&&!Ext.supports.PercentageHeightOverflowBug){q="100%"}if((y!==w)||u.hasOuterCtPxWidth){C.setStyle("width",y);u.lastOuterCtWidth=y;u.hasOuterCtPxWidth=false}if(B!==s){C.setStyle("table-layout",B);u.lastOuterCtTableLayout=B}if((q!==x)||u.hasOuterCtPxHeight){C.setStyle("height",q);u.lastOuterCtHeight=q;u.hasOuterCtPxHeight=false}if(u.hasInnerCtPxHeight){u.innerCt.setStyle("height","");u.hasInnerCtPxHeight=false}D.overflowAdjust=D.overflowAdjust||u.lastOverflowAdjust},calculate:function(m){var j=this,n=m.state,k=j.getContainerSize(m,true),l=n.calculatedItems||(n.calculatedItems=j.calculateItems?j.calculateItems(m,k):true);j.setCtSizeIfNeeded(m,k);if(l&&m.hasDomProp("containerChildrenSizeDone")){j.calculateContentSize(m);if(k.gotAll){if(j.manageOverflow&&!m.state.secondPass&&!j.reserveScrollbar){j.calculateOverflow(m,k)}return}}j.done=false},calculateContentSize:function(n){var o=this,l=((n.widthModel.shrinkWrap?1:0)|(n.heightModel.shrinkWrap?2:0)),q=(l&1)||undefined,m=(l&2)||undefined,p=0,r=n.props;if(q){if(isNaN(r.contentWidth)){++p}else{q=undefined}}if(m){if(isNaN(r.contentHeight)){++p}else{m=undefined}}if(p){if(q&&!n.setContentWidth(o.measureContentWidth(n))){o.done=false}if(m&&!n.setContentHeight(o.measureContentHeight(n))){o.done=false}}},calculateOverflow:function(u){var p=this,v,n,w,q,r,s,o;r=(p.getOverflowXStyle(u)==="auto");s=(p.getOverflowYStyle(u)==="auto");if(r||s){w=Ext.getScrollbarSize();o=u.overflowContext.el.dom;q=0;if(o.scrollWidth>o.clientWidth){q|=1}if(o.scrollHeight>o.clientHeight){q|=2}v=(s&&(q&2))?w.width:0;n=(r&&(q&1))?w.height:0;if(v!==p.lastOverflowAdjust.width||n!==p.lastOverflowAdjust.height){p.done=false;u.invalidate({state:{overflowAdjust:{width:v,height:n},overflowState:q,secondPass:true}})}}},completeLayout:function(c){this.lastOverflowAdjust=c.state.overflowAdjust},doRenderBody:function(o,m){var n=m.$layout,k=Ext.XTemplate,l=n.beforeBodyTpl,p=n.afterBodyTpl;if(l){k.getTpl(n,"beforeBodyTpl").applyOut(m,o)}this.renderItems(o,m);this.renderContent(o,m);if(p){k.getTpl(n,"afterBodyTpl").applyOut(m,o)}},doRenderPadding:function(n,l){var m=l.$layout,j=l.$layout.owner,k=j[j.contentPaddingProperty];if(m.managePadding&&k){n.push("padding:",j.unitizeBox(k))}},finishedLayout:function(f){var d=this.innerCt;Ext.layout.container.Container.prototype.finishedLayout.apply(this,arguments);if(Ext.isIE8){d.repaint()}if(Ext.isOpera){d.setStyle("position","relative");d.dom.scrollWidth;d.setStyle("position","")}},getContainerSize:function(l,k){var g=Ext.layout.container.Container.prototype.getContainerSize.apply(this,arguments),j=l.state.overflowAdjust;if(j){g.width-=j.width;g.height-=j.height}return g},getRenderData:function(){var d=this,f=Ext.layout.container.Container.prototype.getRenderData.call(this);f.innerCtCls=d.innerCtCls;f.outerCtCls=d.outerCtCls;return f},getRenderTarget:function(){return this.innerCt},getElementTarget:function(){return this.innerCt},getOverflowXStyle:function(c){return c.overflowXStyle||(c.overflowXStyle=this.owner.scrollFlags.overflowX||c.overflowContext.getStyle("overflow-x"))},getOverflowYStyle:function(c){return c.overflowYStyle||(c.overflowYStyle=this.owner.scrollFlags.overflowY||c.overflowContext.getStyle("overflow-y"))},initContextItems:function(l){var g=this,j=l.target,k=g.owner.getOverflowEl();l.outerCtContext=l.getEl("outerCt",g);l.innerCtContext=l.getEl("innerCt",g);l.overflowContext=(k===l.el)?l:l.getEl(k);if(j[j.contentPaddingProperty]!==undefined){l.paddingContext=l.innerCtContext}},initLayout:function(){var g=this,j=Ext.getScrollbarSize().width,f=g.owner;Ext.layout.container.Container.prototype.initLayout.call(this);if(j&&g.manageOverflow&&!g.hasOwnProperty("lastOverflowAdjust")){if(f.scrollable||g.reserveScrollbar){g.lastOverflowAdjust={width:j,height:0}}}},measureContentHeight:function(j){var f=this.outerCt.getHeight(),g=j.target;if(this.managePadding&&(g[g.contentPaddingProperty]===undefined)){f+=j.targetContext.getPaddingInfo().height}return f},measureContentWidth:function(n){var l,o,p,k,m;if(this.chromeCellMeasureBug){l=this.innerCt.dom;o=l.style;p=o.display;if(p==="table-cell"){o.display="";l.offsetWidth;o.display=p}}if(Ext.isSafari){l=this.outerCt.dom;o=l.style;o.display="table-cell";l.offsetWidth;l.style.display=""}k=this.outerCt.getWidth();m=n.target;if(this.managePadding&&(m[m.contentPaddingProperty]===undefined)){k+=n.targetContext.getPaddingInfo().width}return k},setCtSizeIfNeeded:function(x,A){var w=this,p=A.height,u=x.paddingContext.getPaddingInfo(),r=w.getTarget(),q=w.getOverflowXStyle(x),y=(q==="auto"||q==="scroll"),B=Ext.getScrollbarSize(),v,s;if(p&&!x.heightModel.shrinkWrap){if(Ext.supports.PercentageHeightOverflowBug){v=true}if(Ext.isIE8){s=true}if((v||s)&&y&&(r.dom.scrollWidth>r.dom.clientWidth)){p=Math.max(p-B.height,0)}if(v){x.outerCtContext.setProp("height",p+u.height);w.hasOuterCtPxHeight=true}if(s){x.innerCtContext.setProp("height",p);w.hasInnerCtPxHeight=true}}},setupRenderTpl:function(c){Ext.layout.container.Container.prototype.setupRenderTpl.apply(this,arguments);c.renderPadding=this.doRenderPadding},getContentTarget:function(){return this.innerCt}},0,0,0,0,["layout.auto","layout.autocontainer"],0,[Ext.layout.container,"Auto"],function(f){var d=Ext.chromeVersion;f.prototype.chromeCellMeasureBug=Ext.isChrome&&d>=26&&d<=34}));(Ext.cmd.derive("Ext.ZIndexManager",Ext.Base,{alternateClassName:"Ext.WindowGroup",statics:{zBase:9000,activeCounter:0},constructor:function(d){var f=this;f.id=Ext.id(null,"zindex-mgr-");f.zIndexStack=new Ext.util.Collection({sorters:{sorterFn:function(b,c){var j=(b.alwaysOnTop||0)-(c.alwaysOnTop||0);if(!j){j=b.getActiveCounter()-c.getActiveCounter()}return j}},filters:{filterFn:function(b){return b.isVisible()}}});f.zIndexStack.addObserver(f);f.front=null;f.sortCount=0;f.globalListeners=Ext.GlobalEvents.on({beforehide:f.onComponentShowHide,show:f.onComponentShowHide,scope:f,destroyable:true});if(d){if(d.isContainer){f.resizeListeners=d.on({resize:f.onContainerResize,scope:f,destroyable:true});f.zseed=Ext.Number.from(f.rendered?d.getEl().getStyle("zIndex"):undefined,f.getNextZSeed());f.targetEl=d.getTargetEl();f.container=d}else{f.resizeListeners=Ext.on({resize:f.onContainerResize,scope:f,destroyable:true});f.zseed=f.getNextZSeed();f.targetEl=Ext.get(d)}}else{f.zseed=f.getNextZSeed();Ext.onInternalReady(function(){f.resizeListeners=Ext.on({resize:f.scheduleContainerResize,scope:f,destroyable:true,priority:-10000});f.targetEl=Ext.getBody()})}},getId:function(){return this.id},getNextZSeed:function(){return(Ext.ZIndexManager.zBase+=10000)},setBase:function(c){this.zseed=c;return this.onCollectionSort()},onCollectionSort:function(){var r=this,v=r.front,q=r.zseed,p=r.zIndexStack.getRange(),s=p.length,w,u,x,y,o=!v||v.isVisible();r.sortCount++;for(w=0;w<s;w++){u=p[w];if(u.destroying||u.destroyed){continue}q=u.setZIndex(q);if(!u.hidden){y=u;if(u.modal){x=u}}}if(y!==v){if(v&&!v.destroying){v.setActive(false)}if(y){o=o&&(y.isFocusable(true)&&(y.modal||(y.focusOnToFront&&!y.preventFocusOnActivate)));y.setActive(true,o)}}r.front=y||null;if(x){if(x===v){r.syncModalMask(x)}else{r.showModalMask(x)}}else{r.hideModalMask()}return q},onComponentUpdate:function(c){if(this.zIndexStack.contains(c)){this.zIndexStack.sort()}},onAfterComponentRender:function(c){if(c.isVisible()&&c.toFrontOnShow){this.zIndexStack.itemChanged(c,"hidden");this.zIndexStack.sort()}},onComponentShowHide:function(l){var k=this,j=k.zIndexStack,g=k.sortCount;if(l.isFloating()&&!k.hidingAll&&(j.getSource()||j).contains(l)){if(k.tempHidden){Ext.Array.remove(k.tempHidden,l)}j.beginUpdate();if(l.isVisible()){if(l.toFrontOnShow){j.itemChanged(l,"hidden");l.setActiveCounter(++Ext.ZIndexManager.activeCounter)}}else{j.itemChanged(l,"hidden")}j.endUpdate();if(k.sortCount===g){k.onCollectionSort()}}},register:function(d){var f=this;if(d.zIndexManager){d.zIndexManager.unregister(d)}d.zIndexManager=f;if(!d.rendered){d.on("afterrender",f.onAfterComponentRender,f,{single:true})}f.zIndexStack.add(d)},unregister:function(d){var f=this;delete d.zIndexManager;d.un("afterrender",f.onAfterComponentRender,f);f.zIndexStack.remove(d);f.onCollectionSort()},get:function(c){return c.isComponent?c:this.zIndexStack.get(c)},bringToFront:function(r,o){var q=this,m=q.zIndexStack,l=m.last(),p,n;r=q.get(r);if(!r){return false}n=r.preventFocusOnActivate;r.preventFocusOnActivate=o;r.setActiveCounter(++Ext.ZIndexManager.activeCounter);r.preventFocusOnActivate=n;p=m.last();return(p===r&&p!==l)},sendToBack:function(c){c=this.get(c);if(c){c.setActiveCounter(0)}return c||null},hideAll:function(){var j=this,k=j.zIndexStack.getRange(),g=k.length,l;j.hidingAll=true;for(l=0;l<g;l++){k[l].hide()}j.hidingAll=false;j.hideModalMask();j.front=null},hide:function(){var l=this,m=Ext.Element.getActiveElement(),n=l.zIndexStack.getRange(),k=n.length,o,p;l.focusRestoreElement=null;(l.tempHidden||(l.tempHidden=[])).length=0;for(o=0;o<k;o++){p=n[o];if(p.isVisible()){if(p.el.contains(m)){l.focusRestoreElement=m}p.el.hide();p.pendingShow=p.hidden=true;l.tempHidden.push(p)}}},show:function(){var l=this,m,k=l.tempHidden,j=k?k.length:0,n;for(m=0;m<j;m++){n=k[m];n.hidden=false;if(n.pendingShow){n.el.show();n.pendingShow=false;n.setPosition(n.x,n.y);n.onFloatShow()}else{n.hide()}}l.tempHidden=null;if(l.focusRestoreElement){l.focusRestoreElement.focus()}},getActive:function(){return this.zIndexStack.last()},getBy:function(f,d){return this.zIndexStack.filterBy(f,d).getRange()},each:function(f,d){this.zIndexStack.each(f,d)},eachBottomUp:function(l,m){var p=this.zIndexStack.getRange(),n,k=p.length,o;for(n=0;n<k;n++){o=p[n];if(o.isComponent&&l.call(m||o,o)===false){return}}},eachTopDown:function(k,l){var j=this.zIndexStack.getRange(),m,n;for(m=j.length;m-->0;){n=j[m];if(n.isComponent&&k.call(l||n,n)===false){return}}},destroy:function(){var j=this,l=j.zIndexStack.getRange(),g=l.length,k;for(k=0;k<g;k++){Ext.destroy(l[k])}Ext.destroy(j.mask,j.maskShim,j.zIndexStack,j.globalListeners,j.resizeListeners);j.callParent()},privates:{getMaskBox:function(){var c=this.mask.maskTarget;if(c.dom===document.body){return{height:Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight()),width:Math.max(document.body.scrollWidth,document.documentElement.clientWidth),x:0,y:0}}else{return c.getBox()}},scheduleContainerResize:function(){if(!this.containerResizeTimer){this.containerResizeTimer=Ext.Function.requestAnimationFrame(this.onContainerResize,this)}},onContainerResize:function(){var k=this,l=k.mask,g=k.maskShim,j;k.containerResizeTimer=null;if(l&&l.isVisible()){l.hide();if(g){g.hide()}j=k.getMaskBox();if(g){g.setSize(j);g.show()}l.setSize(j);l.show()}},onMaskMousedown:function(c){if(this.front){this.front.focus();c.preventDefault()}},onMaskClick:function(){var f=this.front,d;if(f){if(!f.hasListeners.maskclick||f.fireEvent("maskclick",f)!==false){d=f.maskClickAction||"focus";f[d]()}}},showModalMask:function(n){var l=this,k=n.el,m=n.floatParent?n.floatParent.getEl():n.container,j=l.mask;if(!j){l.mask=j=Ext.getBody().createChild({role:"presentation",cls:"x-mask x-border-box",style:"height:0;width:0"});j.setVisibilityMode(Ext.Element.DISPLAY);j.on({mousedown:l.onMaskMousedown,click:l.onMaskClick,scope:l})}else{l.hideModalMask()}j.maskTarget=m;m.saveTabbableState({excludeRoot:k});l.syncModalMask(n)},syncModalMask:function(p){var o=this,l=p.el.getZIndex()-4,k=o.mask,m=o.maskShim,n=o.getMaskBox();if(m){m.setZIndex(l);m.show();m.setBox(n)}k.setZIndex(l);k.show();k.setBox(n)},hideModalMask:function(){var f=this.mask,d=this.maskShim;if(f&&f.isVisible()){f.maskTarget.restoreTabbableState();f.maskTarget=undefined;f.hide();if(d){d.hide()}}}}},1,0,0,0,0,0,[Ext,"ZIndexManager",Ext,"WindowGroup"],function(){Ext.WindowManager=Ext.WindowMgr=new this()}));(Ext.cmd.derive("Ext.container.Container",Ext.Component,{alternateClassName:["Ext.Container","Ext.AbstractContainer"],renderTpl:"<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'before'); %}</tpl>{% this.renderContainer(out,values) %}<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'after'); %}</tpl>",config:{actions:null},autoDestroy:true,defaultType:"panel",detachOnRemove:true,items:undefined,layout:"auto",suspendLayout:false,tabGuardTpl:'<span id="{id}-{tabGuardEl}" data-ref="{tabGuardEl}" aria-hidden="true" class="x-tab-guard x-tab-guard-{tabGuardPosition}" style="width:0px;height:0px;"></span>',tabGuardElements:{before:"tabGuardBeforeEl",after:"tabGuardAfterEl"},_applyDefaultsOptions:{defaults:true,strict:false},ariaRole:"presentation",baseCls:"x-container",layoutCounter:0,add:function(){var v=this,y=Ext.Array.slice(arguments),B=(typeof y[0]==="number")?y.shift():-1,D=v.getLayout(),C=false,s,x,E,F,r,u,A,w;if(y.length===1&&Ext.isArray(y[0])){x=y[0];s=true}else{x=y}if(v.rendered){Ext.suspendLayouts()}A=x=v.prepareItems(x,true);F=x.length;if(!s&&F===1){A=x[0]}for(E=0;E<F;E++){r=x[E];u=(B<0)?v.items.length:(B+E);w=!!r.instancedCmp;delete r.instancedCmp;if(r.floating){(v.floatingItems||(v.floatingItems=new Ext.util.ItemCollection())).add(r);r.onAdded(v,u,w);delete r.$initParent;if(v.hasListeners.add){v.fireEvent("add",v,r,u)}}else{if((!v.hasListeners.beforeadd||v.fireEvent("beforeadd",v,r,u)!==false)&&v.onBeforeAdd(r)!==false){v.items.insert(u,r);r.onAdded(v,u,w);delete r.$initParent;v.onAdd(r,u);D.onAdd(r,u);C=true;if(v.hasListeners.add){v.fireEvent("add",v,r,u)}}}}if(C){v.updateLayout()}if(v.rendered){Ext.resumeLayouts(true)}return A},onAdded:function(j,g,f){Ext.Component.prototype.onAdded.call(this,j,g,f);this.containerOnAdded(j,f)},onRemoved:function(c){this.containerOnRemoved(c);Ext.Component.prototype.onRemoved.apply(this,arguments)},afterComponentLayout:function(){var l=this.floatingItems,g,j,k;Ext.Component.prototype.afterComponentLayout.apply(this,arguments);if(l){l=l.items;g=l.length;for(j=0;j<g;j++){k=l[j];if(!k.rendered&&k.autoShow){k.show()}}}},afterLayout:function(f){var d=this;++d.layoutCounter;if(d.hasListeners.afterlayout){d.fireEvent("afterlayout",d,f)}},doDestroy:function(){var l=this,c=l.items,k=l.floatingItems,j;if(c){while((j=c.first())){l.doRemove(j,true)}c.destroy();l.items=null}if(k){while((j=k.first())){l.doRemove(j,true)}k.destroy();l.floatingItems=null}Ext.destroy(l.layout);Ext.Component.prototype.doDestroy.call(this)},beforeRender:function(){var j=this,f=j.getLayout(),g;j.preventChildDisable=true;Ext.Component.prototype.beforeRender.call(this);j.preventChildDisable=false;if(!f.initialized){f.initLayout()}g=f.targetCls;if(g){j.applyTargetCls(g)}},cascade:function(p,c,y){var q=this,v=q.items?q.items.items:[],u=v.length,w=0,r,s=y?y.concat(q):[q],x=s.length-1;if(p.apply(c||q,s)!==false){for(;w<u;w++){r=v[w];if(r.cascade){r.cascade(p,c,y)}else{s[x]=r;p.apply(c||r,s)}}}return this},contains:function(g,j){var f=false;if(j){this.cascade(function(b){if(b.contains&&b.contains(g)){f=true;return false}});return f}else{return this.items.contains(g)||(this.floatingItems&&this.floatingItems.contains(g))}},disable:function(r,m){var o=this,p=o.disabled,n,l,q;Ext.Component.prototype.disable.call(this,r,m);if(!m&&!o.preventChildDisable&&!p){n=o.getChildItemsToDisable();l=n.length;for(q=0;q<l;q++){n[q].disable(r,true)}}return o},enable:function(r,m){var o=this,p=o.disabled,n,l,q;Ext.Component.prototype.enable.call(this,r,m);if(p){n=o.getChildItemsToDisable();l=n.length;for(q=0;q<l;q++){n[q].enable(r,true)}}return o},getChildByElement:function(o,l){var m,q,r=0,p=this.getRefItems(),n=p.length;o=Ext.getDom(o);for(;r<n;r++){m=p[r];q=m.getEl();if(q&&((q.dom===o)||q.contains(o))){return(l&&m.getChildByElement)?m.getChildByElement(o,l):m}}return null},getComponent:function(j){if(Ext.isObject(j)){j=j.getItemId()}var g=this.items.get(j),c=this.floatingItems;if(!g&&c&&typeof j!=="number"){g=c.get(j)}return g},getFocusEl:function(){var c=this.getDefaultFocus();if(c){return c}else{if(this.focusable){return this.getTargetEl()}}return undefined},getLayout:function(){var f=this,d=f.layout;if(!d||!d.isLayout){f.setLayout(d)}return f.layout},getRefItems:function(q){var m=this,p=m.items.items,r=p.length,o=0,n,l=[];for(;o<r;o++){n=p[o];l[l.length]=n;if(q&&n.getRefItems){l.push.apply(l,n.getRefItems(true))}}if(m.floatingItems){p=m.floatingItems.items;r=p.length;for(o=0;o<r;o++){n=p[o];l[l.length]=n;if(q&&n.getRefItems){l.push.apply(l,n.getRefItems(true))}}}return l},getDefaultFocus:function(){var f=this.defaultFocus,d;if(f){d=this.down(f)}return d},initComponent:function(){var c=this;Ext.Component.prototype.initComponent.call(this);c.getLayout();c.constructing=true;c.initItems();if(c.disabled){c.disabled=false;c.disable(true)}delete c.constructing},initItems:function(){var f=this,d=f.items;if(!d||!d.isMixedCollection){f.items=new Ext.util.ItemCollection();if(d){if(!Ext.isArray(d)){d=[d]}f.$initingItems=true;f.add(d);delete f.$initingItems}}},initInheritedState:function(o,u){var p=this,s=p.controller,r=p.layout,q=p.session,n=p.viewModel,v=p.reference,w=p.referenceHolder;Ext.Component.prototype.initInheritedState.call(this,o,u);if(p.collapsed){o.collapsed=true}p.initContainerInheritedState(o,u);if(r&&r.initInheritedState){r.initInheritedState(o,u)}},insert:function(g,j){var f;if(j&&j.isComponent){f=this.items.indexOf(j);if(f!==-1){return this.move(f,g)}}return this.add(g,j)},lookupComponent:function(g){var k=this,j=k.defaultType,l;if(!g.isComponent){if(typeof g==="string"){if(!(l=(g[0]==="@"))){return Ext.ComponentManager.get(g)}g=k.getAction(g.substr(1));j=k.defaultActionType||j}g=Ext.ComponentManager.create(g,j);if(l){g.instancedCmp=true}}return g},move:function(n,k){var l=this,j=l.items,m;if(n.isComponent){n=j.indexOf(n)}m=j.getAt(n);if(n!==k){m=j.removeAt(n);if(m===false){return false}k=Math.min(k,j.getCount());j.insert(k,m);l.onMove(m,n,k);if(l.hasListeners.childmove){l.fireEvent("childmove",l,m,n,k)}l.updateLayout()}return m},moveBefore:function(g,k){var j,l;if(g!==k){j=Ext.Element.getActiveElement(true);if(g.el&&g.el.contains(j)){l=j;l.suspendFocusEvents();g.isLayoutMoving=true}g=this.layout.moveItemBefore(g,k);if(l){g.isLayoutMoving=false;l.focus();l.resumeFocusEvents()}}return g},moveAfter:function(k,j){var l=this.layout,g;if(k!==j){g=j?l.getMoveAfterIndex(j):0;k=this.moveBefore(k,this.items.getAt(g))}return k},nextChild:function(n,s){var p=this,r=p.items,o=r.indexOf(n),q=0,u=r.length,m;if(o!==-1){if(s){for(;q<u;q++){m=r.getAt(o+q);if(!m||Ext.ComponentQuery.is(m,s)){break}}}else{m=r.getAt(o+1)}}return m||null},onAdd:Ext.emptyFn,onBeforeAdd:function(f){var d=f.ownerCt;if(d&&d!==this){d.remove(f,false)}},onMove:Ext.emptyFn,onRemove:Ext.emptyFn,onPosition:function(){Ext.Component.prototype.onPosition.apply(this,arguments);this.repositionFloatingItems()},onResize:function(){Ext.Component.prototype.onResize.apply(this,arguments);this.repositionFloatingItems()},prevChild:function(n,s){var p=this,r=p.items,o=r.indexOf(n),q=0,u=r.length,m;if(o!==-1){if(s){for(;q<u;q++){m=r.getAt(o-q);if(!m||Ext.ComponentQuery.is(m,s)){break}}}else{m=r.getAt(o-1)}}return m||null},remove:function(l,c){var k=this,j;if(k.destroyed||k.destroying){return}j=k.getComponent(l);if(j&&(!k.hasListeners.beforeremove||k.fireEvent("beforeremove",k,j)!==false)){k.doRemove(j,c);if(k.hasListeners.remove){k.fireEvent("remove",k,j)}if(!k.destroying&&!k.destroyAfterRemoving&&!j.floating){k.updateLayout()}if(k.destroyAfterRemoving){k.destroy()}}return j},removeAll:function(r){var n=this,p,u=n.floatingItems,s=[],q=0,m,o;if(u){p=n.items.items.concat(u.items)}else{p=n.items.items.slice()}m=p.length;Ext.suspendLayouts();n.removingAll=true;for(;q<m;q++){o=p[q];n.remove(o,r);if(o.ownerCt!==n){s.push(o)}}n.removingAll=false;Ext.resumeLayouts(!!m);return s},setLayout:function(m){var n=this,p=n.layout,l=p&&p.isLayout,k,o;if(typeof m==="string"){m={type:m}}o=m.type;if(l&&(!o||(o===p.type))){delete m.type;p.setConfig(m)}else{if(l){p.setOwner(null)}k=n.self.prototype.layout;if(typeof k==="string"){m.type=o||k}else{Ext.merge(Ext.merge({},k),m)}m=this.layout=Ext.Factory.layout(m);m.setOwner(this)}if(n.rendered){n.updateLayout()}},setActiveItem:function(c){return this.getLayout().setActiveItem(c)},updateActions:function(j){var l=this,g,k;for(g in j){if(!j[g].isAction){j[g]=new Ext.Action(j[g])}}},getAction:function(f){var d=this;for(var d=this;d;d=d.getRefOwner()){if(d.actions&&d.actions[f]){return d.actions[f]}}},privates:{applyDefaults:function(f){var j=this,g=j.defaults;if(g){if(Ext.isFunction(g)){g=g.call(j,f)}if(Ext.isString(f)){f=Ext.ComponentManager.get(f)}if(f.isComponent){f.setConfig(g,null,j._applyDefaultsOptions)}else{f=j.self.getConfigurator().merge(j,Ext.Object.fork(g),f)}}return f},applyReference:function(c){return this.setupReference(c)},applyTargetCls:function(c){this.layoutTargetCls=c},detachComponent:function(c){Ext.getDetachedBody().appendChild(c.getEl())},doRemove:function(o,v){var p=this,n,w=p.detachOnRemove,u=p.layout,r=u&&p.rendered,s,q=o.floating;if(v===undefined){n=p.autoDestroy}else{if(typeof v==="boolean"){n=v}else{n=("destroy" in v)&&v.destroy;w=("detach" in v)&&v.detach}}s=o.destroying||n;if(q){p.floatingItems.remove(o)}else{p.items.remove(o)}if(r&&!q){if(u.running){Ext.Component.cancelLayout(o,s)}u.onRemove(o,s)}if(!o.destroyed){o.onRemoved(s)}p.onRemove(o,s);if(n){o.destroy()}else{if(!p.destroyed){if(r&&!q){u.afterRemove(o)}if(w&&o.rendered){p.detachComponent(o)}}}},finishRenderChildren:function(){Ext.Component.prototype.finishRenderChildren.call(this);var c=this.getLayout();if(c){c.finishRender()}},getChildItemsToDisable:function(){return this.query("[isFormField],[isFocusableContainer],button")},getContentTarget:function(){return this.getLayout().getContentTarget()},getDefaultContentTarget:function(){return this.el},prepareItems:function(p,n){if(Ext.isArray(p)){p=p.slice()}else{p=[p]}var l=this,o=0,k=p.length,m;for(;o<k;o++){m=p[o];if(m==null){Ext.Array.erase(p,o,1);--o;--k}else{if(n){m=this.applyDefaults(m)}m.$initParent=l;if(m.isComponent){m.instancedCmp=true}p[o]=l.lookupComponent(m);delete m.$initParent}}return p},repositionFloatingItems:function(){var l=this.floatingItems,g,j,k;if(l){l=l.items;g=l.length;for(j=0;j<g;j++){k=l[j];if(k.el&&!k.hidden){k.setPosition(k.x,k.y)}}}},initTabGuards:function(p){var n=this,q=n.tabGuardBeforeEl,r=n.tabGuardAfterEl,s=n.tabGuardBeforeIndex||0,v=n.tabGuardAfterIndex||0,o,u,w;if(!n.rendered||!n.tabGuard){return}w=n.el.findTabbableElements({skipSelf:true});if(w[0]===q.dom){w.shift()}if(w[w.length-1]===r.dom){w.pop()}if(w&&w.length){if(s==null||v==null){for(o=0;o<w.length;o++){u=+w[o].getAttribute("tabIndex");if(u>0){s=Math.min(s,u);v=Math.max(v,u)}}}q.dom.setAttribute("tabIndex",s);r.dom.setAttribute("tabIndex",v)}else{q.dom.removeAttribute("tabIndex");r.dom.removeAttribute("tabIndex")}if(n.onTabGuardFocusEnter){if(!q.hasListeners.focusenter){q.on("focusenter",n.onTabGuardFocusEnter,n)}if(!r.hasListeners.focusenter){r.on("focusenter",n.onTabGuardFocusEnter,n)}}},_noMargin:{"margin-top":"","margin-right":"","margin-bottom":"","margin-left":""},resetItemMargins:function(){var g=this.items.items,k=g.length,l=this._noMargin,j;while(k--){j=g[k];j.margin$=null;j.el.setStyle(l)}},setupRenderTpl:function(c){Ext.Component.prototype.setupRenderTpl.apply(this,arguments);this.getLayout().setupRenderTpl(c)}}},0,["container"],["component","box","container"],{component:true,box:true,container:true},["widget.container"],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable],[Ext.mixin.Container.prototype.mixinId||Ext.mixin.Container.$className,Ext.mixin.Container]],[Ext.container,"Container",Ext,"Container",Ext,"AbstractContainer"],0));Ext.define("Ext.overrides.container.Container",{override:"Ext.container.Container",xdata:null,showSmartAnimate:false,animateClsIn:"animated fadeInLeft",animateClsOut:"animated fadeOutLeft",initComponent:function(){var c=this;if(c.showSmartAnimate){c.onAfter("render",function(){c.addCls(c.animateClsIn)},c);c.onBefore("destroy",function(){c.addCls(c.animateClsOut)},c)}(arguments.callee.$previous||Ext.Component.prototype.initComponent).call(this);c.onAfter("afterrender",c.fnAfterRender,c)},fnAfterRender:function(f,j){var g=this;g.getEl().on("keydown",function(){g.fireEvent("keydown",g,e,{})},g)}});(Ext.cmd.derive("Ext.util.StoreHolder",Ext.Base,{mixinId:"storeholder",autoDestroyBoundStore:false,bindStore:function(n,m,j){j=j||"store";var l=this,k=m?null:l[j];if(n!==k){if(k){if(!l.onUnbindStore.$emptyFn){l.onUnbindStore(k,m,j)}if(!k.destroyed){if(l.autoDestroyBoundStore&&j==="store"&&k.autoDestroy){k.destroy()}else{l.unbindStoreListeners(k)}}}if(n){l[j]=n=Ext.data.StoreManager.lookup(n);l.bindStoreListeners(n);if(!l.onBindStore.$emptyFn){l.onBindStore(n,k,m)}}else{l[j]=null}if(l.fireEvent){l.fireEvent("storechange",l,n,k)}}return l},getStore:function(){return this.store},setStore:function(c){this.bindStore(c)},unbindStoreListeners:function(d){var f=this.storeListeners;if(f){d.un(f)}},bindStoreListeners:function(d){var f=this.getStoreListeners(d);if(f){f=Ext.apply({},f);if(!f.scope){f.scope=this}this.storeListeners=f;d.on(f)}},getStoreListeners:Ext.emptyFn,onUnbindStore:Ext.emptyFn,onBindStore:Ext.emptyFn},0,0,0,0,0,0,[Ext.util,"StoreHolder"],0));(Ext.cmd.derive("Ext.LoadMask",Ext.Component,{isLoadMask:true,msg:"Loading...",msgCls:"x-mask-loading",msgWrapCls:"x-mask-msg",useMsg:true,useTargetEl:false,cls:"x-mask",componentCls:"x-border-box",ariaRole:"progressbar",focusable:true,tabIndex:0,childEls:["msgWrapEl","msgEl","msgTextEl"],renderTpl:['<div id="{id}-msgWrapEl" data-ref="msgWrapEl" class="{[values.$comp.msgWrapCls]}" role="presentation">','<div id="{id}-msgEl" data-ref="msgEl" class="{[values.$comp.msgCls]} ',"x-",'mask-msg-inner {childElCls}" role="presentation">','<div id="{id}-msgTextEl" data-ref="msgTextEl" class="',"x-","mask-msg-text",'{childElCls}" role="presentation">{msg}</div>',"</div>","</div>"],maskOnDisable:false,skipLayout:true,constructor:function(j){var g=this,f;if(arguments.length===2){f=g.target=j;j=arguments[1]}else{f=j.target}Ext.Component.prototype.constructor.call(this,j);if(f.isComponent){g.ownerCt=f;g.hidden=true;g.renderTo=g.getMaskTarget();g.external=g.renderTo===Ext.getBody();g.bindComponent(f)}else{f=Ext.get(f);g.isElement=true;g.renderTo=g.target}g.render(g.renderTo);if(g.store){g.bindStore(g.store,true)}},initRenderData:function(){var c=Ext.Component.prototype.initRenderData.apply(this,arguments);c.msg=this.msg||"";return c},onRender:function(){Ext.Component.prototype.onRender.apply(this,arguments);this.maskEl=this.el},bindComponent:function(f){var g=this,j={scope:this,resize:g.sizeMask};if(g.external){j.added=g.onComponentAdded;j.removed=g.onComponentRemoved;if(f.floating){j.move=g.sizeMask;g.activeOwner=f}else{if(f.ownerCt){g.onComponentAdded(f.ownerCt)}}}g.mon(f,j);if(g.external){g.mon(Ext.GlobalEvents,{show:g.onContainerShow,hide:g.onContainerHide,expand:g.onContainerExpand,collapse:g.onContainerCollapse,scope:g})}},onComponentAdded:function(d){var f=this;delete f.activeOwner;f.floatParent=d;if(!d.floating){d=d.up("[floating]")}if(d){f.activeOwner=d;f.mon(d,"move",f.sizeMask,f);f.mon(d,"tofront",f.onOwnerToFront,f)}else{f.preventBringToFront=true}d=f.floatParent.ownerCt;if(f.rendered&&f.isVisible()&&d){f.floatOwner=d;f.mon(d,"afterlayout",f.sizeMask,f,{single:true})}},onComponentRemoved:function(g){var k=this,j=k.activeOwner,l=k.floatOwner;if(j){k.mun(j,"move",k.sizeMask,k);k.mun(j,"tofront",k.onOwnerToFront,k)}if(l){k.mun(l,"afterlayout",k.sizeMask,k)}delete k.activeOwner;delete k.floatOwner},afterRender:function(){var c=this;Ext.Component.prototype.afterRender.apply(this,arguments);if(Ext.isIE){c.el.on("mousedown",c.onMouseDown,c)}this.el.skipGarbageCollection=true},onMouseDown:function(f){var d=this.el;if(f.within(d)){f.preventDefault();d.focus()}},onOwnerToFront:function(d,f){this.el.setStyle("zIndex",f+1)},onContainerShow:function(c){if(!this.isHierarchicallyHidden()){this.onComponentShow()}},onContainerHide:function(c){if(this.isHierarchicallyHidden()){this.onComponentHide()}},onContainerExpand:function(c){if(!this.isHierarchicallyHidden()){this.onComponentShow()}},onContainerCollapse:function(c){if(this.isHierarchicallyHidden()){this.onComponentHide()}},onComponentHide:function(){var c=this;if(c.rendered&&c.isVisible()){c.hide();c.showNext=true}},onComponentShow:function(){if(this.showNext){this.show()}delete this.showNext},sizeMask:function(){var l=this,k=l.activeOwner||l.target,g=l.external?l.getOwner().el:l.getMaskTarget(),j;if(l.rendered&&l.isVisible()){if(l.external){if(!l.isElement&&k.floating){j=k.el.getZIndex();if(!isNaN(j)){l.onOwnerToFront(k,j)}}l.el.setSize(g.getSize()).alignTo(g,"tl-tl")}l.msgWrapEl.center(l.el)}},bindStore:function(f,j){var g=this;Ext.destroy(g.proxyListeners);g.mixins.storeholder.bindStore.apply(g,arguments);f=g.store;if(f){while(f.getSource){f=f.getSource()}if(!f.loadsSynchronously()){g.proxyListeners=f.getProxy().on({exception:g.onLoad,scope:g,destroyable:true})}if(f.isLoading()){g.onBeforeLoad()}}},getStoreListeners:function(l){var j=this.onLoad,k=this.onBeforeLoad,g={cachemiss:k,cachefilled:{fn:j,buffer:100}};if(!l.loadsSynchronously()){g.beforeload=k;g.load=j}return g},onDisable:function(){Ext.Component.prototype.onDisable.apply(this,arguments);if(this.loading){this.onLoad()}},getOwner:function(){return this.ownerCt||this.ownerCmp||this.floatParent},getMaskTarget:function(){var c=this.getOwner();if(this.isElement){return this.target}return this.useTargetEl?c.getTargetEl():(c.getMaskTarget()||Ext.getBody())},onBeforeLoad:function(){var g=this,f=g.getOwner(),j;if(!g.disabled){g.loading=true;if(f.componentLayoutCounter){g.maybeShow()}else{j=f.afterComponentLayout;f.afterComponentLayout=function(){f.afterComponentLayout=j;j.apply(f,arguments);g.maybeShow()}}}},maybeShow:function(){var g=this,f=g.getOwner(),j;j=f.isVisible(true)&&(!g.isComponent||f.el.isVisible(true));if(!j){g.showNext=true}else{if(g.loading&&f.rendered){g.show()}}},hide:function(){var f=this,d=f.ownerCt;if(f.isElement){d.unmask();f.fireEvent("hide",this);return}if(d){d.updateMaskState(false,f)}delete f.showNext;return Ext.Component.prototype.hide.apply(this,arguments)},show:function(){var c=this;if(c.isElement){c.ownerCt.mask(this.useMsg?this.msg:"",this.msgCls);c.fireEvent("show",this);return}return Ext.Component.prototype.show.apply(this,arguments)},afterShow:function(){var f=this,d=f.ownerCt;f.loading=true;Ext.Component.prototype.afterShow.apply(this,arguments);d.updateMaskState(true,f);f.el.restoreTabbableState();f.syncMaskState()},syncMaskState:function(){var g=this,j=g.ownerCt,f=g.el;if(g.isVisible()){if(g.hasOwnProperty("msgWrapCls")){f.dom.className=g.msgWrapCls}if(g.useMsg){g.msgTextEl.setHtml(g.msg);g.ariaEl.dom.setAttribute("aria-valuetext",g.msg)}else{g.msgWrapEl.hide()}if(g.shim||Ext.useShims){f.enableShim(null,true)}else{f.disableShim()}if(j.el.contains(Ext.Element.getActiveElement())){g.focus()}g.sizeMask()}},onLoad:function(){this.loading=false;this.hide()},doDestroy:function(){var c=this;c.ownerCt=null;c.bindStore(null);if(c.isElement){c.ownerCt.unmask()}Ext.Component.prototype.doDestroy.call(this)}},1,["loadmask"],["component","box","loadmask"],{component:true,box:true,loadmask:true},["widget.loadmask"],[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],[Ext,"LoadMask"],0));(Ext.cmd.derive("Ext.layout.component.Component",Ext.layout.Layout,{type:"component",isComponentLayout:true,nullBox:{},usesContentHeight:true,usesContentWidth:true,usesHeight:true,usesWidth:true,widthCache:{},heightCache:{},beginLayoutCycle:function(G,K){var y=this,H=y.owner,D=G.ownerCtContext,C=G.heightModel,B=G.widthModel,A=H.el.dom===document.body,E=H.lastBox||y.nullBox,w=H.el.lastBox||y.nullBox,J=!A,F=G.isTopLevel,x,v,I,L;Ext.layout.Layout.prototype.beginLayoutCycle.call(this,G,K);if(K){if(y.usesContentWidth){++G.consumersContentWidth}if(y.usesContentHeight){++G.consumersContentHeight}if(y.usesWidth){++G.consumersWidth}if(y.usesHeight){++G.consumersHeight}if(D&&!D.hasRawContent){x=H.ownerLayout;if(x){if(x.usesWidth){++G.consumersWidth}if(x.usesHeight){++G.consumersHeight}}}}if(B.configured){I=H[B.names.width];if(F&&B.calculatedFrom){I=E.width}if(!A){J=y.setWidthInDom||(K?I!==w.width:B.constrained)}G.setWidth(I,J)}else{if(F){if(B.calculated){v=E.width;G.setWidth(v,v!==w.width)}v=E.x;G.setProp("x",v,v!==w.x)}}if(C.configured){L=H[C.names.height];if(F&&C.calculatedFrom){L=E.height}if(!A){J=K?L!==w.height:C.constrained}G.setHeight(L,J)}else{if(F){if(C.calculated){v=E.height;G.setHeight(v,v!==w.height)}v=E.y;G.setProp("y",v,v!==w.y)}}},finishedLayout:function(v){var p=this,n=v.children,w=p.owner,r,u,o,s,q;if(n){r=n.length;for(u=0;u<r;u++){o=n[u];o.el.lastBox=o.props}}v.previousSize=p.lastComponentSize;p.lastComponentSize=w.el.lastBox=q=v.props;s=w.lastBox||(w.lastBox={});s.x=q.x;s.y=q.y;s.width=q.width;s.height=q.height;s.invalid=false;Ext.layout.Layout.prototype.finishedLayout.call(this,v)},notifyOwner:function(k){var l=this,g=l.lastComponentSize,j=k.previousSize;l.owner.afterComponentLayout(g.width,g.height,j?j.width:undefined,j?j.height:undefined)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(l){var g=this,j=g.targetInfo,k;if(!j){k=l.getEl("getTarget",g);g.targetInfo=j={padding:k.getPaddingInfo(),border:k.getBorderInfo()}}return j},measureAutoDimensions:function(O,S){var D=this,Z=D.owner,G=Z.layout,W=O.heightModel,T=O.widthModel,X=O.boxParent,K=O.isBoxParent,N=O.target,Y=O.props,R,M={gotWidth:false,gotHeight:false,isContainer:(R=!O.hasRawContent)},E=S||3,H,V,Q=0,U=0,P,I,F,J,L;if(T.shrinkWrap&&O.consumersContentWidth){++Q;H=!(E&1);if(R){if(H){M.contentWidth=0;M.gotWidth=true;++U}else{if((M.contentWidth=O.getProp("contentWidth"))!==undefined){M.gotWidth=true;++U}}}else{I=Y.contentWidth;if(typeof I==="number"){M.contentWidth=I;M.gotWidth=true;++U}else{if(H){P=true}else{if(!O.hasDomProp("containerChildrenSizeDone")){P=false}else{if(K||!X||X.widthModel.shrinkWrap){P=true}else{P=X.hasDomProp("width")}}}if(P){if(H){F=0}else{if(G&&G.measureContentWidth){F=G.measureContentWidth(O)}else{if(N.cacheWidth){J=N.xtype+"-"+N.ui;L=D.widthCache;F=L[J]||(L[J]=D.measureContentWidth(O))}else{F=D.measureContentWidth(O)}}}if(!isNaN(M.contentWidth=F)){O.setContentWidth(F,true);M.gotWidth=true;++U}}}}}else{if(T.natural&&O.consumersWidth){++Q;I=Y.width;if(typeof I==="number"){M.width=I;M.gotWidth=true;++U}else{if(K||!X){P=true}else{P=X.hasDomProp("width")}if(P){if(!isNaN(M.width=D.measureOwnerWidth(O))){O.setWidth(M.width,false);M.gotWidth=true;++U}}}}}if(W.shrinkWrap&&O.consumersContentHeight){++Q;V=!(E&2);if(R){if(V){M.contentHeight=0;M.gotHeight=true;++U}else{if((M.contentHeight=O.getProp("contentHeight"))!==undefined){M.gotHeight=true;++U}}}else{I=Y.contentHeight;if(typeof I==="number"){M.contentHeight=I;M.gotHeight=true;++U}else{if(V){P=true}else{if(!O.hasDomProp("containerChildrenSizeDone")){P=false}else{if(Z.noWrap){P=true}else{if(!T.shrinkWrap){P=(O.bodyContext||O).hasDomProp("width")}else{if(K||!X||X.widthModel.shrinkWrap){P=true}else{P=X.hasDomProp("width")}}}}}if(P){if(V){F=0}else{if(G&&G.measureContentHeight){F=G.measureContentHeight(O)}else{if(N.cacheHeight){J=N.xtype+"-"+N.ui;L=D.heightCache;F=L[J]||(L[J]=D.measureContentHeight(O))}else{F=D.measureContentHeight(O)}}}if(!isNaN(M.contentHeight=F)){O.setContentHeight(F,true);M.gotHeight=true;++U}}}}}else{if(W.natural&&O.consumersHeight){++Q;I=Y.height;if(typeof I==="number"){M.height=I;M.gotHeight=true;++U}else{if(K||!X){P=true}else{P=X.hasDomProp("width")}if(P){if(!isNaN(M.height=D.measureOwnerHeight(O))){O.setHeight(M.height,false);M.gotHeight=true;++U}}}}}if(X){O.onBoxMeasured()}M.gotAll=U===Q;return M},measureContentWidth:function(c){return c.el.getWidth()-c.getFrameInfo().width},measureContentHeight:function(c){return c.el.getHeight()-c.getFrameInfo().height},measureOwnerHeight:function(c){return c.el.getHeight()},measureOwnerWidth:function(c){return c.el.getWidth()}},0,0,0,0,0,0,[Ext.layout.component,"Component"],0));(Ext.cmd.derive("Ext.layout.component.Auto",Ext.layout.component.Component,{type:"autocomponent",setHeightInDom:false,setWidthInDom:false,waitForOuterHeightInDom:false,waitForOuterWidthInDom:false,beginLayoutCycle:function(n,k){var o=this,l=o.lastWidthModel,m=o.lastHeightModel,p=o.owner.el;Ext.layout.component.Component.prototype.beginLayoutCycle.apply(this,arguments);if(l&&l.fixed&&n.widthModel.shrinkWrap){p.setWidth(null)}if(m&&m.fixed&&n.heightModel.shrinkWrap){p.setHeight(null)}},calculate:function(m){var n=this,o=n.measureAutoDimensions(m),r=m.heightModel,q=m.widthModel,p,l;if(o.gotWidth){if(q.shrinkWrap){n.publishOwnerWidth(m,o.contentWidth)}else{if(n.publishInnerWidth){n.publishInnerWidth(m,o.width)}}}else{if(!q.auto&&n.publishInnerWidth){p=n.waitForOuterWidthInDom?m.getDomProp("width"):m.getProp("width");if(p===undefined){n.done=false}else{n.publishInnerWidth(m,p)}}}if(o.gotHeight){if(r.shrinkWrap){n.publishOwnerHeight(m,o.contentHeight)}else{if(n.publishInnerHeight){n.publishInnerHeight(m,o.height)}}}else{if(!r.auto&&n.publishInnerHeight){l=n.waitForOuterHeightInDom?m.getDomProp("height"):m.getProp("height");if(l===undefined){n.done=false}else{n.publishInnerHeight(m,l)}}}if(!o.gotAll){n.done=false}},calculateOwnerHeightFromContentHeight:function(f,d){return d+f.getFrameInfo().height},calculateOwnerWidthFromContentWidth:function(f,d){return d+f.getFrameInfo().width},publishOwnerHeight:function(n,p){var q=this,u=q.owner,m=q.calculateOwnerHeightFromContentHeight(n,p),o,r,s;if(isNaN(m)){q.done=false}else{o=Ext.Number.constrain(m,u.minHeight,u.maxHeight);if(o===m){r=q.setHeightInDom}else{s=q.sizeModels[(o<m)?"constrainedMax":"constrainedMin"];m=o;if(n.heightModel.calculatedFromShrinkWrap){n.heightModel=s}else{n.invalidate({heightModel:s})}}n.setHeight(m,r)}},publishOwnerWidth:function(o,u){var p=this,m=p.owner,q=p.calculateOwnerWidthFromContentWidth(o,u),n,r,s;if(isNaN(q)){p.done=false}else{n=Ext.Number.constrain(q,m.minWidth,m.maxWidth);if(n===q){r=p.setWidthInDom}else{s=p.sizeModels[(n<q)?"constrainedMax":"constrainedMin"];q=n;if(o.widthModel.calculatedFromShrinkWrap){o.widthModel=s}else{o.invalidate({widthModel:s})}}o.setWidth(q,r)}}},0,0,0,0,["layout.autocomponent"],0,[Ext.layout.component,"Auto"],0));(Ext.cmd.derive("Ext.layout.component.ProgressBar",Ext.layout.component.Auto,{type:"progressbar",beginLayout:function(j){var l=this,g,k;Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);if(!j.textEls){k=l.owner.textEl;if(k.isComposite){j.textEls=[];k=k.elements;for(g=k.length;g--;){j.textEls[g]=j.getEl(Ext.get(k[g]))}}else{j.textEls=[j.getEl("textEl")]}}},calculate:function(k){var m=this,j,l,n;Ext.layout.component.Auto.prototype.calculate.apply(this,arguments);if(Ext.isNumber(n=k.getProp("width"))){n-=k.getBorderInfo().width;l=k.textEls;for(j=l.length;j--;){l[j].setWidth(n)}}else{m.done=false}}},0,0,0,0,["layout.progressbar"],0,[Ext.layout.component,"ProgressBar"],0));(Ext.cmd.derive("Ext.ProgressBar",Ext.Component,{baseCls:"x-progress",animate:false,text:"",waitTimer:null,childEls:["bar"],defaultBindProperty:"value",renderTpl:['<tpl if="internalText">','<div class="{baseCls}-text {baseCls}-text-back" role="presentation">{text}</div>',"</tpl>",'<div id="{id}-bar" data-ref="bar" class="{baseCls}-bar {baseCls}-bar-{ui}" role="presentation" style="width:{percentage}%">','<tpl if="internalText">','<div class="{baseCls}-text" role="presentation">','<div role="presentation">{text}</div>',"</div>","</tpl>","</div>"],componentLayout:"progressbar",ariaRole:"progressbar",focusable:true,tabIndex:0,autoEl:{"aria-valuemin":"0","aria-valuenow":"0","aria-valuemax":"100"},initRenderData:function(){var f=this,g=f.value||0,j;j=Ext.Component.prototype.initRenderData.call(this);return Ext.apply(j,{internalText:!f.hasOwnProperty("textEl"),text:f.text||Math.round(g*100)+"%",percentage:g*100})},onRender:function(){var c=this;Ext.Component.prototype.onRender.apply(this,arguments);if(c.textEl){c.textEl=Ext.get(c.textEl);c.updateText(c.text)}else{c.textEl=c.el.select("."+c.baseCls+"-text")}},afterRender:function(){var c=this;Ext.Component.prototype.afterRender.apply(this,arguments);if(c.text){c.ariaEl.dom.setAttribute("aria-valuetext",c.text)}},updateValue:function(c){this.updateProgress(c)},updateProgress:function(m,l,k){m=m||0;var n=this,p=n.value,o=n.getTextTpl();n.value=m||(m=0);if(l!=null){n.autoText=false;n.updateText(l)}else{if(o){n.autoText=false;n.updateText(o.apply({value:m,percent:m*100}))}else{if(!n.text&&n.autoText!==false){n.autoText=true;n.updateText(Math.round(m*100)+"%")}else{if(n.text&&n.ariaEl.dom){n.ariaEl.dom.removeAttribute("aria-valuetext")}}}}if(n.rendered&&!n.destroyed){if(k===true||(k!==false&&n.animate)){n.bar.stopAnimation();n.bar.animate(Ext.apply({from:{width:(p*100)+"%"},to:{width:(m*100)+"%"}},n.animate))}else{n.bar.setStyle("width",(m*100)+"%")}n.ariaEl.dom.setAttribute("aria-valuenow",Math.round(m*100))}n.fireEvent("update",n,m,l);return n},updateText:function(f){var d=this;if(!d.autoText){d.text=f}if(d.rendered){d.textEl.setHtml(f);if(!d.autoText){d.ariaEl.dom.setAttribute("aria-valuetext",f)}else{d.ariaEl.dom.removeAttribute("aria-valuetext")}}return d},applyText:function(c){this.updateText(c)},getText:function(){return this.text},wait:function(g){var j=this,f;if(!j.waitTimer){f=j;g=g||{};if(g.text!=null){j.autoText=false}j.updateText(g.text);j.waitTimer=Ext.TaskManager.start({run:function(c){var b=g.increment||10;c-=1;j.updateProgress(((((c+b)%b)+1)*(100/b))*0.01,null,g.animate)},interval:g.interval||1000,duration:g.duration,onStop:function(){if(g.fn){g.fn.apply(g.scope||j)}j.reset()},scope:f})}return j},isWaiting:function(){return this.waitTimer!==null},reset:function(d){var f=this;f.updateProgress(0);f.clearTimer();if(d===true){f.hide()}if(f.rendered){f.ariaEl.dom.removeAttribute("aria-valuetext")}return f},clearTimer:function(){var c=this;if(c.waitTimer){c.waitTimer.onStop=null;Ext.TaskManager.stop(c.waitTimer);c.waitTimer=null}},doDestroy:function(){var f=this,d=f.bar;f.clearTimer();if(f.rendered){if(f.textEl.isComposite){f.textEl.clear()}Ext.destroyMembers(f,"textEl","progressBar");if(d&&f.animate){d.stopAnimation()}}Ext.Component.prototype.doDestroy.call(this)}},0,["progressbar"],["component","box","progressbar"],{component:true,box:true,progressbar:true},["widget.progressbar"],[[Ext.ProgressBase.prototype.mixinId||Ext.ProgressBase.$className,Ext.ProgressBase]],[Ext,"ProgressBar"],0));(Ext.cmd.derive("Ext.dom.ButtonElement",Ext.dom.Element,{setSize:function(l,j,n){var k=this,m=k.component;Ext.dom.Element.prototype.setSize.call(this,l,j,n);m.btnWrap.setStyle("table-layout",(!l||l==="auto")?"":"fixed");m.btnEl.setStyle("height",(!j||j==="auto")?"":"auto");return k},setStyle:function(l,m){var n=this,p=n.component,o,k;Ext.dom.Element.prototype.setStyle.call(this,l,m);if(l){if(l==="width"||(typeof l!=="string"&&"width" in l)){o=m||l.width;p.btnWrap.setStyle("table-layout",(!o||o==="auto")?"":"fixed")}if(l==="height"||(typeof l!=="string"&&"height" in l)){k=m||l.height;p.btnEl.setStyle("height",(!k||k==="auto")?"":"auto")}}return n},setHeight:function(d,f){Ext.dom.Element.prototype.setHeight.call(this,d,f);this.component.btnEl.setStyle("height",(!d||d==="auto")?"":"auto");return this},setWidth:function(f,d){Ext.dom.Element.prototype.setWidth.call(this,f,d);this.component.btnWrap.setStyle("table-layout",(!f||f==="auto")?"":"fixed");return this}},0,0,0,0,0,0,[Ext.dom,"ButtonElement"],0));(Ext.cmd.derive("Ext.button.Manager",Ext.Base,{singleton:true,alternateClassName:"Ext.ButtonToggleManager",groups:{},pressedButton:null,init:function(){var c=this;if(!c.initialized){Ext.getDoc().on({mouseup:c.onDocumentMouseUp,scope:c});c.initialized=true}},onButtonMousedown:function(f,g){var j=this.pressedButton;if(j&&!j.destroying&&!j.destroyed){j.onMouseUp(g)}this.pressedButton=f},onDocumentMouseUp:function(f){var d=this.pressedButton;if(d&&!d.destroying&&!d.destroyed){d.onMouseUp(f);this.pressedButton=null}},toggleGroup:function(n,k){if(k){var l=this.groups[n.toggleGroup],m=l.length,g;for(g=0;g<m;g++){if(l[g]!==n){l[g].toggle(false)}}}},register:function(l){var k=this,g=this.groups,j=g[l.toggleGroup];k.init();if(!l.toggleGroup){return}if(!j){j=g[l.toggleGroup]=[]}j.push(l);l.on("toggle",k.toggleGroup,k)},unregister:function(f){if(!f.toggleGroup){return}var j=this,g=j.groups[f.toggleGroup];if(g){Ext.Array.remove(g,f);f.un("toggle",j.toggleGroup,j)}},getPressed:function(j){var k=this.groups[j],l=0,g;if(k){for(g=k.length;l<g;l++){if(k[l].pressed===true){return k[l]}}}return null}},0,0,0,0,0,0,[Ext.button,"Manager",Ext,"ButtonToggleManager"],0));(Ext.cmd.derive("Ext.menu.Manager",Ext.Base,{singleton:true,alternateClassName:"Ext.menu.MenuMgr",groups:{},visible:[],constructor:function(){var c=this;c.onShow=function(){c.registerGlobalListeners();return c.onShow.apply(c,arguments)}},onGlobalScroll:function(o){var l=this.visible,p=l.length,n,m,k=o.getElement();if(p&&o!==Ext.scroll.Scroller.viewport){l=l.slice();for(n=0;n<p;++n){m=l[n];if(!m.alignOnScroll&&m.hideOnScroll!==false&&!m.owns(k)){m.hide()}}}},checkActiveMenus:function(n){var l=this.visible,k=l.length,p,m,o=Ext.Component.fromElement(n.target);if(k){l=l.slice();for(p=0;p<k;++p){m=l[p];if(!(m.owns(n)||(o&&o.isMenuItem&&o.menu===m))){m.hide()}}}},onShow:function(c){if(c.floating){Ext.Array.include(this.visible,c)}},onHide:function(c){if(c.floating){Ext.Array.remove(this.visible,c)}},hideAll:function(){var j=this.visible,l=j.length,g=false,k;if(l){j=j.slice();for(k=0;k<l;k++){j[k].hide();g=true}}return g},get:function(g,j){var f;if(typeof g==="string"){f=Ext.getCmp(g);if(f instanceof Ext.menu.Menu){g=f}}else{if(Ext.isArray(g)){j=Ext.apply({items:g},j);g=new Ext.menu.Menu(j)}else{if(!g.isComponent){j=Ext.apply({},g,j);g=Ext.ComponentManager.create(j,"menu")}}}return g},registerCheckable:function(g){var f=this.groups,j=g.group;if(j){if(!f[j]){f[j]=[]}f[j].push(g)}},unregisterCheckable:function(g){var f=this.groups,j=g.group;if(j){Ext.Array.remove(f[j],g)}},onCheckChange:function(r,p){var m=this.groups,s=r.group,u=0,n,q,o;if(s&&p){n=m[s];q=n.length;for(;u<q;u++){o=n[u];if(o!==r){o.setChecked(false)}}}},registerGlobalListeners:function(){var c=this;delete c.onShow;Ext.on({mousedown:c.checkActiveMenus,scroll:c.onGlobalScroll,scope:c})}},1,0,0,0,0,0,[Ext.menu,"Manager",Ext.menu,"MenuMgr"],0));(Ext.cmd.derive("Ext.util.ClickRepeater",Ext.util.Observable,{constructor:function(j,f){var g=this;g.el=Ext.get(j);g.el.unselectable();Ext.apply(g,f);Ext.util.Observable.prototype.constructor.call(this);if(!g.disabled){g.disabled=true;g.enable()}if(g.handler){g.on("click",g.handler,g.scope||g)}},interval:20,delay:250,preventDefault:true,stopDefault:false,timer:0,enable:function(){if(this.disabled){this.el.on("mousedown",this.handleMouseDown,this);if(Ext.isIE8){this.el.on("dblclick",this.handleDblClick,this)}if(this.preventDefault||this.stopDefault){this.el.on("click",this.eventOptions,this)}}this.disabled=false},disable:function(c){if(c||!this.disabled){clearTimeout(this.timer);if(this.pressedCls){this.el.removeCls(this.pressedCls)}Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.clearListeners()}this.disabled=true},setDisabled:function(c){this[c?"disable":"enable"]()},eventOptions:function(c){if(this.preventDefault){c.preventDefault()}if(this.stopDefault){c.stopEvent()}},destroy:function(){this.disable(true);Ext.util.Observable.prototype.destroy.call(this)},handleDblClick:function(c){clearTimeout(this.timer);this.fireEvent("mousedown",this,c);this.fireEvent("click",this,c)},handleMouseDown:function(c){clearTimeout(this.timer);if(this.pressedCls){this.el.addCls(this.pressedCls)}this.mousedownTime=new Date();Ext.getDoc().on("mouseup",this.handleMouseUp,this);this.el.on("mouseout",this.handleMouseOut,this);this.fireEvent("mousedown",this,c);this.fireEvent("click",this,c);if(this.accelerate){this.delay=400}this.timer=Ext.defer(this.click,this.delay||this.interval,this,[c]);if(this.mousedownPreventDefault){c.preventDefault()}if(this.mousedownStopEvent){c.stopEvent()}},click:function(c){this.fireEvent("click",this,c);this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12000):this.interval,this,[c])},easeOutExpo:function(d,l,b,c){return(d===c)?l+b:b*(-Math.pow(2,-10*d/c)+1)+l},handleMouseOut:function(){clearTimeout(this.timer);if(this.pressedCls){this.el.removeCls(this.pressedCls)}this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(c){this.el.un("mouseover",this.handleMouseReturn,this);if(this.pressedCls){this.el.addCls(this.pressedCls)}this.click(c)},handleMouseUp:function(c){clearTimeout(this.timer);this.el.un("mouseover",this.handleMouseReturn,this);this.el.un("mouseout",this.handleMouseOut,this);Ext.getDoc().un("mouseup",this.handleMouseUp,this);if(this.pressedCls){this.el.removeCls(this.pressedCls)}this.fireEvent("mouseup",this,c)}},1,0,0,0,0,0,[Ext.util,"ClickRepeater"],0));(Ext.cmd.derive("Ext.button.Button",Ext.Component,{alternateClassName:"Ext.Button",config:{iconAlign:"left",text:null,textAlign:"center",arrowVisible:true,glyph:null},isButton:true,_syncFrameHeight:true,liquidLayout:true,hidden:false,disabled:false,pressed:false,tabIndex:0,enableToggle:false,menuAlign:"tl-bl?",showEmptyMenu:false,clickEvent:"click",preventDefault:true,handleMouseEvents:true,tooltipType:"qtip",baseCls:"x-btn",hrefTarget:"_blank",destroyMenu:true,focusable:true,ariaRole:"button",keyMap:{scope:"this",SPACE:"onEnterKey",ENTER:"onEnterKey",DOWN:"onDownKey"},defaultBindProperty:"text",childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl","arrowEl"],publishes:{pressed:1},_btnWrapCls:"x-btn-wrap",_btnCls:"x-btn-button",_baseIconCls:"x-btn-icon-el",_glyphCls:"x-btn-glyph",_innerCls:"x-btn-inner",_textCls:"x-btn-text",_noTextCls:"x-btn-no-text",_hasIconCls:"x-btn-icon",_pressedCls:"x-btn-pressed",overCls:"x-btn-over",_disabledCls:"x-btn-disabled",_menuActiveCls:"x-btn-menu-active",_arrowElCls:"x-btn-arrow-el",_focusCls:"x-btn-focus",_arrowFocusCls:"x-arrow-focus",renderTpl:'<span id="{id}-btnWrap" data-ref="btnWrap" role="presentation" unselectable="on" style="{btnWrapStyle}" class="{btnWrapCls} {btnWrapCls}-{ui} {splitCls}{childElCls}"><span id="{id}-btnEl" data-ref="btnEl" role="presentation" unselectable="on" style="{btnElStyle}" class="{btnCls} {btnCls}-{ui} {textCls} {noTextCls} {hasIconCls} {iconAlignCls} {textAlignCls} {btnElAutoHeightCls}{childElCls}"><tpl if="iconBeforeText">{[values.$comp.renderIcon(values)]}</tpl><span id="{id}-btnInnerEl" data-ref="btnInnerEl" unselectable="on" class="{innerCls} {innerCls}-{ui}{childElCls}">{text}</span><tpl if="!iconBeforeText">{[values.$comp.renderIcon(values)]}</tpl></span></span>{[values.$comp.getAfterMarkup ? values.$comp.getAfterMarkup(values) : ""]}<tpl if="closable"><span id="{id}-closeEl" data-ref="closeEl" class="{baseCls}-close-btn"><tpl if="closeText"> {closeText}</tpl></span></tpl><tpl if="split"><span id="{id}-arrowEl" class="{arrowElCls}" data-ref="arrowEl" role="button" hidefocus="on" unselectable="on"<tpl if="tabIndex != null"> tabindex="{tabIndex}"</tpl><tpl foreach="arrowElAttributes"> {$}="{.}"</tpl> style="{arrowElStyle}">{arrowElText}</span></tpl>',iconTpl:'<span id="{id}-btnIconEl" data-ref="btnIconEl" role="presentation" unselectable="on" class="{baseIconCls} {baseIconCls}-{ui} {iconCls} {glyphCls}{childElCls}" style="<tpl if="iconUrl">background-image:url({iconUrl});</tpl><tpl if="glyph"><tpl if="glyphFontFamily">font-family:{glyphFontFamily};</tpl>">{glyph}<tpl else>"></tpl></span>',scale:"small",allowedScales:["small","medium","large"],arrowAlign:"right",arrowCls:"arrow",maskOnDisable:false,shrinkWrap:3,frame:true,autoEl:{tag:"a",hidefocus:"on",unselectable:"on"},hasFrameTable:function(){return this.href&&this.frameTable},frameTableListener:function(){if(!this.disabled){this.doNavigate()}},doNavigate:function(){if(this.hrefTarget==="_blank"){window.open(this.getHref(),this.hrefTarget)}else{location.href=this.getHref()}},_triggerRegion:{},initComponent:function(){var c=this;c.addCls("x-unselectable");Ext.Component.prototype.initComponent.call(this);if(c.menu){c.split=true;c.setMenu(c.menu,false,true)}if(c.url){c.href=c.url}c.configuredWithPreventDefault=c.hasOwnProperty("preventDefault");if(c.href&&!c.configuredWithPreventDefault){c.preventDefault=false}if(Ext.isString(c.toggleGroup)&&c.toggleGroup!==""){c.enableToggle=true}if(c.html&&!c.text){c.text=c.html;delete c.html}},getElConfig:function(){var k=this,l=Ext.Component.prototype.getElConfig.call(this),g=k.getHref(),j=k.hrefTarget;if(l.tag==="a"){if(!k.disabled){l.tabIndex=k.tabIndex}if(g){if(!k.disabled){l.href=g;if(j){l.target=j}}}}if(!k.ariaStaticRoles[k.ariaRole]){if(k.menu&&!k.isSplitButton){l["aria-haspopup"]=true}if(k.enableToggle){l["aria-pressed"]=!!k.pressed}}return l},beforeRender:function(){Ext.Component.prototype.beforeRender.call(this);if(this.pressed){this.addCls(this._pressedCls)}},initRenderData:function(){return Ext.apply(Ext.Component.prototype.initRenderData.call(this),this.getTemplateArgs())},getMenu:function(){return this.menu||null},setMenu:function(n,o,q){var p=this,u=p.menu,m=p.isSplitButton?p.arrowEl&&p.arrowEl.dom:p.ariaEl.dom,s,r;if(u&&!q){if(o!==false&&p.destroyMenu){u.destroy()}u.ownerCmp=null}if(n){s=n.isMenu;n=Ext.menu.Manager.get(n,{ownerCmp:p});n.setOwnerCmp(p,s);n.menuClickBuffer=250;p.mon(n,{scope:p,show:p.onMenuShow,hide:p.onMenuHide});if(!u&&p.getArrowVisible()){p.split=true;if(p.rendered){p._addSplitCls();p.updateLayout()}}p.menu=n;if(m){m.setAttribute("aria-haspopup",true);m.setAttribute("aria-owns",n.id)}else{r=p.isSplitButton?(p.ariaArrowElAttributes||(p.ariaArrowElAttributes={})):(p.ariaRenderAttributes||(p.ariaRenderAttributes={}));r["aria-haspopup"]=true;r["aria-owns"]=n.id}}else{if(p.rendered){m.removeAttribute("aria-haspopup");m.removeAttribute("aria-owns");p._removeSplitCls();p.updateLayout()}else{r=p.isSplitButton?p.ariaArrowElAttributes:p.ariaRenderAttributes;if(r){delete r["aria-haspopup"];delete r["aria-owns"]}}p.split=false;p.menu=null}},onRender:function(){var k=this,j,g,l;Ext.Component.prototype.onRender.apply(this,arguments);g=k.el;if(k.tooltip){k.setTooltip(k.tooltip,true)}if(k.handleMouseEvents){l={scope:k,mouseover:k.onMouseOver,mouseout:k.onMouseOut,mousedown:k.onMouseDown};if(k.split){l.mousemove=k.onMouseMove}}else{l={scope:k}}if(Ext.supports.Touch){l.touchstart=k.onTouchStart}if(k.repeat){k.mon(new Ext.util.ClickRepeater(g,Ext.isObject(k.repeat)?k.repeat:{}),"click",k.onRepeatClick,k)}else{if(l[k.clickEvent]){j=true}else{l[k.clickEvent]=k.onClick}}k.mon(g,l);if(k.hasFrameTable()){k.mon(k.frameTable,"click",k.frameTableListener,k)}if(j){k.mon(g,k.clickEvent,k.onClick,k)}Ext.button.Manager.register(k)},onFocusLeave:function(c){Ext.Component.prototype.onFocusLeave.call(this,c);if(this.menu){this.menu.hide()}},getTemplateArgs:function(){var p=this,v=p._btnCls,s=p._baseIconCls,w=p.getIconAlign(),o=p.glyph,q,n=p.text,u=p._hasIcon(),r=p._hasIconCls;if(o){q=o.fontFamily;o=o.character}return{split:p.isSplitButton,innerCls:p._innerCls,splitCls:p.getArrowVisible()?p.getSplitCls():"",iconUrl:p.icon,iconCls:p.iconCls,glyph:o,glyphCls:o?p._glyphCls:"",glyphFontFamily:q,text:n||"&#160;",closeText:p.closeText,textCls:n?p._textCls:"",noTextCls:n?"":p._noTextCls,hasIconCls:u?r:"",btnWrapCls:p._btnWrapCls,btnWrapStyle:p.width?"table-layout:fixed;":"",btnElStyle:p.height?"height:auto;":"",btnCls:v,baseIconCls:s,iconBeforeText:w==="left"||w==="top",iconAlignCls:u?(r+"-"+w):"",textAlignCls:v+"-"+p.getTextAlign(),arrowElCls:p._arrowElCls,arrowElStyle:p.arrowVisible?"":"display:none",tabIndex:p.tabIndex}},renderIcon:function(c){return this.lookupTpl("iconTpl").apply(c)},setHref:function(g){var l=this,j=l.hrefTarget,k;l.href=g;if(!l.configuredWithPreventDefault){l.preventDefault=!g}if(l.rendered){k=l.el.dom;if(!g||l.disabled){k.removeAttribute("href");k.removeAttribute("hrefTarget")}else{k.href=l.getHref();if(j){k.target=j}}}},getHref:function(){var f=this,d=f.href;return d?Ext.urlAppend(d,Ext.Object.toQueryString(Ext.apply({},f.params,f.baseParams))):false},setParams:function(g){var f=this,j;f.params=g;if(f.rendered){j=f.el.dom;if(f.disabled){j.removeAttribute("href")}else{j.href=f.getHref()||""}}},getSplitCls:function(){var c=this;return c.split?(c.baseCls+"-"+c.arrowCls)+" "+(c.baseCls+"-"+c.arrowCls+"-"+c.arrowAlign):""},setIcon:function(l){l=l||"";var k=this,g=k.btnIconEl,j=k.icon||"";if(k.glyph){k.setGlyph(null)}k.icon=l;if(l!==j){if(g){g.removeCls(k.iconCls);g.setStyle("background-image",l?"url("+l+")":"");k._syncHasIconCls();if(k.didIconStateChange(j,l)){k.updateLayout()}}k.fireEvent("iconchange",k,j,l)}return k},setIconCls:function(l){l=l||"";var j=this,g=j.btnIconEl,k=j.iconCls||"";if(j.glyph){j.setGlyph(null)}j.iconCls=l;if(k!==l){if(g){g.setStyle("background-image","");g.removeCls(k);g.addCls(l);j._syncHasIconCls();if(j.didIconStateChange(k,l)){j.updateLayout()}}j.fireEvent("iconchange",j,k,l)}return j},applyGlyph:function(f,d){if(f){if(!f.isGlyph){f=new Ext.Glyph(f)}if(f.isEqual(d)){f=undefined}}return f},updateGlyph:function(l,n){var m=this,j=m.btnIconEl,k=m._glyphCls;if(j){m.icon=null;j.setStyle("background-image","");if(l){j.dom.innerHTML=l.character;j.addCls(k);j.setStyle(l.getStyle())}else{j.dom.innerHTML="";j.removeCls(k)}m._syncHasIconCls();if(m.didIconStateChange(n,l)){m.updateLayout()}}m.fireEvent("glyphchange",m,l&&l.glyphConfig,n&&n.glyphConfig);return m},setTooltip:function(g,f){var j=this;if(j.rendered){if(!f||!g){j.clearTip()}if(g){if(Ext.quickTipsActive&&Ext.isObject(g)){Ext.tip.QuickTipManager.register(Ext.apply({target:j.el.id},g));j.tooltip=g}else{j.el.dom.setAttribute(j.getTipAttr(),g)}}}else{j.tooltip=g}return j},updateIconAlign:function(l,n){var o=this,p,k,m;if(o.rendered){p=o.btnEl;k=o.btnIconEl;m=o._hasIconCls;if(n){p.removeCls(m+"-"+n)}p.addCls(m+"-"+l);if(l==="top"||l==="left"){p.insertFirst(k)}else{p.appendChild(k)}o.updateLayout()}},updateTextAlign:function(k,l){var m=this,n=m.btnEl,j=m._btnCls;if(m.rendered){n.removeCls(j+"-"+l);n.addCls(j+"-"+k)}},getTipAttr:function(){return this.tooltipType==="qtip"?"data-qtip":"title"},getRefItems:function(f){var g=this.menu,j=[];if(g){if(f){j=g.getRefItems(f)}j.unshift(g)}return j},clearTip:function(){var f=this,d=f.el;if(Ext.quickTipsActive&&Ext.isObject(f.tooltip)){Ext.tip.QuickTipManager.unregister(d)}else{d.dom.removeAttribute(f.getTipAttr())}},doDestroy:function(){var d=this,f=d.menu;if(d.rendered){d.clearTip()}Ext.destroy(d.repeater);if(f&&d.destroyMenu){d.menu=Ext.destroy(f)}Ext.button.Manager.unregister(d);Ext.Component.prototype.doDestroy.call(this)},setHandler:function(f,d){this.handler=f;if(arguments.length>1){this.scope=d}return this},updateText:function(l,j){l=l==null?"":String(l);j=j||"";var m=this,k=m.btnInnerEl,n=m.btnEl;if(m.rendered){k.setHtml(l||"&#160;");n[l?"addCls":"removeCls"](m._textCls);n[l?"removeCls":"addCls"](m._noTextCls);m.updateLayout()}m.fireEvent("textchange",m,j,l)},didIconStateChange:function(f,g){var j=Ext.isEmpty(g);return Ext.isEmpty(f)?!j:j},click:function(c){return this.onClick(c)},setPressed:function(c){return this.toggle(c!==false)},toggle:function(j,l){var k=this,g=k.ariaEl.dom;if(!k.enableToggle){return k}j=j===undefined?!k.pressed:!!j;if(k.fireEvent("beforetoggle",k,j)!==false){if(j!==k.pressed){k[j?"addCls":"removeCls"](k._pressedCls);k.pressed=j;if(g){g.setAttribute("aria-pressed",j)}if(!l){k.fireEvent("toggle",k,j);Ext.callback(k.toggleHandler,k.scope,[k,j],0,k);if(k.publishState){k.publishState("pressed",j)}}}}return k},maybeShowMenu:function(c){if(this.menu){this.showMenu(c)}},showMenu:function(g){var k=this,j=k.menu,l=!g||g.pointerType;if(j&&k.rendered){if(k.tooltip&&Ext.quickTipsActive&&k.getTipAttr()!=="title"){Ext.tip.QuickTipManager.getQuickTip().cancelShow(k.el)}if(j.isVisible()){if(l){j.hide()}else{j.focus()}}else{if(!g||k.showEmptyMenu||j.items.getCount()>0){j.autoFocus=!l;j.showBy(k.el,k.menuAlign)}}}return k},hideMenu:function(){if(this.hasVisibleMenu()){this.menu.hide()}return this},hasVisibleMenu:function(){var c=this.menu;return c&&c.rendered&&c.isVisible()},onRepeatClick:function(d,f){this.onClick(f)},onTouchStart:function(c){this.doPreventDefault(c)},onEnterKey:function(c){if(!this.href){this.onClick(c);c.stopEvent();return false}},onClick:function(f){var d=this;if(f){d.doPreventDefault(f)}if(f&&f.type!=="keydown"&&f.button){return}if(!d.disabled){d.doToggle();d.maybeShowMenu(f);d.fireHandler(f)}},doToggle:function(){var c=this;if(c.allowDepress!==false||!c.pressed){c.toggle()}},doPreventDefault:function(c){if(c&&(this.preventDefault||(this.disabled&&this.getHref()))){c.preventDefault()}},fireHandler:function(f){var d=this;if(d.fireEvent("click",d,f)!==false&&!d.destroyed){Ext.callback(d.handler,d.scope,[d,f],0,d)}},onMouseOver:function(f){var d=this;if(!d.disabled&&!f.within(d.el,true,true)){d.onMouseEnter(f)}},onMouseOut:function(f){var d=this;if(!f.within(d.el,true,true)){if(d.overMenuTrigger){d.onMenuTriggerOut(f)}d.onMouseLeave(f)}},onMouseMove:function(g){var f=this,j=f.overMenuTrigger;if(f.split){if(f.isWithinTrigger(g)){if(!j){f.onMenuTriggerOver(g)}}else{if(j){f.onMenuTriggerOut(g)}}}},isWithinTrigger:function(l){var m=this,n=m.el,k,j;k=(m.arrowAlign==="right")?l.getX()-m.getX():l.getY()-n.getY();j=m.getTriggerRegion();return k>j.begin&&k<j.end},getTriggerRegion:function(){var l=this,k=l._triggerRegion,m=l.arrowAlign==="right",n=m?"getRight":"getBottom",j=m?l.getWidth():l.getHeight();k.begin=j-(l.el[n]()-l.btnEl[n]());k.end=j;return k},onMouseEnter:function(c){this.fireEvent("mouseover",this,c)},onMouseLeave:function(c){this.fireEvent("mouseout",this,c)},onMenuTriggerOver:function(g){var j=this,f=j.arrowTooltip;j.overMenuTrigger=true;if(j.split&&f){j.btnWrap.dom.setAttribute(j.getTipAttr(),f)}j.fireEvent("menutriggerover",j,j.menu,g)},onMenuTriggerOut:function(f){var d=this;delete d.overMenuTrigger;if(d.split&&d.arrowTooltip){d.btnWrap.dom.setAttribute(d.getTipAttr(),"")}d.fireEvent("menutriggerout",d,d.menu,f)},onEnable:function(){var l=this,g=l.href,j=l.hrefTarget,k=l.el.dom;Ext.Component.prototype.onEnable.call(this);l.removeCls(l._disabledCls);k.setAttribute("tabIndex",l.tabIndex);if(g){k.href=g}if(j){k.target=j}},onDisable:function(){var d=this,f=d.el.dom;Ext.Component.prototype.onDisable.call(this);d.addCls(d._disabledCls);d.removeCls(d.overCls);f.removeAttribute("tabIndex");if(d.href){f.removeAttribute("href")}if(d.hrefTarget){f.removeAttribute("target")}},setScale:function(g){var f=this,j=f.ui.replace("-"+f.scale,"");if(!Ext.Array.contains(f.allowedScales,g)){throw ("#setScale: scale must be an allowed scale ("+f.allowedScales.join(", ")+")")}f.scale=g;f.setUI(j)},setUI:function(f){var d=this;if(d.scale&&!f.match(d.scale)){f=f+"-"+d.scale}Ext.Component.prototype.setUI.call(this,f)},onMouseDown:function(f){var d=this;if(Ext.isIE||f.pointerType==="touch"){Ext.defer(function(){var b=d.getFocusEl();if(b&&!f.defaultPrevented){b.focus()}},1)}if(!d.disabled&&f.button===0){Ext.button.Manager.onButtonMousedown(d,f);d.addCls(d._pressedCls)}},onMouseUp:function(f){var d=this;if(!d.destroyed&&f.button===0){if(!d.pressed){d.removeCls(d._pressedCls)}}},onMenuShow:function(){var c=this;c.addCls(c._menuActiveCls);c.fireEvent("menushow",c,c.menu)},onMenuHide:function(f){var d=this;d.removeCls(d._menuActiveCls);d.fireEvent("menuhide",d,d.menu)},onDownKey:function(f){var d=this;if(d.menu&&!d.disabled){d.showMenu(f);f.stopEvent();return false}},updateArrowVisible:function(f){var d=this;if(d.rendered){if(f){if(d.menu||d.isSplitButton){d.split=true;d._addSplitCls()}}else{d._removeSplitCls();d.split=false}}return f},privates:{elClsMap:{btnWrap:"_btnWrapCls",btnEl:"_btnCls",btnIconEl:"_baseIconCls",btnInnerEl:"_innerCls"},addUIToElement:function(){Ext.Component.prototype.addUIToElement.call(this);this.updateChildElsUICls(true)},addOverCls:function(){if(!this.disabled){this.addCls(this.overCls)}},_addSplitCls:function(){var c=this;c.btnWrap.addCls(c.getSplitCls())},getTdCls:function(){return"x-button-"+this.ui+"-"+this.scale+"-cell"},getValue:function(){return this.value},removeUIFromElement:function(){Ext.Component.prototype.removeUIFromElement.call(this);this.updateChildElsUICls(false)},removeOverCls:function(){this.removeCls(this.overCls)},_removeSplitCls:function(){var c=this;c.btnWrap.removeCls(c.getSplitCls())},_syncHasIconCls:function(){var j=this,f=j.btnEl,g=j._hasIconCls;if(f){f[j._hasIcon()?"addCls":"removeCls"]([g,g+"-"+j.iconAlign])}},_hasIcon:function(){return !!(this.icon||this.iconCls||this.glyph)},updateChildElsUICls:function(n){var u=this,r=u.ui,w=n?"addCls":"removeCls",s=u.elClsMap,p,v,q,o;for(p in s){v=u[p];q=s[p];o=u[q];if(v&&o){v[w](o+"-"+r)}}},wrapPrimaryEl:function(c){this.el=new Ext.dom.ButtonElement(c);Ext.Component.prototype.wrapPrimaryEl.call(this,c)}}},0,["button"],["component","box","button"],{component:true,box:true,button:true},["widget.button"],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.button,"Button",Ext,"Button"],0));(Ext.cmd.derive("Ext.button.Split",Ext.button.Button,{alternateClassName:"Ext.SplitButton",isSplitButton:true,arrowCls:"split",split:true,getTemplateArgs:function(){var j=this,f,g;g=Ext.button.Button.prototype.getTemplateArgs.call(this);if(j.disabled){g.tabIndex=null}f=j.ariaArrowElAttributes||{};f["aria-hidden"]=!!j.hidden;f["aria-disabled"]=!!j.disabled;if(j.arrowTooltip){f["aria-label"]=j.arrowTooltip}else{f["aria-labelledby"]=j.id}g.arrowElAttributes=f;return g},onRender:function(){var f=this,d;Ext.button.Button.prototype.onRender.call(this);d=f.getFocusEl();if(d){d.on({scope:f,focus:f.onMainElFocus,blur:f.onMainElBlur})}d=f.arrowEl;if(d){d.dom.setAttribute("data-componentid",f.id);d.setVisibilityMode(Ext.dom.Element.DISPLAY);d.on({scope:f,focus:f.onArrowElFocus,blur:f.onArrowElBlur})}},setArrowHandler:function(f,d){this.arrowHandler=f;this.scope=d},onClick:function(g){var j=this,f=g.type==="keydown"&&g.target===j.arrowEl.dom;j.doPreventDefault(g);if(!j.disabled){if(f||j.isWithinTrigger(g)){g.preventDefault();j.maybeShowMenu(g);j.fireEvent("arrowclick",j,g);if(j.arrowHandler){j.arrowHandler.call(j.scope||j,j,g)}}else{j.doToggle();j.fireHandler(g)}}},enable:function(j){var g=this,f=g.arrowEl;Ext.button.Button.prototype.enable.call(this,j);if(f){f.dom.setAttribute("tabIndex",g.tabIndex);f.dom.setAttribute("aria-disabled","false")}},disable:function(j){var g=this,f=g.arrowEl;Ext.button.Button.prototype.disable.call(this,j);if(f){f.dom.removeAttribute("tabIndex");f.dom.setAttribute("aria-disabled","true")}},afterHide:function(d,f){Ext.button.Button.prototype.afterHide.call(this,d,f);this.arrowEl.dom.setAttribute("aria-hidden","true")},afterShow:function(g,f,j){Ext.button.Button.prototype.afterShow.call(this,g,f,j);this.arrowEl.dom.setAttribute("aria-hidden","false")},privates:{isFocusing:function(n){var o=this,l=n.fromElement,m=n.toElement,p=o.focusEl&&o.focusEl.dom,k=o.arrowEl&&o.arrowEl.dom;if(o.focusable){if(m===p){return l===k?false:true}else{if(m===k){return l===p?false:true}}return true}return false},isBlurring:function(n){var o=this,l=n.fromElement,m=n.toElement,p=o.focusEl&&o.focusEl.dom,k=o.arrowEl&&o.arrowEl.dom;if(o.focusable){if(l===p){return m===k?false:true}else{if(l===k){return m===p?false:true}}return true}return false},getFocusClsEl:Ext.privateFn,onMainElFocus:function(c){this.el.addCls(this._focusCls)},onMainElBlur:function(c){this.el.removeCls(this._focusCls)},onArrowElFocus:function(c){this.el.addCls(this._arrowFocusCls)},onArrowElBlur:function(){this.el.removeCls(this._arrowFocusCls)},setTabIndex:function(c){Ext.button.Button.prototype.setTabIndex.call(this,c);if(this.arrowEl){this.arrowEl.set({tabIndex:c})}},_addSplitCls:function(){var c=this.arrowEl;Ext.button.Button.prototype._addSplitCls.call(this);c.dom.setAttribute("tabIndex",this.tabIndex);c.setVisible(true)},_removeSplitCls:function(){var c=this.arrowEl;Ext.button.Button.prototype._removeSplitCls.call(this);c.dom.removeAttribute("tabIndex");c.setVisible(false)}}},0,["splitbutton"],["component","box","button","splitbutton"],{component:true,box:true,button:true,splitbutton:true},["widget.splitbutton"],0,[Ext.button,"Split",Ext,"SplitButton"],0));(Ext.cmd.derive("Ext.panel.Bar",Ext.container.Container,{vertical:false,_verticalSides:{left:1,right:1},initComponent:function(){var f=this,d=f.vertical;f.dock=f.dock||(d?"left":"top");f.layout=Ext.apply(d?{type:"vbox",align:"middle",alignRoundingMethod:"ceil"}:{type:"hbox",align:"middle",alignRoundingMethod:"floor"},f.layout);Ext.container.Container.prototype.initComponent.call(this)},onAdded:function(j,g,f){this.initOrientation();Ext.container.Container.prototype.onAdded.call(this,j,g,f)},onRemoved:function(c){this.removeClsWithUI(this.uiCls);Ext.container.Container.prototype.onRemoved.call(this,c)},beforeRender:function(){var c=this;if(c.forceOrientation||!c.ownerCt){c.initOrientation()}Ext.container.Container.prototype.beforeRender.call(this)},setDock:function(j){var k=this,l,g;if(j!==k.dock){Ext.suspendLayouts();k.clearOrientation();Ext.container.Container.prototype.setDock.call(this,j);k.initOrientation();g=k.vertical;l=k.layout;l.setVertical(g);l.setAlignRoundingMethod(g?"ceil":"floor");Ext.resumeLayouts(true)}},privates:{clearOrientation:function(){this.removeClsWithUI([this.vertical?"vertical":"horizontal",this.getDockName()])},getDockName:function(){return this.dock},initOrientation:function(){var g=this,j=g.dock,f=(g.vertical=(j?j in g._verticalSides:g.vertical));g.addClsWithUI([f?"vertical":"horizontal",g.getDockName()])}}},0,0,["component","box","container"],{component:true,box:true,container:true},0,0,[Ext.panel,"Bar"],0));(Ext.cmd.derive("Ext.panel.Title",Ext.Component,{isTitle:true,noWrap:true,textAlign:"left",iconAlign:"left",rotation:0,text:"&#160;",beforeRenderConfig:{textAlign:null,text:null,glyph:null,icon:null,iconAlign:null,iconCls:null,rotation:null},autoEl:{role:"presentation",unselectable:"on"},textElRole:"presentation",tabIndex:0,childEls:["textEl","iconEl","iconWrapEl"],renderTpl:'<tpl if="iconMarkup && iconBeforeTitle">{iconMarkup}</tpl><div id="{id}-textEl" data-ref="textEl" class="{textCls} {textCls}-{ui} {itemCls}{childElCls}" unselectable="on"<tpl if="textElRole"> role="{textElRole}"</tpl>>{text}</div><tpl if="iconMarkup && !iconBeforeTitle">{iconMarkup}</tpl>',iconTpl:'<div id="{id}-iconWrapEl" data-ref="iconWrapEl" role="presentation" class="{iconWrapCls} {iconWrapCls}-{ui} {iconAlignCls} {itemCls}{childElCls}"<tpl if="iconWrapStyle"> style="{iconWrapStyle}"</tpl>><div id="{id}-iconEl" data-ref="iconEl" role="presentation" unselectable="on" class="{baseIconCls} {baseIconCls}-{ui} {iconCls} {glyphCls}" style="<tpl if="iconUrl">background-image:url({iconUrl});</tpl><tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>"><tpl if="glyph">{glyph}</tpl></div></div>',_textAlignClasses:{left:"x-title-align-left",center:"x-title-align-center",right:"x-title-align-right"},_iconAlignClasses:{top:"x-title-icon-top",right:"x-title-icon-right",bottom:"x-title-icon-bottom",left:"x-title-icon-left"},_rotationClasses:{0:"x-title-rotate-none",1:"x-title-rotate-right",2:"x-title-rotate-left"},_rotationAngles:{1:90,2:270},baseCls:"x-title",_titleSuffix:"-title",_glyphCls:"x-title-glyph",_iconWrapCls:"x-title-icon-wrap",_baseIconCls:"x-title-icon",_itemCls:"x-title-item",_textCls:"x-title-text",afterComponentLayout:function(){var l=this,n=l.getRotation(),j,k,m;if(n&&!Ext.isIE8){m=l.el;j=l.lastBox;k=j.x;m.setStyle(l._getVerticalAdjustDirection(),(k+((n===1)?j.width:-j.height))+"px")}Ext.Component.prototype.afterComponentLayout.call(this)},onRender:function(){var g=this,f=g.getRotation(),j=g.el;Ext.Component.prototype.onRender.call(this);if(f){j.setVertical(g._rotationAngles[f])}if(Ext.supports.FixedTableWidthBug){j._needsTableWidthFix=true}},applyText:function(c){if(!c){c="&#160;"}return c},beforeRender:function(){var c=this;Ext.Component.prototype.beforeRender.call(this);c.addCls(c._rotationClasses[c.getRotation()]);c.addCls(c._textAlignClasses[c.getTextAlign()])},getIconMarkup:function(){return this.lookupTpl("iconTpl").apply(this.getIconRenderData())},getIconRenderData:function(){var m=this,o=m.getIcon(),p=m.getIconCls(),n=m.getGlyph(),l,k=m.getIconAlign();if(n){l=n.fontFamily;n=n.character}return{id:m.id,ui:m.ui,itemCls:m._itemCls,iconUrl:o,iconCls:p,iconWrapCls:m._iconWrapCls,baseIconCls:m._baseIconCls,iconAlignCls:m._iconAlignClasses[k],glyph:n,glyphCls:n?m._glyphCls:"",glyphFontFamily:l}},initRenderData:function(){var j=this,f,g;g=Ext.apply({text:j.getText(),textElRole:j.textElRole,id:j.id,ui:j.ui,itemCls:j._itemCls,textCls:j._textCls,iconMarkup:null,iconBeforeTitle:null},Ext.Component.prototype.initRenderData.call(this));if(j._hasIcon()){f=j.getIconAlign();g.iconMarkup=j.getIconMarkup();g.iconBeforeTitle=(f==="top"||f==="left")}return g},onAdded:function(p,l,k){var n=this,m=n._titleSuffix,o=p.baseCls;n.addCls([o+m,o+m+"-"+p.ui]);Ext.Component.prototype.onAdded.call(this,p,l,k)},applyGlyph:function(f,d){if(f){if(!f.isGlyph){f=new Ext.Glyph(f)}if(f.isEqual(d)){f=undefined}}return f},updateGlyph:function(l,n){var m=this,k=m._glyphCls,j;if(m.rendered){m._syncIconVisibility();j=m.iconEl;if(l){j.dom.innerHTML=l.character;j.addCls(k);j.setStyle("font-family",l.fontFamily)}else{if(n!==l){j.dom.innerHTML="";j.removeCls(k)}}if(m._didIconStateChange(n,l)){m.updateLayout()}}},updateIcon:function(l,j){l=l||"";var k=this,g;if(k.rendered&&l!==j){k._syncIconVisibility();g=k.iconEl;g.setStyle("background-image",l?"url("+l+")":"");if(k._didIconStateChange(j,l)){k.updateLayout()}}},updateIconAlign:function(l,o){var p=this,m=p.iconWrapEl,k,n;if(p.iconWrapEl){k=p.el;n=p._iconAlignClasses;if(o){m.removeCls(n[o])}m.addCls(n[l]);if(l==="top"||l==="left"){k.insertFirst(m)}else{k.appendChild(m)}p.updateLayout()}},updateIconCls:function(l,k){l=l||"";var j=this,g;if(j.rendered&&k!==l){j._syncIconVisibility();g=j.iconEl;if(k){g.removeCls(k)}g.addCls(l);if(j._didIconStateChange(k,l)){j.updateLayout()}}},updateRotation:function(n,j){var l=this,m,k;if(l.rendered){m=l.el;k=l._rotationClasses;l.removeCls(k[j]);l.addCls(k[n]);m.setHorizontal();if(n){m.setVertical(l._rotationAngles[n])}m.setStyle({right:"",left:"",top:"",height:"",width:""});l.lastBox=null;l.updateLayout()}},updateText:function(c){if(this.rendered){this.textEl.setHtml(c);this.updateLayout()}},updateTextAlign:function(j,l){var g=this,k=g._textAlignClasses;if(g.rendered){if(l){g.removeCls(k[l])}g.addCls(k[j]);g.updateLayout()}},privates:{_getVerticalAdjustDirection:function(){return"left"},_didIconStateChange:function(f,g){var j=Ext.isEmpty(g);return Ext.isEmpty(f)?!j:j},_hasIcon:function(){return !!(this.getIcon()||this.getIconCls()||this.getGlyph())},_syncIconVisibility:function(){var m=this,n=m.el,k=m._hasIcon(),l=m.iconWrapEl,o,p;if(k&&!l){p=m.iconAlign;o=(p==="left"||p==="top");n.dom.insertAdjacentHTML(o?"afterbegin":"beforeend",m.getIconMarkup());l=m.iconWrapEl=n[o?"first":"last"]();m.iconEl=l.first()}if(l){l.setDisplayed(k)}}}},0,["title"],["component","box","title"],{component:true,box:true,title:true},["widget.title"],0,[Ext.panel,"Title"],0));(Ext.cmd.derive("Ext.panel.Tool",Ext.Component,{config:{glyph:null},isTool:true,baseCls:"x-tool",disabledCls:"x-tool-disabled",toolPressedCls:"x-tool-pressed",toolOverCls:"x-tool-over",childEls:["toolEl"],renderTpl:['<div id="{id}-toolEl" data-ref="toolEl" class="{className} {childElCls}" role="presentation"<tpl if="glyph"><tpl if="glyphFontFamily"> style="font-family:{glyphFontFamily};"></tpl>{glyph}<tpl else>></tpl></div>'],toolOwner:null,tooltipType:"qtip",stopEvent:true,ariaRole:"button",focusable:true,tabIndex:0,keyMap:{scope:"this",SPACE:"onClick",ENTER:"onClick"},cacheHeight:true,cacheWidth:true,initComponent:function(){var c=this;c.tooltip=c.tooltip||c.qtip;Ext.Component.prototype.initComponent.call(this)},initRenderData:function(){var l=this,k=Ext.Component.prototype.initRenderData.call(this),g=l.getGlyph(),j;if(g){j=g.fontFamily;g=g.character}Ext.applyIf(k,{className:l.calculateClassName(),glyph:g,glyphFontFamily:j});return k},calculateClassName:function(){var f=this,d=f.baseCls+"-tool-el ";if(f.type){d+=f.baseCls+"-img "+f.baseCls+"-"+f.type}else{if(f.iconCls){d+=f.iconCls}}return d},afterRender:function(){var d=this,f;Ext.Component.prototype.afterRender.call(this);if(d.setTypeAfterRender){d.setTypeAfterRender=false;d.setType(d.type)}d.el.on({click:d.onClick,mousedown:d.onMouseDown,mouseover:d.onMouseOver,mouseout:d.onMouseOut,scope:d});f=d.tooltip;if(f){d.setTooltip(f)}},tipAttrs:{qtip:"data-qtip"},setTooltip:function(o,r){var q=this,u=q.tooltip,p=q.tooltipType,n=q.id,s=q.el,m;if(u&&Ext.quickTipsActive&&Ext.isObject(u)){Ext.tip.QuickTipManager.unregister(n)}q.tooltip=o;if(r){q.tooltipType=r}if(o){if(Ext.quickTipsActive&&Ext.isObject(o)){Ext.tip.QuickTipManager.register(Ext.apply({target:n},o))}else{if(s){if(r&&p&&r!==p){m=q.tipAttrs[p]||"title";s.dom.removeAttribute(m)}m=q.tipAttrs[r||p]||"title";s.dom.setAttribute(m,o)}}if(m!=="title"&&q.ariaRole&&q.ariaRole!=="presentation"){if(s){s.dom.setAttribute("aria-label",o)}else{q.ariaRenderAttributes=q.ariaRenderAttributes||{};q.ariaRenderAttributes["aria-label"]=o}}}},setType:function(n){var m=this,p=m.toolEl,o=m.updating,r=m.rendering,q,l;if(!o){q=m.calculateClassName();if(!r){m.updating=l=true}m.setIconCls(null);m.setGlyph(null)}m.type=n;if(l){m.updateToolCls(q);m.updating=false}else{if(r){m.setTypeAfterRender=true}}return m},setIconCls:function(n){var l=this,o=l.toolEl,m=l.updating,p,k;if(!m){p=l.calculateClassName();l.updating=k=true;l.setType(null);l.setGlyph(null)}l.iconCls=n;if(k){l.updateToolCls(p);l.updating=false}return l},doDestroy:function(){var c=this;c.setTooltip(null);delete c.toolOwner;Ext.Component.prototype.doDestroy.call(this)},applyGlyph:function(f,d){if(f){if(!f.isGlyph){f=new Ext.Glyph(f)}if(f.isEqual(d)){f=undefined}}return f},updateGlyph:function(m,r){var n=this,p=n.toolEl,o=n.updating,q,l;if(!o){q=n.calculateClassName();n.updating=l=true;n.setType(null);n.setIconCls(null)}if(p){if(m){p.dom.innerHTML=m.character;p.setStyle(m.getStyle())}else{p.dom.innerHTML=""}}if(l){n.updateToolCls(q);n.updating=false}},privates:{onClick:function(g,j){var f=this;if(f.disabled){return false}if(g.type!=="keydown"){f.el.removeCls(f.toolPressedCls+" "+f.toolOverCls)}if(f.stopEvent!==false){g.stopEvent()}if(f.handler){Ext.callback(f.handler,f.scope,[g,j,f.ownerCt,f],0,f)}else{if(f.callback){Ext.callback(f.callback,f.scope,[f.toolOwner||f.ownerCt,f,g],0,f)}}if(f.destroyed){return}f.fireEvent("click",f,g,f.toolOwner||f.ownerCt);return true},onMouseDown:function(c){c.preventDefault();if(this.disabled){return false}this.el.addCls(this.toolPressedCls)},onMouseOver:function(){if(this.disabled){return false}this.el.addCls(this.toolOverCls)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)},updateToolCls:function(j){var g=this,f=this.toolEl;if(f){f.removeCls(j);f.addCls(this.calculateClassName())}}}},0,["tool"],["component","box","tool"],{component:true,box:true,tool:true},["widget.tool"],0,[Ext.panel,"Tool"],0));(Ext.cmd.derive("Ext.util.KeyMap",Ext.Base,{alternateClassName:"Ext.KeyMap",eventName:"keydown",constructor:function(d){var f=this;if((arguments.length!==1)||(typeof d==="string")||d.dom||d.tagName||d===document||d.isComponent){f.legacyConstructor.apply(f,arguments);return}Ext.apply(f,d);f.bindings=[];if(!f.target.isComponent){f.target=Ext.get(f.target)}if(f.binding){f.addBinding(f.binding)}else{if(d.key){f.addBinding(d)}}f.enable()},legacyConstructor:function(l,j,g){var k=this;Ext.apply(k,{target:Ext.get(l),eventName:g||k.eventName,bindings:[]});if(j){k.addBinding(j)}k.enable()},addBinding:function(k){var m=this,l=k.key,n,j;if(m.processing){m.bindings=m.bindings.slice(0)}if(Ext.isArray(k)){for(n=0,j=k.length;n<j;n++){m.addBinding(k[n])}return}m.bindings.push(Ext.apply({keyCode:m.processKeys(l)},k))},removeBinding:function(n){var o=this,m=o.bindings,l=m.length,r,p,q;if(o.processing){o.bindings=m.slice(0)}q=o.processKeys(n.key);for(r=0;r<l;++r){p=m[r];if((p.fn||p.handler)===(n.fn||n.handler)&&p.scope===n.scope){if(n.alt===p.alt&&n.ctrl===p.ctrl&&n.shift===p.shift){if(Ext.Array.equals(p.keyCode,q)){Ext.Array.erase(o.bindings,r,1);return}}}}},processKeys:function(n){var m=false,p,o,r,l,q;if(n.test){return n}if(Ext.isString(n)){o=[];r=n.toUpperCase();for(q=0,l=r.length;q<l;++q){o.push(r.charCodeAt(q))}n=o;m=true}if(!Ext.isArray(n)){n=[n]}if(!m){for(q=0,l=n.length;q<l;++q){p=n[q];if(Ext.isString(p)){n[q]=p.toUpperCase().charCodeAt(0)}}}return n},handleTargetEvent:function(m){var n=this,l,o,p,k;if(n.enabled){l=n.bindings;o=0;p=l.length;m=n.processEvent.apply(n.processEventScope||n,arguments);if(m){n.lastKeyEvent=m;if(n.ignoreInputFields&&Ext.fly(m.target).isInputField()){return}if(!m.getKey){return m}n.processing=true;for(;o<p;++o){k=n.processBinding(l[o],m);if(k===false){n.processing=false;return k}}n.processing=false}}},processEvent:Ext.identityFn,processBinding:function(u,y){if(this.checkModifiers(u,y)){var s=y.getKey(),q=u.fn||u.handler,p=u.scope||this,r=u.keyCode,x=u.defaultEventAction,w,v,o;if(r.test){if(r.test(String.fromCharCode(y.getCharCode()))){o=q.call(p,s,y);if(o!==true&&x){y[x]()}if(o===false){return o}}}else{if(r.length){for(w=0,v=r.length;w<v;++w){if(s===r[w]){o=q.call(p,s,y);if(o!==true&&x){y[x]()}if(o===false){return o}break}}}}}},checkModifiers:function(m,o){var p=["shift","ctrl","alt"],q=0,l=p.length,n,r;for(;q<l;++q){r=p[q];n=m[r];if(!(n===undefined||(n===o[r+"Key"]))){return false}}return true},on:function(r,p,q){var m,l,o,n;if(Ext.isObject(r)&&!Ext.isArray(r)){m=r.key;l=r.shift;o=r.ctrl;n=r.alt}else{m=r}this.addBinding({key:m,shift:l,ctrl:o,alt:n,fn:p,scope:q})},un:function(r,p,q){var m,l,o,n;if(Ext.isObject(r)&&!Ext.isArray(r)){m=r.key;l=r.shift;o=r.ctrl;n=r.alt}else{m=r}this.removeBinding({key:m,shift:l,ctrl:o,alt:n,fn:p,scope:q})},isEnabled:function(){return this.enabled},enable:function(){var c=this;if(!c.enabled){c.target.on(c.eventName,c.handleTargetEvent,c,{capture:c.capture,priority:c.priority});c.enabled=true}},disable:function(){var c=this;if(c.enabled){c.target.removeListener(c.eventName,c.handleTargetEvent,c);c.enabled=false}},setDisabled:function(c){if(c){this.disable()}else{this.enable()}},destroy:function(g){var f=this,j=f.target;f.bindings=[];f.disable();if(g){j.destroy()}delete f.target;f.callParent()}},1,0,0,0,0,0,[Ext.util,"KeyMap",Ext,"KeyMap"],0));(Ext.cmd.derive("Ext.util.KeyNav",Ext.Base,{alternateClassName:"Ext.KeyNav",disabled:false,defaultEventAction:false,forceKeyDown:false,eventName:"keypress",statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(d){var f=this;if(arguments.length===2){f.legacyConstructor.apply(f,arguments);return}f.doConstruction(d)},legacyConstructor:function(f,d){this.doConstruction(Ext.apply({target:f},d))},doConstruction:function(g){var k=this,l={target:g.target,ignoreInputFields:g.ignoreInputFields,eventName:k.getKeyEvent("forceKeyDown" in g?g.forceKeyDown:k.forceKeyDown,g.eventName),capture:g.capture},j;if(k.map){k.map.destroy()}k.initConfig(g);if(g.processEvent){l.processEvent=g.processEvent;l.processEventScope=g.processEventScope||k}if(g.priority){l.priority=g.priority}if(g.keyMap){j=k.map=g.keyMap}else{j=k.map=new Ext.util.KeyMap(l);k.destroyKeyMap=true}this.addBindings(g);j.disable();if(!g.disabled){j.enable()}},addBindings:function(n){var s=this,u,p,q=s.map,m=Ext.util.KeyNav.keyOptions,r,o=n.scope||s;for(u in n){p=n[u];r=m[u];if(r!=null){u=r}if(p&&(u.length===1||!isNaN(u=parseInt(u,10)))){if(typeof p==="function"){p={handler:p,defaultEventAction:(n.defaultEventAction!==undefined)?n.defaultEventAction:s.defaultEventAction}}q.addBinding({key:u,ctrl:p.ctrl,shift:p.shift,alt:p.alt,handler:Ext.Function.bind(s.handleEvent,p.scope||o,[p.handler||p.fn,s],true),defaultEventAction:(p.defaultEventAction!==undefined)?p.defaultEventAction:s.defaultEventAction})}}},handleEvent:function(j,k,l,g){g.lastKeyEvent=k;return l.call(this,k)},destroy:function(f){var d=this;if(d.destroyKeyMap){d.map.destroy(f)}delete d.map;d.callParent()},enable:function(){if(this.map){this.map.enable();this.disabled=false}},disable:function(){if(this.map){this.map.disable()}this.disabled=true},setDisabled:function(c){this.map.setDisabled(c);this.disabled=c},getKeyEvent:function(f,d){if(f||(Ext.supports.SpecialKeyDownRepeat&&!d)){return"keydown"}else{return d||this.eventName}}},1,0,0,0,0,0,[Ext.util,"KeyNav",Ext,"KeyNav"],0));(Ext.cmd.derive("Ext.util.FocusableContainer",Ext.Mixin,{mixinConfig:{id:"focusablecontainer",before:{onAdd:"onFocusableChildAdd",onRemove:"onFocusableChildRemove",doDestroy:"destroyFocusableContainer",onFocusEnter:"onFocusEnter"},after:{afterRender:"initFocusableContainer",onFocusLeave:"onFocusLeave",afterShow:"activateFocusableContainer"}},isFocusableContainer:true,enableFocusableContainer:true,activeChildTabIndex:0,inactiveChildTabIndex:-1,focusableContainerEl:"el",tabGuard:true,privates:{initFocusableContainer:function(k){var l,j,g;if(this.enableFocusableContainer){k=k!=null?k:true;this.doInitFocusableContainer(k)}else{l=this.getFocusables();for(j=0,g=l.length;j<g;j++){l[j].focusableContainer=null}}},doInitFocusableContainer:function(g){var k=this,l=k.focusableContainerEl,j;if(g){k.clearFocusables()}j=k.findNextFocusableChild({step:1,beforeRender:true});if(j){k.activateFocusableContainer(true)}else{if(k.isFocusableContainerActive()){k.activateFocusableContainer(false)}}if(!l.isElement){l=k.focusableContainerEl=k[l]}k.focusableKeyNav=k.createFocusableContainerKeyNav(l)},createFocusableContainerKeyNav:function(d){var f=this;return new Ext.util.KeyNav(d,{eventName:"keydown",ignoreInputFields:true,scope:f,tab:f.onFocusableContainerTabKey,enter:f.onFocusableContainerEnterKey,space:f.onFocusableContainerSpaceKey,up:f.onFocusableContainerUpKey,down:f.onFocusableContainerDownKey,left:f.onFocusableContainerLeftKey,right:f.onFocusableContainerRightKey})},destroyFocusableContainer:function(){if(this.enableFocusableContainer){this.doDestroyFocusableContainer()}},doDestroyFocusableContainer:function(){this.focusableKeyNav=Ext.destroy(this.focusableKeyNav)},getFocusables:function(){return this.items.items},initDefaultFocusable:function(){var n=this,s=n.activeChildTabIndex,u=false,r,o,q,m,p;r=n.getFocusables();m=r.length;if(!m){return}for(q=0;q<m;q++){o=r[q];if(!o.disabled&&o.isFocusable&&o.isFocusable()){u=true;break}}if(!u){return}o=n.findNextFocusableChild({items:r,step:true});if(o){n.activateFocusable(o)}return o},clearFocusables:function(){var k=this,n=k.getFocusables(),j=n.length,l,m;for(m=0;m<j;m++){l=n[m];if(l.focusable&&!l.disabled){k.deactivateFocusable(l)}}},activateFocusable:function(g,j){var f=j!=null?j:this.activeChildTabIndex;g.setTabIndex(f)},deactivateFocusable:function(g,j){var f=j!=null?j:this.inactiveChildTabIndex;g.setTabIndex(f)},activateFocusableContainer:function(l){var k=this,g=k.tabGuardBeforeEl,j=k.tabGuardAfterEl;if(!k.rendered||k.destroying||k.destroyed||!g||!j){return}l=l!=null?l:true;if(l){g.dom.setAttribute("tabIndex",k.activeChildTabIndex);j.dom.setAttribute("tabIndex",k.activeChildTabIndex)}else{g.dom.removeAttribute("tabIndex");j.dom.removeAttribute("tabIndex")}},onFocusableContainerTabKey:function(){return true},onFocusableContainerEnterKey:function(){return true},onFocusableContainerSpaceKey:function(){return true},onFocusableContainerUpKey:function(c){c.preventDefault();return this.moveChildFocus(c,false)},onFocusableContainerDownKey:function(c){c.preventDefault();return this.moveChildFocus(c,true)},onFocusableContainerLeftKey:function(c){c.preventDefault();return this.moveChildFocus(c,false)},onFocusableContainerRightKey:function(c){c.preventDefault();return this.moveChildFocus(c,true)},getFocusableFromEvent:function(d){var f=Ext.Component.fromElement(d.getTarget());return f},moveChildFocus:function(j,f){var g=this.getFocusableFromEvent(j);return this.focusChild(g,f,j)},focusChild:function(g,f){var j=this.findNextFocusableChild({child:g,step:f});if(j){j.focus()}return j},findNextFocusableChild:function(o){var p=o.beforeRender,s,q,y,x,r,v,u,w;s=o.items||this.getFocusables();x=o.step!=null?o.step:1;y=o.child;w=!!this.allowFocusingDisabledChildren;r=Ext.Array.indexOf(s,y);x=x===true?1:x===false?-1:x;u=s.length;v=x>0?(r<u?r+x:0):(r>0?r+x:u-1);for(;;v+=x){if(r<0&&(v>=u||v<0)){return null}else{if(v>=u){v=-1;continue}else{if(v<0){v=u;continue}else{if(v===r){return null}}}}q=s[v];if(!q||!q.focusable||(q.disabled&&!w)){continue}if(p||(q.isFocusable&&q.isFocusable())){return q}}return null},isFocusableContainerActive:function(){var m=this,n=false,p=m.tabGuardBeforeEl,o=m.focusableContainerEl,l,k;if(p&&p.isTabbable&&p.isTabbable()){n=true}else{if(o.isTabbable&&o.isTabbable()){n=true}else{l=m.lastFocusedChild;k=l&&l.getFocusEl&&l.getFocusEl();if(k&&k.isTabbable&&k.isTabbable()){n=true}}}return n},onFocusEnter:function(k){var g=this,l=k.toComponent,j;if(!g.enableFocusableContainer||g.destroying||g.destroyed){return null}if(l===g){j=g.initDefaultFocusable();if(j){j.focus();g.activateFocusableContainer(false)}}else{g.activateFocusableContainer(false)}return l},onFocusLeave:function(g){var j=this,f=j.lastFocusedChild;if(!j.enableFocusableContainer||j.destroying||j.destroyed){return}j.clearFocusables();if(f&&!f.disabled){j.activateFocusable(f)}else{j.activateFocusableContainer(true)}},beforeFocusableChildBlur:Ext.privateFn,afterFocusableChildBlur:Ext.privateFn,beforeFocusableChildFocus:function(f){var d=this;if(!d.enableFocusableContainer||d.destroying||d.destroyed){return}d.clearFocusables();d.activateFocusable(f);if(f.needArrowKeys){d.guardFocusableChild(f)}},guardFocusableChild:function(j){var k=this,g=k.activeChildTabIndex,l;l=k.findNextFocusableChild({child:j,step:-1});if(l){l.setTabIndex(g)}l=k.findNextFocusableChild({child:j,step:1});if(l){l.setTabIndex(g)}},afterFocusableChildFocus:function(f){var d=this;if(!d.enableFocusableContainer||d.destroying||d.destroyed){return}d.lastFocusedChild=f},onFocusableChildAdd:function(c){if(this.enableFocusableContainer){return this.doFocusableChildAdd(c)}},doFocusableChildAdd:function(f){var d=this;if(f.focusable){f.focusableContainer=d;if(!d.$initingItems&&!d.isFocusableContainerActive()){d.activateFocusableContainer(true)}}},onFocusableChildRemove:function(c){if(this.enableFocusableContainer){return this.doFocusableChildRemove(c)}c.focusableContainer=null},doFocusableChildRemove:function(f){var d=this;if(f===d.lastFocusedChild){d.lastFocusedChild=null;d.activateFocusableContainer(true)}f=d.findNextFocusableChild({step:1,beforeRender:true});if(!f){d.activateFocusableContainer(false)}},beforeFocusableChildEnable:Ext.privateFn,onFocusableChildEnable:function(f){var d=this;if(!d.enableFocusableContainer||d.destroying||d.destroyed){return}if(f!==d.lastFocusedChild){d.deactivateFocusable(f);if(!d.isFocusableContainerActive()){d.activateFocusableContainer(true)}}},beforeFocusableChildDisable:function(g){var j=this,f;if(!j.enableFocusableContainer||j.destroying||j.destroyed){return}if(g.hasFocus){f=j.findNextFocusableChild({child:g})||g.findFocusTarget();if(f){f.focus()}}},onFocusableChildDisable:function(j){var k=this,g=k.lastFocusedChild,l;if(!k.enableFocusableContainer||k.destroying||k.destroyed){return}if(j===g){k.activateFocusableContainer(true)}l=k.findNextFocusableChild({step:1});if(!l){k.activateFocusableContainer(false)}},beforeFocusableChildHide:function(c){return this.beforeFocusableChildDisable(c)},onFocusableChildHide:function(c){return this.onFocusableChildDisable(c)},beforeFocusableChildShow:function(c){return this.beforeFocusableChildEnable(c)},onFocusableChildShow:function(c){return this.onFocusableChildEnable(c)},onFocusableChildMasked:Ext.privateFn,onFocusableChildDestroy:Ext.privateFn,onFocusableChildUpdate:Ext.privateFn}},0,0,0,0,0,0,[Ext.util,"FocusableContainer"],0));(Ext.cmd.derive("Ext.panel.Header",Ext.panel.Bar,{isHeader:true,defaultType:"tool",indicateDrag:false,weight:-1,shrinkWrap:3,iconAlign:"left",titleAlign:"left",titlePosition:0,titleRotation:"default",autoEl:{role:"presentation"},beforeRenderConfig:{glyph:null,icon:null,iconCls:null,iconAlign:null,title:{$value:{xtype:"title",flex:1},merge:function(f,d){if(typeof f!=="object"){f={text:f}}return Ext.merge(d?Ext.Object.chain(d):{},f)}},titleAlign:null,titlePosition:null,titleRotation:null},headerCls:"x-header",initComponent:function(){var j=this,k=j.items,l=j.itemPosition,g=[j.headerCls];j.tools=j.tools||[];j.items=k=(k?k.slice():[]);if(l!==undefined){j._userItems=k.slice();j.items=k=[]}j.indicateDragCls=j.headerCls+"-draggable";if(j.indicateDrag){g.push(j.indicateDragCls)}j.addCls(g);j.syncNoBorderCls();Ext.Array.push(k,j.tools);j.tools.length=0;Ext.panel.Bar.prototype.initComponent.call(this);j.on({dblclick:j.onDblClick,click:j.onClick,element:"el",scope:j})},addTool:function(d){var f=this;f.add(Ext.ComponentManager.create(d,"tool"));f.checkFocusableTools()},afterLayout:function(){var n=this,k,j,m,l;if(n.vertical){j=n.frameTR;if(j){k=n.frameBR;m=n.frameTL;l=(n.getWidth()-j.getPadding("r")-((m)?m.getPadding("l"):n.el.getBorderWidth("l")))+"px";k.setStyle("background-position-x",l);j.setStyle("background-position-x",l)}}Ext.panel.Bar.prototype.afterLayout.call(this)},applyTitle:function(k,m){var l=this,j,n;k=k||"";j=Ext.isString(k);if(!Ext.isObject(k)){k={text:k.toString()}}if(m){Ext.suspendLayouts();m.setConfig(k);Ext.resumeLayouts(true);k=m}else{if(j){k.xtype="title"}k.ui=l.ui;n=("rotation" in k);k.id=l.id+"-title";if(l.isAccordionHeader){k.ariaRole="tab";k.textElRole=null;k.focusable=true}k=Ext.create(k);if(!n&&l.vertical&&l.titleRotation==="default"){k.rotation=1}}return k},applyTitlePosition:function(f){var d=this.items.getCount();if(this._titleInItems){--d}return Math.max(Math.min(f,d),0)},beforeLayout:function(){Ext.panel.Bar.prototype.beforeLayout.call(this);this.syncBeforeAfterTitleClasses()},beforeRender:function(){var f=this,d=f.itemPosition;f.protoEl.unselectable();Ext.panel.Bar.prototype.beforeRender.call(this);if(d!==undefined){f.insert(d,f._userItems)}f.checkFocusableTools()},checkFocusableTools:function(){var m=this,l=m.tools,k,n,j;if(m.isAccordionHeader){m.enableFocusableContainer=false;return}for(n=0,j=l.length;n<j;n++){if(l[n].focusable){k=true;break}}if(k){if(!m.initialConfig.hasOwnProperty("enableFocusableContainer")||m.enableFocusableContainer){m.ariaRole="toolbar";m.enableFocusableContainer=true;if(m.rendered){m.ariaEl.dom.setAttribute("role","toolbar");m.initFocusableContainer(true)}}}else{m.ariaRole="presentation";m.enableFocusableContainer=false;if(m.rendered){m.ariaEl.dom.setAttribute("role","presentation");m.initFocusableContainer(true)}}},getTools:function(){return this.tools.slice()},onAdd:function(j,f){var g=this.tools;Ext.panel.Bar.prototype.onAdd.call(this,j,f);if(j.isTool){g.push(j);g[j.type]=j}},onAdded:function(j,g,f){this.syncNoBorderCls();Ext.panel.Bar.prototype.onAdded.call(this,j,g,f)},onRemoved:function(j,g,f){this.syncNoBorderCls();Ext.panel.Bar.prototype.onRemoved.call(this,j,g,f)},setDock:function(m){var n=this,k=n.getTitle(),j=n.getTitleRotation(),l=k.getRotation();Ext.suspendLayouts();Ext.panel.Bar.prototype.setDock.call(this,m);if(j==="default"){j=(n.vertical?1:0);if(j!==l){k.setRotation(j)}if(n.rendered){n.resetItemMargins()}}Ext.resumeLayouts(true)},updateGlyph:function(c){this.getTitle().setGlyph(c)},updateIcon:function(c){this.getTitle().setIcon(c)},updateIconAlign:function(f,d){this.getTitle().setIconAlign(f)},updateIconCls:function(c){this.getTitle().setIconCls(c)},updateTitle:function(f,d){if(!d){this.insert(this.getTitlePosition(),f);this._titleInItems=true}this.titleCmp=f},updateTitleAlign:function(f,d){this.getTitle().setTextAlign(f)},updateTitlePosition:function(c){this.insert(c,this.getTitle())},updateTitleRotation:function(c){if(c==="default"){c=(this.vertical?1:0)}this.getTitle().setRotation(c)},privates:{fireClickEvent:function(f,g){var j="."+Ext.panel.Tool.prototype.baseCls;if(!g.getTarget(j)){this.fireEvent(f,this,g)}},getFramingInfoCls:function(){var g=this,j=Ext.panel.Bar.prototype.getFramingInfoCls.call(this),f=g.ownerCt;if(!g.expanding&&f&&(f.collapsed||g.isCollapsedExpander)){j+="-"+f.collapsedCls}return j+"-"+g.dock},onClick:function(c){this.fireClickEvent("click",c)},onDblClick:function(c){this.fireClickEvent("dblclick",c)},syncBeforeAfterTitleClasses:function(B){var u=this,v=u.items,x=v.items,C=u.getTitlePosition(),D=x.length,w=v.generation,s=u.syncBeforeAfterGen,q,y,A,r;if(!B&&(s===w)){return}u.syncBeforeAfterGen=w;for(A=0;A<D;++A){r=x[A];q=r.afterTitleCls||(r.afterTitleCls=r.baseCls+"-after-title");y=r.beforeTitleCls||(r.beforeTitleCls=r.baseCls+"-before-title");if(!u.title||A<C){if(s){r.removeCls(q)}r.addCls(y)}else{if(A>C){if(s){r.removeCls(y)}r.addCls(q)}}}},syncNoBorderCls:function(){var j=this,f=this.ownerCt,g=j.headerCls+"-noborder";if(f?(f.border===false&&!f.frame):j.border===false){j.addCls(g)}else{j.removeCls(g)}}}},0,["header"],["component","box","container","header"],{component:true,box:true,container:true,header:true},["widget.header"],[[Ext.util.FocusableContainer.prototype.mixinId||Ext.util.FocusableContainer.$className,Ext.util.FocusableContainer]],[Ext.panel,"Header"],0));(Ext.cmd.derive("Ext.layout.container.boxOverflow.None",Ext.Base,{alternateClassName:"Ext.layout.boxOverflow.None",factoryConfig:{defaultType:"none"},isBoxOverflowHandler:true,$configPrefixed:false,$configStrict:false,constructor:function(c){this.initConfig(c)},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn,beginLayout:Ext.emptyFn,beginLayoutCycle:Ext.emptyFn,calculate:function(l){var g=this,k=l.state.boxPlan,j;if(k&&k.tooNarrow){j=g.handleOverflow(l);if(j){if(j.reservedSpace){g.layout.publishInnerCtSize(l,j.reservedSpace)}}}else{g.clearOverflow()}},completeLayout:Ext.emptyFn,finishedLayout:function(l){var m=this,j=m.layout.owner,n,k;if(j.hasListeners.overflowchange){n=j.query(">[hidden]");k=n.length;if(k!==m.lastHiddenCount){j.fireEvent("overflowchange",m.lastHiddenCount,k,n);m.lastHiddenCount=k}}},onRemove:Ext.emptyFn,getItem:function(c){return this.layout.owner.getComponent(c)},getOwnerType:function(d){var f;if(d.isToolbar){f="toolbar"}else{if(d.isTabBar){f="tab-bar"}else{if(d.isMenu){f="menu"}else{if(d.isBreadcrumb){f="breadcrumb"}else{f=d.getXType()}}}}return f},getPrefixConfig:Ext.emptyFn,getSuffixConfig:Ext.emptyFn,getOverflowCls:function(){return""},setVertical:function(){var j=this,f=j.layout,g=f.innerCt;g.removeCls(j.getOverflowCls(f.oppositeDirection));g.addCls(j.getOverflowCls(f.direction))}},1,0,0,0,["box.overflow.None","box.overflow.none"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.layout.container.boxOverflow,"None",Ext.layout.boxOverflow,"None"],0));(Ext.cmd.derive("Ext.layout.container.boxOverflow.Scroller",Ext.layout.container.boxOverflow.None,{alternateClassName:"Ext.layout.boxOverflow.Scroller",animateScroll:false,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:"x-box-scroller",beforeSuffix:"-before-scroller",afterSuffix:"-after-scroller",constructor:function(d){var f=this;f.mixins.observable.constructor.call(f,d);f.scrollPosition=0;f.scrollSize=0},getPrefixConfig:function(){return{role:"presentation",id:this.layout.owner.id+this.beforeSuffix,cls:this.createScrollerCls("beforeX"),style:"display:none"}},getSuffixConfig:function(){return{role:"presentation",id:this.layout.owner.id+this.afterSuffix,cls:this.createScrollerCls("afterX"),style:"display:none"}},createScrollerCls:function(o){var m=this,n=m.layout,r=n.owner,p=m.getOwnerType(r),l=m.scrollerCls,q=l+" "+l+"-"+n.names[o]+" "+l+"-"+p+" "+l+"-"+p+"-"+r.ui;if(r.plain){q+=" "+l+"-plain"}return q},getOverflowCls:function(c){return this.scrollerCls+"-body-"+c},beginLayout:function(c){c.innerCtScrollPos=this.getScrollPosition();Ext.layout.container.boxOverflow.None.prototype.beginLayout.apply(this,arguments)},finishedLayout:function(p){var q=this,n=p.state.boxPlan,r=q.layout,o=r.names,m=Math.min(q.getMaxScrollPosition(),p.innerCtScrollPos),l;if(n&&n.tooNarrow){l=p.childItems[p.childItems.length-1].props;q.scrollSize=l[o.x]+l[o.width];q.updateScrollButtons();r.innerCt[o.setScrollLeft](m)}Ext.layout.container.boxOverflow.None.prototype.finishedLayout.call(this,p)},handleOverflow:function(v){var p=this,q=p.layout.names,o=q.getWidth,n=q.parallelMargins,u,r,s,w;p.showScrollers();s=p.getBeforeScroller();w=p.getAfterScroller();u=s[o]()+w[o]()+s.getMargin(n)+w.getMargin(n);r=v.targetContext.getPaddingInfo()[q.width];return{reservedSpace:Math.max(u-r,0)}},getBeforeScroller:function(){var c=this;return c._beforeScroller||(c._beforeScroller=c.createScroller(c.beforeSuffix,"beforeRepeater","scrollLeft"))},getAfterScroller:function(){var c=this;return c._afterScroller||(c._afterScroller=c.createScroller(c.afterSuffix,"afterRepeater","scrollRight"))},createScroller:function(n,p,m){var o=this,q=o.layout.owner,r=o.scrollerCls,l;l=q.el.getById(q.id+n);l.addClsOnOver(r+"-hover");l.addClsOnClick(r+"-pressed");l.setVisibilityMode(Ext.Element.DISPLAY);o[p]=new Ext.util.ClickRepeater(l,{interval:o.scrollRepeatInterval,handler:m,scope:o});return l},createWheelListener:function(){var c=this;c.wheelListener=c.layout.innerCt.on("mousewheel",c.onMouseWheel,c,{destroyable:true})},onMouseWheel:function(c){c.stopEvent();this.scrollBy(this.getWheelDelta(c)*this.wheelIncrement*-1,false)},getWheelDelta:function(c){return c.getWheelDelta()},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){var c=this;if(!c.wheelListener){c.createWheelListener()}c.getBeforeScroller().show();c.getAfterScroller().show();c.layout.owner.addClsWithUI(c.layout.direction==="vertical"?"vertical-scroller":"scroller")},hideScrollers:function(){var j=this,g=j.getBeforeScroller(),f=j.getAfterScroller();if(g){g.hide();f.hide();j.layout.owner.removeClsWithUI(j.layout.direction==="vertical"?"vertical-scroller":"scroller")}},destroy:function(){Ext.destroyMembers(this,"beforeRepeater","afterRepeater","_beforeScroller","_afterScroller","wheelListener");this.callParent()},scrollBy:function(f,d){this.scrollTo(this.getScrollPosition()+f,d)},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){var l=this,j=l.getBeforeScroller(),g=l.getAfterScroller(),k;if(!j||!g){return}k=l.scrollerCls+"-disabled";j[l.atExtremeBefore()?"addCls":"removeCls"](k);g[l.atExtremeAfter()?"addCls":"removeCls"](k);l.scrolling=false},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,false)},scrollRight:function(){this.scrollBy(this.scrollIncrement,false)},getScrollPosition:function(){var g=this,j=g.layout,f;if(isNaN(g.scrollPosition)){f=j.innerCt[j.names.getScrollLeft]()}else{f=g.scrollPosition}return f},getMaxScrollPosition:function(){var j=this,f=j.layout,g=j.scrollSize-f.innerCt.lastBox[f.names.width];return(g<0)?0:g},atExtremeBefore:function(){return !this.getScrollPosition()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollPosition()},setVertical:function(){var m=this,l=m.getBeforeScroller(),n=m.getAfterScroller(),k=m.layout.names,j=m.scrollerCls;l.removeCls(j+"-"+k.beforeY);n.removeCls(j+"-"+k.afterY);l.addCls(j+"-"+k.beforeX);n.addCls(j+"-"+k.afterX);Ext.layout.container.boxOverflow.None.prototype.setVertical.call(this)},scrollTo:function(l,r){var n=this,o=n.layout,m=o.names,p=n.getScrollPosition(),q=Ext.Number.constrain(l,0,n.getMaxScrollPosition());if(q!==p&&!n.scrolling){n.scrollPosition=NaN;if(r===undefined){r=n.animateScroll}o.innerCt[m.scrollTo](m.beforeScrollX,q,r?n.getScrollAnim():false);if(r){n.scrolling=true}else{n.updateScrollButtons()}n.fireEvent("scroll",n,q,r?n.getScrollAnim():false)}},scrollToItem:function(o,w){var p=this,s=p.layout,v=s.owner,q=s.names,x=s.innerCt,y,u,r;o=p.getItem(o);if(o!==undefined){if(o===v.items.first()){r=0}else{if(o===v.items.last()){r=p.getMaxScrollPosition()}else{y=p.getItemVisibility(o);if(!y.fullyVisible){u=o.getBox(false,true);r=u[q.x];if(y.hiddenEnd){r-=(x[q.getWidth]()-u[q.width])}}}}if(r!==undefined){p.scrollTo(r,w)}}},getItemVisibility:function(n){var p=this,v=p.getItem(n).getBox(true,true),u=p.layout,q=u.names,r=v[q.x],s=r+v[q.width],w=p.getScrollPosition(),o=w+u.innerCt[q.getWidth]();return{hiddenStart:r<w,hiddenEnd:s>o,fullyVisible:r>=w&&s<=o}}},1,0,0,0,["box.overflow.Scroller","box.overflow.scroller"],[["observable",Ext.mixin.Observable]],[Ext.layout.container.boxOverflow,"Scroller",Ext.layout.boxOverflow,"Scroller"],0));(Ext.cmd.derive("Ext.dd.DragDropManager",Ext.Base,{singleton:true,alternateClassName:["Ext.dd.DragDropMgr","Ext.dd.DDM"],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:true,stopPropagation:false,initialized:false,locked:false,init:function(){this.initialized=true},POINT:0,INTERSECT:1,mode:0,notifyOccluded:false,dragCls:"x-dd-drag-current",currentPoint:new Ext.util.Point(),_execOnAll:function(q,r){var o=this.ids,p,j,m,n;for(p in o){if(o.hasOwnProperty(p)){n=o[p];for(j in n){if(n.hasOwnProperty(j)){m=n[j];if(!this.isTypeOfDD(m)){continue}m[q].apply(m,r)}}}}},addListeners:function(){var c=this;c.init();Ext.getWin().on({unload:c._onUnload,resize:c._onResize,scope:c})},_onResize:function(c){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=true},unlock:function(){this.locked=false},isLocked:function(){return this.locked},locationCache:{},useCache:true,clickPixelThresh:8,dragThreshMet:false,clickTimeout:null,startX:0,startY:0,regDragDrop:function(f,d){if(!this.initialized){this.init()}if(!this.ids[d]){this.ids[d]={}}this.ids[d][f.id]=f},removeDDFromGroup:function(g,f){if(!this.ids[f]){this.ids[f]={}}var j=this.ids[f];if(j&&j[g.id]){delete j[g.id]}},_remove:function(l,p){var m=this,o=m.ids,g=l.groups,n;if(m.clearingAll){return}if(m.dragCurrent===l){m.dragCurrent=null}for(n in g){if(g.hasOwnProperty(n)){if(p){delete o[n]}else{if(o[n]){delete o[n][l.id]}}}}delete m.handleIds[l.id];delete m.locationCache[l.id]},regHandle:function(f,d){if(!this.handleIds[f]){this.handleIds[f]={}}this.handleIds[f][d]=d},isDragDrop:function(c){return(this.getDDById(c))?true:false},getRelated:function(l,p){var m=[],n,o,j;for(n in l.groups){for(o in this.ids[n]){j=this.ids[n][o];if(!this.isTypeOfDD(j)){continue}if(!p||j.isTarget){m[m.length]=j}}}return m},isLegalTarget:function(k,l){var n=this.getRelated(k,true),m,j;for(m=0,j=n.length;m<j;++m){if(n[m].id===l.id){return true}}return false},isTypeOfDD:function(c){return(c&&c.__ygDragDrop)},isHandle:function(f,d){return(this.handleIds[f]&&this.handleIds[f][d])},getDDById:function(j,k){var l,g;for(l in this.ids){g=this.ids[l][j];if(g instanceof Ext.dd.DDTarget||k){return g}}return null},handleMouseDown:function(s,u){var r=this,n=s.getXY(),w=u.getEl(),p={translate:false,fn:r.handleMouseUp,capture:false,priority:-1000},v={translate:false,fn:r.handleMouseMove,capture:false},q={capture:true,destroyable:true,scope:r},o=Ext.supports;q.touchstart=r.handleMouseUp;if(o.PointerEvents){q.pointerup=p;q.pointermove=v}else{if(o.MSPointerEvents){q.mouseup=p;q.mousemove=v}else{if(s.pointerType==="mouse"){q.mouseup=p;q.mousemove=v}else{q.touchend=p;q.touchmove=v}}}r.pointerMoveListeners=Ext.getDoc().on(q);r.isMouseDown=true;if(Ext.quickTipsActive){Ext.tip.QuickTipManager.ddDisable()}r.currentPoint.setPosition(n);if(r.dragCurrent){r.handleMouseUp(s)}r.mousedownEvent=s;r.currentTarget=s.getTarget();r.dragCurrent=u;Ext.fly(w).setCapture();r.startX=n[0];r.startY=n[1];r.offsetX=r.offsetY=0;r.deltaX=r.startX-w.offsetLeft;r.deltaY=r.startY-w.offsetTop;r.dragThreshMet=false},startDrag:function(n,k){var m=this,l=m.dragCurrent,j;clearTimeout(m.clickTimeout);if(l){l.b4StartDrag(n,k);l.startDrag(n,k);j=Ext.fly(l.getDragEl());if(j){j.addCls(m.dragCls);if(j.shim&&j.shim.el){j.shim.el.addCls(m.dragCls)}}}m.dragThreshMet=true},handleMouseUp:function(f){var d=this;d.pointerMoveListeners.destroy();d.isMouseDown=false;if(Ext.quickTipsActive){Ext.tip.QuickTipManager.ddEnable()}if(!d.dragCurrent){return}if(Ext.isIE&&document.releaseCapture){document.releaseCapture()}clearTimeout(d.clickTimeout);if(d.dragThreshMet){d.fireEvents(f,true)}d.stopDrag(f);if(d.dragThreshMet){d.stopEvent(f)}d.mousedownEvent=d.currentTarget=null},stopEvent:function(c){if(this.stopPropagation){c.stopPropagation()}if(this.preventDefault&&c.pointerType==="touch"){c.preventDefault()}},stopDrag:function(j){var l=this,k=l.dragCurrent,g;if(k){if(l.dragThreshMet){g=Ext.fly(k.getDragEl());if(g){g.removeCls(l.dragCls);if(g.shim&&g.shim.el){g.shim.el.removeCls(l.dragCls)}}k.b4EndDrag(j);k.endDrag(j)}l.dragCurrent.onMouseUp(j)}l.dragCurrent=null;l.dragOvers={}},handleMouseMove:function(n){var p=this,o=p.dragCurrent,m=n.getXY(),r=m[0],u=m[1],q,s;p.offsetX=r-p.startX;p.offsetY=u-p.startY;p.currentPoint.setPosition(m);if(!o){return true}if(!p.dragThreshMet){q=Math.abs(p.offsetX);s=Math.abs(p.offsetY);if(q>p.clickPixelThresh||s>p.clickPixelThresh){n.claimGesture();p.startDrag(p.startX,p.startY)}}if(p.dragThreshMet){o.b4Drag(n);o.onDrag(n);if(!o.moveOnly){p.fireEvents(n,false)}}p.stopEvent(n);return true},fireEvents:function(C,K){var A=this,J=Ext.supports.Touch,P=A.dragCurrent,E=A.currentPoint,I=[],O=[],M=[],T=[],B=[],D=[],R,Q,L,S,G,F,H,N;if(!P||P.isLocked()){return}N=!(P.deltaX<0||P.deltaY<0);if(J||(!A.notifyOccluded&&(!Ext.supports.CSSPointerEvents||Ext.isIE10m||Ext.isOpera)&&N)){R=P.getDragEl();if(N){R.style.visibility="hidden"}C=C.chain({target:A.elementFromPoint(C.clientX,C.clientY)||document.documentElement});if(N){R.style.visibility="visible"}}for(G in A.dragOvers){Q=A.dragOvers[G];delete A.dragOvers[G];if(!A.isTypeOfDD(Q)||Q.destroyed){continue}if(K){M.push(Q)}else{if(A.notifyOccluded){if(!this.isOverTarget(E,Q,A.mode)){M.push(Q)}}else{if(!C.within(Q.getEl())){M.push(Q)}}}O[G]=true}for(H in P.groups){if("string"!==typeof H){continue}for(G in A.ids[H]){Q=A.ids[H][G];if(A.isTypeOfDD(Q)&&(L=Q.getEl())&&(Q.isTarget)&&(!Q.isLocked())&&(Ext.fly(L).isVisible(true))&&((Q!==P)||(P.ignoreSelf===false))){if(A.notifyOccluded){if((Q.zIndex=A.getZIndex(L))!==-1){S=true}I.push(Q)}else{if(C.within(Q.getEl())){I.push(Q);break}}}}}if(S){Ext.Array.sort(I,A.byZIndex)}for(G=0,F=I.length;G<F;G++){Q=I[G];if(A.isOverTarget(E,Q,A.mode)){if(K){B.push(Q)}else{if(!O[Q.id]){D.push(Q)}else{T.push(Q)}A.dragOvers[Q.id]=Q}if(!A.notifyOccluded){break}}}if(A.mode){if(D.length){P.onDragEnter(C,D)}if(T.length){P.b4DragOver(C,T);P.onDragOver(C,T)}if(B.length){P.b4DragDrop(C,B);P.onDragDrop(C,B)}if(M.length){P.b4DragOut(C,M);P.onDragOut(C,M)}}else{for(G=0,F=D.length;G<F;++G){P.onDragEnter(C,D[G].id)}for(G=0,F=T.length;G<F;++G){P.b4DragOver(C,T[G].id);P.onDragOver(C,T[G].id)}for(G=0,F=B.length;G<F;++G){P.b4DragDrop(C,B[G].id);P.onDragDrop(C,B[G].id)}for(G=0,F=M.length;G<F;++G){P.b4DragOut(C,M[G].id);P.onDragOut(C,M[G].id)}}if(K&&!B.length){P.onInvalidDrop(C)}},elementFromPoint:function(d,f){if(Ext.rootInheritedState.rtl){d=Ext.Element.getViewportWidth()-d}return Ext.Element.fromPoint(d,f,true)},getZIndex:function(l){var g=document.body,k,j=-1;l=Ext.getDom(l);while(l!==g){if(!isNaN(k=Number(Ext.fly(l).getStyle("zIndex")))){j=k}l=l.parentNode}return j},byZIndex:function(f,d){return f.zIndex<d.zIndex},getBestMatch:function(m){var k=null,n=m.length,l,j;if(n===1){k=m[0]}else{for(l=0;l<n;++l){j=m[l];if(j.cursorIsOver){k=j;break}else{if(!k||k.overlap.getArea()<j.overlap.getArea()){k=j}}}}return k},refreshCache:function(n){var j,m,l,k;for(j in n){if("string"!==typeof j){continue}for(m in this.ids[j]){l=this.ids[j][m];if(this.isTypeOfDD(l)){k=this.getLocation(l);if(k){this.locationCache[l.id]=k}else{delete this.locationCache[l.id]}}}}},verifyEl:function(c){return Ext.getBody().contains(c)},getLocation:function(w){if(!this.isTypeOfDD(w)){return null}if(w.getRegion){return w.getRegion()}var y=w.getEl(),r,A,B,b,l,D,C,u,x;try{r=Ext.fly(y).getXY()}catch(v){}if(!r){return null}A=r[0];B=A+y.offsetWidth;b=r[1];l=b+y.offsetHeight;D=b-w.padding[0];C=B+w.padding[1];u=l+w.padding[2];x=A-w.padding[3];return new Ext.util.Region(D,C,u,x)},isOverTarget:function(n,w,u){var r=this.locationCache[w.id],o,q,v,s,p;if(!r||!this.useCache){r=this.getLocation(w);this.locationCache[w.id]=r}if(!r){return false}w.cursorIsOver=r.contains(n);o=this.dragCurrent;if(!o||!o.getTargetCoord||(!u&&!o.constrainX&&!o.constrainY)){return w.cursorIsOver}w.overlap=null;q=o.getTargetCoord(n.x,n.y);v=o.getDragEl();s=new Ext.util.Region(q.y,q.x+v.offsetWidth,q.y+v.offsetHeight,q.x);p=s.intersect(r);if(p){w.overlap=p;return(u)?true:w.cursorIsOver}else{return false}},_onUnload:function(f,d){Ext.dd.DragDropManager.unregAll()},unregAll:function(){var g=this,f=g.elementCache,j;if(g.dragCurrent){g.stopDrag();g.dragCurrent=null}g.clearingAll=true;g._execOnAll("unreg",[]);delete g.clearingAll;for(j in f){delete f[j]}g.elementCache={};g.ids={};g.handleIds={}},elementCache:{},getElWrapper:function(f){var d=this.elementCache[f];if(!d||!d.el){d=this.elementCache[f]=new this.ElementWrapper(Ext.getDom(f))}return d},getElement:function(c){return Ext.getDom(c)},getCss:function(f){var d=Ext.getDom(f);return(d)?d.style:null},ElementWrapper:function(c){this.el=c||null;this.id=this.el&&c.id;this.css=this.el&&c.style},getPosX:function(c){return Ext.fly(c).getX()},getPosY:function(c){return Ext.fly(c).getY()},swapNode:function(k,g){if(k.swapNode){k.swapNode(g)}else{var j=g.parentNode,l=g.nextSibling;if(l===k){j.insertBefore(k,g)}else{if(g===k.nextSibling){j.insertBefore(g,k)}else{k.parentNode.replaceChild(g,k);j.insertBefore(k,l)}}}},getScroll:function(){var l=window.document,k=l.documentElement,j=l.body,m=0,n=0;if(k&&(k.scrollTop||k.scrollLeft)){m=k.scrollTop;n=k.scrollLeft}else{if(j){m=j.scrollTop;n=j.scrollLeft}}return{top:m,left:n}},getStyle:function(f,d){return Ext.fly(f).getStyle(d)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(f,g){var j=Ext.fly(g).getXY();Ext.fly(f).setXY(j)},numericSort:function(b,f){return(b-f)},handleWasClicked:function(f,g){if(this.isHandle(g,f.id)){return true}else{var j=f.parentNode;while(j){if(this.isHandle(g,j.id)){return true}else{j=j.parentNode}}}return false}},0,0,0,0,0,0,[Ext.dd,"DragDropManager",Ext.dd,"DragDropMgr",Ext.dd,"DDM"],function(c){Ext.onInternalReady(function(){c.addListeners()})}));(Ext.cmd.derive("Ext.resizer.Splitter",Ext.Component,{childEls:["collapseEl"],renderTpl:['<tpl if="collapsible===true">','<div id="{id}-collapseEl" data-ref="collapseEl" role="presentation" class="',"x-","collapse-el ","x-",'layout-split-{collapseDir}{childElCls}">',"</div>","</tpl>"],isSplitter:true,baseCls:"x-splitter",collapsedClsInternal:"x-splitter-collapsed",canResize:true,collapsible:null,collapseOnDblClick:true,defaultSplitMin:40,defaultSplitMax:1000,collapseTarget:"next",horizontal:false,vertical:false,touchAction:undefined,size:5,tracker:null,ariaRole:"separator",focusable:true,tabIndex:0,applyTouchAction:function(d,f){if(d===undefined){d=this.vertical?{panX:false}:{panY:false}}return Ext.Component.prototype.applyTouchAction.call(this,d,f)},getTrackerConfig:function(){return Ext.apply({xclass:"Ext.resizer.SplitterTracker",el:this.el,splitter:this},this.tracker)},beforeRender:function(){var k=this,j=k.getCollapseTarget(),l=k.collapsible,g;Ext.Component.prototype.beforeRender.call(this);if(j.collapsed){k.addCls(k.collapsedClsInternal)}if(!k.canResize){k.addCls(k.baseCls+"-noresize")}Ext.applyIf(k.renderData,{collapseDir:k.getCollapseDirection(),collapsible:(l!==null)?l:j.collapsible});k.ariaRenderAttributes=k.ariaRenderAttributes||{};k.ariaRenderAttributes["aria-orientation"]=k.orientation;k.protoEl.unselectable()},onRender:function(){var j=this,g,f;Ext.Component.prototype.onRender.apply(this,arguments);if(j.performCollapse!==false){if(j.renderData.collapsible){j.mon(j.collapseEl,"click",j.toggleTargetCmp,j)}if(j.collapseOnDblClick){j.mon(j.el,"dblclick",j.toggleTargetCmp,j)}}g=j.getCollapseTarget();if(g&&g.isPanel){g.on({collapse:j.onTargetCollapse,expand:j.onTargetExpand,beforeexpand:j.onBeforeTargetExpand,beforecollapse:j.onBeforeTargetCollapse,scope:j})}if(j.canResize){j.tracker=Ext.create(j.getTrackerConfig());j.relayEvents(j.tracker,["beforedragstart","dragstart","dragend"])}f=j.collapseEl;if(f){f.lastCollapseDirCls=j.collapseDirProps[j.collapseDirection].cls}},getCollapseDirection:function(){var l=this,o=l.collapseDirection,m,k,p,n;if(!o){m=l.collapseTarget;if(m.isComponent){o=m.collapseDirection}if(!o){n=l.ownerCt.layout.type;if(m.isComponent){p=l.ownerCt.items;k=Number(p.indexOf(m)===p.indexOf(l)-1)<<1|Number(n==="hbox")}else{k=Number(l.collapseTarget==="prev")<<1|Number(n==="hbox")}o=["bottom","right","top","left"][k]}l.collapseDirection=o}l.setOrientation((o==="top"||o==="bottom")?"horizontal":"vertical");return o},getCollapseTarget:function(){var c=this;return c.collapseTarget.isComponent?c.collapseTarget:c.collapseTarget==="prev"?c.previousSibling():c.nextSibling()},setCollapseEl:function(f){var d=this.collapseEl;if(d){d.setDisplayed(f)}},onBeforeTargetExpand:function(c){this.setCollapseEl("none")},onBeforeTargetCollapse:function(){this.setCollapseEl("none")},onTargetCollapse:function(f){var d=this;if(f===d.getCollapseTarget()&&f[d.orientation==="vertical"?"collapsedHorizontal":"collapsedVertical"]()){d.el.addCls(d.collapsedClsInternal+" "+(d.collapsedCls||""))}d.setCollapseEl("")},onTargetExpand:function(f){var d=this;d.el.removeCls(d.collapsedClsInternal+" "+(d.collapsedCls||""));d.setCollapseEl("")},collapseDirProps:{top:{cls:"x-layout-split-top"},right:{cls:"x-layout-split-right"},bottom:{cls:"x-layout-split-bottom"},left:{cls:"x-layout-split-left"}},orientationProps:{horizontal:{opposite:"vertical",fixedAxis:"height",stretchedAxis:"width"},vertical:{opposite:"horizontal",fixedAxis:"width",stretchedAxis:"height"}},applyCollapseDirection:function(){var k=this,l=k.collapseEl,j=k.collapseDirProps[k.collapseDirection],g;if(l){g=l.lastCollapseDirCls;if(g){l.removeCls(g)}l.addCls(l.lastCollapseDirCls=j.cls)}},applyOrientation:function(){var o=this,q=o.orientation,p=o.orientationProps[q],n=o.size,r=p.fixedAxis,m=p.stretchedAxis,l=o.baseCls+"-";o[q]=true;o[p.opposite]=false;if(!o.hasOwnProperty(r)||o[r]==="100%"){o[r]=n}if(!o.hasOwnProperty(m)||o[m]===n){o[m]="100%"}o.removeCls(l+p.opposite);o.addCls(l+q)},setOrientation:function(d){var f=this;if(f.orientation!==d){f.orientation=d;f.applyOrientation()}},updateOrientation:function(){delete this.collapseDirection;this.getCollapseDirection();this.applyCollapseDirection()},toggleTargetCmp:function(l,n){var m=this.getCollapseTarget(),k=m.placeholder,j;if(Ext.isFunction(m.expand)&&Ext.isFunction(m.collapse)){if(k&&!k.hidden){j=true}else{j=!m.hidden}if(j){if(m.collapsed||m.floatedFromCollapse){m.expand()}else{if(m.collapseDirection){m.collapse()}else{m.collapse(this.renderData.collapseDir)}}}}},setSize:function(){var c=this;Ext.Component.prototype.setSize.apply(this,arguments);if(Ext.isIE&&c.el){c.el.repaint()}},doDestroy:function(){Ext.destroy(this.tracker);Ext.Component.prototype.doDestroy.call(this)}},0,["splitter"],["component","box","splitter"],{component:true,box:true,splitter:true},["widget.splitter"],0,[Ext.resizer,"Splitter"],0));Ext.define("Ext.theme.neptune.resizer.Splitter",{override:"Ext.resizer.Splitter",size:8});Ext.define("Ext.theme.triton.resizer.Splitter",{override:"Ext.resizer.Splitter",size:10});(Ext.cmd.derive("Ext.layout.container.Box",Ext.layout.container.Container,{alternateClassName:"Ext.layout.BoxLayout",type:"box",config:{align:"begin",constrainAlign:false,enableSplitters:true,overflowHandler:{$value:null,merge:function(f,d){if(typeof f==="string"){f={type:f}}return Ext.merge(d?Ext.Object.chain(d):{},f)}},padding:0,pack:"start",stretchMaxPartner:undefined,vertical:false,alignRoundingMethod:"round"},itemCls:"x-box-item",targetCls:"x-box-layout-ct",targetElCls:"x-box-target",innerCls:"x-box-inner",manageMargins:true,createsInnerCt:true,childEls:["innerCt","targetEl"],renderTpl:['{%var oc,l=values.$comp.layout,oh=l.overflowHandler;if (oh && oh.getPrefixConfig!==Ext.emptyFn) {if(oc=oh.getPrefixConfig())dh.generateMarkup(oc, out)}%}<div id="{ownerId}-innerCt" data-ref="innerCt" role="presentation" class="{[l.innerCls]}{[oh ? (" " + oh.getOverflowCls(l.direction)) : ""]}"><div id="{ownerId}-targetEl" data-ref="targetEl" class="{targetElCls}" role="presentation">{%this.renderBody(out, values)%}</div></div>{%if (oh && oh.getSuffixConfig!==Ext.emptyFn) {if(oc=oh.getSuffixConfig())dh.generateMarkup(oc, out)}%}',{disableFormats:true,definitions:"var dh=Ext.DomHelper;"}],constructor:function(f){var g=this,j;Ext.layout.container.Container.prototype.constructor.call(this,f);g.setVertical(g.vertical);g.flexSortFn=g.flexSort.bind(g);j=typeof g.padding;if(j==="string"||j==="number"){g.padding=Ext.util.Format.parseBox(g.padding);g.padding.height=g.padding.top+g.padding.bottom;g.padding.width=g.padding.left+g.padding.right}},_beginRe:/^(?:begin|left|top)$/,_centerRe:/^(?:center|middle)$/,_endRe:/^(?:end|right|bottom)$/,_percentageRe:/^\s*(\d+(?:\.\d*)?)\s*[%]\s*$/,getItemSizePolicy:function(M,L){var A=this,C=A.sizePolicy,E=A.align,F=M.flex,w=E,B=A.names,D=B.height,x=B.width,J=M[x],N=M[D],H=A._percentageRe,I=H.test(J),G=(E==="stretch"),K=(E==="stretchmax"),y=A.constrainAlign;if(!L&&(G||F||I||(y&&!K))){L=A.owner.getSizeModel()}if(G){if(!H.test(N)&&L[D].shrinkWrap){w="stretchmax"}}else{if(!K){if(H.test(N)){w="stretch"}else{if(y&&!L[D].shrinkWrap){w="stretchmax"}else{w=""}}}}if(F||I){if(!L[x].shrinkWrap){C=C.flex}}return C[w]},flexSort:function(w,x){var A=this.names.maxWidth,G=this.names.minWidth,y=Infinity,B=w.target,K=x.target,D=B.flex,E=K.flex,J=0,I,b,C,H,L,F;C=B[A]||y;H=K[A]||y;I=B[G]||0;b=K[G]||0;L=isFinite(I)||isFinite(b);F=isFinite(C)||isFinite(H);if(L||F){if(F){J=C-H}if(J===0&&L){J=b-I}if(J===0){if(F){J=E-D}else{J=D-E}}}return J},isItemBoxParent:function(c){return true},isItemShrinkWrap:function(c){return true},roundFlex:function(c){return Math.floor(c)},beginCollapse:function(f){var d=this;if(d.direction==="vertical"&&f.collapsedVertical()){f.collapseMemento.capture(["flex"]);delete f.flex}else{if(d.direction==="horizontal"&&f.collapsedHorizontal()){f.collapseMemento.capture(["flex"]);delete f.flex}}},beginExpand:function(c){c.collapseMemento.restore(["flex"])},beginLayout:function(o){var p=this,l=p.owner,m=l.stretchMaxPartner,q=p.innerCt.dom.style,n=p.names,r=p.overflowHandler;o.boxNames=n;if(r){r.beginLayout(o)}if(typeof m==="string"){m=Ext.getCmp(m)||l.query(m)[0]}o.stretchMaxPartner=m&&o.context.getCmp(m);Ext.layout.container.Container.prototype.beginLayout.call(this,o);o.innerCtContext=o.getEl("innerCt",p);o.targetElContext=o.getEl("targetEl",p);o.ownerScrollable=l.getScrollable();q.width=q.height=""},beginLayoutCycle:function(C,r){var v=this,F=C.state,u=C.ownerScrollable,x=v.align,w=C.boxNames,s=v.pack,D=v._centerRe,B=v.overflowHandler,E=C.state.canScroll,y,A;if(B){B.beginLayoutCycle(C,r)}Ext.layout.container.Container.prototype.beginLayoutCycle.call(this,C,r);C.parallelSizeModel=y=C[w.widthModel];C.perpendicularSizeModel=A=C[w.heightModel];C.boxOptions={align:x={stretch:x==="stretch",stretchmax:x==="stretchmax",center:D.test(x),bottom:v._endRe.test(x)},pack:s={center:D.test(s),end:s==="end"}};if(u){if(!E){F.canScroll={parallel:!y.shrinkWrap&&u[w.getX](),perpendicular:!A.shrinkWrap&&u[w.getY]()}}if(!F.actualScroll){F.actualScroll={parallel:false,perpendicular:false}}}if(x.stretch&&A.shrinkWrap){x.stretchmax=true;x.stretch=false}x.nostretch=!(x.stretch||x.stretchmax);if(y.shrinkWrap){s.center=s.end=false}v.cacheFlexes(C);v.targetEl.setWidth(20000)},cacheFlexes:function(V){var L=this,U=V.boxNames,af=U.widthModel,Z=U.heightModel,ad=V.boxOptions.align.nostretch,I=0,ae=V.childItems,G=ae.length,O=[],S=0,T=0,J=0,W=U.minWidth,Q=U.minHeight,Y=L._percentageRe,R=0,M=0,aa,N,H,X,ac,ab,K,P;while(G--){N=ae[G];aa=N.target;ab=N[af];if(ab.calculated){N.flex=H=aa.flex;if(H){I+=H;O.push(N);S+=aa[W]||0}else{if((X=Y.exec(aa[U.width]))){N.percentageParallel=parseFloat(X[1])/100;++R}}}if(ab.configured){K=aa[U.width]}else{K=aa[W]||0}J+=K;ac=N[Z];if(ad&&ac.calculated){X=Y.exec(aa[U.height]);N.percentagePerpendicular=parseFloat(X[1])/100;++M}if(ac.configured){P=aa[U.height]}else{P=aa[Q]||0}if(P>T){T=P}}V.flexedItems=O;V.flexedMinWidth=S;V.smallestWidth=J;V.smallestHeight=T;V.totalFlex=I;V.percentageWidths=R;V.percentageHeights=M;Ext.Array.sort(O,L.flexSortFn)},calculate:function(u){var p=this,q=u.boxNames,w=u.state,r=w.actualScroll,n=w.needsScroll,v=w.canScroll,o=w.boxPlan||(w.boxPlan={}),s=p.overflowHandler;o.targetSize=p.getContainerSize(u);if(v&&!n){w.needsScroll=n={parallel:v.parallel&&o.targetSize[q.width]<u.smallestWidth,perpendicular:v.perpendicular&&o.targetSize[q.height]<u.smallestHeight}}if(!w.parallelDone){w.parallelDone=p.calculateParallel(u,q,o)}if(!w.perpendicularDone){w.perpendicularDone=p.calculatePerpendicular(u,q,o)}if(w.parallelDone&&w.perpendicularDone){if(v&&!w.scrollPass){if(n.parallel!==r.parallel||n.perpendicular!==r.perpendicular){u.invalidate({state:{scrollPass:true,canScroll:v,needsScroll:r}});p.done=false;return}}p.publishInnerCtSize(u);if(p.done&&u.boxOptions.align.stretchmax&&!w.stretchMaxDone){p.calculateStretchMax(u,q,o);w.stretchMaxDone=true}if(s){s.calculate(u)}}else{p.done=false}},calculateParallel:function(ag,S,ab){var am=this,ap=ag.parallelSizeModel.shrinkWrap,aa=S.width,aw=ag.childItems,ak=S.beforeX,W=S.afterX,at=S.setWidth,ad=aw.length,ah=ag.flexedItems,X=ah.length,an=ag.boxOptions.pack,V=am.padding,aB=ab.targetSize,ao=aB[aa],R=ag.state,ae=R.needsScroll,al=R.canScroll,ac=0,av=V[ak],Y=av+V[W],aj=Ext.getScrollbarSize(),ay=aj[S.width],aC=aj[S.height],U,af,ax,ar,aq,au,aA,T,Z,ai,az;if(!ap&&!aB[S.gotWidth]){return false}for(U=0;U<ad;++U){aq=aw[U];af=aq.marginInfo||aq.getMarginInfo();ac+=af[aa];if(!aq[S.widthModel].calculated){Z=aq.getProp(aa);Y+=Z;if(isNaN(Y)){return false}}}Y+=ac;if(ag.percentageWidths){ai=ao-ac;if(isNaN(ai)){return false}for(U=0;U<ad;++U){aq=aw[U];if(aq.percentageParallel){Z=Math.ceil(ai*aq.percentageParallel);Z=aq[at](Z);Y+=Z}}}if(ap){az=0;ab.tooNarrow=false}else{az=ao-Y;if(ae&&ae.perpendicular){az-=aC}ab.tooNarrow=az<ag.flexedMinWidth;if(ab.tooNarrow&&al&&al.parallel){R.actualScroll.parallel=true}}T=Y;ax=az;ar=ag.totalFlex;for(U=0;U<X;U++){aq=ah[U];au=aq.flex;aA=am.roundFlex((au/ar)*ax);aA=aq[at](aA);T+=aA;ax=Math.max(0,ax-aA);ar-=au}if(an.center){av+=ax/2;if(av<0){av=0}}else{if(an.end){av+=ax}}for(U=0;U<ad;++U){aq=aw[U];af=aq.marginInfo;av+=af[ak];aq.setProp(S.x,av);av+=af[W]+aq.props[aa]}T+=ag.targetContext.getPaddingInfo()[aa];ag.state.contentWidth=T;if(ae&&ae.perpendicular){if(ap){T+=ay}ag[S.hasOverflowY]=true;ag.target.componentLayout[S.setWidthInDom]=true;ag[S.invalidateScrollY]=Ext.isIE8}ag[S.setContentWidth](T);return true},calculatePerpendicular:function(aq,Z,ak){var at=this,V=aq.state,ao=V.needsScroll,ar=V.canScroll,aH=aq.perpendicularSizeModel.shrinkWrap,aJ=ak.targetSize,aD=aq.childItems,al=aD.length,aA=Math.max,aB=Z.height,az=Z.setHeight,aE=Z.beforeY,au=Z.y,ac=at.padding,aC=ac[aE],ay=aJ[aB]-aC-ac[Z.afterY],af=aq.boxOptions.align,ax=af.stretch,aw=af.stretchmax,W=af.center,X=af.bottom,ad=at.constrainAlign,ae=0,ai=0,ag=at.onBeforeConstrainInvalidateChild,aj=at.onAfterConstrainInvalidateChild,aK=Ext.getScrollbarSize().height,am,ab,ah,ap,an,aI,av,aG,Y,aa,aF;if(!aH&&!aJ[Z.gotHeight]){return false}if(ax||((W||X)&&!aH)){if(isNaN(ay)){return false}}if(ao&&ao.parallel){if(aH){aa=true}else{ay-=aK;ak.targetSize[aB]-=aK}}if(ax){aI=ay;ae=aA(aI,aq.smallestHeight)}else{for(ab=0;ab<al;ab++){av=aD[ab];ap=(av.marginInfo||av.getMarginInfo())[aB];if(!(aF=av.percentagePerpendicular)){ah=av.getProp(aB)}else{++ai;if(aH){continue}else{ah=aF*ay-ap;ah=av[az](ah)}}if(!aH&&ad&&av[Z.heightModel].shrinkWrap&&ah>ay){av.invalidate({before:ag,after:aj,layout:at,childHeight:ay,names:Z});aq.state.parallelDone=false}if(isNaN(ae=aA(ae,ah+ap,av.target[Z.minHeight]||0))){return false}}}if(aa){ae+=aK;aq[Z.hasOverflowX]=true;aq.target.componentLayout[Z.setHeightInDom]=true;aq[Z.invalidateScrollX]=Ext.isIE8}aG=aq.stretchMaxPartner;if(aG){aq.setProp("maxChildHeight",ae);Y=aG.childItems;if(Y&&Y.length){ae=aA(ae,aG.getProp("maxChildHeight"));if(isNaN(ae)){return false}}}aq[Z.setContentHeight](ae+at.padding[aB]+aq.targetContext.getPaddingInfo()[aB]);if(aa){ae-=aK}if(ae>aJ[aB]&&ar&&ar.perpendicular){V.actualScroll.perpendicular=true}ak.maxSize=ae;if(aw){aI=ae}else{if(W||X||ai){if(ad){aI=aH?ae:ay}else{aI=aH?ae:aA(ay,ae)}aI-=aq.innerCtContext.getBorderInfo()[aB]}}for(ab=0;ab<al;ab++){av=aD[ab];ap=av.marginInfo||av.getMarginInfo();am=aC+ap[aE];if(ax){av[az](aI-ap[aB])}else{aF=av.percentagePerpendicular;if(aH&&aF){ap=av.marginInfo||av.getMarginInfo();ah=aF*aI-ap[aB];ah=av[az](ah)}if(W){an=aI-av.props[aB];if(an>0){am=aC+Math[at.alignRoundingMethod](an/2)}}else{if(X){am=aA(0,aI-am-av.props[aB])}}}av.setProp(au,am)}return true},onBeforeConstrainInvalidateChild:function(j,f){var g=f.names.heightModel;if(!j[g].constrainedMin){j[g]=Ext.layout.SizeModel.calculated}},onAfterConstrainInvalidateChild:function(j,f){var g=f.names;j.setProp(g.beforeY,0);if(j[g.heightModel].calculated){j[g.setHeight](f.childHeight)}},calculateStretchMax:function(G,A,x){var y=this,C=A.height,w=A.width,D=G.childItems,I=D.length,u=x.maxSize,v=y.onBeforeStretchMaxInvalidateChild,E=y.onAfterStretchMaxInvalidateChild,J,B,F,H;for(F=0;F<I;++F){J=D[F];B=J.props;H=u-J.getMarginInfo()[C];if(H!==B[C]||J[A.heightModel].constrained){J.invalidate({before:v,after:E,layout:y,childWidth:B[w],childHeight:H,childX:B.x,childY:B.y,names:A})}}},onBeforeStretchMaxInvalidateChild:function(j,f){var g=f.names.heightModel;if(!j[g].constrainedMax){j[g]=Ext.layout.SizeModel.calculated}},onAfterStretchMaxInvalidateChild:function(l,m){var k=m.names,j=m.childHeight,n=m.childWidth;l.setProp("x",m.childX);l.setProp("y",m.childY);if(l[k.heightModel].calculated){l[k.setHeight](j)}if(l[k.widthModel].calculated){l[k.setWidth](n)}},completeLayout:function(x){var p=this,q=x.invalidateScrollX,r=x.invalidateScrollY,w=p.overflowHandler,u,y,s,v,o;if(w){w.completeLayout(x)}if(q||r){y=p.getTarget();u=y.dom;o=u.style;if(q){s=y.getStyle("overflowX");if(s==="auto"){s=o.overflowX;o.overflowX="scroll"}else{q=false}}if(r){v=y.getStyle("overflowY");if(v==="auto"){v=o.overflowY;o.overflowY="scroll"}else{r=false}}if(q||r){u.scrollWidth;if(q){o.overflowX=s}if(r){o.overflowY=v}}}},finishedLayout:function(f){var d=this.overflowHandler;if(d){d.finishedLayout(f)}Ext.layout.container.Container.prototype.finishedLayout.call(this,f)},getLayoutItems:function(){var o=Ext.layout.container.Container.prototype.getLayoutItems.call(this),v=o.length,r,s,u,n,p,q,w;for(u=0;u<v;++u){if((n=o[u]).isSplitter){continue}w=n.splitter;if(n.hidden){if(w){if(!w.hidden){w.hidden=true;if(w.el){w.el.hide()}}}continue}if(w){q=w.collapseTarget==="next"}else{q=false}s=null;if(r&&p){if(p.hidden){p.hidden=false;if(p.el){p.el.show()}}if(q){s=true}}else{if(q){s=!r}}if(s!==null&&w.hidden!==s){w.hidden=s;if(w.el){w.el.setVisible(!s)}}p=!q&&w;r=n}if(r&&p&&!p.hidden){p.hidden=true;if(p.el){p.el.hide()}}return o},insertSplitter:function(n,o,l,p){var m={xtype:"splitter",id:n.id+"-splitter",hidden:l,splitterFor:n,synthetic:true},k=o+((p.collapseTarget==="prev")?1:0);m[this.names.height]="100%";if(p){Ext.apply(m,p)}n.splitter=this.owner.add(k,m)},publishInnerCtSize:function(I,G){G=G||0;var B=this,J=I.state,C=I.boxNames,D=C.height,y=C.width,E=I.boxOptions.align,w=B.padding,A=J.boxPlan,F=A.targetSize,L=A.maxSize,x=J.needsScroll,K=I.innerCtContext,H,v;if(I.parallelSizeModel.shrinkWrap||(A.tooNarrow&&J.canScroll)){H=J.contentWidth-I.targetContext.getPaddingInfo()[y]}else{H=F[y];if(x&&x.perpendicular){H-=Ext.getScrollbarSize()[y]}}H-=G;B.owner.tooNarrow=A.tooNarrow;if(E.stretch){v=L}else{v=A.maxSize+w[C.beforeY]+w[C.afterY]+K.getBorderInfo()[D];if(!I.perpendicularSizeModel.shrinkWrap&&(E.center||E.bottom)){v=Math.max(F[D],v)}}K[C.setWidth](H);K[C.setHeight](v);I.targetElContext.setWidth(I.innerCtContext.props.width-(B.vertical?0:(G||0)));if(isNaN(H+v)){B.done=false}},onAdd:function(j,g){var k=this,l=k.enableSplitters&&!j.isButton&&j.split;Ext.layout.container.Container.prototype.onAdd.call(this,j,g);if(l){if(l===true){l={collapseTarget:"next"}}else{if(Ext.isString(l)){l={collapseTarget:l==="before"?"next":"prev"}}else{l=Ext.apply({collapseTarget:l.side==="before"?"next":"prev"},l)}}k.insertSplitter(j,g,!!j.hidden,l)}},onRemove:function(u,q){var p=this,n=p.names,m=p.owner,o=u.splitter,s=p.overflowHandler,r;Ext.layout.container.Container.prototype.onRemove.call(this,u,q);if(o&&m.contains(o)){m.doRemove(o,true);u.splitter=null}if(s){s.onRemove(u)}if(u.layoutMarginCap===p.id){delete u.layoutMarginCap}if(!m.destroying&&!q&&u.rendered){r=u.getEl();if(r){r.setStyle(n.beforeY,"");r.setStyle(n.beforeX,"");r.setStyle("margin","")}}},applyOverflowHandler:function(j,f){var g;if(typeof j==="string"){j={type:j}}g=j.type;if(f&&f.type===j.type){delete j.type;f.setConfig(j);return f}j.layout=this;return Ext.Factory.boxOverflow(j)},getRenderTarget:function(){return this.targetEl},getElementTarget:function(){return this.innerCt},destroy:function(){var c=this;Ext.destroy(c.innerCt,c.overflowHandler);c.flexSortFn=c.innerCt=null;Ext.layout.container.Container.prototype.destroy.call(this)},getRenderData:function(){var c=Ext.layout.container.Container.prototype.getRenderData.call(this);c.targetElCls=this.targetElCls;return c},updateVertical:function(n){var k=this,m=k.overflowHandler,j=k.owner,l=k._props;Ext.apply(k,n?l.vbox:l.hbox);if(m&&j&&j.rendered){m.setVertical(n)}},_props:{hbox:{direction:"horizontal",oppositeDirection:"vertical",horizontal:true,vertical:false,names:{beforeX:"left",beforeScrollX:"left",leftCap:"Left",afterX:"right",width:"width",contentWidth:"contentWidth",minWidth:"minWidth",maxWidth:"maxWidth",widthCap:"Width",widthModel:"widthModel",widthIndex:0,x:"x",getX:"getX",setX:"setX",scrollLeft:"scrollLeft",overflowX:"overflowX",hasOverflowX:"hasOverflowX",invalidateScrollX:"invalidateScrollX",parallelMargins:"lr",center:"middle",beforeY:"top",afterY:"bottom",height:"height",contentHeight:"contentHeight",minHeight:"minHeight",maxHeight:"maxHeight",heightCap:"Height",heightModel:"heightModel",heightIndex:1,y:"y",getY:"getY",setY:"setY",overflowY:"overflowY",hasOverflowY:"hasOverflowY",invalidateScrollY:"invalidateScrollY",perpendicularMargins:"tb",getWidth:"getWidth",getHeight:"getHeight",setWidth:"setWidth",setHeight:"setHeight",gotWidth:"gotWidth",gotHeight:"gotHeight",setContentWidth:"setContentWidth",setContentHeight:"setContentHeight",setWidthInDom:"setWidthInDom",setHeightInDom:"setHeightInDom",getScrollLeft:"getScrollLeft",setScrollLeft:"setScrollLeft",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:1}}},vbox:{direction:"vertical",oppositeDirection:"horizontal",horizontal:false,vertical:true,names:{beforeX:"top",beforeScrollX:"top",leftCap:"Top",afterX:"bottom",width:"height",contentWidth:"contentHeight",minWidth:"minHeight",maxWidth:"maxHeight",widthCap:"Height",widthModel:"heightModel",widthIndex:1,x:"y",getX:"getY",setX:"setY",scrollLeft:"scrollTop",overflowX:"overflowY",hasOverflowX:"hasOverflowY",invalidateScrollX:"invalidateScrollY",parallelMargins:"tb",center:"center",beforeY:"left",afterY:"right",height:"width",contentHeight:"contentWidth",minHeight:"minWidth",maxHeight:"maxWidth",heightCap:"Width",heightModel:"widthModel",heightIndex:0,y:"x",getY:"getX",setY:"setX",overflowY:"overflowX",hasOverflowY:"hasOverflowX",invalidateScrollY:"invalidateScrollX",perpendicularMargins:"lr",getWidth:"getHeight",getHeight:"getWidth",setWidth:"setHeight",setHeight:"setWidth",gotWidth:"gotHeight",gotHeight:"gotWidth",setContentWidth:"setContentHeight",setContentHeight:"setContentWidth",setWidthInDom:"setHeightInDom",setHeightInDom:"setWidthInDom",getScrollLeft:"getScrollTop",setScrollLeft:"setScrollTop",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:0,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:1,setsHeight:0}}}}},1,0,0,0,["layout.box"],0,[Ext.layout.container,"Box",Ext.layout,"BoxLayout"],0));(Ext.cmd.derive("Ext.layout.container.HBox",Ext.layout.container.Box,{alternateClassName:"Ext.layout.HBoxLayout",type:"hbox",vertical:false},0,0,0,0,["layout.hbox"],0,[Ext.layout.container,"HBox",Ext.layout,"HBoxLayout"],0));(Ext.cmd.derive("Ext.layout.container.VBox",Ext.layout.container.Box,{alternateClassName:"Ext.layout.VBoxLayout",type:"vbox",vertical:true},0,0,0,0,["layout.vbox"],0,[Ext.layout.container,"VBox",Ext.layout,"VBoxLayout"],0));(Ext.cmd.derive("Ext.toolbar.Toolbar",Ext.container.Container,{alternateClassName:"Ext.Toolbar",isToolbar:true,baseCls:"x-toolbar",ariaRole:"toolbar",defaultType:"button",layout:undefined,vertical:undefined,enableOverflow:false,overflowHandler:null,defaultButtonUI:"default-toolbar",defaultFieldUI:"default",defaultFooterButtonUI:"default",defaultFooterFieldUI:"default",trackMenus:true,itemCls:"x-toolbar-item",statics:{shortcuts:{"-":"tbseparator"," ":"tbspacer"},shortcutsHV:{0:{"->":{xtype:"tbfill",height:0}},1:{"->":{xtype:"tbfill",width:0}}}},initComponent:function(){var g=this,j=g.layout,f=g.vertical;if(f===undefined){g.vertical=f=g.dock==="right"||g.dock==="left"}g.layout=j=Ext.applyIf(Ext.isString(j)?{type:j}:j||{},{type:f?"vbox":"hbox",align:f?"stretchmax":"middle"});if(g.overflowHandler){j.overflowHandler=g.overflowHandler}else{if(g.enableOverflow){j.overflowHandler="menu"}}if(f){g.addClsWithUI("vertical")}if(g.ui==="footer"){g.ignoreBorderManagement=true}Ext.container.Container.prototype.initComponent.call(this)},getRefItems:function(j){var k=this,n=Ext.container.Container.prototype.getRefItems.apply(this,arguments),l=k.layout,m;if(j&&(k.enableOverflow||(k.overflowHandler==="menu"))){m=l.overflowHandler;if(m&&m.menu){n=n.concat(m.menu.getRefItems(j))}}return n},lookupComponent:function(j){var k=arguments,c,l;if(typeof j==="string"&&j[0]!=="@"){l=Ext.toolbar.Toolbar;c=l.shortcutsHV[this.vertical?1:0][j]||l.shortcuts[j];if(typeof c==="string"){j={xtype:c}}else{if(c){j=Ext.apply({},c)}else{j={xtype:"tbtext",text:j}}}this.applyDefaults(j);k=[j]}return Ext.container.Container.prototype.lookupComponent.apply(this,k)},onBeforeAdd:function(l){var k=this,j=k.ui==="footer",g=j?k.defaultFooterButtonUI:k.defaultButtonUI;if(l.isSegmentedButton){if(l.getDefaultUI()==="default"&&!l.config.hasOwnProperty("defaultUI")){l.setDefaultUI(g)}}else{if(l.ui==="default"&&!l.hasOwnProperty("ui")){if(l.isButton){l.ui=g}else{if(l.isFormField){l.ui=j?k.defaultFooterFieldUI:k.defaultFieldUI}}}}if(l instanceof Ext.toolbar.Separator){l.setUI(k.vertical?"vertical":"horizontal")}Ext.container.Container.prototype.onBeforeAdd.apply(this,arguments)},onAdd:function(d){var f=this;if(d.needArrowKeys&&f.enableFocusableContainer){f.enableFocusableContainer=false;f.ariaRole="group"}Ext.container.Container.prototype.onAdd.apply(this,arguments);f.trackMenu(d)},onRemove:function(c){Ext.container.Container.prototype.onRemove.apply(this,arguments);this.trackMenu(c,true)},privates:{applyDefaults:function(c){if(!Ext.isString(c)){c=Ext.container.Container.prototype.applyDefaults.apply(this,arguments)}return c},trackMenu:function(g,f){var j=this;if(j.trackMenus&&g.menu){g[f?"un":"on"]({mouseover:j.onButtonOver,menushow:j.onButtonMenuShow,menuhide:j.onButtonMenuHide,scope:j})}},getChildItemsToDisable:function(){return this.items.getRange()},onButtonOver:function(j,g){var f=this.activeMenuBtn;if(f&&f!==j){f.hideMenu();j.focus();j.showMenu(g);this.activeMenuBtn=j}},onButtonMenuShow:function(c){this.activeMenuBtn=c},onButtonMenuHide:function(c){this.activeMenuBtn=null}}},0,["toolbar"],["component","box","container","toolbar"],{component:true,box:true,container:true,toolbar:true},["widget.toolbar"],[[Ext.util.FocusableContainer.prototype.mixinId||Ext.util.FocusableContainer.$className,Ext.util.FocusableContainer]],[Ext.toolbar,"Toolbar",Ext,"Toolbar"],0));Ext.define("Ext.theme.neptune.toolbar.Toolbar",{override:"Ext.toolbar.Toolbar",usePlainButtons:false,border:false});(Ext.cmd.derive("Ext.dd.DragDrop",Ext.Base,{constructor:function(g,f,j){if(g){this.init(g,f,j)}},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:false,lock:function(){this.locked=true},moveOnly:false,unlock:function(){this.locked=false},isTarget:true,padding:null,_domRef:null,__ygDragDrop:true,constrainX:false,constrainY:false,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:false,xTicks:null,yTicks:null,primaryButtonOnly:true,available:false,hasOuterHandles:false,triggerEvent:"mousedown",b4StartDrag:function(d,f){},startDrag:function(d,f){},b4Drag:function(c){},onDrag:function(c){},onDragEnter:function(d,f){},b4DragOver:function(c){},onDragOver:function(d,f){},b4DragOut:function(c){},onDragOut:function(d,f){},b4DragDrop:function(c){},onDragDrop:function(d,f){},onInvalidDrop:function(c){},b4EndDrag:function(c){},endDrag:function(c){},b4MouseDown:function(c){},onMouseDown:function(c){},onMouseUp:function(c){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(x,A,q){if(Ext.isNumber(A)){A={left:A,right:A,top:A,bottom:A}}A=A||this.defaultPadding;var v=Ext.get(this.getEl()).getBox(),c=Ext.get(x),r=c.getScroll(),w,u=c.dom,s,y,B;if(u===document.body){w={x:r.left,y:r.top,width:Ext.Element.getViewportWidth(),height:Ext.Element.getViewportHeight()}}else{s=c.getXY();w={x:s[0],y:s[1],width:u.clientWidth,height:u.clientHeight}}y=v.y-w.y;B=v.x-w.x;this.resetConstraints();this.setXConstraint(B-(A.left||0),w.width-B-v.width-(A.right||0),this.xTickSize);this.setYConstraint(y-(A.top||0),w.height-y-v.height-(A.bottom||0),this.yTickSize)},getEl:function(){if(!this._domRef){this._domRef=Ext.getDom(this.id)}return this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(j,g,l){var k=this;k.el=k.el||Ext.get(j);k.initTarget(j,g,l);Ext.get(k.id).on(k.triggerEvent,k.handleMouseDown,k);if(Ext.supports.Touch&&k.triggerEvent==="longpress"){Ext.get(k.id).swallowEvent("contextmenu",true)}},initTarget:function(g,f,j){this.config=j||{};this.DDMInstance=Ext.dd.DragDropManager;this.groups={};if(typeof g!=="string"){g=Ext.id(g)}this.id=g;this.addToGroup((f)?f:"default");this.handleElId=g;this.setDragElId(g);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=(this.config.isTarget!==false);this.maintainOffset=(this.config.maintainOffset);this.primaryButtonOnly=(this.config.primaryButtonOnly!==false)},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable()},setPadding:function(k,g,j,l){if(!g&&0!==g){this.padding=[k,k,k,k]}else{if(!j&&0!==j){this.padding=[k,g,k,g]}else{this.padding=[k,g,j,l]}}},setInitPosition:function(n,o){var m=this.getEl(),p,k,l;if(!this.DDMInstance.verifyEl(m)){return}p=n||0;k=o||0;l=Ext.fly(m).getXY();this.initPageX=l[0]-p;this.initPageY=l[1]-k;this.lastPageX=l[0];this.lastPageY=l[1];this.setStartPosition(l)},setStartPosition:function(f){var d=f||Ext.fly(this.getEl()).getXY();this.deltaSetXY=null;this.startPageX=d[0];this.startPageY=d[1]},addToGroup:function(c){this.groups[c]=true;this.DDMInstance.regDragDrop(this,c)},removeFromGroup:function(c){if(this.groups[c]){delete this.groups[c]}this.DDMInstance.removeDDFromGroup(this,c)},setDragElId:function(c){this.dragElId=c},setHandleElId:function(c){if(typeof c!=="string"){c=Ext.id(c)}this.handleElId=c;this.DDMInstance.regHandle(this.id,c)},setOuterHandleElId:function(c){if(typeof c!=="string"){c=Ext.id(c)}Ext.get(c).on(this.triggerEvent,this.handleMouseDown,this);this.setHandleElId(c);this.hasOuterHandles=true},unreg:function(){var f=this,d;if(f._domRef){d=Ext.fly(f.id);if(d){d.un(f.triggerEvent,f.handleMouseDown,f)}}f._domRef=null;f.DDMInstance._remove(f,f.autoGroup)},destroy:function(){this.unreg();this.callParent()},isLocked:function(){return(this.DDMInstance.isLocked()||this.locked)},handleMouseDown:function(g,j){var f=this;if((f.primaryButtonOnly&&g.button)||f.isLocked()){return}f.DDMInstance.refreshCache(f.groups);if(f.hasOuterHandles||f.DDMInstance.isOverTarget(g.getPoint(),f)){if(f.clickValidator(g)){f.setStartPosition();f.b4MouseDown(g);f.onMouseDown(g);f.DDMInstance.handleMouseDown(g,f);f.DDMInstance.stopEvent(g)}}},clickValidator:function(f){var d=f.getTarget();return(this.isValidHandleChild(d)&&(this.id===this.handleElId||this.DDMInstance.handleWasClicked(d,this.id)))},addInvalidHandleType:function(d){var f=d.toUpperCase();this.invalidHandleTypes[f]=f},addInvalidHandleId:function(c){if(typeof c!=="string"){c=Ext.id(c)}this.invalidHandleIds[c]=c},addInvalidHandleClass:function(c){this.invalidHandleClasses.push(c)},removeInvalidHandleType:function(d){var f=d.toUpperCase();delete this.invalidHandleTypes[f]},removeInvalidHandleId:function(c){if(typeof c!=="string"){c=Ext.id(c)}delete this.invalidHandleIds[c]},removeInvalidHandleClass:function(l){var j=this.invalidHandleClasses,g=j.length,k;for(k=0;k<g;++k){if(j[k]===l){delete j[k]}}},isValidHandleChild:function(n){var o=true,l,p,k;try{l=n.nodeName.toUpperCase()}catch(m){l=n.nodeName}o=o&&!this.invalidHandleTypes[l];o=o&&!this.invalidHandleIds[n.id];for(p=0,k=this.invalidHandleClasses.length;o&&p<k;++p){o=!Ext.fly(n).hasCls(this.invalidHandleClasses[p])}return o},setXTicks:function(j,g){this.xTicks=[];this.xTickSize=g;var k={},l;for(l=this.initPageX;l>=this.minX;l=l-g){if(!k[l]){this.xTicks[this.xTicks.length]=l;k[l]=true}}for(l=this.initPageX;l<=this.maxX;l=l+g){if(!k[l]){this.xTicks[this.xTicks.length]=l;k[l]=true}}Ext.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(j,g){this.yTicks=[];this.yTickSize=g;var k={},l;for(l=this.initPageY;l>=this.minY;l=l-g){if(!k[l]){this.yTicks[this.yTicks.length]=l;k[l]=true}}for(l=this.initPageY;l<=this.maxY;l=l+g){if(!k[l]){this.yTicks[this.yTicks.length]=l;k[l]=true}}Ext.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(g,j,f){this.leftConstraint=g;this.rightConstraint=j;this.minX=this.initPageX-g;this.maxX=this.initPageX+j;if(f){this.setXTicks(this.initPageX,f)}this.constrainX=true},clearConstraints:function(){this.constrainX=false;this.constrainY=false;this.clearTicks()},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0},setYConstraint:function(f,g,j){this.topConstraint=f;this.bottomConstraint=g;this.minY=this.initPageY-f;this.maxY=this.initPageY+g;if(j){this.setYTicks(this.initPageY,j)}this.constrainY=true},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var f=(this.maintainOffset)?this.lastPageX-this.initPageX:0,d=(this.maintainOffset)?this.lastPageY-this.initPageY:0;this.setInitPosition(f,d)}else{this.setInitPosition()}if(this.constrainX){this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize)}if(this.constrainY){this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)}},getTick:function(m,p){if(!p){return m}else{if(p[0]>=m){return p[0]}else{var r,l,q,n,o;for(r=0,l=p.length;r<l;++r){q=r+1;if(p[q]&&p[q]>=m){n=m-p[r];o=p[q]-m;return(o>n)?p[r]:p[q]}}return p[p.length-1]}}},toString:function(){return("DragDrop "+this.id)}},3,0,0,0,0,0,[Ext.dd,"DragDrop"],0));(Ext.cmd.derive("Ext.dd.DD",Ext.dd.DragDrop,{constructor:function(g,f,j){if(g){this.init(g,f,j)}},scroll:true,autoOffset:function(k,l){var g=k-this.startPageX,j=l-this.startPageY;this.setDelta(g,j)},setDelta:function(f,d){this.deltaX=f;this.deltaY=d},setDragElPos:function(g,j){var f=this.getDragEl();this.alignElWithMouse(f,g,j)},alignElWithMouse:function(A,w,y){var v=this.getTargetCoord(w,y),x=A.dom?A:Ext.fly(A,"_dd"),p=x.getSize(),s=Ext.Element,r,B,q,u;if(!this.deltaSetXY){r=this.cachedViewportSize={width:s.getDocumentWidth(),height:s.getDocumentHeight()};B=[Math.max(0,Math.min(v.x,r.width-p.width)),Math.max(0,Math.min(v.y,r.height-p.height))];x.setXY(B);q=this.getLocalX(x);u=x.getLocalY();this.deltaSetXY=[q-v.x,u-v.y]}else{r=this.cachedViewportSize;this.setLocalXY(x,Math.max(0,Math.min(v.x+this.deltaSetXY[0],r.width-p.width)),Math.max(0,Math.min(v.y+this.deltaSetXY[1],r.height-p.height)))}this.cachePosition(v.x,v.y);this.autoScroll(v.x,v.y,A.offsetHeight,A.offsetWidth);return v},cachePosition:function(j,f){if(j){this.lastPageX=j;this.lastPageY=f}else{var g=Ext.fly(this.getEl()).getXY();this.lastPageX=g[0];this.lastPageY=g[1]}},autoScroll:function(x,y,D,w){if(this.scroll){var v=Ext.Element.getViewportHeight(),G=Ext.Element.getViewportWidth(),s=this.DDMInstance.getScrollTop(),E=this.DDMInstance.getScrollLeft(),A=D+y,u=w+x,B=(v+s-y-this.deltaY),C=(G+E-x-this.deltaX),F=40,H=(document.all)?80:30;if(A>v&&B<F){window.scrollTo(E,s+H)}if(y<s&&s>0&&y-s<F){window.scrollTo(E,s-H)}if(u>G&&C<F){window.scrollTo(E+H,s)}if(x<E&&E>0&&x-E<F){window.scrollTo(E-H,s)}}},getTargetCoord:function(k,l){var g=k-this.deltaX,j=l-this.deltaY;if(this.constrainX){if(g<this.minX){g=this.minX}if(g>this.maxX){g=this.maxX}}if(this.constrainY){if(j<this.minY){j=this.minY}if(j>this.maxY){j=this.maxY}}g=this.getTick(g,this.xTicks);j=this.getTick(j,this.yTicks);return{x:g,y:j}},applyConfig:function(){Ext.dd.DragDrop.prototype.applyConfig.call(this);this.scroll=(this.config.scroll!==false)},b4MouseDown:function(f){var d=f.getXY();this.autoOffset(d[0],d[1])},b4Drag:function(f){var d=f.getXY();this.setDragElPos(d[0],d[1])},toString:function(){return("DD "+this.id)},getLocalX:function(c){return c.getLocalX()},setLocalXY:function(j,f,g){j.setLocalXY(f,g)}},3,0,0,0,0,0,[Ext.dd,"DD"],0));(Ext.cmd.derive("Ext.dd.DDProxy",Ext.dd.DD,{statics:{dragElId:"ygddfdiv"},constructor:function(g,f,j){if(g){this.init(g,f,j);this.initFrame()}},resizeFrame:true,centerFrame:false,createFrame:function(){var l=this,g=document.body,j,k;if(!g||!g.firstChild){Ext.defer(function(){l.createFrame()},50);return}j=this.getDragEl();if(!j){j=document.createElement("div");j.id=this.dragElId;j.setAttribute("role","presentation");k=j.style;k.position="absolute";k.visibility="hidden";k.cursor="move";k.border="2px solid #aaa";k.zIndex=999;g.insertBefore(j,g.firstChild)}},initFrame:function(){this.createFrame()},applyConfig:function(){Ext.dd.DD.prototype.applyConfig.call(this);this.resizeFrame=(this.config.resizeFrame!==false);this.centerFrame=(this.config.centerFrame);this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(k,l){var m=this,j=m.getDragEl(),n=j.style;m._resizeProxy();if(m.centerFrame){m.setDelta(Math.round(parseInt(n.width,10)/2),Math.round(parseInt(n.height,10)/2))}m.setDragElPos(k,l);Ext.fly(j).show()},_resizeProxy:function(){if(this.resizeFrame){var c=this.getEl();Ext.fly(this.getDragEl()).setSize(c.offsetWidth,c.offsetHeight)}},b4MouseDown:function(k){var l=k.getXY(),g=l[0],j=l[1];this.autoOffset(g,j);this.setDragElPos(g,j)},b4StartDrag:function(d,f){this.showFrame(d,f)},b4EndDrag:function(c){Ext.fly(this.getDragEl()).hide()},endDrag:function(g){var j=this.getEl(),f=this.getDragEl();f.style.visibility="";this.beforeMove();j.style.visibility="hidden";Ext.dd.DDM.moveToEl(j,f);f.style.visibility="hidden";j.style.visibility="";this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return("DDProxy "+this.id)}},3,0,0,0,0,0,[Ext.dd,"DDProxy"],0));(Ext.cmd.derive("Ext.dd.StatusProxy",Ext.Component,{animRepair:false,childEls:["ghost"],renderTpl:['<div class="x-dd-drop-icon" role="presentation"></div><div id="{id}-ghost" data-ref="ghost" class="x-dd-drag-ghost" role="presentation"></div>'],repairCls:"x-dd-drag-repair",ariaRole:"presentation",skipLayout:true,alignOnScroll:false,constructor:function(d){var f=this;d=d||{};Ext.apply(f,{hideMode:"visibility",hidden:true,floating:true,id:f.id||Ext.id(),cls:"x-dd-drag-proxy "+this.dropNotAllowed,shadow:d.shadow||false,renderTo:Ext.getDetachedBody()});Ext.Component.prototype.constructor.apply(this,arguments);this.dropStatus=this.dropNotAllowed},dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",setStatus:function(c){c=c||this.dropNotAllowed;if(this.dropStatus!==c){this.el.replaceCls(this.dropStatus,c);this.dropStatus=c}},reset:function(j){var g=this,f="x-dd-drag-proxy ";g.el.replaceCls(f+g.dropAllowed,f+g.dropNotAllowed);g.dropStatus=g.dropNotAllowed;if(j){g.ghost.setHtml("")}},update:function(d){if(typeof d==="string"){this.ghost.setHtml(d)}else{this.ghost.setHtml("");d.style.margin="0";this.ghost.dom.appendChild(d)}var f=this.ghost.dom.firstChild;if(f){Ext.fly(f).setStyle("float","none")}},getGhost:function(){return this.ghost},hide:function(c){Ext.Component.prototype.hide.call(this);if(c){this.reset(true)}},stop:function(){if(this.anim&&this.anim.isAnimated&&this.anim.isAnimated()){this.anim.stop()}},sync:function(){this.el.syncUnderlays()},repair:function(k,j,g){var l=this;l.callback=j;l.scope=g;if(k&&l.animRepair!==false){l.el.addCls(l.repairCls);l.el.setUnderlaysVisible(false);l.anim=l.el.animate({duration:l.repairDuration||500,easing:"ease-out",to:{x:k[0],y:k[1]},stopAnimation:true,callback:l.afterRepair,scope:l})}else{l.afterRepair()}},afterRepair:function(){var c=this;c.hide(true);c.el.removeCls(c.repairCls);if(typeof c.callback==="function"){c.callback.call(c.scope||c)}delete c.callback;delete c.scope}},1,0,["component","box"],{component:true,box:true},0,0,[Ext.dd,"StatusProxy"],0));(Ext.cmd.derive("Ext.dd.DragSource",Ext.dd.DDProxy,{dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",animRepair:true,repairHighlightColor:"c3daf9",constructor:function(f,d){this.el=Ext.get(f);if(!this.dragData){this.dragData={}}Ext.apply(this,d);if(!this.proxy){this.proxy=new Ext.dd.StatusProxy({id:this.el.id+"-drag-status-proxy",animRepair:this.animRepair})}Ext.dd.DDProxy.prototype.constructor.call(this,this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:false,isTarget:false,scroll:this.scroll===true});this.dragging=false},getDragData:function(c){return this.dragData},onDragEnter:function(k,j){var l=Ext.dd.DragDropManager.getDDById(j),g;this.cachedTarget=l;if(this.beforeDragEnter(l,k,j)!==false){if(l.isNotifyTarget){g=l.notifyEnter(this,k,this.dragData);this.proxy.setStatus(g)}else{this.proxy.setStatus(this.dropAllowed)}if(this.afterDragEnter){this.afterDragEnter(l,k,j)}}},beforeDragEnter:function(j,f,g){return true},onDragOver:function(k,j){var l=this.cachedTarget||Ext.dd.DragDropManager.getDDById(j),g;if(this.beforeDragOver(l,k,j)!==false){if(l.isNotifyTarget){g=l.notifyOver(this,k,this.dragData);this.proxy.setStatus(g)}if(this.afterDragOver){this.afterDragOver(l,k,j)}}},beforeDragOver:function(j,f,g){return true},onDragOut:function(j,g){var f=this.cachedTarget||Ext.dd.DragDropManager.getDDById(g);if(this.beforeDragOut(f,j,g)!==false){if(f.isNotifyTarget){f.notifyOut(this,j,this.dragData)}this.proxy.reset();if(this.afterDragOut){this.afterDragOut(f,j,g)}}this.cachedTarget=null},beforeDragOut:function(j,f,g){return true},onDragDrop:function(j,g){var f=this.cachedTarget||Ext.dd.DragDropManager.getDDById(g);if(this.beforeDragDrop(f,j,g)!==false){if(f.isNotifyTarget){if(f.notifyDrop(this,j,this.dragData)!==false){this.onValidDrop(f,j,g)}else{this.onInvalidDrop(f,j,g)}}else{this.onValidDrop(f,j,g)}if(this.afterDragDrop){this.afterDragDrop(f,j,g)}}delete this.cachedTarget},beforeDragDrop:function(j,f,g){return true},onValidDrop:function(j,f,g){this.hideProxy();if(this.afterValidDrop){this.afterValidDrop(j,f,g)}},getRepairXY:function(f,d){return this.el.getXY()},onInvalidDrop:function(k,l,j){var g=this;if(!l){l=k;k=null;j=l.getTarget().id}if(g.beforeInvalidDrop(k,l,j)!==false){if(g.cachedTarget){if(g.cachedTarget.isNotifyTarget){g.cachedTarget.notifyOut(g,l,g.dragData)}g.cacheTarget=null}g.proxy.repair(g.getRepairXY(l,g.dragData),g.afterRepair,g);if(g.afterInvalidDrop){g.afterInvalidDrop(l,j)}}},afterRepair:function(){var c=this;if(Ext.enableFx){c.el.highlight(c.repairHighlightColor)}c.dragging=false},beforeInvalidDrop:function(j,f,g){return true},handleMouseDown:function(f){if(this.dragging){return}var d=this.getDragData(f);if(d&&this.onBeforeDrag(d,f)!==false){this.dragData=d;this.proxy.stop();Ext.dd.DDProxy.prototype.handleMouseDown.apply(this,arguments)}},onBeforeDrag:function(d,f){return true},onStartDrag:Ext.emptyFn,alignElWithMouse:function(){this.proxy.ensureAttachedToBody(true);return Ext.dd.DDProxy.prototype.alignElWithMouse.apply(this,arguments)},startDrag:function(d,f){this.proxy.reset();this.proxy.hidden=false;this.dragging=true;this.proxy.update("");this.onInitDrag(d,f);this.proxy.show()},onInitDrag:function(f,g){var j=this.el.dom.cloneNode(true);j.id=Ext.id();this.proxy.update(j);this.onStartDrag(f,g);return true},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide();this.proxy.reset(true);this.dragging=false},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(c){},endDrag:function(c){this.onEndDrag(this.dragData,c)},onEndDrag:function(d,f){},autoOffset:function(d,f){this.setDelta(-12,-20)},destroy:function(){Ext.destroy(this.proxy);Ext.dd.DDProxy.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.dd,"DragSource"],0));(Ext.cmd.derive("Ext.panel.Proxy",Ext.Base,{alternateClassName:"Ext.dd.PanelProxy",moveOnDrag:true,constructor:function(f,j){var g=this;g.panel=f;g.id=g.panel.id+"-ddproxy";Ext.apply(g,j)},insertProxy:true,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){var c=this;if(c.ghost){if(c.proxy){c.proxy.destroy();delete c.proxy}c.panel.unghost(null,c.moveOnDrag);delete c.ghost}},show:function(){var f=this,d;if(!f.ghost){d=f.panel.getSize();f.panel.el.setVisibilityMode(Ext.Element.DISPLAY);f.ghost=f.panel.ghost();if(f.insertProxy){f.proxy=f.panel.el.insertSibling({role:"presentation",cls:"x-panel-dd-spacer"});f.proxy.setSize(d)}}},repair:function(j,g,f){this.hide();Ext.callback(g,f||this)},moveProxy:function(d,f){if(this.proxy){d.insertBefore(this.proxy.dom,f)}}},1,0,0,0,0,0,[Ext.panel,"Proxy",Ext.dd,"PanelProxy"],0));(Ext.cmd.derive("Ext.panel.DD",Ext.dd.DragSource,{constructor:function(j,f){var g=this;g.panel=j;g.dragData={panel:j};g.panelProxy=new Ext.panel.Proxy(j,f);g.proxy=g.panelProxy.proxy;Ext.dd.DragSource.prototype.constructor.call(this,j.el,f);g.setupEl(j)},setupEl:function(g){var k=this,j=g.header,l=g.body;if(j){k.setHandleElId(j.id);l=j.el}if(l){l.setStyle("cursor","move");k.scroll=false}else{g.on("boxready",k.setupEl,k,{single:true})}},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(d,f){this.panelProxy.show()},b4MouseDown:function(k){var l=k.getXY(),g=l[0],j=l[1];this.autoOffset(g,j)},onInitDrag:function(d,f){this.onStartDrag(d,f);return true},createFrame:Ext.emptyFn,getDragEl:function(f){var d=this.panelProxy.ghost;if(d){return d.el.dom}},endDrag:function(c){this.panelProxy.hide();this.panel.saveState()},autoOffset:function(d,f){d-=this.startPageX;f-=this.startPageY;this.setDelta(d,f)},onInvalidDrop:function(k,l,j){var g=this;if(g.beforeInvalidDrop(k,l,j)!==false){if(g.cachedTarget){if(g.cachedTarget.isNotifyTarget){g.cachedTarget.notifyOut(g,l,g.dragData)}g.cacheTarget=null}if(g.afterInvalidDrop){g.afterInvalidDrop(l,j)}}}},1,0,0,0,0,0,[Ext.panel,"DD"],0));(Ext.cmd.derive("Ext.layout.component.Dock",Ext.layout.component.Component,{alternateClassName:"Ext.layout.component.AbstractDock",type:"dock",horzAxisProps:{name:"horz",oppositeName:"vert",dockBegin:"left",dockEnd:"right",horizontal:true,marginBegin:"margin-left",maxSize:"maxWidth",minSize:"minWidth",pos:"x",setSize:"setWidth",shrinkWrapDock:"shrinkWrapDockWidth",size:"width",sizeModel:"widthModel"},vertAxisProps:{name:"vert",oppositeName:"horz",dockBegin:"top",dockEnd:"bottom",horizontal:false,marginBegin:"margin-top",maxSize:"maxHeight",minSize:"minHeight",pos:"y",setSize:"setHeight",shrinkWrapDock:"shrinkWrapDockHeight",size:"height",sizeModel:"heightModel"},initializedBorders:-1,horizontalCollapsePolicy:{width:true,x:true},verticalCollapsePolicy:{height:true,y:true},finishRender:function(){var j=this,g,f;Ext.layout.component.Component.prototype.finishRender.call(this);g=j.getRenderTarget();f=j.getDockedItems();j.finishRenderItems(g,f)},isItemBoxParent:function(c){return true},isItemShrinkWrap:function(c){return true},noBorderClasses:["x-docked-noborder-top","x-docked-noborder-right","x-docked-noborder-bottom","x-docked-noborder-left"],noBorderClassesSides:{top:"x-docked-noborder-top",right:"x-docked-noborder-right",bottom:"x-docked-noborder-bottom",left:"x-docked-noborder-left"},borderWidthProps:{top:"border-top-width",right:"border-right-width",bottom:"border-bottom-width",left:"border-left-width"},_itemCls:"x-docked",handleItemBorders:function(){var x=this,I=x.owner,y,J,C=x.lastDockedItems,D=x.borders,H=I.dockedItems.generation,G=x.noBorderClassesSides,w=x.borderWidthProps,E,A,u,v,B,F=x.collapsed;if(x.initializedBorders===H||(I.border&&!I.manageBodyBorders)||(I.collapsed&&I.collapseMode==="mini")){return}x.initializedBorders=H;x.collapsed=false;x.lastDockedItems=J=x.getLayoutItems();x.collapsed=F;y={top:[],right:[],bottom:[],left:[]};for(E=0,A=J.length;E<A;E++){u=J[E];v=u.dock;if(u.ignoreBorderManagement){continue}if(!y[v].satisfied){y[v].push(u);y[v].satisfied=true}if(!y.top.satisfied&&v!=="bottom"){y.top.push(u)}if(!y.right.satisfied&&v!=="left"){y.right.push(u)}if(!y.bottom.satisfied&&v!=="top"){y.bottom.push(u)}if(!y.left.satisfied&&v!=="right"){y.left.push(u)}}if(C){for(E=0,A=C.length;E<A;E++){u=C[E];if(!u.destroyed&&!u.ignoreBorderManagement&&!I.manageBodyBorders){u.removeCls(x.noBorderClasses)}}}if(D){for(B in D){if(I.manageBodyBorders&&D[B].satisfied){I.setBodyStyle(w[B],"")}}}for(B in y){A=y[B].length;if(!I.manageBodyBorders){for(E=0;E<A;E++){y[B][E].addCls(G[B])}if((!y[B].satisfied&&!I.bodyBorder)||I.bodyBorder===false){I.addBodyCls(G[B])}else{I.removeBodyCls(G[B])}}else{if(y[B].satisfied){I.setBodyStyle(w[B],"1px")}}}x.borders=y},beforeLayoutCycle:function(n){var q=this,r=q.owner,m=q.sizeModels.shrinkWrap,o=r.shrinkWrapDock,p,l;if(r.collapsed){if(r.collapsedVertical()){l=true;n.measureDimensions=1}else{p=true;n.measureDimensions=2}}n.collapsedVert=l;n.collapsedHorz=p;if(l){n.heightModel=m}else{if(p){n.widthModel=m}}o=o===true?3:(o||0);n.shrinkWrapDockHeight=(o&1)&&n.heightModel.shrinkWrap;n.shrinkWrapDockWidth=(o&2)&&n.widthModel.shrinkWrap},beginLayout:function(E){var x=this,F=x.owner,s=x.getLayoutItems(),G=E.context,C=s.length,y=x.lastCollapsedState,w,A,u,H,D,B,v;Ext.layout.component.Component.prototype.beginLayout.apply(this,arguments);B=F.getCollapsed();if(B!==y&&y!==undefined){if(x.owner.collapsed){E.isCollapsingOrExpanding=1;F.addClsWithUI(F.collapsedCls)}else{E.isCollapsingOrExpanding=2;F.removeClsWithUI(F.collapsedCls);E.lastCollapsedState=x.lastCollapsedState}}x.lastCollapsedState=B;E.dockedItems=w=[];for(A=0;A<C;A++){u=s[A];if(u.rendered){v=u.dock;H=G.getCmp(u);H.dockedAt={x:0,y:0};H.offsets=D=Ext.Element.parseBox(u.offsets||0);H.horizontal=v==="top"||v==="bottom";D.width=D.left+D.right;D.height=D.top+D.bottom;w.push(H)}}E.bodyContext=E.getEl("body")},beginLayoutCycle:function(x){var u=this,o=x.dockedItems,v=o.length,y=u.owner,s=y.frameBody,p=u.lastHeightModel,w,q,r;Ext.layout.component.Component.prototype.beginLayoutCycle.apply(this,arguments);if(u.owner.manageHeight){if(u.lastBodyDisplay){y.body.dom.style.display=u.lastBodyDisplay=""}}else{if(u.lastBodyDisplay!=="inline-block"){y.body.dom.style.display=u.lastBodyDisplay="inline-block"}if(p&&p.shrinkWrap&&!x.heightModel.shrinkWrap){y.body.dom.style.marginBottom=""}}if(x.widthModel.auto){if(x.widthModel.shrinkWrap){y.el.setWidth(null)}y.body.setWidth(null);if(s){s.setWidth(null)}}if(x.heightModel.auto){y.body.setHeight(null);if(s){s.setHeight(null)}}if(x.collapsedVert){x.setContentHeight(0)}else{if(x.collapsedHorz){x.setContentWidth(0)}}for(w=0;w<v;w++){q=o[w].target;r=q.dock;if(r==="right"){q.setLocalX(0)}else{if(r!=="left"){continue}}}},calculate:function(A){var r=this,B=r.measureAutoDimensions(A,A.measureDimensions),C=A.state,s=C.horzDone,y=C.vertDone,x=A.bodyContext,u,D,v,w,q;A.borderInfo||A.getBorderInfo();A.paddingInfo||A.getPaddingInfo();A.frameInfo||A.getFrameInfo();x.borderInfo||x.getBorderInfo();x.paddingInfo||x.getPaddingInfo();if(!A.frameBorder){if(!(u=A.framing)){A.frameBorder=A.borderInfo;A.framePadding=A.paddingInfo}else{A.frameBorder=u.border;A.framePadding=u.padding}}D=!s&&r.createAxis(A,B.contentWidth,A.widthModel,r.horzAxisProps,A.collapsedHorz);v=!y&&r.createAxis(A,B.contentHeight,A.heightModel,r.vertAxisProps,A.collapsedVert);for(w=0,q=A.dockedItems.length;q--;++w){if(D){r.dockChild(A,D,q,w)}if(v){r.dockChild(A,v,q,w)}}if(D&&r.finishAxis(A,D)){C.horzDone=s=D}if(v&&r.finishAxis(A,v)){C.vertDone=y=v}if(s&&y&&r.finishConstraints(A,s,y)){r.finishPositions(A,s,y)}else{r.done=false}},createAxis:function(F,L,P,I,Q){var A=this,B=0,S=A.owner,O=S[I.maxSize],R=S[I.minSize]||0,H=I.dockBegin,M=I.dockEnd,D=I.pos,J=I.size,K=O!=null,G=P.shrinkWrap,T,C,E,N;if(G){if(Q){N=0}else{T=F.bodyContext;N=L+T.borderInfo[J]}}else{C=F.frameBorder;E=F.framePadding;B=C[H]+E[H];N=F.getProp(J)-(C[M]+E[M])}return{shrinkWrap:P.shrinkWrap,sizeModel:P,initialBegin:B,begin:B,end:N,collapsed:Q,horizontal:I.horizontal,ignoreFrameBegin:null,ignoreFrameEnd:null,initialSize:N-B,maxChildSize:0,hasMinMaxConstraints:(R||K)&&P.shrinkWrap,minSize:R,maxSize:K?O:1000000000,bodyPosProp:A.owner.manageHeight?D:I.marginBegin,dockBegin:H,dockEnd:M,posProp:D,sizeProp:J,setSize:I.setSize,shrinkWrapDock:F[I.shrinkWrapDock],sizeModelName:I.sizeModel,dockedPixelsEnd:0}},dockChild:function(A,y,p,w){var v=this,B=A.dockedItems[y.shrinkWrap?p:w],s=B.target,r=s.dock,x=y.sizeProp,u,q;if(s.ignoreParentFrame&&A.isCollapsingOrExpanding){B.clearMarginCache()}if(!B.marginInfo){B.getMarginInfo()}if(r===y.dockBegin){if(y.shrinkWrap){u=v.dockOutwardBegin(A,B,s,y)}else{u=v.dockInwardBegin(A,B,s,y)}}else{if(r===y.dockEnd){if(y.shrinkWrap){u=v.dockOutwardEnd(A,B,s,y)}else{u=v.dockInwardEnd(A,B,s,y)}}else{if(y.shrinkWrapDock){q=B.getProp(x)+B.marginInfo[x];y.maxChildSize=Math.max(y.maxChildSize,q);u=0}else{u=v.dockStretch(A,B,s,y)}}}B.dockedAt[y.posProp]=u},dockInwardBegin:function(x,y,p,v){var s=v.begin,u=v.sizeProp,w=p.ignoreParentFrame,r,o,q;if(w){v.ignoreFrameBegin=y;q=p.dock;r=x.frameBorder[q];s-=r+x.framePadding[q]}if(!p.overlay){o=y.getProp(u)+y.marginInfo[u];v.begin+=o;if(w){v.begin-=r}}return s},dockInwardEnd:function(q,r,s,u){var n=u.sizeProp,m=r.getProp(n)+r.marginInfo[n],o=u.end-m,p;if(!s.overlay){u.end=o}if(s.ignoreParentFrame){u.ignoreFrameEnd=r;p=q.frameBorder[s.dock];o+=p+q.framePadding[s.dock];u.end+=p}return o},dockOutwardBegin:function(o,p,q,r){var m=r.begin,n=r.sizeProp,l;if(r.collapsed){r.ignoreFrameBegin=r.ignoreFrameEnd=p}else{if(q.ignoreParentFrame){r.ignoreFrameBegin=p}}if(!q.overlay){l=p.getProp(n)+p.marginInfo[n];m-=l;r.begin=m}return m},dockOutwardEnd:function(o,p,q,r){var m=r.end,n=r.sizeProp,l;l=p.getProp(n)+p.marginInfo[n];if(r.collapsed){r.ignoreFrameBegin=r.ignoreFrameEnd=p}else{if(q.ignoreParentFrame){r.ignoreFrameEnd=p}}if(!q.overlay){r.end=m+l;r.dockedPixelsEnd+=l}return m},dockStretch:function(G,H,w,F){var v=w.dock,A=F.sizeProp,I=v==="top"||v==="bottom",B=G.frameBorder,E=H.offsets,x=G.framePadding,C=I?"right":"bottom",J=I?"left":"top",y=F.begin+E[J],D,u;if(w.stretch!==false){u=F.end-y-E[C];if(w.ignoreParentFrame){y-=x[J]+B[J];u+=x[A]+B[A]}D=H.marginInfo;u-=D[A];H[F.setSize](u)}return y},finishAxis:function(O,V){if(isNaN(V.maxChildSize)){return false}var W=V.begin,I=V.end-W,T=V.collapsed,L=V.setSize,Q=V.dockBegin,D=V.dockEnd,K=O.framePadding,G=O.frameBorder,U=G[Q],F=O.framing,M=F&&F[Q],Y=T?0:K[Q],R=V.sizeProp,E=V.ignoreFrameBegin,H=V.ignoreFrameEnd,Z=O.bodyContext,P=Math.max(U+Y-M,0),X,J,N,S;if(V.shrinkWrap){J=V.initialSize;if(F){N=-W+U+Y;X=N-M-P}else{X=-W;N=X+Y}if(!T){I+=K[R]}if(E){N-=U;X-=U;E.dockedAt[V.posProp]-=Y}else{I+=U}if(T){}else{if(H){H.dockedAt[V.posProp]+=K[D]}else{I+=G[D]}}V.size=I;if(!V.horizontal&&!this.owner.manageHeight){S=false}}else{if(F){N=0;X=W-M-P}else{N=-U;X=W-Y-U}J=I}V.delta=N;Z[L](J,S);Z.setProp(V.bodyPosProp,X);return !isNaN(I)},beforeInvalidateShrinkWrapDock:function(g,j){var f=j.axis.sizeModelName;if(!g[f].constrainedMin){g[f]=Ext.layout.SizeModel.calculated}},afterInvalidateShrinkWrapDock:function(l,j){var n=j.axis,m=j.layout,k;if(l[n.sizeModelName].calculated){k=m.dockStretch(j.ownerContext,l,l.target,n);l.setProp(n.posProp,n.delta+k)}},finishConstraints:function(G,N,B){var x=this,y=x.sizeModels,C=N.shrinkWrap,A=B.shrinkWrap,P=x.owner,I,E,D,K,J,F,O,M,L,H;if(C){F=N.size;O=N.collapsed?0:N.minSize;M=N.maxSize;L=N.maxChildSize;H=Math.max(F,L);if(H>M){J=y.constrainedMax;D=M}else{if(H<O){J=y.constrainedMin;D=O}else{if(F<L){J=y.constrainedDock;P.dockConstrainedWidth=D=L}else{D=F}}}}if(A){F=B.size;O=B.collapsed?0:B.minSize;M=B.maxSize;L=B.maxChildSize;H=Math.max(F,L+F-B.initialSize);if(H>M){K=y.constrainedMax;E=M}else{if(H<O){K=y.constrainedMin;E=O}else{if(F<L){K=y.constrainedDock;P.dockConstrainedHeight=E=L}else{if(!G.collapsedVert&&!P.manageHeight){I=false;G.bodyContext.setProp("margin-bottom",B.dockedPixelsEnd)}E=F}}}}if(J||K){if(J&&K&&J.constrainedMax&&K.constrainedByMin){G.invalidate({widthModel:J});return false}if(!G.widthModel.calculatedFromShrinkWrap&&!G.heightModel.calculatedFromShrinkWrap){G.invalidate({widthModel:J,heightModel:K});return false}}else{x.invalidateAxes(G,N,B)}if(C){G.setWidth(D);if(J){G.widthModel=J}}if(A){G.setHeight(E,I);if(K){G.heightModel=K}}return true},invalidateAxes:function(F,K,B){var w=this.beforeInvalidateShrinkWrapDock,J=this.afterInvalidateShrinkWrapDock,G=K.end-K.begin,L=B.initialSize,I=K.shrinkWrapDock&&K.maxChildSize<=G,A=B.shrinkWrapDock&&B.maxChildSize<=L,N,y,C,H,M,x,E,D;if(I||A){if(A){B.begin=B.initialBegin;B.end=B.begin+B.initialSize}N=F.dockedItems;for(C=0,y=N.length;C<y;++C){H=N[C];x=H.horizontal;E=null;if(I&&x){D=K.sizeProp;M=G;E=K}else{if(A&&!x){D=B.sizeProp;M=L;E=B}}if(E){M-=H.getMarginInfo()[D];if(M!==H.props[D]){H.invalidate({before:w,after:J,axis:E,ownerContext:F,layout:this})}}}}},finishPositions:function(s,w,p){var n=s.dockedItems,u=n.length,q=w.delta,r=p.delta,o,v;for(o=0;o<u;++o){v=n[o];v.setProp("x",q+v.dockedAt.x);v.setProp("y",r+v.dockedAt.y)}},finishedLayout:function(j){var f=this,g=j.target;Ext.layout.component.Component.prototype.finishedLayout.apply(this,arguments);if(!j.animatePolicy){if(j.isCollapsingOrExpanding===1){g.afterCollapse(false)}else{if(j.isCollapsingOrExpanding===2){g.afterExpand(false)}}}},getAnimatePolicy:function(k){var l=this,g,j;if(k.isCollapsingOrExpanding===1){g=l.lastCollapsedState}else{if(k.isCollapsingOrExpanding===2){g=k.lastCollapsedState}}if(g==="left"||g==="right"){j=l.horizontalCollapsePolicy}else{if(g==="top"||g==="bottom"){j=l.verticalCollapsePolicy}}return j},getDockedItems:function(B,q){var v=this,y=(B==="visual"),u=y?Ext.ComponentQuery.query("[rendered]",v.owner.dockedItems.items):v.owner.dockedItems.items,w=u&&u.length&&B!==false,C,r,s,x,A,D;if(q==null){s=w&&!y?u.slice():u}else{s=[];for(x=0,D=u.length;x<D;++x){r=u[x].dock;A=(r==="top"||r==="left");if(q?A:!A){s.push(u[x])}}w=w&&s.length}if(w){C=(B=B||"render")==="render";Ext.Array.sort(s,function(d,f){var c,b;if(C&&((c=v.owner.dockOrder[d.dock])!==(b=v.owner.dockOrder[f.dock]))){if(!(c+b)){return c-b}}c=v.getItemWeight(d,B);b=v.getItemWeight(f,B);if((c!==undefined)&&(b!==undefined)){return c-b}return 0})}return s||[]},getItemWeight:function(j,f){var g=j.weight||this.owner.defaultDockWeights[j.dock];return g[f]||g},getLayoutItems:function(){var m=this,p,l,n,o,k;if(m.owner.collapsed){k=m.owner.getCollapsedDockedItems()}else{p=m.getDockedItems("visual");l=p.length;k=[];for(o=0;o<l;o++){n=p[o];if(!n.hidden){k.push(n)}}}return k},measureContentWidth:function(d){var f=d.bodyContext;return f.el.getWidth()-f.getBorderInfo().width},measureContentHeight:function(d){var f=d.bodyContext;return f.el.getHeight()-f.getBorderInfo().height},redoLayout:function(g){var j=this,f=j.owner;if(g.isCollapsingOrExpanding===1){if(f.reExpander){f.reExpander.el.show()}f.addClsWithUI(f.collapsedCls);g.redo(true)}else{if(g.isCollapsingOrExpanding===2){f.removeClsWithUI(f.collapsedCls);g.bodyContext.redo()}}},getRenderTarget:function(){return this.owner.bodyWrap},renderChildren:function(){var j=this,f=j.getDockedItems(),g=j.getRenderTarget();j.handleItemBorders();j.renderItems(f,g)},renderItems:function(R,K){var M=this,ab=M.owner,X={},E=R.length,S=ab.body.dom,W=ab.bodyWrap.dom,aa=!!ab.frameSize,F=ab.bodyContainer,Y,I,Z,N,G,T,O,U,J,V,L,H,Q,P;if(E){for(H=0;H<E;H++){N=R[H];X[N.id]=N;if(N.dockToEl){Z=true}}Y=M.getRenderTarget().dom.childNodes;I=Y.length;O=0;for(H=0;H<I;++H){G=Y[H];T=G===S;if(T){U=H;break}if(X[G.id]){++O}}U-=O;if(Z){T=false;O=0;Y=ab.el.dom.childNodes;I=Y.length;for(H=0;H<I;H++){G=Y[H];if(aa){T=G===W||G===F;if(!T&&Ext.fly(G).contains(W)){T=true;ab.bodyContainer=G}}else{T=G===W}if(T){V=H;break}if(X[G.id]){++O}}V-=O}J=L=0;for(H=0;H<E;H++){N=R[H];if(N.dockToEl){P=ab.el;Q=V+L++;if(N.dock==="right"||N.dock==="bottom"){Q++;if(aa){Q++}}else{if(aa&&Q>0){Q--}}}else{P=K;Q=U+J++;if(N.dock==="right"||N.dock==="bottom"){Q++}}if(!N.rendered){M.renderItem(N,P,Q)}else{if(!M.isValidParent(N,P,Q)){M.moveItem(N,P,Q)}}}}},undoLayout:function(g){var j=this,f=j.owner;if(g.isCollapsingOrExpanding===1){if(f.reExpander){f.reExpander.el.hide()}f.removeClsWithUI(f.collapsedCls);g.undo(true)}else{if(g.isCollapsingOrExpanding===2){f.addClsWithUI(f.collapsedCls);g.bodyContext.undo()}}},sizePolicy:{nostretch:{setsWidth:0,setsHeight:0},horz:{shrinkWrap:{setsWidth:1,setsHeight:0,readsWidth:1},stretch:{setsWidth:1,setsHeight:0}},vert:{shrinkWrap:{setsWidth:0,setsHeight:1,readsHeight:1},stretch:{setsWidth:0,setsHeight:1}},stretchV:{setsWidth:0,setsHeight:1},autoStretchH:{readsWidth:1,setsWidth:1,setsHeight:0},autoStretchV:{readsHeight:1,setsWidth:0,setsHeight:1}},getItemSizePolicy:function(p,n){var q=this,m=q.sizePolicy,o=q.owner.shrinkWrapDock,r,l;if(p.stretch===false){return m.nostretch}r=p.dock;l=(r==="left"||r==="right");o=o===true?3:(o||0);if(l){m=m.vert;o=o&1}else{m=m.horz;o=o&2}if(o){if(!n){n=q.owner.getSizeModel()}if(n[l?"height":"width"].shrinkWrap){return m.shrinkWrap}}return m.stretch},configureItem:function(d,f){Ext.layout.component.Component.prototype.configureItem.apply(this,arguments);d.addCls(this._itemCls);if(!d.ignoreBorderManagement){d.addClsWithUI(this.getDockCls(d.dock))}},getDockCls:function(c){return"docked-"+c},afterRemove:function(d){var f;Ext.layout.component.Component.prototype.afterRemove.apply(this,arguments);d.removeCls(this._itemCls);if(!d.ignoreBorderManagement){d.removeClsWithUI(this.getDockCls(d.dock))}f=d.el.dom;if(!d.destroying&&f){f.parentNode.removeChild(f)}this.childrenChanged=true},borderCollapseMap:{},getBorderCollapseTable:function(){var n=this,l=n.borderCollapseMap,k=n.owner,p=k.baseCls,m=k.ui,o;l=l[p]||(l[p]={});o=l[m];if(!o){p+="-"+m+"-outer-border-";l[m]=o=[0,p+"l",p+"b",p+"bl",p+"r",p+"rl",p+"rb",p+"rbl",p+"t",p+"tl",p+"tb",p+"tbl",p+"tr",p+"trl",p+"trb",p+"trbl"]}return o}},0,0,0,0,["layout.dock"],0,[Ext.layout.component,"Dock",Ext.layout.component,"AbstractDock"],0));Ext.define("Ext.theme.neptune.layout.component.Dock",{override:"Ext.layout.component.Dock",noBorderClassTable:[0,"x-noborder-l","x-noborder-b","x-noborder-bl","x-noborder-r","x-noborder-rl","x-noborder-rb","x-noborder-rbl","x-noborder-t","x-noborder-tl","x-noborder-tb","x-noborder-tbl","x-noborder-tr","x-noborder-trl","x-noborder-trb","x-noborder-trbl"],edgeMasks:{top:8,right:4,bottom:2,left:1},handleItemBorders:function(){var N=this,Z=0,L=8,K=4,U=2,aa=1,ad=N.owner,H=ad.bodyBorder,R=ad.border,W=N.collapsed,M=N.edgeMasks,V=N.noBorderClassTable,P=ad.dockedItems.generation,Q,ab,T,X,I,S,b,O,Y,J,G,ac;if(N.initializedBorders===P){return}G=[];ac=[];ab=N.getBorderCollapseTable();V=N.getBorderClassTable?N.getBorderClassTable():V;N.initializedBorders=P;N.collapsed=false;T=N.getDockedItems("visual");N.collapsed=W;for(I=0,S=T.length;I<S;I++){b=T[I];if(b.ignoreBorderManagement){continue}O=b.dock;J=X=0;G.length=0;ac.length=0;if(O!=="bottom"){if(Z&L){Q=b.border}else{Q=R;if(Q!==false){X+=L}}if(Q===false){J+=L}}if(O!=="left"){if(Z&K){Q=b.border}else{Q=R;if(Q!==false){X+=K}}if(Q===false){J+=K}}if(O!=="top"){if(Z&U){Q=b.border}else{Q=R;if(Q!==false){X+=U}}if(Q===false){J+=U}}if(O!=="right"){if(Z&aa){Q=b.border}else{Q=R;if(Q!==false){X+=aa}}if(Q===false){J+=aa}}if((Y=b.lastBorderMask)!==J){b.lastBorderMask=J;if(Y){ac[0]=V[Y]}if(J){G[0]=V[J]}}if((Y=b.lastBorderCollapse)!==X){b.lastBorderCollapse=X;if(Y){ac[ac.length]=ab[Y]}if(X){G[G.length]=ab[X]}}if(ac.length){b.removeCls(ac)}if(G.length){b.addCls(G)}Z|=M[O]}J=X=0;G.length=0;ac.length=0;if(Z&L){Q=H}else{Q=R;if(Q!==false){X+=L}}if(Q===false){J+=L}if(Z&K){Q=H}else{Q=R;if(Q!==false){X+=K}}if(Q===false){J+=K}if(Z&U){Q=H}else{Q=R;if(Q!==false){X+=U}}if(Q===false){J+=U}if(Z&aa){Q=H}else{Q=R;if(Q!==false){X+=aa}}if(Q===false){J+=aa}if((Y=N.lastBodyBorderMask)!==J){N.lastBodyBorderMask=J;if(Y){ac[0]=V[Y]}if(J){G[0]=V[J]}}if((Y=N.lastBodyBorderCollapse)!==X){N.lastBodyBorderCollapse=X;if(Y){ac[ac.length]=ab[Y]}if(X){G[G.length]=ab[X]}}if(ac.length){ad.removeBodyCls(ac)}if(G.length){ad.addBodyCls(G)}},onRemove:function(j){var k=this,l=j.lastBorderMask,g=j.lastBorderCollapse;if(!j.destroyed&&!j.ignoreBorderManagement){if(l){j.lastBorderMask=0;j.removeCls(k.noBorderClassTable[l])}if(g){j.lastBorderCollapse=0;j.removeCls(k.getBorderCollapseTable()[g])}}(arguments.callee.$previous||Ext.layout.component.Component.prototype.onRemove).call(this,j)}});(Ext.cmd.derive("Ext.util.Memento",Ext.Base,(function(){function l(c,d,b,f){c[f?f+b:b]=d[b]}function m(c,d,b){delete c[b]}function k(p,b,g,c){var f=c?c+g:g,d=p[f];if(d||p.hasOwnProperty(f)){j(b,g,d)}}function j(c,b,d){if(Ext.isDefined(d)){c[b]=d}else{delete c[b]}}function n(d,g,p,c,b){if(g){if(Ext.isArray(c)){var r,f=c.length;for(r=0;r<f;r++){d(g,p,c[r],b)}}else{d(g,p,c,b)}}}return{data:null,target:null,constructor:function(b,c){this.data={};if(b){this.target=b;if(c){this.capture(c)}}},capture:function(f,b,c){var d=this;n(l,d.data||(d.data={}),b||d.target,f,c)},remove:function(b){n(m,this.data,null,b)},restore:function(d,f,b,c){n(k,this.data,b||this.target,d,c);if(f!==false){this.remove(d)}},restoreAll:function(f,p){var c=this,d=p||this.target,b=c.data,g;f=f!==false;for(g in b){if(b.hasOwnProperty(g)){j(d,g,b[g]);if(f){delete b[g]}}}}}}()),1,0,0,0,0,0,[Ext.util,"Memento"],0));(Ext.cmd.derive("Ext.container.DockingContainer",Ext.Base,{isDockingContainer:true,defaultDockWeights:{top:{render:1,visual:1},left:{render:3,visual:5},right:{render:5,visual:7},bottom:{render:7,visual:3}},dockOrder:{top:-1,left:-1,right:1,bottom:1},horizontalDocks:0,addDocked:function(v,r){var s=this,A=s.rendered,y=0,q=s.dockedItems,x=q.getCount(),w,u,p,B;v=s.prepareItems(v);B=v.length;if(A){Ext.suspendLayouts()}if(r===undefined){r=x}else{r=Math.min(r,x)}for(;y<B;y++){p=v[y];p.dock=p.dock||"top";if(p.dock==="left"||p.dock==="right"){s.horizontalDocks++}w=r+y;q.insert(w,p);u=!!p.instancedCmp;delete p.instancedCmp;p.onAdded(s,w,u);delete p.$initParent;if(s.onDockedAdd!==Ext.emptyFn){s.onDockedAdd(p)}if(s.hasListeners.dockedadd){s.fireEvent("dockedadd",s,p,w)}}if(s.rendered){s.updateLayout();Ext.resumeLayouts(true)}return v},destroyDockedItems:function(){var c=this.dockedItems,f;if(c){while((f=c.first())){this.removeDocked(f,true)}}},doRenderDockedItems:function(r,o,n){var p=o.$comp,q=p.componentLayout,s=p.tabGuard&&p.lookupTpl("tabGuardTpl"),u,m;if(q.getDockedItems){u=q.getDockedItems("render",!n);m=u&&q.getItemsRenderTree(u);if(m){Ext.DomHelper.generateMarkup(m,r)}}},getDockedComponent:function(c){if(Ext.isObject(c)){c=c.getItemId()}return this.dockedItems.get(c)},getDockedItems:function(f,g){var j=this.getComponentLayout().getDockedItems("render",g);if(f&&j.length){j=Ext.ComponentQuery.query(f,j)}return j},getDockingRefItems:function(n,k){var j=n&&"*,* *",l=this.getDockedItems(j,true),m;l.push.apply(l,k);m=this.getDockedItems(j,false);l.push.apply(l,m);return l},initDockingItems:function(){var f=this,d=f.dockedItems;if(!d||!d.isMixedCollection){f.dockedItems=new Ext.util.ItemCollection();if(d){f.addDocked(d)}}},insertDocked:function(f,d){this.addDocked(d,f)},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,removeDocked:function(k,n){var l=this,m,j;n=n===true||(n!==false&&l.autoDestroy);if(!l.dockedItems.contains(k)){return k}if(k.dock==="left"||k.dock==="right"){l.horizontalDocks--}m=l.componentLayout;j=m&&l.rendered;if(j){m.onRemove(k)}l.dockedItems.remove(k);k.onRemoved(k.destroying||n);l.onDockedRemove(k);if(n){k.destroy()}else{if(j){m.afterRemove(k)}}if(l.hasListeners.dockedremove){l.fireEvent("dockedremove",l,k)}if(!l.destroying){l.updateLayout()}return k},moveDocked:function(g,f){var j=this;if(j.rendered){Ext.suspendLayouts()}j.removeDocked(g,false);g.dock=f;j.addDocked(g);if(j.rendered){if(g.frame){Ext.getDetachedBody().appendChild(g.el);g.updateFrame()}Ext.resumeLayouts(true)}},setupDockingRenderTpl:function(c){c.renderDockedItems=this.doRenderDockedItems}},0,0,0,0,0,0,[Ext.container,"DockingContainer"],0));(Ext.cmd.derive("Ext.panel.Panel",Ext.container.Container,{alternateClassName:"Ext.Panel",childEls:["bodyWrap","body"],renderTpl:['<tpl if="headingText">','<div id="{id}-headingEl" data-ref="headingEl" role="heading"',' class="',"x-",'hidden-clip" style="height:0">',"{headingText}","</div>","</tpl>","<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'before'); %}</tpl>",'<div id="{id}-bodyWrap" data-ref="bodyWrap" class="{baseCls}-bodyWrap"','<tpl if="bodyWrapAriaAttributes">','<tpl foreach="bodyWrapAriaAttributes"> {$}="{.}"</tpl>',"<tpl else>",' role="presentation"',"</tpl>",">","{% this.renderDockedItems(out,values,0); %}",'<div id="{id}-body" data-ref="body" class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>',' {baseCls}-body-{ui}<tpl if="uiCls">','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>','</tpl>{childElCls}"','<tpl if="bodyAriaAttributes">','<tpl foreach="bodyAriaAttributes"> {$}="{.}"</tpl>',"<tpl else>",' role="presentation"',"</tpl>",'<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>","{% this.renderDockedItems(out,values,1); %}","</div>","<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'after'); %}</tpl>"],headerPosition:"top",iconAlign:"left",titleAlign:"left",titleRotation:"default",beforeRenderConfig:{glyph:null,headerPosition:null,icon:null,iconAlign:null,iconCls:null,title:null,titleAlign:null,titleRotation:null},animCollapse:Ext.enableFx,border:true,closable:false,closeAction:"destroy",closeToolText:"Close panel",collapsed:false,collapsedCls:"collapsed",collapseFirst:true,collapsible:undefined,collapseToolText:"Collapse panel",expandToolText:"Expand panel",constrain:false,constrainHeader:false,dockedItems:null,tbar:null,bbar:null,fbar:null,lbar:null,rbar:null,buttons:null,floatable:true,frame:false,frameHeader:true,hideCollapseTool:false,manageHeight:true,maskElement:"el",minButtonWidth:75,preventHeader:false,shrinkWrapDock:false,titleCollapse:undefined,baseCls:"x-panel",bodyPosProps:{x:"x",y:"y"},componentLayout:"dock",contentPaddingProperty:"bodyPadding",emptyArray:[],isPanel:true,defaultBindProperty:"title",addBodyCls:function(j){var g=this,f=g.rendered?g.body:g.getProtoBody();f.addCls(j);return g},addTool:function(o){if(!Ext.isArray(o)){o=[o]}var p=this,m=p.header,l=o.length,n=p.tools,q,r;if(!m||!m.isHeader){m=null;if(!n){p.tools=n=[]}}for(q=0;q<l;q++){r=o[q];r.toolOwner=p;if(m){m.addTool(r)}else{n.push(r)}}p.updateHeader()},addTools:Ext.emptyFn,getClosable:function(){return this.closable},setClosable:function(j){var g=this,f=g.tab;j=!!j;if(g.closable!==j){g.closable=j;if(f){f.setClosable(j)}}},setCollapsible:function(k){var l=this,j=l.collapsible,g=l.collapseTool;l.collapsible=k;if(k&&!j){l.updateCollapseTool();g=l.collapseTool;if(g){g.show()}}else{if(!k&&j){if(g){g.hide()}}}},addUIClsToElement:function(j){var g=this,f=Ext.container.Container.prototype.addUIClsToElement.apply(this,arguments);g.addBodyCls(["x-"+j,g.baseCls+"-body-"+j,g.baseCls+"-body-"+g.ui+"-"+j]);return f},afterCollapse:function(j){var f=this,g=f.ownerLayout;f.isCollapsingOrExpanding=0;f.updateCollapseTool();if(j){f.removeCls("x-animating-size")}if(g){g.afterCollapse(f,j)}f.setHiddenDocked();f.fireEvent("collapse",f)},afterExpand:function(j){var f=this,g=f.ownerLayout;f.isCollapsingOrExpanding=0;f.updateCollapseTool();if(j){f.removeCls("x-animating-size")}if(g){g.afterExpand(f,j)}f.fireEvent("expand",f);f.fireHierarchyEvent("expand")},doDestroy:function(){var c=this;Ext.destroy(c.placeholder,c.ghostPanel,c.dd,c.accordionHeaderKeyNav,c.accordionBodyKeyNav,c.defaultButtonKeyNav);c.destroyDockedItems();Ext.container.Container.prototype.doDestroy.call(this)},beforeRender:function(){var f=this,d;f.getProtoBody();Ext.container.Container.prototype.beforeRender.call(this);f.initTools();if(!(f.preventHeader||(f.header===false))||f.isViewportBorderChild){f.updateHeader()}f.afterHeaderInit=true;if(f.collapsed){if(f.isPlaceHolderCollapse()){if(!f.hidden){f.setHiddenState(true);f.preventCollapseFire=true;f.placeholderCollapse();delete f.preventCollapseFire;d=f.collapsed;f.collapsed=false}}else{f.beginCollapse();f.addClsWithUI(f.collapsedCls)}}if(d){f.collapsed=d}},getMemento:function(d){var f=this;if(d&&typeof d==="string"){d+="Memento";return f[d]||(f[d]=new Ext.util.Memento(f))}},beginCollapse:function(){var o=this,q=o.lastBox,m=o.rendered,r=o.getMemento("collapse"),p=o.getSizeModel(),n=o.header,l;r.capture(["height","minHeight","width","minWidth"]);if(q){r.capture(o.restoreDimension(),q,"last.")}if(o.collapsedVertical()){if(p.width.shrinkWrap){o.width=m?o.getWidth():o.width||o.minWidth||100}delete o.height;o.minHeight=0}else{if(o.collapsedHorizontal()){if(p.height.shrinkWrap){o.height=m?o.getHeight():o.height||o.minHeight||100}delete o.width;o.minWidth=0}}if(o.ownerCt){o.ownerCt.getLayout().beginCollapse(o)}if(!o.isPlaceHolderCollapse()&&n!==false){if(n===(l=o.getReExpander())){n.collapseImmune=true;n.getInherited().collapseImmune=true;n.addClsWithUI(o.getHeaderCollapsedClasses(n));if(n.rendered){n.updateFrame()}}else{if(l.el){l.el.show();l.hidden=false}}}if(o.resizer){o.resizer.disable()}if(o.rendered){o.ariaEl.dom.setAttribute("aria-expanded",false);if(o.isAccordionPanel){o.body.dom.setAttribute("aria-hidden",true)}}},beginDrag:function(){if(this.floatingDescendants){this.floatingDescendants.hide()}},beginExpand:function(){var m=this,n=m.lastBox,o=m.getMemento("collapse"),k=m.restoreDimension(),l=m.header,p;if(o){o.restore(["minHeight","minWidth",k]);if(n){o.restore(k,true,n,"last.")}}if(m.ownerCt){m.ownerCt.getLayout().beginExpand(m)}if(!m.isPlaceHolderCollapse()&&l!==false){if(l===(p=m.getReExpander())){delete l.collapseImmune;delete l.getInherited().collapseImmune;l.removeClsWithUI(m.getHeaderCollapsedClasses(l));if(l.rendered){l.expanding=true;l.updateFrame();delete l.expanding}}else{p.hidden=true;p.el.hide()}}if(m.resizer){m.resizer.enable()}if(m.rendered){m.ariaEl.dom.setAttribute("aria-expanded",true);if(m.isAccordionPanel){m.body.dom.setAttribute("aria-hidden",false)}}},bridgeToolbars:function(){var l=this,m=[],n=l.minButtonWidth,p,q,r;function o(c,d,f,b){if(Ext.isArray(c)){c={xtype:"toolbar",items:c}}else{if(!c.isComponent){c=Ext.apply({},c)}}if(!c.xtype){c.xtype="toolbar"}c.dock=d;if(b){c.enableFocusableContainer=false}if(f){c.layout=Ext.applyIf(c.layout||{},{pack:{left:"start",center:"center"}[l.buttonAlign]||"end"})}return c}if(l.tbar){m.push(o(l.tbar,"top"));l.tbar=null}if(l.bbar){m.push(o(l.bbar,"bottom"));l.bbar=null}if(l.buttons){l.fbar=l.buttons;l.buttons=null;r=true}if(l.fbar){p=o(l.fbar,"bottom",true,r);p.ui="footer";if(n){q=p.defaults;p.defaults=function(f){var d=q||{},b=!f.xtype||f.isButton,c;if(!b){c=Ext.ClassManager.getByAlias("widget."+f.xtype);if(c){b=c.prototype.isButton}}if(b&&!("minWidth" in d)){d=Ext.apply({minWidth:n},d)}return d}}m.push(p);l.fbar=null}if(l.lbar){m.push(o(l.lbar,"left"));l.lbar=null}if(l.rbar){m.push(o(l.rbar,"right"));l.rbar=null}if(l.dockedItems){if(l.dockedItems.isMixedCollection){l.addDocked(m)}else{if(!Ext.isArray(l.dockedItems)){l.dockedItems=[l.dockedItems]}l.dockedItems=l.dockedItems.concat(m)}}else{l.dockedItems=m}},close:function(){if(this.fireEvent("beforeclose",this)!==false){this.doClose()}},collapse:function(o,l){var p=this,n=o||p.collapseDirection,r=p.ownerCt,q=p.ownerLayout,m=p.rendered;if(p.isCollapsingOrExpanding){return p}if(arguments.length<2){l=p.animCollapse}if(p.collapsed||p.fireEvent("beforecollapse",p,o,l)===false){return p}if(q&&q.onBeforeComponentCollapse){if(q.onBeforeComponentCollapse(p)===false){return p}}if(m&&r&&p.isPlaceHolderCollapse()){return p.placeholderCollapse(o,l)}p.collapsed=n;if(m){p.beginCollapse()}p.getInherited().collapsed=true;p.fireHierarchyEvent("collapse");if(m){p.doCollapseExpand(1,l)}return p},collapsedHorizontal:function(){var c=this.getCollapsed();return c==="left"||c==="right"},collapsedVertical:function(){var c=this.getCollapsed();return c==="top"||c==="bottom"},convertCollapseDir:function(c){return c.substr(0,1)},createGhost:function(g){var l=this,j=l.header,k=l.frame&&!l.alwaysFramed;return{xtype:"panel",hidden:false,header:j?{titleAlign:j.getTitleAlign()}:null,ui:k?l.ui.replace(/-framed$/,""):l.ui,id:l.id+"-ghost",renderTo:Ext.getBody(),resizable:false,draggable:false,closable:false,focusable:false,floating:true,alignOnScroll:false,shadow:false,frame:k,shim:l.shim,alwaysFramed:l.alwaysFramed,overlapHeader:l.overlapHeader,headerPosition:l.getHeaderPosition(),titleRotation:l.getTitleRotation(),baseCls:l.baseCls,getRefOwner:function(){return l.getRefOwner()},cls:l.baseCls+"-ghost "+(g||"")}},createReExpander:function(q,v){var s=this,o=q==="left",p=q==="right",r=o||p,w=s.ownerCt,u=s.header,n=Ext.apply({hideMode:"offsets",title:s.getTitle(),titleAlign:s.getTitleAlign(),vertical:r,textCls:s.headerTextCls,icon:s.getIcon(),iconCls:s.getIconCls(),iconAlign:s.getIconAlign(),glyph:s.getGlyph(),baseCls:s.self.prototype.baseCls+"-header",ui:s.ui,frame:s.frame&&s.frameHeader,ignoreParentFrame:s.frame||s.overlapHeader,ignoreBorderManagement:s.frame||s.ignoreHeaderBorderManagement,indicateDrag:s.draggable,collapseImmune:true,ariaRole:s.ariaRole,preventRefocus:true,ownerCt:(w&&s.collapseMode==="placeholder")?w:s,ownerLayout:s.componentLayout,forceOrientation:true,margin:s.margin,defaultFocus:"tool[isDefaultExpandTool]"},v);if(s.collapseMode==="mini"){if(r){n.width=1}else{n.height=1}}if(u){Ext.apply(n,{enableFocusableContainer:u.enableFocusableContainer,activeChildTabIndex:u.activeChildTabIndex,inactiveChildTabIndex:u.inactiveChildTabIndex,allowFocusingDisabledChildren:u.allowFocusingDisabledChildren})}if(!s.hideCollapseTool){if(o||(p&&s.isPlaceHolderCollapse())){n.titlePosition=1}n.tools=[{xtype:"tool",type:"expand-"+s.getOppositeDirection(q),isDefaultExpandTool:true,uiCls:["top"],handler:s.toggleCollapse,scope:s,tooltip:s.expandToolText}]}n=new Ext.panel.Header(n);n.addClsWithUI(s.getHeaderCollapsedClasses(n));n.expandTool=n.down("tool[isDefaultExpandTool=true]");return n},doClose:function(){this.fireEvent("close",this);this[this.closeAction]()},doCollapseExpand:function(j,n){var l=this,m=l.animCollapse,k=l.ownerLayout;l.animCollapse=n;l.isCollapsingOrExpanding=j;if(n){l.addCls("x-animating-size")}if(k&&!n){k.onContentChange(l)}else{l.updateLayout({isRoot:true})}l.animCollapse=m;return l},endDrag:function(){if(this.floatingDescendants){this.floatingDescendants.show()}},expand:function(g){var k=this,l=k.ownerLayout,j=k.rendered;if(k.isCollapsingOrExpanding){return k}if(!arguments.length){g=k.animCollapse}if(!k.collapsed&&!k.floatedFromCollapse){return k}if(k.fireEvent("beforeexpand",k,g)===false){return k}if(l&&l.onBeforeComponentExpand){if(l.onBeforeComponentExpand(k)===false){return k}}delete k.getInherited().collapsed;if(j&&k.isPlaceHolderCollapse()){return k.placeholderExpand(g)}k.restoreHiddenDocked();if(j){k.beginExpand()}k.collapsed=false;if(k.rendered){k.doCollapseExpand(2,g)}return k},findReExpander:function(n){var o=this,m=Ext.Component,p=o.dockedItems.items,c=p.length,r,q;if(o.collapseMode==="mini"){return}switch(n){case m.DIRECTION_TOP:case m.DIRECTION_BOTTOM:for(q=0;q<c;q++){r=p[q];if(!r.hidden){if(r.isHeader&&(!r.dock||r.dock==="top"||r.dock==="bottom")){return r}}}break;case m.DIRECTION_LEFT:case m.DIRECTION_RIGHT:for(q=0;q<c;q++){r=p[q];if(!r.hidden){if(r.isHeader&&(r.dock==="left"||r.dock==="right")){return r}}}break;default:throw ("Panel#findReExpander must be passed a valid collapseDirection")}},floatCollapsedPanel:function(){var q=this,p=q.placeholder,y=q.splitter,r=Ext.util.Region.from(p.getBox(false,true)),u=Ext.panel.Panel.floatCls,w=q.collapsed,o=q.ownerCt||q,x,v,s={mouseleave:q.onMouseLeaveFloated,mouseenter:q.onMouseEnterFloated,scope:q,destroyable:true};if(q.isSliding){return}if(q.el.hasCls(u)){q.slideOutFloatedPanel();return}q.isSliding=true;p.el.hide();p.hidden=true;q.el.show();q.setHiddenState(false);q.collapsed=false;o.updateLayout();p.el.show();p.hidden=false;q.el.hide();q.setHiddenState(true);q.collapsed=w;o.updateLayout();v=q.getBox(false,true);if(q.fireEvent("beginfloat",q)===false){return}q.slideOutTask=q.slideOutTask||new Ext.util.DelayedTask(q.slideOutFloatedPanel,q);q.pointerLeaveListener=Ext.getDoc().on({mousedown:q.onFloatedPointerEvent,mousemove:q.onFloatedPointerEvent,scope:q,destroyable:true});if(!q.placeholderListener){q.placeholderListener=p.on({resize:q.onPlaceholderResize,scope:q,destroyable:true})}q.phHoverListeners=p.el.on(s);q.elHoverListeners=q.el.on(s);q.el.addCls(u);q.floated=w;if(q.collapseTool){q.collapseTool.el.hide()}if(y){r=r.union(y.getBox(false,true))}switch(q.collapsed){case"top":q.width=r.width;q.setLocalXY(v.x,v.y+r.height);break;case"right":q.height=r.height;q.setLocalXY(v.x-r.width,v.y);break;case"bottom":q.width=r.width;q.setLocalXY(v.x,v.y-r.height);break;case"left":q.height=r.height;q.setLocalXY(v.x+r.width,v.y);break}x=q.convertCollapseDir(q.collapsed);q.floatedFromCollapse=q.collapsed;q.collapsed=false;q.setHiddenState(false);q.el.slideIn(x,{preserveScroll:true,duration:Ext.Number.from(q.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){q.isSliding=false;q.fireEvent("endfloat",q);q.fireEvent("float",q)}}})},onFloatedPointerEvent:function(f){var d=this;if(d.owns(f)||d.placeholder.owns(f)||(d.splitter&&d.splitter.owns(f))||(d.floatCollapsedPanel&&d.el.getRegion().contains(f.getPoint()))){d.slideOutTask.cancel()}else{d.slideOutTask.delay(500)}},onMouseEnterFloated:function(c){this.slideOutTask.cancel()},onMouseLeaveFloated:function(f){var d=f.getRelatedTarget();if(d&&(this.owns(d)||this.placeholder.owns(d))){return}this.slideOutTask.delay(500)},onPlaceholderResize:function(n,q,l){var r=this,o=r.splitter,p=r.getBox(false,true),m=Ext.util.Region.from(n.getBox(false,true));if(o){m=m.union(o.getBox(false,true))}switch(r.floated){case"top":r.width=q;r.setLocalY(m.y+m.height);break;case"right":r.height=l;r.setLocalX(m.x-p.width);break;case"bottom":r.width=q;r.setLocalY(m.y-p.height);break;case"left":r.height=l;r.setLocalX(m.x+m.width);break}r.updateLayout({isRoot:true})},getAnimationProps:function(){var f=this,d;d=Ext.container.Container.prototype.getAnimationProps.call(this);if(typeof f.animCollapseDuration==="number"){d.duration=f.animCollapseDuration}else{if(typeof f.animCollapse==="number"){d.duration=f.animCollapse}}return d},getCollapsed:function(){var c=this;if(c.collapsed===true){return c.collapseDirection}return c.collapsed},getCollapsedDockedItems:function(){var c=this;return c.header===false||c.collapseMode==="placeholder"?c.emptyArray:[c.getReExpander()]},getComponent:function(d){var f=Ext.container.Container.prototype.getComponent.apply(this,arguments);if(f===undefined&&!Ext.isNumber(d)){f=this.getDockedComponent(d)}return f},getHeader:function(){return this.header},getHeaderCollapsedClasses:function(j){var l=this,k=l.collapsedCls,g;g=[k,k+"-"+j.getDockName()];if(l.border&&(!l.frame||(l.frame&&Ext.supports.CSS3BorderRadius))){g.push(k+"-border-"+j.getDockName())}return g},getOppositeDirection:function(c){var d=Ext.Component;switch(c){case d.DIRECTION_TOP:return d.DIRECTION_BOTTOM;case d.DIRECTION_RIGHT:return d.DIRECTION_LEFT;case d.DIRECTION_BOTTOM:return d.DIRECTION_TOP;case d.DIRECTION_LEFT:return d.DIRECTION_RIGHT}},getPlaceholder:function(o){var p=this,m=o||p.collapseDirection,q=null,n=p.placeholder,r=p.floatable,l=p.titleCollapse;if(!n){if(r||(p.collapsible&&l)){q={click:{fn:function(b,c){if(!n.expandTool.el.dom.contains(arguments[1])){p[(!l&&r)?"floatCollapsedPanel":"toggleCollapse"]()}},element:"el",scope:p}}}p.placeholder=n=Ext.widget(p.createReExpander(m,{id:p.id+"-placeholder",listeners:q}))}if(!n.placeholderFor){if(!n.isComponent){p.placeholder=n=p.lookupComponent(n)}Ext.applyIf(n,{margin:p.margin,placeholderFor:p,synthetic:true});n.addCls(["x-region-collapsed-placeholder","x-region-collapsed-"+m+"-placeholder",p.collapsedCls])}return n},getProtoBody:function(){var f=this,d=f.protoBody;if(!d){f.protoBody=d=new Ext.util.ProtoElement({cls:f.bodyCls,style:f.bodyStyle,clsProp:"bodyCls",styleProp:"bodyStyle",styleIsText:true})}return d},getReExpander:function(m){var n=this,l=m||n.collapseDirection,p=n.reExpander||n.findReExpander(l),k=n.titleCollapse,o=null;n.expandDirection=n.getOppositeDirection(l);if(!p){if(k){o={click:{fn:n.toggleCollapse,element:"el",scope:n}}}n.reExpander=p=n.createReExpander(l,{dock:l,cls:"x-docked "+n.baseCls+"-"+n.ui+"-collapsed",isCollapsedExpander:true,listeners:o});n.dockedItems.insert(0,p)}return p},getRefItems:function(j){var g=this.placeholder,f;if(g){f=[g];if(j&&g.getRefItems){f.push.apply(f,g.getRefItems(j))}}else{f=[]}f.push.apply(f,this.getDockingRefItems(j,Ext.container.Container.prototype.getRefItems.call(this,j)));return f},getState:function(){var k=this,o=Ext.container.Container.prototype.getState.call(this)||{},l=k.collapsed,p=k.floated,m,n;if(p){k.collapsed=p}o=k.addPropertyToState(o,"collapsed");if(p){k.collapsed=l}if(k.getCollapsed()){m=k.getMemento("collapse").data;o=k.addPropertyToState(o,"collapsed",m);n=k.isPlaceHolderCollapse();if(k.collapsedVertical()){if(n){o=k.addPropertyToState(o,"height");delete o.width}else{delete o.height;if(m){o=k.addPropertyToState(o,"height",m.height)}}}else{if(n){o=k.addPropertyToState(o,"width");delete o.height}else{delete o.width;if(m){o=k.addPropertyToState(o,"width",m.width)}}}}return o},applyState:function(k){var l=this,g={},j;if(k){j=k.collapsed;if(j){g=l.getMemento("collapse");Ext.Object.merge(g.data,j);k.collapsed=true}Ext.container.Container.prototype.applyState.apply(this,arguments)}},ghost:function(q){var v=this,D=v.el,C=v.ghostPanel,y=v.getBox(),A=v.header,s,x,u,r,w,B;if(!C){v.ghostPanel=C=Ext.widget(v.createGhost(q));C.el.dom.removeAttribute("tabIndex")}else{C.el.show()}C.setHiddenState(false);C.floatParent=v.floatParent;if(A&&!v.preventHeader){s=C.header;s.suspendLayouts();x=s.query("tool");for(B=x.length;B--;){s.remove(x[B])}s.setTitlePosition(0);C.addTool(v.ghostTools());C.setTitle(v.getTitle());s.setTitlePosition(A.titlePosition);r=v.getIconCls();if(r){C.setIconCls(r)}else{u=v.getIcon();if(u){C.setIcon(u)}else{w=v.getGlyph();if(w){C.setGlyph(w)}}}s.addCls("x-header-ghost");s.resumeLayouts(true)}C.setPagePosition(y.x,y.y);C.setSize(y.width,y.height);v.elVisMode=D.getVisibilityMode();D.setVisibilityMode(Ext.Element.CLIP);D.hide();return C},ghostTools:function(){var m=[],l=this.header,n=l?l.query("tool[hidden=false]"):[],o,k,p;if(n.length){o=0;k=n.length;for(;o<k;o++){p=n[o];m.push({type:p.type,tooltip:p.tooltip})}}else{m=[{type:"placeholder"}]}return m},initBodyBorder:function(){var c=this;if(c.frame&&c.bodyBorder){if(!Ext.isNumber(c.bodyBorder)){c.bodyBorder=1}c.getProtoBody().setStyle("border-width",this.unitizeBox(c.bodyBorder))}},initBodyStyles:function(){var f=this,d=f.getProtoBody();if(f.bodyPadding!==undefined){if(f.layout.managePadding){d.setStyle("padding",0)}else{d.setStyle("padding",this.unitizeBox((f.bodyPadding===true)?5:f.bodyPadding))}}f.initBodyBorder()},initBorderProps:function(){var c=this;if(c.frame&&c.border&&c.bodyBorder===undefined){c.bodyBorder=false}if(c.frame&&c.border&&(c.bodyBorder===false||c.bodyBorder===0)){c.manageBodyBorders=true}},initComponent:function(){var c=this;if(c.collapsible){c.addStateEvents(["expand","collapse"])}if(c.unstyled){c.setUI("plain")}if(c.frame){c.setUI(c.ui+"-framed")}c.bridgeToolbars();c.initBorderProps();Ext.container.Container.prototype.initComponent.call(this);c.collapseDirection=c.collapseDirection||c.getHeaderPosition()||Ext.Component.DIRECTION_TOP;if(typeof c.animCollapse==="number"){c.animCollapseDuration=c.animCollapse}c.hiddenOnCollapse=new Ext.dom.CompositeElement()},initItems:function(){Ext.container.Container.prototype.initItems.call(this);this.initDockingItems()},initRenderData:function(){var g=this,k=g.bodyWrapAriaRole,j=g.bodyAriaRole,l;l=Ext.container.Container.prototype.initRenderData.call(this);g.initBodyStyles();g.protoBody.writeTo(l);delete g.protoBody;if(g.headingText){l.headingText=g.headingText;g.addChildEl("headingEl")}if(k){l.bodyWrapAriaAttributes={role:k};if(!g.ariaStaticRoles[k]&&g.bodyWrapAriaRenderAttributes){Ext.apply(l.bodyWrapAriaAttributes,g.bodyWrapAriaRenderAttributes)}}if(j){l.bodyAriaAttributes={role:j};if(!g.ariaStaticRoles[j]&&g.bodyAriaRenderAttributes){Ext.apply(l.bodyAriaAttributes,g.bodyAriaRenderAttributes)}}return l},calculateConstrainedPosition:function(p,u,q,m){var o=this,n=o.header,r,s;if(o.constrainHeader){r=n.lastBox;if(m){if(!n.vertical){m=[m[0],r?r.height:m[1]]}else{m=[r?r.width:m[0],m[1]]}}else{if(r){m=[r.width,r.height]}}s=o.floatParent;p=p||o.constrainTo||(s?s.getTargetEl():null)||o.container||o.el.parent()}return Ext.container.Container.prototype.calculateConstrainedPosition.call(this,p,u,q,m)},initTools:function(){var m=this,k=m.tools,n,l,j;m.tools=[];for(n=k&&k.length;n;){--n;m.tools[n]=j=k[n];j.toolOwner=m}if(m.collapsible&&!(m.hideCollapseTool||m.header===false||m.preventHeader)){m.updateCollapseTool();if(m.collapseFirst){m.tools.unshift(m.collapseTool)}}m.addTools();if(m.pinnable){m.initPinnable()}if(m.closable){m.addClsWithUI("closable");l={xtype:"tool",type:"close",scope:m,handler:m.close,tooltip:m.closeToolText};if(m.isAccordionPanel||m.disableCloseToolFocus){l.focusable=false;l.ariaRole="presentation"}m.addTool(l)}if(m.collapseTool&&!m.collapseFirst){m.addTool(m.collapseTool)}},isLayoutRoot:function(){if(this.floatedFromCollapse){return true}return Ext.container.Container.prototype.isLayoutRoot.call(this)},isPlaceHolderCollapse:function(){return this.collapseMode==="placeholder"},isVisible:function(d){var f=this;if(f.collapsed&&f.placeholder){return f.placeholder.isVisible(d)}return Ext.container.Container.prototype.isVisible.apply(this,arguments)},onBoxReady:function(){var d=this,f;Ext.container.Container.prototype.onBoxReady.apply(this,arguments);if(d.collapsed){d.setHiddenDocked()}if(d.isAccordionPanel){d.ariaEl=d.header.titleCmp.el;d.ariaEl.dom.setAttribute("aria-expanded",!d.collapsed);d.ariaEl.dom.setAttribute("aria-controls",d.body.id);d.body.dom.setAttribute("aria-labelledby",d.header.titleCmp.id);d.body.dom.setAttribute("aria-hidden",!!d.collapsed);d.accordionHeaderKeyNav=new Ext.util.KeyNav({target:d.header.titleCmp.el,scope:d,left:d.navigateAccordionHeader,right:d.navigateAccordionHeader,up:d.navigateAccordionHeader,down:d.navigateAccordionHeader,home:d.navigateAccordionHeader,end:d.navigateAccordionHeader,space:d.toggleCollapse,enter:d.toggleCollapse,del:{alt:true,fn:d.maybeClose}});d.accordionBodyKeyNav=new Ext.util.KeyNav({target:d.body,scope:d,up:{ctrl:true,fn:d.navigateAccordionBody}})}if(d.defaultButton){f=d.defaultButtonTarget?d[d.defaultButtonTarget]:d.body;d.defaultButtonKeyNav=new Ext.util.KeyNav({target:f,scope:d,defaultEventAction:"stopEvent",enter:d.fireDefaultButton})}},onHide:function(k,n,m){var l=this,j=l.dd;if(l.floatedFromCollapse){l.slideOutFloatedPanel(true)}if(l.draggable&&j){j.endDrag()}if(l.collapsed&&l.placeholder){if(l.splitter){Ext.suspendLayouts();l.splitter.hide();Ext.resumeLayouts()}l.placeholder.hide()}else{Ext.container.Container.prototype.onHide.call(this,k,n,m)}},onRemoved:function(f){var d=this;if(d.placeholder&&!f){d.ownerCt.remove(d.placeholder,false)}Ext.container.Container.prototype.onRemoved.apply(this,arguments)},onShow:function(){var c=this;if(c.collapsed&&c.isPlaceHolderCollapse()){if(c.splitter){Ext.suspendLayouts();c.splitter.show();Ext.resumeLayouts()}c.setHiddenState(true);c.placeholderCollapse()}else{Ext.container.Container.prototype.onShow.apply(this,arguments)}},placeholderCollapse:function(q,w){var r=this,v=r.ownerCt,n=q||r.collapseDirection,s=Ext.panel.Panel.floatCls,u=r.collapseTool,p=r.getPlaceholder(n),o;if(Ext.Component.layoutSuspendCount||r.isLayoutSuspended()){w=false}r.fireEvent("beginfloat",r);r.isCollapsingOrExpanding=1;r.setHiddenState(true);r.collapsed=n;if(p.rendered){if(p.el.dom.parentNode!==r.el.dom.parentNode){r.el.dom.parentNode.insertBefore(p.el.dom,r.el.dom)}p.hidden=false;p.setHiddenState(false);p.el.show();v.updateLayout()}else{v.insert(v.items.indexOf(r),p)}if(r.rendered){r.focusPlaceholderExpandTool=r.focusPlaceHolder=false;if(u&&Ext.ComponentManager.getActiveComponent()===u){r.focusPlaceholderExpandTool=true}else{if(r.containsFocus){r.focusPlaceHolder=true}}r.el.setVisibilityMode(r.placeholderCollapseHideMode);if(w){r.el.addCls(s);p.el.hide();o=r.convertCollapseDir(n);r.el.slideOut(o,{preserveScroll:true,duration:Ext.Number.from(w,Ext.fx.Anim.prototype.duration),listeners:{scope:r,afteranimate:function(){var c=this,b=c.placeholder.el;c.el.removeCls(s);b.show();if(c.ownerCt){b.setStyle("display","none");b.slideIn(o,{easing:"linear",duration:100,listeners:{afteranimate:c.doPlaceholderCollapse,scope:c}})}else{c.doPlaceholderCollapse()}}}})}else{r.el.hide();r.doPlaceholderCollapse()}}else{r.isCollapsingOrExpanding=0;if(!r.preventCollapseFire){r.fireEvent("collapse",r)}}return r},doPlaceholderCollapse:function(){var g=this,k=g.placeholder,j=k.expandTool,l;if(g.focusPlaceholderExpandTool&&j){j.focus()}else{if(g.focusPlaceHolder){k.focus()}}g.focusPlaceholderExpandTool=false;k.setHiddenState(false);if(k.rendered){l=k.ariaEl.dom;l.setAttribute("aria-hidden",false);l.setAttribute("aria-expanded",false)}l=g.ariaEl.dom;l.setAttribute("aria-hidden",true);l.setAttribute("aria-expanded",false);g.isCollapsingOrExpanding=0;g.fireEvent("collapse",g);g.fireEvent("endfloat",g)},placeholderExpand:function(s){var q=this,o=q.collapsed,n=q.placeholder.expandTool,r=Ext.panel.Panel.floatCls,u=q.ownerLayout?q.ownerLayout.centerRegion:null,p,m;if(Ext.Component.layoutSuspendCount){s=false}if(q.floatedFromCollapse){m=q.getPosition(true);q.slideOutFloatedPanelBegin();q.slideOutFloatedPanelEnd();q.floated=false}if(n&&Ext.ComponentManager.getActiveComponent()===n){q.focusHeaderCollapseTool=true;n._ariaRole=n.ariaEl.dom.getAttribute("role");n._ariaLabel=n.ariaEl.dom.getAttribute("aria-label");n.ariaEl.dom.setAttribute("role","presentation");n.ariaEl.dom.removeAttribute("aria-label")}if(s){Ext.suspendLayouts();q.placeholder.hide();q.el.show();q.collapsed=false;q.setHiddenState(false);if(u&&!m){u.hidden=true}Ext.resumeLayouts(true);u.hidden=false;if(!q.floatedFromCollapse){q.fireEvent("beginfloat",q)}q.el.addCls(r);q.isCollapsingOrExpanding=2;if(m){p=q.getXY();q.setLocalXY(m[0],m[1]);q.setXY([p[0],p[1]],{duration:Ext.Number.from(s,Ext.fx.Anim.prototype.duration),listeners:{scope:q,afteranimate:function(){var b=this;b.el.removeCls(r);b.isCollapsingOrExpanding=0;b.fireEvent("expand",b);b.fireEvent("endfloat",b)}}})}else{q.el.hide();q.placeholder.el.show();q.placeholder.hidden=false;q.setHiddenState(false);q.el.slideIn(q.convertCollapseDir(o),{preserveScroll:true,duration:Ext.Number.from(s,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:q.doPlaceholderExpand,scope:q}})}}else{q.floated=q.collapsed=false;q.doPlaceholderExpand(true)}return q},doPlaceholderExpand:function(n){n=n===true;var m=this,l=m.placeholder,j=m.collapseTool,k=l.expandTool;if(n){Ext.suspendLayouts();m.show()}m.el.removeCls(Ext.panel.Panel.floatCls);l.hide();if(n){Ext.resumeLayouts(true)}else{m.updateLayout()}if(m.focusHeaderCollapseTool&&j){j.focus()}m.focusHeaderCollapseTool=false;l.ariaEl.dom.setAttribute("aria-expanded",true);m.ariaEl.dom.setAttribute("aria-expanded",true);if(k&&k._ariaRole){k.ariaEl.dom.setAttribute("role",k._ariaRole);k.ariaEl.dom.setAttribute("aria-label",k._ariaLabel);k._ariaRole=k._ariaLabel=null}m.isCollapsingOrExpanding=0;m.fireEvent("expand",m);m.fireEvent("endfloat",m)},remove:function(j,f){var g=this.dockedItems;if(g&&g.contains(j)){this.removeDocked(j,f)}else{Ext.container.Container.prototype.remove.call(this,j,f)}return j},removeBodyCls:function(j){var g=this,f=g.rendered?g.body:g.getProtoBody();f.removeCls(j);return g},removeUIClsFromElement:function(j){var g=this,f=Ext.container.Container.prototype.removeUIClsFromElement.apply(this,arguments);g.removeBodyCls(["x-"+j,g.baseCls+"-body-"+j,g.baseCls+"-body-"+g.ui+"-"+j]);return f},restoreDimension:function(){var c=this.collapseDirection;return(c==="top"||c==="bottom")?"height":"width"},restoreHiddenDocked:function(){this.setDockedItemsVisibility(this.hiddenOnCollapse,true)},setBodyStyle:function(l,j){var k=this,g=k.rendered?k.body:k.getProtoBody();if(Ext.isFunction(l)){l=l()}if(arguments.length===1){if(Ext.isString(l)){l=Ext.Element.parseStyles(l)}g.setStyle(l)}else{g.setStyle(l,j)}return k},setBorder:function(g,k){if(k){return}var l=this,j=l.header;if(!g){g=0}else{if(g===true){g="1px"}else{g=l.unitizeBox(g)}}if(j){if(j.isHeader){j.setBorder(g)}else{j.border=g}}if(l.rendered&&l.bodyBorder!==false){l.body.setStyle("border-width",g)}l.updateLayout();l.border=g},setCollapsed:function(c){this[c?"collapse":"expand"]()},setDockedItemsVisibility:function(p,s){var n=this,r=n.getDockedItems(),m=r.length,q=0,o,u;if(n.header!==false){u=n.getReExpander()}for(;q<m;q++){o=r[q];if(o&&o!==u&&o.el){p.add(o.el)}}p.setStyle("visibility",s?"":"hidden");p.clear()},setGlyph:function(m){var n=this,j=n.glyph,k=n.header,l=n.placeholder;if(m!==j){n.glyph=m;if(k){if(k.isHeader){k.setGlyph(m)}else{k.glyph=m}}else{if(n.rendered||n.afterHeaderInit){n.updateHeader()}}if(l&&l.setGlyph){l.setGlyph(m)}n.fireEvent("glyphchange",n,m,j)}},setIcon:function(j){var n=this,m=n.icon,k=n.header,l=n.placeholder;if(j!==m){n.icon=j;if(k){if(k.isHeader){k.setIcon(j)}else{k.icon=j}}else{if(n.rendered||n.afterHeaderInit){n.updateHeader()}}if(l&&l.setIcon){l.setIcon(j)}n.fireEvent("iconchange",n,j,m)}},setIconCls:function(n){var m=this,j=m.iconCls,k=m.header,l=m.placeholder;if(n!==j){m.iconCls=n;if(k){if(k.isHeader){k.setIconCls(n)}else{k.iconCls=n}}else{if(m.rendered||m.afterHeaderInit){m.updateHeader()}}if(l&&l.setIconCls){l.setIconCls(n)}m.fireEvent("iconclschange",m,n,j)}},setTitle:function(m){var o=this,p=o.title,l=o.header,k=o.reExpander,n=o.placeholder;if(m!==p){o.title=m;if(l){if(l.isHeader){l.setTitle(m)}}else{if(o.rendered||o.afterHeaderInit){o.updateHeader()}}if(o.headingEl){o.headingEl.setHtml(m)}if(k){k.setTitle(m)}if(n&&n.setTitle){n.setTitle(m)}o.fireEvent("titlechange",o,m,p)}},setHiddenDocked:function(){var f=this,d=new Ext.dom.CompositeElement();f.hiddenOnCollapse.add(f.body);d.add(f.body);f.setDockedItemsVisibility(d,false)},setUI:function(f){var d=this;Ext.container.Container.prototype.setUI.apply(this,arguments);if(d.header&&d.header.rendered){d.header.setUI(f)}},toggleCollapse:function(){return(this.collapsed||this.floatedFromCollapse)?this.expand():this.collapse()},updateCollapseTool:function(){var j=this,f=j.collapseTool,g;if(!f&&j.collapsible){j.collapseDirection=j.collapseDirection||j.getHeaderPosition()||"top";g={xtype:"tool",handler:j.toggleCollapse,scope:j};if(j.isAccordionPanel){g.focusable=false;g.ariaRole="presentation"}j.collapseTool=j.expandTool=f=Ext.widget(g)}if(f){if(j.collapsed&&!j.isPlaceHolderCollapse()){f.setType("expand-"+j.getOppositeDirection(j.collapseDirection));f.setTooltip(j.expandToolText)}else{f.setType("collapse-"+j.collapseDirection);f.setTooltip(j.collapseToolText)}}},navigateAccordionHeader:function(j){var l=this,g,k;g=j.getKey();switch(g){case j.UP:case j.LEFT:k=l.findAccordionSibling("prev");break;case j.DOWN:case j.RIGHT:k=l.findAccordionSibling("next");break;case j.HOME:k=l.findAccordionSibling("first");break;case j.END:k=l.findAccordionSibling("last");break;case j.DELETE:k=l.findAccordionSibling("prev")||l.findAccordionSibling("next");if(!k){j.doNotClose=true}break}j.stopEvent();if(k&&k!==l){k.header.titleCmp.focus()}},navigateAccordionBody:function(f){var d;if(f.getKey()===f.UP){d=this}f.stopEvent();if(d){d.header.titleCmp.focus()}},findAccordionSibling:function(l,k){var m=this,j="[isAccordionPanel]",n;switch(l){case"prev":n=m.prev(j);if(!n){if(m.accordionWrapOver){n=m.ownerCt.child(j+":last")}else{if(k){n=m}}}break;case"next":n=m.next(j);if(!n){if(m.accordionWrapOver){n=m.ownerCt.child(j+":first")}else{if(k){n=m}}}break;case"first":n=m.ownerCt.child(j+":first");break;case"last":n=m.ownerCt.child(j+":last");break}return n},fireDefaultButton:function(k){var l=this,j,g;j=l.lookupReferenceHolder(false)||l;g=j.lookupReference(l.defaultButton);if(g&&g.click){g.click(k);k.stopEvent();return false}},maybeClose:function(f){var d=this;if(d.closable){d.navigateAccordionHeader(f);if(!f.doNotClose){d.close()}}},canFocus:function(d,f){if(this.collapsed){return !!(this.placeholder&&this.placeholder.canFocus(d,f))}return this.mixins.focusable.canFocus.call(this,d,f)},focus:function(){var d=this,f=d.placeholder;if(d.collapsed&&f&&f.canFocus()){f.focus.apply(f,arguments)}else{Ext.container.Container.prototype.focus.apply(this,arguments)}},onFocusEnter:function(g){var j=this,f=j.ariaEl.dom;Ext.container.Container.prototype.onFocusEnter.call(this,g);if(j.isAccordionPanel&&f){f.setAttribute("aria-selected",true)}},onFocusLeave:function(g){var j=this,f=j.ariaEl.dom;Ext.container.Container.prototype.onFocusLeave.call(this,g);if(j.isAccordionPanel&&f){f.setAttribute("aria-selected","false")}},updateHeaderPosition:function(d){var f=this.header;if(f&&f.isHeader){f.setDock(d)}},updateIconAlign:function(f){var d=this.header;if(d&&d.isHeader){d.setIconAlign(f)}},updateTitleAlign:function(f){var d=this.header;if(d&&d.isHeader){d.setTitleAlign(f)}},updateTitleRotation:function(d){var f=this.header;if(f&&f.isHeader){f.setTitleRotation(d)}},unghost:function(o,k,p){var l=this,m=l.el,n=l.ghostPanel;if(!n){return}m.show();m.setVisibilityMode(l.elVisMode);if(o!==false){if(k!==false){l.setPagePosition(n.getXY())}}else{m.hide()}n.el.hide();n.setHiddenState(true)},updateHeader:function(H){var y=this,D=y.header,v=y.getTitle(),B=y.tools,w=y.getIcon(),x=y.getGlyph(),s=y.getIconCls(),E=x||w||s,A=y.ariaEl.dom,C=y.getHeaderPosition(),F=C==="left"||C==="right",u,G;if(Ext.isObject(D)||(D!==false&&(H||(v||E)||(B&&B.length)||(y.collapsible&&!y.titleCollapse)))){if(D&&D.isHeader){D.dockToEl=true;D.show()}else{D=y.header=Ext.widget(Ext.merge({xtype:"header",title:v,titleAlign:y.getTitleAlign(),vertical:F,dock:y.getHeaderPosition()||"top",dockToEl:true,titleRotation:y.getTitleRotation(),textCls:y.headerTextCls,iconCls:s,iconAlign:y.getIconAlign(),icon:w,glyph:x,baseCls:y.baseCls+"-header",tools:B,ui:y.ui,id:y.id+"_header",overCls:y.headerOverCls,indicateDrag:y.draggable,frame:(y.frame||y.alwaysFramed)&&y.frameHeader,ignoreParentFrame:y.frame||y.overlapHeader,ignoreBorderManagement:y.frame||y.ignoreHeaderBorderManagement,isAccordionHeader:y.isAccordionPanel,ownerCt:y,synthetic:true,listeners:y.collapsible&&y.titleCollapse?{click:y.toggleCollapse,scope:y}:null},y.header));y.addDocked(D,0)}if(y.isAccordionPanel){if(A){A.setAttribute("aria-labelledby",D.id+"-title");A.removeAttribute("aria-label")}else{G=y.ariaRenderAttributes||(y.ariaRenderAttributes={});G["aria-labelledby"]=D.id+"-title";delete G["aria-label"]}}else{if(v){if(y.ariaRole!=="tabpanel"){if(A){A.setAttribute("aria-labelledby",D.id+"-title-textEl");A.removeAttribute("aria-label")}else{G=y.ariaRenderAttributes||(y.ariaRenderAttributes={});G["aria-labelledby"]=D.id+"-title-textEl";delete G["aria-label"]}}}else{if(y.ariaRenderAttributes){delete y.ariaRenderAttributes["aria-label"]}}}}else{if(D){D.hide()}v=Ext.util.Format.stripTags(v);if(A){if(!A.hasAttribute("aria-labelledby")){if(v){A.setAttribute("aria-label",v)}else{A.removeAttribute("aria-label")}}}else{G=y.ariaRenderAttributes||(y.ariaRenderAttributes={});if(!G["aria-labelledby"]){if(v){G["aria-label"]=v}else{delete G["aria-label"]}}}}if(y.isViewportBorderChild&&!y.hasOwnProperty("ariaRole")){y.ariaRole="region"}if(v&&y.ariaRole==="region"){u=y.headingEl;if(u){u.setHtml(v)}else{if(y.rendered){y.headingEl=Ext.dom.Helper.insertFirst(y.el,{tag:"div",id:y.id+"-headingEl",role:"heading","class":"x-hidden-clip",style:"height:0",html:v},true);A.removeAttribute("aria-label");A.setAttribute("aria-labelledby",y.id+"-headingEl")}else{y.headingText=y.title;G=y.ariaRenderAttributes||(y.ariaRenderAttributes={});G["aria-labelledby"]=y.id+"-headingEl";delete G["aria-label"]}}}else{if(y.headingEl){y.headingEl.destroy();y.headingEl=null}}},statics:{floatCls:"x-border-region-slide-in"},privates:{addUIToElement:function(){var c=this;Ext.container.Container.prototype.addUIToElement.apply(this,arguments);c.addBodyCls(c.baseCls+"-body-"+c.ui)},applyTargetCls:function(c){this.getProtoBody().addCls(c)},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){var c=this;return c.body||c.protoBody||c.frameBody||c.el},initDraggable:function(){var c=this;if(c.simpleDrag){c.initSimpleDraggable()}else{c.dd=new Ext.panel.DD(c,Ext.isBoolean(c.draggable)?null:c.draggable)}},initResizable:function(c){Ext.container.Container.prototype.initResizable.call(this,c);if(this.collapsed){this.resizer.disable()}},initSimpleDraggable:function(){var f=this,d=f.draggable;if(!f.header&&!d.delegate){f.updateHeader(true)}if(f.header||d.delegate){d=Ext.apply({el:f.el,delegate:f.header&&f.header.el},d);if(f.constrain||f.constrainHeader){d.constrain=f.constrain;d.constrainDelegate=f.constrainHeader;d.constrainTo=f.constrainTo||f.container}d=f.dd=new Ext.util.ComponentDragger(f,d);f.relayEvents(d,["dragstart","drag","dragend"])}},removeUIFromElement:function(){var c=this;Ext.container.Container.prototype.removeUIFromElement.apply(this,arguments);c.removeBodyCls(c.baseCls+"-body-"+c.ui)},setupRenderTpl:function(c){Ext.container.Container.prototype.setupRenderTpl.apply(this,arguments);this.setupDockingRenderTpl(c)},slideOutFloatedPanel:function(p){var n=this,l=n.el,m,k,o=function(){n.slideOutFloatedPanelEnd();n.el.removeCls("x-border-region-slide-in");n.fireEvent("endfloat",n)};if(n.isSliding||n.destroyed){return}n.isSliding=true;n.floated=false;n.slideOutFloatedPanelBegin();if(p){l.hide();return o()}if(typeof n.collapsed==="string"){m=n.convertCollapseDir(n.collapsed)}n.fireEvent("beginfloat",n);l.slideOut(m,{preserveScroll:true,duration:Ext.Number.from(n.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:o}});if(this.containsFocus){k=this.findFocusTarget();if(k){k.focus()}}},slideOutFloatedPanelBegin:function(){var l=this,k=l.placeholder.el,g=l.el,j=l.bodyMousedownListener;l.collapsed=l.floatedFromCollapse;l.setHiddenState(true);l.floatedFromCollapse=null;Ext.destroy(l.pointerLeaveListener,l.phHoverListeners,l.elHoverListeners);if(j){l.bodyMousedownListener=j.destroy()}},slideOutFloatedPanelEnd:function(d){var f=this;if(f.collapseTool){f.collapseTool.el.show()}f.slideOutTask.cancel();f.isSliding=false;if(!d){f.fireEvent("unfloat",f)}}}},0,["panel"],["component","box","container","panel"],{component:true,box:true,container:true,panel:true},["widget.panel"],[["docking",Ext.container.DockingContainer]],[Ext.panel,"Panel",Ext,"Panel"],function(){var c=this.prototype;c.animCollapse=Ext.enableFx;c.placeholderCollapseHideMode=Ext.Element.VISIBILITY}));Ext.define("Ext.theme.neptune.panel.Panel",{override:"Ext.panel.Panel",border:false,bodyBorder:false,initBorderProps:Ext.emptyFn,initBodyBorder:function(){if(this.bodyBorder!==true){arguments.callee.$previous.call(this)}}});(Ext.cmd.derive("Ext.container.Monitor",Ext.Base,{target:null,selector:"",scope:null,addHandler:null,removeHandler:null,invalidateHandler:null,clearPropertiesOnDestroy:false,clearPrototypeOnDestroy:false,disabled:0,constructor:function(c){Ext.apply(this,c)},destroy:function(){this.unbind();this.callParent()},bind:function(f){var d=this;d.target=f;f.on("beforedestroy",d.disable,d);d.onContainerAdd(f)},unbind:function(){var d=this,f=d.target;if(f&&!f.destroyed){d.onContainerRemove(f,f);f.un("beforedestroy",d.disable,d)}d.items=Ext.destroy(d.items)},disable:function(){++this.disabled},enable:function(){if(this.disabled>0){--this.disabled}},handleAdd:function(f,d){if(!this.disabled){if(Ext.ComponentQuery.is(d,this.selector)){this.onItemAdd(d.ownerCt,d)}if(d.isQueryable){this.onContainerAdd(d)}}},onItemAdd:function(m,n){var k=this,j=k.items,l=k.addHandler;if(!k.disabled){if(l){l.call(k.scope||n,n)}if(j){j.add(n)}}n.clearPropertiesOnDestroy=n.clearPrototypeOnDestroy=false},onItemRemove:function(m,n){var k=this,j=k.items,l=k.removeHandler;if(!k.disabled){if(l){l.call(k.scope||n,n)}if(j){j.remove(n)}}},onContainerAdd:function(o,n){var m=this,q,l,p,r;if(o.isContainer){o.on({scope:m,add:m.handleAdd,dockedadd:m.handleAdd,remove:m.handleRemove,dockedremove:m.handleRemove})}if(n!==true){q=o.query(m.selector);for(p=0,l=q.length;p<l;++p){r=q[p];m.onItemAdd(r.ownerCt,r)}}q=o.query(">container");for(p=0,l=q.length;p<l;++p){m.onContainerAdd(q[p],true)}o.clearPropertiesOnDestroy=o.clearPrototypeOnDestroy=false},handleRemove:function(j,f){var g=this;if(!g.disabled){if(Ext.ComponentQuery.is(f,g.selector)){g.onItemRemove(j,f)}if(f.isQueryable){g.onContainerRemove(j,f)}}},onContainerRemove:function(o,q){var m=this,r,p,l,n;if(!q.destroyed&&q.isContainer){m.removeCtListeners(q);if(!q.destroying){r=q.query(m.selector);for(p=0,l=r.length;p<l;++p){n=r[p];m.onItemRemove(n.ownerCt,n)}r=q.query("container");for(p=0,l=r.length;p<l;++p){m.removeCtListeners(r[p])}}}m.invalidateItems(true)},removeCtListeners:function(d){var f=this;d.un({scope:f,add:f.handleAdd,dockedadd:f.handleAdd,remove:f.handleRemove,dockedremove:f.handleRemove})},getItems:function(){var f=this,d=f.items;if(!d){d=f.items=new Ext.util.MixedCollection();d.addAll(f.target.query(f.selector))}return d},invalidateItems:function(g){var j=this,f=j.invalidateHandler;if(g&&f){f.call(j.scope||j,j)}j.items=Ext.destroy(j.items)}},1,0,0,0,0,0,[Ext.container,"Monitor"],0));(Ext.cmd.derive("Ext.plugin.Responsive",Ext.mixin.Responsive,{id:"responsive",isPlugin:true,constructor:function(c){var k=this,l=c.cmp,j=Ext.apply({responsiveConfig:l.responsiveConfig,responsiveFormulas:l.responsiveFormulas},c);delete j.cmp;k.cmp=l;k.initConfig(j);if(k.transformed){l.setConfig(k.transformed);k.transformed=null}},init:Ext.emptyFn,privates:{transformInstanceConfig:function(g){var j=Ext.mixin.Responsive.prototype.transformInstanceConfig.call(this,g);if(j.ptype){j=Ext.apply({},j);delete j.ptype}this.transformed=j;var f=Ext.apply({},g);delete f.ptype;delete f.responsiveConfig;delete f.responsiveFormulas;return f},updateResponsiveState:function(){var c=this.getResponsiveState();this.cmp.setConfig(c)}}},1,0,0,0,["plugin.responsive"],0,[Ext.plugin,"Responsive"],0));(Ext.cmd.derive("Ext.plugin.Viewport",Ext.plugin.Responsive,{setCmp:function(c){this.cmp=c;if(c&&!c.isViewport){this.decorate(c);if(c.renderConfigs){c.flushRenderConfigs()}c.setupViewport()}},statics:{decorate:function(c){Ext.applyIf(c.prototype||c,{ariaRole:"application",viewportCls:"x-viewport"});Ext.override(c,{isViewport:true,preserveElOnDestroy:true,initComponent:function(){this.callParent();this.setupViewport()},getSizeModel:function(){var b=Ext.layout.SizeModel.configured;return b.pairsByHeightOrdinal[b.ordinal]},handleViewportResize:function(){var b=this,k=Ext.dom.Element,j=k.getViewportWidth(),l=k.getViewportHeight();if(j!==b.width||l!==b.height){b.setSize(j,l)}},setupViewport:function(){var b=this,f=document.body;if(!f.id){f.id=b.id}f.setAttribute("data-componentid",b.id);if(!b.ariaStaticRoles[b.ariaRole]){f.setAttribute("role",b.ariaRole)}f=b.el=Ext.getBody();Ext.fly(document.documentElement).addCls(b.viewportCls);f.setHeight=f.setWidth=Ext.emptyFn;f.dom.scroll="no";b.allowDomMove=false;b.renderTo=f;if(Ext.supports.Touch){b.addMeta("apple-mobile-web-app-capable","yes")}Ext.getScrollbarSize();b.width=b.height=undefined;b.initialViewportHeight=Ext.Element.getViewportHeight();b.initialViewportWidth=Ext.Element.getViewportWidth()},afterLayout:function(b){if(Ext.supports.Touch){document.body.scrollTop=0}this.callParent([b])},onRender:function(){var g=this,b=g.getOverflowEl(),j=Ext.getBody();g.callParent(arguments);Ext.setViewportScroller(g.getScrollable()||{x:false,y:false,element:j});if(g.getOverflowEl()!==j){j.setStyle("overflow","hidden")}g.width=g.initialViewportWidth;g.height=g.initialViewportHeight;g.initialViewportWidth=g.initialViewportHeight=null},initInheritedState:function(j,k){var b=this,l=Ext.rootInheritedState;if(j!==l){b.initInheritedState(b.inheritedState=l,b.inheritedStateInner=Ext.Object.chain(l))}else{b.callParent([j,k])}},doDestroy:function(){var b=this,j=Ext.rootInheritedState,g;for(g in j){if(g!=="rtl"){delete j[g]}}b.removeUIFromElement();b.el.removeCls(b.baseCls);Ext.fly(document.body.parentNode).removeCls(b.viewportCls);b.callParent()},addMeta:function(j,g){var b=document.createElement("meta");b.setAttribute("name",j);b.setAttribute("content",g);Ext.getHead().appendChild(b)},privates:{applyTargetCls:function(b){var f=this.el;if(f===this.getTargetEl()){this.el.addCls(b)}else{this.callParent([b])}},disableTabbing:function(){var b=this.el;if(b){b.saveTabbableState({skipSelf:true})}},enableTabbing:function(){var b=this.el;if(b){b.restoreTabbableState(true)}}}})}},privates:{updateResponsiveState:function(){this.cmp.handleViewportResize();Ext.plugin.Responsive.prototype.updateResponsiveState.call(this)}}},0,0,0,0,["plugin.viewport"],0,[Ext.plugin,"Viewport"],function(c){c.prototype.decorate=c.decorate}));(Ext.cmd.derive("Ext.layout.container.Anchor",Ext.layout.container.Auto,{alternateClassName:"Ext.layout.AnchorLayout",type:"anchor",defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,manageOverflow:true,setsItemSize:true,beginLayoutCycle:function(p){var q=this,r=0,n,m,o,u,s;Ext.layout.container.Auto.prototype.beginLayoutCycle.apply(this,arguments);o=p.childItems;s=o.length;for(u=0;u<s;++u){m=o[u];n=m.target.anchorSpec;if(n){if(m.widthModel.calculated&&n.right){r|=1}if(m.heightModel.calculated&&n.bottom){r|=2}if(r===3){break}}}p.anchorDimensions=r},calculateItems:function(E,K){var N=this,B=E.childItems,F=B.length,x=K.gotHeight,D=K.gotWidth,G=K.height,I=K.width,J=(D?1:0)|(x?2:0),w=E.anchorDimensions,A,L,y,M,C,H;if(!w){return true}for(C=0;C<F;C++){L=B[C];y=L.getMarginInfo();A=L.target.anchorSpec;if(D&&L.widthModel.calculated){H=A.right(I)-y.width;H=N.adjustWidthAnchor(H,L);L.setWidth(H)}if(x&&L.heightModel.calculated){M=A.bottom(G)-y.height;M=N.adjustHeightAnchor(M,L);L.setHeight(M)}}return(J&w)===w},anchorFactory:{offset:function(c){return function(b){return b+c}},ratio:function(c){return function(b){return Math.floor(b*c)}},standard:function(c){return function(b){return b-c}}},parseAnchor:function(n,k,j){if(n&&n!=="none"){var m=this.anchorFactory,l;if(this.parseAnchorRE.test(n)){return m.standard(j-k)}if(n.indexOf("%")!==-1){return m.ratio(parseFloat(n.replace("%",""))*0.01)}l=parseInt(n,10);if(!isNaN(l)){return m.offset(l)}}return null},adjustWidthAnchor:function(f,d){return f},adjustHeightAnchor:function(f,d){return f},configureItem:function(n){var o=this,l=o.owner,p=n.anchor,r,q,m;Ext.layout.container.Auto.prototype.configureItem.apply(this,arguments);if(!n.anchor&&n.items&&!Ext.isNumber(n.width)){n.anchor=p=o.defaultAnchor}if(l.anchorSize){if(typeof l.anchorSize==="number"){q=l.anchorSize}else{q=l.anchorSize.width;m=l.anchorSize.height}}else{q=l.initialConfig.width;m=l.initialConfig.height}if(p){r=p.split(" ");n.anchorSpec={right:o.parseAnchor(r[0],n.initialConfig.width,q),bottom:o.parseAnchor(r[1],n.initialConfig.height,m)}}},sizePolicy:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},b:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},r:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},b:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(m){var k=m.anchorSpec,j="$",l=this.sizePolicy,n;if(k){n=this.owner.getSizeModel();if(k.right&&!n.width.shrinkWrap){l=l.r}if(k.bottom&&!n.height.shrinkWrap){j="b"}}return l[j]}},0,0,0,0,["layout.anchor"],0,[Ext.layout.container,"Anchor",Ext.layout,"AnchorLayout"],0));(Ext.cmd.derive("Ext.dd.DragTracker",Ext.Base,{active:false,trackOver:false,tolerance:5,autoStart:false,constructor:function(d){var f=this;Ext.apply(f,d);f.dragRegion=new Ext.util.Region(0,0,0,0);if(f.el){f.initEl(f.el)}f.mixins.observable.constructor.call(f);if(f.disabled){f.disable()}if(Ext.supports.Touch){Ext.getWin().on({touchstart:"onWindowTouchStart",scope:f,capture:true})}},initEl:function(n){var m=this,j=m.delegate,k,l;m.el=n=Ext.get(n);n.addCls("x-unselectable");if(j&&j.isElement){m.handle=j}m.delegate=m.handle?undefined:m.delegate;if(Ext.supports.Touch){k=Ext.ComponentManager.fromElement(n);l=k&&k.getScrollable();if(l){k=l.getElement();if(m.handle&&!k.contains(m.handle)){l=false}else{if(m.delegate&&!k.down(m.delegate)){l=false}else{l=l.getX()||l.getY()}}}}if(!m.handle){m.handle=n}m.handleListeners={scope:m,delegate:m.delegate,dragstart:m.onDragStart};if(l){m.handleListeners.longpress=m.onMouseDown;m.handleListeners.mousedown={fn:m.onMouseDown,delegate:m.delegate,translate:false};m.handleListeners.contextmenu=function(b){b.stopEvent()}}else{m.handleListeners.mousedown=m.onMouseDown}if(!Ext.supports.TouchEvents&&(m.trackOver||m.overCls)){Ext.apply(m.handleListeners,{mouseover:m.onMouseOver,mouseout:m.onMouseOut})}m.mon(m.handle,m.handleListeners);m.keyNav=new Ext.util.KeyNav({target:n,up:m.onResizeKeyDown,left:m.onResizeKeyDown,right:m.onResizeKeyDown,down:m.onResizeKeyDown,scope:m})},disable:function(){this.disabled=true},enable:function(){this.disabled=false},destroy:function(){var c=this;c.endDrag({});c.el=c.handle=c.onBeforeStart=c.onStart=c.onDrag=c.onEnd=c.onCancel=null;c.callParent()},onWindowTouchStart:function(c){if(this.mouseIsDown){this.onMouseUp(c)}},onMouseOver:function(n,o){var q=this,p,r,s,m,u;if(!q.disabled){if(n.within(n.target,true,true)||q.delegate){p=q.handleCls;q.mouseIsOut=false;if(p){for(s=0,m=q.handleEls.length;s<m;s++){r=q.handleEls[s];u=r.delegateCls;if(!u){u=r.delegateCls=[p,"-",r.region,"-over"].join("")}r.addCls([u,q.overCls])}}q.fireEvent("mouseover",q,n,q.delegate?n.getTarget(q.delegate,o):q.handle)}}},onMouseOut:function(k){var l=this,m,n,j;if(l.mouseIsDown){l.mouseIsOut=true}else{if(l.handleCls){for(n=0,j=l.handleEls.length;n<j;n++){m=l.handleEls[n];m.removeCls([m.delegateCls,l.overCls])}}l.fireEvent("mouseout",l,k)}},onMouseDown:function(j,k){var l=this,g=j.parentEvent||j;if(l.disabled||g.dragTracked){return}l.dragTarget=l.delegate?k:l.handle.dom;l.startXY=l.lastXY=j.getXY();l.startRegion=Ext.fly(l.dragTarget).getRegion();if(l.fireEvent("mousedown",l,j)===false||l.fireEvent("beforedragstart",l,j)===false||l.onBeforeStart(j)===false){return}l.mouseIsDown=true;g.dragTracked=true;l.el.setCapture();j.stopPropagation();if(l.preventDefault!==false||j.pointerType==="touch"){j.preventDefault()}Ext.getDoc().on({scope:l,capture:true,mouseup:l.onMouseUp,mousemove:l.onMouseMove,selectstart:l.stopSelect});l.dragEnded=false;if(!l.tolerance){l.triggerStart()}else{if(l.autoStart){l.timer=Ext.defer(l.triggerStart,l.autoStart===true?1000:l.autoStart,l,[j])}}},onMouseMove:function(k,l){var n=this,m=k.getXY(),j=n.startXY;k.stopPropagation();if(n.preventDefault!==false){k.preventDefault()}if(n.dragEnded){return}n.lastXY=m;if(!n.active){if(Math.max(Math.abs(j[0]-m[0]),Math.abs(j[1]-m[1]))>n.tolerance){n.triggerStart(k)}else{return}}if(n.fireEvent("mousemove",n,k)===false){n.onMouseUp(k)}else{n.onDrag(k);n.fireEvent("drag",n,k)}},onMouseUp:function(f){var d=this;d.mouseIsDown=false;if(d.mouseIsOut){d.mouseIsOut=false;d.onMouseOut(f)}if(d.preventDefault!==false){f.preventDefault()}if(Ext.isIE&&document.releaseCapture){document.releaseCapture()}d.fireEvent("mouseup",d,f);d.endDrag(f)},endDrag:function(g){var j=this,f=j.active;Ext.getDoc().un({mousemove:j.onMouseMove,mouseup:j.onMouseUp,selectstart:j.stopSelect,capture:true,scope:j});j.clearStart();j.active=false;j.dragEnded=true;if(f){j.onEnd(g);j.fireEvent("dragend",j,g)}else{j.onCancel(g)}j._constrainRegion=null},triggerStart:function(f){var d=this;d.clearStart();d.active=true;d.onStart(f);d.fireEvent("dragstart",d,f)},clearStart:function(){var c=this.timer;if(c){clearTimeout(c);this.timer=null}},stopSelect:function(c){c.stopEvent();return false},onBeforeStart:function(c){},onStart:function(c){},onDrag:function(c){},onCancel:function(c){},onEnd:function(c){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){var c=this;if(c.constrainTo){if(c.constrainTo instanceof Ext.util.Region){return c.constrainTo}if(!c._constrainRegion){c._constrainRegion=Ext.fly(c.constrainTo).getViewRegion()}}else{if(!c._constrainRegion){c._constrainRegion=c.getDragCt().getViewRegion()}}return c._constrainRegion},getXY:function(c){return c?this.constrainModes[c](this,this.lastXY):this.lastXY},getOffset:function(g){var j=this.getXY(g),f=this.startXY;return[j[0]-f[0],j[1]-f[1]]},onDragStart:function(c){c.stopPropagation()},constrainModes:{point:function(l,j){var k=l.dragRegion,g=l.getConstrainRegion();if(!g){return j}k.x=k.left=k[0]=k.right=j[0];k.y=k.top=k[1]=k.bottom=j[1];k.constrainTo(g);return[k.left,k.top]},dragTarget:function(o,l){var p=o.startXY,m=o.startRegion.copy(),k=o.getConstrainRegion(),n;if(!k){return l}m.translateBy(l[0]-p[0],l[1]-p[1]);if(m.right>k.right){l[0]+=n=(k.right-m.right);m.left+=n}if(m.left<k.left){l[0]+=(k.left-m.left)}if(m.bottom>k.bottom){l[1]+=n=(k.bottom-m.bottom);m.top+=n}if(m.top<k.top){l[1]+=(k.top-m.top)}return l}}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.dd,"DragTracker"],0));(Ext.cmd.derive("Ext.resizer.SplitterTracker",Ext.dd.DragTracker,{enabled:true,overlayCls:"x-resizable-overlay",createDragOverlay:function(){var d,f=Ext.dom.Element;d=this.overlay=Ext.getBody().createChild({role:"presentation",cls:this.overlayCls,html:"&#160;"});d.unselectable();d.setSize(f.getDocumentWidth(),f.getDocumentHeight());d.show()},getPrevCmp:function(){var c=this.getSplitter();return c.previousSibling(":not([hidden])")},getNextCmp:function(){var c=this.getSplitter();return c.nextSibling(":not([hidden])")},onBeforeStart:function(m){var p=this,o=p.getPrevCmp(),l=p.getNextCmp(),q=p.getSplitter().collapseEl,n=m.getTarget(),r;if(!o||!l){return false}if(q&&n===q.dom){return false}if(l.collapsed||o.collapsed){return false}p.prevBox=o.getEl().getBox();p.nextBox=l.getEl().getBox();p.constrainTo=r=p.calculateConstrainRegion();if(!r){return false}return r},onMouseDown:function(f,d){Ext.dd.DragTracker.prototype.onMouseDown.call(this,f,d);if(this.mouseIsDown&&this.getSplitter().el.dom===d){Ext.dom.Element.maskIframes()}},onMouseUp:function(c){Ext.dd.DragTracker.prototype.onMouseUp.call(this,c);Ext.dom.Element.unmaskIframes()},onStart:function(f){var d=this.getSplitter();this.createDragOverlay();d.addCls(d.baseCls+"-active")},onResizeKeyDown:function(o){var r=this,p=r.getSplitter(),l=o.getKey(),q=p.orientation==="vertical"?0:1,m=l===o.UP||l===o.LEFT?-1:1,n;if(!r.active&&r.onBeforeStart(o)){Ext.fly(o.target).on("keyup",r.onResizeKeyUp,r);r.triggerStart(o);r.onMouseDown(o);r.startXY=p.getXY();r.lastKeyDownXY=Ext.Array.slice(r.startXY);n=r.easing=new Ext.fx.easing.Linear();n.setStartTime(Ext.Date.now());n.setStartValue(1);n.setEndValue(4);n.setDuration(2000)}if(r.active){r.lastKeyDownXY[q]=Math.round(r.lastKeyDownXY[q]+(m*r.easing.getValue()));r.lastXY=r.lastKeyDownXY;p.setXY(r.getXY("dragTarget"))}},onResizeKeyUp:function(c){this.onMouseUp(c)},calculateConstrainRegion:function(){var w=this,D=w.getSplitter(),v=D.getWidth(),u=D.defaultSplitMin,C=D.orientation,y=w.prevBox,s=w.getPrevCmp(),B=w.nextBox,x=w.getNextCmp(),q,r,A;if(C==="vertical"){A={prevCmp:s,nextCmp:x,prevBox:y,nextBox:B,defaultMin:u,splitWidth:v};q=new Ext.util.Region(y.y,w.getVertPrevConstrainRight(A),y.bottom,w.getVertPrevConstrainLeft(A));r=new Ext.util.Region(B.y,w.getVertNextConstrainRight(A),B.bottom,w.getVertNextConstrainLeft(A))}else{q=new Ext.util.Region(y.y+(s.minHeight||u),y.right,(s.maxHeight?y.y+s.maxHeight:B.bottom-(x.minHeight||u))+v,y.x);r=new Ext.util.Region((x.maxHeight?B.bottom-x.maxHeight:y.y+(s.minHeight||u))-v,B.right,B.bottom-(x.minHeight||u),B.x)}return q.intersect(r)},performResize:function(y,E){var w=this,J=w.getSplitter(),D=J.orientation,v=w.getPrevCmp(),x=w.getNextCmp(),I=J.ownerCt,B=I.query(">[flex]"),A=B.length,H=D==="vertical",C=0,F=H?"width":"height",G=0,L,K;for(;C<A;C++){L=B[C];K=H?L.getWidth():L.getHeight();G+=K;L.flex=K}E=H?E[0]:E[1];if(v){K=w.prevBox[F]+E;if(v.flex){v.flex=K}else{v[F]=K}}if(x){K=w.nextBox[F]-E;if(x.flex){x.flex=K}else{x[F]=K}}I.updateLayout()},endDrag:function(){var c=this;if(c.overlay){c.overlay.destroy();delete c.overlay}Ext.dd.DragTracker.prototype.endDrag.apply(this,arguments)},onEnd:function(g){var f=this,j=f.getSplitter();j.removeCls(j.baseCls+"-active");f.performResize(g,f.getResizeOffset())},onDrag:function(m){var o=this,l=o.getOffset("dragTarget"),n=o.getSplitter(),p=n.getEl(),k=n.orientation;if(k==="vertical"){p.setX(o.startRegion.left+l[0])}else{p.setY(o.startRegion.top+l[1])}},getSplitter:function(){return this.splitter},getVertPrevConstrainRight:function(c){return(c.prevCmp.maxWidth?c.prevBox.x+c.prevCmp.maxWidth:c.nextBox.right-(c.nextCmp.minWidth||c.defaultMin))+c.splitWidth},getVertPrevConstrainLeft:function(c){return c.prevBox.x+(c.prevCmp.minWidth||c.defaultMin)},getVertNextConstrainRight:function(c){return c.nextBox.right-(c.nextCmp.minWidth||c.defaultMin)},getVertNextConstrainLeft:function(c){return(c.nextCmp.maxWidth?c.nextBox.right-c.nextCmp.maxWidth:c.prevBox.x+(c.prevBox.minWidth||c.defaultMin))-c.splitWidth},getResizeOffset:function(){return this.getOffset("dragTarget")}},0,0,0,0,0,0,[Ext.resizer,"SplitterTracker"],0));(Ext.cmd.derive("Ext.dd.DDTarget",Ext.dd.DragDrop,{constructor:function(g,f,j){if(g){this.initTarget(g,f,j)}},getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return("DDTarget "+this.id)}},3,0,0,0,0,0,[Ext.dd,"DDTarget"],0));(Ext.cmd.derive("Ext.dd.ScrollManager",Ext.Base,{singleton:true,dirTrans:{up:-1,left:-1,down:1,right:1},constructor:function(){var c=Ext.dd.DragDropManager;c.fireEvents=Ext.Function.createSequence(c.fireEvents,this.onFire,this);c.stopDrag=Ext.Function.createSequence(c.stopDrag,this.onStop,this);this.doScroll=this.doScroll.bind(this);this.ddmInstance=c;this.els={};this.dragEl=null;this.proc={}},onStop:function(d){var f=Ext.dd.ScrollManager;f.dragEl=null;f.clearProc()},triggerRefresh:function(){if(this.ddmInstance.dragCurrent){this.ddmInstance.refreshCache(this.ddmInstance.dragCurrent.groups)}},doScroll:function(){var p=this;if(p.ddmInstance.dragCurrent){var m=p.proc,q=m.el,s=m.component,o=m.el.ddScrollConfig,n=o&&o.increment?o.increment:p.increment,u=o&&"animate" in o?o.animate:p.animate,r=function(){p.triggerRefresh()};if(u){if(u===true){u={callback:r}}else{u.callback=u.callback?Ext.Function.createSequence(u.callback,r):r}}if(s){n=n*p.dirTrans[m.dir];if(m.dir==="up"||m.dir==="down"){s.scrollBy(0,n,u)}else{s.scrollBy(n,0,u)}}else{q.scroll(m.dir,n,u)}if(!u){r()}}},clearProc:function(){var c=this.proc;if(c.id){clearInterval(c.id)}c.id=0;c.el=null;c.dir=""},startProc:function(o,p){var n=this,k=n.proc,l,m;n.clearProc();k.el=o;k.dir=p;l=o.ddScrollConfig?o.ddScrollConfig.ddGroup:undefined;m=(o.ddScrollConfig&&o.ddScrollConfig.frequency)?o.ddScrollConfig.frequency:n.frequency;if(l===undefined||n.ddmInstance.dragCurrent.ddGroup===l){k.id=Ext.interval(n.doScroll,m)}},onFire:function(s,p){var q=this,o,r,v,y,x,u,w;if(p||!q.ddmInstance.dragCurrent){return}if(!q.dragEl||q.dragEl!==q.ddmInstance.dragCurrent){q.dragEl=q.ddmInstance.dragCurrent;q.refreshCache()}o=s.getPoint();r=q.proc;v=q.els;for(y in v){x=v[y];u=x._region;w=x.ddScrollConfig||q;if(u&&u.contains(o)&&x.isScrollable()){if(u.bottom-o.y<=w.vthresh){if(r.el!==x){q.startProc(x,"down")}return}else{if(u.right-o.x<=w.hthresh){if(r.el!==x){q.startProc(x,"right")}return}else{if(o.y-u.top<=w.vthresh){if(r.el!==x){q.startProc(x,"up")}return}else{if(o.x-u.left<=w.hthresh){if(r.el!==x){q.startProc(x,"left")}return}}}}}}q.clearProc()},register:function(g){if(Ext.isArray(g)){for(var j=0,f=g.length;j<f;j++){this.register(g[j])}}else{g=Ext.get(g);this.els[g.id]=g}},unregister:function(g){if(Ext.isArray(g)){for(var j=0,f=g.length;j<f;j++){this.unregister(g[j])}}else{g=Ext.get(g);delete this.els[g.id]}},vthresh:25*(window.devicePixelRatio||1),hthresh:25*(window.devicePixelRatio||1),increment:100,frequency:500,animate:true,animDuration:0.4,ddGroup:undefined,refreshCache:function(){var d=this.els,f;for(f in d){if(typeof d[f]==="object"){d[f]._region=d[f].getRegion()}}}},1,0,0,0,0,0,[Ext.dd,"ScrollManager"],0));(Ext.cmd.derive("Ext.dd.DropTarget",Ext.dd.DDTarget,{constructor:function(f,d){this.el=Ext.get(f);Ext.apply(this,d);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el)}Ext.dd.DDTarget.prototype.constructor.call(this,this.el.dom,this.ddGroup||this.group,{isTarget:true})},containerScroll:false,dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",isTarget:true,isNotifyTarget:true,notifyEnter:function(f,g,j){if(this.overClass){this.el.addCls(this.overClass)}return this.dropAllowed},notifyOver:function(f,g,j){return this.dropAllowed},notifyOut:function(f,g,j){if(this.overClass){this.el.removeCls(this.overClass)}},notifyDrop:function(f,g,j){if(this.overClass){this.el.removeCls(this.overClass)}return false},destroy:function(){if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.el)}Ext.dd.DDTarget.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.dd,"DropTarget"],0));(Ext.cmd.derive("Ext.dd.DragZone",Ext.dd.DragSource,{constructor:function(k,l){var j=this,g;Ext.dd.DragSource.prototype.constructor.call(this,k,l);g=j.containerScroll;if(g){k=j.scrollEl||k;k=Ext.get(k);if(Ext.isObject(g)){k.ddScrollConfig=g}Ext.dd.ScrollManager.register(k)}},getDragData:function(c){return Ext.dd.Registry.getHandleFromEvent(c)},onInitDrag:function(d,f){this.proxy.update(this.dragData.ddel.cloneNode(true));this.onStartDrag(d,f);return true},getRepairXY:function(c){return Ext.fly(this.dragData.ddel).getXY()},destroy:function(){if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.scrollEl||this.el)}Ext.dd.DragSource.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.dd,"DragZone"],0));(Ext.cmd.derive("Ext.dd.Registry",Ext.Base,{singleton:true,constructor:function(){this.elements={};this.handles={};this.autoIdSeed=0},getId:function(j,f){if(typeof j==="string"){return j}var g=j.id;if(!g&&f!==false){g="extdd-"+(++this.autoIdSeed);j.id=g}return g},register:function(l,k){k=k||{};if(typeof l==="string"){l=document.getElementById(l)}k.ddel=l;this.elements[this.getId(l)]=k;if(k.isHandle!==false){this.handles[k.ddel.id]=k}if(k.handles){var m=k.handles,n,j;for(n=0,j=m.length;n<j;n++){this.handles[this.getId(m[n])]=k}}},unregister:function(n){var l=this.getId(n,false),m=this.elements[l],o,p,k;if(m){delete this.elements[l];if(m.handles){o=m.handles;for(p=0,k=o.length;p<k;p++){delete this.handles[this.getId(o[p],false)]}}}},getHandle:function(c){if(typeof c!=="string"){c=c.id}return this.handles[c]},getHandleFromEvent:function(f){var d=f.getTarget();return d?this.handles[d.id]:null},getTarget:function(c){if(typeof c!=="string"){c=c.id}return this.elements[c]},getTargetFromEvent:function(f){var d=f.getTarget();return d?this.elements[d.id]||this.handles[d.id]:null}},1,0,0,0,0,0,[Ext.dd,"Registry"],0));(Ext.cmd.derive("Ext.dd.DropZone",Ext.dd.DropTarget,{getTargetFromEvent:function(c){return Ext.dd.Registry.getTargetFromEvent(c)},onNodeEnter:function(j,g,k,l){},onNodeOver:function(j,g,k,l){return this.dropAllowed},onNodeOut:function(j,g,k,l){},onNodeDrop:function(j,g,k,l){return false},onContainerOver:function(f,g,j){return this.dropNotAllowed},onContainerDrop:function(f,g,j){return false},notifyEnter:function(f,g,j){Ext.dd.DropTarget.prototype.notifyEnter.call(this,f,g,j);return this.dropNotAllowed},notifyOver:function(j,l,m){var n=this,k=n.getTargetFromEvent(l);if(!k){if(n.lastOverNode){n.onNodeOut(n.lastOverNode,j,l,m);n.lastOverNode=null}return n.onContainerOver(j,l,m)}if(n.lastOverNode!==k){if(n.lastOverNode){n.onNodeOut(n.lastOverNode,j,l,m)}n.onNodeEnter(k,j,l,m);n.lastOverNode=k}return n.onNodeOver(k,j,l,m)},notifyOut:function(f,g,j){Ext.dd.DropTarget.prototype.notifyOut.call(this,f,g,j);if(this.lastOverNode){this.onNodeOut(this.lastOverNode,f,g,j);this.lastOverNode=null}},notifyDrop:function(p,m,n){var o=this,l=o.getTargetFromEvent(m),k=l?o.onNodeDrop(l,p,m,n):o.onContainerDrop(p,m,n);if(o.lastOverNode){o.onNodeOut(o.lastOverNode,p,m,n);o.lastOverNode=null}return k},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}},0,0,0,0,0,0,[Ext.dd,"DropZone"],0));(Ext.cmd.derive("Ext.event.publisher.MouseEnterLeave",Ext.event.publisher.Dom,{type:"mouseEnterLeave"},0,0,0,0,0,0,[Ext.event.publisher,"MouseEnterLeave"],function(d){var f={mouseover:"mouseenter",mouseout:"mouseleave"};if(!Ext.supports.MouseEnterLeave){d.override({handledDomEvents:["mouseover","mouseout"],handledEvents:["mouseenter","mouseleave"],publishDelegatedDomEvent:function(c){var n,r,b,p,q,o;c=this.callParent([c]);n=c.getTarget();r=c.getRelatedTarget();if(r&&Ext.fly(n).contains(r)){return}b=n.id;if(b){p=Ext.cache[b];if(p){q=f[c.type];c=c.chain({type:q});if(p.hasListeners[q]){o=p.events[q];if(o){o=o.directs;if(o){c.setCurrentTarget(p.dom);o.fire(c,c.target)}}}}}}})}d.instance=new d()}));(Ext.cmd.derive("Ext.form.action.Action",Ext.Base,{alternateClassName:"Ext.form.Action",submitEmptyText:true,constructor:function(d){if(d){Ext.apply(this,d)}var f=d.params;if(Ext.isString(f)){this.params=Ext.Object.fromQueryString(f)}},run:Ext.emptyFn,onFailure:function(f){var g=this.form,j=g&&!g.destroying&&!g.destroyed;this.response=f;this.failureType=Ext.form.action.Action.CONNECT_FAILURE;if(j){g.afterAction(this,false)}},processResponse:function(c){this.response=c;if(!c.responseText&&!c.responseXML){return true}return(this.result=this.handleResponse(c))},getUrl:function(){return this.url||this.form.url},getMethod:function(){return(this.method||this.form.method||"POST").toUpperCase()},getParams:function(){return Ext.apply({},this.params,this.form.baseParams)},createCallback:function(){var c=this;return{success:c.onSuccess,failure:c.onFailure,scope:c,timeout:(c.timeout||c.form.timeout)*1000}},statics:{CLIENT_INVALID:"client",SERVER_INVALID:"server",CONNECT_FAILURE:"connect",LOAD_FAILURE:"load"}},1,0,0,0,0,0,[Ext.form.action,"Action",Ext.form,"Action"],0));(Ext.cmd.derive("Ext.form.action.Load",Ext.form.action.Action,{alternateClassName:"Ext.form.Action.Load",type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(),{method:this.getMethod(),url:this.getUrl(),headers:this.headers,params:this.getParams()}))},onSuccess:function(l){var g=this.processResponse(l),j=this.form,k=j&&!j.destroying&&!j.destroyed;if(g===true||!g.success||!g.data){this.failureType=Ext.form.action.Action.LOAD_FAILURE;if(k){j.afterAction(this,false)}return}if(k){j.clearInvalid();j.setValues(g.data);j.afterAction(this,true)}},handleResponse:function(k){var g=this.form.reader,l,j;if(g){l=g.read(k);j=l.records&&l.records[0]?l.records[0].data:null;return{success:l.success,data:j}}return Ext.decode(k.responseText)}},0,0,0,0,["formaction.load"],0,[Ext.form.action,"Load",Ext.form.Action,"Load"],0));(Ext.cmd.derive("Ext.form.action.Submit",Ext.form.action.Action,{alternateClassName:"Ext.form.Action.Submit",type:"submit",run:function(){var f=this,d=f.form;if(f.clientValidation===false||d.isValid()){f.doSubmit()}else{f.failureType=Ext.form.action.Action.CLIENT_INVALID;d.afterAction(f,false)}},doSubmit:function(){var n=this,p=Ext.apply(n.createCallback(),{url:n.getUrl(),method:n.getMethod(),headers:n.headers}),o=n.form,m=n.jsonSubmit||o.jsonSubmit,k=m?"jsonData":"params",l;if(o.hasUpload()){l=n.buildForm();p.form=l.formEl;p.isUpload=true}else{p[k]=n.getParams(m)}Ext.Ajax.request(p);if(l){n.cleanup(l)}},cleanup:function(m){var o=m.formEl,p=m.uploadEls,r=m.uploadFields,l=r.length,q,n;for(q=0;q<l;++q){n=r[q];if(!n.clearOnSubmit){n.restoreInput(p[q])}}if(o){Ext.removeNode(o)}},getParams:function(j){var k=false,l=Ext.form.action.Action.prototype.getParams.call(this),g=this.form.getValues(k,k,this.submitEmptyText!==k,j,true);return Ext.apply({},g,l)},buildForm:function(){var C=this,y=[],B,L,E=C.form,H=C.getParams(),I=[],K=[],F=E.getFields().items,G,D=F.length,A,M,v,N,x,J;for(G=0;G<D;++G){A=F[G];if(A.isFileUpload()){I.push(A)}}for(M in H){if(H.hasOwnProperty(M)){v=H[M];if(Ext.isArray(v)){x=v.length;for(N=0;N<x;N++){y.push(C.getFieldConfig(M,v[N]))}}else{y.push(C.getFieldConfig(M,v))}}}B={tag:"form",role:"presentation",action:C.getUrl(),method:C.getMethod(),target:C.target?(Ext.isString(C.target)?C.target:Ext.fly(C.target).dom.name):"_self",style:"display:none",cn:y};if(I.length){B.encoding=B.enctype="multipart/form-data"}L=Ext.DomHelper.append(Ext.getBody(),B);D=I.length;for(G=0;G<D;++G){J=I[G].extractFileInput();L.appendChild(J);K.push(J)}return{formEl:L,uploadFields:I,uploadEls:K}},getFieldConfig:function(d,f){return{tag:"input",type:"hidden",name:d,value:Ext.String.htmlEncode(f)}},onSuccess:function(n){var l=this.form,m=l&&!l.destroying&&!l.destroyed,k=true,j=this.processResponse(n);if(j!==true&&!j.success){if(j.errors&&m){l.markInvalid(j.errors)}this.failureType=Ext.form.action.Action.SERVER_INVALID;k=false}if(m){l.afterAction(this,k)}},handleResponse:function(v){var y=this.form,w=y.errorReader,u,p,s,r,x,o;if(w){u=w.read(v);x=u.records;p=[];if(x){for(s=0,r=x.length;s<r;s++){p[s]=x[s].data}}if(p.length<1){p=null}o={success:u.success,errors:p}}else{try{o=Ext.decode(v.responseText)}catch(q){o={success:false,errors:[]}}}return o}},0,0,0,0,["formaction.submit"],0,[Ext.form.action,"Submit",Ext.form.Action,"Submit"],0));(Ext.cmd.derive("Ext.form.action.StandardSubmit",Ext.form.action.Submit,{doSubmit:function(){var c=this.buildForm();c.formEl.submit();this.cleanup(c)}},0,0,0,0,["formaction.standardsubmit"],0,[Ext.form.action,"StandardSubmit"],0));(Ext.cmd.derive("Ext.util.ComponentDragger",Ext.dd.DragTracker,{autoStart:500,constructor:function(d,f){this.comp=d;this.initialConstrainTo=f.constrainTo;Ext.dd.DragTracker.prototype.constructor.call(this,f)},onStart:function(g){var j=this,f=j.comp;j.dragTarget=j.el;j.startRegion=j.el.getRegion();j.startPosition=f.getXY();if(f.ghost&&!f.liveDrag){j.proxy=f.ghost()}if(j.constrain||j.constrainDelegate){j.constrainTo=j.calculateConstrainRegion()}if(f.beginDrag){f.beginDrag()}if(f.el.shim){Ext.dom.Element.maskIframes()}},calculateConstrainRegion:function(){var q=this,s=q.comp,r=q.initialConstrainTo||q.comp.el.dom.parentNode,u=s.constraintInsets,o,x,v,w=q.proxy?q.proxy.el:s.el,p=w.shadow,y=(p&&!q.constrainDelegate&&s.constrainShadow&&!p.disabled)?p.getShadowSize():0;if(!(r instanceof Ext.util.Region)){o=Ext.fly(r);r=o.getConstrainRegion()}else{r=r.copy()}if(u){u=Ext.isObject(u)?u:Ext.Element.parseBox(u);r.adjust(u.top,u.right,u.bottom,u.left)}if(y){r.adjust(y[0],-y[1],-y[2],y[3])}if(q.constrainDelegate){x=Ext.fly(q.handle).getRegion();v=w.getRegion();r.adjust(v.top-x.top,v.right-x.right,v.bottom-x.bottom,v.left-x.left)}return r},onDrag:function(k){var l=this,g=(l.proxy&&!l.comp.liveDrag)?l.proxy:l.comp,j=l.getOffset(l.constrain||l.constrainDelegate?"dragTarget":null);g.setPagePosition(l.startPosition[0]+j[0],l.startPosition[1]+j[1])},onEnd:function(f){var d=this.comp;if(d.destroyed||d.destroying){return}if(this.proxy&&!d.liveDrag){d.unghost()}if(d.endDrag){d.endDrag()}if(d.el.shim){Ext.dom.Element.unmaskIframes()}}},1,0,0,0,0,0,[Ext.util,"ComponentDragger"],0));(Ext.cmd.derive("Ext.window.Window",Ext.panel.Panel,{alternateClassName:"Ext.Window",baseCls:"x-window",resizable:true,draggable:true,constrain:false,constrainHeader:false,plain:false,minimizable:false,maximizable:false,minHeight:50,minWidth:50,expandOnShow:true,collapsible:false,closable:true,hidden:true,autoRender:true,hideMode:"offsets",floating:true,alignOnScroll:false,itemCls:"x-window-item",overlapHeader:true,ignoreHeaderBorderManagement:true,alwaysFramed:true,isRootCfg:{isRoot:true},isWindow:true,ariaRole:"dialog",focusable:true,tabGuard:true,closeToolText:"Close dialog",keyMap:{scope:"this",ESC:"onEsc"},maskClickAction:"focus",disableCloseToolFocus:true,initComponent:function(){var c=this;c.frame=false;Ext.panel.Panel.prototype.initComponent.call(this);if(c.plain){c.addClsWithUI("plain")}c.addStateEvents(["maximize","restore","resize","dragend"])},getElConfig:function(){var f=this,d;d=Ext.panel.Panel.prototype.getElConfig.call(this);d.tabIndex=-1;return d},getFocusEl:function(){return this.getDefaultFocus()||this.el},getState:function(){var n=this,l=Ext.panel.Panel.prototype.getState.call(this)||{},j=!!n.maximized,m=n.ghostBox,k;l.maximized=j;if(j){k=n.restorePos}else{if(m){k=[m.x,m.y]}else{k=n.getPosition(true)}}Ext.apply(l,{size:j?n.restoreSize:n.getSize(),pos:k});return l},applyState:function(f){var d=this;if(f){d.maximized=f.maximized;if(d.maximized){d.hasSavedRestore=true;d.restoreSize=f.size;d.restorePos=f.pos}else{Ext.apply(d,{width:f.size.width,height:f.size.height,x:f.pos[0],y:f.pos[1]})}}},onRender:function(j,f){var g=this;Ext.panel.Panel.prototype.onRender.apply(this,arguments);if(g.header){g.header.on({scope:g,click:g.onHeaderClick})}if(g.maximizable){g.header.on({scope:g,dblclick:g.toggleMaximize})}},afterRender:function(){var d=this,f=d.header;if(d.maximized){d.maximized=false;d.maximize(null,true);if(f){f.removeCls(f.indicateDragCls)}}Ext.panel.Panel.prototype.afterRender.call(this);d.initTabGuards()},onEsc:function(c){c.stopEvent();this.close()},doDestroy:function(){var c=this;if(c.rendered){Ext.un("resize",c.onWindowResize,c);delete c.animateTarget;c.hide()}Ext.panel.Panel.prototype.doDestroy.call(this)},addTools:function(){var d=this,f=[];Ext.panel.Panel.prototype.addTools.call(this);if(d.minimizable){f.push({type:"minimize",handler:"minimize",scope:d})}if(d.maximizable){f.push({type:"maximize",handler:"toggleMaximize",scope:d})}if(f.length){d.addTool(f)}},addTool:function(f){var d=this;Ext.panel.Panel.prototype.addTool.call(this,f);if(d.rendered&&d.tabGuard){d.initTabGuards()}},add:function(){var f=this,d;d=Ext.panel.Panel.prototype.add.apply(this,arguments);if(f.rendered&&f.tabGuard){f.initTabGuards()}return d},remove:function(){var f=this,d;d=Ext.panel.Panel.prototype.remove.apply(this,arguments);if(f.rendered&&f.tabGuard){f.initTabGuards()}return d},addDocked:function(){var f=this,d;d=Ext.panel.Panel.prototype.addDocked.apply(this,arguments);if(f.rendered&&f.tabGuard){f.initTabGuards()}return d},removeDocked:function(){var f=this,d;d=Ext.panel.Panel.prototype.removeDocked.apply(this,arguments);if(f.rendered&&f.tabGuard){f.initTabGuards()}return d},onShow:function(){var c=this;Ext.panel.Panel.prototype.onShow.apply(this,arguments);if(c.expandOnShow){c.expand(false)}c.syncMonitorWindowResize();if(c.rendered&&c.tabGuard){c.initTabGuards()}},doClose:function(){var c=this;if(c.hidden){c.fireEvent("close",c);if(c.closeAction==="destroy"&&!c.destroying&&!c.destroyed){c.destroy()}}else{c.hide(c.animateTarget,c.doClose,c)}},afterHide:function(){var c=this;c.syncMonitorWindowResize();Ext.panel.Panel.prototype.afterHide.apply(this,arguments);if(c.rendered&&c.tabGuard){c.initTabGuards()}},onWindowResize:function(){var f=this,d;if(!f.destroyed){if(f.maximized){f.fitContainer()}else{d=f.getSizeModel();if(d.width.natural||d.height.natural){f.updateLayout()}f.doConstrain()}}},minimize:function(){this.fireEvent("minimize",this);return this},resumeHeaderLayout:function(c){this.header.resumeLayouts(c?this.isRootCfg:null)},afterCollapse:function(){var f=this,g=f.header,j=f.tools;if(g&&f.maximizable){g.suspendLayouts();j.maximize.hide();this.resumeHeaderLayout(true)}if(f.resizer){f.resizer.disable()}Ext.panel.Panel.prototype.afterCollapse.apply(this,arguments)},afterExpand:function(){var g=this,j=g.header,l=g.tools,k;if(j){j.suspendLayouts();if(g.maximizable){l.maximize.show();k=true}this.resumeHeaderLayout(k)}if(g.resizer){g.resizer.enable()}Ext.panel.Panel.prototype.afterExpand.apply(this,arguments)},maximize:function(v,q){var o=this,s=o.header,r=o.tools,w=o.width,n=o.height,p,u;if(!o.maximized&&!o.maximizing){o.maximizing=true;o.expand(false);if(!o.hasSavedRestore){p=o.restoreSize={width:w?w:null,height:n?n:null};if(q){o.restorePos=[o.x||0,o.y||0]}else{o.restorePos=o.getPosition()}}if(s){s.suspendLayouts();if(r.maximize){r.maximize.setType("restore")}if(o.collapseTool){o.collapseTool.hide();u=true}o.resumeHeaderLayout(u)}o.el.disableShadow();if(o.dd){o.dd.disable();if(s){s.removeCls(s.indicateDragCls)}}if(o.resizer){o.resizer.disable()}o.el.addCls("x-window-maximized");o.container.addCls("x-window-maximized-ct");o.syncMonitorWindowResize();o.fitContainer(v=(v||!!o.animateTarget)?{callback:function(){o.maximizing=false;o.maximized=true;if(!q){o.fireEvent("maximize",o)}}}:null);if(!v){o.maximizing=false;o.maximized=true;if(!q){o.fireEvent("maximize",o)}}}return o},restore:function(p){var o=this,n=o.tools,l=o.header,k=o.restoreSize,m;if(o.maximized){o.hasSavedRestore=null;o.removeCls("x-window-maximized");if(l){l.suspendLayouts();if(n.maximize){n.maximize.setType("maximize")}if(o.collapseTool){o.collapseTool.show();m=true}o.resumeHeaderLayout(m)}k.x=o.restorePos[0];k.y=o.restorePos[1];o.setBox(k,p=(p||!!o.animateTarget)?{callback:function(){o.el.enableShadow(null,true);o.maximized=false;o.fireEvent("restore",o)}}:null);o.restorePos=o.restoreSize=null;if(o.dd){o.dd.enable();if(l){l.addCls(l.indicateDragCls)}}if(o.resizer){o.resizer.enable()}o.container.removeCls("x-window-maximized-ct");o.syncMonitorWindowResize();if(!p){o.el.enableShadow(null,true);o.maximized=false;o.fireEvent("restore",o)}}return o},syncMonitorWindowResize:function(){var l=this,k=l._monitoringResize,j=l.monitorResize||l.constrain||l.constrainHeader||l.maximized,g=l.hidden||l.destroying||l.destroyed;if(j&&!g){if(!k){Ext.on("resize",l.onWindowResize,l,{buffer:1});l._monitoringResize=true}}else{if(k){Ext.un("resize",l.onWindowResize,l);l._monitoringResize=false}}},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()},createGhost:function(){var c=Ext.panel.Panel.prototype.createGhost.apply(this,arguments);c.xtype="window";c.focusOnToFront=false;return c},getDefaultFocus:function(){var k=this,l,j=k.defaultFocus,g;if(j!==undefined){if(Ext.isNumber(j)){l=k.query("button")[j]}else{if(Ext.isString(j)){g=j;if(Ext.validIdRe.test(g)){l=k.down(Ext.makeIdSelector(g))}if(!l){l=k.down(g)}}else{if(j.focus){l=j}}}}return l},privates:{initDraggable:function(){this.initSimpleDraggable()},onHeaderClick:function(g,j){var f;if(g.el.contains(j.getTarget())){f=this.getDefaultFocus();if(f){f.focus()}}},initResizable:function(d){var f=this;Ext.panel.Panel.prototype.initResizable.call(this,d);if(f.maximized||f.maximizing){f.resizer.disable()}},initSimpleDraggable:function(){var f=this,d;Ext.panel.Panel.prototype.initSimpleDraggable.call(this);d=f.dd;if(d&&f.maximized||f.maximizing){d.disable()}},onTabGuardFocusEnter:function(s,r){var q=this,x=q.el,v=q.tabGuardBeforeEl,w=q.tabGuardAfterEl,p=s.relatedTarget,y,u,o;y=x.findTabbableElements({skipSelf:true});if(y[0]===v.dom){y.shift()}if(y[y.length-1]===w.dom){y.pop()}if(y.length===0){o=x}else{if(p===x.dom){u=r===v.dom}else{if(x.contains(p)){u=!!s.forwardTab}else{u=r===v.dom}}}o=o||(u?y[0]:y[y.length-1]);if(o){o.focus()}}}},0,["window"],["component","box","container","panel","window"],{component:true,box:true,container:true,panel:true,window:true},["widget.window"],0,[Ext.window,"Window",Ext,"Window"],0));(Ext.cmd.derive("Ext.form.Labelable",Ext.Mixin,{isLabelable:true,mixinConfig:{id:"labelable",on:{beforeRender:"beforeLabelRender",onRender:"onLabelRender"}},config:{childEls:["labelEl","bodyEl","errorEl","errorWrapEl","ariaErrorEl","ariaStatusEl","ariaHelpEl","labelTextEl"]},labelableRenderTpl:["{beforeLabelTpl}",'<label id="{id}-labelEl" data-ref="labelEl" class="{labelCls} {labelCls}-{ui} {labelClsExtra} ','{childElCls} {unselectableCls}" style="{labelStyle}"','<tpl if="inputId && !skipLabelForAttribute"> for="{inputId}"</tpl>'," {labelAttrTpl}>",'<span class="{labelInnerCls} {labelInnerCls}-{ui}" style="{labelInnerStyle}">',"{beforeLabelTextTpl}",'<span id="{id}-labelTextEl" data-ref="labelTextEl" class="{labelTextCls}">','<tpl if="fieldLabel">{fieldLabel}','<tpl if="labelSeparator">{labelSeparator}</tpl>',"</tpl>","</span>","{afterLabelTextTpl}","</span>","</label>","{afterLabelTpl}",'<div id="{id}-bodyEl" data-ref="bodyEl" role="presentation"',' class="{baseBodyCls} {baseBodyCls}-{ui}<tpl if="fieldBodyCls">',' {fieldBodyCls} {fieldBodyCls}-{ui}</tpl> {growCls} {extraFieldBodyCls}"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{beforeBodyEl}","{beforeSubTpl}","{[values.$comp.getSubTplMarkup(values)]}","{afterSubTpl}","{afterBodyEl}",'<tpl if="renderAriaElements">','<tpl if="ariaHelp">','<span id="{id}-ariaHelpEl" data-ref="ariaHelpEl"',' class="x-hidden-offsets">',"{ariaHelp}","</span>","</tpl>",'<span id="{id}-ariaStatusEl" data-ref="ariaStatusEl" aria-hidden="true"',' class="x-hidden-offsets">',"{ariaStatus}","</span>",'<span id="{id}-ariaErrorEl" data-ref="ariaErrorEl" aria-hidden="true" aria-live="assertive"',' class="x-hidden-clip">',"</span>","</tpl>","</div>",'<tpl if="renderError">','<div id="{id}-errorWrapEl" data-ref="errorWrapEl" class="{errorWrapCls} {errorWrapCls}-{ui}',' {errorWrapExtraCls}" style="{errorWrapStyle}">','<div role="presentation" id="{id}-errorEl" data-ref="errorEl" ','class="{errorMsgCls} {invalidMsgCls} {invalidMsgCls}-{ui}" ','data-anchorTarget="{tipAnchorTarget}">',"</div>","</div>","</tpl>",{disableFormats:true}],activeErrorsTpl:undefined,htmlActiveErrorsTpl:['<tpl if="errors && errors.length">','<ul class="{listCls}">','<tpl for="errors"><li>{.}</li></tpl>',"</ul>","</tpl>"],plaintextActiveErrorsTpl:['<tpl if="errors && errors.length">','<tpl for="errors"><tpl if="xindex &gt; 1">\n</tpl>{.}</tpl>',"</tpl>"],ariaActiveErrorsTpl:['<tpl if="errors && errors.length">','<tpl for="errors" between=". ">{.}</tpl>',"</tpl>"],isFieldLabelable:true,formItemCls:"x-form-item",labelCls:"x-form-item-label",topLabelCls:"x-form-item-label-top",rightLabelCls:"x-form-item-label-right",labelInnerCls:"x-form-item-label-inner",labelTextCls:"x-form-item-label-text",topLabelSideErrorCls:"x-form-item-label-top-side-error",errorMsgCls:"x-form-error-msg",errorWrapCls:"x-form-error-wrap",errorWrapSideCls:"x-form-error-wrap-side",errorWrapUnderCls:"x-form-error-wrap-under",errorWrapUnderSideLabelCls:"x-form-error-wrap-under-side-label",baseBodyCls:"x-form-item-body",invalidIconCls:"x-form-invalid-icon",invalidUnderCls:"x-form-invalid-under",noLabelCls:"x-form-item-no-label",fieldBodyCls:"",extraFieldBodyCls:"",invalidCls:"x-form-invalid",fieldLabel:undefined,labelAlign:"left",labelWidth:100,labelPad:5,labelSeparator:":",hideLabel:false,hideEmptyLabel:true,preventMark:false,autoFitErrors:true,msgTarget:"qtip",msgTargets:{qtip:1,title:1,under:1,side:1,none:1},noWrap:true,ariaHelp:undefined,ariaErrorText:"Input error. {0}.",labelableInsertions:["beforeBodyEl","afterBodyEl","beforeLabelTpl","afterLabelTpl","beforeSubTpl","afterSubTpl","beforeLabelTextTpl","afterLabelTextTpl","labelAttrTpl"],statics:{initTip:function(){var j=this.tip,f,g;if(j){return}f={id:"ext-form-error-tip",ui:"form-invalid"};if(Ext.supports.Touch){f.dismissDelay=0;f.anchor="top";f.showDelay=0;f.showOnTap=true;f.listeners={beforeshow:function(){this.minWidth=Ext.fly(this.activeTarget.el).getWidth()}}}j=this.tip=Ext.create("Ext.tip.QuickTip",f);g=Ext.apply({},j.tagConfig);g.attribute="errorqtip";j.setTagConfig(g)},destroyTip:function(){this.tip=Ext.destroy(this.tip)}},initLabelable:function(){var d=this,f=d.padding;if(f){d.padding=undefined;d.extraMargins=Ext.Element.parseBox(f)}if(Ext.isIE8){d.restoreDisplay=Ext.Function.createDelayed(d.doRestoreDisplay,0,d)}if(!d.activeErrorsTpl){if(d.msgTarget==="title"){d.activeErrorsTpl=d.plaintextActiveErrorsTpl}else{d.activeErrorsTpl=d.htmlActiveErrorsTpl}}d.addCls([d.formItemCls,d.formItemCls+"-"+d.ui]);d.lastActiveError="";d.enableBubble("errorchange")},trimLabelSeparator:function(){var k=this,j=k.labelSeparator,g=k.fieldLabel||"",l=g.substr(g.length-1);return l===j?g.slice(0,-1):g},getFieldLabel:function(){return this.trimLabelSeparator()},setFieldLabel:function(r){r=r||"";var q=this,p=q.labelSeparator,s=q.labelEl,u=q.errorWrapEl,n=(q.labelAlign!=="top"),m=q.noLabelCls,o=q.errorWrapUnderSideLabelCls;q.fieldLabel=r;if(q.rendered){if(Ext.isEmpty(r)&&q.hideEmptyLabel){q.addCls(m);if(n&&u){u.removeCls(o)}}else{if(p){r=q.trimLabelSeparator()+p}q.labelTextEl.dom.innerHTML=r;q.removeCls(m);if(n&&u){u.addCls(o)}}q.updateLayout()}},setHideLabel:function(d){var f=this;if(d!==f.hideLabel){f.hideLabel=d;if(f.rendered){f[d?"addCls":"removeCls"](f.noLabelCls);f.updateLayout()}}},setHideEmptyLabel:function(f){var g=this,j;if(f!==g.hideEmptyLabel){g.hideEmptyLabel=f;if(g.rendered&&!g.hideLabel){j=f&&!g.getFieldLabel();g[j?"addCls":"removeCls"](g.noLabelCls);g.updateLayout()}}},getInsertionRenderData:function(l,k){var n=k.length,j,m;while(n--){j=k[n];m=this[j];if(m){if(typeof m!=="string"){if(!m.isTemplate){m=Ext.XTemplate.getTpl(this,j)}m=m.apply(l)}}l[j]=m||""}return l},getLabelableRenderData:function(){var B=this,x=B.labelAlign,L=(x==="top"),E=(x==="right"),H=(B.msgTarget==="side"),K=(B.msgTarget==="under"),y=B.errorMsgCls,J=B.labelPad,C=B.labelWidth,O=B.labelClsExtra||"",I=H?B.errorWrapSideCls:B.errorWrapUnderCls,P="",F="",M=B.hasVisibleLabel(),D=B.autoFitErrors,G=B.defaultBodyWidth,N,A;if(L){O+=" "+B.topLabelCls;if(J){F="padding-bottom:"+J+"px;"}if(H&&!D){O+=" "+B.topLabelSideErrorCls}}else{if(E){O+=" "+B.rightLabelCls}if(J){P+=B.getHorizontalPaddingStyle()+J+"px;"}P+="width:"+(C+(J?J:0))+"px;";F="width:"+C+"px"}if(M){if(!L&&K){I+=" "+B.errorWrapUnderSideLabelCls}}if(G){N="min-width:"+G+"px;max-width:"+G+"px;"}A={id:B.id,inputId:B.getInputId(),labelCls:B.labelCls,labelClsExtra:O,labelStyle:P+(B.labelStyle||""),labelInnerStyle:F,labelInnerCls:B.labelInnerCls,labelTextCls:B.labelTextCls,skipLabelForAttribute:!!B.skipLabelForAttribute,unselectableCls:Ext.Element.unselectableCls,bodyStyle:N,baseBodyCls:B.baseBodyCls,fieldBodyCls:B.fieldBodyCls,extraFieldBodyCls:B.extraFieldBodyCls,errorWrapCls:B.errorWrapCls,errorWrapExtraCls:I,renderError:H||K,invalidMsgCls:H?B.invalidIconCls:K?B.invalidUnderCls:"",errorMsgCls:y,growCls:B.grow?B.growCls:"",tipAnchorTarget:B.id+"-inputEl",errorWrapStyle:(H&&!D)?"visibility:hidden":"display:none",fieldLabel:B.getFieldLabel(),labelSeparator:B.labelSeparator,renderAriaElements:!!B.renderAriaElements,ariaStatus:""};if(B.ariaHelp){A.ariaHelp=Ext.String.htmlEncode(B.ariaHelp)}B.getInsertionRenderData(A,B.labelableInsertions);return A},getHorizontalPaddingStyle:function(){return"padding-right:"},beforeLabelRender:function(){var c=this;c.setFieldDefaults(c.getInherited().fieldDefaults);if(c.ownerLayout){c.addCls("x-"+c.ownerLayout.type+"-form-item")}if(!c.hasVisibleLabel()){c.addCls(c.noLabelCls)}},onLabelRender:function(){var n=this,o={},l=Ext.Element,k=n.errorWrapEl,m,p;if(k){k.setVisibilityMode((n.msgTarget==="side"&&!n.autoFitErrors)?l.VISIBILITY:l.DISPLAY)}if(n.extraMargins){m=n.el.getMargin();for(p in m){if(m.hasOwnProperty(p)){o["margin-"+p]=(m[p]+n.extraMargins[p])+"px"}}n.el.setStyle(o)}},hasVisibleLabel:function(){if(this.hideLabel){return false}return !(this.hideEmptyLabel&&!this.getFieldLabel())},getSubTplMarkup:function(){return""},getInputId:function(){return""},getActiveError:function(){return this.activeError||""},hasActiveError:function(){return !!this.getActiveError()},setActiveError:function(c){this.setActiveErrors(c)},getActiveErrors:function(){return this.activeErrors||[]},setActiveErrors:function(w){var A=this,x=A.errorWrapEl,C=A.msgTarget,D=C==="side",u=C==="qtip",s=A.ariaErrorEl,F,G,B,v,y,H,E;w=Ext.Array.from(w);B=A.lookupTpl("activeErrorsTpl");A.activeErrors=w;G=A.activeError=B.apply({fieldLabel:A.fieldLabel,errors:w,listCls:"x-list-plain"});A.renderActiveError();if(A.rendered){F=A.getActionEl();if(D){A.errorEl.dom.setAttribute("data-errorqtip",G)}else{if(u){F.dom.setAttribute("data-errorqtip",G)}else{if(C==="title"){F.dom.setAttribute("title",G)}}}if(C!=="title"&&s){y=A.lookupTpl("ariaActiveErrorsTpl");H=y.apply({errors:w});E=Ext.String.formatEncode(A.ariaErrorText,H,A.fieldLabel);if(s.dom.innerHTML!==E){s.dom.innerHTML=E}A.ariaStatusEl.dom.innerHTML=Ext.String.htmlEncode(H)}if(D||u){Ext.form.Labelable.initTip()}if(!A.msgTargets[C]){v=Ext.get(C);if(v){v.dom.innerHTML=G}}}if(x){x.setVisible(w.length>0);if(D&&A.autoFitErrors){A.labelEl.addCls(A.topLabelSideErrorCls)}A.updateLayout()}},unsetActiveError:function(){var n=this,r=n.errorWrapEl,o=n.ariaErrorEl,q=n.msgTarget,l=n.restoreDisplay,p,m;if(n.hasActiveError()){delete n.activeError;delete n.activeErrors;n.renderActiveError();if(n.rendered){p=n.getActionEl();if(q==="qtip"){p.dom.removeAttribute("data-errorqtip")}else{if(q==="title"){p.dom.removeAttribute("title")}}if(q!=="title"&&o){o.dom.innerHTML=n.ariaStatusEl.dom.innerHTML=""}if(!n.msgTargets[q]){m=Ext.get(q);if(m){m.dom.innerHTML=""}}if(r){r.hide();if(q==="side"&&n.autoFitErrors){n.labelEl.removeCls(n.topLabelSideErrorCls)}n.updateLayout();if(l){n.el.dom.style.display="block";n.restoreDisplay()}}}}},doRestoreDisplay:function(){var c=this.el;if(c&&c.dom){c.dom.style.display=""}},renderActiveError:function(){var g=this,j=g.getActiveError(),f=!!j;if(j!==g.lastActiveError){g.lastActiveError=j;g.fireEvent("errorchange",g,j)}if(g.rendered&&!g.destroyed&&!g.preventMark){g.toggleInvalidCls(f);if(g.errorEl){g.errorEl.dom.innerHTML=j}}},toggleInvalidCls:function(c){this.el[c?"addCls":"removeCls"](this.invalidCls)},setFieldDefaults:function(f){var d;for(d in f){if(!this.hasOwnProperty(d)){this[d]=f[d]}}}},0,0,0,0,0,0,[Ext.form,"Labelable"],function(){if(Ext.supports.Touch){this.prototype.msgTarget="side"}}));Ext.define("Ext.overrides.form.Labelable",{override:"Ext.form.Labelable",msgTarget:"qtip",labelAlign:"top",labelSeparator:""});(Ext.cmd.derive("Ext.form.field.Field",Ext.Base,{mixinId:"field",isFormField:true,config:{validation:null,validationField:null},disabled:false,submitValue:true,validateOnChange:true,valuePublishEvent:"change",suspendCheckChange:0,dirty:false,initField:function(){var j=this,k=j.valuePublishEvent,g,l;j.initValue();if(Ext.isString(k)){j.on(k,j.publishValue,j)}else{for(l=0,g=k.length;l<g;++l){j.on(k[l],j.publishValue,j)}}},initValue:function(){var c=this;if("value" in c){c.suspendCheckChange++;c.setValue(c.value);c.suspendCheckChange--}c.initialValue=c.originalValue=c.lastValue=c.getValue()},cleanupField:function(){delete this._ownerRecord},getFieldIdentifier:function(){return this.isEditorComponent?this.dataIndex:this.name},getName:function(){return this.name},getValue:function(){return this.value},setValue:function(f){var d=this;d.value=f;d.checkChange();return d},isEqual:function(f,d){return String(f)===String(d)},isEqualAsString:function(f,d){return String(Ext.valueFrom(f,""))===String(Ext.valueFrom(d,""))},getSubmitData:function(){var d=this,f=null;if(!d.disabled&&d.submitValue){f={};f[d.getName()]=""+d.getValue()}return f},getModelData:function(g,l){var k=this,j=null;if(!k.disabled&&(k.submitValue||!l)){j={};j[k.getFieldIdentifier()]=k.getValue()}return j},reset:function(){var c=this;c.beforeReset();c.setValue(c.originalValue);c.clearInvalid();delete c.wasValid},beforeReset:Ext.emptyFn,resetOriginalValue:function(){this.originalValue=this.getValue();this.checkDirty()},checkChange:function(){var g=this,j,f;if(!g.suspendCheckChange&&!g.destroying&&!g.destroyed){j=g.getValue();f=g.lastValue;if(g.didValueChange(j,f)){g.lastValue=j;g.fireEvent("change",g,j,f);g.onChange(j,f)}}},didValueChange:function(f,d){return !this.isEqual(f,d)},onChange:function(d){var f=this;if(f.validateOnChange){f.validate()}f.checkDirty()},publishValue:function(){var c=this;if(c.rendered&&!c.getErrors().length){c.publishState("value",c.getValue())}},isDirty:function(){var c=this;return !c.disabled&&!c.isEqual(c.getValue(),c.originalValue)},checkDirty:function(){var d=this,f=d.isDirty();if(f!==d.wasDirty){d.dirty=f;d.fireEvent("dirtychange",d,f);d.onDirtyChange(f);d.wasDirty=f}},onDirtyChange:Ext.emptyFn,getErrors:function(l){var k=[],m=this.getValidationField(),n=this.getValidation(),j;if(m){j=m.validate(l,null,null,this._ownerRecord);if(j!==true){k.push(j)}}if(n&&n!==true){k.push(n)}return k},isValid:function(){var c=this;return c.disabled||Ext.isEmpty(c.getErrors())},validate:function(){return this.checkValidityChange(this.isValid())},checkValidityChange:function(f){var d=this;if(f!==d.wasValid){d.wasValid=f;d.fireEvent("validitychange",d,f)}return f},setValidationField:function(f,d){(arguments.callee.$previous||Ext.Base.prototype.setValidationField).call(this,f);this._ownerRecord=d},batchChanges:function(c){try{this.suspendCheckChange++;c()}finally{this.suspendCheckChange--}this.checkChange()},isFileUpload:function(){return false},extractFileInput:function(){return null},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,updateValidation:function(d,f){if(f){this.validate()}},privates:{resetToInitialValue:function(){var f=this,d=f.originalValue;f.originalValue=f.initialValue;f.reset();f.originalValue=d}}},0,0,0,0,0,0,[Ext.form.field,"Field"],0));(Ext.cmd.derive("Ext.form.field.Base",Ext.Component,{alternateClassName:["Ext.form.Field","Ext.form.BaseField"],focusable:true,shrinkWrap:true,fieldSubTpl:['<input id="{id}" data-ref="inputEl" type="{type}" {inputAttrTpl}',' size="1"','<tpl if="name"> name="{name}"</tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','{%if (values.maxLength !== undefined){%} maxlength="{maxLength}"{%}%}','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',"<tpl if=\"ariaEl == 'inputEl'\">",'<tpl foreach="ariaElAttributes"> {$}="{.}"</tpl>',"</tpl>",'<tpl foreach="inputElAriaAttributes"> {$}="{.}"</tpl>',' class="{fieldCls} {typeCls} {typeCls}-{ui} {editableCls} {inputCls}" autocomplete="off"/>',{disableFormats:true}],defaultBindProperty:"value",autoEl:{role:"presentation"},subTplInsertions:["inputAttrTpl"],childEls:["inputEl"],inputType:"text",isTextInput:true,invalidText:"The value in this field is invalid",fieldCls:"x-form-field",focusCls:"form-focus",dirtyCls:"x-form-dirty",checkChangeEvents:Ext.isIE&&(!document.documentMode||document.documentMode<=9)?["change","propertychange","keyup"]:["change","input","textInput","keyup","dragdrop"],ignoreChangeRe:/data\-errorqtip|style\.|className/,checkChangeBuffer:50,liquidLayout:true,readOnly:false,readOnlyCls:"x-form-readonly",validateOnBlur:true,hasFocus:false,baseCls:"x-field",fieldBodyCls:"x-field-body",maskOnDisable:false,stretchInputElFixed:true,ariaEl:"inputEl",renderAriaElements:true,initComponent:function(){var c=this;Ext.Component.prototype.initComponent.call(this);c.subTplData=c.subTplData||{};c.initLabelable();c.initField();c.initDefaultName();if(c.readOnly){c.addCls(c.readOnlyCls)}c.addCls("x-form-type-"+c.inputType);if(c.format&&c.formatText&&!c.ariaHelp){c.ariaHelp=Ext.String.format(c.formatText,c.format)}},initDefaultName:function(){var c=this;if(!c.name){c.name=c.getInputId()}},getInputId:function(){return this.inputId||(this.inputId=this.id+"-inputEl")},getSubTplData:function(r){var p=this,n=p.id,q=p.inputType,u=p.getInputId(),o,s,m;o=Ext.apply({ui:p.ui,id:u,cmpId:n,name:p.name||u,disabled:p.disabled,readOnly:p.readOnly,value:p.getRawValue(),type:q,fieldCls:p.fieldCls,fieldStyle:p.getFieldStyle(),childElCls:r.childElCls,tabIdx:p.tabIndex,inputCls:p.inputCls,typeCls:"x-form-"+(p.isTextInput?"text":q),ariaEl:p.ariaEl},p.subTplData);if(p.ariaRole){s={};if(!p.ariaStaticRoles[p.ariaRole]){s["aria-hidden"]=!!p.hidden;s["aria-disabled"]=!!p.disabled;m={"aria-invalid":false,"aria-readonly":!!p.readOnly};if(p.ariaLabel){s["aria-label"]=Ext.String.htmlEncode(p.ariaLabel)}s=Ext.apply(s,p.getAriaAttributes());if(!s["aria-describedby"]){if(p.ariaHelp){m["aria-describedby"]=n+"-ariaStatusEl "+n+"-ariaHelpEl"}else{m["aria-describedby"]=n+"-ariaStatusEl"}}o.inputElAriaAttributes=m}if(p.ariaRole!=="native"){s.role=p.ariaRole}if(p.ariaLabel){s["aria-label"]=p.ariaLabel}if(p.format&&p.formatText&&!o.title){s.title=Ext.String.formatEncode(p.formatText,p.format)}o.ariaElAttributes=s}p.getInsertionRenderData(o,p.subTplInsertions);return o},getSubTplMarkup:function(p){var o=this,n=o.getSubTplData(p),m=o.lookupTpl("preSubTpl"),l=o.lookupTpl("postSubTpl"),k="";if(m){k+=m.apply(n)}k+=o.lookupTpl("fieldSubTpl").apply(n);if(l){k+=l.apply(n)}return k},initRenderData:function(){return Ext.applyIf(Ext.Component.prototype.initRenderData.call(this),this.getLabelableRenderData())},setFieldStyle:function(f){var j=this,g=j.inputEl;if(g){g.applyStyles(f)}j.fieldStyle=f},getFieldStyle:function(){var c=this.fieldStyle;return Ext.isObject(c)?Ext.DomHelper.generateStyles(c,null,true):c||""},onRender:function(){this.callParent(arguments);this.mixins.labelable.self.initTip();this.renderActiveError()},beforeBlur:function(c){if(this.validateOnBlur){this.validate()}},onFocusLeave:function(c){Ext.Component.prototype.onFocusLeave.call(this,c);this.completeEdit()},completeEdit:Ext.emptyFn,isFileUpload:function(){return this.inputType==="file"},getSubmitData:function(){var f=this,j=null,g;if(!f.disabled&&f.submitValue){g=f.getSubmitValue();if(g!==null){j={};j[f.getName()]=g}}return j},getSubmitValue:function(){return this.processRawValue(this.getRawValue())},getRawValue:function(){var f=this,d=(f.inputEl?f.inputEl.getValue():Ext.valueFrom(f.rawValue,""));f.rawValue=d;return d},setRawValue:function(g){var f=this,j=f.rawValue;if(!f.transformRawValue.$nullFn){g=f.transformRawValue(g)}g=Ext.valueFrom(g,"");if(j===undefined||j!==g){f.rawValue=g;if(f.inputEl){f.bindChangeEvents(false);f.inputEl.dom.value=g;f.bindChangeEvents(true)}}if(f.rendered&&f.reference){f.publishState("rawValue",g)}return g},transformRawValue:Ext.identityFn,valueToRaw:function(c){return""+Ext.valueFrom(c,"")},rawToValue:Ext.identityFn,processRawValue:Ext.identityFn,getValue:function(){var d=this,f=d.rawToValue(d.processRawValue(d.getRawValue()));d.value=f;return f},setValue:function(f){var d=this;d.setRawValue(d.valueToRaw(f));return d.mixins.field.setValue.call(d,f)},onBoxReady:function(){var c=this;Ext.Component.prototype.onBoxReady.apply(this,arguments);if(c.setReadOnlyOnBoxReady){c.setReadOnly(c.readOnly)}},onDisable:function(){var d=this,f=d.inputEl;Ext.Component.prototype.onDisable.call(this);if(f){f.dom.disabled=true;if(d.hasActiveError()){d.clearInvalid();d.hadErrorOnDisable=true}}if(d.wasValid===false){d.checkValidityChange(true)}},onEnable:function(){var l=this,k=l.inputEl,j=l.preventMark,g;Ext.Component.prototype.onEnable.call(this);if(k){k.dom.disabled=false}if(l.wasValid!==undefined){l.forceValidation=true;l.preventMark=!l.hadErrorOnDisable;g=l.isValid();l.forceValidation=false;l.preventMark=j;l.checkValidityChange(g)}delete l.hadErrorOnDisable},setReadOnly:function(j){var l=this,k=l.inputEl,g=l.readOnly;j=!!j;l[j?"addCls":"removeCls"](l.readOnlyCls);l.readOnly=j;if(k){k.dom.readOnly=j;k.dom.setAttribute("aria-readonly",j)}else{if(l.rendering){l.setReadOnlyOnBoxReady=true}}if(j!==g){l.fireEvent("writeablechange",l,j)}},fireKey:function(f,d){if(f.isSpecialKey()){this.fireEvent("specialkey",this,f,d)}},initEvents:function(){var o=this,m=o.inputEl,n=o.onFieldMutation,q=o.checkChangeEvents,l=q.length,r,p;if(m){o.mon(m,Ext.supports.SpecialKeyDownRepeat?"keydown":"keypress",o.fireKey,o);for(r=0;r<l;++r){p=q[r];if(p==="propertychange"){o.usesPropertychange=true}if(p==="textInput"){o.usesTextInput=true}o.mon(m,p,n,o)}}Ext.Component.prototype.initEvents.call(this)},onFieldMutation:function(c){if(!this.readOnly&&!(c.type==="propertychange"&&this.ignoreChangeRe.test(c.browserEvent.propertyName))){this.startCheckChangeTask()}},startCheckChangeTask:function(){var f=this,d=f.checkChangeTask;if(!d){f.checkChangeTask=d=new Ext.util.DelayedTask(f.doCheckChangeTask,f)}if(!f.bindNotifyListener){f.bindNotifyListener=Ext.on("beforebindnotify",f.onBeforeNotify,f,{destroyable:true})}d.delay(f.checkChangeBuffer)},doCheckChangeTask:function(){var c=this.bindNotifyListener;if(c){c.destroy();this.bindNotifyListener=null}this.checkChange()},publishValue:function(){var c=this;if(c.rendered&&!c.getErrors().length){c.publishState("value",c.getValue())}},onDirtyChange:function(f){var d=this;d[f?"addCls":"removeCls"](d.dirtyCls);if(d.rendered&&d.reference){d.publishState("dirty",f)}},isValid:function(){var j=this,f=j.disabled,g=j.forceValidation||!f;return g?j.validateValue(j.processRawValue(j.getRawValue())):f},validateValue:function(l){var g=this,j=g.getErrors(l),k=Ext.isEmpty(j);if(!g.preventMark){if(k){g.clearInvalid()}else{g.markInvalid(j)}}return k},markInvalid:function(j){var l=this,g=l.getActiveError(),k;l.setActiveErrors(Ext.Array.from(j));k=l.getActiveError();if(g!==k){l.setError(k);if(!l.ariaStaticRoles[l.ariaRole]&&l.inputEl){l.inputEl.dom.setAttribute("aria-invalid",true)}}},clearInvalid:function(){var f=this,d=f.hasActiveError();delete f.hadErrorOnDisable;f.unsetActiveError();if(d){f.setError("");if(!f.ariaStaticRoles[f.ariaRole]&&f.inputEl){f.inputEl.dom.setAttribute("aria-invalid",false)}}},setError:function(g){var k=this,l=k.msgTarget,j;if(k.rendered){if(l==="title"||l==="qtip"){j=l==="qtip"?"data-errorqtip":"title";k.getActionEl().dom.setAttribute(j,g||"")}else{k.updateLayout()}}},renderActiveError:function(){var g=this,j=g.hasActiveError(),f=g.invalidCls+"-field";if(g.inputEl){g.inputEl[j?"addCls":"removeCls"]([f,f+"-"+g.ui])}g.mixins.labelable.renderActiveError.call(g)},doDestroy:function(){var f=this,d=f.checkChangeTask;if(d){d.cancel()}Ext.destroy(f.bindNotifyListener);f.cleanupField();Ext.Component.prototype.doDestroy.call(this)},privates:{applyBind:function(l,o){var p=this,k=o&&o.value,m,n;m=Ext.Component.prototype.applyBind.call(this,l,o);if(m){n=m.value;p.hasBindingValue=!!n;if(n!==k&&p.getInherited().modelValidation){p.updateValueBinding(m)}}return m},applyRenderSelectors:function(){var c=this;Ext.Component.prototype.applyRenderSelectors.call(this);if(!c.inputEl){c.inputEl=c.el.getById(c.getInputId())}},bindChangeEvents:function(j){var g=j?"resumeEvent":"suspendEvent",f=this.inputEl;if(this.usesPropertychange){f[g]("propertychange")}if(this.usesTextInput){f[g]("textInput")}},getActionEl:function(){return this.inputEl||this.el},getFocusEl:function(){return this.inputEl},initRenderTpl:function(){var c=this;if(!c.hasOwnProperty("renderTpl")){c.renderTpl=c.lookupTpl("labelableRenderTpl")}return Ext.Component.prototype.initRenderTpl.call(this)},onBeforeNotify:function(){this.checkChangeTask.cancel();this.checkChange()},updateValueBinding:function(j){var k=this,l=j.value,g=j.$fieldBinding;if(g){g.destroy();j.$fieldBinding=null}if(l&&l.bindValidationField){k.fieldBinding=l.bindValidationField("setValidationField",k)}}},deprecated:{"5":{methods:{doComponentLayout:function(){this.bindChangeEvents(false);this.callParent(arguments);this.bindChangeEvents(true)}}}}},0,["field"],["component","box","field"],{component:true,box:true,field:true},["widget.field"],[[Ext.form.Labelable.prototype.mixinId||Ext.form.Labelable.$className,Ext.form.Labelable],[Ext.form.field.Field.prototype.mixinId||Ext.form.field.Field.$className,Ext.form.field.Field]],[Ext.form.field,"Base",Ext.form,"Field",Ext.form,"BaseField"],0));Ext.define("Ext.overrides.form.field.Base",{override:"Ext.form.field.Base",msgTarget:"qtip",labelAlign:"top",labelSeparator:"",doSpecialKey:true,useLabelBold:false,setTextAlign:false,useUpperCase:false,useLocalMask:false,returnWithMask:false,maskRel:{m:"99",d:"99",n:"99",j:"99",s:"99",i:"99",H:"99",Y:"9999"},initComponent:function(){var c=this;(arguments.callee.$previous||Ext.Component.prototype.initComponent).call(this);c.setLabelBold(c.useLabelBold);if(c.getXType()=="displayfield"){return false}c.onAfter("specialkey",c.fnSpecialKey,c);c.onAfter("afterrender",c.fnAfterRender,c);c.date=c.getXType()=="datefield";c.time=c.getXType()=="timefield";if(c.useLocalMask==true||c.date==true||c.time==true){if(c.date||c.time){c.mask="";Ext.each(c.format.split(""),function(b){c.mask+=c.maskRel[b]||b},c)}c.textMask=new c.maskCore(c.mask,c.money);c.emptyText=c.textMask.mask("");if(c.date||c.time){c.altFormats=c.date?"d|dm|dmY|d/m|d-m|d/m/Y|d-m-Y|Y-m-d|Y-m-dTg:i:s":"H:i|Hi";c.setValue=c.setDateValue}else{c.setValue=c.maskSetValue}c.getValue=c.maskGetValue;c.onAfter("afterrender",c.maskAfterRender,c)}},fnAfterRender:function(g,f){var j=this;if(j.setTextAlign){j.inputEl.setStyle("text-align",j.setTextAlign)}if(j.useUpperCase){g.mon(g.el,"keyup",function(){this.setValue(this.getValue().toUpperCase())},g)}},fnSpecialKey:function(k,l,j){var m=this;if(m.doSpecialKey==true&&l.getKey()==l.ENTER){var n=k.next("[isFormField]");if(n){l.stopEvent();n.focus()}}},setLabelBold:function(g){var j=this,f="font-weight: bold;";if(g){j.labelStyle=j.labelStyle?(j.labelStyle+f):f}},maskCore:Ext.define("MaskCore",{constructor:function(d,f){this.money=f==true;this.setMask(d)},blankChar:"_",money:false,moneyZeros:0,moneyPrecision:0,specialChars:{L:/^[A-Z]$/,l:/^[a-z]$/,"9":/^[0-9]$/,A:/^[A-Za-z]$/,_:/^.$/},mask:function(c){return this.money?this.maskMoney(c):this.maskNormal(c)},maskNormal:function(j){j=this.unmask(j);j=j.split("");var f="";var g=0;Ext.each(this.maskList,function(b){if(Ext.isString(b)){f+=b}else{if(j[g]&&b.test(j[g])){f+=j[g]}else{f+=this.blankChar}g++}},this);return f},maskMoney:function(o){o=String(this.unmask(o));var m=false;if(o.indexOf("-")>=0){m=true;o=o.replace(new RegExp("[-]","g"),"")}if(Math.round(o)!==o){o=Math.round(Number(Ext.num(o,0))*Number("1"+Ext.String.leftPad("",this.moneyPrecision,"0")))}o=Ext.String.leftPad(Number(Ext.num(o,0)),this.moneyZeros,"0");o=o.split("");var k="";var n=o.length-1;var p=this.maskList.length-1;while(n>=0){var l=this.maskList[p];if(p>=0){if(Ext.isString(l)){k=l+k}else{if(o[n]&&l.test(o[n])){k=o[n]+k}else{k="0"+k}n--}p--}else{if(this.specialChars["9"].test(o[n])){k=o[n]+k}n--}}if(this.textMask.indexOf("#")>=0){k=this.textMask.slice(0,this.textMask.indexOf("#"))+(m?"-":"")+k}return k},unmask:function(c){c=c===undefined?"":c;return this.money?this.unmaskMoney(c):this.unmaskNormal(c)},unmaskNormal:function(m){m=String(m);var n="";Ext.iterate(this.specialChars,function(b){n+=b});var k=this.textMask.replace(new RegExp("["+n+"]","g"),"");m=m.replace(new RegExp("["+k+"]","g"),"");m=m.split("");var j="";var l=0;Ext.each(this.maskList,function(b){if(!Ext.isString(b)){if(m[l]&&b.test(m[l])){j+=m[l]}l++}},this);return j},unmaskMoney:function(p){p=String(p);if(p.indexOf("+")>=0){p=p.replace(new RegExp("[-]","g"),"")}var o=p.indexOf("-")>=0;var s=p.lastIndexOf(".");if(s===-1){s=0}else{s=p.length-s-1}if(s>this.moneyPrecision){p=p.slice(0,-(s-this.moneyPrecision));s=this.moneyPrecision}var w="";Ext.iterate(this.specialChars,function(b){w+=b});var q=this.textMask.replace(new RegExp("["+w+"]","g"),"");p=p.replace(new RegExp("["+q+"]","g"),"");p=p.split("");var v="";var u=p.length-1;var r=this.maskList.length-1;while(u>=0){if(r>=0){var m=this.maskList[r];if(!Ext.isString(m)){if(p[u]&&m.test(p[u])){v=p[u]+v}u--}r--}else{if(p[u]&&this.specialChars["9"].test(p[u])){v=p[u]+v}u--}}v=this.parsePrecision(v,s);if(o){v="-"+v}return String(v)},parsePrecision:function(j,f){j=String(j);var g=j.indexOf("-")>=0?"-":"";j=j+Ext.String.leftPad("",this.moneyPrecision-f,"0");if(this.moneyPrecision>0){j=Ext.String.leftPad(j,this.moneyPrecision+1,"0");return g+String(Ext.num(j.slice(0,-this.moneyPrecision),0))+"."+j.slice(-this.moneyPrecision)}else{return g+j}},parseMask:function(j){var k=[];if(this.money){this.moneyZeros=0;while(j.indexOf("0")>=0){j=j.replace("0","9");this.moneyZeros++}this.moneyPrecision=Math.min(j.length-Math.max(j.lastIndexOf("."),j.lastIndexOf(","))-1,j.length)}Ext.each(j.match(/<![^<][^!]*!>/g),function(b){k.push(new RegExp("^"+b.replace(/(<!)|(!>)/g,"")+"$",""))});j=j.replace(/<![^<][^!]*!>/g,"?");this.textMask=j;if(this.money){j=j.slice(j.indexOf("#")+1)}this.maskList=[];var n=0;var l=j.split("");for(var m=0;m<l.length;m++){if(l[m]==="?"){this.maskList.push(k[n]);n++}else{this.maskList.push(this.specialChars[l[m]]||l[m])}}return this.maskList},getLength:function(d){d=this.mask(d);var f=d.indexOf(this.blankChar);if(f===-1){f=d.length}return f},setMask:function(c){if(!Ext.isEmpty(c)&&c!==this.oldMask){this.oldMkask=c;this.parseMask(c)}else{if(Ext.isEmpty(this.oldMask)){this.parseMask("")}}return this}}),maskAfterRender:function(){if(this.money){this.inputEl.setStyle("text-align","right")}this.hiddenField=this.inputEl.insertSibling({tag:"input",type:"hidden",name:this.name,value:this.textMask.mask(this.value)},"after");this.hiddenName=this.name;this.enableKeyEvents=true;this.inputEl.on({keypress:this.updateHidden,keydown:function(c){if(this.readOnly){return false}if(c.getKey()===c.BACKSPACE){if(this.money){this.hiddenField.dom.value=this.hiddenField.dom.value.substr(0,this.hiddenField.dom.value.length-1);this.hiddenField.dom.value=this.hiddenField.dom.value.replace(/[.]/g,"");this.hiddenField.dom.value=this.textMask.parsePrecision(this.hiddenField.dom.value,this.textMask.moneyPrecision);this.hiddenField.dom.value=this.textMask.unmask(this.hiddenField.dom.value)}else{this.hiddenField.dom.value=this.hiddenField.dom.value.substr(0,this.hiddenField.dom.value.length-1)}this.updateHidden(c)}this.keyDownEventKey=c.getKey()},keyup:this.simpleUpdateHidden,scope:this});this.inputEl.value=this.textMask.mask(this.hiddenField.dom.value);this.setValue(this.value);delete this.emptyText},getKeyCode:function(j,g){var f={};if(this.readOnly){return false}f.unicode=j.getKey();f.isShiftPressed=j.shiftKey;f.isDelete=((j.getKey()===Ext.EventObject.DELETE&&g==="keydown")||(g==="keypress"&&j.charCode===0&&j.keyCode===Ext.EventObject.DELETE))?true:false;f.isTab=(j.getKey()===Ext.EventObject.TAB)?true:false;f.isBackspace=(j.getKey()===Ext.EventObject.BACKSPACE)?true:false;f.isLeftOrRightArrow=(j.getKey()===Ext.EventObject.LEFT||j.getKey()===Ext.EventObject.RIGHT)?true:false;f.pressedKey=String.fromCharCode(f.unicode);return(f)},updateHidden:function(k){if(this.readOnly||!this.useLocalMask&&(!this.date&&!this.time)){return false}var g=this.getKeyCode(k,"keydown");var l=this.keyDownEventKey||k.getKey();if(!(l>=k.F1&&l<=k.F12)&&!k.isNavKeyPress()){if(this.inputEl.dom.selectionStart===0&&this.inputEl.selectionEnd===this.inputEl.dom.value.length){this.hiddenField.dom.value=this.money?0:""}if(!g.isBackspace){if(this.money){this.hiddenField.dom.value=String(this.hiddenField.dom.value)+String(g.pressedKey);this.hiddenField.dom.value=this.hiddenField.dom.value.replace(/[.]/g,"");this.hiddenField.dom.value=this.textMask.parsePrecision(this.hiddenField.dom.value,this.textMask.moneyPrecision);this.hiddenField.dom.value=this.textMask.unmask(this.hiddenField.dom.value)}else{var j=this.hiddenField.dom.value==="undefined"?g.pressedKey:this.hiddenField.dom.value+g.pressedKey;this.hiddenField.dom.value=this.textMask.unmask(j)}}this.inputEl.dom.value=this.textMask.mask(this.hiddenField.dom.value);this.inputEl.dom.selectionStart=this.textMask.getLength(this.hiddenField.dom.value);this.inputEl.dom.selectionEnd=this.inputEl.dom.selectionStart;k.preventDefault()}},simpleUpdateHidden:function(c){if(this.readOnly||this.useLocalMask||this.date||this.time){return false}this.hiddenField.dom.value=this.inputEl.value},getValueWithMask:function(){if(this.hiddenField){return this.inputEl.value}else{return""}},getValueWithoutMask:function(){if(this.hiddenField){return this.hiddenField.dom.value}else{return""}},getRawValue:function(){return this.returnWithMask?this.getValueWithMask():arguments.callee.$previous.call(this)},maskGetValue:function(){if(this.returnWithMask){return this.getValueWithMask()}else{return this.getValueWithoutMask()}},maskSetValue:function(c){if(this.useLocalMask){if(this.inputEl){this.hiddenField.dom.value=this.textMask.unmask(c);this.inputEl.value=this.textMask.mask(c)}this.value=this.textMask.unmask(c)}else{if(this.inputEl){this.hiddenField.dom.value=c;this.inputEl.value=c}this.value=c}},setDateValue:function(c){if(c==="now"){c=new Date()}if(this.inputEl){c=this.formatDate(this.parseDate(c));this.hiddenField.dom.value=c;this.inputEl.value=this.textMask.mask(c)}this.value=c},setMask:function(c){this.textMask.setMask(c);this.setValue(this.hiddenField.dom.value)},getSubmitData:function(){var f=this,j=null,g;if(!f.disabled&&f.submitValue&&!f.isFileUpload()){g=f.getValue();if(g!==null&&(f.date||f.time)){j={};j[f.getName()]=Ext.util.Format.date(Ext.Date.parse(g,f.format),f.submitFormat)}else{j=arguments.callee.$previous.call(this)}}return j}});(Ext.cmd.derive("Ext.form.field.VTypes",Ext.Base,(function(){var k=/^[a-zA-Z_]+$/,j=/^[a-zA-Z0-9_]+$/,l=/^(")?(?:[^\."\s])(?:(?:[\.])?(?:[\w\-!#$%&'*+/=?^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,g=/(((^https?)|(^ftp)):\/\/((([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*)|(localhost|LOCALHOST))\/?)/i;return{singleton:true,alternateClassName:"Ext.form.VTypes",email:function(b){return l.test(b)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[\w.\-@'"!#$%&'*+/=?^_`{|}~]/i,url:function(b){return g.test(b)},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(b){return k.test(b)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(b){return j.test(b)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}()),0,0,0,0,0,0,[Ext.form.field,"VTypes",Ext.form,"VTypes"],0));Ext.define("Ext.overrides.form.field.VTypes",{override:"Ext.form.field.VTypes",time:function(f,d){return/^\s*([01]?\d|2[0-3]):?([0-5]\d)\s*$/.test(f)},timeText:'N&#227o &#233 um hor&#225rio v&#225lido. Deve estar no formato "23:59"',timeMask:/[\d\s:amp]/i,IPAddress:function(f,d){return/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/.test(f)},IPAddressText:"Deve ser um endere&#231o IP num&#233rico",IPAddressMask:/[\d\.]/i,cpf:function(k,l){var j,g;j=0;if(k=="00000000000"){return false}if(k=="11111111111"){return false}for(i=1;i<=9;i++){j=j+parseInt(k.substring(i-1,i))*(11-i)}g=(j*10)%11;if((g==10)||(g==11)){g=0}if(g!=parseInt(k.substring(9,10))){return false}j=0;for(i=1;i<=10;i++){j=j+parseInt(k.substring(i-1,i))*(12-i)}g=(j*10)%11;if((g==10)||(g==11)){g=0}if(g!=parseInt(k.substring(10,11))){return false}return true},cpfText:'Sem CPF v&#225lido. Deve ser um CPF no formato "000.000.000-00"',daterange:function(l,m){var n=m.parseDate(l);if(!n){return}if(m.startDateField&&(!this.dateRangeMax||(n.getTime()!=this.dateRangeMax.getTime()))){var k=Ext.getCmp(m.startDateField);k.setMaxValue(n);k.validate();this.dateRangeMax=n}else{if(m.endDateField&&(!this.dateRangeMin||(n.getTime()!=this.dateRangeMin.getTime()))){var j=Ext.getCmp(m.endDateField);j.setMinValue(n);j.validate();this.dateRangeMin=n}}return true},timerange:function(l,m){var n=m.parseDate(l);if(!n){return}if(m.startTimeField&&(!this.timeRangeMax||(n.getTime()!=this.timeRangeMax.getTime()))){var k=Ext.getCmp(m.startTimeField);k.maxValue=n;k.validate();this.timeRangeMax=n}else{if(m.endTimeField&&(!this.timeRangeMin||(n.getTime()!=this.timeRangeMin.getTime()))){var j=Ext.getCmp(m.endTimeField);j.minValue=n;j.validate();this.timeRangeMin=n}}return true}});(Ext.cmd.derive("Ext.form.trigger.Trigger",Ext.Base,{factoryConfig:{defaultType:"trigger"},repeatClick:false,hidden:false,hideOnReadOnly:undefined,tooltip:null,weight:0,preventMouseDown:true,focusOnMousedown:false,baseCls:"x-form-trigger",focusCls:"x-form-trigger-focus",overCls:"x-form-trigger-over",clickCls:"x-form-trigger-click",validIdRe:Ext.validIdRe,renderTpl:['<div id="{triggerId}" class="{baseCls} {baseCls}-{ui} {cls} {cls}-{ui} {extraCls} ','{childElCls}"<tpl if="triggerStyle"> style="{triggerStyle}"</tpl>','<tpl if="ariaRole"> role="{ariaRole}"<tpl else> role="presentation"</tpl>',">","{[values.$trigger.renderBody(values)]}","</div>"],statics:{weightComparator:function(d,f){return d.weight-f.weight}},constructor:function(j){var g=this,f;Ext.apply(g,j);if(g.compat4Mode){f=g.cls;g.focusCls=[g.focusCls,f+"-focus"];g.overCls=[g.overCls,f+"-over"];g.clickCls=[g.clickCls,f+"-click"]}},afterFieldRender:function(){var d=this,f=d.tooltip;d.initEvents();if(f){d.tooltip=null;d.setTooltip(f)}},destroy:function(){var c=this;c.clickRepeater=c.el=Ext.destroy(c.clickRepeater,c.el);c.callParent()},getBodyRenderData:Ext.emptyFn,getEl:function(){return this.el||null},getStateEl:function(){return this.el},hide:function(){var f=this,d=f.el;f.hidden=true;if(d){d.hide()}},initEvents:function(){var j=this,g=j.isFieldEnabled,k=j.getStateEl(),l=j.el;k.addClsOnOver(j.overCls,g,j);k.addClsOnClick(j.clickCls,g,j);if(j.repeatClick){j.clickRepeater=new Ext.util.ClickRepeater(l,{preventDefault:true,handler:j.onClick,listeners:{mousedown:j.onClickRepeaterMouseDown,mouseup:j.onClickRepeaterMouseUp,scope:j},scope:j})}else{j.field.mon(l,{click:j.onClick,mousedown:j.onMouseDown,scope:j})}},isFieldEnabled:function(){return !this.field.disabled},isVisible:function(){var f=this,g=f.field,j=false;if(f.hidden||!g||!f.rendered||f.destroyed){j=true}return !j},onClick:function(){var m=this,j=arguments,k=m.clickRepeater?j[1]:j[0],n=m.handler,l=m.field;if(n&&!l.readOnly&&m.isFieldEnabled()){Ext.callback(m.handler,m.scope,[l,m,k],0,l)}},resolveListenerScope:function(c){return this.field.resolveSatelliteListenerScope(this,c)},onMouseDown:function(c){if(c.pointerType!=="touch"&&(!this.field.containsFocus||this.focusOnMousedown)){this.field.focus()}if(this.preventMouseDown){c.preventDefault()}},onClickRepeaterMouseDown:function(f,d){if(!d.parentEvent||d.parentEvent.type==="mousedown"){this.field.inputEl.focus()}d.preventDefault()},onClickRepeaterMouseUp:function(g){var f=this,j=f.field;Ext.callback(f.endHandler,f.scope,[j,f,g],0,j)},onFieldBlur:function(){this.getStateEl().removeCls(this.focusCls)},onFieldFocus:function(){this.getStateEl().addCls(this.focusCls)},onFieldRender:function(){var f=this,d=f.el=f.field.triggerWrap.selectNode("#"+f.domId,false);d.setVisibilityMode(Ext.Element.DISPLAY);f.rendered=true},renderBody:function(j){var f=this,g=f.bodyTpl;Ext.apply(j,f.getBodyRenderData());return g?Ext.XTemplate.getTpl(f,"bodyTpl").apply(j):""},renderTrigger:function(g){var k=this,l=k.width,j=k.hidden?"display:none;":"";if(l){j+="width:"+l}return Ext.XTemplate.getTpl(k,"renderTpl").apply({$trigger:k,fieldData:g,ui:g.ui,childElCls:g.childElCls,triggerId:k.domId=k.field.id+"-trigger-"+k.id,cls:k.cls,triggerStyle:j,extraCls:k.extraCls,baseCls:k.baseCls,ariaRole:k.ariaRole})},setHidden:function(c){if(c!==this.hidden){this[c?"hide":"show"]()}},setTooltip:function(k){var l=this,g=l.el,j=l.tooltip;if(k!==j){l.tooltip=k;if(g){g.dom.setAttribute("data-qtip",Ext.htmlEncode(k))}}},setVisible:function(c){this.setHidden(!c)},show:function(){var f=this,d=f.el;f.hidden=false;if(d){d.show()}}},1,0,0,0,["trigger.trigger"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.form.trigger,"Trigger"],0));(Ext.cmd.derive("Ext.form.field.Text",Ext.form.field.Base,{alternateClassName:["Ext.form.TextField","Ext.form.Text"],config:{hideTrigger:false,triggers:undefined},renderConfig:{editable:true},growMin:30,growMax:800,growAppend:"W",allowBlank:true,validateBlank:false,allowOnlyWhitespace:true,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",blankText:"This field is required",regexText:"",emptyText:"",emptyCls:"x-form-empty-field",placeholderCoverCls:"x-placeholder-label",requiredCls:"x-form-required-field",ariaRole:"textbox",repeatTriggerClick:false,triggerWrapCls:"x-form-trigger-wrap",triggerWrapFocusCls:"x-form-trigger-wrap-focus",triggerWrapInvalidCls:"x-form-trigger-wrap-invalid",fieldBodyCls:"x-form-text-field-body",inputWrapCls:"x-form-text-wrap",inputWrapFocusCls:"x-form-text-wrap-focus",inputWrapInvalidCls:"x-form-text-wrap-invalid",growCls:"x-form-text-grow",emptyClsElements:null,needArrowKeys:true,squashMouseUp:{mouseup:function(c){if(this.selectOnFocus){this.inputEl.dom.select()}},translate:false,single:true,preventDefault:true},childEls:["triggerWrap","inputWrap","placeholderLabel"],preSubTpl:['<div id="{cmpId}-triggerWrap" data-ref="triggerWrap"',"<tpl if=\"ariaEl == 'triggerWrap'\">",'<tpl foreach="ariaElAttributes"> {$}="{.}"</tpl>',"<tpl else>",' role="presentation"',"</tpl>",' class="{triggerWrapCls} {triggerWrapCls}-{ui}">','<div id={cmpId}-inputWrap data-ref="inputWrap"',' role="presentation" class="{inputWrapCls} {inputWrapCls}-{ui}">'],postSubTpl:['<tpl if="!Ext.supports.Placeholder">','<label id="{cmpId}-placeholderLabel" data-ref="placeholderLabel" for="{id}" class="{placeholderCoverCls} {placeholderCoverCls}-{ui}">{placeholder}</label>',"</tpl>","</div>",'<tpl for="triggers">{[values.renderTrigger(parent)]}</tpl>',"</div>"],initComponent:function(){var f=this,d=f.emptyCls;if(f.allowOnlyWhitespace===false){f.allowBlank=false}if(f.size){f.defaultBodyWidth=f.size*6.5+20}if(!f.onTrigger1Click){f.onTrigger1Click=f.onTriggerClick}Ext.form.field.Base.prototype.initComponent.call(this);if(f.readOnly){f.setReadOnly(f.readOnly)}f.fieldFocusCls=f.baseCls+"-focus";f.emptyUICls=d+" "+d+"-"+f.ui;f.addStateEvents("change")},initEvents:function(){var f=this,d=f.inputEl;Ext.form.field.Base.prototype.initEvents.call(this);if(f.selectOnFocus||f.emptyText){f.mon(d,"mousedown",f.onMouseDown,f)}if(f.maskRe||(f.vtype&&f.disableKeyFilter!==true&&(f.maskRe=Ext.form.field.VTypes[f.vtype+"Mask"]))){f.mon(d,"keypress",f.filterKeys,f)}if(f.enableKeyEvents){f.mon(d,{scope:f,keyup:f.onKeyUp,keydown:f.onKeyDown,keypress:f.onKeyPress})}},isEqual:function(f,d){return this.isEqualAsString(f,d)},onChange:function(f,d){Ext.form.field.Base.prototype.onChange.call(this,f,d);this.autoSize()},getSubTplData:function(s){var r=this,p=r.getRawValue(),n=r.emptyText&&p.length<1,m=r.maxLength,o,q,u;if(r.enforceMaxLength){if(m===Number.MAX_VALUE){m=undefined}}else{m=undefined}if(r.emptyText){o=r.emptyText}q=Ext.apply(Ext.form.field.Base.prototype.getSubTplData.call(this,s),{triggerWrapCls:r.triggerWrapCls,inputWrapCls:r.inputWrapCls,placeholderCoverCls:r.placeholderCoverCls,triggers:r.orderedTriggers,maxLength:m,readOnly:!r.editable||r.readOnly,placeholder:o,value:p,fieldCls:r.fieldCls+(r.allowBlank?"":" "+r.requiredCls)+(n?" "+r.emptyUICls:"")});u=q.inputElAriaAttributes;if(u){u["aria-required"]=!r.allowBlank}return q},onRender:function(){var l=this,g=l.getTriggers(),k=[],j;if(Ext.supports.FixedTableWidthBug){l.el._needsTableWidthFix=true}(arguments.callee.$previous||Ext.form.field.Base.prototype.onRender).call(this);if(g){this.invokeTriggers("onFieldRender");for(j in g){k.push(g[j].el)}l.triggerEl=l.triggerCell=new Ext.CompositeElement(k,true)}l.inputCell=l.inputWrap},afterRender:function(){var c=this;c.autoSize();Ext.form.field.Base.prototype.afterRender.call(this);c.invokeTriggers("afterFieldRender");c.emptyClsElements=[c.inputEl]},onMouseDown:function(){if(!this.hasFocus){this.squashMouseUp.scope=this;Ext.getDoc().on(this.squashMouseUp)}},applyTriggers:function(u){var s=this,y=s.getHideTrigger(),q=s.readOnly,p=s.orderedTriggers=[],r=s.repeatTriggerClick,A,v,x,B,w;if(!u){u={};if(s.triggerCls&&!s.trigger1Cls){s.trigger1Cls=s.triggerCls}for(w=1;(B=s["trigger"+w+"Cls"]);w++){u["trigger"+w]={cls:B,extraCls:"x-trigger-index-"+w,handler:"onTrigger"+w+"Click",compat4Mode:true,scope:s}}}for(A in u){if(u.hasOwnProperty(A)){v=u[A];v.field=s;v.id=A;if((q&&v.hideOnReadOnly!==false)||(y&&v.hidden!==false)){v.hidden=true}if(r&&(v.repeatClick!==false)){v.repeatClick=true}x=u[A]=Ext.form.trigger.Trigger.create(v);p.push(x)}}Ext.Array.sort(p,Ext.form.trigger.Trigger.weightComparator);return u},invokeTriggers:function(k,o){var m=this,n=m.getTriggers(),l,p;if(n){for(l in n){if(n.hasOwnProperty(l)){p=n[l];p[k].apply(p,o||[])}}}},getTrigger:function(c){return this.getTriggers()[c]},updateHideTrigger:function(c){this.invokeTriggers(c?"hide":"show")},updateEditable:function(d,f){this.setReadOnlyAttr(!d||this.readOnly)},setReadOnly:function(l){var n=this,o=n.getTriggers(),p=n.getHideTrigger(),k,m;l=!!l;Ext.form.field.Base.prototype.setReadOnly.call(this,l);if(n.rendered){n.setReadOnlyAttr(l||!n.editable)}if(o){for(m in o){k=o[m];if(k.hideOnReadOnly===true||(k.hideOnReadOnly!==false&&!p)){k.setVisible(!l)}}}},setReadOnlyAttr:function(j){var l=this,g="readonly",k=l.inputEl.dom;if(j){k.setAttribute(g,g)}else{k.removeAttribute(g)}if(!l.ariaStaticRoles[l.ariaRole]){l.inputEl.dom.setAttribute("aria-readonly",!!j)}},processRawValue:function(m){var n=this,k=n.stripCharsRe,j,l;if(k){if(!k.global){j="g";j+=(k.ignoreCase)?"i":"";j+=(k.multiline)?"m":"";k=new RegExp(k.source,j)}l=m.replace(k,"");if(l!==m){n.setRawValue(l);if(n.lastValue===m){n.lastValue=l}m=l}}return m},onDisable:function(){Ext.form.field.Base.prototype.onDisable.call(this);if(Ext.isIE){this.inputEl.dom.unselectable="on"}},onEnable:function(){Ext.form.field.Base.prototype.onEnable.call(this);if(Ext.isIE){this.inputEl.dom.unselectable=""}},onKeyDown:function(c){this.fireEvent("keydown",this,c)},onKeyUp:function(c){this.fireEvent("keyup",this,c)},onKeyPress:function(c){this.fireEvent("keypress",this,c)},getEmptyText:function(){return this.emptyText},setEmptyText:function(j){var f=this,g=f.inputEl;j=j||"";f.emptyText=j;if(f.rendered){if(Ext.supports.Placeholder&&!f.simulatePlaceholder){if(j){g.dom.setAttribute("placeholder",j)}else{g.dom.removeAttribute("placeholder")}}else{f.placeholderLabel.setHtml(j)}f.refreshEmptyText()}return this},afterFirstLayout:function(){Ext.form.field.Base.prototype.afterFirstLayout.call(this);if(Ext.isIE&&this.disabled){var c=this.inputEl;if(c){c.dom.unselectable="on"}}},toggleInvalidCls:function(d){var f=d?"addCls":"removeCls";Ext.form.field.Base.prototype.toggleInvalidCls.call(this,d);this.triggerWrap[f](this.triggerWrapInvalidCls);this.inputWrap[f](this.inputWrapInvalidCls)},onFieldMutation:function(c){this.refreshEmptyText();Ext.form.field.Base.prototype.onFieldMutation.call(this,c)},refreshEmptyText:function(){var o=this,m=o.inputEl,k=o.emptyClsElements,n,l,p;if(m){n=o.getValue();l=!(m.dom.value||(Ext.isArray(n)&&n.length));if(o.placeholderLabel){o.placeholderLabel.setDisplayed(l)}for(p=0;p<k.length;p++){k[p].toggleCls(o.emptyUICls,l)}}},setValue:function(c){c=Ext.form.field.Base.prototype.setValue.call(this,c);this.refreshEmptyText();return c},onFocus:function(g){var j=this,f;Ext.form.field.Base.prototype.onFocus.call(this,g);Ext.asap(function(){if(!j.destroyed&&document.activeElement===j.inputEl.dom){f=j.inputEl.dom.value.length;j.selectText(j.selectOnFocus?0:f,f)}});if(j.emptyText){j.autoSize()}j.addCls(j.fieldFocusCls);j.triggerWrap.addCls(j.triggerWrapFocusCls);j.inputWrap.addCls(j.inputWrapFocusCls);j.invokeTriggers("onFieldFocus",[g])},onBlur:function(f){var d=this;Ext.form.field.Base.prototype.onBlur.call(this,f);d.removeCls(d.fieldFocusCls);d.triggerWrap.removeCls(d.triggerWrapFocusCls);d.inputWrap.removeCls(d.inputWrapFocusCls);d.invokeTriggers("onFieldBlur",[f])},filterKeys:function(f){if((f.ctrlKey&&!f.altKey)||f.isSpecialKey()){return}var d=String.fromCharCode(f.getCharCode());if(!this.maskRe.test(d)){f.stopEvent()}},getState:function(){return this.addPropertyToState(Ext.form.field.Base.prototype.getState.call(this),"value")},applyState:function(c){Ext.form.field.Base.prototype.applyState.call(this,c);if(c.hasOwnProperty("value")){this.setValue(c.value)}},getErrors:function(p){p=arguments.length?(p==null?"":p):this.processRawValue(this.getRawValue());var v=this,r=Ext.form.field.Base.prototype.getErrors.call(this,p),B=v.validator,x=v.vtype,u=Ext.form.field.VTypes,s=v.regex,q=Ext.String.format,A,w,y;if(Ext.isFunction(B)){A=B.call(v,p);if(A!==true){r.push(A)}}w=v.allowOnlyWhitespace?p:Ext.String.trim(p);if(w.length<1){if(!v.allowBlank){r.push(v.blankText)}if(!v.validateBlank){return r}y=true}if(!y&&p.length<v.minLength){r.push(q(v.minLengthText,v.minLength))}if(p.length>v.maxLength){r.push(q(v.maxLengthText,v.maxLength))}if(x){if(!u[x](p,v)){r.push(v.vtypeText||u[x+"Text"])}}if(s&&!s.test(p)){r.push(v.regexText||v.invalidText)}return r},selectText:function(m,r){var n=this,o=n.inputEl.dom,p=o.value,l=p.length,q;if(l>0){m=m===undefined?0:Math.min(m,l);r=r===undefined?l:Math.min(r,l);if(o.setSelectionRange){o.setSelectionRange(m,r)}else{if(o.createTextRange){q=o.createTextRange();q.moveStart("character",m);q.moveEnd("character",r-l);q.select()}}}},getGrowWidth:function(){return this.inputEl.dom.value},autoSize:function(){var q=this,r,m,o,n,l,p;if(q.grow&&q.rendered&&q.getSizeModel().width.auto){n=q.inputEl;r=q.getTriggers();o=0;p=Ext.util.Format.htmlEncode(q.getGrowWidth()||(q.hasFocus?"":q.emptyText)||"");p+=q.growAppend;for(m in r){o+=r[m].el.getWidth()}l=n.getTextWidth(p)+o+q.inputWrap.getBorderWidth("lr")+q.triggerWrap.getBorderWidth("lr");l=Math.min(Math.max(l,q.growMin),q.growMax);q.bodyEl.setWidth(l);q.updateLayout();q.fireEvent("autosize",q,l)}},doDestroy:function(){var c=this;c.invokeTriggers("destroy");Ext.destroy(c.triggerRepeater);Ext.form.field.Base.prototype.doDestroy.call(this)},onTriggerClick:Ext.emptyFn,privates:{getTdType:function(){return"textfield"}},deprecated:{5:{methods:{getTriggerWidth:function(){var j=this.getTriggers(),f=0,g;if(j&&this.rendered){for(g in j){if(j.hasOwnProperty(g)){f+=j[g].el.getWidth()}}}return f}}}}},0,["textfield"],["component","box","field","textfield"],{component:true,box:true,field:true,textfield:true},["widget.textfield"],0,[Ext.form.field,"Text",Ext.form,"TextField",Ext.form,"Text"],0));Ext.define("Ext.overrides.form.field.Text",{override:"Ext.form.field.Text",showFetch:false,showClear:false,paramName:"query",initComponent:function(){var g=this,f={clear:{hidden:true,cls:"x-form-clear-trigger",handler:function(b){b.fireEvent("showclear",b,{});b.reset();b.setRawValue("");if(b.hiddenNameId){b.up("component").down("hiddenfield[name="+b.hiddenNameId+"]").reset()}}}},j={fetch:{handler:"fetchField",cls:"x-form-search-trigger"}};(arguments.callee.$previous||Ext.form.field.Base.prototype.initComponent).call(this);if(g.showClear===true){g.setTriggers(Ext.Object.merge(g.getTriggers(),f));g.on({change:{fn:"clearState",scope:g}})}if(g.showFetch===true){g.itemId=g.getName();g.emptyText="Pesquisar";g.setTriggers(Ext.Object.merge(g.getTriggers(),Ext.Object.merge(f,j)));g.on({change:{fn:"clearState",scope:g},specialkey:{fn:"fetchStart",scope:g}})}},fetchStart:function(g,j,f){if(j.getKey()===j.ENTER){g.getTriggers().fetch.onClick()}},clearState:function(j,k,g,l){if(k&&k.length>0){j.getTrigger("clear").show()}else{j.getTrigger("clear").hide()}j.updateLayout()}});(Ext.cmd.derive("Ext.form.field.TextArea",Ext.form.field.Text,{alternateClassName:"Ext.form.TextArea",fieldSubTpl:['<textarea id="{id}" data-ref="inputEl" {inputAttrTpl}','<tpl if="name"> name="{name}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>',' class="{fieldCls} {typeCls} {typeCls}-{ui} {inputCls}" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>','<tpl foreach="ariaElAttributes"> {$}="{.}"</tpl>','<tpl foreach="inputElAriaAttributes"> {$}="{.}"</tpl>',' autocomplete="off">\n','<tpl if="value">{[Ext.util.Format.htmlEncode(values.value)]}</tpl>',"</textarea>",{disableFormats:true}],growMin:60,growMax:1000,growAppend:"\n-",enterIsSpecial:false,preventScrollbars:false,returnRe:/\r/g,inputCls:"x-form-textarea",extraFieldBodyCls:"x-form-textarea-body",ariaAttributes:{"aria-multiline":true},getSubTplData:function(l){var j=this,k=j.getFieldStyle(),g=Ext.form.field.Text.prototype.getSubTplData.apply(this,arguments);if(j.grow){if(j.preventScrollbars){g.fieldStyle=(k||"")+";overflow:hidden;height:"+j.growMin+"px"}}return g},afterRender:function(){var c=this;Ext.form.field.Text.prototype.afterRender.apply(this,arguments);c.needsMaxCheck=c.enforceMaxLength&&c.maxLength!==Number.MAX_VALUE&&!Ext.supports.TextAreaMaxLength;if(c.needsMaxCheck){c.inputEl.on("paste",c.onPaste,c)}},transformRawValue:function(c){return this.stripReturns(c)},getValue:function(){return this.stripReturns(Ext.form.field.Text.prototype.getValue.call(this))},valueToRaw:function(c){c=this.stripReturns(c);return Ext.form.field.Text.prototype.valueToRaw.call(this,c)},stripReturns:function(c){if(c&&typeof c==="string"){c=c.replace(this.returnRe,"")}return c},onPaste:function(){var c=this;if(!c.pasteTask){c.pasteTask=new Ext.util.DelayedTask(c.pasteCheck,c)}c.pasteTask.delay(1)},pasteCheck:function(){var j=this,g=j.getValue(),f=j.maxLength;if(g.length>f){g=g.substr(0,f);j.setValue(g)}},fireKey:function(j){var l=this,g=j.getKey(),k;if(j.isSpecialKey()&&(l.enterIsSpecial||(g!==j.ENTER||j.hasModifier()))){l.fireEvent("specialkey",l,j)}if(g===j.ENTER){j.stopPropagation()}if(l.needsMaxCheck&&g!==j.BACKSPACE&&g!==j.DELETE&&!j.isNavKeyPress()&&!l.isCutCopyPasteSelectAll(j,g)){k=l.getValue();if(k.length>=l.maxLength){j.stopEvent()}}},isCutCopyPasteSelectAll:function(f,d){if(f.ctrlKey){return d===f.A||d===f.C||d===f.V||d===f.X}return false},autoSize:function(){var m=this,k,j,n,l;if(m.grow&&m.rendered&&m.getSizeModel().height.auto){k=m.inputEl;n=k.getWidth(true);l=Ext.util.Format.htmlEncode(k.dom.value)||"&#160;";l+=m.growAppend;l=l.replace(/\n/g,"<br/>");j=Ext.util.TextMetrics.measure(k,l,n).height+k.getPadding("tb")+m.inputWrap.getBorderWidth("tb")+m.triggerWrap.getBorderWidth("tb");j=Math.min(Math.max(j,m.growMin),m.growMax);m.bodyEl.setHeight(j);m.updateLayout();m.fireEvent("autosize",m,j)}},doDestroy:function(){var c=this.pasteTask;if(c){c.cancel()}Ext.form.field.Text.prototype.doDestroy.call(this)}},0,["textarea","textareafield"],["component","box","field","textfield","textareafield","textarea"],{component:true,box:true,field:true,textfield:true,textareafield:true,textarea:true},["widget.textarea","widget.textareafield"],0,[Ext.form.field,"TextArea",Ext.form,"TextArea"],0));(Ext.cmd.derive("Ext.window.MessageBox",Ext.window.Window,{OK:1,YES:2,NO:4,CANCEL:8,OKCANCEL:9,YESNO:6,YESNOCANCEL:14,INFO:"x-message-box-info",WARNING:"x-message-box-warning",QUESTION:"x-message-box-question",ERROR:"x-message-box-error",hideMode:"offsets",closeAction:"hide",resizable:false,scrollable:true,title:"&#160;",defaultMinWidth:250,defaultMaxWidth:600,defaultMinHeight:110,defaultMaxHeight:500,minWidth:null,maxWidth:null,minHeight:null,maxHeight:null,constrain:true,cls:["x-message-box","x-hidden-offsets"],layout:{type:"vbox",align:"stretch"},shrinkWrapDock:true,defaultTextHeight:75,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",yes:"Yes",no:"No",cancel:"Cancel"},buttonIds:["ok","yes","no","cancel"],titleText:{confirm:"Confirm",prompt:"Prompt",wait:"Loading...",alert:"Attention"},baseIconCls:"x-message-box-icon",ariaRole:"alertdialog",makeButton:function(d){var f=this.buttonIds[d];return new Ext.button.Button({handler:this.btnCallback,itemId:f,scope:this,text:this.buttonText[f],minWidth:75})},btnCallback:function(j,m){var n=this,l,k;if(m&&m.type==="keydown"&&!m.isSpecialKey()){m.getTarget(null,null,true).on({keyup:function(b){n.btnCallback(j,b)},single:true});return}if(n.cfg.prompt||n.cfg.multiline){if(n.cfg.multiline){k=n.textArea}else{k=n.textField}l=k.getValue();k.reset()}n.hide();n.userCallback(j.itemId,l,n.cfg)},hide:function(){var f=this,d=f.cfg?f.cfg.cls:"";f.progressBar.reset();if(d){f.removeCls(d)}Ext.window.Window.prototype.hide.apply(this,arguments)},constructor:function(d){var f=this;Ext.window.Window.prototype.constructor.apply(this,arguments);f.minWidth=f.defaultMinWidth=(f.minWidth||f.defaultMinWidth);f.maxWidth=f.defaultMaxWidth=(f.maxWidth||f.defaultMaxWidth);f.minHeight=f.defaultMinHeight=(f.minHeight||f.defaultMinHeight);f.maxHeight=f.defaultMaxHeight=(f.maxHeight||f.defaultMaxHeight)},initComponent:function(j){var k=this,n=k.id,l,m;k.title=k.title||"&#160;";k.iconCls=k.iconCls||"";k.topContainer=new Ext.container.Container({layout:"hbox",padding:10,style:{overflow:"hidden"},items:[k.iconComponent=new Ext.Component({cls:k.baseIconCls}),k.promptContainer=new Ext.container.Container({flex:1,layout:{type:"vbox",align:"stretch"},items:[k.msg=new Ext.Component({id:n+"-msg",cls:k.baseCls+"-text"}),k.textField=new Ext.form.field.Text({id:n+"-textfield",enableKeyEvents:true,ariaAttributes:{"aria-labelledby":k.msg.id},listeners:{keydown:k.onPromptKey,scope:k}}),k.textArea=new Ext.form.field.TextArea({id:n+"-textarea",height:75,ariaAttributes:{"aria-labelledby":k.msg.id}})]})]});k.progressBar=new Ext.ProgressBar({id:n+"-progressbar",margin:"0 10 10 10"});k.items=[k.topContainer,k.progressBar];k.msgButtons=[];for(l=0;l<4;l++){m=k.makeButton(l);k.msgButtons[m.itemId]=m;k.msgButtons.push(m)}k.bottomTb=new Ext.toolbar.Toolbar({id:n+"-toolbar",ui:"footer",dock:"bottom",enableFocusableContainer:false,ariaRole:null,layout:{pack:"center"},items:[k.msgButtons[0],k.msgButtons[1],k.msgButtons[2],k.msgButtons[3]]});k.dockedItems=[k.bottomTb];k.on("close",k.onClose,k);Ext.window.Window.prototype.initComponent.call(this)},afterRender:function(){var c=this;Ext.window.Window.prototype.afterRender.apply(this,arguments);c.textField.labelEl.dom.removeAttribute("for");c.textArea.labelEl.dom.removeAttribute("for")},onClose:function(){var c=this.msgButtons[3];if(c){this.btnCallback(c)}},onPromptKey:function(f,g){var j=this;if(g.keyCode===g.RETURN||g.keyCode===10){if(j.msgButtons.ok.isVisible()){j.msgButtons.ok.handler.call(j,j.msgButtons.ok)}else{if(j.msgButtons.yes.isVisible()){j.msgButtons.yes.handler.call(j,j.msgButtons.yes)}}}},reconfigure:function(W){var D=this,G=0,R=true,L=D.buttonText,U=D.resizer,I=D.header,E=I&&!I.isHeader,V=W&&(W.message||W.msg),T=W.buttonTips,O,Z,K,M,Q,H,F,S,X,P,J,N,Y;D.updateButtonText();D.cfg=W=W||{};N=W.wait;if(W.width){M=W.width}if(W.height){Q=W.height}D.minWidth=W.minWidth||D.defaultMinWidth;D.maxWidth=W.maxWidth||D.defaultMaxWidth;D.minHeight=W.minHeight||D.defaultMinHeight;D.maxHeight=W.maxHeight||D.defaultMaxHeight;if("maskClickAction" in W){D.maskClickAction=W.maskClickAction}else{delete D.maskClickAction}if(U){K=U.resizeTracker;U.minWidth=K.minWidth=D.minWidth;U.maxWidth=K.maxWidth=D.maxWidth;U.minHeight=K.minHeight=D.minHeight;U.maxHeight=K.maxHeight=D.maxHeight}delete D.defaultFocus;if(W.defaultFocus){D.defaultFocus=W.defaultFocus}D.animateTarget=W.animateTarget||undefined;D.modal=W.modal!==false;if(W.title!=null){O=W.title}else{if(E&&I.title!=null){O=I.title}else{O=D.title}}if(W.iconCls!=null){Z=W.iconCls}else{if(E&&I.iconCls!=null){Z=I.iconCls}else{Z=D.iconCls}}D.setTitle(O);D.setIconCls(Z);if(Ext.isObject(W.buttons)){D.buttonText=W.buttons;G=0}else{D.buttonText=W.buttonText||D.buttonText;G=Ext.isNumber(W.buttons)?W.buttons:0}Ext.each(D.buttonIds,function(b){D.msgButtons[b].setTooltip((T&&T[b])||null)});G=G|D.updateButtonText();D.buttonText=L;Ext.suspendLayouts();D.width=D.height=null;if(M||Q){if(M){D.setWidth(M)}if(Q){D.setHeight(Q)}}if(!D.rendered){D.render(Ext.getBody())}D.closable=W.closable!==false&&!N;I=D.header;if(I){Y=I.child("[type=close]");if(Y){Y.setVisible(D.closable)}if(!W.title&&!D.closable&&!W.iconCls){I.hide()}else{I.show()}}D.liveDrag=!W.proxyDrag;D.userCallback=Ext.Function.bindCallback(W.callback||W.fn||Ext.emptyFn,W.scope||Ext.global);D.setIcon(W.icon);X=D.msg;if(V){X.setHtml(V);X.show();D.ariaEl.dom.setAttribute("aria-describedby",X.id)}else{X.hide();D.ariaEl.dom.removeAttribute("aria-describedby")}F=D.textArea;S=D.textField;if(W.prompt||W.multiline){D.multiline=W.multiline;if(W.multiline){F.setValue(W.value);F.setHeight(W.defaultTextHeight||D.defaultTextHeight);F.show();S.hide();D.defaultFocus=F}else{S.setValue(W.value);F.hide();S.show();D.defaultFocus=S}D.ariaEl.dom.removeAttribute("aria-describedby")}else{F.hide();S.hide()}P=D.progressBar;if(W.progress||N){P.show();D.updateProgress(0,W.progressText);D.defaultFocus=P;if(N){P.wait(N===true?W.waitConfig:N)}}else{P.hide()}J=D.msgButtons;for(H=0;H<4;H++){if(G&Math.pow(2,H)){if(!D.defaultFocus){D.defaultFocus=J[H]}J[H].show();R=false}else{J[H].hide()}}if(R){D.bottomTb.hide()}else{D.bottomTb.show()}Ext.resumeLayouts(true)},updateButtonText:function(){var l=this,m=l.buttonText,n=0,k,j;for(k in m){if(m.hasOwnProperty(k)){j=l.msgButtons[k];if(j){if(l.cfg&&l.cfg.buttonText){n=n|Math.pow(2,Ext.Array.indexOf(l.buttonIds,k))}if(j.text!==m[k]){j.setText(m[k])}}}}return n},show:function(f){var g=this,j;f=f||{};if(Ext.Component.layoutSuspendCount){Ext.on({resumelayouts:function(){g.show(f)},single:true});return g}g.reconfigure(f);if(f.cls){g.addCls(f.cls)}j=g.query("textfield:not([hidden]),textarea:not([hidden]),button:not([hidden])");g.preventFocusOnActivate=!j.length;Ext.window.Window.prototype.show.call(this);return g},onShow:function(){Ext.window.Window.prototype.onShow.apply(this,arguments);this.center()},updateText:function(c){this.msg.setHtml(c)},setIcon:function(n,o,k){var m=this,l=m.iconComponent,p=m.messageIconCls;if(p){l.removeCls(p)}if(n){l.show();if(o||k){l.setSize(o||l.getWidth(),k||l.getHeight())}l.addCls("x-dlg-icon");l.addCls(m.messageIconCls=n)}else{l.removeCls("x-dlg-icon");l.hide()}return m},updateProgress:function(g,f,j){this.progressBar.updateProgress(g,f);if(j){this.updateText(j)}return this},onEsc:function(){if(this.closable!==false){Ext.window.Window.prototype.onEsc.apply(this,arguments)}},confirm:function(g,j,k,l){if(Ext.isString(g)){g={title:g,icon:this.QUESTION,message:j,buttons:this.YESNO,callback:k,scope:l}}return this.show(g)},prompt:function(l,n,o,p,k,m){if(Ext.isString(l)){l={prompt:true,title:l,minWidth:this.minPromptWidth,message:n,buttons:this.OKCANCEL,callback:o,scope:p,multiline:k,value:m}}return this.show(l)},wait:function(j,g,f){if(Ext.isString(j)){j={title:g,message:j,closable:false,wait:true,modal:true,minWidth:this.minProgressWidth,waitConfig:f}}return this.show(j)},alert:function(j,k,l,g){if(Ext.isString(j)){j={title:j,message:k,buttons:this.OK,fn:l,scope:g,minWidth:this.minWidth}}return this.show(j)},progress:function(g,j,f){if(Ext.isString(g)){g={title:g,message:j,progress:true,progressText:f}}return this.show(g)}},1,["messagebox"],["component","box","container","panel","window","messagebox"],{component:true,box:true,container:true,panel:true,window:true,messagebox:true},["widget.messagebox"],0,[Ext.window,"MessageBox"],function(c){Ext.onInternalReady(function(){Ext.MessageBox=Ext.Msg=new c()})}));(Ext.cmd.derive("Ext.form.Basic",Ext.util.Observable,{alternateClassName:"Ext.form.BasicForm",taskDelay:10,constructor:function(l,k){var j=this,g;j.owner=l;j.fieldMonitors={validitychange:j.checkValidityDelay,enable:j.checkValidityDelay,disable:j.checkValidityDelay,dirtychange:j.checkDirtyDelay,errorchange:j.checkErrorDelay,scope:j};j.checkValidityTask=new Ext.util.DelayedTask(j.checkValidity,j);j.checkDirtyTask=new Ext.util.DelayedTask(j.checkDirty,j);j.checkErrorTask=new Ext.util.DelayedTask(j.checkError,j);j.monitor=new Ext.container.Monitor({selector:"[isFormField]:not([excludeForm])",scope:j,addHandler:j.onFieldAdd,removeHandler:j.onFieldRemove,invalidateHandler:j.onMonitorInvalidate});j.monitor.bind(l);Ext.apply(j,k);if(Ext.isString(j.paramOrder)){j.paramOrder=j.paramOrder.split(/[\s,|]/)}g=j.reader;if(g&&!g.isReader){if(typeof g==="string"){g={type:g}}j.reader=Ext.createByAlias("reader."+g.type,g)}g=j.errorReader;if(g&&!g.isReader){if(typeof g==="string"){g={type:g}}j.errorReader=Ext.createByAlias("reader."+g.type,g)}Ext.util.Observable.prototype.constructor.call(this)},initialize:function(){this.initialized=true;this.onValidityChange(!this.hasInvalidField())},timeout:30,paramsAsHash:false,waitTitle:"Please Wait...",trackResetOnLoad:false,wasDirty:false,destroy:function(){var f=this,d=f.monitor;if(d){d.unbind();f.monitor=null}f.clearListeners();f.checkValidityTask.cancel();f.checkDirtyTask.cancel();f.checkErrorTask.cancel();f.checkValidityTask=f.checkDirtyTask=f.checkErrorTask=null;Ext.util.Observable.prototype.destroy.call(this)},onFieldAdd:function(c){c.on(this.fieldMonitors);this.onMonitorInvalidate()},onFieldRemove:function(c){c.un(this.fieldMonitors);this.onMonitorInvalidate()},onMonitorInvalidate:function(){if(this.initialized){this.checkValidityDelay()}},getFields:function(){return this.monitor.getItems()},getBoundItems:function(){var c=this._boundItems;if(!c||c.getCount()===0){c=this._boundItems=new Ext.util.MixedCollection();c.addAll(this.owner.query("[formBind]"))}return c},hasInvalidField:function(){return !!this.getFields().findBy(function(g){var f=g.preventMark,j;g.preventMark=true;j=g.isValid();g.preventMark=f;return !j})},isValid:function(){var d=this,f;Ext.suspendLayouts();f=d.getFields().filterBy(function(b){return !b.validate()});Ext.resumeLayouts(true);return f.length<1},checkValidity:function(){var f=this,d;if(f.destroyed){return}d=!f.hasInvalidField();if(d!==f.wasValid){f.onValidityChange(d);f.fireEvent("validitychange",f,d);f.wasValid=d}},checkValidityDelay:function(){var c=this.taskDelay;if(c){this.checkValidityTask.delay(c)}else{this.checkValidity()}},checkError:function(){this.fireEvent("errorchange",this)},checkErrorDelay:function(){var c=this.taskDelay;if(c){this.checkErrorTask.delay(c)}else{this.checkError()}},onValidityChange:function(l){var n=this.getBoundItems(),p,o,k,m;if(n){p=n.items;k=p.length;for(o=0;o<k;o++){m=p[o];if(m.disabled===l){m.setDisabled(!l)}}}},isDirty:function(){return !!this.getFields().findBy(function(c){return c.isDirty()})},checkDirtyDelay:function(){var c=this.taskDelay;if(c){this.checkDirtyTask.delay(c)}else{this.checkDirty()}},checkDirty:function(){var f=this,d;if(f.destroyed){return}d=this.isDirty();if(d!==this.wasDirty){this.fireEvent("dirtychange",this,d);this.wasDirty=d}},hasUpload:function(){return !!this.getFields().findBy(function(c){return c.isFileUpload()})},doAction:function(f,d){if(Ext.isString(f)){f=Ext.ClassManager.instantiateByAlias("formaction."+f,Ext.apply({},d,{form:this}))}if(this.fireEvent("beforeaction",this,f)!==false){this.beforeAction(f);Ext.defer(f.run,100,f)}return this},submit:function(f){f=f||{};var j=this,g;if(f.standardSubmit||j.standardSubmit){g="standardsubmit"}else{g=j.api?"directsubmit":"submit"}return j.doAction(g,f)},load:function(c){return this.doAction(this.api?"directload":"load",c)},updateRecord:function(q){q=q||this._record;if(!q){return this}var r=q.self.fields,p=this.getFieldValues(),m={},n=0,l=r.length,o;for(;n<l;++n){o=r[n].name;if(p.hasOwnProperty(o)){m[o]=p[o]}}q.beginEdit();q.set(m);q.endEdit();return this},loadRecord:function(c){this._record=c;return this.setValues(c.getData())},getRecord:function(){return this._record},beforeAction:function(u){var q=this,v=u.waitMsg,f="x-mask-loading",s=q.getFields().items,r,o=s.length,p,w;for(r=0;r<o;r++){p=s[r];if(p.isFormField&&p.syncValue){p.syncValue()}}if(v){w=q.waitMsgTarget;if(w===true){q.owner.el.mask(v,f)}else{if(w){w=q.waitMsgTarget=Ext.get(w);w.mask(v,f)}else{q.floatingAncestor=q.owner.up("[floating]");if(q.floatingAncestor){q.savePreventFocusOnActivate=q.floatingAncestor.preventFocusOnActivate;q.floatingAncestor.preventFocusOnActivate=true}Ext.MessageBox.wait(v,u.waitTitle||q.waitTitle)}}}},afterAction:function(m,k){var j=this;if(m.waitMsg){var n=Ext.MessageBox,l=j.waitMsgTarget;if(l===true){j.owner.el.unmask()}else{if(l){l.unmask()}else{n.hide()}}}if(j.floatingAncestor){j.floatingAncestor.preventFocusOnActivate=j.savePreventFocusOnActivate}if(k){if(m.reset){j.reset()}Ext.callback(m.success,m.scope||m,[j,m]);j.fireEvent("actioncomplete",j,m)}else{Ext.callback(m.failure,m.scope||m,[j,m]);j.fireEvent("actionfailed",j,m)}},findField:function(c){return this.getFields().findBy(function(b){return b.id===c||b.name===c||b.dataIndex===c})},markInvalid:function(n){var r=this,p,m,u,q,s;function o(b,c){var d=r.findField(b);if(d){d.markInvalid(c)}}if(Ext.isArray(n)){m=n.length;for(p=0;p<m;p++){u=n[p];o(u.id||u.field,u.msg||u.message)}}else{if(n instanceof Ext.data.ErrorCollection){m=n.items.length;for(p=0;p<m;p++){u=n.items[p];o(u.field,u.message)}}else{for(s in n){if(n.hasOwnProperty(s)){q=n[s];o(s,q,n)}}}}return this},setValues:function(p){var n=this,k,o,l;function m(d,b){var c=n.findField(d);if(c){c.setValue(b);if(n.trackResetOnLoad){c.resetOriginalValue()}}}Ext.suspendLayouts();if(Ext.isArray(p)){o=p.length;for(k=0;k<o;k++){l=p[k];m(l.id,l.value)}}else{Ext.iterate(p,m)}Ext.resumeLayouts(true);return this},getValues:function(y,x,J,v,F){var f={},B=this.getFields().items,I=B.length,C=Ext.isArray,w,D,E,G,H,A;for(A=0;A<I;A++){w=B[A];if(!x||w.isDirty()){D=w[v?"getModelData":"getSubmitData"](J,F);if(Ext.isObject(D)){for(H in D){if(D.hasOwnProperty(H)){E=D[H];if(J&&E===""){E=w.emptyText||""}if(!w.isRadio){if(w.isCheckbox&&E===null){continue}if(f.hasOwnProperty(H)){G=f[H];if(!C(G)){G=f[H]=[G]}if(C(E)){f[H]=G.concat(E)}else{G.push(E)}}else{f[H]=E}}else{f[H]=f[H]||E}}}}}}if(y){f=Ext.Object.toQueryString(f)}return f},getFieldValues:function(c){return this.getValues(false,c,false,true)},clearInvalid:function(){Ext.suspendLayouts();var l=this,f=l.getFields().items,k,j=f.length;for(k=0;k<j;k++){f[k].clearInvalid()}Ext.resumeLayouts(true);return l},reset:function(n){Ext.suspendLayouts();var m=this,f=m.getFields().items,l,k=f.length;for(l=0;l<k;l++){f[l].reset()}Ext.resumeLayouts(true);if(n===true){delete m._record}return m},applyToFields:function(k){var f=this.getFields().items,l,j=f.length;for(l=0;l<j;l++){Ext.apply(f[l],k)}return this},applyIfToFields:function(k){var f=this.getFields().items,l,j=f.length;for(l=0;l<j;l++){Ext.applyIf(f[l],k)}return this}},1,0,0,0,0,0,[Ext.form,"Basic",Ext.form,"BasicForm"],0));(Ext.cmd.derive("Ext.form.FieldAncestor",Ext.Mixin,{mixinConfig:{id:"fieldAncestor",after:{initInheritedState:"initFieldInheritedState"},before:{doDestroy:"onBeforeDestroy"}},initFieldAncestor:function(){var c=this;c.monitor=new Ext.container.Monitor({scope:c,selector:"[isFormField]:not([excludeForm])",addHandler:c.onChildFieldAdd,removeHandler:c.onChildFieldRemove});c.initFieldDefaults()},initMonitor:function(){this.monitor.bind(this)},initFieldInheritedState:function(j){var f=j.fieldDefaults,g=this.fieldDefaults;if(g){if(f){j.fieldDefaults=Ext.apply(Ext.Object.chain(f),g)}else{j.fieldDefaults=g}}},onChildFieldAdd:function(f){var d=this;d.mon(f,"errorchange",d.handleFieldErrorChange,d);d.mon(f,"validitychange",d.handleFieldValidityChange,d)},onChildFieldRemove:function(f){var d=this;d.mun(f,"errorchange",d.handleFieldErrorChange,d);d.mun(f,"validitychange",d.handleFieldValidityChange,d)},initFieldDefaults:function(){if(!this.fieldDefaults){this.fieldDefaults={}}},handleFieldValidityChange:function(g,j){var f=this;if(g!==f){f.fireEvent("fieldvaliditychange",f,g,j);f.onFieldValidityChange(g,j)}},handleFieldErrorChange:function(j,f){var g=this;if(j!==g){g.fireEvent("fielderrorchange",g,j,f);g.onFieldErrorChange(j,f)}},onFieldValidityChange:Ext.emptyFn,onFieldErrorChange:Ext.emptyFn,onBeforeDestroy:function(){this.monitor=Ext.destroy(this.monitor)}},0,0,0,0,0,0,[Ext.form,"FieldAncestor"],0));(Ext.cmd.derive("Ext.layout.component.field.FieldContainer",Ext.layout.component.Auto,{type:"fieldcontainer",waitForOuterHeightInDom:true,waitForOuterWidthInDom:true,beginLayout:function(f){var d=this.owner.containerEl;Ext.layout.component.Auto.prototype.beginLayout.call(this,f);f.hasRawContent=true;d.setStyle("width","");d.setStyle("height","");f.containerElContext=f.getEl("containerEl")},calculateOwnerHeightFromContentHeight:function(g,j){var f=Ext.layout.component.Auto.prototype.calculateOwnerHeightFromContentHeight.call(this,g,j);return f+this.getHeightAdjustment()},calculateOwnerWidthFromContentWidth:function(g,j){var f=Ext.layout.component.Auto.prototype.calculateOwnerWidthFromContentWidth.call(this,g,j);return f+this.getWidthAdjustment()},measureContentHeight:function(c){return c.hasDomProp("containerLayoutDone")?Ext.layout.component.Auto.prototype.measureContentHeight.call(this,c):NaN},measureContentWidth:function(c){return c.hasDomProp("containerLayoutDone")?Ext.layout.component.Auto.prototype.measureContentWidth.call(this,c):NaN},publishInnerHeight:function(f,d){d-=this.getHeightAdjustment();f.containerElContext.setHeight(d)},publishInnerWidth:function(f,d){d-=this.getWidthAdjustment();f.containerElContext.setWidth(d)},privates:{getHeightAdjustment:function(){var d=this.owner,f=0;if(d.labelAlign==="top"&&d.hasVisibleLabel()){f+=d.labelEl.getHeight()}if(d.msgTarget==="under"&&d.hasActiveError()){f+=d.errorWrapEl.getHeight()}return f+d.bodyEl.getPadding("tb")},getWidthAdjustment:function(){var d=this.owner,f=0;if(d.labelAlign!=="top"&&d.hasVisibleLabel()){f+=(d.labelWidth+(d.labelPad||0))}if(d.msgTarget==="side"&&d.hasActiveError()){f+=d.errorWrapEl.getWidth()}return f+d.bodyEl.getPadding("lr")}}},0,0,0,0,["layout.fieldcontainer"],0,[Ext.layout.component.field,"FieldContainer"],0));(Ext.cmd.derive("Ext.form.FieldContainer",Ext.container.Container,{componentLayout:"fieldcontainer",componentCls:"x-form-fieldcontainer",shrinkWrap:true,autoEl:{tag:"div",role:"presentation"},childEls:["containerEl"],combineLabels:false,labelConnector:", ",combineErrors:false,maskOnDisable:false,invalidCls:"",fieldSubTpl:['<div id="{id}-containerEl" data-ref="containerEl" class="{containerElCls}"','<tpl if="ariaAttributes">','<tpl foreach="ariaAttributes"> {$}="{.}"</tpl>',"<tpl else>",' role="presentation"',"</tpl>",">","{%this.renderContainer(out,values)%}","</div>"],initComponent:function(){var c=this;c.initLabelable();c.initFieldAncestor();Ext.container.Container.prototype.initComponent.call(this);c.initMonitor()},onAdd:function(d){var f=this;if(d.isLabelable&&Ext.isGecko&&Ext.firefoxVersion<37&&f.layout.type==="absolute"&&!f.hideLabel&&f.labelAlign!=="top"){d.x+=(f.labelWidth+f.labelPad)}Ext.container.Container.prototype.onAdd.apply(this,arguments);if(d.isLabelable&&f.combineLabels){d.oldHideLabel=d.hideLabel;d.hideLabel=true}f.updateLabel()},onRemove:function(f,j){var g=this;Ext.container.Container.prototype.onRemove.apply(this,arguments);if(!j){if(f.isLabelable&&g.combineLabels){f.hideLabel=f.oldHideLabel}g.updateLabel()}},initRenderData:function(){var d=this,f=Ext.container.Container.prototype.initRenderData.call(this);f.containerElCls=d.containerElCls;f=Ext.applyIf(f,d.getLabelableRenderData());if(d.labelAlign==="top"||d.msgTarget==="under"){f.extraFieldBodyCls+=" x-field-container-body-vertical"}f.tipAnchorTarget=d.id+"-containerEl";return f},getFieldLabel:function(){var c=this.fieldLabel||"";if(!c&&this.combineLabels){c=Ext.Array.map(this.query("[isFieldLabelable]"),function(b){return b.getFieldLabel()}).join(this.labelConnector)}return c},getSubTplData:function(){var c=this.initRenderData();Ext.apply(c,this.subTplData);return c},getSubTplMarkup:function(l){var j=this,g=j.lookupTpl("fieldSubTpl"),k;if(!g.renderContent){j.setupRenderTpl(g)}k=g.apply(j.getSubTplData(l));return k},updateLabel:function(){var f=this,d=f.labelEl;if(d){f.setFieldLabel(f.getFieldLabel())}},onFieldErrorChange:function(){if(this.combineErrors){var k=this,j=k.getActiveError(),l=Ext.Array.filter(k.query("[isFormField]"),function(b){return b.hasActiveError()}),g=k.getCombinedErrors(l);if(g){k.setActiveErrors(g)}else{k.unsetActiveError()}if(j!==k.getActiveError()){k.updateLayout()}}},getCombinedErrors:function(v){var p=[],x,f=v.length,r,w,q,y,u,s;for(x=0;x<f;x++){r=v[x];w=r.getActiveErrors();y=w.length;for(q=0;q<y;q++){u=w[q];s=r.getFieldLabel();p.push((s?s+": ":"")+u)}}return p},privates:{applyTargetCls:function(f){var d=this.containerElCls;this.containerElCls=d?d+" "+f:f},getTargetEl:function(){return this.containerEl},initRenderTpl:function(){var c=this;if(!c.hasOwnProperty("renderTpl")){c.renderTpl=c.lookupTpl("labelableRenderTpl")}return Ext.container.Container.prototype.initRenderTpl.call(this)}}},0,["fieldcontainer"],["component","box","container","fieldcontainer"],{component:true,box:true,container:true,fieldcontainer:true},["widget.fieldcontainer"],[["labelable",Ext.form.Labelable],["fieldAncestor",Ext.form.FieldAncestor]],[Ext.form,"FieldContainer"],0));Ext.define("Ext.overrides.form.FieldContainer",{override:"Ext.form.FieldContainer",msgTarget:"qtip",labelAlign:"top",labelSeparator:""});(Ext.cmd.derive("Ext.form.CheckboxManager",Ext.util.MixedCollection,{singleton:true,getByName:function(d,f){return this.filterBy(function(b){return b.name===d&&b.getFormId()===f})}},0,0,0,0,0,0,[Ext.form,"CheckboxManager"],0));(Ext.cmd.derive("Ext.form.field.Checkbox",Ext.form.field.Base,{alternateClassName:"Ext.form.Checkbox",stretchInputElFixed:false,childEls:["boxLabelEl","innerWrapEl","displayEl"],fieldSubTpl:['<div id="{cmpId}-innerWrapEl" data-ref="innerWrapEl" role="presentation"',' class="{wrapInnerCls}">','<tpl if="labelAlignedBefore">',"{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" data-ref="boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} ','{boxLabelCls}-{ui} {boxLabelCls}-{boxLabelAlign} {noBoxLabelCls} {childElCls}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",'<span id="{cmpId}-displayEl" data-ref="displayEl" role="presentation" class="{fieldCls} {typeCls} ','{typeCls}-{ui} {inputCls} {inputCls}-{ui} {childElCls} {afterLabelCls}">','<input type="{inputType}" id="{id}" name="{inputName}" data-ref="inputEl" {inputAttrTpl}','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="checked"> checked="checked"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{checkboxCls}" autocomplete="off" hidefocus="true" ','<tpl foreach="ariaElAttributes"> {$}="{.}"</tpl>','<tpl foreach="inputElAriaAttributes"> {$}="{.}"</tpl>',"/>","</span>",'<tpl if="!labelAlignedBefore">',"{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" data-ref="boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} ','{boxLabelCls}-{ui} {boxLabelCls}-{boxLabelAlign} {noBoxLabelCls} {childElCls}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>","</div>",{disableFormats:true,compiled:true}],publishes:{checked:1},subTplInsertions:["beforeBoxLabelTpl","afterBoxLabelTpl","beforeBoxLabelTextTpl","afterBoxLabelTextTpl","boxLabelAttrTpl","inputAttrTpl"],isCheckbox:true,focusCls:"form-checkbox-focus",fieldBodyCls:"x-form-cb-wrap",checked:false,checkedCls:"x-form-cb-checked",boxLabelCls:"x-form-cb-label",boxLabelAlign:"after",afterLabelCls:"x-form-cb-after",wrapInnerCls:"x-form-cb-wrap-inner",noBoxLabelCls:"x-form-cb-no-box-label",inputValue:"on",checkChangeEvents:[],changeEventName:"change",inputType:"checkbox",isTextInput:false,ariaRole:"native",onRe:/^on$/i,inputCls:"x-form-cb",_checkboxCls:"x-form-cb-input",initComponent:function(){var d=this,f=d.value;if(f!==undefined){d.checked=d.isChecked(f,d.inputValue)}Ext.form.field.Base.prototype.initComponent.call(this);d.getManager().add(d)},initDefaultName:Ext.emptyFn,initValue:function(){var f=this,d=!!f.checked;f.originalValue=f.initialValue=f.lastValue=d;f.setValue(d)},getElConfig:function(){var c=this;if(c.isChecked(c.rawValue,c.inputValue)){c.addCls(c.checkedCls)}if(!c.fieldLabel){c.skipLabelForAttribute=true}return Ext.form.field.Base.prototype.getElConfig.call(this)},getModelData:function(){var c=Ext.form.field.Base.prototype.getModelData.apply(this,arguments);if(c){c[this.getName()]=this.getSubmitValue()}return c},getSubTplData:function(r){var p=this,q=p.boxLabel,m=p.boxLabelAlign,n=m==="before",o,l;o=Ext.apply(Ext.form.field.Base.prototype.getSubTplData.call(this,r),{inputType:p.inputType,checkboxCls:p._checkboxCls,disabled:p.readOnly||p.disabled,checked:!!p.checked,wrapInnerCls:p.wrapInnerCls,boxLabel:q,boxLabelCls:p.boxLabelCls,boxLabelAlign:m,labelAlignedBefore:n,afterLabelCls:n?p.afterLabelCls:"",noBoxLabelCls:!q?p.noBoxLabelCls:"",inputName:p.name||p.id});l=o.inputElAriaAttributes;if(l){delete l["aria-readonly"]}return o},initEvents:function(){var c=this;Ext.form.field.Base.prototype.initEvents.call(this);c.inputEl.on(c.changeEventName,c.onChangeEvent,c,{delegated:false});if(Ext.isIE){c.bodyEl.on("mousedown",c.onBodyElMousedown,c)}else{if(Ext.isMac&&(Ext.isGecko||Ext.isSafari)){c.boxLabelEl.on("mousedown",c.onBoxLabelOrInputMousedown,c);c.inputEl.on("mousedown",c.onBoxLabelOrInputMousedown,c)}}},setBoxLabel:function(d){var f=this;f.boxLabel=d;if(f.rendered){f.boxLabelEl.setHtml(d);f.boxLabelEl[d?"removeCls":"addCls"](f.noBoxLabelCls);f.updateLayout()}},onBodyElMousedown:function(c){if(c.target!==this.inputEl.dom){c.preventDefault()}},onBoxLabelOrInputMousedown:function(c){this.inputEl.focus();c.preventDefault()},onChangeEvent:function(c){this.updateValueFromDom()},updateValueFromDom:function(){var d=this,f=d.inputEl&&d.inputEl.dom;if(f){d.checked=d.rawValue=d.value=f.checked;d.checkChange()}},updateCheckedCls:function(f){var d=this;f=f!=null?f:d.getValue();d[f?"addCls":"removeCls"](d.checkedCls)},getRawValue:function(){var c=this.inputEl&&this.inputEl.dom;return c?c.checked:this.checked},getValue:function(){var c=this.inputEl&&this.inputEl.dom;return c?c.checked:this.checked},getSubmitValue:function(){var d=this.uncheckedValue,f=Ext.isDefined(d)?d:null;return this.getValue()?this.inputValue:f},isChecked:function(g,f){var j=false;if(g===true||g==="true"){j=true}else{if(f!=="on"&&(f||f===0)&&(Ext.isString(g)||Ext.isNumber(g))){j=g==f}else{j=g==="1"||g===1||this.onRe.test(g)}}return j},setRawValue:function(k){var l=this,j=l.inputEl&&l.inputEl.dom,g=l.isChecked(k,l.inputValue);if(j){l.duringSetRawValue=true;j.checked=g;l.duringSetRawValue=false;l.updateCheckedCls(g)}l.checked=l.rawValue=g;if(!l.duringSetValue){l.lastValue=g}return g},setValue:function(l){var m=this,o,p,k,n;if(Ext.isArray(l)){o=m.getManager().getByName(m.name,m.getFormId()).items;k=o.length;for(p=0;p<k;++p){n=o[p];n.setValue(Ext.Array.contains(l,n.inputValue))}}else{m.duringSetValue=true;Ext.form.field.Base.prototype.setValue.apply(this,arguments);delete m.duringSetValue}return m},valueToRaw:Ext.identityFn,onChange:function(l,g){var j=this,k=j.handler;j.updateCheckedCls(l);if(k){Ext.callback(k,j.scope,[j,l],0,j)}Ext.form.field.Base.prototype.onChange.apply(this,arguments);if(j.reference&&j.publishState){j.publishState("checked",l)}},resetOriginalValue:function(p){var l=this,n,m,k,o;if(!p){n=l.getManager().getByName(l.name,l.getFormId()).items;k=n.length;for(o=0;o<k;++o){m=n[o];if(m!==l){n[o].resetOriginalValue(true)}}}Ext.form.field.Base.prototype.resetOriginalValue.call(this)},doDestroy:function(){this.getManager().removeAtKey(this.id);Ext.form.field.Base.prototype.doDestroy.call(this)},getManager:function(){return Ext.form.CheckboxManager},onEnable:function(){var d=this,f=d.inputEl&&d.inputEl.dom;Ext.form.field.Base.prototype.onEnable.call(this);if(f){f.disabled=d.readOnly}},setReadOnly:function(g){var f=this,j=f.inputEl&&f.inputEl.dom;if(j){j.disabled=!!g||f.disabled}Ext.form.field.Base.prototype.setReadOnly.apply(this,arguments)},getFormId:function(){var f=this,d;if(!f.formId){d=f.up("form");if(d){f.formId=d.id}}return f.formId},getFocusClsEl:function(){return this.displayEl}},0,["checkbox","checkboxfield"],["component","box","field","checkboxfield","checkbox"],{component:true,box:true,field:true,checkboxfield:true,checkbox:true},["widget.checkbox","widget.checkboxfield"],0,[Ext.form.field,"Checkbox",Ext.form,"Checkbox"],0));Ext.define("Ext.theme.triton.form.field.Checkbox",{override:"Ext.form.field.Checkbox",compatibility:Ext.isIE8,initComponent:function(){(arguments.callee.$previous||Ext.form.field.Base.prototype.initComponent).call(this);Ext.on({show:"onGlobalShow",scope:this})},onFocus:function(f){var d;(arguments.callee.$previous||Ext.form.field.Base.prototype.onFocus).call(this,f);d=this.getFocusClsEl();if(d){d.syncRepaint()}},onBlur:function(f){var d;(arguments.callee.$previous||Ext.form.field.Base.prototype.onBlur).call(this,f);d=this.getFocusClsEl();if(d){d.syncRepaint()}},onGlobalShow:function(c){if(c.isAncestor(this)){this.getFocusClsEl().syncRepaint()}}});Ext.define("Ext.overrides.form.field.Checkbox",{override:"Ext.form.field.Checkbox",inputValue:1,uncheckedValue:0});(Ext.cmd.derive("Ext.form.FieldSet",Ext.container.Container,{checkboxUI:"default",collapsed:false,toggleOnTitleClick:true,baseCls:"x-fieldset",layout:"anchor",descriptionText:"{0} field set",expandText:"Expand field set",componentLayout:"fieldset",ariaRole:"group",focusable:false,autoEl:"fieldset",checkbox:null,childEls:["body"],renderTpl:["{%this.renderLegend(out,values);%}",'<div id="{id}-body" data-ref="body" class="{baseCls}-body {baseCls}-body-{ui} {bodyTargetCls}" ','role="presentation"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>"],stateEvents:["collapse","expand"],maskOnDisable:false,initComponent:function(){var f=this,d=f.baseCls;if(f.ariaRole&&!f.ariaLabel){f.ariaLabel=Ext.String.formatEncode(f.descriptionText,f.title||"")}f.ariaRenderAttributes=f.ariaRenderAttributes||{};f.ariaRenderAttributes["aria-expanded"]=!f.collapsed;f.initFieldAncestor();Ext.container.Container.prototype.initComponent.call(this);f.layout.managePadding=f.layout.manageOverflow=false;if(f.collapsed){f.addCls(d+"-collapsed");f.collapse()}if(f.title||f.checkboxToggle||f.collapsible){f.addTitleClasses();f.legend=f.createLegendCt()}f.initMonitor()},initRenderData:function(){var d=this,f=Ext.container.Container.prototype.initRenderData.call(this);f.bodyTargetCls=d.bodyTargetCls;d.protoBody.writeTo(f);delete d.protoBody;return f},doDestroy:function(){var f=this,d=f.legend;if(d){delete d.ownerCt;d.destroy();f.legend=null}Ext.container.Container.prototype.doDestroy.call(this)},getState:function(){var c=Ext.container.Container.prototype.getState.call(this);c=this.addPropertyToState(c,"collapsed");return c},afterCollapse:Ext.emptyFn,afterExpand:Ext.emptyFn,collapsedHorizontal:function(){return true},collapsedVertical:function(){return true},createLegendCt:function(){var k=this,g=[],j={baseCls:k.baseCls+"-header",layout:"container",ui:k.ui,id:k.id+"-legend",autoEl:"legend",ariaRole:null,items:g,ownerCt:k,shrinkWrap:true,ownerLayout:k.componentLayout},l;if(k.checkboxToggle){g.push(k.createCheckboxCmp())}else{if(k.collapsible){g.push(k.createToggleCmp())}}g.push(k.createTitleCmp());l=new Ext.container.Container(j);return l},createTitleCmp:function(){var f=this,d={html:f.title,ui:f.ui,cls:f.baseCls+"-header-text",id:f.id+"-legendTitle",ariaRole:"presentation"};if(f.collapsible&&f.toggleOnTitleClick){d.listeners={click:{element:"el",scope:f,fn:f.toggle}};d.cls+=" "+f.baseCls+"-header-text-collapsible"}f.titleCmp=new Ext.Component(d);return f.titleCmp},createCheckboxCmp:function(){var l=this,j="-checkbox",g=l.baseCls+"-header"+j,k;g+=" "+g+"-"+l.ui;l.checkboxCmp=k=new Ext.form.field.Checkbox(Ext.apply({hideEmptyLabel:true,name:l.checkboxName||l.id+j,cls:g,id:l.id+"-legendChk",ui:l.checkboxUI,checked:!l.collapsed,msgTarget:"none",listeners:{change:l.onCheckChange,scope:l},ariaLabel:l.expandText},l.checkbox));return k},createToggleCmp:function(){var d=this,f;d.toggleCmp=f=new Ext.panel.Tool({cacheHeight:false,cls:d.baseCls+"-header-tool-"+d.ui,type:"toggle",handler:d.toggle,id:d.id+"-legendToggle",scope:d,ariaRole:"checkbox",ariaLabel:d.expandText,ariaRenderAttributes:{"aria-checked":!d.collapsed}});return f},doRenderLegend:function(n,k){var l=k.$comp,m=l.legend,j;if(m){m.ownerLayout.configureItem(m);l.setLegendCollapseImmunity(m);j=m.getRenderTree();Ext.DomHelper.generateMarkup(j,n)}},getCollapsed:function(){return this.collapsed?"top":false},getCollapsedDockedItems:function(){var c=this.legend;return c?[c]:[]},setTitle:function(g){var j=this,f=j.legend;j.title=g;j.ariaLabel=Ext.String.formatEncode(j.descriptionText,g||"");if(j.rendered){if(!f){j.legend=f=j.createLegendCt();j.addTitleClasses();f.ownerLayout.configureItem(f);j.setLegendCollapseImmunity(f);f.render(j.el,0)}j.titleCmp.update(g);j.ariaEl.dom.setAttribute("aria-label",j.ariaLabel)}else{if(f){j.titleCmp.update(g)}else{j.addTitleClasses();j.legend=j.createLegendCt()}}return j},addTitleClasses:function(){var j=this,g=j.title,f=j.baseCls;if(g){j.addCls(f+"-with-title")}if(g||j.checkboxToggle||j.collapsible){j.addCls(f+"-with-legend")}},expand:function(){return this.setExpanded(true)},collapse:function(){return this.setExpanded(false)},setCollapsed:function(c){this.setExpanded(!c)},setExpanded:function(n){var m=this,l=m.checkboxCmp,k=m.toggleCmp,j=n?"expand":"collapse";if(!m.rendered||m.fireEvent("before"+j,m)!==false){n=!!n;if(l){l.setValue(n)}else{if(k&&k.ariaEl.dom){k.ariaEl.dom.setAttribute("aria-checked",n)}}if(n){m.removeCls(m.baseCls+"-collapsed")}else{m.addCls(m.baseCls+"-collapsed")}if(m.ariaEl.dom){m.ariaEl.dom.setAttribute("aria-expanded",!!n)}m.collapsed=!n;if(n){delete m.getInherited().collapsed}else{m.getInherited().collapsed=true}if(m.rendered){m.updateLayout({isRoot:false});m.fireEvent(j,m)}}return m},getRefItems:function(f){var g=Ext.container.Container.prototype.getRefItems.apply(this,arguments),j=this.legend;if(j){g.unshift(j);if(f){g.unshift.apply(g,j.getRefItems(true))}}return g},toggle:function(){this.setExpanded(!!this.collapsed)},privates:{applyTargetCls:function(c){this.bodyTargetCls=c},finishRender:function(){var c=this.legend;Ext.container.Container.prototype.finishRender.call(this);if(c){c.finishRender()}},getProtoBody:function(){var f=this,d=f.protoBody;if(!d){f.protoBody=d=new Ext.util.ProtoElement({styleProp:"bodyStyle",styleIsText:true})}return d},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){return this.body||this.frameBody||this.el},initPadding:function(k){var m=this,j=m.getProtoBody(),l=m.padding,n;if(l!==undefined){if(Ext.isIE8){l=m.parseBox(l);n=Ext.Element.parseBox(0);n.top=l.top;l.top=0;j.setStyle("padding",m.unitizeBox(n))}k.setStyle("padding",m.unitizeBox(l))}},onCheckChange:function(f,d){this.setExpanded(d)},setLegendCollapseImmunity:function(c){c.collapseImmune=true;c.getInherited().collapseImmune=true},setupRenderTpl:function(c){Ext.container.Container.prototype.setupRenderTpl.apply(this,arguments);c.renderLegend=this.doRenderLegend}}},0,["fieldset"],["component","box","container","fieldset"],{component:true,box:true,container:true,fieldset:true},["widget.fieldset"],[["fieldAncestor",Ext.form.FieldAncestor]],[Ext.form,"FieldSet"],0));(Ext.cmd.derive("Ext.form.Label",Ext.Component,{autoEl:"label",maskOnDisable:false,getElConfig:function(){var c=this;c.html=c.text?Ext.util.Format.htmlEncode(c.text):(c.html||"");return Ext.apply(Ext.Component.prototype.getElConfig.call(this),{htmlFor:c.forId||""})},setText:function(g,j){var f=this;j=j!==false;if(j){f.text=g;delete f.html}else{f.html=g;delete f.text}if(f.rendered){f.el.dom.innerHTML=j!==false?Ext.util.Format.htmlEncode(g):g;f.updateLayout()}return f}},0,["label"],["component","box","label"],{component:true,box:true,label:true},["widget.label"],0,[Ext.form,"Label"],0));Ext.define("Ext.overrides.form.Label",{override:"Ext.form.Label",labelAlign:"top",labelSeparator:"",useLabelBold:false,initComponent:function(){var c=this;(arguments.callee.$previous||Ext.Component.prototype.initComponent).call(this);c.setLabelBold(c.useLabelBold);c.on({afterrender:{fn:"fnAfterRender",scope:c}})},fnAfterRender:function(g,l){var j=this,l={},k=j.getEl();k.on("click",function(){j.fireEvent("click",j,k,l)},j)},setLabelBold:function(g){var j=this,f="font-weight: bold;";if(g){j.style=j.style?(j.style+f):f}}});(Ext.cmd.derive("Ext.form.Panel",Ext.panel.Panel,{alternateClassName:["Ext.FormPanel","Ext.form.FormPanel"],layout:"anchor",bodyAriaRole:"form",basicFormConfigs:["api","baseParams","errorReader","jsonSubmit","method","paramOrder","paramsAsHash","reader","standardSubmit","timeout","trackResetOnLoad","url","waitMsgTarget","waitTitle"],initComponent:function(){var c=this;if(c.frame){c.border=false}c.initFieldAncestor();Ext.panel.Panel.prototype.initComponent.call(this);c.relayEvents(c.form,["beforeaction","actionfailed","actioncomplete","validitychange","dirtychange"]);if(c.pollForChanges){c.startPolling(c.pollInterval||500)}},initItems:function(){Ext.panel.Panel.prototype.initItems.call(this);this.initMonitor();this.form=this.createForm()},afterFirstLayout:function(){Ext.panel.Panel.prototype.afterFirstLayout.apply(this,arguments);this.form.initialize()},createForm:function(){var n={},l=this.basicFormConfigs,j=l.length,m=0,k;for(;m<j;++m){k=l[m];n[k]=this[k]}return new Ext.form.Basic(this,n)},getForm:function(){return this.form},loadRecord:function(c){return this.getForm().loadRecord(c)},getRecord:function(){return this.getForm().getRecord()},updateRecord:function(c){return this.getForm().updateRecord(c)},getValues:function(j,l,k,g){return this.getForm().getValues(j,l,k,g)},isDirty:function(){return this.form.isDirty()},isValid:function(){return this.form.isValid()},reset:function(c){return this.form.reset(c)},hasInvalidField:function(){return this.form.hasInvalidField()},doDestroy:function(){this.stopPolling();this.form.destroy();Ext.panel.Panel.prototype.doDestroy.call(this)},load:function(c){this.form.load(c)},submit:function(c){this.form.submit(c)},startPolling:function(f){this.stopPolling();var d=new Ext.util.TaskRunner(f);d.start({interval:0,run:this.checkChange,scope:this});this.pollTask=d},stopPolling:function(){var c=this.pollTask;if(c){c.stopAll();delete this.pollTask}},checkChange:function(){var f=this.form.getFields().items,j,g=f.length;for(j=0;j<g;j++){f[j].checkChange()}}},0,["form"],["component","box","container","panel","form"],{component:true,box:true,container:true,panel:true,form:true},["widget.form"],[["fieldAncestor",Ext.form.FieldAncestor]],[Ext.form,"Panel",Ext,"FormPanel",Ext.form,"FormPanel"],0));Ext.define("Ext.overrides.form.Panel",{override:"Ext.form.Panel",initComponent:function(){var c=this;if(c.showSmartTransparent===true){c.bodyStyle=Ext.apply({backgroundColor:"transparent"},c.bodyStyle)}(arguments.callee.$previous||Ext.panel.Panel.prototype.initComponent).apply(this,arguments);c.onBefore("beforeaction",c.fnBeforeAction,c)},fnBeforeAction:function(k,m,p){var l=m.params;try{var n=l.rows?Ext.decode(l.rows):null;if(n&&n.id.indexOf("SMART_")!=-1){n.id=(n.id.indexOf("SMART_")==-1)?n.id:"";m.params.rows=Ext.encode(n)}}catch(o){}}});(Ext.cmd.derive("Ext.form.field.Picker",Ext.form.field.Text,{alternateClassName:"Ext.form.Picker",config:{triggers:{picker:{handler:"onTriggerClick",scope:"this",focusOnMousedown:true}}},renderConfig:{editable:true},keyMap:{scope:"this",DOWN:"onDownArrow",ESC:"onEsc"},keyMapTarget:"inputEl",isPickerField:true,matchFieldWidth:true,pickerAlign:"tl-bl?",openCls:"x-pickerfield-open",isExpanded:false,applyTriggers:function(j){var g=this,f=j.picker;if(!f.cls){f.cls=g.triggerCls}return Ext.form.field.Text.prototype.applyTriggers.call(this,j)},getSubTplData:function(l){var k=this,j,g;j=Ext.form.field.Text.prototype.getSubTplData.call(this,l);if(!k.ariaStaticRoles[k.ariaRole]){g=j.ariaElAttributes;if(g){g["aria-haspopup"]=true;g["aria-expanded"]=false}}return j},initEvents:function(){Ext.form.field.Text.prototype.initEvents.call(this);if(Ext.isGecko){this.inputEl.dom.setAttribute("autocomplete","off")}},updateEditable:function(f,g){var j=this;if(!f){j.inputEl.on("click",j.onTriggerClick,j)}else{j.inputEl.un("click",j.onTriggerClick,j)}Ext.form.field.Text.prototype.updateEditable.call(this,f,g)},onEsc:function(c){if(Ext.isIE){c.preventDefault()}if(this.isExpanded){this.collapse();c.stopEvent()}},onDownArrow:function(f){var d=this;if((f.time-d.lastDownArrow)>150){delete d.lastDownArrow}if(!d.isExpanded){f.stopEvent();d.onTriggerClick(f);d.lastDownArrow=f.time}else{if(!f.stopped&&(f.time-d.lastDownArrow)<150){delete d.lastDownArrow}}},expand:function(){var k=this,g,l,j;if(k.rendered&&!k.isExpanded&&!k.destroyed){g=k.bodyEl;l=k.getPicker();j=Ext.getDoc();l.setMaxHeight(l.initialConfig.maxHeight);if(k.matchFieldWidth){l.setWidth(k.bodyEl.getWidth())}l.show();k.isExpanded=true;k.alignPicker();g.addCls(k.openCls);if(!k.ariaStaticRoles[k.ariaRole]){if(!k.ariaEl.dom.hasAttribute("aria-owns")){k.ariaEl.dom.setAttribute("aria-owns",l.listEl?l.listEl.id:l.el.id)}k.ariaEl.dom.setAttribute("aria-expanded",true)}k.touchListeners=j.on({translate:false,touchstart:k.collapseIf,scope:k,delegated:false,destroyable:true});k.scrollListeners=Ext.on({scroll:k.onGlobalScroll,scope:k,destroyable:true});Ext.on("resize",k.alignPicker,k,{buffer:1});k.fireEvent("expand",k);k.onExpand()}},onExpand:Ext.emptyFn,alignPicker:function(){var f=this,d;if(f.rendered&&!f.destroyed){d=f.getPicker();if(d.isVisible()&&d.isFloating()){f.doAlign()}}},doAlign:function(){var k=this,m=k.picker,j="-above",l,n;m.el.alignTo(k.triggerWrap,k.pickerAlign,k.pickerOffset);l=m.floatParent?m.getOffsetsTo(m.floatParent.getTargetEl()):m.getXY();m.x=l[0];m.y=l[1];n=m.el.getY()<k.inputEl.getY();k.bodyEl[n?"addCls":"removeCls"](k.openCls+j);m[n?"addCls":"removeCls"](m.baseCls+j)},collapse:function(){var j=this;if(j.isExpanded&&!j.destroyed&&!j.destroying){var k=j.openCls,l=j.picker,g="-above";l.hide();j.isExpanded=false;j.bodyEl.removeCls([k,k+g]);l.el.removeCls(l.baseCls+g);if(!j.ariaStaticRoles[j.ariaRole]){j.ariaEl.dom.setAttribute("aria-expanded",false)}j.touchListeners.destroy();j.scrollListeners.destroy();Ext.un("resize",j.alignPicker,j);j.fireEvent("collapse",j);j.onCollapse()}},onCollapse:Ext.emptyFn,collapseIf:function(f){var d=this;if(!d.destroyed&&!f.within(d.bodyEl,false,true)&&!d.owns(f.target)&&!Ext.fly(f.target).isFocusable()){d.collapse()}},getPicker:function(){var f=this,d=f.picker;if(!d){f.creatingPicker=true;f.picker=d=f.createPicker();d.ownerCmp=f;delete f.creatingPicker}return f.picker},onFocusLeave:function(c){this.collapse();Ext.form.field.Text.prototype.onFocusLeave.call(this,c)},getRefItems:function(){var c=[];if(this.picker){c[0]=this.picker}return c},createPicker:Ext.emptyFn,onTriggerClick:function(f){var d=this;if(!d.readOnly&&!d.disabled){if(d.isExpanded){d.collapse()}else{d.expand()}}},doDestroy:function(){var f=this,d=f.picker;Ext.un("resize",f.alignPicker,f);Ext.destroy(f.keyNav,d);if(d){f.picker=d.pickerField=null}Ext.form.field.Text.prototype.doDestroy.call(this)},privates:{onGlobalScroll:function(c){if(!this.picker.owns(c.getElement())){this.collapse()}}}},0,["pickerfield"],["component","box","field","textfield","pickerfield"],{component:true,box:true,field:true,textfield:true,pickerfield:true},["widget.pickerfield"],0,[Ext.form.field,"Picker",Ext.form,"Picker"],0));Ext.define("Ext.overrides.form.field.Picker",{override:"Ext.form.field.Picker",initComponent:function(){var c=this;(arguments.callee.$previous||Ext.form.field.Text.prototype.initComponent).call(this);c.on({itemclick:{fn:"fnItemClick",scope:c}})},fnItemClick:function(f,d){console.info(f,d)}});(Ext.cmd.derive("Ext.selection.Model",Ext.mixin.Observable,{alternateClassName:"Ext.AbstractSelectionModel",factoryConfig:{defaultType:"dataviewmodel"},$configPrefixed:false,$configStrict:false,config:{store:null,selected:{}},isSelectionModel:true,allowDeselect:undefined,toggleOnClick:true,ordered:false,selected:null,pruneRemoved:true,suspendChange:0,ignoreRightMouseSelection:false,constructor:function(d){var f=this;f.modes={SINGLE:true,SIMPLE:true,MULTI:true};Ext.mixin.Observable.prototype.constructor.call(this,d);f.setSelectionMode(f.mode);if(f.selectionMode!=="SINGLE"){f.allowDeselect=true}},updateStore:function(d,f){this.bindStore(d,!f)},applySelected:function(c){if(!c.isBag&&!c.isCollection){c=new Ext.util[this.ordered?"Collection":"Bag"](Ext.apply({rootProperty:"data"},c))}return c},getStoreListeners:function(){var c=this;return{add:c.onStoreAdd,clear:c.onStoreClear,remove:c.onStoreRemove,update:c.onStoreUpdate,idchanged:c.onIdChanged,load:c.onStoreLoad,refresh:c.onStoreRefresh,pageadd:c.onPageAdd,pageremove:c.onPageRemove}},onBindStore:function(f,g,j){if(!j){this.updateSelectedInstances(this.selected)}},suspendChanges:function(){++this.suspendChange},resumeChanges:function(){if(this.suspendChange){--this.suspendChange}},selectAll:function(g){var k=this,l=k.store.getRange(),j=k.getSelection().length;k.suspendChanges();k.doSelect(l,true,g);if(!k.destroyed){k.resumeChanges();if(!g){k.maybeFireSelectionChange(k.getSelection().length!==j)}}},deselectAll:function(l){var q=this,v=q.getSelection(),p={},o=q.store,w=v.length,r,u,s;for(r=0,u=v.length;r<u;r++){s=v[r];p[s.id]=o.indexOf(s)}v=Ext.Array.sort(v,function(d,b){var c=p[d.id],f=p[b.id];return c<f?-1:1});q.suspendChanges();q.doDeselect(v,l);if(!q.destroyed){q.resumeChanges();if(!l){q.maybeFireSelectionChange(q.getSelection().length!==w)}}},getSelectionStart:function(){return this.selectionStart},setSelectionStart:function(c){this.selectionStart=c},selectWithEvent:function(n,k){var l=this,m=l.isSelected(n),j=k.shiftKey;switch(l.selectionMode){case"MULTI":l.selectWithEventMulti(n,k,m);break;case"SIMPLE":l.selectWithEventSimple(n,k,m);break;case"SINGLE":l.selectWithEventSingle(n,k,m);break}if(l.destroyed){return}if(!j){if(l.isSelected(n)){l.selectionStart=n}else{l.selectionStart=null}}},vetoSelection:function(c){if(c.stopSelection){return true}else{if(c.type!=="keydown"&&c.button!==0){if(this.ignoreRightMouseSelection||this.isSelected(c.record)){return true}}else{return c.type==="mousedown"}}},onNavigate:function(B){if(!B.record||this.vetoSelection(B.keyEvent)){return}this.onBeforeNavigate(B);var y=this,A=B.keyEvent,G=A.ctrlKey||B.ctrlKey,D=B.recordIndex,C=B.record,u=B.previousRecord,F=y.isSelected(C),w=(y.selectionStart&&y.isSelected(B.previousRecord))?y.selectionStart:(y.selectionStart=B.previousRecord),H=B.previousRecordIndex,v=A.getCharCode(),s=v===A.SPACE,E=B.record!==B.previousRecord,x=v===A.UP||v===A.PAGE_UP||v===A.HOME||(v===A.LEFT&&E)?"up":(v===A.DOWN||v===A.PAGE_DOWN||v===A.END||(v===A.RIGHT&&E)?"down":null);switch(y.selectionMode){case"MULTI":y.setSelectionStart(B.selectionStart);if(v===A.A&&G){y.selected.beginUpdate();y.selectRange(0,y.store.getCount()-1);y.selected.endUpdate()}else{if(s){if(A.shiftKey){y.selectRange(w,C,G)}else{if(F){if(y.allowDeselect){y.doDeselect(C)}}else{y.doSelect(C,G)}}}else{if(A.shiftKey&&w){if(x==="up"&&H<=D){y.deselectRange(u,D+1)}else{if(x==="down"&&H>=D){y.deselectRange(u,D-1)}else{if(w!==C){y.selectRange(w,C,G)}}}y.lastSelected=C}else{if(v){if(!G){y.doSelect(C,false)}}else{y.selectWithEvent(C,A)}}}}break;case"SIMPLE":if(v===A.A&&G){y.selected.beginUpdate();y.selectRange(0,y.store.getCount()-1);y.selected.endUpdate()}else{if(F){y.doDeselect(C)}else{y.doSelect(C,true)}}break;case"SINGLE":if(!G){if(x){y.doSelect(C,false)}else{if(s||!v){y.selectWithEvent(C,A)}}}}if(!A.shiftKey&&!y.destroyed&&y.isSelected(C)){y.selectionStart=C;y.selectionStartIdx=D}},selectRange:function(u,C,s){var x=this,v=x.store,D=x.selected.items,r,A,y,B,F,w,E;if(x.isLocked()){return}r=x.normalizeRowRange(u,C);u=r[0];C=r[1];B=[];for(A=u;A<=C;A++){if(!x.isSelected(v.getAt(A))){B.push(v.getAt(A))}}if(!s){F=[];x.suspendChanges();for(A=0,y=D.length;A<y;++A){E=D[A];w=v.indexOf(E);if(w<u||w>C){F.push(E)}}for(A=0,y=F.length;A<y;++A){x.doDeselect(F[A]);if(x.destroyed){break}}if(!x.destroyed){x.resumeChanges()}}if(!x.destroyed){if(B.length){x.doMultiSelect(B,true)}else{if(F){x.maybeFireSelectionChange(F.length>0)}}}},deselectRange:function(q,r){var n=this,s=n.store,m,o,p,u;if(n.isLocked()){return}m=n.normalizeRowRange(q,r);q=m[0];r=m[1];p=[];for(o=q;o<=r;o++){u=s.getAt(o);if(n.isSelected(u)){p.push(u)}}if(p.length){n.doDeselect(p)}},normalizeRowRange:function(k,l){var g=this.store,j;if(!Ext.isNumber(k)){k=g.indexOf(k)}k=Math.max(0,k);if(!Ext.isNumber(l)){l=g.indexOf(l)}l=Math.min(l,g.getCount()-1);if(k>l){j=l;l=k;k=j}return[k,l]},select:function(j,g,f){if(Ext.isDefined(j)&&!(Ext.isArray(j)&&!j.length)){this.doSelect(j,g,f)}},deselect:function(f,d){this.doDeselect(f,d)},doSelect:function(m,k,n){var l=this,j;if(l.locked||m==null){return}if(typeof m==="number"){j=l.store.getAt(m);if(!j){return}m=[j]}if(l.selectionMode==="SINGLE"){if(m.isModel){m=[m]}if(m.length){l.doSingleSelect(m[0],n)}}else{l.doMultiSelect(m,k,n)}},doMultiSelect:function(B,q,r){var u=this,A=u.selected,s=false,p,x,v,w,y;if(u.locked){return}B=!Ext.isArray(B)?[B]:B;v=B.length;if(!q&&A.getCount()>0){p=u.deselectDuringSelect(B,r);if(u.destroyed){return}if(p[0]){u.maybeFireSelectionChange(p[1]>0&&!r);return}else{s=p[1]>0}}y=function(){if(!A.getCount()){u.selectionStart=w}if(!r){A.add(w)}s=true};for(x=0;x<v;x++){w=B[x];if(u.isSelected(w)){continue}u.onSelectChange(w,true,r,y);if(u.destroyed){return}}u.lastSelected=w;if(r){A.add(B)}u.maybeFireSelectionChange(s&&!r)},deselectDuringSelect:function(s,o){var p=this,w=p.selected.getRange(),q=w.length,u=0,r=false,n,v;p.suspendChanges();p.deselectingDuringSelect=true;for(v=0;v<q;++v){n=w[v];if(!Ext.Array.contains(s,n)){if(p.doDeselect(n,o)){++u}else{r=true}}if(p.destroyed){r=true;u=0;break}}p.deselectingDuringSelect=false;if(!p.destroyed){p.resumeChanges()}return[r,u]},doDeselect:function(y,p){var q=this,x=q.selected,v=0,r,u,o=0,s=0,w;if(q.locked||!q.store){return false}if(typeof y==="number"){u=q.store.getAt(y);if(!u){return false}y=[u]}else{if(!Ext.isArray(y)){y=[y]}}w=function(){++s;if(!p){x.remove(u)}if(u===q.selectionStart){q.selectionStart=null}};r=y.length;q.suspendChanges();for(;v<r;v++){u=y[v];if(q.isSelected(u)){if(q.lastSelected===u){q.lastSelected=x.last()}++o;q.onSelectChange(u,false,p,w);if(q.destroyed){return false}}}q.resumeChanges();if(p){x.remove(y)}q.maybeFireSelectionChange(s>0&&!p);return s===o},doSingleSelect:function(k,p){var n=this,l=false,o=n.selected,m;if(n.locked){return}if(n.isSelected(k)){return}m=function(){if(o.getCount()){n.suspendChanges();var b=n.deselectDuringSelect([k],p);if(n.destroyed){return}n.resumeChanges();if(b[0]){return false}}n.lastSelected=k;if(!o.getCount()){n.selectionStart=k}o.add(k);l=true};n.onSelectChange(k,true,p,m);if(l&&!n.destroyed){n.maybeFireSelectionChange(!p)}},maybeFireSelectionChange:function(d){var f=this;if(d&&!f.suspendChange){f.fireEvent("selectionchange",f,f.getSelection())}},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},setSelectionMode:function(c){c=c?c.toUpperCase():"SINGLE";this.selectionMode=this.modes[c]?c:"SINGLE"},isLocked:function(){return this.locked},setLocked:function(c){this.locked=!!c},isRangeSelected:function(n,o){var l=this,p=l.store,m,k;k=l.normalizeRowRange(n,o);n=k[0];o=k[1];for(m=n;m<=o;m++){if(!l.isSelected(p.getAt(m))){return false}}return true},isSelected:function(c){c=Ext.isNumber(c)?this.store.getAt(c):c;return this.selected?this.selected.contains(c):false},hasSelection:function(){var c=this.getSelected();return !!(c&&c.getCount())},refresh:function(){var v=this,d=v.store,A=[],w=[],B=v.getSelection(),y=B.length,D=v.getSelected(),u,x,F,s,E,C;if(!d||!(D.isCollection||D.isBag||D.isRows)||!D.getCount()){return}F=d.getData();if(F.getSource){x=F.getSource();if(x){F=x}}v.refreshing=true;D.beginUpdate();v.suspendChanges();for(C=0;C<y;C++){s=B[C];E=F.get(s.getId());if(E){A.push(E)}else{if(!v.pruneRemoved){w.push(s)}}if(v.mode==="SINGLE"&&w.length){break}}if(D.getCount()!==(A.length+w.length)){u=true}v.clearSelections();if(A.length){v.doSelect(A,false,true)}if(w.length){D.add(w);if(!v.lastSelected){v.lastSelected=w[w.length-1]}}v.resumeChanges();if(u){D.endUpdate()}else{D.updating--}v.refreshing=false;v.maybeFireSelectionChange(u)},clearSelections:function(){var c=this.getSelected();if(c){c.clear()}this.lastSelected=null},onStoreAdd:Ext.emptyFn,onStoreClear:function(){if((!this.store.isLoading()||this.store.clearing)&&this.hasSelection()){this.clearSelections();this.maybeFireSelectionChange(true)}},onStoreRemove:function(p,x,u,o){var q=this,y=x,v,s,w,r;if(q.selectionStart&&Ext.Array.contains(x,q.selectionStart)){q.selectionStart=null}if(o||q.locked||!q.pruneRemoved){return}r=p.isMoving(null,true);if(r){y=null;for(v=0,s=x.length;v<s;++v){w=x[v];if(!r[w.id]){(y||(y=[])).push(w)}}}if(y){q.deselect(y)}},onPageRemove:function(j,f,g){this.onStoreRemove(this.store,g)},onPageAdd:function(n,o,m){var k=m.length,l,p;for(l=0;l<k;l++){p=m[l];if(this.selected.get(p.id)){this.selected.replace(p)}}},getCount:function(){return this.selected.getCount()},onUpdate:Ext.emptyFn,destroy:function(){var c=this;c.clearSelections();c.bindStore(null);c.selected=Ext.destroy(c.selected);Ext.mixin.Observable.prototype.destroy.call(this)},onStoreUpdate:Ext.emptyFn,onIdChanged:function(g,j,k,l){this.selected.updateKey(j,k)},onStoreRefresh:function(){this.updateSelectedInstances(this.selected)},updateSelectedInstances:function(y){var u=this,r=u.getStore(),s=u.lastSelected,D=0,B=u.pruneRemovedOnRefresh(),v,C,x,q,A,w;if(r&&r.isBufferedStore){return}v=y.getRange();C=v.length;if(s){u.lastSelected=r.getById(s.id);w=u.lastSelected!==s}u.refreshing=true;if(r){for(x=0;x<C;++x){q=v[x];A=r.getById(q.id);if(A){if(A!==q){y.add(A)}}else{if(B){y.remove(q);++D}}}}else{D=y.getCount();y.removeAll()}u.refreshing=false;u.maybeFireSelectionChange(D>0);if(w){u.fireEvent("lastselectedchanged",u,u.getSelection(),s)}},pruneRemovedOnRefresh:function(){return this.pruneRemoved},onStoreLoad:Ext.emptyFn,onSelectChange:function(k,n,o,l){var m=this,p=n?"select":"deselect";if((o||m.fireEvent("before"+p,m,k))!==false&&l()!==false){if(!o&&!m.destroyed){m.fireEvent(p,m,k)}}},onEditorKey:Ext.emptyFn,beforeViewRender:function(c){Ext.Array.include(this.views||(this.views=[]),c)},onHeaderClick:Ext.emptyFn,resolveListenerScope:function(g){var f=this.view,j;if(f){j=f.resolveSatelliteListenerScope(this,g)}return j||Ext.mixin.Observable.prototype.resolveListenerScope.call(this,g)},bindComponent:Ext.emptyFn,privates:{onBeforeNavigate:Ext.privateFn,getLastSelected:function(){return this.lastSelected},selectWithEventMulti:function(v,s,A){var r=this,y=s.shiftKey,D=s.ctrlKey,B=y?(r.getSelectionStart()):null,x=r.getSelection(),u=x.length,C,w,q;if(y&&B){r.selectRange(B,v,D)}else{if(D&&A){if(r.allowDeselect){r.doDeselect(v,false)}}else{if(D){r.doSelect(v,true,false)}else{if(A&&!y&&!D&&u>1){if(r.allowDeselect){C=[];for(w=0;w<u;++w){q=x[w];if(q!==v){C.push(q)}}r.doDeselect(C)}}else{if(!A){r.doSelect(v,false)}}}}}},selectWithEventSimple:function(f,g,j){if(j){this.doDeselect(f)}else{this.doSelect(f,true)}},selectWithEventSingle:function(n,k,m){var l=this,j=l.allowDeselect;if(j&&!k.ctrlKey){j=l.toggleOnClick}if(j&&m){l.doDeselect(n)}else{l.doSelect(n,false)}}}},1,0,0,0,["selection.abstract"],[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder],[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.selection,"Model",Ext,"AbstractSelectionModel"],0));(Ext.cmd.derive("Ext.selection.DataViewModel",Ext.selection.Model,{deselectOnContainerClick:true,bindComponent:function(f){var g=this,j;if(g.view!==f){if(g.view){g.navigationModel=null;Ext.destroy(g.viewListeners,g.navigationListeners)}g.view=f;if(f){j=g.getViewListeners();j.scope=g;j.destroyable=true;g.navigationModel=f.getNavigationModel();g.viewListeners=f.on(j);g.navigationListeners=g.navigationModel.on({navigate:g.onNavigate,scope:g,destroyable:true})}}},getViewListeners:function(){var d=this,f={};f[d.view.triggerCtEvent]=d.onContainerClick;return f},onUpdate:function(f){var d=this.view;if(d&&this.isSelected(f)){d.onItemSelect(f)}},onContainerClick:function(){if(this.deselectOnContainerClick){this.deselectAll()}},onSelectChange:function(u,p,q,n){var o=this,m=o.view,r=p?"select":"deselect",s=o.store.indexOf(u);if((q||o.fireEvent("before"+r,o,u,s))!==false&&n()!==false){if(m&&!m.destroyed){if(p){m.onItemSelect(u)}else{m.onItemDeselect(u)}}if(!q&&!o.destroyed){o.fireEvent(r,o,u,s)}}},destroy:function(){this.bindComponent();Ext.destroy(this.keyNav);Ext.selection.Model.prototype.destroy.call(this)}},0,0,0,0,["selection.dataviewmodel"],0,[Ext.selection,"DataViewModel"],0));(Ext.cmd.derive("Ext.view.NavigationModel",Ext.Base,{config:{store:null},focusCls:"x-view-item-focused",constructor:function(){this.mixins.observable.constructor.call(this)},bindComponent:function(c){if(this.view!==c){this.view=c;this.bindView(c)}},bindView:function(g){var k=this,j=g.dataSource,l;k.initKeyNav(g);if(!j.isEmptyStore){k.setStore(j)}l=k.getViewListeners();l.destroyable=true;k.viewListeners=k.viewListeners||[];k.viewListeners.push(g.on(l))},updateStore:function(c){this.mixins.storeholder.bindStore.apply(this,[c])},getViewListeners:function(){var c=this;return{containermousedown:c.onContainerMouseDown,itemmousedown:c.onItemMouseDown,itemclick:c.onItemClick,itemcontextmenu:c.onItemMouseDown,scope:c}},initKeyNav:function(d){var f=this;f.keyNav=new Ext.util.KeyNav({target:d,ignoreInputFields:true,eventName:"itemkeydown",defaultEventAction:"stopEvent",processEvent:f.processViewEvent,up:f.onKeyUp,down:f.onKeyDown,right:f.onKeyRight,left:f.onKeyLeft,pageDown:f.onKeyPageDown,pageUp:f.onKeyPageUp,home:f.onKeyHome,end:f.onKeyEnd,space:f.onKeySpace,enter:f.onKeyEnter,A:{ctrl:true,handler:f.onSelectAllKeyPress},scope:f})},processViewEvent:function(n,j,k,m,l){return l},addKeyBindings:function(c){this.keyNav.addBindings(c)},enable:function(){this.keyNav.enable();this.disabled=false},disable:function(){this.keyNav.disable();this.disabled=true},onContainerMouseDown:function(d,f){if(Ext.getScrollbarSize().width){if(!d.el.getClientRegion().contains(f.getPoint())){f.preventDefault();d.lastFocused="scrollbar"}}},onItemMouseDown:function(n,j,k,l,m){if(m.pointerType!=="touch"){this.setPosition(l)}},onItemClick:function(m,n,k,l,j){if(this.record===n){this.fireNavigateEvent(j)}else{this.setPosition(l,j)}},setPosition:function(y,u,p,x,s){var r=this,q=r.view,w=q.getSelectionModel(),B=q.dataSource,v,A;if(y==null||!q.all.getCount()){r.record=r.recordIndex=null}else{if(typeof y==="number"){A=Math.max(Math.min(y,B.getCount()-1),0);v=B.getAt(y)}else{if(y.isEntity){v=B.getById(y.id);A=B.indexOf(v);if(A===-1){v=B.getAt(0);A=0}}else{if(y.tagName){v=q.getRecord(y);A=B.indexOf(v)}else{v=A=null}}}}if(v===r.record){r.recordIndex=A;return r.focusPosition(A)}if(r.item){r.item.removeCls(r.focusCls)}r.previousRecordIndex=r.recordIndex;r.previousRecord=r.record;r.previousItem=r.item;r.recordIndex=A;r.record=v;x=x||r.record===r.lastFocused;if(v){r.focusPosition(r.recordIndex)}else{if(!s){r.item=null}}if(!p){w.fireEvent("focuschange",w,r.previousRecord,r.record)}if(!x&&u){r.fireNavigateEvent(u)}},focusPosition:function(d){var f=this;if(d!=null&&d!==-1){if(d.isEntity){d=f.view.dataSource.indexOf(d)}f.item=f.view.all.item(d);if(f.item){f.lastFocused=f.record;f.lastFocusedIndex=f.recordIndex;f.focusItem(f.item)}else{f.record=null}}else{f.item=null}},focusItem:function(c){c.addCls(this.focusCls);c.focus()},getPosition:function(){return this.record?this.recordIndex:null},getRecordIndex:function(){return this.recordIndex},getItem:function(){return this.item},getRecord:function(){return this.record},getLastFocused:function(){if(this.view.dataSource.indexOf(this.lastFocused)===-1){return null}return this.lastFocused},onKeyUp:function(f){var d=this.recordIndex-1;if(d<0){d=this.view.all.getCount()-1}this.setPosition(d,f)},onKeyDown:function(f){var d=this.recordIndex+1;if(d>this.view.all.getCount()-1){d=0}this.setPosition(d,f)},onKeyRight:function(f){var d=this.recordIndex+1;if(d>this.view.all.getCount()-1){d=0}this.setPosition(d,f)},onKeyLeft:function(f){var d=this.recordIndex-1;if(d<0){d=this.view.all.getCount()-1}this.setPosition(d,f)},onKeyPageDown:Ext.emptyFn,onKeyPageUp:Ext.emptyFn,onKeyHome:function(c){this.setPosition(0,c)},onKeyEnd:function(c){this.setPosition(this.view.all.getCount()-1,c)},onKeySpace:function(c){this.fireNavigateEvent(c)},onKeyEnter:function(c){c.stopEvent();c.view.fireEvent("itemclick",c.view,c.record,c.item,c.recordIndex,c)},onSelectAllKeyPress:function(c){this.fireNavigateEvent(c)},fireNavigateEvent:function(f){var d=this;d.fireEvent("navigate",{navigationModel:d,keyEvent:f,previousRecordIndex:d.previousRecordIndex,previousRecord:d.previousRecord,previousItem:d.previousItem,recordIndex:d.recordIndex,record:d.record,item:d.item})},destroy:function(){this.setStore(null);Ext.destroy(this.viewListeners,this.keyNav);this.callParent()}},1,0,0,0,["view.navigation.default"],[[Ext.util.Observable.prototype.mixinId||Ext.util.Observable.$className,Ext.util.Observable],[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable],[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],[Ext.view,"NavigationModel"],0));(Ext.cmd.derive("Ext.view.AbstractView",Ext.Component,{isDataView:true,inheritableStatics:{getRecord:function(c){return this.getBoundView(c).getRecord(c)},getBoundView:function(c){return Ext.getCmp(c.getAttribute("data-boundView"))}},defaultBindProperty:"store",renderBuffer:document.createElement("div"),statics:{updateDelay:200,queueRecordChange:function(w,u,C,H,G){var x=this,I=x.changeQueue||(x.changeQueue={}),B=C.internalId,y,D,A,F,J,v,E;y=I[B]||(I[B]={operation:H,record:C,data:{},views:[]});D=y.data;Ext.Array.include(y.views,w);if(G&&(A=G.length)){for(F=0;F<A;F++){J=G[F];v=C.data[J];if(D.hasOwnProperty(J)){if(C.isEqual(D[J],v)){delete D[J];E=true}}else{D[J]=v}}if(E&&!Ext.Object.getKeys(D).length){delete I[B]}}else{Ext.apply(D,C.data)}if(!x.flushQueueTask){x.flushQueueTask=Ext.util.TaskManager.newTask({run:Ext.global.requestAnimationFrame?Ext.Function.createAnimationFrame(x.onFlushTick,x):Ext.Function.bind(x.onFlushTick,x),interval:Ext.view.AbstractView.updateDelay,repeat:1})}x.flushQueueTask.start()},onFlushTick:function(){Ext.AnimationQueue.start(this.flushChangeQueue,this)},flushChangeQueue:function(){var q=this,p,m,n,r,o,s,u;if(Ext.isScrolling){q.flushQueueTask.start();return}n=q.changeQueue;this.changeQueue={};for(o in n){r=n[o];p=r.views;m=p.length;for(s=0;s<m;s++){u=p[s];if(!u.destroyed){u.handleUpdate(u.dataSource,r.record,r.operation,Ext.Object.getKeys(r.data))}}}Ext.AnimationQueue.stop(q.flushChangeQueue,q)}},config:{selection:null,store:"ext-empty-store",navigationModel:{type:"default"},selectionModel:{type:"dataviewmodel"}},publishes:["selection"],twoWayBindable:["selection"],throttledUpdate:false,deferInitialRefresh:false,itemCls:"x-dataview-item",loadingText:"Loading...",loadMask:true,loadingUseMsg:true,selectedItemCls:"x-item-selected",emptyText:"",deferEmptyText:true,trackOver:false,blockRefresh:false,preserveScrollOnRefresh:false,preserveScrollOnReload:false,autoDestroyBoundStore:true,ariaRole:"listbox",itemAriaRole:"option",last:false,focusable:true,tabIndex:0,triggerEvent:"itemclick",triggerCtEvent:"containerclick",refreshNeeded:true,updateSuspendCounter:0,addCmpEvents:Ext.emptyFn,constructor:function(c){if(c&&c.selModel){c.selectionModel=c.selModel}Ext.Component.prototype.constructor.call(this,c)},initComponent:function(){var l=this,n=Ext.isDefined,k=l.itemTpl,m={},j;if(k){if(Ext.isArray(k)){if(typeof k[k.length-1]!=="string"){k=k.slice(0);m=k.pop()}k=k.join("")}else{if(Ext.isObject(k)){m=Ext.apply(m,k.initialConfig);k=k.html}}if(!l.itemSelector){l.itemSelector="."+l.itemCls}k=Ext.String.format('<tpl for="."><div class="{0}" role="{2}">{1}</div></tpl>',l.itemCls,k,l.itemAriaRole);l.tpl=new Ext.XTemplate(k,m)}Ext.Component.prototype.initComponent.call(this);l.tpl=l.lookupTpl("tpl");if(l.overItemCls){l.trackOver=true}l.addCmpEvents();j=l.store=Ext.data.StoreManager.lookup(l.store||"ext-empty-store");if(!l.dataSource){l.dataSource=j}l.bindStore(j,true);l.getNavigationModel().bindComponent(this);if(!l.all){l.all=new Ext.CompositeElementLite()}l.scrollState={top:0,left:0};l.savedTabIndexAttribute="data-savedtabindex-"+l.id},getElConfig:function(){var c=this.mixins.renderable.getElConfig.call(this);if(this.focusable){c.tabIndex=0}return c},onRender:function(j,f){var g=this.loadMask;Ext.Component.prototype.onRender.call(this,j,f);if(g){this.createMask(g)}},beforeLayout:function(){var c=this;Ext.Component.prototype.beforeLayout.call(this);if(c.refreshNeeded&&!c.pendingRefresh){if(c.refreshCounter){c.refreshView()}else{c.doFirstRefresh(c.dataSource)}}},onMaskBeforeShow:function(){var f=this,d=f.loadingHeight;if(d&&d>f.getHeight()){f.hasLoadingHeight=true;f.oldMinHeight=f.minHeight;f.minHeight=d;f.updateLayout()}},onMaskHide:function(){var c=this;if(!c.destroying&&c.hasLoadingHeight){c.minHeight=c.oldMinHeight;c.updateLayout();delete c.hasLoadingHeight}},beforeRender:function(){Ext.Component.prototype.beforeRender.call(this);this.getSelectionModel().beforeViewRender(this)},afterRender:function(){Ext.Component.prototype.afterRender.call(this);if(this.focusable){this.focusEl=this.el}},getRefItems:function(){var f=this.loadMask,d=[];if(f&&f.isComponent){d.push(f)}return d},getSelection:function(){return this.getSelectionModel().getSelection()},updateSelection:function(f){var j=this,g;if(!j.ignoreNextSelection){j.ignoreNextSelection=true;g=j.getSelectionModel();if(f){g.select(f)}else{g.deselectAll()}j.ignoreNextSelection=false}},updateBindSelection:function(g,k){var j=this,l=null;if(!j.ignoreNextSelection){j.ignoreNextSelection=true;if(k.length){l=g.getLastSelected();j.hasHadSelection=true}if(j.hasHadSelection){j.setSelection(l)}j.ignoreNextSelection=false}},applySelectionModel:function(r,n){var o=this,p=o.grid,m,q,l;if(n){if(!n.destroyed){n.un({scope:o,selectionchange:o.updateBindSelection,lastselectedchanged:o.updateBindSelection})}Ext.destroy(o.selModelRelayer);r=Ext.Factory.selection(r)}else{if(r&&r.isSelectionModel){r.locked=o.disableSelection}else{if(o.simpleSelect){m="SIMPLE"}else{if(o.multiSelect){m="MULTI"}else{m="SINGLE"}}if(typeof r==="string"){r={type:r}}r=Ext.Factory.selection(Ext.apply({allowDeselect:o.allowDeselect||o.multiSelect,mode:m,locked:o.disableSelection},r))}}if(r.mode!=="SINGLE"){l=(p||o).ariaEl.dom;if(l){l.setAttribute("aria-multiselectable",true)}else{if(!p){q=o.ariaRenderAttributes||(o.ariaRenderAttributes={});q["aria-multiselectable"]=true}}}o.selModelRelayer=o.relayEvents(r,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]);r.on({scope:o,lastselectedchanged:o.updateBindSelection,selectionchange:o.updateBindSelection});return r},updateSelectionModel:function(c){this.selModel=c},applyNavigationModel:function(c){return Ext.Factory.viewNavigation(c)},onFocusEnter:function(j){var k=this,l=k.getNavigationModel(),g;if(g==="scrollbar"){j.relatedTarget.focus();return}k.toggleChildrenTabbability(false);if(!k.itemFocused&&k.all.getCount()){if(j.event.getTarget()===k.tabGuardEl){g=k.all.getCount()-1}else{g=l.getLastFocused()}l.setPosition(g||0,j.event,null,!g);k.itemFocused=l.getPosition()!=null}if(k.itemFocused){k.el.dom.setAttribute("tabIndex",-1);if(k.tabGuardEl){k.tabGuardEl.setAttribute("tabIndex",-1)}}Ext.Component.prototype.onFocusEnter.call(this,j)},onFocusLeave:function(f){var d=this;if(d.itemFocused&&!d.refreshing){d.getNavigationModel().setPosition(null,f.event,null,true);d.itemFocused=false;d.el.dom.setAttribute("tabIndex",0);if(d.tabGuardEl){d.tabGuardEl.setAttribute("tabIndex",0)}}Ext.Component.prototype.onFocusLeave.call(this,f)},onRemoved:function(c){Ext.Component.prototype.onRemoved.call(this,c);if(!c){this.onFocusLeave({})}},refresh:function(){var u=this,v=u.all,q=v.getCount(),w=u.refreshCounter,r,B,C,x=u.getSelectionModel(),y,A=w&&v.getCount()&&u.preserveScrollOnRefresh&&u.getScrollable(),s=u.bufferedRenderer,D;if(!u.rendered||u.destroyed){return}if(!u.hasListeners.beforerefresh||u.fireEvent("beforerefresh",u)!==false){u.refreshing=true;y=u.saveFocusState();r=u.getTargetEl();C=u.getViewRange();B=r.dom;if(A){D=A.getPosition();if(!(D.x||D.y)){D=null}}if(w){u.clearViewEl();u.refreshCounter++}else{u.refreshCounter=1}u.tpl.append(r,u.collectData(C,v.startIndex||0));if(C.length<1){u.addEmptyText();v.clear()}else{u.collectNodes(r.dom);u.updateIndexes(0)}y();if(u.refreshSelmodelOnRefresh!==false){x.refresh()}u.refreshNeeded=false;u.refreshSize(v.getCount()!==q);u.fireItemMutationEvent("refresh",u,C);if(A){A.scrollTo(D)}if(!u.viewReady){u.viewReady=true;u.fireEvent("viewready",u)}u.refreshing=false;if(s){s.refreshSize()}u.cleanupData()}if(!u.tabGuardEl){u.tabGuardEl=u.el.createChild({cls:"x-tab-guard x-tab-guard-after",tabIndex:"0"},null,true)}},addEmptyText:function(){var f=this,d=f.getStore();if(f.emptyText&&!d.isLoading()&&(!f.deferEmptyText||f.refreshCounter>1||d.isLoaded())){f.emptyEl=Ext.core.DomHelper.insertHtml("beforeEnd",f.getTargetEl().dom,f.emptyText)}},getEmptyText:function(){return this.emptyText},setEmptyText:function(d){var f=this;if(f.emptyText!==d){f.emptyText=d;f.refresh()}return f},getViewRange:function(){return this.dataSource.getRange()},refreshSize:function(j){var k=this,l=k.getSizeModel(),g=k.getScrollable();if(l.height.shrinkWrap||l.width.shrinkWrap||j){k.updateLayout()}},afterFirstLayout:function(k,l){var j=this,g=j.getScrollable();if(g){g.on({scroll:j.onViewScroll,scrollend:j.onViewScrollEnd,scope:j,onFrame:!!Ext.global.requestAnimationFrame})}Ext.Component.prototype.afterFirstLayout.call(this,k,l)},clearViewEl:function(){var o=this,n=o.getTargetEl(),q=o.all,s=o.getStore(),r,u,p,m=o.getNodeContainer()===n;u=q.slice();p=[];for(r=q.startIndex;r<=q.endIndex;r++){p.push(s.getByInternalId(q.item(r,true).getAttribute("data-recordId")))}o.fireItemMutationEvent("itemremove",p,q.startIndex||0,u,o);o.clearEmptyEl();o.all.clear(!m);n=m?n.dom:o.getNodeContainer();if(n){n.innerHTML=""}},clearEmptyEl:function(){var c=this.emptyEl;if(c){Ext.removeNode(c)}this.emptyEl=null},onViewScroll:function(j,f,g){this.fireEvent("scroll",this,f,g)},onViewScrollEnd:function(j,f,g){this.fireEvent("scrollend",this,f,g)},saveScrollState:function(){var d=this,f=d.scrollState;if(d.rendered){f.left=d.getScrollX();f.top=d.getScrollY()}},restoreScrollState:function(){var d=this,f=d.scrollState;if(d.rendered){d.setScrollX(f.left);d.setScrollY(f.top)}},prepareData:function(m,n,o){var p,k,l;if(o){p=o.getAssociatedData();for(k in p){if(p.hasOwnProperty(k)){if(!l){m=Ext.Object.chain(m);l=true}m[k]=p[k]}}}return m},collectData:function(o,l){var m=[],n=0,k=o.length,p;for(;n<k;n++){p=o[n];m[n]=this.prepareData(p.data,l+n,p)}return m},cleanupData:Ext.emptyFn,bufferRender:function(r,q){var o=this,n=o.renderBuffer,u=document.createDocumentFragment(),s,m,p;o.tpl.overwrite(n,o.collectData(r,q));s=Ext.fly(n).query(o.getItemSelector());for(p=0,m=s.length;p<m;p++){u.appendChild(s[p])}return{fragment:u,children:s}},nodeContainerSelector:null,getNodeContainer:function(){var f=this.getTargetEl(),d=this.nodeContainerSelector;return d?f.down(d,true):f},setItemsDraggable:function(l){var k=this,g="#"+k.id+" "+k.getItemSelector(),j=k.viewStyleSheet;if(l){if(!j){j=Ext.view.AbstractView.prototype.viewStyleSheet=Ext.util.CSS.createStyleSheet("","AbstractView")}Ext.util.CSS.createRule(j,g,"touch-action: pinch-zoom double-tap-zoom;-ms-touch-action: pinch-zoom double-tap-zoom;-webkit-user-drag: none;")}else{if(j){Ext.util.CSS.deleteRule(g)}}},getNodeContainerSelector:function(){return this.nodeContainerSelector},onUpdate:function(p,r,q,m,o){var n=this,l=o&&o.filtered;if(!l&&n.getNode(r)){if(n.throttledUpdate){n.statics().queueRecordChange(n,p,r,q,m)}else{n.handleUpdate(p,r,q,m,o)}}},handleUpdate:function(o,k){var l=this,n,m,p=l.getSelectionModel();if(l.viewReady&&!l.refreshNeeded){n=l.dataSource.indexOf(k);if(n>-1){if(l.getNode(k)){m=l.bufferRender([k],n).children[0];l.all.replaceElement(n,m,true);l.updateIndexes(n,n);p.onUpdate(k);l.refreshSizePending=true;if(p.isSelected(k)){l.onItemSelect(k)}if(l.hasListeners.itemupdate){l.fireEvent("itemupdate",k,n,m,l)}return m}}}},onReplace:function(y,w,H,G){var B=this,A=B.all,D=B.getSelectionModel(),v=w,J,u,C,I,x,F,E;if(B.rendered){J=B.bufferRender(G,w,true);C=J.fragment;I=J.children;u=A.item(w);if(u){A.item(w).insertSibling(C,"before",true)}else{B.appendNodes(C)}A.insert(w,I);if(H.length){E=B.saveFocusState()}w+=G.length;F=w+H.length-1;x=A.removeRange(w,F,true);if(B.refreshSelmodelOnRefresh!==false){D.refresh()}B.updateIndexes(w);B.fireItemMutationEvent("itemremove",H,v,x,B);B.fireItemMutationEvent("itemadd",G,v,I,B);E();B.refreshSize()}},onAdd:function(n,o,m){var l=this,p,k=l.getSelectionModel();if(l.rendered&&!l.refreshNeeded){if(l.all.getCount()===0){l.refresh();p=l.all.slice()}else{p=l.doAdd(o,m);if(l.refreshSelmodelOnRefresh!==false){k.refresh()}l.updateIndexes(m);l.refreshSizePending=true}l.fireItemMutationEvent("itemadd",o,m,p,l)}},appendNodes:function(f){var j=this.all,g=j.getCount();if(this.nodeContainerSelector){this.getNodeContainer().appendChild(f)}else{j.item(g-1).insertSibling(f,"after")}},doAdd:function(w,u){var r=this,o=r.bufferRender(w,u,true),s=o.fragment,x=o.children,q=r.all,v=q.getCount(),p=q.startIndex||0,y=q.endIndex||v-1;if(v===0||u>y){r.appendNodes(s)}else{if(u<=p){q.item(p).insertSibling(s,"before",true)}else{q.item(u).insertSibling(x,"before",true)}}q.insert(u,x);return x},onRemove:function(q,y,u){var s=this,p=s.all,r,x,w,B,A,v;if(s.rendered&&!s.refreshNeeded&&p.getCount()){if(s.dataSource.getCount()===0){s.refresh()}else{v=s.saveFocusState();B=[];for(x=y.length-1;x>=0;--x){w=y[x];r=u+x;if(B){A=p.item(r);B[x]=A?A.dom:undefined}if(p.item(r)){s.doRemove(w,r)}}s.fireItemMutationEvent("itemremove",y,u,B,s);v();s.updateIndexes(u)}s.refreshSizePending=true}},doRemove:function(d,f){this.all.removeElement(f,true)},eventLifecycleMap:{refresh:"onViewRefresh",itemremove:"onItemRemove",itemadd:"onItemAdd"},fireItemMutationEvent:function(f){var j=this,g=j.ownerGrid;if(g){j.ownerGrid[j.eventLifecycleMap[f]].apply(j.ownerGrid,Ext.Array.slice(arguments,1))}j.fireEvent.apply(j,arguments)},saveFocusState:function(){var m=this,p=m.dataSource||m.store,o=m.getNavigationModel(),n=o.recordIndex,l=o.record,k=m.el.contains(Ext.Element.getActiveElement());if(l){if(k){m.el.dom.focus()}return function(){if(p.getCount()){n=Math.min(n,m.all.getCount()-1);o.setPosition(p.contains(l)?l:n,null,null,true,!k)}}}return Ext.emptyFn},refreshNode:function(c){if(Ext.isNumber(c)){c=this.store.getAt(c)}this.onUpdate(this.dataSource,c)},updateIndexes:function(m,n){var r=this.all.elements,o,l=this.getViewRange(),p,q=this.id;m=m||0;n=n||((n===0)?0:(r.length-1));for(p=m;p<=n;p++){o=r[p];o.setAttribute("data-recordIndex",p);o.setAttribute("data-recordId",l[p].internalId);o.setAttribute("data-boundView",q)}},bindStore:function(n,m){var k=this,j=k.getSelectionModel(),l=k.getNavigationModel();if(j&&!j.destroyed){j.bindStore(n,m);j.bindComponent(n?k:null)}k.mixins.storeholder.bindStore.apply(k,arguments);if(l&&!l.destroyed){l.setStore(n)}if(n&&k.componentLayoutCounter&&!k.blockRefresh){k.doFirstRefresh(n,!m)}},doFirstRefresh:function(f,g){var j=this;if(j.deferInitialRefresh&&!g){Ext.defer(j.doFirstRefresh,1,j,[f,true])}else{if(f&&!j.deferRefreshForLoad(f)){j.refresh()}}},onUnbindStore:function(c){this.setMaskBind(null);if(this.dataSource===c){this.dataSource=null}},onBindStore:function(f,g){var j=this;if(j.store.isBufferedStore){j.store.preserveScrollOnReload=j.preserveScrollOnReload}if(g&&g.isBufferedStore){delete g.preserveScrollOnReload}j.setMaskBind(f);if(!j.dataSource){j.dataSource=f}},setMaskBind:function(f){var d=this.loadMask;if(this.rendered&&d&&f&&!d.bindStore){d=this.createMask()}if(d&&d.bindStore){d.bindStore(f)}},getStoreListeners:function(){var c=this;return{refresh:c.onDataRefresh,replace:c.onReplace,add:c.onAdd,remove:c.onRemove,update:c.onUpdate,clear:c.onDataRefresh,beginupdate:c.onBeginUpdate,endupdate:c.onEndUpdate}},onBeginUpdate:function(){++this.updateSuspendCounter;Ext.suspendLayouts()},onEndUpdate:function(){var c=this;if(c.updateSuspendCounter){--c.updateSuspendCounter}Ext.resumeLayouts(true);if(c.refreshSizePending){c.refreshSize(true);c.refreshSizePending=false}},onDataRefresh:function(f){var g=this,j=g.preserveScrollOnRefresh;if(f.loadCount>g.lastRefreshLoadCount){g.preserveScrollOnRefresh=g.preserveScrollOnReload}g.refreshView();g.preserveScrollOnRefresh=j;g.lastRefreshLoadCount=f.loadCount},refreshView:function(k){var l=this,g=l.blockRefresh||!l.rendered||l.up("[collapsed],[isCollapsingOrExpanding],[hidden]"),j=l.bufferedRenderer;if(g){l.refreshNeeded=true}else{if(j){j.refreshView(k)}else{l.refresh()}}},findItemByChild:function(c){return Ext.fly(c).findParent(this.getItemSelector(),this.getTargetEl())},findTargetByEvent:function(c){return c.getTarget(this.getItemSelector(),this.getTargetEl())},getSelectedNodes:function(){var l=[],g=this.getSelectionModel().getSelection(),j=g.length,k=0;for(;k<j;k++){l.push(this.getNode(g[k]))}return l},getRecords:function(m){var n=[],l=0,j=m.length,k=this.dataSource.data;for(;l<j;l++){n[n.length]=k.getByKey(m[l].getAttribute("data-recordId"))}return n},getRecord:function(c){return this.dataSource.getByInternalId(Ext.getDom(c).getAttribute("data-recordId"))},isSelected:function(f){var d=this.getRecord(f);return this.getSelectionModel().isSelected(d)},select:function(j,g,f){this.getSelectionModel().select(j,g,f)},deselect:function(f,d){this.getSelectionModel().deselect(f,d)},getNode:function(j){var g=this,f;if(g.rendered&&(j||j===0)){if(Ext.isString(j)){f=document.getElementById(j)}else{if(j.isModel){f=g.getNodeByRecord(j)}else{if(Ext.isNumber(j)){f=g.all.elements[j]}else{if(j.target&&j.target.nodeType){j=j.target}f=Ext.fly(j).findParent(g.itemSelector,g.getTargetEl())}}}}return f||null},getNodeByRecord:function(d){var f=this.store.indexOf(d);return this.all.elements[f]||null},getNodes:function(g,f){var j=this.all;if(f!==undefined){f++}return j.slice(g,f)},indexOf:function(c){c=this.getNode(c);if(!c&&c!==0){return -1}if(c.getAttribute("data-recordIndex")){return Number(c.getAttribute("data-recordIndex"))}return this.all.indexOf(c)},doDestroy:function(){var g=this,j=g.updateSuspendCounter,f=g.tabGuardEl;if(g.all&&!g.all.destroyed){g.all.clear()}if(f){if(f.parentNode){f.parentNode.removeChild(f)}}g.emptyEl=null;g.setItemsDraggable(false);g.bindStore(null);if(g.selModelRelayer){g.selModelRelayer.destroy()}Ext.destroy(g.navigationModel,g.selectionModel,g.loadMask);while(j--){Ext.resumeLayouts(true)}Ext.Component.prototype.doDestroy.call(this)},onItemSelect:function(d){var f=this.getNode(d);if(f){Ext.fly(f).addCls(this.selectedItemCls);f.setAttribute("aria-selected","true")}return f},onItemDeselect:function(d){var f=this.getNode(d);if(f){Ext.fly(f).removeCls(this.selectedItemCls);f.setAttribute("aria-selected","false")}return f},getItemSelector:function(){return this.itemSelector},addItemCls:function(j,f){var g=this.getNode(j);if(g){Ext.fly(g).addCls(f)}},removeItemCls:function(j,f){var g=this.getNode(j);if(g){Ext.fly(g).removeCls(f)}},setStore:function(d){var f=this;if(f.store!==d){if(f.isConfiguring){f.store=d}else{f.bindStore(d,false)}}},privates:{deferRefreshForLoad:function(c){return c.isLoading()},toggleChildrenTabbability:function(f){var d=this.getTargetEl();if(f){d.restoreTabbableState(true)}else{d.saveTabbableState({skipSelf:true,includeSaved:false})}},collectNodes:function(g){var j=this.all,f={role:this.itemAriaRole};j.fill(Ext.fly(g).query(this.getItemSelector()),j.startIndex||0);if(this.focusable){f.tabindex="-1"}j.set(f)},createMask:function(l){var j=this,k=j.getStore(),g;if(k&&!k.isEmptyStore&&!k.loadsSynchronously()){g={target:j,msg:j.loadingText,useMsg:j.loadingUseMsg,store:k};if(j.loadingCls){g.msgCls=j.loadingCls}if(Ext.isObject(l)){g=Ext.apply(g,l)}j.loadMask=new Ext.LoadMask(g);j.loadMask.on({scope:j,beforeshow:j.onMaskBeforeShow,hide:j.onMaskHide})}return j.loadMask},getOverflowEl:function(){return Ext.Component.prototype.getTargetEl.call(this)}}},1,0,["component","box"],{component:true,box:true},0,[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],[Ext.view,"AbstractView"],function(){Ext.deprecate("extjs","4.0",function(){Ext.view.AbstractView.override({getSelectionCount:function(){if(Ext.global.console){Ext.global.console.warn("DataView: getSelectionCount will be removed, please interact with the Ext.selection.DataViewModel")}return this.selModel.getSelection().length},getSelectedRecords:function(){if(Ext.global.console){Ext.global.console.warn("DataView: getSelectedRecords will be removed, please interact with the Ext.selection.DataViewModel")}return this.selModel.getSelection()},select:function(g,l,j){if(Ext.global.console){Ext.global.console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()")}var k=this.getSelectionModel();return k.select.apply(k,arguments)},clearSelections:function(){if(Ext.global.console){Ext.global.console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()")}var c=this.getSelectionModel();return c.deselectAll()}})})}));(Ext.cmd.derive("Ext.view.View",Ext.view.AbstractView,{alternateClassName:"Ext.DataView",inputTagRe:/^textarea$|^input$/i,keyEventRe:/^key/,manageLayoutScroll:false,inheritableStatics:{EventMap:{longpress:"LongPress",mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut",mouseenter:"MouseEnter",mouseleave:"MouseLeave",keydown:"KeyDown",keyup:"KeyUp",keypress:"KeyPress",focus:"Focus"},TouchEventMap:{touchstart:"mousedown",touchend:"mouseup",tap:"click",doubletap:"dblclick"}},afterRender:function(){var c=this;Ext.view.AbstractView.prototype.afterRender.call(this);c.mon(c.el,{scope:c,click:c.handleEvent,longpress:c.handleEvent,mousedown:c.handleEvent,mouseup:c.handleEvent,dblclick:c.handleEvent,contextmenu:c.handleEvent,keydown:c.handleEvent,keyup:c.handleEvent,keypress:c.handleEvent,mouseover:c.handleMouseOver,mouseout:c.handleMouseOut})},getTargetSelector:function(){return this.dataRowSelector||this.itemSelector},handleMouseOver:function(j){var k=this,g=k.getTargetSelector(),l=j.getTarget(g);if(!k.destroyed){if(l){if(k.mouseOverItem!==l&&k.el.contains(l)){k.mouseOverItem=j.item=l;j.newType="mouseenter";k.handleEvent(j)}}else{k.handleEvent(j)}}},handleMouseOut:function(l){var n=this,p=n.getTargetSelector(),o=l.getTarget(p),m=l.getRelatedTarget(p),k;if((o===m)&&!(o===null&&m===null)){return}if(!n.destroyed){if(o&&(k=n.self.getBoundView(o))){l.item=o;l.newType="mouseleave";k.handleEvent(l);k.mouseOverItem=null}else{n.handleEvent(l)}}},handleEvent:function(g){var j=this,f=j.keyEventRe.test(g.type);g.isInputFieldEvent=Ext.fly(g.target).isInputField();g.view=j;g.item=g.getTarget(j.itemSelector);if(g.item){g.record=j.getRecord(g.item)}if(j.processUIEvent(g)!==false&&!j.destroyed){j.processSpecialEvent(g)}if(f&&!g.isInputFieldEvent){if(g.getKey()===g.SPACE||g.isNavKeyPress(true)){g.preventDefault()}}g.view=null},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,processUIEvent:function(u){if(!Ext.getBody().isAncestor(u.target)){return}var q=this,p=u.item,o=q.self,y=o.EventMap,s=o.TouchEventMap,v,w=u.record,r=u.type,x=r;if(u.newType){x=u.newType}if(p){x=s[x]||x;v=u.recordIndex=q.indexInStore?q.indexInStore(w):q.indexOf(p);if(!w||q.processItemEvent(w,p,v,u)===false){return false}if((q["onBeforeItem"+y[x]](w,p,v,u)===false)||(q.fireEvent("beforeitem"+x,q,w,p,v,u)===false)||(q["onItem"+y[x]](w,p,v,u)===false)){return false}q.fireEvent("item"+x,q,w,p,v,u)}else{r=s[r]||r;if((q.processContainerEvent(u)===false)||(q["onBeforeContainer"+y[r]](u)===false)||(q.fireEvent("beforecontainer"+r,q,u)===false)||(q["onContainer"+y[r]](u)===false)){return false}q.fireEvent("container"+r,q,u)}return true},onItemMouseEnter:function(g,k,l,j){if(this.trackOver){this.highlightItem(k)}},onItemMouseLeave:function(g,k,l,j){if(this.trackOver){this.clearHighlight()}},onItemMouseDown:Ext.emptyFn,onItemLongPress:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onItemKeyUp:Ext.emptyFn,onItemKeyPress:Ext.emptyFn,onBeforeItemLongPress:Ext.emptyFn,onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onBeforeItemKeyUp:Ext.emptyFn,onBeforeItemKeyPress:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerLongPress:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onContainerKeyUp:Ext.emptyFn,onContainerKeyPress:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerLongPress:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,onBeforeContainerKeyUp:Ext.emptyFn,onBeforeContainerKeyPress:Ext.emptyFn,setHighlightedItem:function(k){var l=this,g=l.highlightedItem,j=l.overItemCls;if(g!==k){if(g){Ext.fly(g).removeCls(j);if(Ext.isIE8){l.repaintBorder(g);l.repaintBorder(g.nextSibling)}if(l.hasListeners.unhighlightitem){l.fireEvent("unhighlightitem",l,g)}}l.highlightedItem=k;if(k){Ext.fly(k).addCls(l.overItemCls);if(Ext.isIE8){l.repaintBorder(k.nextSibling)}if(l.hasListeners.highlightitem){l.fireEvent("highlightitem",l,k)}}}},highlightItem:function(c){this.setHighlightedItem(c)},clearHighlight:function(){this.setHighlightedItem(undefined)},handleUpdate:function(p,k){var l=this,m,o,n;if(l.viewReady){m=l.getNode(k);o=Ext.view.AbstractView.prototype.handleUpdate.apply(this,arguments);n=l.highlightedItem;if(n&&n===m){delete l.highlightedItem;if(o){l.highlightItem(o)}}}},refresh:function(){this.clearHighlight();Ext.view.AbstractView.prototype.refresh.apply(this,arguments)},focusNode:function(n){var p=this,q=Ext.fly(p.getNode(n)),r=p.el,m=0,u=0,o=r.getRegion(),s;o.bottom=o.top+r.dom.clientHeight;o.right=o.left+r.dom.clientWidth;if(q){s=q.getRegion();if(s.top<o.top){m=s.top-o.top}else{if(s.bottom>o.bottom){m=s.bottom-o.bottom}}if(s.left<o.left){u=s.left-o.left}else{if(s.right>o.right){u=s.right-o.right}}if(u||m){p.scrollBy(u,m,false)}q.set({tabIndex:-1});q.focus()}},privates:{repaintBorder:function(f){var d=this.getNode(f);if(d){d.className=d.className}}}},0,["dataview"],["component","box","dataview"],{component:true,box:true,dataview:true},["widget.dataview"],0,[Ext.view,"View",Ext,"DataView"],0));(Ext.cmd.derive("Ext.toolbar.Item",Ext.Component,{alternateClassName:"Ext.Toolbar.Item",enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn},0,["tbitem"],["component","box","tbitem"],{component:true,box:true,tbitem:true},["widget.tbitem"],0,[Ext.toolbar,"Item",Ext.Toolbar,"Item"],0));(Ext.cmd.derive("Ext.toolbar.TextItem",Ext.toolbar.Item,{alternateClassName:"Ext.Toolbar.TextItem",text:"",baseCls:"x-toolbar-text",ariaRole:null,beforeRender:function(){var c=this.text;Ext.toolbar.Item.prototype.beforeRender.call(this);if(c){this.html=c}},setText:function(c){this.update(c)}},0,["tbtext"],["component","box","tbitem","tbtext"],{component:true,box:true,tbitem:true,tbtext:true},["widget.tbtext"],0,[Ext.toolbar,"TextItem",Ext.Toolbar,"TextItem"],0));(Ext.cmd.derive("Ext.picker.Month",Ext.Component,{alternateClassName:"Ext.MonthPicker",isMonthPicker:true,focusable:true,childEls:["bodyEl","prevEl","nextEl","monthEl","yearEl"],renderTpl:['<div id="{id}-bodyEl" data-ref="bodyEl" class="{baseCls}-body">','<div id="{id}-monthEl" data-ref="monthEl" class="{baseCls}-months">','<tpl for="months">','<div class="{parent.baseCls}-item {parent.baseCls}-month">','<a style="{parent.monthStyle}" role="button" hidefocus="on" class="{parent.baseCls}-item-inner">{.}</a>',"</div>","</tpl>","</div>",'<div id="{id}-yearEl" data-ref="yearEl" class="{baseCls}-years">','<div class="{baseCls}-yearnav">','<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-prevEl" data-ref="prevEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-prev" hidefocus="on" role="button"></a>',"</div>",'<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-nextEl" data-ref="nextEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-next" hidefocus="on" role="button"></a>',"</div>","</div>",'<tpl for="years">','<div class="{parent.baseCls}-item {parent.baseCls}-year">','<a hidefocus="on" class="{parent.baseCls}-item-inner" role="button">{.}</a>',"</div>","</tpl>","</div>",'<div class="x-clear"></div>','<tpl if="showButtons">','<div class="{baseCls}-buttons">{%',"var me=values.$comp, okBtn=me.okBtn, cancelBtn=me.cancelBtn;","okBtn.ownerLayout = cancelBtn.ownerLayout = me.componentLayout;","okBtn.ownerCt = cancelBtn.ownerCt = me;","Ext.DomHelper.generateMarkup(okBtn.getRenderTree(), out);","Ext.DomHelper.generateMarkup(cancelBtn.getRenderTree(), out);","%}</div>","</tpl>","</div>"],okText:"OK",cancelText:"Cancel",baseCls:"x-monthpicker",showButtons:true,footerButtonUI:"default",measureWidth:35,measureMaxHeight:20,smallCls:"x-monthpicker-small",totalYears:10,yearOffset:5,monthOffset:6,alignOnScroll:false,initComponent:function(){var c=this;c.selectedCls=c.baseCls+"-selected";if(c.small){c.addCls(c.smallCls)}c.setValue(c.value);c.activeYear=c.getYear(new Date().getFullYear()-4,-4);if(c.showButtons){c.okBtn=new Ext.button.Button({ui:c.footerButtonUI,text:c.okText,handler:c.onOkClick,scope:c});c.cancelBtn=new Ext.button.Button({ui:c.footerButtonUI,text:c.cancelText,handler:c.onCancelClick,scope:c})}Ext.Component.prototype.initComponent.call(this)},beforeRender:function(){var n=this,q=0,r=[],l=Ext.Date.getShortMonthName,o=n.monthOffset,m=n.monthMargin,p="";if(n.padding&&!n.width){n.cacheWidth()}Ext.Component.prototype.beforeRender.call(this);for(;q<o;++q){r.push(l(q),l(q+o))}if(Ext.isDefined(m)){p="margin: 0 "+m+"px;"}Ext.apply(n.renderData,{months:r,years:n.getYears(),showButtons:n.showButtons,monthStyle:p})},cacheWidth:function(){var f=this,j=f.parseBox(f.padding),g=Ext.getBody().createChild({cls:f.baseCls+" "+f.borderBoxCls,style:"position:absolute;top:-1000px;left:-1000px;",html:"&nbsp;"});f.self.prototype.width=g.getWidth()+j.left+j.right;g.destroy()},afterRender:function(){var f=this,d=f.bodyEl;Ext.Component.prototype.afterRender.call(this);if(f.up("[floating=true]")){f.el.on("mousedown",f.onElClick,f,{translate:false})}d.on({scope:f,click:"onBodyClick",dblclick:"onBodyClick"});f.years=d.select("."+f.baseCls+"-year a");f.months=d.select("."+f.baseCls+"-month a");f.backRepeater=new Ext.util.ClickRepeater(f.prevEl,{handler:Ext.Function.bind(f.adjustYear,f,[-f.totalYears])});f.prevEl.addClsOnOver(f.baseCls+"-yearnav-prev-over");f.nextRepeater=new Ext.util.ClickRepeater(f.nextEl,{handler:Ext.Function.bind(f.adjustYear,f,[f.totalYears])});f.nextEl.addClsOnOver(f.baseCls+"-yearnav-next-over");f.updateBody();if(!Ext.isDefined(f.monthMargin)){Ext.picker.Month.prototype.monthMargin=f.calculateMonthMargin()}},calculateMonthMargin:function(){var k=this,g=k.months,j=g.first(),l=j.getMargin("l");while(l&&k.getLargest()>k.measureMaxHeight){--l;g.setStyle("margin","0 "+l+"px")}return l},getLargest:function(d){var f=0;this.months.each(function(b){var c=b.getHeight();if(c>f){f=c}});return f},setValue:function(k){var l=this,j=l.activeYear,g;if(!k){l.value=[null,null]}else{if(Ext.isDate(k)){l.value=[k.getMonth(),k.getFullYear()]}else{l.value=[k[0],k[1]]}}if(l.rendered){g=l.value[1];if(g!==null){if((g<j||g>j+l.yearOffset)){l.activeYear=g-l.yearOffset+1}}l.updateBody()}return l},getValue:function(){return this.value},hasSelection:function(){var c=this.value;return c[0]!==null&&c[1]!==null},getYears:function(){var n=this,m=n.yearOffset,l=n.activeYear,k=l+m,o=l,p=[];for(;o<k;++o){p.push(o,o+m)}return p},updateBody:function(){var x=this,B=x.years,E=x.months,s=x.getYears(),r=x.selectedCls,v=x.getYear(null),A=x.value[0],u=x.monthOffset,y,C,w,F,D;if(x.rendered){B.removeCls(r);E.removeCls(r);C=B.elements;F=C.length;for(w=0;w<F;w++){D=Ext.fly(C[w]);y=s[w];D.dom.innerHTML=y;if(y===v){D.addCls(r)}}if(A!==null){if(A<u){A=A*2}else{A=(A-u)*2+1}E.item(A).addCls(r)}}},getYear:function(f,g){var j=this.value[1];g=g||0;return j===null?f:j+g},onElClick:function(c){c.stopEvent()},onBodyClick:function(j,l){var k=this,g=j.type==="dblclick";if(j.getTarget("."+k.baseCls+"-month")){j.stopEvent();k.onMonthClick(l,g)}else{if(j.getTarget("."+k.baseCls+"-year")){j.stopEvent();k.onYearClick(l,g)}}},adjustYear:function(c){if(typeof c!=="number"){c=this.totalYears}this.activeYear+=c;this.updateBody()},onOkClick:function(){this.fireEvent("okclick",this,this.value)},onCancelClick:function(){this.fireEvent("cancelclick",this)},onMonthClick:function(g,f){var j=this;j.value[0]=j.resolveOffset(j.months.indexOf(g),j.monthOffset);j.updateBody();j.fireEvent("month"+(f?"dbl":"")+"click",j,j.value);j.fireEvent("select",j,j.value)},onYearClick:function(g,f){var j=this;j.value[1]=j.activeYear+j.resolveOffset(j.years.indexOf(g),j.yearOffset);j.updateBody();j.fireEvent("year"+(f?"dbl":"")+"click",j,j.value);j.fireEvent("select",j,j.value)},resolveOffset:function(d,f){if(d%2===0){return(d/2)}else{return f+Math.floor(d/2)}},doDestroy:function(){Ext.destroy(this.backRepeater,this.nextRepeater,this.okBtn,this.cancelBtn);Ext.Component.prototype.doDestroy.call(this)},privates:{finishRenderChildren:function(){var c=this;Ext.Component.prototype.finishRenderChildren.apply(this,arguments);if(this.showButtons){c.okBtn.finishRender();c.cancelBtn.finishRender()}}}},0,["monthpicker"],["component","box","monthpicker"],{component:true,box:true,monthpicker:true},["widget.monthpicker"],0,[Ext.picker,"Month",Ext,"MonthPicker"],0));Ext.define("Ext.theme.neptune.picker.Month",{override:"Ext.picker.Month",measureMaxHeight:36});Ext.define("Ext.theme.triton.picker.Month",{override:"Ext.picker.Month",footerButtonUI:"default-toolbar",calculateMonthMargin:Ext.emptyFn});(Ext.cmd.derive("Ext.picker.Date",Ext.Component,{alternateClassName:"Ext.DatePicker",todayText:"Today",ariaTitle:"Date Picker: {0}",ariaTitleDateFormat:"F d",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",ariaMinText:"This date is before the minimum date",maxText:"This date is after the maximum date",ariaMaxText:"This date is after the maximum date",disabledDaysText:"Disabled",ariaDisabledDaysText:"This day of week is disabled",disabledDatesText:"Disabled",ariaDisabledDatesText:"This date is disabled",nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",monthYearFormat:"F Y",startDay:0,showToday:true,disableAnim:false,baseCls:"x-datepicker",longDayFormat:"F d, Y",footerButtonUI:"default",isDatePicker:true,alignOnScroll:false,ariaRole:"region",focusable:true,childEls:["innerEl","eventEl","prevEl","nextEl","middleBtnEl","footerEl"],border:true,renderTpl:['<div id="{id}-innerEl" data-ref="innerEl" role="presentation">','<div class="{baseCls}-header">','<div id="{id}-prevEl" data-ref="prevEl" class="{baseCls}-prev {baseCls}-arrow" role="presentation" title="{prevText}"></div>','<div id="{id}-middleBtnEl" data-ref="middleBtnEl" class="{baseCls}-month" role="heading">{%this.renderMonthBtn(values, out)%}</div>','<div id="{id}-nextEl" data-ref="nextEl" class="{baseCls}-next {baseCls}-arrow" role="presentation" title="{nextText}"></div>',"</div>",'<table role="grid" id="{id}-eventEl" data-ref="eventEl" class="{baseCls}-inner" cellspacing="0" tabindex="0" aria-readonly="true">',"<thead>",'<tr role="row">','<tpl for="dayNames">','<th role="columnheader" class="{parent.baseCls}-column-header" aria-label="{.}">','<div role="presentation" class="{parent.baseCls}-column-header-inner">{.:this.firstInitial}</div>',"</th>","</tpl>","</tr>","</thead>","<tbody>",'<tr role="row">','<tpl for="days">',"{#:this.isEndOfWeek}",'<td role="gridcell">','<div hidefocus="on" class="{parent.baseCls}-date"></div>',"</td>","</tpl>","</tr>","</tbody>","</table>",'<tpl if="showToday">','<div id="{id}-footerEl" data-ref="footerEl" role="presentation" class="{baseCls}-footer">{%this.renderTodayBtn(values, out)%}</div>',"</tpl>",'<div id="{id}-todayText" class="x-hidden-clip">{todayText}.</div>','<div id="{id}-ariaMinText" class="x-hidden-clip">{ariaMinText}.</div>','<div id="{id}-ariaMaxText" class="x-hidden-clip">{ariaMaxText}.</div>','<div id="{id}-ariaDisabledDaysText" class="x-hidden-clip">{ariaDisabledDaysText}.</div>','<div id="{id}-ariaDisabledDatesText" class="x-hidden-clip">{ariaDisabledDatesText}.</div>',"</div>",{firstInitial:function(c){return Ext.picker.Date.prototype.getDayInitial(c)},isEndOfWeek:function(f){f--;var d=f%7===0&&f!==0;return d?'</tr><tr role="row">':""},renderTodayBtn:function(d,f){Ext.DomHelper.generateMarkup(d.$comp.todayBtn.getRenderTree(),f)},renderMonthBtn:function(d,f){Ext.DomHelper.generateMarkup(d.$comp.monthBtn.getRenderTree(),f)}}],initHour:12,numDays:42,initComponent:function(){var f=this,d=Ext.Date.clearTime;f.selectedCls=f.baseCls+"-selected";f.disabledCellCls=f.baseCls+"-disabled";f.prevCls=f.baseCls+"-prevday";f.activeCls=f.baseCls+"-active";f.cellCls=f.baseCls+"-cell";f.nextCls=f.baseCls+"-prevday";f.todayCls=f.baseCls+"-today";if(!f.format){f.format=Ext.Date.defaultFormat}if(!f.dayNames){f.dayNames=Ext.Date.dayNames}f.dayNames=f.dayNames.slice(f.startDay).concat(f.dayNames.slice(0,f.startDay));Ext.Component.prototype.initComponent.call(this);f.value=f.value?d(f.value,true):d(new Date());f.initDisabledDays()},getRefOwner:function(){return this.pickerField||Ext.Component.prototype.getRefOwner.call(this)},getRefItems:function(){var f=[],g=this.monthBtn,j=this.todayBtn;if(g){f.push(g)}if(j){f.push(j)}return f},beforeRender:function(){var k=this,l=Ext.String.htmlEncode,j=new Array(k.numDays),g=Ext.Date.format(new Date(),k.format);if(k.padding&&!k.width){k.cacheWidth()}k.monthBtn=new Ext.button.Split({ownerCt:k,ownerLayout:k.getComponentLayout(),text:"",tooltip:k.monthYearText,tabIndex:-1,ariaRole:"presentation",listeners:{click:k.doShowMonthPicker,arrowclick:k.doShowMonthPicker,scope:k}});if(k.showToday){k.todayBtn=new Ext.button.Button({ui:k.footerButtonUI,ownerCt:k,ownerLayout:k.getComponentLayout(),text:Ext.String.format(k.todayText,g),tooltip:Ext.String.format(k.todayTip,g),tooltipType:"title",tabIndex:-1,ariaRole:"presentation",handler:k.selectToday,scope:k})}Ext.Component.prototype.beforeRender.call(this);Ext.applyIf(k,{renderData:{}});Ext.apply(k.renderData,{dayNames:k.dayNames,showToday:k.showToday,prevText:l(k.prevText),nextText:l(k.nextText),todayText:l(k.todayText),ariaMinText:l(k.ariaMinText),ariaMaxText:l(k.ariaMaxText),ariaDisabledDaysText:l(k.ariaDisabledDaysText),ariaDisabledDatesText:l(k.ariaDisabledDatesText),days:j});k.protoEl.unselectable()},cacheWidth:function(){var f=this,j=f.parseBox(f.padding),g=Ext.getBody().createChild({cls:f.baseCls+" "+f.borderBoxCls,style:"position:absolute;top:-1000px;left:-1000px;"});f.self.prototype.width=g.getWidth()+j.left+j.right;g.destroy()},onRender:function(l,g){var k=this,j="div."+k.baseCls+"-date";Ext.Component.prototype.onRender.apply(this,arguments);k.cells=k.eventEl.select("tbody td");k.textNodes=k.eventEl.query(j);k.eventEl.set({"aria-labelledby":k.monthBtn.id});k.mon(k.eventEl,{scope:k,mousewheel:k.handleMouseWheel,click:{fn:k.handleDateClick,delegate:j}})},initEvents:function(){var c=this;Ext.Component.prototype.initEvents.call(this);if(c.pickerField){c.el.on("mousedown",c.onMouseDown,c)}c.monthBtn.el.on("mousedown",c.onMouseDown,c);c.prevRepeater=new Ext.util.ClickRepeater(c.prevEl,{handler:c.showPrevMonth,scope:c,mousedownStopEvent:true});c.nextRepeater=new Ext.util.ClickRepeater(c.nextEl,{handler:c.showNextMonth,scope:c,mousedownStopEvent:true});c.keyNav=new Ext.util.KeyNav(c.eventEl,Ext.apply({scope:c,left:function(b){if(b.ctrlKey){this.showPrevMonth()}else{this.update(Ext.Date.add(this.activeDate,Ext.Date.DAY,-1))}b.preventDefault()},right:function(b){if(b.ctrlKey){this.showNextMonth()}else{this.update(Ext.Date.add(this.activeDate,Ext.Date.DAY,1))}b.preventDefault()},up:function(b){if(b.ctrlKey){this.showNextYear()}else{this.update(Ext.Date.add(this.activeDate,Ext.Date.DAY,-7))}b.preventDefault()},down:function(b){if(b.ctrlKey){this.showPrevYear()}else{this.update(Ext.Date.add(this.activeDate,Ext.Date.DAY,7))}b.preventDefault()},pageUp:function(b){if(b.ctrlKey){this.showPrevYear()}else{this.showPrevMonth()}b.preventDefault()},pageDown:function(b){if(b.ctrlKey){this.showNextYear()}else{this.showNextMonth()}b.preventDefault()},home:function(b){this.update(Ext.Date.getFirstDateOfMonth(this.activeDate));b.preventDefault()},end:function(b){this.update(Ext.Date.getLastDateOfMonth(this.activeDate));b.preventDefault()},tab:function(b){this.handleTabKey(b);return true},enter:function(b){this.handleDateClick(b,this.activeCell.firstChild)},space:function(m){var o=this,b=o.pickerField,p,n,l;o.setValue(new Date(o.activeCell.firstChild.dateValue));if(b){p=o.startValue;n=o.value;l=b.getValue();if(l&&p&&l.getTime()===n.getTime()){b.setValue(p)}else{b.setValue(n)}}m.preventDefault()}},c.keyNavConfig));if(c.disabled){c.syncDisabled(true,true)}c.update(c.value)},onMouseDown:function(c){c.preventDefault()},handleTabKey:function(j){var k=this,g=k.getSelectedDate(k.activeDate),l=k.handler;if(!k.disabled&&g.dateValue&&!Ext.fly(g.parentNode).hasCls(k.disabledCellCls)){k.setValue(new Date(g.dateValue));k.fireEvent("select",k,k.value);if(l){Ext.callback(l,k.scope,[k,k.value],null,k,k)}k.onSelect()}else{k.fireEventArgs("tabout",[k])}},getSelectedDate:function(w){var u=this,p=w.getTime(),o=u.cells,c=u.selectedCls,r=o.elements,s=r.length,q,v;o.removeCls(c);for(v=0;v<s;v++){q=r[v].firstChild;if(q.dateValue===p){return q}}return null},initDisabledDays:function(){var n=this,r=n.disabledDates,o="(?:",d,m,q,p;if(!n.disabledDatesRE&&r){d=r.length-1;q=r.length;for(m=0;m<q;m++){p=r[m];o+=Ext.isDate(p)?"^"+Ext.String.escapeRegex(Ext.Date.dateFormat(p,n.format))+"$":p;if(m!==d){o+="|"}}n.disabledDatesRE=new RegExp(o+")")}},setDisabledDates:function(d){var f=this;if(Ext.isArray(d)){f.disabledDates=d;f.disabledDatesRE=null}else{f.disabledDatesRE=d}f.initDisabledDays();f.update(f.value,true);return f},setDisabledDays:function(c){this.disabledDays=c;return this.update(this.value,true)},setMinDate:function(c){this.minDate=c;return this.update(this.value,true)},setMaxDate:function(c){this.maxDate=c;return this.update(this.value,true)},setValue:function(c){this.value=Ext.Date.clearTime(c||new Date(),true);return this.update(this.value)},getValue:function(){return this.value},getDayInitial:function(c){return c.substr(0,1)},onEnable:function(){var c=this;Ext.Component.prototype.onEnable.call(this);c.syncDisabled(false,true);c.update(c.activeDate)},onShow:function(){var c=this;Ext.Component.prototype.onShow.call(this);c.syncDisabled(false);if(c.pickerField){c.startValue=c.pickerField.getValue()}},onHide:function(){Ext.Component.prototype.onHide.call(this);this.syncDisabled(true)},onDisable:function(){Ext.Component.prototype.onDisable.call(this);this.syncDisabled(true,true)},getActive:function(){return this.activeDate||this.value},runAnimation:function(g){var j=this.monthPicker,f={duration:200,callback:function(){j.setVisible(!g)}};if(g){j.el.slideOut("t",f)}else{j.el.slideIn("t",f)}},hideMonthPicker:function(f){var g=this,j=g.monthPicker;if(j&&j.isVisible()){if(g.shouldAnimate(f)){g.runAnimation(true)}else{j.hide()}}return g},doShowMonthPicker:function(){this.showMonthPicker()},doHideMonthPicker:function(){this.hideMonthPicker()},showMonthPicker:function(g){var j=this,k=j.el,l;if(j.rendered&&!j.disabled){l=j.createMonthPicker();if(!l.isVisible()){l.setValue(j.getActive());l.setSize(k.getSize());l.floatParent=null;l.setPosition(-k.getBorderWidth("l"),-k.getBorderWidth("t"));if(j.shouldAnimate(g)){j.runAnimation(false)}else{l.show()}}}return j},shouldAnimate:function(c){return Ext.isDefined(c)?c:!this.disableAnim},createMonthPicker:function(){var f=this,d=f.monthPicker;if(!d){f.monthPicker=d=new Ext.picker.Month({renderTo:f.el,ownerCmp:f,floating:true,padding:f.padding,shadow:false,small:f.showToday===false,footerButtonUI:f.footerButtonUI,listeners:{scope:f,cancelclick:f.onCancelClick,okclick:f.onOkClick,yeardblclick:f.onOkClick,monthdblclick:f.onOkClick}});if(!f.disableAnim){d.el.setStyle("display","none")}d.hide();f.on("beforehide",f.doHideMonthPicker,f)}return d},onOkClick:function(p,m){var n=this,l=m[0],o=m[1],k=new Date(o,l,n.getActive().getDate());if(k.getMonth()!==l){k=Ext.Date.getLastDateOfMonth(new Date(o,l,1))}n.setValue(k);n.hideMonthPicker()},onCancelClick:function(){this.selectedUpdate(this.activeDate);this.hideMonthPicker()},showPrevMonth:function(c){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,-1))},showNextMonth:function(c){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,1))},showPrevYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,-1))},showNextYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,1))},handleMouseWheel:function(d){var f;d.stopEvent();if(!this.disabled){f=d.getWheelDelta();if(f>0){this.showPrevMonth()}else{if(f<0){this.showNextMonth()}}}},handleDateClick:function(j,g){var k=this,l=k.handler;j.stopEvent();if(!k.disabled&&g.dateValue&&!Ext.fly(g.parentNode).hasCls(k.disabledCellCls)){k.setValue(new Date(g.dateValue));k.fireEvent("select",k,k.value);if(l){Ext.callback(l,k.scope,[k,k.value],null,k,k)}k.onSelect()}},onSelect:function(){if(this.hideOnSelect){this.hide()}},selectToday:function(){var g=this,f=g.todayBtn,j=g.handler;if(f&&!f.disabled){g.setValue(Ext.Date.clearTime(new Date()));g.fireEvent("select",g,g.value);if(j){Ext.callback(j,g.scope,[g,g.value],null,g,g)}g.onSelect()}return g},selectedUpdate:function(r){var p=this,q=r.getTime(),s=p.cells,u=p.selectedCls,n,o=s.getCount(),c;p.eventEl.dom.setAttribute("aria-busy","true");c=p.activeCell;if(c){Ext.fly(c).removeCls(u);c.setAttribute("aria-selected",false)}for(n=0;n<o;n++){c=s.item(n);if(p.textNodes[n].dateValue===q){p.activeCell=c.dom;p.eventEl.dom.setAttribute("aria-activedescendant",c.dom.id);c.dom.setAttribute("aria-selected",true);c.addCls(u);p.fireEvent("highlightitem",p,c);break}}p.eventEl.dom.removeAttribute("aria-busy")},fullUpdate:function(Y){var Q=this,am=Q.cells.elements,an=Q.textNodes,M=Q.disabledCellCls,af=Ext.Date,N=0,S=0,ah=+af.clearTime(Y,true),aa=+af.clearTime(new Date()),R=Q.minDate?af.clearTime(Q.minDate,true):Number.NEGATIVE_INFINITY,P=Q.maxDate?af.clearTime(Q.maxDate,true):Number.POSITIVE_INFINITY,V=Q.disabledDatesRE,T=Q.disabledDatesText,L=Q.disabledDays?Q.disabledDays.join(""):false,W=Q.disabledDaysText,ae=Q.format,ai=af.getDaysInMonth(Y),Z=af.getFirstDateOfMonth(Y),al=Z.getDay()-Q.startDay,ac=af.add(Y,af.MONTH,-1),ab=Q.ariaTitleDateFormat,aj,X,ap,O,ag,ad,ao,ak,U;if(al<0){al+=7}ai+=al;aj=af.getDaysInMonth(ac)-al;X=new Date(ac.getFullYear(),ac.getMonth(),aj,Q.initHour);if(Q.showToday){O=af.clearTime(new Date());ap=(O<R||O>P||(V&&ae&&V.test(af.dateFormat(O,ae)))||(L&&L.indexOf(O.getDay())!==-1));Q.todayDisabled=ap;if(!Q.disabled){Q.todayBtn.setDisabled(ap)}}ag=function(d,f){var b=am[d],c=[];if(!b.hasAttribute("id")){b.setAttribute("id",Q.id+"-cell-"+d)}U=+af.clearTime(X,true);b.firstChild.dateValue=U;b.setAttribute("aria-label",af.format(X,ab));b.removeAttribute("aria-describedby");b.removeAttribute("data-qtip");if(U===aa){f+=" "+Q.todayCls;c.push(Q.id+"-todayText")}if(U===ah){Q.activeCell=b;Q.eventEl.dom.setAttribute("aria-activedescendant",b.id);b.setAttribute("aria-selected",true);f+=" "+Q.selectedCls;Q.fireEvent("highlightitem",Q,b)}else{b.setAttribute("aria-selected",false)}if(U<R){f+=" "+M;c.push(Q.id+"-ariaMinText");b.setAttribute("data-qtip",Q.minText)}else{if(U>P){f+=" "+M;c.push(Q.id+"-ariaMaxText");b.setAttribute("data-qtip",Q.maxText)}else{if(L&&L.indexOf(X.getDay())!==-1){b.setAttribute("data-qtip",W);c.push(Q.id+"-ariaDisabledDaysText");f+=" "+M}else{if(V&&ae){ak=af.dateFormat(X,ae);if(V.test(ak)){b.setAttribute("data-qtip",T.replace("%0",ak));c.push(Q.id+"-ariaDisabledDatesText");f+=" "+M}}}}}if(c.length){b.setAttribute("aria-describedby",c.join(" "))}b.className=f+" "+Q.cellCls};Q.eventEl.dom.setAttribute("aria-busy","true");for(;N<Q.numDays;++N){if(N<al){ad=(++aj);ao=Q.prevCls}else{if(N>=ai){ad=(++S);ao=Q.nextCls}else{ad=N-al+1;ao=Q.activeCls}}an[N].innerHTML=ad;X.setDate(X.getDate()+1);ag(N,ao)}Q.eventEl.dom.removeAttribute("aria-busy");Q.monthBtn.setText(Ext.Date.format(Y,Q.monthYearFormat))},update:function(g,j){var l=this,k=l.activeDate;if(l.rendered){l.activeDate=g;if(!j&&k&&l.el&&k.getMonth()===g.getMonth()&&k.getFullYear()===g.getFullYear()){l.selectedUpdate(g,k)}else{l.fullUpdate(g,k)}}return l},doDestroy:function(){var c=this;if(c.rendered){Ext.destroy(c.keyNav,c.monthPicker,c.monthBtn,c.nextRepeater,c.prevRepeater,c.todayBtn,c.todayElSpan)}Ext.Component.prototype.doDestroy.call(this)},privates:{finishRenderChildren:function(){var c=this;Ext.Component.prototype.finishRenderChildren.call(this);c.monthBtn.finishRender();if(c.showToday){c.todayBtn.finishRender()}},getFocusEl:function(){return this.eventEl},syncDisabled:function(m,n){var k=this,j=k.keyNav,l=k.todayBtn;if(j){j.setDisabled(m);k.prevRepeater.setDisabled(m);k.nextRepeater.setDisabled(m)}if(n&&l){l.setDisabled(k.todayDisabled||m)}}}},0,["datepicker"],["component","box","datepicker"],{component:true,box:true,datepicker:true},["widget.datepicker"],0,[Ext.picker,"Date",Ext,"DatePicker"],0));Ext.define("Ext.theme.triton.picker.Date",{override:"Ext.picker.Date",footerButtonUI:"default-toolbar"});(Ext.cmd.derive("Ext.form.field.Date",Ext.form.field.Picker,{alternateClassName:["Ext.form.DateField","Ext.form.Date"],format:"m/d/Y",ariaFormat:"M j Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",disabledDaysText:"Disabled",ariaDisabledDaysText:"This day of week is disabled",disabledDatesText:"Disabled",ariaDisabledDatesText:"This date cannot be selected",minText:"The date in this field must be equal to or after {0}",ariaMinText:"The date must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",ariaMaxText:"The date must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",formatText:"Expected date format {0}.",triggerCls:"x-form-date-trigger",showToday:true,useStrict:undefined,initTime:"12",initTimeFormat:"H",matchFieldWidth:false,startDay:0,valuePublishEvent:["select","blur"],componentCls:"x-form-field-date",ariaRole:"combobox",rawDate:null,rawDateText:"",initComponent:function(){var j=this,l=Ext.isString,k,g;k=j.minValue;g=j.maxValue;if(l(k)){j.minValue=j.parseDate(k)}if(l(g)){j.maxValue=j.parseDate(g)}j.disabledDatesRE=null;j.initDisabledDays();Ext.form.field.Picker.prototype.initComponent.call(this)},getSubTplData:function(l){var k=this,j,g;j=Ext.form.field.Picker.prototype.getSubTplData.call(this,l);if(!k.ariaStaticRoles[k.ariaRole]){g=j.ariaElAttributes;if(g){g["aria-owns"]=k.id+"-inputEl "+k.id+"-picker-eventEl";g["aria-autocomplete"]="none"}}return j},initValue:function(){var d=this,f=d.value;if(Ext.isString(f)){d.value=d.rawToValue(f);d.rawDate=d.value;d.rawDateText=d.parseDate(d.value)}else{d.value=f||null;d.rawDate=d.value;d.rawDateText=d.value?d.parseDate(d.value):""}Ext.form.field.Picker.prototype.initValue.call(this)},initDisabledDays:function(){if(this.disabledDates){var p=this.disabledDates,d=p.length-1,m="(?:",l,n=p.length,o;for(l=0;l<n;l++){o=p[l];m+=Ext.isDate(o)?"^"+Ext.String.escapeRegex(o.dateFormat(this.format))+"$":o;if(l!==d){m+="|"}}this.disabledDatesRE=new RegExp(m+")")}},setDisabledDates:function(g){var j=this,f=j.picker;j.disabledDates=g;j.initDisabledDays();if(f){f.setDisabledDates(j.disabledDatesRE)}},setDisabledDays:function(f){var d=this.picker;this.disabledDays=f;if(d){d.setDisabledDays(f)}},setMinValue:function(j){var l=this,g=l.picker,k=(Ext.isString(j)?l.parseDate(j):j);l.minValue=k;if(g){g.minText=Ext.String.format(l.minText,l.formatDate(l.minValue));g.setMinDate(k)}},setMaxValue:function(k){var l=this,g=l.picker,j=(Ext.isString(k)?l.parseDate(k):k);l.maxValue=j;if(g){g.maxText=Ext.String.format(l.maxText,l.formatDate(l.maxValue));g.setMaxDate(j)}},getErrors:function(J){J=arguments.length>0?J:this.formatDate(this.processRawValue(this.getRawValue()));var B=this,u=Ext.String.format,A=Ext.Date.clearTime,v=Ext.form.field.Picker.prototype.getErrors.call(this,J),w=B.disabledDays,F=B.disabledDatesRE,x=B.minValue,C=B.maxValue,D=w?w.length:0,E=0,I,H,y,G;if(J===null||J.length<1){return v}I=J;J=B.parseDate(J);if(!J){v.push(u(B.invalidText,I,Ext.Date.unescapeFormat(B.format)));return v}G=J.getTime();if(x&&G<A(x).getTime()){v.push(u(B.minText,B.formatDate(x)))}if(C&&G>A(C).getTime()){v.push(u(B.maxText,B.formatDate(C)))}if(w){y=J.getDay();for(;E<D;E++){if(y===w[E]){v.push(B.disabledDaysText);break}}}H=B.formatDate(J);if(F&&F.test(H)){v.push(u(B.disabledDatesText,H))}return v},rawToValue:function(f){var d=this;if(f===d.rawDateText){return d.rawDate}return d.parseDate(f)||f||null},valueToRaw:function(c){return this.formatDate(this.parseDate(c))},setValue:function(d){var f=this;f.lastValue=f.rawDateText;f.lastDate=f.rawDate;if(Ext.isDate(d)){f.rawDate=d;f.rawDateText=f.formatDate(d)}else{f.rawDate=f.rawToValue(d);f.rawDateText=f.formatDate(d);if(f.rawDate===d){f.rawDate=null;f.rawDateText=""}}Ext.form.field.Picker.prototype.setValue.apply(this,arguments)},checkChange:function(){var j=this,k,g,l;if(!j.suspendCheckChange){k=j.getRawValue();g=j.lastValue;l=j.lastDate;if(!j.destroyed&&j.didValueChange(k,g)){j.rawDate=j.rawToValue(k);j.rawDateText=j.formatDate(k);j.lastValue=k;j.lastDate=j.rawDate;j.fireEvent("change",j,j.getValue(),l);j.onChange(k,g)}}},safeParse:function(n,m){var o=this,q=Ext.Date,l=null,r=o.useStrict,p;if(q.formatContainsHourInfo(m)){l=q.parse(n,m,r)}else{p=q.parse(n+" "+o.initTime,m+" "+o.initTimeFormat,r);if(p){l=q.clearTime(p)}}return l},getSubmitValue:function(){var f=this.submitFormat||this.format,d=this.rawDate;return d?Ext.Date.format(d,f):""},getValue:function(){return this.rawDate||null},setRawValue:function(f){var d=this;Ext.form.field.Picker.prototype.setRawValue.call(this,f);d.rawDate=Ext.isDate(f)?f:d.rawToValue(f);d.rawDateText=this.formatDate(f)},parseDate:function(o){if(!o||Ext.isDate(o)){return o}var p=this,m=p.safeParse(o,p.format),r=p.altFormats,n=p.altFormatsArray,q=0,l;if(!m&&r){n=n||r.split("|");l=n.length;for(;q<l&&!m;++q){m=p.safeParse(o,n[q])}}return m},formatDate:function(d,f){return Ext.isDate(d)?Ext.Date.dateFormat(d,f||this.format):d},createPicker:function(){var d=this,f=Ext.String.format;return new Ext.picker.Date({id:d.id+"-picker",pickerField:d,floating:true,preventRefocus:true,hidden:true,minDate:d.minValue,maxDate:d.maxValue,disabledDatesRE:d.disabledDatesRE,disabledDatesText:d.disabledDatesText,ariaDisabledDatesText:d.ariaDisabledDatesText,disabledDays:d.disabledDays,disabledDaysText:d.disabledDaysText,ariaDisabledDaysText:d.ariaDisabledDaysText,format:d.format,showToday:d.showToday,startDay:d.startDay,minText:f(d.minText,d.formatDate(d.minValue)),ariaMinText:f(d.ariaMinText,d.formatDate(d.minValue,d.ariaFormat)),maxText:f(d.maxText,d.formatDate(d.maxValue)),ariaMaxText:f(d.ariaMaxText,d.formatDate(d.maxValue,d.ariaFormat)),listeners:{scope:d,select:d.onSelect,tabout:d.onTabOut},keyNavConfig:{esc:function(){d.inputEl.focus();d.collapse()}}})},onSelect:function(d,g){var j=this;j.setValue(g);j.rawDate=g;j.fireEvent("select",j,g);j.onTabOut(d)},onTabOut:function(c){this.inputEl.focus();this.collapse()},onExpand:function(){var c=this.rawDate;this.picker.setValue(Ext.isDate(c)?c:new Date())},onBlur:function(g){var j=this,f=j.rawToValue(j.getRawValue());if(f===""||Ext.isDate(f)){j.setValue(f)}Ext.form.field.Picker.prototype.onBlur.call(this,g)}},0,["datefield"],["component","box","field","textfield","pickerfield","datefield"],{component:true,box:true,field:true,textfield:true,pickerfield:true,datefield:true},["widget.datefield"],0,[Ext.form.field,"Date",Ext.form,"DateField",Ext.form,"Date"],0));Ext.define("Ext.overrides.form.field.Date",{override:"Ext.form.field.Date",maskRe:/[0-9\/]/,submitValue:true,hideTrigger:true,format:"d/m/Y",submitFormat:"Y-m-d"});(Ext.cmd.derive("Ext.tip.Tip",Ext.panel.Panel,{alternateClassName:"Ext.Tip",minWidth:40,maxWidth:500,shadow:"sides",constrainPosition:true,autoRender:true,hidden:true,baseCls:"x-tip",focusOnToFront:false,maskOnDisable:false,closeAction:"hide",alwaysFramed:true,frameHeader:false,initComponent:function(){var c=this;c.floating=Ext.apply({},{shadow:c.shadow},c.self.prototype.floating);Ext.panel.Panel.prototype.initComponent.apply(this,arguments);c.constrain=c.constrain||c.constrainPosition},showAt:function(f){var d=this;d.calledFromShowAt=true;Ext.panel.Panel.prototype.showAt.apply(this,arguments);if(d.isVisible()){d.doAlignment(d.getRegion().alignTo({target:new Ext.util.Point(f[0],f[1]),inside:d.constrainPosition?Ext.getBody().getRegion().adjust(5,-5,-5,5):null,align:"tl-tl",overlap:true}))}d.calledFromShowAt=0},doAlignment:function(j){var l=this,k=l.anchorEl,g=j.anchor;l.setPagePosition([j.x,j.y]);if(k){k.removeCls(l.anchorCls);if(g){l.anchorCls="x-tip-anchor-"+g.position;k.addCls(l.anchorCls);k.show();if(g.align&1){k.setTop(j.anchor.y-j.y);k.dom.style.left=""}else{k.setLeft(j.anchor.x-j.x);k.dom.style.top=""}}else{k.hide()}}},privates:{initDraggable:function(){var c=this;c.draggable={el:c.getDragEl(),delegate:c.header.el,constrain:c,constrainTo:c.el.dom.parentNode};Ext.Component.prototype.initDraggable.call(c)}},ghost:undefined,unghost:undefined},0,["tip"],["component","box","container","panel","tip"],{component:true,box:true,container:true,panel:true,tip:true},["widget.tip"],0,[Ext.tip,"Tip",Ext,"Tip"],0));(Ext.cmd.derive("Ext.tip.ToolTip",Ext.tip.Tip,{alternateClassName:"Ext.ToolTip",autoHide:true,showDelay:500,hideDelay:200,dismissDelay:5000,mouseOffset:[15,18],trackMouse:false,anchorToTarget:true,targetCounter:0,quickShowInterval:250,hideAction:"hide",fadeOutDuration:1000,defaultAlign:"bl-tl",ariaRole:"tooltip",alwaysOnTop:true,initComponent:function(){var c=this;Ext.tip.Tip.prototype.initComponent.call(this);c.setTarget(c.target);c.currentTarget=new Ext.dom.Fly()},onRender:function(j,f){var g=this;Ext.tip.Tip.prototype.onRender.apply(this,arguments);g.anchorEl=g.el.createChild({role:"presentation",cls:"x-tip-anchor"})},show:function(){if(!this.currentTarget.dom&&this.target){return this.showBy(this.target)}Ext.tip.Tip.prototype.show.call(this)},setTarget:function(g){var j=this,f;if(j.targetListeners){j.targetListeners.destroy()}if(g){j.target=g=Ext.get(g.el||g);f={mouseover:"onTargetOver",mouseout:"onTargetOut",mousemove:"onMouseMove",tap:"onTargetTap",scope:j,destroyable:true};j.targetListeners=g.on(f)}else{j.target=null}},onMouseMove:function(g){var j=this,f=j.dismissDelay;j.pointerEvent=g;if(j.isVisible()&&j.currentTarget.contains(g.target)){if(f&&j.autoHide!==false){j.clearTimer("dismiss");j.dismissTimer=Ext.defer(j.hide,f,j)}if(j.trackMouse){j.doAlignment(j.getAlignRegion())}}},getAlignRegion:function(){var r=this,o=r.anchorEl,m=r.getAnchorAlign(),l,n,p,q=r.mouseOffset;if(!r.anchorSize){o.addCls("x-tip-anchor-top");o.show();r.anchorSize=new Ext.util.Offset(o.getWidth(),o.getHeight());o.removeCls("x-tip-anchor-top");o.hide()}if((r.anchor||r.align)&&r.anchorToTarget&&!r.trackMouse){p=r.currentTarget.getRegion()}else{p=r.pointerEvent?r.pointerEvent.getPoint().adjust(-q[1],q[0],q[1],-q[0]):new Ext.util.Point();if(!r.anchor){l=true;if(q[0]>0){if(q[1]>0){m="tl-br"}else{m="bl-tr"}}else{if(q[1]>0){m="tr-bl"}else{m="br-tl"}}}}n={align:r.convertPositionSpec(m),axisLock:r.axisLock,target:p,overlap:l,offset:r.targetOffset,inside:r.constrainPosition?Ext.getBody().getRegion().adjust(5,-5,-5,5):null};if(r.anchor){n.anchorSize=r.anchorSize}return r.getRegion().alignTo(n)},fadeOut:function(){var c=this;c.el.fadeOut({duration:c.fadeOutDuration,callback:function(){c.hide();c.el.setOpacity("")}})},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return this.defaultAlign}},onTargetTap:function(c){if(this.showOnTap&&c.pointerType!=="mouse"){this.onTargetOver(c)}},onTargetOver:function(o){var q=this,r=q.delegate,p=q.currentTarget,m=o.relatedTarget||o.fromElement,n,l=q.hasListeners;if(q.disabled){return}if(r){if(p.contains(o.target)){return}n=o.getTarget(r);if(n&&Ext.fly(n).contains(o.fromElement)){return}}else{if(!q.target.contains(m)){n=q.target.dom}else{return}}if(n){if((l.beforeshow||l.show)&&q.isVisible()){q.hide()}q.triggerElement=n;q.pointerEvent=o;p.attach(n);q.handleTargetOver(n,o)}else{if(p.dom){q.handleTargetOut()}}},handleTargetOver:function(f,d){if(d.pointerType!=="mouse"){this.showFromDelay()}else{this.delayShow()}},delayShow:function(){var c=this;c.clearTimer("hide");if(c.hidden&&!c.showTimer){if(c.delegate&&Ext.Date.getElapsed(c.lastHidden)<c.quickShowInterval){c.showFromDelay()}else{c.showTimer=Ext.defer(c.showFromDelay,c.pointerEvent.pointerType!=="mouse"?0:c.showDelay,c)}}else{if(!c.hidden&&c.autoHide!==false){c.showFromDelay()}}},showFromDelay:function(){var c=this;if(!c.disabled){c.fireEvent("hovertarget",c,c.currentTarget,c.currentTarget.dom);if(c.isVisible()){c.handleAfterShow()}else{c.triggerElement=c.currentTarget.dom;c.fromDelayShow=true;c.show();c.fromDelayShow=false}}},onTargetOut:function(c){if(this.currentTarget.dom&&!this.currentTarget.contains(c.relatedTarget)){this.handleTargetOut()}},handleTargetOut:function(){var c=this;if(c.showTimer){c.clearTimer("show")}if(c.isVisible()&&c.autoHide){c.delayHide()}},delayHide:function(){var c=this;if(!c.hidden&&!c.hideTimer){c.clearTimer("dismiss");c.hideTimer=Ext.defer(c[c.hideAction],c.hideDelay,c)}},hide:function(){var c=this;c.currentTarget.detach();c.clearTimer("dismiss");c.lastHidden=new Date();if(c.anchorEl){c.anchorEl.hide()}Ext.tip.Tip.prototype.hide.apply(this,arguments);c.triggerElement=null},afterShow:function(){Ext.tip.Tip.prototype.afterShow.call(this);this.handleAfterShow()},handleAfterShow:function(){var c=this;c.clearTimers();if(!c.calledFromShowAt){c.doAlignment(c.getAlignRegion())}if(c.dismissDelay&&c.autoHide!==false){c.dismissTimer=Ext.defer(c.hide,c.dismissDelay,c)}},showBy:function(c){this.align=this.defaultAlign;this.currentTarget.attach(Ext.getDom(c.el||c));this.triggerElement=this.currentTarget.dom;this.show()},_timerNames:{},clearTimer:function(j){var n=this,l=n._timerNames,m=l[j]||(l[j]=j+"Timer"),k=n[m];if(k){clearTimeout(k);n[m]=null;if(j==="show"&&n.isHidden()){n.currentTarget.detach()}}},clearTimers:function(){var c=this;c.clearTimer("show");c.clearTimer("dismiss");c.clearTimer("hide")},onShow:function(){var c=this;Ext.tip.Tip.prototype.onShow.call(this);c.mon(Ext.getDoc(),"mousedown",c.onDocMouseDown,c)},onHide:function(){var c=this;Ext.tip.Tip.prototype.onHide.call(this);c.mun(Ext.getDoc(),"mousedown",c.onDocMouseDown,c)},onDocMouseDown:function(f){var d=this;if(!d.closable&&!f.within(d.el.dom)){d.disable();Ext.defer(d.doEnable,100,d)}},doEnable:function(){if(!this.destroyed){this.enable()}},onDisable:function(){Ext.tip.Tip.prototype.onDisable.call(this);this.clearTimers();this.hide()},doDestroy:function(){var c=this;c.clearTimers();Ext.getDoc().un("mousedown",c.onDocMouseDown,c);Ext.destroy(c.anchorEl);Ext.tip.Tip.prototype.doDestroy.call(this)},privates:{clipTo:function(j,g){var f;if(j.isRegion){f=j}else{f=(j.isComponent?j.el:Ext.fly(j)).getConstrainRegion()}Ext.tip.Tip.prototype.clipTo.call(this,f,g);this.anchorEl.clipTo(f,g)}}},0,["tooltip"],["component","box","container","panel","tip","tooltip"],{component:true,box:true,container:true,panel:true,tip:true,tooltip:true},["widget.tooltip"],0,[Ext.tip,"ToolTip",Ext,"ToolTip"],0));(Ext.cmd.derive("Ext.tip.QuickTip",Ext.tip.ToolTip,{alternateClassName:"Ext.QuickTip",interceptTitles:false,title:"&#160;",tagConfig:{namespace:"data-",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor",showDelay:"qshowDelay",hideAction:"hideAction",anchorTarget:"anchorTarget"},isQuickTip:true,shrinkWrapDock:true,initComponent:function(){var g=this,j=g.tagConfig,f=j.attr||(j.attr=j.namespace+j.attribute);g.delegate=Ext.Function.bind(g.delegate,g);g.target=g.target||Ext.getDoc();g.targets=g.targets||{};Ext.tip.ToolTip.prototype.initComponent.call(this)},setTagConfig:function(c){this.tagConfig=Ext.apply({},c);delete this.tagConfig.attr},text:null,register:function(q){var m=Ext.isArray(q)?q:arguments,p=0,j=m.length,n,r,o;for(;p<j;p++){q=m[p];n=q.target;if(n){if(Ext.isArray(n)){for(r=0,o=n.length;r<o;r++){this.targets[Ext.id(n[r])]=q}}else{this.targets[Ext.id(n)]=q}}}},unregister:function(c){delete this.targets[Ext.id(c)]},cancelShow:function(f){var j=this,g=j.currentTarget;f=Ext.getDom(f);if(j.isVisible()){if(g.dom===f){j.hide()}}else{if(g.dom===f){j.clearTimer("show")}}},delegate:function(l){var m=this,n=m.tagConfig,j=n.attr||(n.attr=n.namespace+n.attribute),k;k=l.getAttribute(j)||(m.interceptTitles&&l.title);return !!k},getTipText:function(l){var m=l.title,n=this.tagConfig,j=n.attr||(n.attr=n.namespace+n.attribute),k;if(this.interceptTitles&&m){l.setAttribute(j,m);l.removeAttribute("title");return m}else{return l.getAttribute(j)}},onTargetOver:function(p){var q=this,n=q.currentTarget,o=p.target,l,m,r;if(!o||o.nodeType!==1||o===document.documentElement||o===document.body){return}q.pointerEvent=p;l=q.targets;for(r in l){if(l.hasOwnProperty(r)){m=l[r];if(m.target&&Ext.fly(m.target).contains(o)&&!Ext.fly(m.target).contains(p.relatedTarget)){o=Ext.getDom(m.target);n.attach(o);q.activeTarget=m;m.el=n;q.anchor=m.anchor;q.activateTarget();return}}}Ext.tip.ToolTip.prototype.onTargetOver.call(this,p)},handleTargetOver:function(n,p){var q=this,o=q.currentTarget,s=q.tagConfig,r=s.namespace,u=q.getTipText(n,p),m;if(u){m=o.getAttribute(r+s.hide);q.activeTarget={el:o,text:u,width:+o.getAttribute(r+s.width)||null,autoHide:m!=="user"&&m!=="false",title:o.getAttribute(r+s.title),cls:o.getAttribute(r+s.cls),align:o.getAttribute(r+s.align),showDelay:o.getAttribute(r+s.showDelay),hideAction:o.getAttribute(r+s.hideAction),alignTarget:o.getAttribute(r+s.anchorTarget)};if(!q.initialConfig.hasOwnProperty("anchor")){q.anchor=o.getAttribute(r+s.anchor)}if(q.anchor&&!q.initialConfig.hasOwnProperty("anchorTarget")){q.alignTarget=q.activeTarget.alignTarget||n}q.activateTarget()}},activateTarget:function(){var k=this,j=k.activeTarget,l=j.showDelay,g=j.hideAction;if(k.isVisible()){k.updateContent();k.handleAfterShow()}else{if(j.showDelay){l=k.showDelay;k.showDelay=parseInt(j.showDelay,10)}k.delayShow();if(j.showDelay){k.showDelay=l}if(!(g=j.hideAction)){delete k.hideAction}else{k.hideAction=g}}},getAnchorAlign:function(){var c=this.activeTarget;return(c&&c.align)||Ext.tip.ToolTip.prototype.getAnchorAlign.call(this)},getAlignRegion:function(){var k=this,j=k.activeTarget,l=k.currentTarget.dom,g;if(j&&j.alignTarget&&k.anchor&&!k.initialConfig.hasOwnProperty("anchorTarget")){k.currentTarget.attach(Ext.getDom(j.alignTarget))}k.anchorToTarget=!!(j.align||k.anchor);g=Ext.tip.ToolTip.prototype.getAlignRegion.call(this);k.currentTarget.attach(l);return g},handleTargetOut:function(k){var m=this,l=m.activeTarget,j=m.autoHide,n=m.hideDelay;if(l&&j!==false){m.autoHide=true;if(l.hideDelay){m.hideDelay=parseInt(l.hideDelay,10)}Ext.tip.ToolTip.prototype.handleTargetOut.call(this,k);m.autoHide=j;m.hideDelay=n}},targetTextEmpty:function(){var m=this,l=m.activeTarget,j=m.tagConfig,n,k;if(l){n=l.el;if(n){k=n.getAttribute(j.namespace+j.attribute);if(!k&&!m.targets[Ext.id(l.el.dom)]){return true}}}return false},show:function(){var f=this,d=f.fromDelayShow;if(d&&f.targetTextEmpty()){f.activeTarget=null;f.currentTarget.detach();return}Ext.tip.ToolTip.prototype.show.apply(this,arguments)},beforeShow:function(){this.updateContent();Ext.tip.ToolTip.prototype.beforeShow.apply(this,arguments)},updateContent:function(){var m=this,l=m.activeTarget,k=m.header,n,j;if(l){m.suspendLayouts();if(l.title){m.setTitle(l.title);k.show()}else{if(k){k.hide()}}m.update(l.text);m.autoHide=l.autoHide;n=l.dismissDelay;m.dismissDelay=Ext.isNumber(n)?n:m.dismissDelay;j=m.lastCls;if(j){m.removeCls(j);delete m.lastCls}j=l.cls;if(j){m.addCls(j);m.lastCls=j}m.setWidth(l.width);m.align=l.align;m.resumeLayouts(true)}},hide:function(){this.activeTarget=null;Ext.tip.ToolTip.prototype.hide.call(this)}},0,["quicktip"],["component","box","container","panel","tip","tooltip","quicktip"],{component:true,box:true,container:true,panel:true,tip:true,tooltip:true,quicktip:true},["widget.quicktip"],0,[Ext.tip,"QuickTip",Ext,"QuickTip"],0));(Ext.cmd.derive("Ext.tip.QuickTipManager",Ext.Base,{singleton:true,alternateClassName:"Ext.QuickTips",disabled:false,init:function(m,p){var n=this;if(!n.tip){if(!Ext.isReady){Ext.onInternalReady(function(){Ext.tip.QuickTipManager.init(m,p)});return false}var k=Ext.apply({disabled:n.disabled,id:"ext-quicktips-tip"},p),o=k.className,l=k.xtype;if(o){delete k.className}else{if(l){o="widget."+l;delete k.xtype}}if(m!==false){k.renderTo=document.body}n.tip=Ext.create(o||"Ext.tip.QuickTip",k);n.tip.destroy=Ext.emptyFn;Ext.quickTipsActive=true}},destroy:function(){var c=this.tip;if(c){delete c.destroy;c.destroy();this.tip=null}Ext.quickTipsActive=false},ddDisable:function(){var d=this,f=d.tip;if(f&&!d.disabled){f.disable()}},ddEnable:function(){var d=this,f=d.tip;if(f&&!d.disabled){f.enable()}},enable:function(){var d=this,f=d.tip;if(f){f.enable()}d.disabled=false},disable:function(){var d=this,f=d.tip;if(f){f.disable()}d.disabled=true},isEnabled:function(){var c=this.tip;return c!==undefined&&!c.disabled},getQuickTip:function(){return this.tip},register:function(){var c=this.tip;c.register.apply(c,arguments)},unregister:function(){var c=this.tip;c.unregister.apply(c,arguments)},tips:function(){var c=this.tip;c.register.apply(c,arguments)}},0,0,0,0,0,0,[Ext.tip,"QuickTipManager",Ext,"QuickTips"],0));(Ext.cmd.derive("Ext.toolbar.Separator",Ext.toolbar.Item,{alternateClassName:"Ext.Toolbar.Separator",baseCls:"x-toolbar-separator",ariaRole:"separator"},0,["tbseparator"],["component","box","tbitem","tbseparator"],{component:true,box:true,tbitem:true,tbseparator:true},["widget.tbseparator"],0,[Ext.toolbar,"Separator",Ext.Toolbar,"Separator"],0));(Ext.cmd.derive("Ext.grid.CellContext",Ext.Base,{isCellContext:true,generation:0,constructor:function(c){this.view=c},setPosition:function(g,f){var j=this;if(arguments.length===1){if(g.length){f=g[0];g=g[1]}else{if(g.isCellContext){return j.setAll(g.view,g.rowIdx,g.colIdx,g.record,g.column)}else{if(g.view){j.view=g.view}f=g.column;g=g.row}}}j.setRow(g);j.setColumn(f);return j},setAll:function(p,o,n,k,l){var m=this;m.view=p;m.rowIdx=o;m.colIdx=n;m.record=k;m.column=l;m.generation++;return m},setRow:function(k){var m=this,l=m.view.dataSource,j=m.record,n;if(k!==undefined){if(typeof k==="number"){n=l.getCount();k=k<0?Math.max(n+k,0):Math.max(Math.min(k,n-1),0);m.rowIdx=k;m.record=l.getAt(k)}else{if(k.isModel){m.record=k;m.rowIdx=l.indexOf(k)}else{if(k.tagName||k.isElement){m.record=m.view.getRecord(k);m.rowIdx=l.indexOf(m.record)}}}}if(m.record!==j){m.generation++}return m},setColumn:function(g){var j=this,k=j.view.getVisibleColumnManager(),l=j.column;if(g!==undefined){if(typeof g==="number"){j.colIdx=g;j.column=k.getHeaderAtIndex(g)}else{if(g.isHeader){j.column=g;j.colIdx=k.indexOf(g)}}}if(j.column!==l){j.generation++}return j},getCell:function(c){return this.view.getCellByPosition(this,c)},getRow:function(f){var d=this.view.getRow(this.record);return f?d:Ext.get(d)},getNode:function(f){var d=this.view.getNode(this.record);return f?d:Ext.get(d)},isEqual:function(c){return(c&&c.isCellContext&&c.record===this.record&&c.column===this.column)},clone:function(){var f=this,d=new f.self(f.view);d.rowIdx=f.rowIdx;d.colIdx=f.colIdx;d.record=f.record;d.column=f.column;return d},privates:{isFirstColumn:function(){var c=this.getCell(true);if(c){return !c.previousSibling}},isLastColumn:function(){var c=this.getCell(true);if(c){return !c.nextSibling}},isLastRenderedRow:function(){return this.view.all.endIndex===this.rowIdx},getLastColumnIndex:function(){var c=this.getRow(true);if(c){return c.lastChild.cellIndex}return -1},refresh:function(){var j=this,g=j.view.dataSource.indexOf(j.record),f=j.view.getVisibleColumnManager().indexOf(j.column);j.setRow(g===-1?j.rowIdx:j.record);j.setColumn(f===-1?j.colIdx:j.column)},navigate:function(g){var j=this,f=j.view.getVisibleColumnManager().getColumns();switch(g){case -1:do{if(!j.colIdx){j.colIdx=f.length-1}else{j.colIdx--}j.setColumn(j.colIdx)}while(!j.getCell(true));break;case 1:do{if(j.colIdx>=f.length){j.colIdx=0}else{j.colIdx++}j.setColumn(j.colIdx)}while(!j.getCell(true));break}}},statics:{compare:function(f,d){return f.rowIdx-d.rowIdx||f.colIdx-d.colIdx}}},1,0,0,0,0,0,[Ext.grid,"CellContext"],0));(Ext.cmd.derive("Ext.grid.ColumnComponentLayout",Ext.layout.component.Auto,{type:"columncomponent",setWidthInDom:true,_paddingReset:{paddingTop:"",paddingBottom:""},columnAutoCls:"x-column-header-text-container-auto",beginLayout:function(c){Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);c.titleContext=c.getEl("titleEl")},beginLayoutCycle:function(k){var l=this,g=l.owner,j=k.widthModel.shrinkWrap;Ext.layout.component.Auto.prototype.beginLayoutCycle.apply(this,arguments);if(j){g.el.setWidth("")}g.textContainerEl[j&&!g.isGroupHeader?"addCls":"removeCls"](l.columnAutoCls);g.titleEl.setStyle(l._paddingReset)},publishInnerHeight:function(l,m){var n=this,j=n.owner,k;if(j.getRootHeaderCt().hiddenHeaders){l.setProp("innerHeight",0);return}if(!l.hasRawContent){if(j.headerWrap&&!l.hasDomProp("width")){n.done=false;return}k=m-l.getBorderInfo().height;l.setProp("innerHeight",k-j.titleEl.getHeight(),false)}},measureContentHeight:function(c){return c.el.dom.offsetHeight},publishInnerWidth:function(d,f){if(!d.hasRawContent){d.setProp("innerWidth",f-d.getBorderInfo().width,false)}},calculateOwnerHeightFromContentHeight:function(j,k){var l=Ext.layout.component.Auto.prototype.calculateOwnerHeightFromContentHeight.apply(this,arguments),g=this.owner;if(!j.hasRawContent){if(!g.headerWrap||j.hasDomProp("width")){return k+g.titleEl.getHeight()+j.getBorderInfo().height}return null}return l},calculateOwnerWidthFromContentWidth:function(l,p){var k=this.owner,m=l.getPaddingInfo().width,n=this.getTriggerOffset(k,l),o;if(k.isGroupHeader){o=p}else{o=Math.max(p,k.textEl.getWidth()+l.titleContext.getPaddingInfo().width)}return o+m+n},getTriggerOffset:function(f,g){var j=0;if(g.widthModel.shrinkWrap&&!f.menuDisabled){if(f.query(">:not([hidden])").length===0){j=f.getTriggerElWidth()}}return j}},0,0,0,0,["layout.columncomponent"],0,[Ext.grid,"ColumnComponentLayout"],0));(Ext.cmd.derive("Ext.layout.container.Fit",Ext.layout.container.Container,{alternateClassName:"Ext.layout.FitLayout",itemCls:"x-fit-item",type:"fit",manageMargins:true,sizePolicies:[{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}],getItemSizePolicy:function(l,k){var g=k||this.owner.getSizeModel(),j=(g.width.shrinkWrap?0:1)|(g.height.shrinkWrap?0:2);return this.sizePolicies[j]},beginLayoutCycle:function(I,L){var y=this,c=y.lastHeightModel&&y.lastHeightModel.calculated,K=y.lastWidthModel&&y.lastWidthModel.calculated,E=K||c,H=0,G=0,A,O,D,B,M,P,J,F,C,N;Ext.layout.container.Container.prototype.beginLayoutCycle.apply(this,arguments);if(E&&I.targetContext.el.dom.tagName.toUpperCase()!=="TD"){E=K=c=false}O=I.childItems;M=O.length;for(D=0;D<M;++D){B=O[D];if(L){A=B.target;J=A.minHeight;F=A.minWidth;if(F||J){P=B.marginInfo||B.getMarginInfo();J+=P.height;F+=P.height;if(H<J){H=J}if(G<F){G=F}}}if(E){C=B.el.dom.style;if(c){C.height=""}if(K){C.width=""}}}if(L){I.maxChildMinHeight=H;I.maxChildMinWidth=G}A=I.target;I.overflowX=(!I.widthModel.shrinkWrap&&I.maxChildMinWidth&&A.scrollFlags.x)||N;I.overflowY=(!I.heightModel.shrinkWrap&&I.maxChildMinHeight&&A.scrollFlags.y)||N},calculate:function(E){var w=this,A=E.childItems,G=A.length,H=w.getContainerSize(E),F={length:G,ownerContext:E,targetSize:H},K=E.widthModel.shrinkWrap,y=E.heightModel.shrinkWrap,B=E.overflowX,D=E.overflowY,x,I,v,C,J,L;E.state.info=F;if(B||D){x=w.getScrollbarsNeeded(B&&H.width,D&&H.height,E.maxChildMinWidth,E.maxChildMinHeight);if(x){I=Ext.getScrollbarSize();if(x&1){H.height-=I.height}if(x&2){H.width-=I.width}}}if(G>0){for(C=0;C<G;++C){F.index=C;w.fitItem(A[C],F)}}else{F.contentWidth=F.contentHeight=0}if(y||K){v=E.targetContext.getPaddingInfo();if(K){if(D&&!H.gotHeight){w.done=false}else{J=F.contentWidth+v.width;if(x&2){J+=I.width}if(!E.setContentWidth(J)){w.done=false}}}if(y){if(B&&!H.gotWidth){w.done=false}else{L=F.contentHeight+v.height;if(x&1){L+=I.height}if(!E.setContentHeight(L)){w.done=false}}}}},fitItem:function(j,g){var f=this;if(j.invalid){f.done=false;return}g.margins=j.getMarginInfo();g.needed=g.got=0;f.fitItemWidth(j,g);f.fitItemHeight(j,g);if(g.got!==g.needed){f.done=false}},fitItemWidth:function(k,j){var g,l;if(j.ownerContext.widthModel.shrinkWrap){l=k.getProp("width")+j.margins.width;g=j.contentWidth;if(g===undefined){j.contentWidth=l}else{j.contentWidth=Math.max(g,l)}}else{if(k.widthModel.calculated){++j.needed;if(j.targetSize.gotWidth){++j.got;this.setItemWidth(k,j)}else{return}}}this.positionItemX(k,j)},fitItemHeight:function(k,j){var l,g;if(j.ownerContext.heightModel.shrinkWrap){g=k.getProp("height")+j.margins.height;l=j.contentHeight;if(l===undefined){j.contentHeight=g}else{j.contentHeight=Math.max(l,g)}}else{if(k.heightModel.calculated){++j.needed;if(j.targetSize.gotHeight){++j.got;this.setItemHeight(k,j)}else{return}}}this.positionItemY(k,j)},positionItemX:function(f,g){var j=g.margins;if(g.index||j.left){f.setProp("x",j.left)}if(j.width&&g.ownerContext.widthModel.shrinkWrap){f.setProp("margin-right",j.width)}},positionItemY:function(f,g){var j=g.margins;if(g.index||j.top){f.setProp("y",j.top)}if(j.height&&g.ownerContext.heightModel.shrinkWrap){f.setProp("margin-bottom",j.height)}},setItemHeight:function(d,f){d.setHeight(f.targetSize.height-f.margins.height)},setItemWidth:function(d,f){d.setWidth(f.targetSize.width-f.margins.width)}},0,0,0,0,["layout.fit"],0,[Ext.layout.container,"Fit",Ext.layout,"FitLayout"],0));(Ext.cmd.derive("Ext.panel.Table",Ext.panel.Panel,{extraBaseCls:"x-grid",extraBodyCls:"x-grid-body",actionableModeCls:"x-grid-actionable",noHeaderBordersCls:"x-no-header-borders",defaultBindProperty:"store",layout:"fit",manageLayoutScroll:false,ariaRole:"presentation",config:{selection:null,focused:null,headerBorders:true,hideHeaders:null},publishes:["selection"],twoWayBindable:["selection"],autoLoad:false,variableRowHeight:false,numFromEdge:2,trailingBufferZone:10,leadingBufferZone:20,hasView:false,viewType:null,deferRowRender:false,sortableColumns:true,multiColumnSort:false,enableLocking:false,scrollerOwner:true,enableColumnMove:true,sealedColumns:false,enableColumnResize:true,rowLines:true,bufferedRenderer:true,ownerGrid:null,colLinesCls:"x-grid-with-col-lines",rowLinesCls:"x-grid-with-row-lines",noRowLinesCls:"x-grid-no-row-lines",hiddenHeaderCtCls:"x-grid-header-ct-hidden",hiddenHeaderCls:"x-grid-header-hidden",resizeMarkerCls:"x-grid-resize-marker",emptyCls:"x-grid-empty",focusable:true,constructor:function(k){var j=this,g=k&&k.ownerGrid,l;j.ownerGrid=g||j;j.actionables=g?g.actionables:[];Ext.panel.Panel.prototype.constructor.call(this,k);l=j.store;l.trackStateChanges=true;if(j.autoLoad){if(!l.isEmptyStore){l.load()}}},registerActionable:function(c){Ext.Array.include(this.actionables,c)},initComponent:function(){var s=this,v=s.columns||s.colModel||[],q,r,w,u,p,x,y,A,B;q=s.store=Ext.data.StoreManager.lookup(s.store||"ext-empty-store");s.enableLocking=s.enableLocking||s.hasLockedColumns(v);if(s.plugins){s.plugins=s.constructPlugins()}if(s.columnLines){s.addBodyCls(s.colLinesCls)}s.addBodyCls(s.rowLines?s.rowLinesCls:s.noRowLinesCls);s.addBodyCls(s.extraBodyCls);if(s.enableLocking){s.self.mixin("lockable",Ext.grid.locking.Lockable);s.injectLockable();A=s.headerCt}else{if(v.isRootHeader){s.headerCt=A=v;A.grid=s;A.forceFit=!!s.forceFit;A.$initParent=s;s.columnManager=A.columnManager;s.visibleColumnManager=A.visibleColumnManager}else{if(Ext.isArray(v)){v={items:v}}s.headerCt=A=new Ext.grid.header.Container(Ext.apply(v,{grid:s,$initParent:s,forceFit:s.forceFit,sortable:s.sortableColumns,enableColumnMove:s.enableColumnMove,enableColumnResize:s.enableColumnResize,columnLines:s.columnLines,sealed:s.sealedColumns}))}if(Ext.isDefined(s.enableColumnHide)){A.enableColumnHide=s.enableColumnHide}}s.columns=x=A.getGridColumns();s.scrollTask=new Ext.util.DelayedTask(s.syncHorizontalScroll,s);s.cls=(s.cls||"")+(" "+s.extraBaseCls);delete s.autoScroll;p=s.plugins&&Ext.Array.findBy(s.plugins,function(b){return b.isBufferedRenderer});if(p){s.bufferedRenderer=p}if(!s.hasView){if(q.isBufferedStore&&!q.getRemoteSort()){for(w=0,u=x.length;w<u;w++){x[w].sortable=false}}s.relayHeaderCtEvents(A);s.features=s.features||[];if(!Ext.isArray(s.features)){s.features=[s.features]}s.dockedItems=[].concat(s.dockedItems||[]);s.dockedItems.unshift(A);s.viewConfig=s.viewConfig||{};r=s.getView();s.items=[r];s.hasView=true;s.bindStore(q,true);s.mon(r,{viewready:s.onViewReady,refresh:s.onRestoreHorzScroll,scope:s});s.syncHeaderVisibility()}s.selModel=s.view.getSelectionModel();s.selModel.on({scope:s,lastselectedchanged:s.updateBindSelection,selectionchange:s.updateBindSelection});s.relayEvents(s.view,["beforeitemlongpress","beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","itemlongpress","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","beforecellclick","cellclick","beforecelldblclick","celldblclick","beforecellcontextmenu","cellcontextmenu","beforecellmousedown","cellmousedown","beforecellmouseup","cellmouseup","beforecellkeydown","cellkeydown","rowclick","rowdblclick","rowcontextmenu","rowmousedown","rowmouseup","rowkeydown","beforeitemkeydown","itemkeydown","beforeitemkeyup","itemkeyup","beforeitemkeypress","itemkeypress","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","beforecontainerkeydown","beforecontainerkeyup","beforecontainerkeypress","containermouseup","containermousedown","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","containerkeydown","containerkeyup","containerkeypress","beforeselect","select","beforedeselect","deselect","beforerowexit"]);if(!s.selModel.isSpreadsheetModel){s.relayEvents(s.view,["selectionchange"])}Ext.panel.Panel.prototype.initComponent.call(this);if(s.enableLocking){s.afterInjectLockable()}else{delete A.$initParent}s.addStateEvents(["columnresize","columnmove","columnhide","columnshow","sortchange","filterchange","groupchange"])},syncHeaderVisibility:function(){var p=this,x=p.headerCt,v=x.items.items,r=v.length,s=x.height===0,o=!!r,w,q,u,y;if(p.hideHeaders!=null){o=p.hideHeaders}else{for(u=0;o&&u<r;u++){w=v[u];q=w.text;if((q&&q!=="\xa0")||w.columns||(w.isGroupHeader&&w.items.items.length)){o=false}}}if(!x.rendered||o!==s){x.setHeight(o?0:null);x.hiddenHeaders=o;p.headerCt.toggleCls(p.hiddenHeaderCtCls,o);p.toggleCls(p.hiddenHeaderCls,o);if(!o){x.setScrollable({x:false,y:false});y=p.view.getScrollable();if(y){x.getScrollable().addPartner(y,"x")}}}},updateHideHeaders:function(c){if(!this.isConfiguring){this.syncHeaderVisibility()}},beforeRender:function(){var j=this,g=j.bufferedRenderer,f;if(j.lockable){j.getProtoBody().addCls(j.lockingBodyCls)}else{if(g&&j.getSizeModel().height.auto){j.bufferedRenderer=g=false}if(g&&!g.isBufferedRenderer){g={xclass:"Ext.grid.plugin.BufferedRenderer"};Ext.copy(g,j,"variableRowHeight,numFromEdge,trailingBufferZone,leadingBufferZone,scrollToLoadBuffer",true);j.bufferedRenderer=j.addPlugin(g)}f=j.ariaRenderAttributes||(j.ariaRenderAttributes={});f["aria-readonly"]=!j.isEditable;f["aria-multiselectable"]=j.selModel.selectionMode!=="SINGLE"}Ext.panel.Panel.prototype.beforeRender.apply(this,arguments)},beforeLayout:function(){var c=this.mixins.lockable;if(c){c.beforeLayout.call(this)}Ext.panel.Panel.prototype.beforeLayout.call(this)},afterLayout:function(f){var d=this.mixins.lockable;if(d){d.syncLockableLayout.call(this,f)}Ext.panel.Panel.prototype.afterLayout.call(this,f)},onHide:function(g,f,j){this.getView().onOwnerGridHide();Ext.panel.Panel.prototype.onHide.call(this,g,f,j)},onShow:function(){Ext.panel.Panel.prototype.onShow.call(this);this.getView().onOwnerGridShow()},getHeaderContainer:function(){return this.getView().getHeaderCt()},getColumns:function(){return this.getColumnManager().getColumns()},getVisibleColumns:function(){return this.getVisibleColumnManager().getColumns()},getScrollable:function(){return this.scrollable||this.view.getScrollable()},focus:function(){this.getView().focus()},disableColumnHeaders:function(){this.headerCt.disable()},enableColumnHeaders:function(){this.headerCt.enable()},hasLockedColumns:function(k){var l,g,j;if(k.isRootHeader){k=k.items.items}else{if(Ext.isObject(k)){k=k.items}}for(l=0,g=k.length;l<g;l++){j=k[l];if(!j.processed&&j.locked){return true}}},relayHeaderCtEvents:function(c){this.relayEvents(c,["columnresize","columnmove","columnhide","columnshow","columnschanged","sortchange","headerclick","headercontextmenu","headertriggerclick"])},getState:function(){var j=this,g=Ext.panel.Panel.prototype.getState.call(this),f=j.store.getState();g=j.addPropertyToState(g,"columns",j.headerCt.getColumnsState());if(f){g.storeState=f}return g},applyState:function(m){var n=this,l=m.sort,k=m.storeState,p=n.store,o=m.columns=n.buildColumnHash(m.columns);Ext.panel.Panel.prototype.applyState.apply(this,arguments);if(o){n.headerCt.applyColumnsState(o,k)}if(l){if(p.getRemoteSort()){p.sort({property:l.property,direction:l.direction,root:l.root},null,false)}else{p.sort(l.property,l.direction)}}else{if(k){p.applyState(k)}}},buildColumnHash:function(l){var n=l.length,k,m,j;if(l){j={};for(m=0,n=l.length;m<n;m++){k=l[m];k.index=m;if(k.columns){k.columns=this.buildColumnHash(k.columns)}j[k.id]=k}return j}},getStore:function(){return this.store},onViewRefresh:function(d,f){this.onItemAdd(f,0)},onItemAdd:function(y,u,B,q){var r=this,p=y.length,v=r.freeRowContexts,s=r.liveRowContexts||(r.liveRowContexts={}),A,x,w;for(x=0;x<p;x++){w=y[x];if(!s[w.internalId]){A=v&&v.shift();if(!A){A=new Ext.grid.RowContext({ownerGrid:r})}r.liveRowContexts[w.internalId]=A;A.setRecord(w,u++)}}},onItemRemove:function(x,u,B,p){var q=this,v=q.freeRowContexts||(q.freeRowContexts=[]),r=q.liveRowContexts,s=B.length,w,y,A;for(w=0;w<s;w++){y=B[w].getAttribute("data-recordId");A=r[y];if(A){A.free();v.push(A);delete r[y]}}},createManagedWidget:function(f,g,j){return this.liveRowContexts[j.internalId].getWidget(f,g)},destroyManagedWidgets:function(s){var p=this,n=p.liveRowContexts,u=p.freeRowContexts,m=u&&u.length,q,r,o;for(r in n){o=n[r].widgets;if(o){Ext.destroy(o[s]);delete o[s]}}for(q=0;q<m;q++){o=u[q].widgets;if(o){Ext.destroy(o[s]);delete o[s]}}},getManagedWidgets:function(n){var l=this,k=l.liveRowContexts,m,j=[];for(m in k){j.push(k[m].widgets[n])}return j},getView:function(){var k=this,g,j,l;if(!k.view){l=k.viewConfig;g=l.scroll||k.scroll;j=k.scrollable;if(j==null&&l.scrollable==null&&g!==null){if(g===true||g==="both"){j=true}else{if(g===false||g==="none"){j=false}else{if(g==="vertical"){j={x:false,y:true}}else{if(g==="horizontal"){j={x:true,y:false}}}}}}l=Ext.apply({grid:k,ownerGrid:k.ownerGrid,deferInitialRefresh:k.deferRowRender,variableRowHeight:k.variableRowHeight,preserveScrollOnRefresh:true,trackOver:k.trackMouseOver!==false,throttledUpdate:k.throttledUpdate===true,xtype:k.viewType,store:k.store,headerCt:k.headerCt,columnLines:k.columnLines,rowLines:k.rowLines,navigationModel:"grid",features:k.features,panel:k,emptyText:k.emptyText||""},k.viewConfig);if(!("scrollable" in l||"scroll" in l||"autoScroll" in l)&&j!=null){l.scrollable=j}Ext.create(l);if(k.view.emptyText){k.view.emptyText='<div class="'+k.emptyCls+'">'+k.view.emptyText+"</div>"}k.view.getComponentLayout().headerCt=k.headerCt;k.mon(k.view,{uievent:k.processEvent,scope:k});k.headerCt.view=k.view;if(k.hasListeners.viewcreated){k.fireEvent("viewcreated",k,k.view)}}return k.view},getEmptyText:function(){return this.view.emptyText},setEmptyText:function(c){this.emptyText=c;this.view.setEmptyText('<div class="'+this.emptyCls+'">'+c+"</div>");return this},getColumnManager:function(){return this.columnManager},getVisibleColumnManager:function(){return this.visibleColumnManager},getTopLevelColumnManager:function(){return this.ownerGrid.getColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},setAutoScroll:Ext.emptyFn,applyScrollable:function(f){var d=this.view;d=d&&(d.normalView||d);if(d){d.setScrollable(f)}return f},processEvent:function(r,p,o,w,q,s,u,n){var v=s.position.column;if(v){return v.processEvent.apply(v,arguments)}},ensureVisible:function(d,f){this.doEnsureVisible(d,f)},scrollByDeltaY:function(f,d){this.getView().scrollBy(null,f,d)},scrollByDeltaX:function(f,d){this.getView().scrollBy(f,null,d)},afterCollapse:function(){this.saveScrollPos();Ext.panel.Panel.prototype.afterCollapse.apply(this,arguments)},afterExpand:function(){Ext.panel.Panel.prototype.afterExpand.apply(this,arguments);this.restoreScrollPos()},saveScrollPos:Ext.emptyFn,restoreScrollPos:Ext.emptyFn,onHeaderResize:Ext.emptyFn,onHeaderMove:function(m,l,k,p,n){var o=this;if(o.optimizedColumnMove===false){o.view.refreshView()}else{o.view.moveColumn(p,n,k)}o.delayScroll()},onHeaderHide:function(j,g){var f=this.view;if(!j.childHideCount&&f.refreshCounter){f.refreshView()}},onHeaderShow:function(j,g){var f=this.view;if(f.refreshCounter){f.refreshView()}},onHeadersChanged:function(j,g){var f=this;if(f.rendered&&!f.reconfiguring){f.view.refreshView();f.delayScroll()}},delayScroll:function(){var c=this.view;if(c){this.scrollTask.delay(10,null,null,[c])}},onViewReady:function(){this.fireEvent("viewready",this)},onRestoreHorzScroll:function(){var f=this,d=f.scrollXPos;if(d){f.syncHorizontalScroll(f,true)}},getScrollerOwner:function(){var c=this;if(!this.scrollerOwner){c=this.up("[scrollerOwner]")}return c},getLhsMarker:function(){var c=this;return c.lhsMarker||(c.lhsMarker=Ext.DomHelper.append(c.el,{role:"presentation",cls:c.resizeMarkerCls},true))},getRhsMarker:function(){var c=this;return c.rhsMarker||(c.rhsMarker=Ext.DomHelper.append(c.el,{role:"presentation",cls:c.resizeMarkerCls},true))},getSelection:function(){return this.getSelectionModel().getSelection()},updateSelection:function(f){var j=this,g;if(!j.ignoreNextSelection){j.ignoreNextSelection=true;g=j.getSelectionModel();if(f){g.select(f)}else{g.deselectAll()}j.ignoreNextSelection=false}},updateBindSelection:function(g,k){var j=this,l=null;if(!j.ignoreNextSelection){j.ignoreNextSelection=true;if(k.length){l=g.getLastSelected();j.hasHadSelection=true}if(j.hasHadSelection){j.setSelection(l)}j.ignoreNextSelection=false}},updateFocused:function(c){this.getNavigationModel().setPosition(c)},updateHeaderBorders:function(c){this[c?"removeCls":"addCls"](this.noHeaderBordersCls)},getNavigationModel:function(){return this.getView().getNavigationModel()},getSelectionModel:function(){return this.getView().getSelectionModel()},getScrollTarget:function(){var c=this.getScrollerOwner().query("tableview");return c[c.length-1]},syncHorizontalScroll:function(k,m){var l=this,j=l.view.getScrollX(),n;m=m===true;if(l.rendered&&(m||j!==l.scrollXPos)){if(m){n=l.getScrollTarget();n.setScrollX(j)}l.headerCt.setScrollX(j);l.scrollXPos=j}},onStoreLoad:Ext.emptyFn,getEditorParent:function(){return this.body},bindStore:function(n,m){var l=this,j=l.getView(),k=l.getStore();if(n){l.store=n;if(j.store!==n){j.bindStore(n,false)}l.mon(n,{load:l.onStoreLoad,scope:l});l.storeRelayers=l.relayEvents(n,["filterchange","groupchange"]);if(!l.reconfiguring&&l.hasListeners.storechange&&n!==k){l.fireEvent("storechange",l,n,k)}}else{l.unbindStore()}},unbindStore:function(){var g=this,j=g.store,f;if(j){j.trackStateChanges=false;g.store=null;g.mun(j,{load:g.onStoreLoad,scope:g});Ext.destroy(g.storeRelayers);f=g.view;if(f.store){f.bindStore(null)}if(!g.reconfiguring&&g.hasListeners.storechange){g.fireEvent("storechange",g,null,j)}}},setColumns:function(c){if(c.length||this.getColumnManager().getColumns().length){this.reconfigure(undefined,c)}},setStore:function(d){var f=this;f.reconfigure(d,undefined,true);if(f.isVisible(true)){if(d&&f.autoLoad&&!d.isEmptyStore&&!(d.loading||d.isLoaded())){d.load()}}else{if(!f.globalShowListener){f.globalShowListener=Ext.GlobalEvents.on({show:f.onGlobalShow,scope:f,destroyable:true})}}},onGlobalShow:function(j){var g=this,f=g.store;if(j===g||(j.isAncestor(g)&&g.isVisible(true))){if(f&&g.autoLoad&&!f.isEmptyStore&&!(f.loading||f.isLoaded())){f.load()}Ext.destroy(g.globalShowListener)}},reconfigure:function(s,E,A){var w=this,H=w.store,F=w.headerCt,u=w.lockable,C=F?F.items.getRange():w.columns,v=w.getView(),D,x,G,B,y;if(arguments.length===1&&Ext.isArray(s)){E=s;s=null}if(E){E=Ext.Array.slice(E)}w.reconfiguring=true;if(s){s=Ext.StoreManager.lookup(s);G=s&&s!==H}else{if(A){s=Ext.StoreManager.lookup("ext-empty-store");G=s!==H}}w.fireEvent("beforereconfigure",w,s,E,H,C);Ext.suspendLayouts();if(u){w.reconfigureLockable(s,E,A)}else{D=v.blockRefresh;v.blockRefresh=true;y=v.saveFocusState();if(G){w.unbindStore();w.bindStore(s)}if(E){delete w.scrollXPos;F.removeAll();F.add(E);B=true}F.onOwnerGridReconfigure(G,B);x=v.refreshCounter}Ext.resumeLayouts(true);w.reconfiguring=false;if(u){w.afterReconfigureLockable()}else{v.blockRefresh=D;if(v.refreshCounter===x){v.refreshView();y()}}w.fireEvent("reconfigure",w,s,E,H,C);delete w.reconfiguring;if(G){w.fireEvent("storechange",w,s,H)}},doDestroy:function(){var f=this,d=f.scrollTask;if(f.lockable){f.destroyLockable()}if(d){d.cancel()}Ext.destroy(f.plugins,f.focusEnterLeaveListeners,f.freeRowContexts,Ext.Object.getValues(f.liveRowContexts));Ext.panel.Panel.prototype.doDestroy.call(this);f.unbindStore()},privates:{initFocusableElement:function(){},doEnsureVisible:function(D,s){if(this.lockable){return this.ensureLockedVisible(D,s)}if(typeof D!=="number"&&!D.isEntity){D=this.store.getById(D)}var C=this,A=C.getView(),E=A.getNode(D),w,v,H,G,y,u,B,F,x;if(s){w=s.callback;v=s.scope;H=s.animate;G=s.highlight;y=s.select;u=s.focus;F=s.column}if(C.deferredEnsureVisible){C.deferredEnsureVisible.destroy()}if(!A.componentLayoutCounter){C.deferredEnsureVisible=A.on({resize:C.doEnsureVisible,args:Ext.Array.slice(arguments),scope:C,single:true,destroyable:true});return}if(typeof F==="number"){F=C.ownerGrid.getVisibleColumnManager().getColumns()[F]}if(E){B=A.getScrollable();if(F){x=Ext.fly(E).selectNode(F.getCellSelector())}if(B){B.scrollIntoView(x||E,!!F,H,G)}if(!D.isEntity){D=A.getRecord(E)}if(y){A.getSelectionModel().select(D)}if(u){A.getNavigationModel().setPosition(D,0)}Ext.callback(w,v||C,[true,D,E])}else{if(A.bufferedRenderer){A.bufferedRenderer.scrollTo(D,{animate:H,highlight:G,select:y,focus:u,column:F,callback:function(b,d,c){Ext.callback(w,v||C,[true,d,c])}})}else{Ext.callback(w,v||C,[false,null])}}},getFocusEl:function(){return this.getView().getFocusEl()},setActionableMode:function(j,f){var g=this.ownerGrid;if(!g.destroying&&g.view.setActionableMode(j,f)!==false){g.fireEvent("actionablemodechange",j);g[j?"addCls":"removeCls"](g.actionableModeCls);return true}},getOverflowStyle:function(){this.scrollFlags=this._scrollFlags["false"]["false"];return{overflowX:"hidden",overflowY:"hidden"}},getOverflowEl:function(){return null}}},1,["tablepanel"],["component","box","container","panel","tablepanel"],{component:true,box:true,container:true,panel:true,tablepanel:true},["widget.tablepanel"],0,[Ext.panel,"Table"],0));Ext.define("Ext.theme.neptune.panel.Table",{override:"Ext.panel.Table",lockableBodyBorder:true,initComponent:function(){var c=this;(arguments.callee.$previous||Ext.panel.Panel.prototype.initComponent).call(this);if(!c.hasOwnProperty("bodyBorder")&&!c.hideHeaders&&(c.lockableBodyBorder||!c.lockable)){c.bodyBorder=true}}});(Ext.cmd.derive("Ext.grid.ColumnLayout",Ext.layout.container.HBox,{type:"gridcolumn",firstHeaderCls:"x-column-header-first",lastHeaderCls:"x-column-header-last",initLayout:function(){Ext.layout.container.HBox.prototype.initLayout.call(this);if(this.scrollbarWidth===undefined){this.self.prototype.scrollbarWidth=Ext.getScrollbarSize().width}},beginLayout:function(w){var q=this,y=q.owner,v=q.firstHeaderCls,o=q.lastHeaderCls,x=[v,o],r=q.getVisibleItems(),s=r.length,u,p;Ext.layout.container.HBox.prototype.beginLayout.call(this,w);for(u=0;u<s;u++){p=r[u];if(s===1){p.addCls(x)}else{if(u===0){p.addCls(v);p.removeCls(o)}else{if(u===s-1){p.removeCls(v);p.addCls(o)}else{p.removeCls(x)}}}}q.scrollbarWidth=0;if(y.isRootHeader&&!y.grid.isLocked){q.determineScrollbarWidth(w)}if(!q.scrollbarWidth){w.manageScrollbar=false}},moveItemBefore:function(l,j){var g=l.ownerCt,k=j&&j.nextSibling();if(l!==j&&g){g.remove(l,{destroy:false,detach:false});if(j&&j.destroyed){j=k}}return Ext.layout.container.HBox.prototype.moveItemBefore.call(this,l,j)},determineScrollbarWidth:function(m){var o=this,l=o.owner,p=l.grid,r=p.reserveScrollbar,n=p.view.getScrollable(),q=!r&&n&&n.getY();m.manageScrollbar=q;if(!p.ownerGrid.collapsed&&(r||q)){delete o.scrollbarWidth}},calculate:function(E){var J=this,F=J.owner,I=F.grid,x=E.viewContext,H=E.state,G=E.context,y,w,B,u,v,C,A,D;Ext.layout.container.HBox.prototype.calculate.call(this,E);if(I&&F.isRootHeader&&H.parallelDone){y=x.lockingPartnerContext;if(I.forceFit&&!H.reflexed){if(J.convertWidthsToFlexes(E)){J.cacheFlexes(E);J.done=false;E.invalidate({state:{reflexed:true,scrollbarAdjustment:J.getScrollbarAdjustment(E)}});return}}if((w=H.columnsChanged)===undefined){B=E.target.getVisibleGridColumns();w=false;for(v=0,u=B.length;v<u;v++){C=G.getCmp(B[v]);if(!C.lastBox||C.props.width!==C.lastBox.width){(w||(w=[]))[v]=C}}H.columnsChanged=w;E.setProp("columnsChanged",w)}if(E.manageScrollbar){A=J.getScrollbarAdjustment(E);if(A){D=x.getProp("viewOverflowY");if(D===undefined){J.done=false;return}if(!D){if(y){y.invalidate();y.headerContext.invalidate()}x.invalidate();E.invalidate({state:{scrollbarAdjustment:0}})}}}}},finishedLayout:function(c){Ext.layout.container.HBox.prototype.finishedLayout.call(this,c);if(this.owner.ariaRole==="rowgroup"){this.innerCt.dom.setAttribute("role","row")}c.props.columnsChanged=null},convertWidthsToFlexes:function(w){var q=this,s=0,p=q.sizeModels.calculated,u,r,v,n,o;u=w.childItems;r=u.length;for(v=0;v<r;v++){n=u[v];o=n.target;s+=n.props.width;if(!(o.fixed||o.resizable===false)){o.flex=w.childItems[v].flex=n.props.width;o.width=null;n.widthModel=p}}return s!==w.props.width},getScrollbarAdjustment:function(l){var n=this,m=l.state,j=n.owner.grid,k=m.scrollbarAdjustment;if(k===undefined){k=0;if(j.reserveScrollbar||(l.manageScrollbar&&!j.ownerGrid.getSizeModel().height.shrinkWrap)){k=n.scrollbarWidth}m.scrollbarAdjustment=k}return k},getContainerSize:function(x){var u=this,s,q,r,w,v,y,p,o;if(u.owner.isRootHeader){o=Ext.layout.container.HBox.prototype.getContainerSize.call(this,x);if(o.gotWidth){o.width-=u.getScrollbarAdjustment(x)}}else{r=x.paddingContext.getPaddingInfo();s=q=0;if(!x.widthModel.shrinkWrap){++q;y=x.getProp("innerWidth");w=(typeof y==="number");if(w){++s;y-=r.width;if(y<0){y=0}}}if(!x.heightModel.shrinkWrap){++q;p=x.getProp("innerHeight");v=(typeof p==="number");if(v){++s;p-=r.height;if(p<0){p=0}}}return{width:y,height:p,needed:q,got:s,gotAll:s===q,gotWidth:w,gotHeight:v}}return o},publishInnerCtSize:function(k){var l=this,j=l.owner,n=k.peek("contentWidth"),m=0;if(n!=null&&j.isRootHeader){m=-k.state.scrollbarAdjustment}return Ext.layout.container.HBox.prototype.publishInnerCtSize.call(this,k,m)}},0,0,0,0,["layout.gridcolumn"],0,[Ext.grid,"ColumnLayout"],0));(Ext.cmd.derive("Ext.grid.ColumnManager",Ext.Base,{alternateClassName:["Ext.grid.ColumnModel"],columns:null,constructor:function(j,g,f){this.headerCt=g;if(f){this.secondHeaderCt=f}this.visibleOnly=!!j},getColumns:function(){if(!this.columns){this.cacheColumns()}return this.columns},hasVariableRowHeight:function(){var j=this,k=j.getColumns(),g=k.length,l;if(j.variableRowHeight==null){j.variableRowHeight=false;for(l=0;!j.variableRowHeight&&l<g;l++){j.variableRowHeight=!!k[l].variableRowHeight}}return j.variableRowHeight},getHeaderIndex:function(c){if(c.isGroupHeader){c=this.getHeaderColumns(c)[0]}return Ext.Array.indexOf(this.getColumns(),c)},getHeaderAtIndex:function(j){var g=this.getColumns(),f=g[j];return f||null},getPreviousSibling:function(g){var j=this.getHeaderIndex(g),f=null;if(j>0){f=this.getColumns()[j-1]}return f},getNextSibling:function(g){var j=this.getHeaderIndex(g),f;if(j!==-1){f=this.getColumns()[j+1]}return f||null},getFirst:function(){var c=this.getColumns();return c.length>0?c[0]:null},getLast:function(){var f=this.getColumns(),d=f.length;return d>0?f[d-1]:null},getHeaderByDataIndex:function(l){var m=this.getColumns(),j=m.length,n,k;if(Ext.isEmpty(l)){return null}for(n=0;n<j;++n){k=m[n];if(k.dataIndex===l){return k}}return null},getHeaderById:function(k){var m=this.getColumns(),j=m.length,n,l;for(n=0;n<j;++n){l=m[n];if(l.getItemId()===k){return l}}return null},getVisibleHeaderClosestToIndex:function(f){var d=this.getHeaderAtIndex(f);if(d&&d.hidden){d=d.next(":not([hidden])")||d.prev(":not([hidden])")}return d},cacheColumns:function(){var f=this.getHeaderColumns(this.headerCt),d=this.secondHeaderCt;if(d){f=f.concat(this.getHeaderColumns(d))}this.columns=f},getHeaderColumns:function(f){var d=this.visibleOnly?f.getVisibleGridColumns():f.getGridColumns();return Ext.Array.clone(d)},invalidate:function(){var c=this.rootColumns;this.columns=this.variableRowHeight=null;if(c){c.invalidate()}},destroy:function(){this.columns=this.rootColumns=null;this.callParent()}},1,0,0,0,0,0,[Ext.grid,"ColumnManager",Ext.grid,"ColumnModel"],function(){this.createAlias("indexOf","getHeaderIndex")}));(Ext.cmd.derive("Ext.grid.NavigationModel",Ext.view.NavigationModel,{focusCls:"x-grid-item-focused",getViewListeners:function(){var c=this;return{focusmove:{element:"el",fn:c.onFocusMove},containermousedown:c.onContainerMouseDown,cellmousedown:c.onCellMouseDown,cellclick:c.onCellClick,itemmousedown:c.onItemMouseDown,itemclick:c.onItemClick,itemcontextmenu:c.onItemClick,scope:c}},initKeyNav:function(f){var j=this,g;if(!j.keyNav){j.keyNav=[];j.position=new Ext.grid.CellContext(f)}g=new Ext.util.KeyNav({target:f,ignoreInputFields:true,eventName:Ext.supports.SpecialKeyDownRepeat?"itemkeydown":"itemkeypress",defaultEventAction:"stopEvent",processEvent:j.processViewEvent,up:j.onKeyUp,down:j.onKeyDown,right:j.onKeyRight,left:j.onKeyLeft,pageDown:j.onKeyPageDown,pageUp:j.onKeyPageUp,home:j.onKeyHome,end:j.onKeyEnd,space:j.onKeySpace,enter:j.onKeyEnter,esc:j.onKeyEsc,113:j.onKeyF2,tab:j.onKeyTab,A:{ctrl:true,handler:j.onSelectAllKeyPress},scope:j});j.keyNav.push(g);j.onKeyNavCreate(g)},onKeyNavCreate:Ext.emptyFn,addKeyBindings:function(g){var f=this.keyNav.length,j;for(j=0;j<f;j++){this.keyNav[j].addBindings(g)}},enable:function(){var d=this.keyNav.length,f;for(f=0;f<d;f++){this.keyNav[f].enable()}this.disabled=false},disable:function(){var d=this.keyNav.length,f;for(f=0;f<d;f++){this.keyNav[f].disable()}this.disabled=true},processViewEvent:function(p,k,l,o,m){var n=m.getKey();if(p.actionableMode){this.map.ignoreInputFields=false;if(n===m.TAB||n===m.ESC||n===m.F2){return m}}else{this.map.ignoreInputFields=true;return n===m.TAB?null:m}},onCellMouseDown:function(u,s,v,x,p,y,A){var B=Ext.Component.fromElement(A.target,s),r=A.getTarget(null,null,true),w=r.isFocusable()&&!r.is(u.getCellSelector()),q;if(u.actionableMode){if(!w){w=(q=Ext.ComponentManager.getActiveComponent())&&q!==u&&q.owns(A)}if(w){u.setActionableMode(true,A.position)}else{u.setActionableMode(false,A.position)}return}if(A.pointerType!=="touch"){if(A.position.column.cellFocusable!==false){if(w){if(!u.containsFocus){u.containsFocus=true;u.toggleChildrenTabbability(false)}u.setActionableMode(true,A.position)}else{s.focus()}if(A.button===2){this.fireNavigateEvent(A)}}else{A.preventDefault(true)}if(B&&B.isFocusable&&B.isFocusable()){u.setActionableMode(true,A.position);B.focus()}}},onCellClick:function(s,r,u,w,o,x,q){var v=this,y=Ext.Component.fromElement(q.target,r),p=y&&y.isFocusable&&y.isFocusable();if(!Ext.isIE10m&&!s.el.contains(Ext.Element.getActiveElement())&&q.pointerType!=="touch"){return}if(s.actionableMode){if(!q.position.isEqual(s.actionPosition)){if(!p){s.setActionableMode(false,q.position)}}v.fireEvent("navigate",{view:s,navigationModel:v,keyEvent:q,previousPosition:v.previousPosition,previousRecordIndex:v.previousRecordIndex,previousRecord:v.previousRecord,previousItem:v.previousItem,previousCell:v.previousCell,previousColumnIndex:v.previousColumnIndex,previousColumn:v.previousColumn,position:q.position,recordIndex:q.position.rowIdx,record:q.position.record,selectionStart:v.selectionStart,item:q.item,cell:q.position.cellElement,columnIndex:q.position.colIdx,column:q.position.column})}else{if(v.position.isEqual(q.position)||p){if(Ext.isIE10m&&!v.record){return}v.fireNavigateEvent(q)}else{if(q.position.column.cellFocusable!==false){v.setPosition(q.position,null,q)}else{q.preventDefault()}}}},onFocusMove:function(m){var p=Ext.Component.fromElement(m.delegatedTarget,null,"tableview"),l=m.target,q=Ext.fly(l).is(p.cellSelector),r,n,o;if(p){if(!p.actionableMode&&q){r=p.getRecord(l);n=p.getHeaderByCell(l);if(r&&n){o=new Ext.grid.CellContext(p).setPosition(r,n);if(!o.isEqual(this.position)){this.setPosition(o)}}}else{if((p.actionableMode||p.activating)&&!q&&p.el.contains(m.target)&&p.el.dom!==m.target){p.ownerGrid.fireEvent("cellactivate",p.ownerGrid,p.actionPosition)}}}},onItemMouseDown:function(p,k,l,n,o){var m=this;if(!o.position.cellElement&&(o.pointerType!=="touch")){o.preventDefault();m.getClosestCell(o);if(!m.position.isEqual(o.position)){m.setPosition(o.position,null,o)}p.getScrollable().restoreState()}},onItemClick:function(m,n,k,l,j){if(!j.position.cellElement){this.getClosestCell(j);if(j.pointerType==="touch"){this.setPosition(j.position,null,j)}this.fireNavigateEvent(j)}},getClosestCell:function(w){var q=w.position,v=q.cellElement,b,s,p,r,u,o;if(!v){b=w.getX();s=q.view.getVisibleColumnManager().getColumns();p=s.length;for(r=0;r<p;r++){u=s[r];o=s[r].getBox();if(b>=o.left&&b<o.right){q.setColumn(s[r]);q.rowElement=q.getRow(true);q.cellElement=q.getCell(true);return}}}},deferSetPosition:function(q,r,p,n,l,m){var o=this.view.getFocusTask();o.delay(q,this.setPosition,this,[r,p,n,l,m]);return o},setPosition:function(N,A,D,M,F){var y=this,x=N==null&&A==null,E=y.record==null&&y.recordIndex==null&&y.item==null,H,C,G,B,L,I,O,K,J,P;if(N&&N.isCellContext){H=N.view}else{if(D&&D.view){H=D.view}else{if(y.lastFocused){H=y.lastFocused.view}else{H=y.view}}}H.getFocusTask().cancel();if(H.destroyed||!H.refreshCounter||!H.ownerCt||x&&E||!H.all.getCount()){return}G=H.getSelectionModel();B=H.dataSource;L=H.getVisibleColumnManager();P=L.getColumns();if(N&&N.isCellContext){K=N.record;I=N.rowIdx;O=Math.min(N.colIdx,P.length-1);J=P[O];if(B.indexOf(K)===-1){C=H.getScrollable();y.recordIndex=-1;if(C&&(C.getPosition().y>=C.getMaxPosition().y-H.all.last(true).offsetHeight)){N.rowIdx--}I=Math.min(N.rowIdx,B.getCount()-1);K=B.getAt(I)}}else{if(x){K=I=null}else{if(A==null){A=y.lastFocused?y.lastFocused.column:0}if(typeof N==="number"){I=Math.max(Math.min(N,B.getCount()-1),0);K=B.getAt(N)}else{if(N.isEntity){K=N;I=B.indexOf(K)}else{if(N.tagName){K=H.getRecord(N);I=B.indexOf(K);if(I===-1){K=null}}else{if(E){return}x=true;K=I=null}}}}if(K){if(I===-1){y.recordIndex=-1;K=B.getAt(0);I=0;A=null}if(A==null){if(!(J=y.column)){O=0;J=P[0]}}else{if(typeof A==="number"){J=P[A];O=A}else{J=A;O=L.indexOf(A)}}}else{x=true;J=O=null}}if(J&&L.indexOf(J)===-1){if(O===-1){O=0}else{O=Math.min(O,P.length-1)}J=P[O]}if(H.actionableMode&&!x){return H.ownerGrid.setActionableMode(false,new Ext.grid.CellContext(H).setPosition(K,J))}if(I===y.recordIndex&&O===y.columnIndex&&H===y.position.view){return y.focusPosition(y.position)}if(y.cell){y.cell.removeCls(y.focusCls)}y.previousRecordIndex=y.recordIndex;y.previousRecord=y.record;y.previousItem=y.item;y.previousCell=y.cell;y.previousColumn=y.column;y.previousColumnIndex=y.columnIndex;y.previousPosition=y.position.clone();y.selectionStart=G.selectionStart;y.position.setAll(H,y.recordIndex=I,y.columnIndex=O,y.record=K,y.column=J);if(x){y.item=y.cell=null}else{y.focusPosition(y.position,F)}if(!M){G.fireEvent("focuschange",G,y.previousRecord,y.record);H.fireEvent("rowfocus",y.record,y.item,y.recordIndex);H.fireEvent("cellfocus",y.record,y.cell,y.position)}if(D&&!F&&y.cell!==y.previousCell){y.fireNavigateEvent(D)}},focusPosition:function(n){var l=this,m,k,j;l.item=l.cell=null;if(n&&n.record&&n.column){m=n.view;if(n.rowElement){k=l.item=n.rowElement}else{k=m.getRowByRecord(n.record)}if(k){l.cell=n.cellElement||Ext.fly(k).down(n.column.getCellSelector(),true);if(l.cell){l.cell=new Ext.dom.Fly(l.cell);m.lastFocused=l.lastFocused=l.position.clone();j=m.getScrollable();if(j){j.scrollIntoView(l.cell)}l.focusItem(l.cell);m.focusEl=l.cell}else{l.position.setAll();l.record=l.column=l.recordIndex=l.columnIndex=null}}else{k=m.dataSource.indexOf(n.record);l.position.setAll();l.record=l.column=l.recordIndex=l.columnIndex=null;if(k!==-1&&m.bufferedRenderer){l.lastKeyEvent=null;m.bufferedRenderer.scrollTo(k,false,l.afterBufferedScrollTo,l)}}}},focusItem:function(c){c.addCls(this.focusCls);c.focus()},getCell:function(){return this.cell},getPosition:function(o){var m=this,k=m.position,n,p,l;if(k.record&&k.column){if(o){return k}p=k.view;l=p.dataSource;n=l.indexOf(k.record);if(n===-1){n=k.rowIdx;if(!(k.record=l.getAt(n))){n=-1}}if(n===-1||p.getVisibleColumnManager().indexOf(k.column)===-1){k.setAll();m.record=m.column=m.recordIndex=m.columnIndex=null}else{return k}}return null},getLastFocused:function(){var g=this,f,j=g.lastFocused;if(j&&j.record&&j.column){f=j.view;if(f.dataSource.indexOf(j.record)!==-1&&f.getVisibleColumnManager().indexOf(j.column)!==-1){return j}}},onKeyTab:function(l){var m=!l.shiftKey,o=l.position.view,n,p,k;n=o.findFocusPosition(l.target,l.position,m,l);p=n.target;k=n.position;if(p){this.actionPosition=k.view.actionPosition=k;Ext.fly(p).focus()}else{o.onRowExit(l,l.item,l.item[m?"nextSibling":"previousSibling"],m)}l.preventDefault()},onKeyUp:function(j){var f=j.view.walkRecs(j.record,-1),g=this.getPosition();if(f){g.setRow(f);if(!g.getCell(true)){g.navigate(-1)}this.setPosition(g,null,j)}},onKeyDown:function(j){var f=j.record.isExpandingOrCollapsing?null:j.view.walkRecs(j.record,1),g=this.getPosition();if(f){g.setRow(f);if(!g.getCell(true)){g.navigate(-1)}this.setPosition(g,null,j)}},onKeyRight:function(f){var d=this.move("right",f);if(d){this.setPosition(d,null,f)}},onKeyLeft:function(f){var d=this.move("left",f);if(d){this.setPosition(d,null,f)}},onKeyEnter:function(j){var f=["cellclick",j.view,j.position.cellElement,j.position.colIdx,j.record,j.position.rowElement,j.recordIndex,j],g=j.position.getCell();if(g){if(!g.query('[tabIndex="-1"]').length){j.stopEvent();j.view.fireEvent.apply(j.view,f);f[0]="celldblclick";j.view.fireEvent.apply(j.view,f)}if(!this.view.actionableMode){this.view.ownerGrid.setActionableMode(true,this.getPosition())}}},onKeyF2:function(j){var f=this.view.ownerGrid,g=f.actionableMode;f.setActionableMode(!g,g?null:this.getPosition())},onKeyEsc:function(f){var d=this.view.ownerGrid;if(d.actionableMode){d.setActionableMode(false)}else{return true}},move:function(m,k){var l=this,n=l.getPosition(),j=n;if(n&&n.record){while(j){j=n.view.walkCells(j,m,k.shiftKey&&(m==="right"||m==="left")?l.vetoRowChange:null,l);if(j&&j.column.cellFocusable!==false){return j}}}},vetoRowChange:function(c){return this.getPosition().record===c.record},onKeyPageDown:function(m){var n=this,k=m.view,l=n.getRowsVisible(),o,p;if(l){if(k.bufferedRenderer){o=Math.min(m.recordIndex+l,k.dataSource.getCount()-1);n.lastKeyEvent=m;k.bufferedRenderer.scrollTo(o,false,n.afterBufferedScrollTo,n)}else{p=k.walkRecs(m.record,l);n.setPosition(p,null,m)}}},onKeyPageUp:function(m){var n=this,k=m.view,l=n.getRowsVisible(),o,p;if(l){if(k.bufferedRenderer){o=Math.max(m.recordIndex-l,0);n.lastKeyEvent=m;k.bufferedRenderer.scrollTo(o,false,n.afterBufferedScrollTo,n)}else{p=k.walkRecs(m.record,-l);n.setPosition(p,null,m)}}},onKeyHome:function(g){var j=this,f=g.view;if(g.altKey){if(f.bufferedRenderer){j.lastKeyEvent=g;f.bufferedRenderer.scrollTo(0,false,j.afterBufferedScrollTo,j)}else{j.setPosition(f.walkRecs(g.record,-f.dataSource.indexOf(g.record)),null,g)}}else{j.setPosition(g.record,0,g)}},afterBufferedScrollTo:function(f,d){this.setPosition(d,null,this.lastKeyEvent,null,!this.lastKeyEvent)},onKeyEnd:function(g){var j=this,f=g.view;if(g.altKey){if(f.bufferedRenderer){j.lastKeyEvent=g;f.bufferedRenderer.scrollTo(f.store.getCount()-1,false,j.afterBufferedScrollTo,j)}else{j.setPosition(f.walkRecs(g.record,f.dataSource.getCount()-1-f.dataSource.indexOf(g.record)),null,g)}}else{j.setPosition(g.record,g.view.getVisibleColumnManager().getColumns().length-1,g)}},getRowsVisible:function(){var k=false,j=this.view,l=j.all.first(),n,m;if(l){n=l.getHeight();m=j.el.getHeight();k=Math.floor(m/n)}return k},fireNavigateEvent:function(f){var d=this;d.fireEvent("navigate",{view:d.position.view,navigationModel:d,keyEvent:f||new Ext.event.Event({}),previousPosition:d.previousPosition,previousRecordIndex:d.previousRecordIndex,previousRecord:d.previousRecord,previousItem:d.previousItem,previousCell:d.previousCell,previousColumnIndex:d.previousColumnIndex,previousColumn:d.previousColumn,position:d.position,recordIndex:d.recordIndex,record:d.record,selectionStart:d.selectionStart,item:d.item,cell:d.cell,columnIndex:d.columnIndex,column:d.column})}},0,0,0,0,["view.navigation.grid"],0,[Ext.grid,"NavigationModel"],0));(Ext.cmd.derive("Ext.view.TableLayout",Ext.layout.component.Auto,{type:"tableview",beginLayout:function(o){var q=this,m=q.owner,p=m.ownerGrid,r=m.lockingPartner,s=o.lockingPartnerContext,n=r&&r.grid.isVisible()&&!r.grid.collapsed,u=o.context;o.doSyncRowHeights=n&&(p.syncRowHeight||p.syncRowHeightOnNextLayout);if(!q.columnFlusherId){q.columnFlusherId=q.id+"-columns";q.rowHeightFlusherId=q.id+"-rows"}Ext.layout.component.Auto.prototype.beginLayout.call(this,o);if(n){if(!s&&r.componentLayout.isRunning()){(s=o.lockingPartnerContext=u.getCmp(r)).lockingPartnerContext=o;if(!s.lockingPartnerContext){s.lockingPartnerContext=o}}if(o.doSyncRowHeights){if(s&&!s.rowHeightSynchronizer){s.rowHeightSynchronizer=s.target.syncRowHeightBegin()}o.rowHeightSynchronizer=q.owner.syncRowHeightBegin()}}(o.headerContext=u.getCmp(q.headerCt)).viewContext=o},beginLayoutCycle:function(f,d){Ext.layout.component.Auto.prototype.beginLayoutCycle.call(this,f,d);if(f.syncRowHeights){f.target.syncRowHeightClear(f.rowHeightSynchronizer);f.syncRowHeights=false}},calculate:function(G){var x=this,J=G.context,E=G.lockingPartnerContext,H=G.headerContext,B=G.ownerCtContext,I=x.owner,C=H.getProp("columnsChanged"),K=G.state,w,F,M,N,A=I.body.dom,L,y,D;if(!I.all.getCount()&&(!A||!I.body.child("table"))){G.setProp("viewOverflowY",false);Ext.layout.component.Auto.prototype.calculate.call(this,G);return}if(x.calcCount===1&&x.owner.bufferedRenderer){x.owner.bufferedRenderer.beforeTableLayout(G)}if(C===undefined){x.done=false;return}if(C){if(!(w=K.columnFlusher)){J.queueFlush(K.columnFlusher=w={ownerContext:G,columnsChanged:C,layout:x,id:x.columnFlusherId,flush:x.flushColumnWidths},true)}if(!w.flushed){x.done=false;return}}if(G.doSyncRowHeights){if(!(N=K.rowHeightFlusher)){if(!(M=K.rowHeights)){K.rowHeights=M=G.rowHeightSynchronizer;x.owner.syncRowHeightMeasure(M);G.setProp("rowHeights",M)}if(!(F=E.getProp("rowHeights"))){x.done=false;return}J.queueFlush(K.rowHeightFlusher=N={ownerContext:G,synchronizer:M,otherSynchronizer:F,layout:x,id:x.rowHeightFlusherId,flush:x.flushRowHeights},true)}if(!N.flushed){x.done=false;return}}Ext.layout.component.Auto.prototype.calculate.call(this,G);if(!G.heightModel.shrinkWrap){D=false;if(!B.heightModel.shrinkWrap){y=B.target.layout.getContainerSize(B);if(!y.gotHeight){x.done=false;return}L=A.offsetHeight;D=L>y.height}G.setProp("viewOverflowY",D)}if(x.done&&Ext.getScrollbarSize().height){if(!I.lockingPartner){G.setProp("overflowX",!!G.headerContext.state.boxPlan.tooNarrow)}}},measureContentHeight:function(l){var j=this.owner,m=j.body.dom,n=j.emptyEl,k=0;if(n){k+=n.offsetHeight}if(m){k+=m.offsetHeight}if(l.headerContext.state.boxPlan.tooNarrow){k+=Ext.getScrollbarSize().height}return k},flushColumnWidths:function(){var o=this,p=o.layout,x=o.ownerContext,v=o.columnsChanged,y=x.target,q=v.length,w,s,u,r;if(x.state.columnFlusher!==o){return}for(s=0;s<q;s++){if(!(w=v[s])){continue}u=w.props.width;y.body.select(y.getColumnSizerSelector(w.target)).setWidth(u);if(w.target.onCellsResized){w.target.onCellsResized(u)}r=w.lastBox;if(r){r.width=u}}o.flushed=true;if(!p.pending){x.context.queueLayout(p)}},flushRowHeights:function(){var f=this,j=f.layout,g=f.ownerContext;if(g.state.rowHeightFlusher!==f){return}g.target.syncRowHeightFinish(f.synchronizer,f.otherSynchronizer);f.flushed=true;g.syncRowHeights=true;if(!j.pending){g.context.queueLayout(j)}},finishedLayout:function(k){var g=this,l=g.owner.ownerGrid,j=Ext.fly(g.owner.getNodeContainer());Ext.layout.component.Auto.prototype.finishedLayout.call(this,k);if(j){j.setWidth(k.headerContext.props.contentWidth)}if(g.owner.bufferedRenderer){g.owner.bufferedRenderer.afterTableLayout(k)}if(l){l.syncRowHeightOnNextLayout=false}},getLayoutItems:function(){return this.owner.getRefItems()},isValidParent:function(){return true}},0,0,0,0,["layout.tableview"],0,[Ext.view,"TableLayout"],0));(Ext.cmd.derive("Ext.grid.locking.RowSynchronizer",Ext.Base,{constructor:function(g,l){var k=this,j;k.view=g;k.rowEl=l;k.els={};k.add("data",g.rowSelector);for(j=g.rowTpl;j;j=j.nextTpl){if(j.beginRowSync){j.beginRowSync(k)}}},add:function(j,f){var g=Ext.fly(this.rowEl).down(f,true);if(g){this.els[j]={el:g}}},finish:function(s){var r=this,w=r.els,p=s.els,u,q=0,x=0,o,y,v;for(y in w){u=p[y];v=u?u.height:0;o=v-w[y].height;if(o>0){q+=o;Ext.fly(w[y].el).setHeight(v)}else{x-=o}}v=s.rowHeight+x;if(Ext.isIE9&&r.view.ownerGrid.rowLines){v--}if(r.rowHeight+q<v){Ext.fly(r.rowEl).setHeight(v)}},measure:function(){var g=this,j=g.els,f;g.rowHeight=g.rowEl.offsetHeight;for(f in j){j[f].height=j[f].el.offsetHeight}},reset:function(){var f=this.els,d;this.rowEl.style.height="";for(d in f){f[d].el.style.height=""}}},1,0,0,0,0,0,[Ext.grid.locking,"RowSynchronizer"],0));(Ext.cmd.derive("Ext.view.NodeCache",Ext.Base,{statics:{range:document.createRange&&document.createRange()},constructor:function(c){this.view=c;this.clear();this.el=new Ext.dom.Fly()},destroy:function(){var c=this;if(!c.destroyed){c.el.destroy();c.el=c.view=null;c.destroyed=true}c.callParent()},clear:function(k){var m=this,l=m.elements,j=m.statics().range,n;if(m.count&&k){if(j&&Ext.getBody().contains(l[0])){j.setStartBefore(l[m.startIndex]);j.setEndAfter(l[m.endIndex]);j.deleteContents()}else{for(n in l){Ext.removeNode(l[n])}}}m.elements={};m.count=m.startIndex=0;m.endIndex=-1},fill:function(r,m,n){n=n||0;var p=this,o=p.elements={},q,l=r.length-n;if(!m){m=0}for(q=0;q<l;q++){o[m+q]=r[q+n]}p.startIndex=m;p.endIndex=m+l-1;p.count=l;return this},insert:function(l,p){var n=this,m=n.elements,o,k=p.length;if(n.count){if(l<n.count){for(o=n.endIndex+k;o>=l+k;o--){m[o]=m[o-k];m[o].setAttribute("data-recordIndex",o)}}n.endIndex=n.endIndex+k}else{n.startIndex=l;n.endIndex=l+k-1}for(o=0;o<k;o++,l++){m[l]=p[o];m[l].setAttribute("data-recordIndex",l)}n.count+=k},invoke:function(l,j){var k=this,m,n;l=Ext.dom.Element.prototype[l];for(n=k.startIndex;n<=k.endIndex;n++){m=k.item(n);if(m){l.apply(m,j)}}return k},item:function(k,l){var j=this.elements[k],g=null;if(j){g=l?this.elements[k]:this.el.attach(this.elements[k])}return g},first:function(c){return this.item(this.startIndex,c)},last:function(c){return this.item(this.endIndex,c)},moveBlock:function(l){var n=this,m=n.elements,o,r,p,q;if(!l){return}if(l<0){q=n.startIndex-1;r=n.endIndex;p=1}else{q=n.endIndex+1;r=n.startIndex;p=-1}n.startIndex+=l;n.endIndex+=l;do{q+=p;o=m[q+l]=m[q];o.setAttribute("data-recordIndex",q+l);if(q<n.startIndex||q>n.endIndex){delete m[q]}}while(q!==r);delete m[q]},getCount:function(){return this.count},slice:function(k,n){var l=this.elements,j=[],m;if(!n){n=this.endIndex}else{n=Math.min(this.endIndex,n-1)}for(m=k||this.startIndex;m<=n;m++){j.push(l[m])}return j},replaceElement:function(l,m,j){var k=this.elements,n=(typeof l==="number")?l:this.indexOf(l);if(n>-1){m=Ext.getDom(m);if(j){l=k[n];l.parentNode.insertBefore(m,l);Ext.removeNode(l);m.setAttribute("data-recordIndex",n)}this.elements[n]=m}return this},indexOf:function(j){var g=this.elements,f;j=Ext.getDom(j);for(f=this.startIndex;f<=this.endIndex;f++){if(g[f]===j){return f}}return -1},clip:function(s,u){var n=this,w=n.elements,o=[],v,q,r,p;if(s===1){v=n.startIndex;n.startIndex+=u}else{n.endIndex-=u;v=n.endIndex+1}for(p=v,q=v+u-1;p<=q;p++){r=w[p];o.push(r);Ext.removeNode(r);delete w[p]}n.count-=u;n.view.fireItemMutationEvent("itemremove",n.view.dataSource.getRange(v,q),v,o,n.view)},removeRange:function(w,s,v){var p=this,y=p.elements,q=[],u,r,x,o;if(s==null){s=p.endIndex+1}else{s=Math.min(p.endIndex+1,s+1)}if(w==null){w=p.startIndex}x=s-w;for(r=w,o=s;r<=p.endIndex;r++,o++){u=y[r];if(r<s){q.push(u);if(v){Ext.removeNode(u)}}if(o<=p.endIndex){u=y[r]=y[o];u.setAttribute("data-recordIndex",r)}else{delete y[r]}}p.count-=x;p.endIndex-=x;return q},removeElement:function(p,y){var u=this,q,r,B=u.elements,x,w,A=0,v,s;if(Ext.isArray(p)){q=p;p=[];w=q.length;for(A=0;A<w;A++){r=q[A];if(typeof r!=="number"){r=u.indexOf(r)}if(r>=u.startIndex&&r<=u.endIndex){p[p.length]=r}}Ext.Array.sort(p);w=p.length}else{if(p<u.startIndex||p>u.endIndex){return}w=1;p=[p]}for(v=s=p[0],A=0;v<=u.endIndex;v++,s++){if(A<w&&v===p[A]){s++;A++;if(y){Ext.removeNode(B[v])}}if(s<=u.endIndex&&s>=u.startIndex){x=B[v]=B[s];x.setAttribute("data-recordIndex",v)}else{delete B[v]}}u.endIndex-=w;u.count-=w},scroll:function(D,B,L){var A=this,J=A.view,C=J.lookupViewModel(),M=J.store,I=A.elements,R=D.length,F=J.getNodeContainer(),H=A.statics().range,E,Q,P,O,K,N,G,y;if(!(D.length||L)){return}if(B===-1){if(L){G=[];y=[];N=(A.endIndex-L)+1;if(H){H.setStartBefore(I[N]);H.setEndAfter(I[A.endIndex]);H.deleteContents();for(E=N;E<=A.endIndex;E++){Q=I[E];delete I[E];G.push(M.getByInternalId(Q.getAttribute("data-recordId")));y.push(Q)}}else{for(E=N;E<=A.endIndex;E++){Q=I[E];delete I[E];Ext.removeNode(Q);G.push(M.getByInternalId(Q.getAttribute("data-recordId")));y.push(Q)}}J.fireItemMutationEvent("itemremove",G,N,y,J);A.endIndex-=L}if(D.length){K=J.bufferRender(D,A.startIndex-=R);O=K.children;for(E=0;E<R;E++){I[A.startIndex+E]=O[E]}F.insertBefore(K.fragment,F.firstChild);J.fireItemMutationEvent("itemadd",D,A.startIndex,O,J)}}else{if(L){G=[];y=[];P=A.startIndex+L;if(H){H.setStartBefore(I[A.startIndex]);H.setEndAfter(I[P-1]);H.deleteContents();for(E=A.startIndex;E<P;E++){Q=I[E];delete I[E];G.push(M.getByInternalId(Q.getAttribute("data-recordId")));y.push(Q)}}else{for(E=A.startIndex;E<P;E++){Q=I[E];delete I[E];Ext.removeNode(Q);G.push(M.getByInternalId(Q.getAttribute("data-recordId")));y.push(Q)}}J.fireItemMutationEvent("itemremove",G,A.startIndex,y,J);A.startIndex=P}K=J.bufferRender(D,A.endIndex+1);O=K.children;for(E=0;E<R;E++){I[A.endIndex+=1]=O[E]}F.appendChild(K.fragment);J.fireItemMutationEvent("itemadd",D,A.endIndex+1,O,J)}A.count=A.endIndex-A.startIndex+1;if(C){C.notify()}return O},sumHeights:function(){var f=0,g=this.elements,j;for(j=this.startIndex;j<=this.endIndex;j++){f+=g[j].offsetHeight}return f}},1,0,0,0,0,0,[Ext.view,"NodeCache"],function(){Ext.dom.CompositeElementLite.importElementMethods.call(this)}));(Ext.cmd.derive("Ext.scroll.TableScroller",Ext.scroll.Scroller,{config:{lockingScroller:null},"private":{doScrollTo:function(g,j,k){var l;if(j!=null){l=this.getLockingScroller();if(l){l.doScrollTo(null,j,k);j=null}}this.callParent([g,j,k])}}},0,0,0,0,["scroller.table"],0,[Ext.scroll,"TableScroller"],0));(Ext.cmd.derive("Ext.view.Table",Ext.view.View,{alternateClassName:"Ext.grid.View",isTableView:true,config:{selectionModel:{type:"rowmodel"}},inheritableStatics:{normalSideEvents:["deselect","select","beforedeselect","beforeselect","selectionchange"],events:["blur","focus","move","resize","destroy","beforedestroy","boxready","afterrender","render","beforerender","removed","hide","beforehide","show","beforeshow","enable","disable","added","deactivate","beforedeactivate","activate","beforeactivate","cellkeydown","beforecellkeydown","cellmouseup","beforecellmouseup","cellmousedown","beforecellmousedown","cellcontextmenu","beforecellcontextmenu","celldblclick","beforecelldblclick","cellclick","beforecellclick","refresh","itemremove","itemadd","beforeitemupdate","itemupdate","viewready","beforerefresh","unhighlightitem","highlightitem","focuschange","containerkeydown","containercontextmenu","containerdblclick","containerclick","containermouseout","containermouseover","containermouseup","containermousedown","beforecontainerkeydown","beforecontainercontextmenu","beforecontainerdblclick","beforecontainerclick","beforecontainermouseout","beforecontainermouseover","beforecontainermouseup","beforecontainermousedown","itemkeydown","itemcontextmenu","itemdblclick","itemclick","itemmouseleave","itemmouseenter","itemmouseup","itemmousedown","rowclick","rowcontextmenu","rowdblclick","rowkeydown","rowmouseup","rowmousedown","rowkeydown","beforeitemkeydown","beforeitemcontextmenu","beforeitemdblclick","beforeitemclick","beforeitemmouseleave","beforeitemmouseenter","beforeitemmouseup","beforeitemmousedown","statesave","beforestatesave","staterestore","beforestaterestore","uievent","groupcollapse","groupexpand","scroll"]},scrollable:true,componentLayout:"tableview",baseCls:"x-grid-view",unselectableCls:"x-unselectable",firstCls:"x-grid-cell-first",lastCls:"x-grid-cell-last",itemCls:"x-grid-item",selectedItemCls:"x-grid-item-selected",selectedCellCls:"x-grid-cell-selected",focusedItemCls:"x-grid-item-focused",overItemCls:"x-grid-item-over",altRowCls:"x-grid-item-alt",dirtyCls:"x-grid-dirty-cell",rowClsRe:new RegExp("(?:^|\\s*)x-grid-item-alt(?:\\s+|$)","g"),cellRe:new RegExp("x-grid-cell-([^\\s]+)(?:\\s|$)",""),positionBody:true,positionCells:false,stripeOnUpdate:null,actionableMode:false,trackOver:true,getRowClass:null,stripeRows:true,markDirty:true,ariaRole:"rowgroup",rowAriaRole:"row",cellAriaRole:"gridcell",tpl:["{%","view = values.view;","if (!(columns = values.columns)) {","columns = values.columns = view.ownerCt.getVisibleColumnManager().getColumns();","}","values.fullWidth = 0;","for (i = 0, len = columns.length; i < len; i++) {","column = columns[i];","values.fullWidth += (column.cellWidth = column.lastBox ? column.lastBox.width : column.width || column.minWidth);","}","tableCls=values.tableCls=[];","%}",'<div class="x-grid-item-container" role="presentation" style="width:{fullWidth}px">',"{[view.renderTHead(values, out, parent)]}","{%","view.renderRows(values.rows, values.columns, values.viewStartIndex, out);","%}","{[view.renderTFoot(values, out, parent)]}","</div>","{% ","view = columns = column = null;","%}",{definitions:"var view, tableCls, columns, i, len, column;",priority:0}],outerRowTpl:['<table id="{rowId}" role="presentation" ','data-boundView="{view.id}" ','data-recordId="{record.internalId}" ','data-recordIndex="{recordIndex}" ','class="{[values.itemClasses.join(" ")]}" cellpadding="0" cellspacing="0" style="{itemStyle};width:0">',"{%","this.nextTpl.applyOut(values, out, parent)","%}","</table>",{priority:9999}],rowTpl:["{%",'var dataRowCls = values.recordIndex === -1 ? "" : " x-grid-row";',"%}",'<tr class="{[values.rowClasses.join(" ")]} {[dataRowCls]}"',' role="{rowRole}" {rowAttr:attributes}>','<tpl for="columns">{%',"parent.view.renderCell(values, parent.record, parent.recordIndex, parent.rowIndex, xindex - 1, out, parent)","%}","</tpl>","</tr>",{priority:0}],cellTpl:['<td class="{tdCls}" {tdAttr} {cellAttr:attributes}',' style="width:{column.cellWidth}px;<tpl if="tdStyle">{tdStyle}</tpl>"','<tpl if="column.cellFocusable === false">',' role="presentation"',"<tpl else>",' role="{cellRole}" tabindex="-1"',"</tpl>",'  data-columnid="{[values.column.getItemId()]}">','<div {unselectableAttr} class="x-grid-cell-inner {innerCls}" ','style="text-align:{align};<tpl if="style">{style}</tpl>" ',"{cellInnerAttr:attributes}>{value}</div>","</td>",{priority:0}],refreshSelmodelOnRefresh:false,scrollableType:"table",tableValues:{},rowValues:{itemClasses:[],rowClasses:[]},cellValues:{classes:["x-grid-cell x-grid-td"]},constructor:function(c){if(c.grid.isTree){c.baseCls="x-tree-view"}Ext.view.View.prototype.constructor.call(this,c)},hasVariableRowHeight:function(d){var f=this;return f.variableRowHeight||f.store.isGrouped()||f.getVisibleColumnManager().hasVariableRowHeight()||(!d&&f.lockingPartner&&f.lockingPartner.hasVariableRowHeight(true))},initComponent:function(){var c=this;if(c.columnLines){c.addCls(c.grid.colLinesCls)}if(c.rowLines){c.addCls(c.grid.rowLinesCls)}c.body=new Ext.dom.Fly();c.body.id=c.id+"gridBody";if(!c.trackOver){c.overItemCls=null}c.headerCt.view=c;c.grid.view=c;c.initFeatures(c.grid);c.itemSelector=c.getItemSelector();c.all=new Ext.view.NodeCache(c);Ext.view.View.prototype.initComponent.call(this)},applySelectionModel:function(p,m){var n=this,o=n.ownerGrid,l=p.type,k=n.disableSelection||o.disableSelection;if(!m){if(!(p&&p.isSelectionModel)){p=o.selModel||p}}if(p){if(p.isSelectionModel){p.allowDeselect=o.allowDeselect||p.selectionMode!=="SINGLE";p.locked=k}else{if(typeof p==="string"){p={type:p}}else{p.type=o.selType||p.selType||p.type||l}if(!p.mode){if(o.simpleSelect){p.mode="SIMPLE"}else{if(o.multiSelect){p.mode="MULTI"}}}p=Ext.Factory.selection(Ext.apply({allowDeselect:o.allowDeselect,locked:k},p))}}return p},updateSelectionModel:function(f,g){var j=this;if(g){g.un({scope:j,lastselectedchanged:j.updateBindSelection,selectionchange:j.updateBindSelection});Ext.destroy(j.selModelRelayer)}j.selModelRelayer=j.relayEvents(f,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]);f.on({scope:j,lastselectedchanged:j.updateBindSelection,selectionchange:j.updateBindSelection});j.selModel=f},getVisibleColumnManager:function(){return this.ownerCt.getVisibleColumnManager()},getColumnManager:function(){return this.ownerCt.getColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},moveColumn:function(P,j,I){var y=this,B=I>1,G=B&&document.createRange?document.createRange():null,O=B&&!G?document.createDocumentFragment():null,H=j,F=y.getGridColumns().length,A=F-1,L=(y.firstCls||y.lastCls)&&(j===0||j===F||P===0||P===A),D,E,J,C,N,M,K;if(y.rendered&&j!==P){J=y.el.query(y.rowSelector);for(D=0,C=J.length;D<C;D++){N=J[D];M=N.childNodes;if(L){if(M.length===1){Ext.fly(M[0]).addCls(y.firstCls);Ext.fly(M[0]).addCls(y.lastCls);continue}if(P===0){Ext.fly(M[0]).removeCls(y.firstCls);Ext.fly(M[1]).addCls(y.firstCls)}else{if(P===A){Ext.fly(M[A]).removeCls(y.lastCls);Ext.fly(M[A-1]).addCls(y.lastCls)}}if(j===0){Ext.fly(M[0]).removeCls(y.firstCls);Ext.fly(M[P]).addCls(y.firstCls)}else{if(j===F){Ext.fly(M[A]).removeCls(y.lastCls);Ext.fly(M[P]).addCls(y.lastCls)}}}if(B){if(G){G.setStartBefore(M[P]);G.setEndAfter(M[P+I-1]);O=G.extractContents()}else{for(E=0;E<I;E++){O.appendChild(M[P])}}N.insertBefore(O,M[H]||null)}else{N.insertBefore(M[P],M[H]||null)}}K=y.el.query("colgroup");for(D=0,C=K.length;D<C;D++){N=K[D];if(B){if(G){G.setStartBefore(N.childNodes[P]);G.setEndAfter(N.childNodes[P+I-1]);O=G.extractContents()}else{for(E=0;E<I;E++){O.appendChild(N.childNodes[P])}}N.insertBefore(O,N.childNodes[H]||null)}else{N.insertBefore(N.childNodes[P],N.childNodes[H]||null)}}}},scrollToTop:Ext.emptyFn,addElListener:function(f,g,j){this.mon(this,f,g,j,{element:"el"})},getGridColumns:function(){return this.ownerCt.getVisibleColumnManager().getColumns()},getHeaderAtIndex:function(c){return this.ownerCt.getVisibleColumnManager().getHeaderAtIndex(c)},getCell:function(f,j){var g=this.getRow(f);if(g){if(typeof j==="number"){j=this.getHeaderAtIndex(j)}return Ext.fly(g).down(j.getCellSelector())}},getFeature:function(f){var d=this.featuresMC;if(d){return d.get(f)}},findFeature:function(c){if(this.features){return Ext.Array.findBy(this.features,function(b){if(b.ftype===c){return true}})}},initFeatures:function(n){var l=this,o,m,p,k;l.tpl=this.lookupTpl("tpl");l.rowTpl=l.lookupTpl("rowTpl");l.addRowTpl(l.lookupTpl("outerRowTpl"));l.cellTpl=l.lookupTpl("cellTpl");l.featuresMC=new Ext.util.MixedCollection();m=l.features=l.constructFeatures();k=m?m.length:0;for(o=0;o<k;o++){p=m[o];p.view=l;p.grid=n;l.featuresMC.add(p);p.init(n)}},renderTHead:function(p,o,m){var l=p.view.headerFns,k,n;if(l){for(n=0,k=l.length;n<k;++n){l[n].call(this,p,o,m)}}},addHeaderFn:function(d){var f=this.headerFns;if(!f){f=this.headerFns=[]}f.push(d)},renderTFoot:function(p,o,m){var l=p.view.footerFns,k,n;if(l){for(n=0,k=l.length;n<k;++n){l[n].call(this,p,o,m)}}},addFooterFn:function(d){var f=this.footerFns;if(!f){f=this.footerFns=[]}f.push(d)},addTpl:function(c){return this.insertTpl("tpl",c)},addRowTpl:function(c){return this.insertTpl("rowTpl",c)},addCellTpl:function(c){return this.insertTpl("cellTpl",c)},insertTpl:function(k,l){var m=this,j,n;if(l.isTemplate){l=Ext.Object.chain(l)}else{l=new Ext.XTemplate("{%this.nextTpl.applyOut(values, out, parent);%}",l)}for(j=m[k];l.priority<j.priority;j=j.nextTpl){n=j}if(n){n.nextTpl=l}else{m[k]=l}l.nextTpl=j;return l},tplApplyOut:function(f,j,g){if(this.before){if(this.before(f,j,g)===false){return}}this.nextTpl.applyOut(f,j,g);if(this.after){this.after(f,j,g)}},constructFeatures:function(){var l=this,m=l.features,n,p,o=0,k;if(m){p=[];k=m.length;for(;o<k;o++){n=m[o];if(!n.isFeature){n=Ext.create("feature."+n.ftype,n)}p[o]=n}}return p},beforeRender:function(){Ext.view.View.prototype.beforeRender.call(this);if(!this.enableTextSelection){this.protoEl.unselectable()}},getElConfig:function(){var c=Ext.view.View.prototype.getElConfig.call(this);delete c["aria-hidden"];delete c["aria-disabled"];return c},onBindStore:function(f){var j=this,g=j.bufferedRenderer;if(g&&g.store!==f){g.bindStore(f)}if(j.all&&j.all.getCount()&&!j.grid.reconfiguring){j.clearViewEl()}Ext.view.View.prototype.onBindStore.apply(this,arguments)},onOwnerGridHide:function(){var d=this.getScrollable(),f=this.bufferedRederer;if(d){d.suspendPartnerSync()}if(f){f.disable()}},onOwnerGridShow:function(){var d=this.getScrollable(),f=this.bufferedRederer;if(d){d.resumePartnerSync()}if(f){f.enable()}},getStoreListeners:function(l){var k=this,g=Ext.view.View.prototype.getStoreListeners.call(this,l),j=k.dataSource;if(j&&j.isFeatureStore){delete g.add;delete g.remove}if(k.bufferedRenderer){delete g.clear}g.beforepageremove=k.beforePageRemove;return g},beforePageRemove:function(k,l){var j=this.all,g=k.getPageSize();if(j.startIndex>=(l-1)*g&&j.endIndex<=(l*g-1)){k.get(l);return false}},onViewScroll:function(j,f,g){if(!this.ignoreScroll){Ext.view.View.prototype.onViewScroll.call(this,j,f,g)}},createRowElement:function(p,o,n){var m=this,l=m.renderBuffer,k=m.collectData([p],o);k.columns=n;m.tpl.overwrite(l,k);m.cleanupData();return Ext.fly(l).down(m.getNodeContainerSelector(),true).firstChild},bufferRender:function(o,n){var m=this,l=m.renderBuffer,k,p=document.createRange?document.createRange():null;m.tpl.overwrite(l,m.collectData(o,n));m.cleanupData();Ext.fly(l).saveTabbableState({skipSelf:true,includeHidden:true});l=Ext.fly(l).down(m.getNodeContainerSelector(),true);if(p){p.selectNodeContents(l);k=p.extractContents()}else{k=document.createDocumentFragment();while(l.firstChild){k.appendChild(l.firstChild)}}return{fragment:k,children:Ext.Array.toArray(k.childNodes)}},collectData:function(g,j){var k=this,l=k.tableValues;k.rowValues.view=k;l.view=k;l.rows=g;l.columns=null;l.viewStartIndex=j;l.tableStyle="width:"+k.headerCt.getTableWidth()+"px";return l},cleanupData:function(){var c=this.tableValues;c.view=c.columns=c.rows=this.rowValues.view=null},refreshSize:function(k){var m=this,j=m.getBodySelector(),n=m.lockingPartner,l=m.saveFocusState();if(j){m.body.attach(m.el.down(j,true))}if(!m.hasLoadingHeight){Ext.suspendLayouts();Ext.view.View.prototype.refreshSize.apply(this,arguments);if(k||(m.hasVariableRowHeight()&&m.dataSource.getCount())){m.grid.updateLayout()}Ext.resumeLayouts(!n||!n.grid.isVisible()||(n.all.getCount()===m.all.getCount()));l()}},isLayoutRoot:function(){return false},clearViewEl:function(g){var f=this,j;if(f.rendered){Ext.view.View.prototype.clearViewEl.call(this);if(!g){j=Ext.get(f.getNodeContainer());if(j&&j.dom!==f.getTargetEl().dom){j.destroy()}}}},getRefItems:function(o){var q=this,r=q.ownerGrid.liveRowContexts,u,v,p,s,w,n=Ext.view.View.prototype.getRefItems.apply(this,arguments);for(w in r){p=r[w].getWidgets();u=p.length;for(v=0;v<u;v++){s=p[v];if(q.isAncestor(s)){n[n.length]=s;if(o&&s.getRefItems){n.push.apply(n,s.getRefItems(true))}}}}return n},getMaskTarget:function(){return this.ownerCt.body},statics:{getBoundView:function(c){return Ext.getCmp(c.getAttribute("data-boundView"))}},getRecord:function(c){if(this.store.destroyed){return}if(c.isModel){return c}c=this.getNode(c);if(c){return this.dataSource.getByInternalId(c.getAttribute("data-recordId"))}},indexOf:function(c){c=this.getNode(c);if(!c&&c!==0){return -1}return this.all.indexOf(c)},indexInStore:function(c){return c?this.dataSource.indexOf(this.getRecord(c)):-1},indexOfRow:function(j){var g=this.dataSource,f;if(j.isCollapsedPlaceholder){f=g.indexOfPlaceholder(j)}else{f=g.indexOf(j)}return f},renderRows:function(o,q,r,u){var p=this,n=p.rowValues,m=o.length,s;n.view=p;n.columns=q;n.rowRole=p.rowAriaRole;p.cellValues.cellRole=p.cellAriaRole;for(s=0;s<m;s++,r++){n.itemClasses.length=n.rowClasses.length=0;p.renderRow(o[s],r,u)}n.view=n.columns=n.record=null},renderColumnSizer:function(r,q){var o=r.columns||this.getGridColumns(),l=o.length,p,m,n;q.push('<colgroup role="presentation">');for(p=0;p<l;p++){m=o[p];n=m.cellWidth?m.cellWidth:Ext.grid.header.Container.prototype.defaultWidth;q.push('<col role="presentation" class="',"x-","grid-cell-",o[p].getItemId(),'" style="width:'+n+'px">')}q.push("</colgroup>")},renderRow:function(w,D,x){var u=this,y=D===-1,v=u.selectionModel,q=u.rowValues,A=q.itemClasses,B=q.rowClasses,C=u.itemCls,r,s=u.rowTpl;q.rowAttr={};q.record=w;q.recordId=w.internalId;q.recordIndex=u.store.indexOf(w);q.rowIndex=D;q.rowId=u.getRowId(w);q.itemCls=q.rowCls="";if(!q.columns){q.columns=u.ownerCt.getVisibleColumnManager().getColumns()}A.length=B.length=0;if(!y){A[0]=C;if(!u.ownerCt.disableSelection&&v.isRowSelected){if(v.isRowSelected(w)){A.push(u.selectedItemCls)}}if(u.stripeRows&&D%2!==0){A.push(u.altRowCls)}if(u.getRowClass){r=u.getRowClass(w,D,null,u.dataSource);if(r){B.push(r)}}}if(x){s.applyOut(q,x,u.tableValues)}else{return s.apply(q,u.tableValues)}},renderCell:function(G,D,E,w,B,F){var y=this,I,C=y.selectionModel,A=y.cellValues,H=A.classes,K=D.data[G.dataIndex],N=y.cellTpl,J=G.enableTextSelection,M,x,L=y.navigationModel.getPosition();if(J==null){J=y.enableTextSelection}A.record=D;A.column=G;A.recordIndex=E;A.rowIndex=w;A.columnIndex=A.cellIndex=B;A.align=G.textAlign;A.innerCls=G.innerCls;A.tdCls=A.tdStyle=A.tdAttr=A.style="";A.unselectableAttr=J?"":'unselectable="on"';H[1]=G.getCellId();x=2;if(G.renderer&&G.renderer.call){I=y.ownerCt.columnManager.getHeaderIndex(G);M=G.renderer.call(G.usingDefaultRenderer?G:G.scope||y.ownerCt,K,A,D,E,I,y.dataSource,y);if(A.css){D.cssWarning=true;A.tdCls+=" "+A.css;A.css=null}if(A.tdCls){H[x++]=A.tdCls}}else{M=K}A.value=(M==null||M.length===0)?G.emptyCellText:M;if(G.tdCls){H[x++]=G.tdCls}if(y.markDirty&&D.dirty&&D.isModified(G.dataIndex)){H[x++]=y.dirtyCls;if(G.dirtyTextElementId){A.tdAttr=(A.tdAttr?A.tdAttr+" ":"")+'aria-describedby="'+G.dirtyTextElementId+'"'}}if(G.isFirstVisible){H[x++]=y.firstCls}if(G.isLastVisible){H[x++]=y.lastCls}if(!J){H[x++]=y.unselectableCls}if(C&&(C.isCellModel||C.isSpreadsheetModel)&&C.isCellSelected(y,E,G)){H[x++]=y.selectedCellCls}if(L&&L.record.id===D.id&&L.column===G){H[x++]=y.focusedItemCls}H.length=x;A.tdCls=H.join(" ");N.applyOut(A,F);A.column=A.record=null},getRow:function(d){var f;if((!d&&d!==0)||!this.rendered){return null}if(d.target){d=d.target}if(Ext.isString(d)){return Ext.fly(d).down(this.rowSelector,true)}if(Ext.isNumber(d)){f=this.all.item(d);return f&&f.down(this.rowSelector,true)}if(d.isModel){return this.getRowByRecord(d)}f=Ext.fly(d);if(f.is(this.itemSelector)){return this.getRowFromItem(f)}return f.findParent(this.rowSelector,this.getTargetEl())},getRowId:function(c){return this.id+"-record-"+c.internalId},constructRowId:function(c){return this.id+"-record-"+c},getNodeById:function(c){c=this.constructRowId(c);return this.retrieveNode(c,false)},getRowById:function(c){c=this.constructRowId(c);return this.retrieveNode(c,true)},getNodeByRecord:function(c){return this.retrieveNode(this.getRowId(c),false)},getRowByRecord:function(c){return this.retrieveNode(this.getRowId(c),true)},getRowFromItem:function(k){var j=Ext.getDom(k).tBodies[0].childNodes,g=j.length,l;for(l=0;l<g;l++){if(Ext.fly(j[l]).is(this.rowSelector)){return j[l]}}},retrieveNode:function(g,j){var f=this.el.getById(g,true);if(j&&f){return Ext.fly(f).down(this.rowSelector,true)}return f},updateIndexes:Ext.emptyFn,bodySelector:"div.x-grid-item-container",nodeContainerSelector:"div.x-grid-item-container",itemSelector:"table.x-grid-item",rowSelector:"tr.x-grid-row",cellSelector:"td.x-grid-cell",sizerSelector:".x-grid-cell",innerSelector:"div.x-grid-cell-inner",getBodySelector:function(){return this.bodySelector},getColumnSizerSelector:function(f){var d=this.sizerSelector+"-"+f.getItemId();return"td"+d+",col"+d},getItemSelector:function(){return this.itemSelector},getCellSelector:function(c){return c?c.getCellSelector():this.cellSelector},getCellInnerSelector:function(c){return this.getCellSelector(c)+" "+this.innerSelector},addRowCls:function(j,f){var g=this.getRow(j);if(g){Ext.fly(g).addCls(f)}},removeRowCls:function(j,f){var g=this.getRow(j);if(g){Ext.fly(g).removeCls(f)}},onRowSelect:function(g){var j=this,f;j.addItemCls(g,j.selectedItemCls);f=j.getRow(g);if(f){f.setAttribute("aria-selected",true)}if(Ext.isIE8){j.repaintBorder(g+1)}},onRowDeselect:function(g){var j=this,f;j.removeItemCls(g,j.selectedItemCls);f=j.getRow(g);if(f){f.removeAttribute("aria-selected")}if(Ext.isIE8){j.repaintBorder(g+1)}},onCellSelect:function(f){var d=this.getCellByPosition(f);if(d){d.addCls(this.selectedCellCls);d.dom.setAttribute("aria-selected",true)}},onCellDeselect:function(f){var d=this.getCellByPosition(f,true);if(d){Ext.fly(d).removeCls(this.selectedCellCls);d.removeAttribute("aria-selected")}},getCellInclusive:function(g,l){if(g){var k=this.getRow(g.row),j=this.ownerCt.getColumnManager().getHeaderAtIndex(g.column);if(j&&k){return Ext.fly(k).down(this.getCellSelector(j),l)}}return false},getColumnByPosition:function(f){var j,g;if(f){g=f.column;if(g&&!g.destroyed&&g.isColumn){return g}else{j=f.view||this;g=typeof g==="number"?g:f.colIdx;return j.getVisibleColumnManager().getHeaderAtIndex(g)}}return false},getCellByPosition:function(j,m){if(j){var n=j.view||this,l=n.getRow(j.record||j.row),k;k=n.getColumnByPosition(j);if(k&&l){return Ext.fly(l).down(n.getCellSelector(k),m)}}return false},onFocusEnter:function(m){var n=this,q=m.fromComponent,o=n.getNavigationModel(),p,r,l;if(n.containsFocus){return Ext.Component.prototype.onFocusEnter.call(n,m)}if(n.actionableMode){if(n.actionPosition){n.el.dom.setAttribute("tabIndex","-1");n.cellFocused=true;return}n.ownerGrid.setActionableMode(false)}m=m.event;if(!n.cellFocused&&n.all.getCount()&&n.dataSource.getCount()){l=m.getTarget();if(l===n.el.dom){if(n.lastFocused==="scrollbar"){m.relatedTarget.focus();return}p=n.getDefaultFocusPosition(q);if(!p){m.stopEvent();n.el.focus();return}l=null}else{if(l===n.tabGuardEl){p=new Ext.grid.CellContext(n).setPosition(n.all.endIndex,n.getVisibleColumnManager().getColumns().length-1);l=null}else{if(r=m.getTarget(n.getCellSelector())){if(l===r){p=new Ext.grid.CellContext(n).setPosition(n.getRecord(l),n.getHeaderByCell(r));l=null}else{if(l&&Ext.fly(l).isFocusable()&&n.el.contains(l)){p=new Ext.grid.CellContext(n).setPosition(n.getRecord(l),n.getHeaderByCell(r))}}}}}}if(p){n.toggleChildrenTabbability(false);if(l){if(n.ownerGrid.setActionableMode(true,p)){p=null;Ext.fly(l).focus()}}if(p){o.setPosition(p,null,m,null,true)}n.cellFocused=n.el.contains(Ext.Element.getActiveElement());if(n.cellFocused){n.el.dom.setAttribute("tabIndex","-1")}}Ext.Component.prototype.onFocusEnter.call(n,m)},onFocusLeave:function(g){var j=this,f=!j.lockingPartner||!g.toComponent||(g.toComponent!==j.lockingPartner&&!j.lockingPartner.isAncestor(g.toComponent));if(!j.refreshing){if(j.cellFocused){if(f){j.getNavigationModel().setPosition(null,null,g.event,null,true)}j.cellFocused=false;j.focusEl=j.el;j.focusEl.dom.setAttribute("tabIndex",0)}if(f){if(j.ownerGrid.actionableMode){j.lastFocused=j.actionPosition;j.ownerGrid.setActionableMode(false)}}else{j.actionPosition=null}Ext.Component.prototype.onFocusLeave.call(j,g)}},onRowFocus:function(j,l,g){var k=this;if(l){k.addItemCls(j,k.focusedItemCls);if(!g){k.focusRow(j)}}else{k.removeItemCls(j,k.focusedItemCls)}if(Ext.isIE8){k.repaintBorder(j+1)}},focusRow:function(j,g){var k=this,l=k.getFocusTask();if(g){l.delay(Ext.isNumber(g)?g:10,k.focusRow,k,[j,false]);return}l.cancel();if(k.isVisible(true)){k.getNavigationModel().setPosition(k.getRecord(j))}},focusNode:function(f,d){this.focusRow(f,d)},scrollRowIntoView:function(f,d){f=this.getRow(f);if(f){this.scrollElIntoView(f,false,d)}},focusCell:function(n,m){var k=this,j,l=k.getFocusTask();if(m){l.delay(Ext.isNumber(m)?m:10,k.focusCell,k,[n,false]);return}l.cancel();if(k.isVisible(true)&&(j=k.getCellByPosition(n))){k.getNavigationModel().setPosition(n)}},findFocusPosition:function(s,D,A,x){var w=this,q=D.cellElement,r=w.ownerGrid.actionables,y=r.length,B,u,v,C;B=D.clone();u=Ext.fly(q).findTabbableElements();v=u[Ext.Array.indexOf(u,s)+(A?1:-1)];while(!v&&(q=q[A?"nextSibling":"previousSibling"])){B.setColumn(w.getHeaderByCell(q));for(C=0;C<y;C++){r[C].activateCell(B)}q=B.getCell(true);if(q&&(u=Ext.fly(q).findTabbableElements()).length){v=u[A?0:u.length-1]}}return{target:v,position:B}},getDefaultFocusPosition:function(r){var m=this,p=m.dataSource,n=m.lastFocused,o=new Ext.grid.CellContext((m.isNormalView&&m.lockingPartner.grid.isVisible()&&!m.lockingPartner.grid.collapsed)?m.lockingPartner:m).setPosition(0,0),q,l;if(r){if(r.isColumn&&r.cellFocusable!==false&&r.getView()===m){if(!n){n=o}n.setColumn(r)}else{if(r.isTableView){n=new Ext.grid.CellContext(m).setPosition(r.lastFocused.record,0)}}}if(n){l=m.getScrollable();if(!p.contains(n.record)||(l&&!l.isInView(n.getRow()).y)){n.setRow(p.getAt(Math.min(n.rowIdx,p.getCount()-1)))}}else{n=o;q=m.ownerGrid.view.el.down(m.getCellSelector()+'[tabIndex="-1"]');if(q){n.setPosition(m.getRecord(q),m.getHeaderByCell(q))}else{n=null}}return n},getLastFocused:function(){var f=this,d=f.lastFocused;if(d&&d.record&&d.column){if(f.dataSource.indexOf(d.record)!==-1&&f.getVisibleColumnManager().indexOf(d.column)!==-1&&f.getNode(d.record)){return d}}},scrollCellIntoView:function(d,f){if(d.isCellContext){d=this.getCellByPosition(d)}if(d){this.scrollElIntoView(d,null,f)}},scrollElIntoView:function(k,j,l){var g=this.getScrollable();if(g){g.scrollIntoView(k,j,l)}},syncRowHeightBegin:function(){var p=this,n=p.all,q=n.count,s=[],o=Ext.grid.locking.RowSynchronizer,u,j,r;for(u=0,j=n.startIndex;u<q;u++,j++){s[u]=r=new o(p,n.elements[j]);r.reset()}return s},syncRowHeightClear:function(n){var l=this,k=l.all,m=k.count,j;for(j=0;j<m;j++){n[j].reset()}},syncRowHeightMeasure:function(j){var g=j.length,f;for(f=0;f<g;f++){j[f].measure()}},syncRowHeightFinish:function(n,l){var m=n.length,k=this.bufferedRenderer,j;for(j=0;j<m;j++){n[j].finish(l[j])}if(k){k.syncRowHeightsFinish()}},refreshNode:function(c){if(Ext.isNumber(c)){c=this.store.getAt(c)}this.handleUpdate(this.dataSource,c,null,null,null,true)},handleUpdate:function(aA,ac,ah,al,R,X){ah=ah||Ext.data.Model.EDIT;var av=this,S=av.store.indexOf(ac),U=av.rowTpl,af=av.markDirty,aj=av.dirtyCls,ad=ah!==Ext.data.Model.EDIT,ai=[],ap=av.variableRowHeight,aB=0,ab=av.ownerCt,am=av.cellFly||(av.self.prototype.cellFly=new Ext.dom.Fly()),Y,ay,az,ax,aC,an,T,W,aw,Z,at,V,ao,ak,aq,aa,ag,ae,au,ar;if(av.viewReady){av.updatingRows=true;Y=av.getNodeByRecord(ac);if(Y){if(ac.isCollapsedPlaceholder){Ext.fly(Y).syncContent(av.createRowElement(ac,av.indexOfRow(ac)));return}W=av.overItemCls;aw=av.ownerCt.getVisibleColumnManager().getColumns();if(X){ai=aw;aB=1}else{for(V=0,at=aw.length;V<at;V++){Z=aw[V];if(Z.preventUpdate){ak=Ext.fly(Y).down(Z.getCellSelector(),true);if(ak&&!ad&&af){am.attach(ak);if(ac.isModified(Z.dataIndex)){am.addCls(aj);if(Z.dirtyTextElementId){ak.setAttribute("aria-describedby",Z.dirtyTextElementId)}}else{am.removeCls(aj);ak.removeAttribute("aria-describedby")}}}else{ao=av.shouldUpdateCell(ac,Z,al);if(ao){aB=aB|ao;ai[ai.length]=Z;ap=ap||Z.variableRowHeight}}}}av.fireEvent("beforeitemupdate",ac,S,Y,ai);if(av.getRowClass||!av.getRowFromItem(Y)||(aB&1)||(Y.tBodies[0].childNodes.length>1)){au=Y._extData;az=av.createRowElement(ac,av.indexOfRow(ac),ai);if(Ext.fly(Y,"_internal").hasCls(W)){Ext.fly(az).addCls(W)}if(Ext.isIE9m&&Y.mergeAttributes){Y.mergeAttributes(az,true)}else{ax=az.attributes;aC=ax.length;for(T=0;T<aC;T++){an=ax[T].name;if(an!=="id"){Y.setAttribute(an,ax[T].value)}}}if(au){au.isSynchronized=false}if(aw.length&&(ay=av.getRow(Y))){av.updateColumns(ay,Ext.fly(az).down(av.rowSelector,true),ai)}while(U){if(U.syncContent){if(U.syncContent(Y,az,al?ai:null)===false){break}}U=U.nextTpl}}else{for(V=0,at=ai.length;V<at;V++){Z=ai[V];aq=Z.dataIndex;aa=ac.get(aq);ak=Ext.fly(Y).down(Z.getCellSelector(),true);am.attach(ak);if(!ad&&af){if(ac.isModified(Z.dataIndex)){am.addCls(aj);if(Z.dirtyTextElementId){ak.setAttribute("aria-describedby",Z.dirtyTextElementId)}}else{am.removeCls(aj);ak.removeAttribute("aria-describedby")}}ag=Z.usingDefaultRenderer;ae=ag?Z:Z.scope;if(Z.updater){Ext.callback(Z.updater,ae,[ak,aa,ac,av,av.dataSource],0,Z,ab)}else{if(Z.renderer){aa=Ext.callback(Z.renderer,ae,[aa,null,ac,0,0,av.dataSource,av],0,Z,ab)}ar=aa==null||aa.length===0;aa=ar?Z.emptyCellText:aa;if(Z.producesHTML||ar){am.down(av.innerSelector,true).innerHTML=aa}else{am.down(av.innerSelector,true).childNodes[0].data=aa}}if(av.highlightClass){Ext.fly(ak).addCls(av.highlightClass);if(!av.changedCells){av.self.prototype.changedCells=[];av.prototype.clearChangedTask=new Ext.util.DelayedTask(av.clearChangedCells,av.prototype);av.clearChangedTask.delay(av.unhighlightDelay)}av.changedCells.push({cell:ak,cls:av.highlightClass,expires:Ext.Date.now()+1000})}}}if(ad&&af&&!ac.dirty){Ext.fly(Y,"_internal").select("."+aj).removeCls(aj).set({"aria-describedby":undefined})}if(ap){Ext.suspendLayouts()}av.fireEvent("itemupdate",ac,S,Y,av);if(ap){av.ownerGrid.updateLayout();Ext.resumeLayouts(true)}}av.updatingRows=false}},clearChangedCells:function(){var l=this,n=Ext.Date.now(),k;for(var m=0,j=l.changedCells.length;m<j;){k=l.changedCells[m];if(k.expires<=n){Ext.fly(k.cell).removeCls(k.highlightClass);Ext.Array.erase(l.changedCells,m,1);j--}else{break}}if(j){l.clearChangedTask.delay(l.unhighlightDelay)}},updateColumns:function(A,J,x){var y=this,H,I,B,G,v=x.length,w,F,u,C,D=y.getCellSelector(),E;if(A.mergeAttributes){A.mergeAttributes(J,true)}else{H=J.attributes;I=H.length;for(G=0;G<I;G++){B=H[G].name;if(B!=="id"){A.setAttribute(B,H[G].value)}}}E=A._extData;if(E){E.isSynchronized=false}A=Ext.get(A);J=Ext.get(J);for(w=0;w<v;w++){F=x[w];D=y.getCellSelector(F);u=A.selectNode(D);C=J.selectNode(D);H=C.attributes;I=H.length;for(G=0;G<I;G++){B=H[G].name;if(B!=="id"){u.setAttribute(B,H[G].value)}}E=u._extData;if(E){E.isSynchronized=false}u=Ext.fly(u).selectNode(y.innerSelector);C=Ext.fly(C).selectNode(y.innerSelector);Ext.fly(u).syncContent(C)}},shouldUpdateCell:function(f,g,j){return g.shouldUpdateCell(f,j)},refresh:function(){var f=this,d;if(f.destroying){return}if(f.getVisibleColumnManager().getColumns().length){Ext.view.View.prototype.refresh.apply(this,arguments);f.headerCt.setSortState()}else{if(f.refreshCounter){f.clearViewEl(true)}}},processContainerEvent:function(f){var d=Ext.Component.fromElement(f.target.parentNode);if(d&&d.up(this.ownerCt)){return false}},processItemEvent:function(O,B,H,C){var x=this,F=x.self,y=F.EventMap,M=C.type,K=x.features,D=K.length,E,I,G,L,N,A=C.position=x.eventPosition||(x.eventPosition=new Ext.grid.CellContext()),J,P;if(Ext.isIE&&M==="mouseup"&&!C.within(x.el)){return false}if(x.indexInStore(B)!==-1){J=A.rowElement=Ext.fly(B).down(x.rowSelector,true);P=C.getTarget(x.getCellSelector(),J);M=F.TouchEventMap[M]||M;if(P){if(!P.parentNode){return false}N=x.getHeaderByCell(P);if(N){I=x.ownerCt.getColumnManager().getHeaderIndex(N)}else{N=P=null;I=-1}}else{I=-1}A.setAll(x,H,N?x.getVisibleColumnManager().getHeaderIndex(N):-1,O,N);A.cellElement=P;G=x.fireEvent("uievent",M,x,P,H,I,C,O,J);if((G===false||Ext.view.View.prototype.processItemEvent.apply(this,arguments)===false)){return false}for(E=0;E<D;++E){L=K[E];if(L.wrapsItem){if(L.vetoEvent(O,J,H,C)===false){x.processSpecialEvent(C);return false}}}if(P&&M!=="mouseover"&&M!=="mouseout"){G=!((x["onBeforeCell"+y[M]](P,I,O,J,H,C)===false)||(x.fireEvent("beforecell"+M,x,P,I,O,J,H,C)===false)||(x["onCell"+y[M]](P,I,O,J,H,C)===false)||(x.fireEvent("cell"+M,x,P,I,O,J,H,C)===false))}if(G!==false){G=x.fireEvent("row"+M,x,O,J,H,C)}return G}else{x.processSpecialEvent(C);if(C.pointerType==="mouse"){C.preventDefault()}return false}},processSpecialEvent:function(w){var s=this,B=s.features,u=B.length,r=w.type,A,q,y,x,C,v,D=s.ownerCt;Ext.view.View.prototype.processSpecialEvent.apply(this,arguments);if(r==="mouseover"||r==="mouseout"){return}r=s.self.TouchEventMap[r]||r;for(A=0;A<u;A++){q=B[A];if(q.hasFeatureEvent){x=w.getTarget(q.eventSelector,s.getTargetEl());if(x){y=q.eventPrefix;C=q.getFireEventArgs("before"+y+r,s,x,w);v=q.getFireEventArgs(y+r,s,x,w);if((s.fireEvent.apply(s,C)===false)||(D.fireEvent.apply(D,C)===false)||(s.fireEvent.apply(s,v)===false)||(D.fireEvent.apply(D,v)===false)){return false}}}}return true},onCellMouseDown:Ext.emptyFn,onCellLongPress:Ext.emptyFn,onCellMouseUp:Ext.emptyFn,onCellClick:Ext.emptyFn,onCellDblClick:Ext.emptyFn,onCellContextMenu:Ext.emptyFn,onCellKeyDown:Ext.emptyFn,onCellKeyUp:Ext.emptyFn,onCellKeyPress:Ext.emptyFn,onBeforeCellMouseDown:Ext.emptyFn,onBeforeCellLongPress:Ext.emptyFn,onBeforeCellMouseUp:Ext.emptyFn,onBeforeCellClick:Ext.emptyFn,onBeforeCellDblClick:Ext.emptyFn,onBeforeCellContextMenu:Ext.emptyFn,onBeforeCellKeyDown:Ext.emptyFn,onBeforeCellKeyUp:Ext.emptyFn,onBeforeCellKeyPress:Ext.emptyFn,expandToFit:function(c){this.autoSizeColumn(c)},autoSizeColumn:function(c){if(Ext.isNumber(c)){c=this.getGridColumns()[c]}if(c){if(c.isGroupHeader){c.autoSize();return}delete c.flex;c.setWidth(this.getMaxContentWidth(c))}},getMaxContentWidth:function(v){var s=this,o=s.el.query(v.getCellInnerSelector()),x=v.getWidth(),w=0,u=o.length,y=s.body.select(s.getColumnSizerSelector(v)),q=Math.max,r=0,p;if(u>0){if(Ext.supports.ScrollWidthInlinePaddingBug){r+=s.getCellPaddingAfter(o[0])}if(s.columnLines){r+=Ext.fly(o[0].parentNode).getBorderWidth("lr")}}y.setWidth(1);v.textEl.setStyle({"text-overflow":"clip",display:"table-cell"});p=v.textEl.dom.offsetWidth+v.titleEl.getPadding("lr");v.textEl.setStyle({"text-overflow":"",display:""});for(;w<u;w++){p=q(p,o[w].scrollWidth)}p+=r;p=q(p+1,40);y.setWidth(x);return p},getPositionByEvent:function(m){var n=this,p=m.getTarget(n.cellSelector),o=m.getTarget(n.itemSelector),k=n.getRecord(o),l=n.getHeaderByCell(p);return n.getPosition(k,l)},getHeaderByCell:function(c){if(c){return this.ownerGrid.getVisibleColumnManager().getHeaderById(Ext.getDom(c).getAttribute("data-columnId"))}return false},walkCells:function(r,q,w,p){var s=this,o=r.clone(),u=s.lockingPartner&&s.lockingPartner.grid.isVisible()?s.lockingPartner:null,x=r.rowIdx,y=s.dataSource.getCount()-1,v=s.ownerCt.getVisibleColumnManager().getColumns();switch(q.toLowerCase()){case"right":if(r.isLastColumn()){x=u&&s.isLockedView?x:x+1;if(x>y){return false}if(u){o.view=u}o.setPosition(x,0)}else{o.navigate(+1)}break;case"left":if(r.isFirstColumn()){x=u&&s.isNormalView?x:x-1;if(x<0){return false}if(u){o.view=u;v=u.getVisibleColumnManager().getColumns()}o.setPosition(x,v[v.length-1])}else{o.navigate(-1)}break;case"up":if(x===0){return false}else{o.setRow(x-1)}break;case"down":if(x===y){return false}else{o.setRow(x+1)}break}if(w&&w.call(p||s,o)!==true){return false}return o},walkRows:function(q,y){var v=this,r=v.dataSource,u=0,o=q,x,w=(y<0)?0:r.getCount()-1,s=w?1:-1,p=q;do{if(w?p>=w:p<=w){return o||w}p+=s;if((x=Ext.fly(v.getRow(p)))&&x.isVisible(true)){u+=s;o=p}}while(u!==y);return p},walkRecs:function(A,B){var u=this,q=u.dataSource,s=0,p=A,y,w=(B<0)?0:(q.isBufferedStore?q.getTotalCount():q.getCount())-1,r=w?1:-1,v=q.indexOf(A),x;do{if(w?v>=w:v<=w){return p}v+=r;x=q.getAt(v);if(!x.isCollapsedPlaceholder&&(y=Ext.fly(u.getNodeByRecord(x)))&&y.isVisible(true)){s+=r;p=x}}while(s!==B);return p},getFirstVisibleRowIndex:function(){var g=this,j=(g.dataSource.isBufferedStore?g.dataSource.getTotalCount():g.dataSource.getCount()),f=g.indexOf(g.all.first())-1;do{f+=1;if(f===j){return}}while(!Ext.fly(g.getRow(f)).isVisible(true));return f},getLastVisibleRowIndex:function(){var f=this,d=f.indexOf(f.all.last());do{d-=1;if(d===-1){return}}while(!Ext.fly(f.getRow(d)).isVisible(true));return d},getHeaderCt:function(){return this.headerCt},getPosition:function(d,f){return new Ext.grid.CellContext(this).setPosition(d,f)},doDestroy:function(){var k=this,l=k.featuresMC,m,n,j;k.bindStore(null);if(l){for(n=0,j=l.getCount();n<j;++n){m=l.getAt(n);if(m&&!m.destroyed){m.destroy()}}}k.all.destroy();k.body.destroy();Ext.view.View.prototype.doDestroy.call(this)},onReplace:function(r,n,l,o){var q=this,m=q.bufferedRenderer,p;if(q.rendered&&m){p=q.saveFocusState();m.onReplace(r,n,l,o);p()}else{Ext.view.View.prototype.onReplace.apply(this,arguments)}q.setPendingStripe(n)},onResize:function(o,k,p,l){var n=this,m=n.bufferedRenderer;if(m){m.onViewResize(n,o,k,p,l)}Ext.view.View.prototype.onResize.call(this,o,k,p,l)},onAdd:function(n,j,m){var l=this,k=l.bufferedRenderer;l.addingRows=true;if(l.rendered&&k&&(k.bodyTop||l.dataSource.getCount()+j.length>=k.viewSize)){k.onReplace(n,m,[],j)}else{Ext.view.View.prototype.onAdd.apply(this,arguments)}l.setPendingStripe(m);l.addingRows=false},onRemove:function(p,k,o){var n=this,l=n.bufferedRenderer,m;if(n.rendered&&l&&n.dataSource.getCount()+k.length>=l.viewSize){m=n.saveFocusState();l.onReplace(p,o,k,[]);m()}else{Ext.view.View.prototype.onRemove.apply(this,arguments)}if(n.actionPosition&&Ext.Array.indexOf(k,n.actionPosition.record)!==-1){n.actionPosition=null}n.setPendingStripe(o)},saveFocusState:function(){var q=this,p=q.dataSource,w=q.actionableMode,u=q.getNavigationModel(),s=w?q.actionPosition:u.getPosition(true),v=Ext.Element.getActiveElement(true),n=s&&s.view===q&&s.getCell(),r,o;if(n&&n.contains(v)){s=s.clone();v.suspendFocusEvents();if(w&&n!==v){q.suspendActionableMode()}else{w=false;u.setPosition()}v.resumeFocusEvents();return function(){p=q.dataSource;if(p.getCount()){r=Math.min(s.rowIdx,q.all.getCount()-1);o=Math.min(s.colIdx,q.getVisibleColumnManager().getColumns().length-1);s=new Ext.grid.CellContext(q).setPosition(p.contains(s.record)?s.record:r,o);if(w){q.resumeActionableMode(s)}else{u.setPosition(s,null,null,null,true)}}else{s.column.focus()}}}return Ext.emptyFn},onDataRefresh:function(j){var g=this,f=g.ownerCt;if(f&&f.isCollapsingOrExpanding===2){f.on("expand",g.onDataRefresh,g,{single:true});return}Ext.view.View.prototype.onDataRefresh.call(this,j)},getViewRange:function(){var c=this;if(c.bufferedRenderer){return c.bufferedRenderer.getViewRange()}return Ext.view.View.prototype.getViewRange.call(this)},setPendingStripe:function(d){var f=this.stripeOnUpdate;if(f===null){f=d}else{f=Math.min(f,d)}this.stripeOnUpdate=f},onEndUpdate:function(){var f=this,g=f.stripeOnUpdate,j=f.all.startIndex;if(f.rendered&&(g||g===0)){if(g<j){g=j}f.doStripeRows(g);f.stripeOnUpdate=null}Ext.view.View.prototype.onEndUpdate.apply(this,arguments)},doStripeRows:function(r,l){var p=this,o,m,q,n;if(p.rendered&&p.stripeRows){o=p.getNodes(r,l);for(q=0,m=o.length;q<m;q++){n=o[q];n.className=n.className.replace(p.rowClsRe," ");r++;if(r%2===0){n.className+=(" "+p.altRowCls)}}}},hasActiveFeature:function(){return(this.isGrouping&&this.store.isGrouped())||this.isRowWrapped},getCellPaddingAfter:function(c){return Ext.fly(c).getPadding("r")},privates:{collectNodes:function(c){this.all.fill(this.getNodeContainer().childNodes,this.all.startIndex)},setActionableMode:function(x,A){var v=this,F=v.getNavigationModel(),D,s=v.grid.actionables,y=s.length,C,B,E,r=false,w,u;if(v.actionableMode===x){if(!x||A.isEqual(v.actionPosition)){return false}}if(x){if(A&&(A.view===v||(A.view===(w=v.lockingPartner)&&w.actionableMode))){r=v.activateCell(A)}return r}else{D=Ext.fly(Ext.Element.getActiveElement());if(v.el.contains(D)&&!Ext.fly(D).is(v.getCellSelector())){B=(v.actionPosition&&v.actionPosition.record)||v.getRecord(D);E=v.getHeaderByCell(D.findParent(v.getCellSelector()));u=A&&A.getCell();if(!A||!u){A=new Ext.grid.CellContext(v).setPosition(B||0,E||0);u=A.getCell()}u.focus();D=Ext.fly(Ext.Element.getActiveElement());if(!(v.el.contains(D)&&D.is(v.getCellSelector()))){A=null}}for(C=0;C<y;C++){if(s[C].deactivate){s[C].deactivate()}}if(v.actionRow){v.actionRow.saveTabbableState({skipSelf:true,includeSaved:false})}if(v.destroyed){return false}v.actionableMode=v.ownerGrid.actionableMode=false;v.actionPosition=F.actionPosition=v.actionRow=null;if(A){F.setPosition(A)}}},activateCell:function(A){var w=this,x=A.view!==w?w.lockingPartner:null,u=w.grid.actionables,y=u.length,E=w.getNavigationModel(),B,F,D,r,C,s,v;A=A.clone();B=A.record;A.view.grid.ensureVisible(B,{column:A.column});D=w.all.item(A.rowIdx);if(w.actionPosition){F=Ext.get(w.all.item(w.actionPosition.rowIdx,true));if(F&&D!==F){F.saveTabbableState({skipSelf:true,includeSaved:false})}}w.activating=true;if(!x){r=A.getCell();w.actionPosition=A;for(C=0;C<y;C++){s=s||u[C].activateCell(A,null,true)}}if(x||(r&&(r.restoreTabbableState(true).length|(v=r.findTabbableElements()).length))||s){for(C=0;C<y;C++){if(u[C].activateRow){u[C].activateRow(D)}}if(x||v.length){D.restoreTabbableState(true);if(x){w.actionableMode=true;w.actionPosition=null;w.activating=false;return true}if(v){w.actionRow=D;w.actionableMode=w.ownerGrid.actionableMode=true;E.setPosition();E.actionPosition=w.actionPosition=A;Ext.fly(v[0]).focus();w.activating=false;return true}}}w.activating=false},suspendActionableMode:function(){var j=this,l=j.grid.actionables,g=l.length,k;for(k=0;k<g;k++){l[k].suspend()}},resumeActionableMode:function(o){var l=this,n=l.grid.actionables,p=n.length,m,k;l.toggleChildrenTabbability(false);for(m=0;m<p;m++){k=k||n[m].resume(o)}if(!k){l.activateCell(o)}},onRowExit:function(s,w,o,u,v){var q=this,p=u?"nextSibling":"previousSibling",r=q.lockingPartner,x,y;if(r&&r.grid.isVisible()){x=q.all.indexOf(w);if(u){y=0;if(q.isNormalView){x++}}else{y=r.getVisibleColumnManager().getColumns().length-1;if(q.isLockedView){x--}}q.actionPosition=null;q=r;o=q.all.item(x,true)}if(!q.hasListeners.beforerowexit||q.fireEvent("beforerowexit",q,s,w,o,u)!==false){q.findFirstActionableElement(s,o,p,u,v)}else{return false}},findFirstActionableElement:function(E,O,C,J,L){var A=this,R=A.getVisibleColumnManager().getColumns(),B=R.length,K=A.grid.actionables,M=K.length,j=new Ext.grid.CellContext(A),G,Q,F,H,P,I,D,N;if(O){j.setRow(O);for(F=0;F<M;F++){if(K[F].activateRow){K[F].activateRow(O)}}for(F=(J?0:B-1);(J?F<B:F>-1)&&!Q;F=F+(J?1:-1)){P=R[F];j.setColumn(P);G=Ext.fly(O).down(j.column.getCellSelector());for(H=0;H<M;H++){I=I||K[H].activateCell(j)}G=j.getCell();if(G){O=j.getNode(true);G.restoreTabbableState(true);if((D=G.findTabbableElements()).length||I){N=A.actionRow;A.actionRow=Ext.get(O);A.actionRow.restoreTabbableState(true);Q=D[J?0:D.length-1]}}}if(Q){A.actionPosition=A.getNavigationModel().actionPosition=j;Ext.fly(Q).focus(Ext.asyncFocus?1:0);if(N&&O!==N.dom){N.saveTabbableState({skipSelf:true,includeSaved:false})}}else{A.onRowExit(E,O,A.all.item(j.rowIdx+(J?1:-1)),J,L)}}else{if(!L){A.grid.ensureVisible(J?0:A.dataSource.getCount()-1,{callback:function(d,c,b){if(d){A.findFirstActionableElement(E,b,C,J,true)}else{A.ownerGrid.setActionableMode(false)}}})}else{A.ownerGrid.setActionableMode(false)}}},stretchHeight:function(n){var l=this,j=l.getScrollable(),m=l.stretchers,k;if(n&&l.tabGuardEl){if(m){m[0].style.marginTop=m[1].style.marginTop=l.el.dom.style.height=0}l.el.dom.style.height=j.constrainScrollRange(n)+"px";k=n-l.el.dom.offsetHeight;if(k>0){l.el.dom.style.height="";m=l.getStretchers();k=n-l.el.dom.offsetHeight;if(k>0){m[0].style.marginTop=j.constrainScrollRange(k)+"px";k=n-l.el.dom.offsetHeight;if(k>0){m[1].style.marginTop=Math.min(k,j.maxSpacerMargin||0)+"px"}}}}},getStretchers:function(){var g=this,f=g.stretchers,j;if(f){g.el.appendChild(f)}else{j={cls:"x-scroller-spacer",style:"position:relative"};f=g.stretchers=g.el.appendChild([j,j],true)}return f}}},1,["tableview","gridview"],["component","box","dataview","tableview","gridview"],{component:true,box:true,dataview:true,tableview:true,gridview:true},["widget.gridview","widget.tableview"],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.view,"Table",Ext.grid,"View"],0));(Ext.cmd.derive("Ext.grid.Panel",Ext.panel.Table,{alternateClassName:["Ext.list.ListView","Ext.ListView","Ext.grid.GridPanel"],viewType:"tableview",ariaRole:"grid",lockable:false,rowLines:true},0,["grid","gridpanel"],["component","box","container","panel","tablepanel","gridpanel","grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true},["widget.grid","widget.gridpanel"],0,[Ext.grid,"Panel",Ext.list,"ListView",Ext,"ListView",Ext.grid,"GridPanel"],0));(Ext.cmd.derive("Ext.grid.RowContext",Ext.Base,{constructor:function(c){Ext.apply(this,c);this.widgets={}},setRecord:function(f,j){var g=this.viewModel;this.record=f;this.recordIndex=j;if(g){g.set("record",f);g.set("recordIndex",j)}},free:function(){var m=this,o=m.widgets,n,l,k,p=m.viewModel;m.record=null;if(p){p.set("record");p.set("recordIndex")}for(n in o){l=o[n];k=l.getFocusEl();if(k){if(k.isTabbable(true)){k.saveTabbableState({includeHidden:true})}k.blur()}l.detachFromBody();l.hidden=true}},getWidget:function(n,k){var l=this,m=l.widgets||(l.widgets={}),j;if(k.bind&&!l.viewModel){l.viewModel=Ext.Factory.viewModel({parent:l.ownerGrid.lookupViewModel(),data:{record:l.record,recordIndex:l.recordIndex}},l.ownerGrid.rowViewModel)}if(!(j=m[n])){j=m[n]=Ext.widget(Ext.apply({viewModel:l.viewModel,_rowContext:l},k));if(j.isWidget){j.initBindable()}}else{j.hidden=false}return j},getWidgets:function(){var j=this.widgets,g,f=[];for(g in j){f.push(j[g])}return f},destroy:function(){var k=this,g=k.widgets,l,j;for(l in g){j=g[l];j._rowContext=null;j.destroy()}Ext.destroy(k.viewModel);k.callParent()}},1,0,0,0,0,0,[Ext.grid,"RowContext"],0));(Ext.cmd.derive("Ext.grid.plugin.HeaderResizer",Ext.plugin.Abstract,{disabled:false,config:{dynamic:false},colHeaderCls:"x-column-header",minColWidth:40,maxColWidth:1000,eResizeCursor:"col-resize",init:function(f){var d=this;d.headerCt=f;f.on("render",d.afterHeaderRender,d,{single:d});if(!d.minColWidth){d.self.prototype.minColWidth=Ext.grid.column.Column.prototype.minWidth}},destroy:function(){var f=this,d=f.tracker;if(d){d.destroy();f.tracker=null}f.headerCt.un("render",f.afterHeaderRender,f);f.headerCt=null;Ext.plugin.Abstract.prototype.destroy.call(this)},afterHeaderRender:function(){var j=this,g=j.headerCt,f=g.el;g.mon(f,"mousemove",j.onHeaderCtMouseMove,j);j.markerOwner=j.ownerGrid=j.headerCt.up("tablepanel").ownerGrid;j.tracker=new Ext.dd.DragTracker({disabled:j.disabled,onBeforeStart:j.onBeforeStart.bind(j),onStart:j.onStart.bind(j),onDrag:j.onDrag.bind(j),onEnd:j.onEnd.bind(j),onCancel:j.onCancel.bind(j),tolerance:3,autoStart:300,el:f});g.setTouchAction({panX:false})},onHeaderCtMouseMove:function(f){var d=this;if(d.headerCt.dragging||d.disabled){if(d.activeHd){d.activeHd.el.dom.style.cursor="";delete d.activeHd}}else{if(f.pointerType!=="touch"){d.findActiveHeader(f)}}},findActiveHeader:function(u){var s=this,w=s.headerCt,q=u.getTarget("."+s.colHeaderCls,w.el,true),p=s.ownerGrid,y=p.ownerLockable,o,r,x,v;s.activeHd=null;if(q){o=Ext.getCmp(q.id);if(o.isAtEndEdge(u)){if(w.visibleColumnManager.getColumns().length===1&&w.forceFit){return}r=o}else{if(o.isAtStartEdge(u)){x=w.visibleColumnManager.getColumns();v=o.isGroupHeader?o.getGridColumns()[0]:o;r=x[Ext.Array.indexOf(x,v)-1];if(!r&&y&&!p.isLocked){x=y.lockedGrid.headerCt.visibleColumnManager.getColumns();r=x[x.length-1]}}}if(r){if(r.isGroupHeader){x=r.getGridColumns();r=x[x.length-1]}if(r&&!(r.fixed||(r.resizable===false))){s.activeHd=r;o.el.dom.style.cursor=s.eResizeCursor;if(o.triggerEl){o.triggerEl.dom.style.cursor=s.eResizeCursor}}}else{o.el.dom.style.cursor="";if(o.triggerEl){o.triggerEl.dom.style.cursor=""}}}return s.activeHd},onBeforeStart:function(f){var d=this;d.dragHd=d.activeHd||f.pointerType==="touch"&&d.findActiveHeader(f);if(d.dragHd&&!d.headerCt.dragging){f.claimGesture();d.xDelta=d.dragHd.getX()+d.dragHd.getWidth()-d.tracker.getXY()[0];d.tracker.constrainTo=d.getConstrainRegion();return true}else{d.headerCt.dragging=false;return false}},onCancel:function(c){this.dragHd=this.activeHd=null;this.headerCt.dragging=false},getConstrainRegion:function(){var n=this,r=n.dragHd.el,o,m=n.ownerGrid,p=m.getSizeModel().width,q=p.shrinkWrap?n.headerCt.getWidth()-n.headerCt.visibleColumnManager.getColumns().length*n.minColWidth:n.maxColWidth,l;if(n.headerCt.forceFit){o=n.dragHd.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])");if(o&&n.headerInSameGrid(o)){q=r.getWidth()+(o.getWidth()-n.minColWidth)}}else{if(m.isLocked&&p.shrinkWrap){q=n.dragHd.up("[scrollerOwner]").getTargetEl().getWidth(true)-m.getWidth()-(m.ownerLockable.normalGrid.visibleColumnManager.getColumns().length*n.minColWidth+Ext.getScrollbarSize().width)}}l=n.adjustConstrainRegion(r.getRegion(),0,0,0,n.minColWidth);l.right=r.getX()+q;return l},onStart:function(v){var u=this,w=u.dragHd,A=w.el.getWidth(),x=w.getRootHeaderCt(),q,r,y,B,s,p;u.headerCt.dragging=true;u.origWidth=A;if(!u.dynamic){y=u.markerOwner;if(y.frame&&y.resizable){u.gridOverflowSetting=y.el.dom.style.overflow;y.el.dom.style.overflow="hidden"}q=u.getLeftMarkerX(y);B=y.getLhsMarker();s=y.getRhsMarker();p=u.ownerGrid.body.getHeight()+x.getHeight();r=x.getOffsetsTo(y)[1]-y.el.getBorderWidth("t");B.dom.style.cursor=u.eResizeCursor;s.dom.style.cursor=u.eResizeCursor;B.setLocalY(r);s.setLocalY(r);B.setHeight(p);s.setHeight(p);u.setMarkerX(B,q);u.setMarkerX(s,q+A)}},onDrag:function(f){var d=this;if(d.dynamic){d.doResize()}else{d.setMarkerX(d.getMovingMarker(d.markerOwner),d.calculateDragX(d.markerOwner))}},getMovingMarker:function(c){return c.getRhsMarker()},onEnd:function(j){var f=this,g=f.markerOwner;f.headerCt.dragging=false;if(f.dragHd){if(!f.dynamic){if("gridOverflowSetting" in f){g.el.dom.style.overflow=f.gridOverflowSetting}f.setMarkerX(g.getLhsMarker(),-9999);f.setMarkerX(g.getRhsMarker(),-9999)}f.doResize();if(j.pointerType!=="touch"){f.dragHd=null;f.activeHd.el.dom.style.cursor=f.eResizeCursor}else{f.dragHd=f.activeHd=null}}f.headerCt.blockNextEvent()},doResize:function(){var k=this,l=k.dragHd,g,j=k.tracker.getOffset("point");if(l&&j[0]){if(l.flex){delete l.flex}Ext.suspendLayouts();k.adjustColumnWidth(j[0]-k.xDelta);if(k.headerCt.forceFit){g=l.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])");if(g&&!k.headerInSameGrid(g)){g=null}if(g){delete g.flex;g.setWidth(g.getWidth()-j[0])}}Ext.resumeLayouts(true)}},headerInSameGrid:function(f){var d=this.dragHd.up("tablepanel");return !!f.up(d)},disable:function(){var c=this.tracker;this.disabled=true;if(c){c.disable()}},enable:function(){var c=this.tracker;this.disabled=false;if(c){c.enable()}},calculateDragX:function(c){return this.tracker.getXY("point")[0]+this.xDelta-c.getX()-c.el.getBorderWidth("l")},getLeftMarkerX:function(c){return this.dragHd.getX()-c.getX()-c.el.getBorderWidth("l")-1},setMarkerX:function(f,d){f.setLocalX(d)},adjustConstrainRegion:function(b,l,k,n,m){return b.adjust(l,k,n,m)},adjustColumnWidth:function(c){this.dragHd.setWidth(this.origWidth+c)}},0,0,0,0,["plugin.gridheaderresizer"],0,[Ext.grid.plugin,"HeaderResizer"],0));(Ext.cmd.derive("Ext.grid.header.DragZone",Ext.dd.DragZone,{colHeaderSelector:".x-column-header",colInnerSelector:".x-column-header-inner",maxProxyWidth:120,constructor:function(f){var d=this;d.headerCt=f;d.ddGroup=d.getDDGroup();d.autoGroup=true;Ext.dd.DragZone.prototype.constructor.call(this,f.el);d.proxy.el.addCls("x-grid-col-dd")},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getDragData:function(l){if(l.getTarget(this.colInnerSelector)){var j=l.getTarget(this.colHeaderSelector),g,k;if(j){g=Ext.getCmp(j.id);if(!this.headerCt.dragging&&g.draggable&&!(g.isAtStartEdge(l)||g.isAtEndEdge(l))){k=document.createElement("div");k.role="presentation";k.innerHTML=g.text;return{ddel:k,header:g}}}}return false},onBeforeDrag:function(){return !(this.headerCt.dragging||this.disabled)},onInitDrag:function(){this.headerCt.dragging=true;this.headerCt.hideMenu();Ext.dd.DragZone.prototype.onInitDrag.apply(this,arguments)},onDragDrop:function(){this.headerCt.dragging=false;Ext.dd.DragZone.prototype.onDragDrop.apply(this,arguments)},afterRepair:function(){Ext.dd.DragZone.prototype.afterRepair.call(this);this.headerCt.dragging=false},getRepairXY:function(){return this.dragData.header.el.getXY()},disable:function(){this.disabled=true},enable:function(){this.disabled=false}},1,0,0,0,0,0,[Ext.grid.header,"DragZone"],0));(Ext.cmd.derive("Ext.grid.header.DropZone",Ext.dd.DropZone,{colHeaderCls:"x-column-header",proxyOffsets:[-4,-9],constructor:function(f){var d=this;d.headerCt=f;d.ddGroup=d.getDDGroup();d.autoGroup=true;Ext.dd.DropZone.prototype.constructor.call(this,f.el)},destroy:function(){Ext.destroy(this.topIndicator,this.bottomIndicator);Ext.dd.DropZone.prototype.destroy.call(this)},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getTargetFromEvent:function(c){return c.getTarget("."+this.colHeaderCls)},getTopIndicator:function(){if(!this.topIndicator){this.topIndicator=Ext.getBody().createChild({role:"presentation",cls:"x-col-move-top",html:"&#160;"});this.indicatorXOffset=Math.floor((this.topIndicator.dom.offsetWidth+1)/2)}return this.topIndicator},getBottomIndicator:function(){if(!this.bottomIndicator){this.bottomIndicator=Ext.getBody().createChild({role:"presentation",cls:"x-col-move-bottom",html:"&#160;"})}return this.bottomIndicator},getLocation:function(l,n){var j=l.getXY()[0],m=Ext.fly(n).getRegion(),k;if((m.right-j)<=(m.right-m.left)/2){k="after"}else{k="before"}return{pos:k,header:Ext.getCmp(n.id),node:n}},positionIndicator:function(J,M,E){var L=this,K=J.header,V=L.getLocation(E,M),S=V.header,W=V.pos,X,F,Q,H,G,Z,Y,R,P,O,D,N,T,I,U;if(S===L.lastTargetHeader&&W===L.lastDropPos){return}X=K.nextSibling("gridcolumn:not([hidden])");F=K.previousSibling("gridcolumn:not([hidden])");L.lastTargetHeader=S;L.lastDropPos=W;if(!S.draggable&&W==="before"&&S.getIndex()===0){return false}J.dropLocation=V;if((K!==S)&&((W==="before"&&X!==S)||(W==="after"&&F!==S))&&!S.isDescendantOf(K)){N=Ext.dd.DragDropManager.getRelated(L);T=N.length;I=0;for(;I<T;I++){U=N[I];if(U!==L&&U.invalidateDrop){U.invalidateDrop()}}L.valid=true;Q=L.getTopIndicator();H=L.getBottomIndicator();if(W==="before"){G="bc-tl";Z="tc-bl"}else{G="bc-tr";Z="tc-br"}Y=Q.getAlignToXY(S.el,G);R=H.getAlignToXY(S.el,Z);P=L.headerCt.el;O=P.getX()-L.indicatorXOffset;D=P.getX()+P.getWidth();Y[0]=Ext.Number.constrain(Y[0],O,D);R[0]=Ext.Number.constrain(R[0],O,D);Q.setXY(Y);H.setXY(R);Q.show();H.show()}else{L.invalidateDrop()}},invalidateDrop:function(){this.valid=false;this.hideIndicators()},onNodeOver:function(w,s,u,v){var r=this,p=v.header,y,o,x,q;if(v.header.el.dom===w){y=false}else{v.isLock=v.isUnlock=v.crossPanel=false;o=r.getLocation(u,w).header;y=(p.ownerCt===o.ownerCt);if(!y&&(!p.ownerCt.sealed&&!o.ownerCt.sealed)){y=true;x=p.up("tablepanel");q=o.up("tablepanel");if(x!==q){v.crossPanel=true;v.isLock=q.isLocked&&!x.isLocked;v.isUnlock=!q.isLocked&&x.isLocked;if((v.isUnlock&&p.lockable===false)||(v.isLock&&!p.isLockable())){y=false}}}}if(y){r.positionIndicator(v,w,u)}else{r.valid=false}return r.valid?r.dropAllowed:r.dropNotAllowed},hideIndicators:function(){var c=this;c.getTopIndicator().hide();c.getBottomIndicator().hide();c.lastTargetHeader=c.lastDropPos=null},onNodeOut:function(){this.hideIndicators()},getNestedHeader:function(j,l){var g=j.items,k;if(j.isGroupHeader&&g.length){k=!l?"first":"last";j=this.getNestedHeader(g[k](),l)}return j},onNodeDrop:function(F,N,B,x){this.headerCt.blockNextEvent();if(!this.valid){return}var A=this,E=x.header,K=x.dropLocation,C=K.pos,I=K.header,y=E.ownerCt,G=y.getRootHeaderCt(),P=I.ownerCt,M=A.headerCt.visibleColumnManager,D=M.getHeaderIndex(E),O,H,J,L;if(x.isLock||x.isUnlock){J=y.up("[scrollerOwner]");O=P.items.indexOf(I);if(C==="after"){O++}if(x.isLock){J.lock(E,O,P)}else{J.unlock(E,O,P)}}else{O=C==="after"?M.getHeaderIndex(A.getNestedHeader(I,1))+1:M.getHeaderIndex(A.getNestedHeader(I,0));A.invalidateDrop();L=E.getWidth();Ext.suspendLayouts();G.isDDMoveInGrid=!x.crossPanel;if(E.isGroupHeader&&I.isGroupHeader){E.setNestedParent(I)}if(C==="before"){P.moveBefore(E,I)}else{P.moveAfter(E,I)}if(O>=0&&!(I.isGroupHeader&&(!I.items||!I.items.length))&&D!==O){H=E.isGroupHeader?E.query(":not([hidden]):not([isGroupHeader])").length:1;if((D<=O)&&H>1){O-=H}P.getRootHeaderCt().grid.view.moveColumn(D,O,H)}G.fireEvent("columnmove",y,E,D,O);G.isDDMoveInGrid=false;if(P.isGroupHeader&&!y.isGroupHeader){if(y!==P){E.savedFlex=E.flex;delete E.flex;E.width=L}}else{if(!y.isGroupHeader){if(E.savedFlex){E.flex=E.savedFlex;delete E.width}}}Ext.resumeLayouts(true);if(A.headerCt.grid.floated){A.headerCt.grid.updateLayout()}}}},1,0,0,0,0,0,[Ext.grid.header,"DropZone"],0));(Ext.cmd.derive("Ext.grid.plugin.HeaderReorderer",Ext.plugin.Abstract,{init:function(c){this.headerCt=c;c.on({boxready:this.onHeaderCtRender,single:true,scope:this})},destroy:function(){var c=this;c.headerCt.un("boxready",c.onHeaderCtRender,c);Ext.destroy(c.dragZone,c.dropZone);c.headerCt=c.dragZone=c.dropZone=null;Ext.plugin.Abstract.prototype.destroy.call(this)},onHeaderCtRender:function(f){var d=this;d.dragZone=new Ext.grid.header.DragZone(d.headerCt);d.dropZone=new Ext.grid.header.DropZone(d.headerCt);if(d.disabled){d.dragZone.disable()}f.setTouchAction({panX:false})},enable:function(){this.disabled=false;if(this.dragZone){this.dragZone.enable()}},disable:function(){this.disabled=true;if(this.dragZone){this.dragZone.disable()}}},0,0,0,0,["plugin.gridheaderreorderer"],0,[Ext.grid.plugin,"HeaderReorderer"],0));(Ext.cmd.derive("Ext.grid.header.Container",Ext.container.Container,{border:true,baseCls:"x-grid-header-ct",dock:"top",weight:100,defaultType:"gridcolumn",defaultWidth:100,sortAscText:"Sort Ascending",sortDescText:"Sort Descending",sortClearText:"Clear Sort",columnsText:"Columns",headerOpenCls:"x-column-header-open",menuSortAscCls:"x-hmenu-sort-asc",menuSortDescCls:"x-hmenu-sort-desc",menuColsIcon:"x-cols-icon",blockEvents:false,dragging:false,sortOnClick:true,enableFocusableContainer:false,childHideCount:0,sortable:true,enableColumnHide:true,initComponent:function(){var c=this;c.plugins=c.plugins||[];c.defaults=c.defaults||{};if(!c.isColumn){c.isRootHeader=true;if(c.enableColumnResize){c.resizer=new Ext.grid.plugin.HeaderResizer();c.plugins.push(c.resizer)}if(c.enableColumnMove){c.reorderer=new Ext.grid.plugin.HeaderReorderer();c.plugins.push(c.reorderer)}}if(c.isColumn&&!c.isGroupHeader){if(!c.items||c.items.length===0){c.isContainer=c.isFocusableContainer=false;if(!c.hasOwnProperty("focusable")){c.focusable=true}c.layout={type:"container",calculate:Ext.emptyFn}}}else{c.layout=Ext.apply({type:"gridcolumn",align:"stretch"},c.initialConfig.layout);c.defaults.columnLines=c.columnLines;if(c.isRootHeader){if(!c.hiddenHeaders){c.enableFocusableContainer=true;c.ariaRole="rowgroup"}c.columnManager=new Ext.grid.ColumnManager(false,c);c.visibleColumnManager=new Ext.grid.ColumnManager(true,c);if(c.grid){c.grid.columnManager=c.columnManager;c.grid.visibleColumnManager=c.visibleColumnManager}}else{c.visibleColumnManager=new Ext.grid.ColumnManager(true,c);c.columnManager=new Ext.grid.ColumnManager(false,c)}}c.menuTask=new Ext.util.DelayedTask(c.updateMenuDisabledState,c);Ext.container.Container.prototype.initComponent.call(this)},isNested:function(){return !!this.getRootHeaderCt().down("[isNestedParent]")},isNestedGroupHeader:function(){var f=this,d=f.getRefOwner().query(">:not([hidden])");return(d.length===1&&d[0]===f)},maybeShowNestedGroupHeader:function(){var d=this.items,f;if(d&&d.length===1&&(f=d.getAt(0))&&f.hidden){f.show()}},setNestedParent:function(c){c.isNestedParent=false;c.ownerCt.isNestedParent=!!(this.ownerCt.items.length===1&&c.ownerCt.items.length===1)},initEvents:function(){var g=this,f,j;Ext.container.Container.prototype.initEvents.call(this);if(!g.isColumn&&!g.isGroupHeader){f=g.onHeaderCtEvent;j={click:f,dblclick:f,contextmenu:f,mousedown:g.onHeaderCtMouseDown,mouseover:g.onHeaderCtMouseOver,mouseout:g.onHeaderCtMouseOut,scope:g};if(Ext.supports.Touch){j.longpress=g.onHeaderCtLongPress}g.mon(g.el,j)}},onHeaderCtEvent:function(p,r){var q=this,m=q.getHeaderElByEvent(p),n,o,l;if(q.longPressFired){q.longPressFired=false;return}if(m&&!q.blockEvents){n=Ext.getCmp(m.id);if(n){o=n[n.clickTargetName];if((!n.isGroupHeader&&!n.isContainer)||p.within(o)){if(p.type==="click"||p.type==="tap"){l=n.onTitleElClick(p,o,q.sortOnClick);if(l){q.onHeaderTriggerClick(l,p,p.pointerType==="touch"?l.el:l.triggerEl)}else{q.onHeaderClick(n,p,r)}}else{if(p.type==="contextmenu"){q.onHeaderContextMenu(n,p,r)}else{if(p.type==="dblclick"&&n.resizable){n.onTitleElDblClick(p,o.dom)}}}}}}},blockNextEvent:function(){this.blockEvents=true;Ext.asap(this.unblockEvents,this)},unblockEvents:function(){this.blockEvents=false},onHeaderCtMouseDown:function(n,o){var u=Ext.Component.fromElement(o),p,r,m,q,s;if(u!==this){if(u.isGroupHeader){p=u.getVisibleGridColumns();q=this.getScrollable();for(r=0,m=p.length;r<m;++r){s=p[r];if(q.doIsInView(s.el,true).x){u=s;break}}}u.focus()}},onHeaderCtMouseOver:function(n,j){var k,l,m;if(!n.within(this.el,true)){k=n.getTarget("."+Ext.grid.column.Column.prototype.baseCls);l=k&&Ext.getCmp(k.id);if(l){m=l[l.clickTargetName];if(n.within(m)){l.onTitleMouseOver(n,m.dom)}}}},onHeaderCtMouseOut:function(o,q){var p="."+Ext.grid.column.Column.prototype.baseCls,r=o.getTarget(p),l=o.getRelatedTarget(p),m,n;if(r!==l){if(r){m=Ext.getCmp(r.id);if(m){n=m[m.clickTargetName];m.onTitleMouseOut(o,n.dom)}}if(l){m=Ext.getCmp(l.id);if(m){n=m[m.clickTargetName];m.onTitleMouseOver(o,n.dom)}}}},onHeaderCtLongPress:function(l){var g=this,j=g.getHeaderElByEvent(l),k;if(j){k=Ext.getCmp(j.id);if(k&&!k.menuDisabled){g.longPressFired=true;g.showMenuBy(l,j,k)}}},getHeaderElByEvent:function(c){return c.getTarget("."+Ext.grid.column.Column.prototype.baseCls)},isLayoutRoot:function(){if(this.hiddenHeaders){return false}return Ext.container.Container.prototype.isLayoutRoot.call(this)},getRootHeaderCt:function(){var c=this;return c.isRootHeader?c:c.up("[isRootHeader]")},doDestroy:function(){var c=this;if(c.menu){c.menu.un("hide",c.onMenuHide,c)}c.menuTask.cancel();Ext.destroy(c.visibleColumnManager,c.columnManager,c.menu);Ext.container.Container.prototype.doDestroy.call(this)},applyColumnsState:function(H,D){if(!H){return}var u=this,w=u.items.items,x=w.length,B=0,F,v,E,G,y,c=false,A=[],C=[];for(B=0;B<x;B++){E=w[B];G=H[E.getStateId()];if(G){y=G.index;A[y]=E;if(B!==y){c=true}if(E.applyColumnState){E.applyColumnState(G,D)}}else{C.push({index:B,column:E})}}A=Ext.Array.clean(A);F=C.length;if(F){for(B=0;B<F;B++){G=C[B];y=G.index;if(y<A.length){c=true;Ext.Array.splice(A,y,0,G.column)}else{A.push(G.column)}}}if(c){u.applyingState=true;u.removeAll(false);delete u.applyingState;u.add(A);u.purgeCache()}},getColumnsState:function(){var j=this,f=[],g;j.items.each(function(b){g=b.getColumnState&&b.getColumnState();if(g){f.push(g)}});return f},onAdd:function(g){var j=this,c;Ext.container.Container.prototype.onAdd.apply(this,arguments);c=j.getRootHeaderCt();j.onHeadersChanged(g,c&&c.isDDMoveInGrid)},move:function(m,k){var l=this,n=l.items,j;if(m.isComponent){j=m;m=n.indexOf(j)}else{j=n.getAt(m)}j.visibleFromIdx=l.getRootHeaderCt().visibleColumnManager.indexOf(j);Ext.container.Container.prototype.move.apply(this,arguments)},onMove:function(m,r,o){var p=this,q=p.getRootHeaderCt(),u=q.visibleColumnManager,n=1,s;p.onHeadersChanged(m,true);s=u.indexOf(m);if(s>=m.visibleFromIdx){s++}Ext.container.Container.prototype.onMove.apply(this,arguments);if(m.isGroupHeader){n=m.visibleColumnManager.getColumns().length}q.onHeaderMoved(m,n,m.visibleFromIdx,s)},maybeContinueRemove:function(){var c=this;return(c.isGroupHeader&&!c.applyingState)&&!c.isNestedParent&&c.ownerCt&&!c.items.getCount()},onRemove:function(j,l){var k=this,c=k.ownerCt;Ext.container.Container.prototype.onRemove.call(this,j,l);if(!k.destroying){if(!k.getRootHeaderCt().isDDMoveInGrid){k.onHeadersChanged(j,false)}if(k.maybeContinueRemove()){if(j.rendered){k.detachComponent(j)}k.destroyAfterRemoving=true;Ext.suspendLayouts();c.remove(k,false);Ext.resumeLayouts(true)}}},onHeadersChanged:function(j,c){var l,k=this.getRootHeaderCt();this.purgeHeaderCtCache(this);if(k){k.onColumnsChanged();l=k.ownerCt;if(l&&!c){l.onHeadersChanged(k,j)}}},onHeaderMoved:function(l,k,o,m){var n=this,p=n.ownerCt;if(n.rendered){if(p&&p.onHeaderMove){p.onHeaderMove(n,l,k,o,m)}n.fireEvent("columnmove",n,l,o,m)}},onColumnsChanged:function(){var k=this,j=k.menu,g,l;if(k.rendered){k.fireEvent("columnschanged",k);if(j){g=j.child("#columnItemSeparator");l=j.child("#columnItem");if(g){g.destroy()}if(l){l.destroy()}}}},lookupComponent:function(f){var d=Ext.container.Container.prototype.lookupComponent.apply(this,arguments);if(!d.isGroupHeader&&d.width===undefined&&!d.flex){d.width=this.defaultWidth}return d},setSortState:function(){var p=this.up("[store]").store,n=this.visibleColumnManager.getColumns(),k=n.length,o,l,m;for(o=0;o<k;o++){l=n[o];m=l.getSorter();if(m){if(!p.getSorters().contains(m)){m=null}}else{m=p.getSorters().get(l.getSortParam())}l.setSortState(m)}},getHeaderMenu:function(){var f=this.getMenu(),d;if(f){d=f.child("#columnItem");if(d){return d.menu}}return null},onHeaderVisibilityChange:function(k,l){var n=this,m=n.getHeaderMenu(),j;n.purgeHeaderCtCache(k.ownerCt);if(m){j=n.getMenuItemForHeader(m,k);if(j){j.setChecked(l,true)}if(m.isVisible()){n.menuTask.delay(50)}}},updateMenuDisabledState:function(o){var p=this,r=p.query("gridcolumn:not([hidden])"),s,m=r.length,q,u,n;if(!o){o=p.getMenu()}for(s=0;s<m;++s){q=r[s];u=p.getMenuItemForHeader(o,q);if(u){n=q.isHideable()?"enable":"disable";if(u.menu){n+="CheckChange"}u[n]()}}},getMenuItemForHeader:function(d,f){return f?d.down("menucheckitem[headerId="+f.id+"]"):null},onHeaderShow:function(j){var k=this,l=k.ownerCt,g=j.lastHiddenHeader;if(!l){return}if(k.forceFit){delete k.flex}if(g&&!j.query("[hidden=false]").length){g.show();j.lastHiddenHeader=null}k.onHeaderVisibilityChange(j,true);l.onHeaderShow(k,j);k.fireEvent("columnshow",k,j);k.fireEvent("columnschanged",this)},onHeaderHide:function(g){var j=this,f=j.ownerCt;if(!f){return}j.onHeaderVisibilityChange(g,false);f.onHeaderHide(j,g);j.fireEvent("columnhide",j,g);j.fireEvent("columnschanged",this)},onHeaderResize:function(j,g){var k=this,l=k.ownerCt;if(l){l.onHeaderResize(k,j,g)}k.fireEvent("columnresize",k,j,g)},onHeaderClick:function(l,m,o){var n=this,k=l.getView().getSelectionModel(),p;l.fireEvent("headerclick",n,l,m,o);p=n.fireEvent("headerclick",n,l,m,o);if(p!==false){if(k.onHeaderClick){k.onHeaderClick(n,l,m)}}return p},onHeaderContextMenu:function(g,j,f){g.fireEvent("headercontextmenu",this,g,j,f);this.fireEvent("headercontextmenu",this,g,j,f)},onHeaderTriggerClick:function(j,k,g){var l=this;if(j.fireEvent("headertriggerclick",l,j,k,g)!==false&&l.fireEvent("headertriggerclick",l,j,k,g)!==false){if(j.activeMenu){if(k.pointerType){j.activeMenu.hide()}else{j.activeMenu.focus()}}else{l.showMenuBy(k,g,j)}}},showMenuBy:function(m,r,n){var p=this.getMenu(),o=p.down("#ascItem"),q=p.down("#descItem"),s,u=m&&m.pointerType==="touch";p.activeHeader=p.ownerCmp=n;n.setMenuActive(p);s=n.sortable?"enable":"disable";if(o){o[s]()}if(q){q[s]()}p.autoFocus=!m||m.keyCode;p.showBy(r,"tl-bl?");if(!p.isVisible()){this.onMenuHide(p)}},hideMenu:function(){if(this.menu){this.menu.hide()}},onMenuHide:function(c){c.activeHeader.setMenuActive(false)},purgeHeaderCtCache:function(c){while(c){c.purgeCache();if(c.isRootHeader){return}c=c.ownerCt}},purgeCache:function(){var g=this,j=g.visibleColumnManager,f=g.columnManager;g.gridVisibleColumns=g.gridDataColumns=g.hideableColumns=null;if(j){j.invalidate();f.invalidate()}},getMenu:function(){var f=this,d=f.view&&f.view.ownerGrid;if(!f.menu){f.menu=new Ext.menu.Menu({hideOnParentHide:false,items:f.getMenuItems(),listeners:{beforeshow:f.beforeMenuShow,hide:f.onMenuHide,scope:f}});f.fireEvent("menucreate",f,f.menu);if(d){d.fireEvent("headermenucreate",d,f.menu,f)}}return f.menu},beforeMenuShow:function(k){var m=this,n=k.child("#columnItem"),j,l;if(!n){j=m.enableColumnHide?m.getColumnMenu(m):null;l=m.sortable?2:0;if(j&&j.length){k.insert(l,[{itemId:"columnItemSeparator",xtype:"menuseparator"},{itemId:"columnItem",text:m.columnsText,iconCls:m.menuColsIcon,menu:{items:j},hideOnClick:false}])}}m.updateMenuDisabledState(m.menu)},getMenuItems:function(){var g=this,j=[],f=g.enableColumnHide?g.getColumnMenu(g):null;if(g.sortable){j=[{itemId:"ascItem",text:g.sortAscText,iconCls:g.menuSortAscCls,handler:g.onSortAscClick,scope:g},{itemId:"descItem",text:g.sortDescText,iconCls:g.menuSortDescCls,handler:g.onSortDescClick,scope:g}]}if(f&&f.length){if(g.sortable){j.push({itemId:"columnItemSeparator",xtype:"menuseparator"})}j.push({itemId:"columnItem",text:g.columnsText,iconCls:g.menuColsIcon,menu:f,hideOnClick:false})}return j},onSortAscClick:function(){var f=this.getMenu(),d=f.activeHeader;d.sort("ASC")},onSortDescClick:function(){var f=this.getMenu(),d=f.activeHeader;d.sort("DESC")},getColumnMenu:function(n){var q=[],r=0,o,l=n.query(">gridcolumn[hideable]"),m=l.length,p;for(;r<m;r++){o=l[r];p=new Ext.menu.CheckItem({text:o.menuText||o.text,checked:!o.hidden,hideOnClick:false,headerId:o.id,menu:o.isGroupHeader?this.getColumnMenu(o):undefined,checkHandler:this.onColumnCheckChange,scope:this});q.push(p)}return q.length?q:null},onColumnCheckChange:function(f,j){var g=Ext.getCmp(f.headerId);if(g.rendered){g[j?"show":"hide"]()}else{g.hidden=!j}},getColumnCount:function(){return this.getGridColumns().length},getTableWidth:function(){var k=0,l=this.getVisibleGridColumns(),j=l.length,g;for(g=0;g<j;g++){k+=l[g].getCellWidth()||0}return k},getVisibleGridColumns:function(){var m=this,q,o,r,l,p,n;if(m.gridVisibleColumns){return m.gridVisibleColumns}q=m.getGridColumns();o=m.getRootHeaderCt();r=[];l=q.length;for(p=0;p<l;p++){n=q[p];if(!n.hidden&&!n.isColumnHidden(o)){r[r.length]=n}}m.gridVisibleColumns=r;return r},isColumnHidden:function(f){var d=this.getRefOwner();while(d&&d!==f){if(d.hidden){return true}d=d.getRefOwner()}return false},getGridColumns:function(p,w){if(!p&&this.gridDataColumns){return this.gridDataColumns}var q=this,n=p||[],r,v,s,o,u;w=w||q.hidden;if(q.items){r=q.items.items;if(r){for(v=0,s=r.length;v<s;v++){o=r[v];if(o.isGroupHeader){o.visibleIndex=n.length;o.getGridColumns(n,w)}else{o.hiddenAncestor=w;n.push(o)}}}}if(!p){q.gridDataColumns=n}if(!p&&s){for(v=0,s=n.length;v<s;v++){o=n[v];o.fullColumnIndex=v;o.isFirstVisible=o.isLastVisible=false;if(!(o.hidden||o.hiddenAncestor)){if(!u){o.isFirstVisible=true}u=o}}if(u){u.isLastVisible=true}}return n},getHideableColumns:function(){var f=this,d=f.hideableColumns;if(!d){d=f.hideableColumns=f.query("[hideable]")}return d},getHeaderIndex:function(c){if(!this.columnManager){this.columnManager=this.getRootHeaderCt().columnManager}return this.columnManager.getHeaderIndex(c)},getHeaderAtIndex:function(c){if(!this.columnManager){this.columnManager=this.getRootHeaderCt().columnManager}return this.columnManager.getHeaderAtIndex(c)},getVisibleHeaderClosestToIndex:function(c){if(!this.visibleColumnManager){this.visibleColumnManager=this.getRootHeaderCt().visibleColumnManager}return this.visibleColumnManager.getVisibleHeaderClosestToIndex(c)},applyForceFit:function(E){var y=this,x=y.view,J=Ext.grid.plugin.HeaderResizer.prototype.minColWidth,H=false,L=Ext.grid.header.Container.prototype.defaultWidth,K=y.el.dom.clientWidth-(x.el.dom.scrollHeight>x.el.dom.clientHeight?Ext.getScrollbarSize().width:0),G=0,A=y.getVisibleGridColumns(),D=E.hidden,B,F,M,C,I;function w(){for(F=0,B=A.length;F<B;F++){M=A[F];if(M===E){continue}M.flex=M.flex||M.width||M.getWidth();G+=M.flex;M.width=null}}function N(){var b;for(F=0,B=A.length;F<B;F++){M=A[F];b=(M===E);if(H&&!b){M.flex=J;M.width=null}else{if(!b){I=M.flex||L;M.flex=Math.max(Math.ceil((I/G)*K),J);M.width=null}}M.setWidth(M.width||M.flex)}}Ext.suspendLayouts();C=(K-((A.length+1)*J));E.flex=null;if(D){I=E.width||E.savedWidth||Math.floor(C/(A.length+1));E.savedWidth=null}else{I=x.getMaxContentWidth(E)}if(I>C){E.width=C;H=true}else{E.width=I;K-=I+L;w()}N();Ext.resumeLayouts(true)},autoSizeColumn:function(f){var d=this.view;if(d){d.autoSizeColumn(f);if(this.forceFit){this.applyForceFit(f)}}},getRefItems:function(f){var d=Ext.container.Container.prototype.getRefItems.call(this,f);if(this.menu){d.push(this.menu)}return d},privates:{beginChildHide:function(){++this.childHideCount},endChildHide:function(){--this.childHideCount},getFocusables:function(){return this.isRootHeader?this.getVisibleGridColumns():this.items.items},createFocusableContainerKeyNav:function(d){var f=this;return new Ext.util.KeyNav(d,{scope:f,down:f.showHeaderMenu,left:f.onFocusableContainerLeftKey,right:f.onFocusableContainerRightKey,home:f.onHomeKey,end:f.onEndKey,space:f.onHeaderActivate,enter:f.onHeaderActivate})},onHomeKey:function(c){return this.focusChild(null,true,c)},onEndKey:function(c){return this.focusChild(null,false,c)},showHeaderMenu:function(f){var d=this.getFocusableFromEvent(f);if(d&&d.isColumn&&d.triggerEl){this.onHeaderTriggerClick(d,f,d.triggerEl)}},onHeaderActivate:function(j){var k=this.getFocusableFromEvent(j),g,l;if(k&&k.isColumn){g=k.getView();if(k.sortable&&this.sortOnClick){l=g.getNavigationModel().getLastFocused();k.toggleSortState();if(l){g.ownerCt.ensureVisible(l.record)}}else{if(j.getKey()===j.SPACE){k.onTitleElClick(j,j.target,this.sortOnClick)}}return this.onHeaderClick(k,j,k.el)}},onOwnerGridReconfigure:function(f,j){var g=this;if(!g.rendered||g.destroying||g.destroyed){return}if(f||j){g.initFocusableContainer()}}}},0,["headercontainer"],["component","box","container","headercontainer"],{component:true,box:true,container:true,headercontainer:true},["widget.headercontainer"],[[Ext.util.FocusableContainer.prototype.mixinId||Ext.util.FocusableContainer.$className,Ext.util.FocusableContainer]],[Ext.grid.header,"Container"],0));(Ext.cmd.derive("Ext.grid.column.Column",Ext.grid.header.Container,{alternateClassName:"Ext.grid.Column",config:{triggerVisible:false,sorter:null,align:"start"},baseCls:"x-column-header",hoverCls:"x-column-header-over",ariaRole:"columnheader",enableFocusableContainer:false,sortState:null,possibleSortStates:["ASC","DESC"],ariaSortStates:{ASC:"ascending",DESC:"descending"},childEls:["titleEl","triggerEl","textEl","textContainerEl","textInnerEl"],headerWrap:false,renderTpl:['<div id="{id}-titleEl" data-ref="titleEl" role="presentation"','{tipMarkup}class="',"x-",'column-header-inner<tpl if="!$comp.isContainer"> ',"x-","leaf-column-header</tpl>",'<tpl if="empty"> ',"x-",'column-header-inner-empty</tpl>">','<div id="{id}-textContainerEl" data-ref="textContainerEl" role="presentation" class="',"x-",'column-header-text-container">','<div role="presentation" class="',"x-",'column-header-text-wrapper">','<div id="{id}-textEl" data-ref="textEl" role="presentation" class="',"x-","column-header-text",'{childElCls}">','<span id="{id}-textInnerEl" data-ref="textInnerEl" role="presentation" class="',"x-",'column-header-text-inner">{text}</span>',"</div>","{%","values.$comp.afterText(out, values);","%}","</div>","</div>",'<tpl if="!menuDisabled">','<div id="{id}-triggerEl" data-ref="triggerEl" role="presentation" unselectable="on" class="',"x-","column-header-trigger",'{childElCls}" style="{triggerStyle}"></div>',"</tpl>","</div>","{%this.renderContainer(out,values)%}"],dataIndex:null,text:"\xa0",menuText:null,emptyCellText:"\xa0",sortable:true,resizable:true,hideable:true,menuDisabled:false,renderer:false,draggable:true,tooltipType:"qtip",initDraggable:Ext.emptyFn,tdCls:"",dirtyText:"Cell value has been edited",producesHTML:true,ignoreExport:false,exportStyle:null,isHeader:true,isColumn:true,scrollable:false,requiresMenu:false,tabIndex:-1,ascSortCls:"x-column-header-sort-ASC",descSortCls:"x-column-header-sort-DESC",componentLayout:"columncomponent",groupSubHeaderCls:"x-group-sub-header",groupHeaderCls:"x-group-header",clickTargetName:"titleEl",detachOnRemove:true,initResizable:Ext.emptyFn,rendererNames:{column:"renderer",edit:"editRenderer",summary:"summaryRenderer"},formatterNames:{column:"formatter",edit:"editFormatter",summary:"summaryFormatter"},initComponent:function(){var c=this;if(!c.rendererScope){c.rendererScope=c.scope}if(c.header!=null){c.text=c.header;c.header=null}if(c.cellWrap){c.tdCls=(c.tdCls||"")+" x-wrap-cell"}if(c.columns!=null){c.isGroupHeader=true;c.ariaRole="presentation";c.items=c.columns;c.columns=null;c.cls=(c.cls||"")+" "+c.groupHeaderCls;c.sortable=c.resizable=false;c.align="center"}else{if(c.flex){c.minWidth=c.minWidth||Ext.grid.plugin.HeaderResizer.prototype.minColWidth}}c.addCls("x-column-header-align-"+c.align);c.setupRenderer();c.setupRenderer("edit");c.setupRenderer("summary");Ext.grid.header.Container.prototype.initComponent.apply(this,arguments)},beforeLayout:function(){var k=this.items,l,j,g;if(!Ext.isArray(k)){k=k.items}l=k.length;if(l){for(j=0;!g&&j<l;j++){g=k[j].flex}if(!g){this.flex=null}}Ext.grid.header.Container.prototype.beforeLayout.call(this)},onAdded:function(l,j,g){var k=this;Ext.grid.header.Container.prototype.onAdded.call(this,l,j,g);if(!k.headerId){k.calculateHeaderId()}k.configureStateInfo()},_initSorterFn:function(s,u){var b=this,n=b.column,o=n.resolveListenerScope(),q=b.methodName,p=o&&o[q],r=0;if(p){b.setSorterFn(p);b.column=null;r=p.call(o,s,u)}return r},applySorter:function(j){var k=this,l=j?j.sorterFn:null,g;if(typeof l==="string"){g=new Ext.util.Sorter(Ext.applyIf({sorterFn:k._initSorterFn},j));g.methodName=l;g.column=k}else{g=k.getRootHeaderCt().up("tablepanel").store.getData().getSorters().decodeSorter(j)}return g},updateAlign:function(c){this.textAlign=this._alignMap[c]||c},bindFormatter:function(f){var d=this;return function(b){return f(b,d.rendererScope||d.resolveListenerScope())}},bindRenderer:function(f){var d=this;d.hasCustomRenderer=true;return function(){return Ext.callback(f,d.rendererScope,arguments,0,d)}},setupRenderer:function(r){r=r||"column";var q=this,n=q[q.formatterNames[r]],p=q[q.rendererNames[r]],l=r==="column",m,o;if(!n){if(p){if(typeof p==="string"){p=q[q.rendererNames[r]]=q.bindRenderer(p);o=true}if(l){q.hasCustomRenderer=o||p.length>1}}else{if(l&&q.defaultRenderer){q.renderer=q.defaultRenderer;q.usingDefaultRenderer=true}}}else{m=Ext.app.bind.Parser.fly(n);n=m.compileFormat();m.release();q[q.formatterNames[r]]=null;q[q.rendererNames[r]]=q.bindFormatter(n)}},getView:function(){var c=this.getRootHeaderCt();if(c){return c.view}},onFocusLeave:function(c){Ext.grid.header.Container.prototype.onFocusLeave.call(this,c);if(this.activeMenu){this.activeMenu.hide()}},initItems:function(){var c=this;Ext.grid.header.Container.prototype.initItems.apply(this,arguments);if(c.isGroupHeader){if(c.config.hidden||!c.hasVisibleChildColumns()){c.hide()}}},hasVisibleChildColumns:function(){var l=this.items.items,g=l.length,k,j;for(k=0;k<g;++k){j=l[k];if(j.isColumn&&!j.hidden){return true}}return false},onAdd:function(f){var d=this;if(f.isColumn){f.isSubHeader=true;f.addCls(d.groupSubHeaderCls)}if(d.isGroupHeader&&d.hidden&&d.hasVisibleChildColumns()){d.show()}Ext.grid.header.Container.prototype.onAdd.call(this,f)},onRemove:function(g,f){var j=this;if(g.isSubHeader){g.isSubHeader=false;g.removeCls(j.groupSubHeaderCls)}Ext.grid.header.Container.prototype.onRemove.call(this,g,f);if(!(j.destroyed||j.destroying)&&!j.hasVisibleChildColumns()&&(j.ownerCt&&!j.ownerCt.isNested())){j.hide()}},initRenderData:function(){var n=this,k="",m=n.tooltip,l=n.text,j=n.tooltipType==="qtip"?"data-qtip":"title";if(!Ext.isEmpty(m)){k=j+'="'+m+'" '}return Ext.applyIf(Ext.grid.header.Container.prototype.initRenderData.apply(this,arguments),{text:l,empty:n.isEmptyText(l),menuDisabled:n.menuDisabled,tipMarkup:k,triggerStyle:this.getTriggerVisible()?"display:block":""})},applyColumnState:function(w,u){var p=this,n=p.getSorter(),q=u&&u.sorters,r,s,v,o;if(n&&q&&(r=q.length)){o=n.getId();for(s=0;!v&&s<r;s++){if(q[s].id===o){n.setDirection(q[s].direction);q[s]=n;break}}}p.applyColumnsState(w.columns);if(w.hidden!=null){p.hidden=w.hidden}if(w.locked!=null){p.locked=w.locked}if(w.sortable!=null){p.sortable=w.sortable}if(w.width!=null){p.flex=null;p.width=w.width}else{if(w.flex!=null){p.width=null;p.flex=w.flex}}},getColumnState:function(){var j=this,f=j.items.items,g={id:j.getStateId()};j.savePropsToState(["hidden","sortable","locked","flex","width"],g);if(j.isGroupHeader&&f&&f.length){g.columns=j.getColumnsState()}if("width" in g){delete g.flex}return g},setText:function(g){var j=this,f;j.text=g;if(j.rendered){f=j.getView().ownerGrid;j.textInnerEl.setHtml(g);j.titleEl.toggleCls("x-column-header-inner-empty",j.isEmptyText(g));f.syncHeaderVisibility()}},getIndex:function(){return this.isGroupColumn?false:this.getRootHeaderCt().getHeaderIndex(this)},getVisibleIndex:function(){return this.visibleIndex!=null?this.visibleIndex:this.isGroupColumn?false:Ext.Array.indexOf(this.getRootHeaderCt().getVisibleGridColumns(),this)},getLabelChain:function(){var g=this,j=[],f;while((f=g.up("headercontainer"))){if(f.text){j.unshift(Ext.util.Format.stripTags(f.text))}g=f}return j},beforeRender:function(){var m=this,j=m.getRootHeaderCt(),l=m.isSortable(),k=[],n;Ext.grid.header.Container.prototype.beforeRender.call(this);if(!m.requiresMenu&&!l&&!m.groupable&&!m.lockable&&(j.grid.enableColumnHide===false||!j.getHideableColumns().length)){m.menuDisabled=true}if(m.cellWrap){m.variableRowHeight=true}n=m.ariaRenderAttributes||(m.ariaRenderAttributes={});n["aria-readonly"]=true;if(l){n["aria-sort"]=m.ariaSortStates[m.sortState]}if(m.isSubHeader){k=m.getLabelChain();if(m.text){k.push(Ext.util.Format.stripTags(m.text))}if(k.length){n["aria-label"]=k.join(" ")}}m.protoEl.unselectable()},getTriggerElWidth:function(){var g=this,j=g.triggerEl,f=g.self.triggerElWidth;if(j&&f===undefined){j.setStyle("display","block");f=g.self.triggerElWidth=j.getWidth();j.setStyle("display","")}return f},afterComponentLayout:function(n,k,p,l){var m=this,o=m.getRootHeaderCt();Ext.grid.header.Container.prototype.afterComponentLayout.apply(this,arguments);if(o&&(p!=null||m.flex)&&n!==p){o.onHeaderResize(m,n)}},doDestroy:function(){Ext.destroy(this.field,this.editor);Ext.grid.header.Container.prototype.doDestroy.call(this)},onTitleMouseOver:function(){this.titleEl.addCls(this.hoverCls)},onTitleMouseOut:function(){this.titleEl.removeCls(this.hoverCls)},onDownKey:function(c){if(this.triggerEl){this.onTitleElClick(c,this.triggerEl.dom||this.el.dom)}},onEnterKey:function(c){this.onTitleElClick(c,this.el.dom)},onTitleElDblClick:function(l){var n=this,j,m,k;if(n.isAtStartEdge(l)){j=n.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])");if(j&&j.getRootHeaderCt()===n.getRootHeaderCt()){j.autoSize()}}else{if(n.isAtEndEdge(l)){if(n.isGroupHeader&&l.getPoint().isContainedBy(n.layout.innerCt)){m=n.query("gridcolumn:not([hidden]):not([isGroupHeader])");n.getRootHeaderCt().autoSizeColumn(m[m.length-1]);return}else{k=n.getRootHeaderCt();if(k.visibleColumnManager.getColumns().length===1&&k.forceFit){return}}n.autoSize()}}},autoSize:function(){var n=this,m,k,j,l;if(n.isGroupHeader){m=n.query("gridcolumn:not([hidden]):not([isGroupHeader])");k=m.length;l=n.getRootHeaderCt();Ext.suspendLayouts();for(j=0;j<k;j++){l.autoSizeColumn(m[j])}Ext.resumeLayouts(true);if(grid.ownerGrid.lockable&&grid.isLayoutRoot()){grid.ownerGrid.syncLockableLayout()}return}n.getRootHeaderCt().autoSizeColumn(n)},isEmptyText:function(c){return c==null||c==="&#160;"||c===" "||c===""},onTitleElClick:function(m,q,p){var o=this,l,r,n;if(m.pointerType==="touch"){r=o.previousSibling(":not([hidden])");if(!o.menuDisabled){n=parseInt(o.triggerEl.getStyle("width"),10);if(isNaN(n)){n=o.getHandleWidth(m)*3}if(o.isAtEndEdge(m,n)){l=o}}if(!l&&r&&!r.menuDisabled&&o.isAtStartEdge(m)){l=r}}else{l=o.triggerEl&&(m.target===o.triggerEl.dom||q===o.triggerEl||m.within(o.triggerEl))?o:null}if(p!==false&&(!l&&!o.isAtStartEdge(m)&&!o.isAtEndEdge(m)||m.getKey())){o.toggleSortState()}return l},processEvent:function(m,p,k,o,n,l){return this.fireEvent.apply(this,arguments)},isSortable:function(){var j=this.getRootHeaderCt(),f=j?j.grid:null,g=this.sortable;if(f&&f.sortableColumns===false){g=false}return g},toggleSortState:function(){if(this.isSortable()){this.sort()}},sort:function(l){var m=this,n=m.up("tablepanel"),j=n.store,k=m.getSorter();Ext.suspendLayouts();if(k){if(l){k.setDirection(l)}j.sort(k,n.multiColumnSort?"multi":"replace")}else{j.sort(m.getSortParam(),l,n.multiColumnSort?"multi":"replace")}Ext.resumeLayouts(true);if(n.ownerGrid.lockable&&n.isLayoutRoot()){n.ownerGrid.syncLockableLayout()}},getSortParam:function(){return this.dataIndex},setSortState:function(n){var r=this,q=n&&n.getDirection(),o=r.ascSortCls,u=r.descSortCls,s=r.getRootHeaderCt(),m=r.ariaEl.dom,p;switch(q){case"DESC":if(!r.hasCls(u)){r.addCls(u);r.sortState="DESC";p=true}r.removeCls(o);break;case"ASC":if(!r.hasCls(o)){r.addCls(o);r.sortState="ASC";p=true}r.removeCls(u);break;default:r.removeCls([o,u]);r.sortState=null;break}if(m){if(r.sortState){m.setAttribute("aria-sort",r.ariaSortStates[r.sortState])}else{m.removeAttribute("aria-sort")}}if(p){s.fireEvent("sortchange",s,r,q)}},isHideable:function(){var c={hideCandidate:this,result:this.hideable};if(c.result){this.ownerCt.bubble(this.hasOtherMenuEnabledChildren,null,[c])}return c.result},hasOtherMenuEnabledChildren:function(f){var j,g;if(!this.isXType("headercontainer")){f.result=false;return false}j=this.query(">gridcolumn:not([hidden]):not([menuDisabled])");g=j.length;if(Ext.Array.contains(j,f.hideCandidate)){g--}if(g){return false}f.hideCandidate=this},isLockable:function(){var c={result:this.lockable!==false};if(c.result){this.ownerCt.bubble(this.hasMultipleVisibleChildren,null,[c])}return c.result},isLocked:function(){return this.locked||!!this.up("[isColumn][locked]","[isRootHeader]")},hasMultipleVisibleChildren:function(c){if(!this.isXType("headercontainer")){c.result=false;return false}if(this.query(">gridcolumn:not([hidden])").length>1){return false}},hide:function(){var g=this,j=g.getRootHeaderCt(),f=g.getRefOwner();if(f.constructing){Ext.grid.header.Container.prototype.hide.call(this);return g}if(g.rendered&&!g.isVisible()){return g}if(j.forceFit){g.visibleSiblingCount=j.getVisibleGridColumns().length-1;if(g.flex){g.savedWidth=g.getWidth();g.flex=null}}j.beginChildHide();Ext.suspendLayouts();if(f.isGroupHeader){if(g.isNestedGroupHeader()){f.hide()}if(g.isSubHeader&&!g.isGroupHeader&&f.query(">gridcolumn:not([hidden])").length===1){f.lastHiddenHeader=g}}Ext.grid.header.Container.prototype.hide.call(this);j.endChildHide();j.onHeaderHide(g);Ext.resumeLayouts(true);if(j.grid.ownerGrid.lockable&&j.grid.isLayoutRoot()){j.grid.ownerGrid.syncLockableLayout()}return g},show:function(){var g=this,f=g.getRootHeaderCt(),j=g.getRefOwner();if(g.isVisible()){return g}if(j.isGroupHeader){j.lastHiddenHeader=null}if(g.rendered){if(f.forceFit){f.applyForceFit(g)}}Ext.suspendLayouts();if(g.isSubHeader&&j.hidden){j.show(false,true)}Ext.grid.header.Container.prototype.show.apply(this,arguments);if(g.isGroupHeader){g.maybeShowNestedGroupHeader()}j=g.getRootHeaderCt();if(j){j.onHeaderShow(g)}Ext.resumeLayouts(true);if(f.grid.ownerGrid.lockable&&f.grid.isLayoutRoot()){f.grid.ownerGrid.syncLockableLayout()}return g},shouldUpdateCell:function(n,l){if(!this.preventUpdate){if(this.hasCustomRenderer){return 1}if(l){var j=l.length,m,k;for(m=0;m<j;++m){k=l[m];if(k===this.dataIndex||k===n.idProperty){return 2}}}else{return 2}}},getCellWidth:function(){var f=this,d;if(f.rendered&&f.componentLayout&&f.componentLayout.lastComponentSize){d=f.componentLayout.lastComponentSize.width}else{if(f.width){d=f.width}else{if(!f.isColumn){d=f.getTableWidth()}}}return d},getCellId:function(){return"x-grid-cell-"+this.getItemId()},getCellSelector:function(){var c=this.getView();return(c?c.getCellSelector():"")+"."+this.getCellId()},getCellInnerSelector:function(){return this.getCellSelector()+" .x-grid-cell-inner"},isAtStartEdge:function(d){var f=d.getXY()[0]-this.getX();if(f<0&&this.getIndex()===0){return false}return(f<this.getHandleWidth(d))},isAtEndEdge:function(f,d){return(this.getX()+this.getWidth()-f.getXY()[0]<=(d||this.getHandleWidth(f)))},getHandleWidth:function(c){return c.pointerType==="touch"?10:4},setMenuActive:function(c){this.activeMenu=c;this.titleEl[c?"addCls":"removeCls"](this.headerOpenCls)},privates:{_alignMap:{start:"left",end:"right"},afterText:function(f,d){if(this.dirtyText){this.dirtyTextElementId=this.id+"-dirty-cell-text";f.push('<span id="'+this.dirtyTextElementId+'" class="x-hidden-offsets">'+this.dirtyText+"</span>")}},calculateHeaderId:function(){var o=this,n,m,r,p,q,l;if(!o.headerId){n=o.up("tablepanel");if(!n){return}r=o.items.items;if(r){for(q=0,l=r.length;q<l;++q){p=r[q];if(p.isColumn){p.calculateHeaderId()}}}m=n?n.ownerGrid:o.getRootHeaderCt();m.headerCounter=(m.headerCounter||0)+1;o.headerId="h"+m.headerCounter}o.configureStateInfo()},configureStateInfo:function(){var d=this,f;if(!d.stateId){d.stateId=d.initialConfig.id||d.headerId}f=d.getSorter();if(!d.hasSetSorter&&f&&!f.initialConfig.id){if(d.dataIndex||d.stateId){f.setId((d.dataIndex||d.stateId)+"-sorter");d.hasSetSorter=true}}}},deprecated:{5:{methods:{bindRenderer:function(c){return function(b){return Ext.util.Format[c](b)}}}}}},0,["gridcolumn"],["component","box","container","headercontainer","gridcolumn"],{component:true,box:true,container:true,headercontainer:true,gridcolumn:true},["widget.gridcolumn"],0,[Ext.grid.column,"Column",Ext.grid,"Column"],0));Ext.define("Ext.theme.triton.grid.column.Column",{override:"Ext.grid.column.Column",compatibility:Ext.isIE8,onTitleMouseOver:function(){var c=this.triggerEl;arguments.callee.$previous.apply(this,arguments);if(c){c.syncRepaint()}}});(Ext.cmd.derive("Ext.grid.column.Check",Ext.grid.column.Column,{alternateClassName:["Ext.ux.CheckColumn","Ext.grid.column.CheckColumn"],isCheckColumn:true,config:{headerCheckbox:false},align:"center",triggerEvent:"click",invert:false,ignoreExport:true,stopSelection:true,headerCheckedCls:"x-grid-hd-checker-on",headerCheckboxCls:"x-column-header-checkbox",checkboxCls:"x-grid-checkcolumn",checkboxCheckedCls:"x-grid-checkcolumn-checked",innerCls:"x-grid-checkcolumn-cell-inner",clickTargetName:"el",defaultFilterType:"boolean",checkboxAriaRole:"button",constructor:function(c){this.updateHeaderState=Ext.Function.createAnimationFrame(c.updateHeaderState||this.updateHeaderState);this.scope=this;Ext.grid.column.Column.prototype.constructor.apply(this,arguments)},afterComponentLayout:function(){var c=this;Ext.grid.column.Column.prototype.afterComponentLayout.apply(this,arguments);if(c.useAriaElements&&c.headerCheckbox){c.updateHeaderAriaDescription(c.areAllChecked())}if(!c.storeListeners){c.updateHeaderState();c.storeListeners=c.getView().dataSource.on({datachanged:c.onDataChanged,scope:c,destroyable:true})}},onRemoved:function(){Ext.grid.column.Column.prototype.onRemoved.apply(this,arguments);this.storeListeners=Ext.destroy(this.storeListeners)},onDataChanged:function(f,d){this.updateHeaderState()},updateHeaderCheckbox:function(j){var g=this,f="x-column-header-checkbox";if(j){g.addCls(f);g.sortable=false;if(g.useAriaElements){g.updateHeaderAriaDescription(g.areAllChecked())}}else{g.removeCls(f);if(g.useAriaElements&&g.ariaEl.dom){g.ariaEl.dom.removeAttribute("aria-describedby")}}g.updateHeaderState()},processEvent:function(B,y,u,G,A,D,F,s){var C=this,v=B==="keydown"&&D.getKey(),w=B===C.triggerEvent,H=C.disabled,E,x;D.stopSelection=!v&&C.stopSelection;if(!H&&(w||(v===D.ENTER||v===D.SPACE))){x=!C.isRecordChecked(F);if(C.fireEvent("beforecheckchange",C,G,x,F,D)!==false){C.setRecordCheck(F,G,x,u,D);if(w&&!y.actionableMode){D.preventDefault()}if(C.hasListeners.checkchange){C.fireEvent("checkchange",C,G,x,F,D)}}}else{E=Ext.grid.column.Column.prototype.processEvent.apply(this,arguments)}return E},onTitleElClick:function(j,g,l){var k=this;if(!k.disabled&&(j.keyCode||!k.text||(Ext.fly(j.target).hasCls(k.headerCheckboxCls)))){k.toggleAll(j)}else{return Ext.grid.column.Column.prototype.onTitleElClick.call(this,j,g,l)}},toggleAll:function(o){var p=this,s=p.getView(),r=s.getStore(),q=!p.allChecked,u,n,m;if(p.fireEvent("beforeheadercheckchange",p,q,o)!==false){if(p.hasListeners.checkchange||p.hasListeners.beforecheckchange){u=o.position=new Ext.grid.CellContext(s)}r.each(function(b,c){p.setRecordCheck(b,c,q,s.getCell(b,p))});p.setHeaderStatus(q,o);p.fireEvent("headercheckchange",p,q,o)}},setHeaderStatus:function(j,g){var f=this;if(f.allChecked!==j){f.allChecked=j;if(f.headerCheckbox){f[j?"addCls":"removeCls"](f.headerCheckedCls);if(f.useAriaElements){f.updateHeaderAriaDescription(j)}}}},updateHeaderState:function(c){if(!this.destroyed&&this.headerCheckbox){this.setHeaderStatus(this.areAllChecked(),c)}},onEnable:function(){Ext.grid.column.Column.prototype.onEnable.apply(this,arguments);this._setDisabled(false)},onDisable:function(){this._setDisabled(true)},_setDisabled:function(k){var j=this,g=j.disabledCls,l;l=j.up("tablepanel").el.select(j.getCellSelector());if(k){l.addCls(g)}else{l.removeCls(g)}},defaultRenderer:function(k,n){var m=this,j=m.checkboxCls,l=m.tooltip;if(m.invert){k=!k}if(m.disabled){n.tdCls+=" "+m.disabledCls}if(k){j+=" "+m.checkboxCheckedCls;l=m.checkedTooltip||l}if(m.useAriaElements){n.tdAttr+=' aria-describedby="'+m.id+"-cell-description"+(!k?"-not":"")+'-selected"'}m.updateHeaderState();return"<span "+(l||"")+' class="'+j+'" role="'+m.checkboxAriaRole+'"'+(!m.ariaStaticRoles[m.checkboxAriaRole]?' tabIndex="0"':"")+"></span>"},isRecordChecked:function(d){var f=this.property;if(f){return d[f]}return d.get(this.dataIndex)},areAllChecked:function(){var k=this,m=k.getView().getStore(),n,j,l;if(!m.isBufferedStore&&m.getCount()>0){n=m.getData().items;j=n.length;for(l=0;l<j;++l){if(!k.isRecordChecked(n[l])){return false}}return true}},setRecordCheck:function(q,p,n,r){var o=this,m=o.property,l;if(m?q[m]:q.get(o.dataIndex)!=n){if(m){q[m]=n;o.updater(r,n)}else{q.set(o.dataIndex,n)}}},updater:function(g,j){var l=this,k=l.tooltip;if(l.invert){j=!j}if(j){k=l.checkedTooltip||k}if(k){g.setAttribute("data-qtip",k)}else{g.removeAttribute("data-qtip")}g=Ext.fly(g);if(l.useAriaElements){l.updateCellAriaDescription(null,j,g)}g[l.disabled?"addCls":"removeCls"](l.disabledCls);Ext.fly(g.down(l.getView().innerSelector,true).firstChild)[j?"addCls":"removeCls"]("x-grid-checkcolumn-checked");l.updateHeaderState()},updateHeaderAriaDescription:function(d){var f=this;if(f.useAriaElements&&f.ariaEl.dom){f.ariaEl.dom.setAttribute("aria-describedby",f.id+"-header-description"+(!d?"-not":"")+"-selected")}},updateCellAriaDescription:function(l,k,g){var j=this;if(j.useAriaElements){g=g||j.getView().getCell(l,j);if(g){g.dom.setAttribute("aria-describedby",j.id+"-cell-description"+(!k?"-not":"")+"-selected")}}},privates:{afterText:function(l,g){var k=this,j=k.id;l.push('<span role="presentation" class="',k.headerCheckboxCls,'"></span>');if(k.useAriaElements){l.push('<span id="'+j+'-header-description-selected" class="x-hidden-offsets">'+k.headerDeselectText+'</span><span id="'+j+'-header-description-not-selected" class="x-hidden-offsets">'+k.headerSelectText+'</span><span id="'+j+'-cell-description-selected" class="x-hidden-offsets">'+k.rowDeselectText+'</span><span id="'+j+'-cell-description-not-selected" class="x-hidden-offsets">'+k.rowSelectText+"</span>")}}}},1,["checkcolumn"],["component","box","container","headercontainer","gridcolumn","checkcolumn"],{component:true,box:true,container:true,headercontainer:true,gridcolumn:true,checkcolumn:true},["widget.checkcolumn"],0,[Ext.grid.column,"Check",Ext.ux,"CheckColumn",Ext.grid.column,"CheckColumn"],0));Ext.define("Ext.theme.triton.grid.column.Check",{override:"Ext.grid.column.Check",compatibility:Ext.isIE8,setRecordCheck:function(j,g,f){arguments.callee.$previous.call(this,j,g,f);f.syncRepaint()}});(Ext.cmd.derive("Ext.menu.Item",Ext.Component,{alternateClassName:"Ext.menu.TextItem",isMenuItem:true,config:{glyph:null},activated:false,activeCls:"x-menu-item-active",clickHideDelay:0,destroyMenu:true,disabledCls:"x-menu-item-disabled",hideOnClick:true,menuAlign:"tl-tr?",menuExpandDelay:200,menuHideDelay:200,tooltipType:"qtip",focusable:true,ariaRole:"menuitem",ariaEl:"itemEl",baseCls:"x-menu-item",arrowCls:"x-menu-item-arrow",baseIconCls:"x-menu-item-icon",textCls:"x-menu-item-text",indentCls:"x-menu-item-indent",indentNoSeparatorCls:"x-menu-item-indent-no-separator",indentRightIconCls:"x-menu-item-indent-right-icon",indentRightArrowCls:"x-menu-item-indent-right-arrow",linkCls:"x-menu-item-link",linkHrefCls:"x-menu-item-link-href",childEls:["itemEl","iconEl","textEl","arrowEl"],renderTpl:'<tpl if="plain">{text}<tpl else><a id="{id}-itemEl" data-ref="itemEl" class="{linkCls}<tpl if="hasHref"> {linkHrefCls}</tpl>{childElCls}" href="{href}" <tpl if="hrefTarget"> target="{hrefTarget}"</tpl> hidefocus="true" unselectable="on"<tpl if="tabIndex != null"> tabindex="{tabIndex}"</tpl><tpl foreach="ariaAttributes"> {$}="{.}"</tpl>><span id="{id}-textEl" data-ref="textEl" class="{textCls} {textCls}-{ui} {indentCls}{childElCls}" unselectable="on" role="presentation">{text}</span><tpl if="hasIcon"><div role="presentation" id="{id}-iconEl" data-ref="iconEl" class="{baseIconCls}-{ui} {baseIconCls}{[values.rightIcon ? "-right" : ""]} {iconCls}{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl><tpl if="glyph"><tpl if="glyphFontFamily">font-family:{glyphFontFamily};</tpl>">{glyph}<tpl else>"></tpl></div></tpl><tpl if="showCheckbox"><div role="presentation" id="{id}-checkEl" data-ref="checkEl" class="{baseIconCls}-{ui} {baseIconCls}{[(values.hasIcon && !values.rightIcon) ? "-right" : ""]} {groupCls} {checkboxCls}{childElCls}"></div></tpl><tpl if="hasMenu"><div role="presentation" id="{id}-arrowEl" data-ref="arrowEl" class="{arrowCls} {arrowCls}-{ui}{childElCls}"></div></tpl></a></tpl>',autoEl:{role:"presentation"},maskOnDisable:false,iconAlign:"left",initComponent:function(){var j=this,f=j.cls?[j.cls]:[],g;if(j.hasOwnProperty("canActivate")){j.focusable=j.canActivate}if(j.plain){f.push("x-menu-item-plain")}if(f.length){j.cls=f.join(" ")}if(j.menu){g=j.menu;j.menu=null;j.setMenu(g)}Ext.Component.prototype.initComponent.apply(this,arguments)},canFocus:function(){var c=this;return c.focusable&&c.rendered&&c.canActivate!==false&&!c.destroying&&!c.destroyed&&c.isVisible(true)},onFocus:function(f){var d=this;Ext.Component.prototype.onFocus.call(this,f);if(!d.plain){d.addCls(d.activeCls)}d.activated=true;if(d.hasListeners.activate){d.fireEvent("activate",d)}},onFocusLeave:function(f){var d=this;Ext.Component.prototype.onFocusLeave.call(this,f);if(!d.plain){d.removeCls(d.activeCls)}d.doHideMenu();d.activated=false;if(d.hasListeners.deactivate){d.fireEvent("deactivate",d)}},doHideMenu:function(){var c=this.menu;this.cancelDeferExpand();if(c&&c.isVisible()){c.hide()}},deferHideParentMenus:function(){for(var c=this.getRefOwner();c&&((c.isMenu&&c.floating)||c.isMenuItem);c=c.getRefOwner()){if(c.isMenu){c.hide()}}},expandMenu:function(g,f){var j=this;if(!j.disabled&&j.activated&&j.menu){j.hideOnClick=false;j.cancelDeferHide();f=f==null?j.menuExpandDelay:f;if(f===0){j.doExpandMenu(g)}else{j.cancelDeferExpand();j.expandMenuTimer=Ext.defer(j.doExpandMenu,f,j,[g])}}},doExpandMenu:function(f){var j=this,g=j.menu;if(!g.isVisible()){j.parentMenu.activeChild=g;g.ownerCmp=j;g.parentMenu=j.parentMenu;g.constrainTo=document.body;g.autoFocus=!f||!f.pointerType;g.showBy(j,j.menuAlign)}else{if(f&&f.type==="keydown"){g.focus()}}},getRefItems:function(f){var g=this.menu,j;if(g){j=g.getRefItems(f);j.unshift(g)}return j||[]},getValue:function(){return this.value},hideMenu:function(d){var f=this;if(f.menu){f.cancelDeferExpand();f.hideMenuTimer=Ext.defer(f.doHideMenu,Ext.isNumber(d)?d:f.menuHideDelay,f)}},onClick:function(m){var n=this,o=n.clickHideDelay,l=m.browserEvent,p,k;if(!n.href||n.disabled){m.stopEvent();if(n.disabled){return false}}if(n.disabled||n.handlingClick){return}if(n.hideOnClick&&!n.menu){if(!o){n.deferHideParentMenus()}else{n.deferHideParentMenusTimer=Ext.defer(n.deferHideParentMenus,o,n)}}p=n.fireEvent("click",n,m);if(n.destroyed){return}if(p!==false&&n.handler){Ext.callback(n.handler,n.scope,[n,m],0,n)}if(n.destroyed){return}if(Ext.isIE9m){k=l.returnValue===false?true:false}else{k=!!l.defaultPrevented}if(n.href&&m.type!=="click"&&!k){n.handlingClick=true;n.itemEl.dom.click();n.handlingClick=false}if(!n.hideOnClick&&!n.hasFocus){n.focus()}return p},onRemoved:function(){var c=this;if(c.activated&&c.parentMenu.activeItem===c){c.parentMenu.deactivateActiveItem()}Ext.Component.prototype.onRemoved.apply(this,arguments);c.parentMenu=c.ownerCmp=null},doDestroy:function(){var c=this;if(c.rendered){c.clearTip()}c.cancelDeferExpand();c.cancelDeferHide();clearTimeout(c.deferHideParentMenusTimer);c.setMenu(null);Ext.Component.prototype.doDestroy.call(this)},beforeRender:function(){var q=this,p=q.glyph,r,v=!!(q.icon||q.iconCls||p),o=!!q.menu,u=((q.iconAlign==="right")&&!o),x=q.isMenuCheckItem,y=[],w=q.ownerCt,s=w.plain;if(q.plain){q.ariaEl="el"}Ext.Component.prototype.beforeRender.call(this);if(v){if(o&&q.showCheckbox){v=false}}if(p){r=p.fontFamily;p=p.character}if(!s||(v&&!u)||x){if(w.showSeparator&&!s){y.push(q.indentCls)}else{y.push(q.indentNoSeparatorCls)}}if(o){y.push(q.indentRightArrowCls)}else{if(v&&(u||x)){y.push(q.indentRightIconCls)}}Ext.applyIf(q.renderData,{hasHref:!!q.href,href:q.href||"#",hrefTarget:q.hrefTarget,icon:q.icon,iconCls:q.iconCls,glyph:p,glyphCls:p?"x-menu-item-glyph":undefined,glyphFontFamily:r,hasIcon:v,hasMenu:o,indent:!s||v||x,isCheckItem:x,rightIcon:u,plain:q.plain,text:q.text,arrowCls:q.arrowCls,baseIconCls:q.baseIconCls,textCls:q.textCls,indentCls:y.join(" "),linkCls:q.linkCls,linkHrefCls:q.linkHrefCls,groupCls:q.group?q.groupCls:"",tabIndex:q.tabIndex})},onRender:function(){var c=this;Ext.Component.prototype.onRender.apply(this,arguments);if(c.tooltip){c.setTooltip(c.tooltip,true)}},getMenu:function(){return this.menu||null},setMenu:function(n,o){var p=this,s=p.menu,u=p.arrowEl,m=p.ariaEl.dom,q,r;if(s){s.ownerCmp=s.parentMenu=null;if(o===true||(o!==false&&p.destroyMenu)){Ext.destroy(s)}if(m){m.removeAttribute("aria-haspopup");m.removeAttribute("aria-owns")}else{q=(p.ariaRenderAttributes||(p.ariaRenderAttributes={}));delete q["aria-haspopup"];delete q["aria-owns"]}}if(n){r=n.isMenu;n=p.menu=Ext.menu.Manager.get(n,{ownerCmp:p,focusOnToFront:false});n.setOwnerCmp(p,r);if(m){m.setAttribute("aria-haspopup",true);m.setAttribute("aria-owns",n.id)}else{q=(p.ariaRenderAttributes||(p.ariaRenderAttributes={}));q["aria-haspopup"]=true;q["aria-owns"]=n.id}}else{n=p.menu=null}if(n&&p.rendered&&!p.destroying&&u){u[n?"addCls":"removeCls"](p.arrowCls)}},setHandler:function(f,d){this.handler=f||null;this.scope=d},setIcon:function(l){var k=this,g=k.iconEl,j=k.icon;if(k.glyph){k.setGlyph(null)}if(g){g.setStyle("background-image",l?"url("+l+")":"")}k.icon=l;k.fireEvent("iconchange",k,j,l)},setIconCls:function(l){var j=this,g=j.iconEl,k=j.iconCls;if(j.glyph){j.setGlyph(null)}if(g){g.setStyle("background-image","");if(j.iconCls){g.removeCls(j.iconCls)}if(l){g.addCls(l)}}j.iconCls=l;j.fireEvent("iconchange",j,k,l)},setText:function(j){var k=this,l=k.textEl||k.el,g=k.text;k.text=j;if(k.rendered){l.setHtml(j||"");k.updateLayout()}k.fireEvent("textchange",k,g,j)},getTipAttr:function(){return this.tooltipType==="qtip"?"data-qtip":"title"},clearTip:function(){if(Ext.quickTipsActive&&Ext.isObject(this.tooltip)){Ext.tip.QuickTipManager.unregister(this.itemEl)}},setTooltip:function(g,f){var j=this;if(j.rendered){if(!f){j.clearTip()}if(Ext.quickTipsActive&&Ext.isObject(g)){Ext.tip.QuickTipManager.register(Ext.apply({target:j.itemEl.id},g));j.tooltip=g}else{j.itemEl.dom.setAttribute(j.getTipAttr(),g)}}else{j.tooltip=g}return j},getFocusEl:function(){return this.plain?this.el:this.itemEl},getFocusClsEl:function(){return this.el},privates:{cancelDeferExpand:function(){window.clearTimeout(this.expandMenuTimer)},cancelDeferHide:function(){window.clearTimeout(this.hideMenuTimer)}},applyGlyph:function(f,d){if(f){if(!f.isGlyph){f=new Ext.Glyph(f)}if(f.isEqual(d)){f=undefined}}return f},updateGlyph:function(g,j){var f=this.iconEl;if(f){f.setStyle("background-image","none");this.icon=null;if(g){f.dom.innerHTML=g.character;f.setStyle(g.getStyle())}else{f.dom.innerHTML=""}}}},0,["menuitem"],["component","box","menuitem"],{component:true,box:true,menuitem:true},["widget.menuitem"],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.menu,"Item",Ext.menu,"TextItem"],0));Ext.define("Ext.theme.triton.menu.Item",{override:"Ext.menu.Item",compatibility:Ext.isIE8,onFocus:function(c){(arguments.callee.$previous||Ext.Component.prototype.onFocus).call(this,c);this.repaintIcons()},onFocusLeave:function(c){(arguments.callee.$previous||Ext.Component.prototype.onFocusLeave).call(this,c);this.repaintIcons()},privates:{repaintIcons:function(){var g=this.iconEl,j=this.arrowEl,f=this.checkEl;if(g){g.syncRepaint()}if(j){j.syncRepaint()}if(f){f.syncRepaint()}}}});(Ext.cmd.derive("Ext.menu.CheckItem",Ext.menu.Item,{checkedCls:"x-menu-item-checked",uncheckedCls:"x-menu-item-unchecked",groupCls:"x-menu-group-icon",hideOnClick:false,checkChangeDisabled:false,submenuText:"{0} submenu",ariaRole:"menuitemcheckbox",childEls:["checkEl"],defaultBindProperty:"checked",showCheckbox:true,isMenuCheckItem:true,checkboxCls:"x-menu-item-checkbox",initComponent:function(){var c=this;c.checked=!!c.checked;Ext.menu.Item.prototype.initComponent.apply(this,arguments);if(c.group){Ext.menu.Manager.registerCheckable(c);if(c.initialConfig.hideOnClick!==false){c.hideOnClick=true}}},beforeRender:function(){var f=this,d;Ext.menu.Item.prototype.beforeRender.call(this);Ext.apply(f.renderData,{checkboxCls:f.checkboxCls,showCheckbox:f.showCheckbox});d=(f.ariaRenderAttributes||(f.ariaRenderAttributes={}));d["aria-checked"]=f.menu?"mixed":f.checked;if(f.menu){d["aria-label"]=Ext.String.formatEncode(f.submenuText,f.text)}},afterRender:function(){var c=this;Ext.menu.Item.prototype.afterRender.call(this);c.checked=!c.checked;c.setChecked(!c.checked,true);if(c.checkChangeDisabled){c.disableCheckChange()}if(Ext.isGecko&&c.checkEl){c.checkEl.on("mousedown",c.onMouseDownCheck)}},disableCheckChange:function(){var f=this,d=f.checkEl;if(d){d.addCls(f.disabledCls)}if(Ext.isIE8&&f.rendered){f.el.repaint()}f.checkChangeDisabled=true},enableCheckChange:function(){var f=this,d=f.checkEl;if(d){d.removeCls(f.disabledCls)}f.checkChangeDisabled=false},onMouseDownCheck:function(c){c.preventDefault()},onClick:function(f){var d=this;if(!(d.disabled||d.checkChangeDisabled||d.checked&&d.group||d.menu&&"touch"===f.pointerType&&!d.checkEl.contains(f.target))){d.setChecked(!d.checked);if(f.type==="keydown"&&d.menu){return false}}Ext.menu.Item.prototype.onClick.call(this,f)},doDestroy:function(){Ext.menu.Manager.unregisterCheckable(this);Ext.menu.Item.prototype.doDestroy.call(this)},setText:function(g){var j=this,f=j.ariaEl.dom;Ext.menu.Item.prototype.setText.call(this,g);if(f&&j.menu){f.setAttribute("aria-label",Ext.String.formatEncode(j.submenuText,g))}},setChecked:function(o,q){var p=this,n=p.checkedCls,m=p.uncheckedCls,r=p.el,l=p.ariaEl.dom;if(p.checked!==o&&(q||p.fireEvent("beforecheckchange",p,o)!==false)){if(r){if(o){r.addCls(n);r.removeCls(m)}else{r.addCls(m);r.removeCls(n)}}if(l){l.setAttribute("aria-checked",p.menu?"mixed":!!o)}p.checked=o;Ext.menu.Manager.onCheckChange(p,o);p.publishState("checked",o);if(!q){Ext.callback(p.checkHandler,p.scope,[p,o],0,p);p.fireEvent("checkchange",p,o)}}}},0,["menucheckitem"],["component","box","menuitem","menucheckitem"],{component:true,box:true,menuitem:true,menucheckitem:true},["widget.menucheckitem"],0,[Ext.menu,"CheckItem"],0));(Ext.cmd.derive("Ext.menu.Separator",Ext.menu.Item,{focusable:false,canActivate:false,hideOnClick:false,plain:true,separatorCls:"x-menu-item-separator",text:"&#160;",ariaRole:"separator",beforeRender:function(){this.addCls(this.separatorCls);Ext.menu.Item.prototype.beforeRender.call(this)}},0,["menuseparator"],["component","box","menuitem","menuseparator"],{component:true,box:true,menuitem:true,menuseparator:true},["widget.menuseparator"],0,[Ext.menu,"Separator"],0));Ext.define("Ext.theme.neptune.menu.Separator",{override:"Ext.menu.Separator",border:true});(Ext.cmd.derive("Ext.menu.Menu",Ext.panel.Panel,{defaultType:"menuitem",enableKeyNav:true,allowOtherMenus:false,ariaRole:"menu",floating:true,constrain:true,hidden:true,hideMode:"visibility",ignoreParentClicks:false,mouseLeaveDelay:100,isMenu:true,showSeparator:true,minWidth:undefined,defaultMinWidth:120,defaultAlign:"tl-bl?",focusOnToFront:false,bringParentToFront:false,alignOnScroll:false,focusable:true,tabIndex:-1,defaultFocus:":focusable",allowFocusingDisabledChildren:true,menuClickBuffer:0,baseCls:"x-menu",_iconSeparatorCls:"x-menu-icon-separator",_itemCmpCls:"x-menu-item-cmp",layout:{type:"vbox",align:"stretchmax",overflowHandler:"Scroller"},initComponent:function(){var m=this,j=["x-menu"],l=m.bodyCls?[m.bodyCls]:[],k=m.floating!==false,n={element:"el",click:m.onClick,mouseover:m.onMouseOver,scope:m};if(Ext.supports.Touch){n.pointerdown=m.onMouseOver}m.on(n);m.on({beforeshow:m.onBeforeShow,scope:m});if(m.plain){j.push("x-menu-plain")}m.cls=j.join(" ");l.push("x-menu-body",Ext.dom.Element.unselectableCls);m.bodyCls=l.join(" ");if(k){if(m.minWidth===undefined){m.minWidth=m.defaultMinWidth}}else{m.hidden=!!m.initialConfig.hidden;m.constrain=false}Ext.panel.Panel.prototype.initComponent.apply(this,arguments);Ext.override(m.getLayout(),{configureItem:m.configureItem});m.itemOverTask=new Ext.util.DelayedTask(m.handleItemOver,m)},initFloatConstrain:Ext.emptyFn,getInherited:function(){var c=Ext.panel.Panel.prototype.getInherited.call(this);if(this.floating){c.hidden=this.hidden}return c},beforeRender:function(){var c=this;Ext.panel.Panel.prototype.beforeRender.apply(this,arguments);if(!c.getSizeModel().width.shrinkWrap){c.layout.align="stretch"}if(c.floating){c.ariaRenderAttributes=c.ariaRenderAttributes||{};c.ariaRenderAttributes["aria-expanded"]=!!c.autoShow}},onBoxReady:function(){var j=this,g=j._iconSeparatorCls,f=j.focusableKeyNav;if(f){f.map.processEventScope=j;f.map.processEvent=function(b){if(b.keyCode===b.ESC){b.target=this.el.dom}return b};f.map.addBinding([{key:Ext.event.Event.ESC,handler:j.onEscapeKey,scope:j},{key:/[\w]/,handler:j.onShortcutKey,scope:j,shift:false,ctrl:false,alt:false}])}else{j.escapeKeyNav=new Ext.util.KeyNav(j.el,{eventName:"keydown",scope:j,esc:j.onEscapeKey})}Ext.panel.Panel.prototype.onBoxReady.apply(this,arguments);if(j.showSeparator){j.iconSepEl=j.body.insertFirst({role:"presentation",cls:g+" "+g+"-"+j.ui,html:"&#160;"})}if(Ext.supports.Touch||Ext.supports.MSPointerEvents||Ext.supports.PointerEvents){j.el.on({scope:j,click:j.preventClick,translate:false})}j.mouseMonitor=j.el.monitorMouseLeave(j.mouseLeaveDelay,j.onMouseLeave,j)},onFocusEnter:function(j){var f=this,g;Ext.panel.Panel.prototype.onFocusEnter.call(this,j);f.mixins.focusablecontainer.onFocusEnter.call(f,j);if(f.floating){g=f.getInherited();if(!g.topmostFocusEvent){g.topmostFocusEvent=j}}},onFocusLeave:function(f){var d=this;Ext.panel.Panel.prototype.onFocusLeave.call(this,f);d.lastFocusedChild=null;d.mixins.focusablecontainer.onFocusLeave.call(d,f);if(d.floating){d.hide()}},handleItemOver:function(f,d){if(!d.containsFocus&&(f.pointerType==="mouse"||d.isMenuItem)){d.focus()}if(d.expandMenu){d.expandMenu(f)}},canActivateItem:function(c){return c&&c.isFocusable()},deactivateActiveItem:function(){var d=this,f=d.lastFocusedChild;if(f){f.blur()}},getItemFromEvent:function(j){var g=this,k=g.layout.getRenderTarget().dom,l=j.getTarget();while(l.parentNode!==k){l=l.parentNode;if(!l){return}}return Ext.getCmp(l.id)},lookupComponent:function(f){var d=this;if(typeof f==="string"){if(f[0]==="@"){f=Ext.panel.Panel.prototype.lookupComponent.call(this,f)}else{f=d.lookupItemFromString(f)}}else{if(Ext.isObject(f)){f=d.lookupItemFromObject(f)}}if(!f.dock){f.minWidth=f.minWidth||d.minWidth}return f},lookupItemFromObject:function(f){var d=this.defaultType;if(!f.isComponent){if(!f.xtype&&Ext.isBoolean(f.checked)){d="menucheckitem"}f=Ext.ComponentManager.create(f,d)}if(f.isMenuItem){f.parentMenu=this}return f},lookupItemFromString:function(c){return(c==="separator"||c==="-")?new Ext.menu.Separator():new Ext.menu.Item({canActivate:false,hideOnClick:false,plain:true,text:c})},configureItem:function(o){var p=this.owner,m="x-",n=p.ui,k,l;if(o.isMenuItem){o.setUI(n)}else{if(p.items.getCount()>1&&!o.rendered&&!o.dock){l=p._itemCmpCls;k=[l+" "+l+"-"+n];if(!p.plain&&(o.indent!==false||o.iconCls==="no-icon")){k.push(m+"menu-item-indent-"+n)}if(o.rendered){o.el.addCls(k)}else{o.cls=(o.cls||"")+" "+k.join(" ")}o.$extraMenuCls=k}}this.callParent(arguments)},onRemove:function(c){Ext.panel.Panel.prototype.onRemove.call(this,c);if(!c.destroyed&&c.$extraMenuCls){c.el.removeCls(c.$extraMenuCls)}},onClick:function(l){var m=this,o=l.type,n,p,k=o==="keydown";if(m.disabled){l.stopEvent();return}n=m.getItemFromEvent(l);if(n&&n.isMenuItem){if(!n.menu||!m.ignoreParentClicks){p=n.onClick(l)}else{l.stopEvent()}if(m.destroyed){return}if(n.menu&&p!==false&&k){n.expandMenu(l,0)}}if(!n||n.disabled){n=undefined}m.fireEvent("click",m,n,l)},doDestroy:function(){var c=this;if(c.escapeKeyNav){c.escapeKeyNav.destroy()}c.parentMenu=c.ownerCmp=c.escapeKeyNav=null;if(c.rendered){c.el.un(c.mouseMonitor);Ext.destroy(c.iconSepEl)}Ext.menu.Manager.onHide(c);Ext.panel.Panel.prototype.doDestroy.call(this)},onMouseLeave:function(f){var d=this;if(d.itemOverTask){d.itemOverTask.cancel()}if(d.disabled){return}d.fireEvent("mouseleave",d,f)},onMouseOver:function(n){var o=this,m=n.getRelatedTarget(),r=!o.el.contains(m),p=o.getItemFromEvent(n),q=o.parentMenu,l=o.ownerCmp;if(r&&q){q.setActiveItem(l);l.cancelDeferHide();q.mouseMonitor.mouseenter();q.itemOverTask.cancel()}if(o.disabled){return}if(p){o.itemOverTask.delay(o.mouseLeaveDelay,null,null,[n,p])}if(r){o.fireEvent("mouseenter",o,n)}o.fireEvent("mouseover",o,p,n)},setActiveItem:function(f){var d=this;if(f&&(f!==d.lastFocusedChild)){d.focusChild(f,1)}},onEscapeKey:function(){if(this.floating){this.hide()}},onShortcutKey:function(o,p){var u=String.fromCharCode(p.getCharCode()),s=this.query(">[text]"),m=s.length,q=this.lastFocusedChild,n=Ext.Array.indexOf(s,q),r=n;if(m===0){return}for(;;){if(++r===m){r=0}q=s[r];if(r===n){return}if(q.text&&q.text[0].toUpperCase()===u){q.focus();return}}},onBeforeShow:function(){if(Ext.Date.getElapsed(this.lastHide)<this.menuClickBuffer){return false}},beforeShow:function(){var f=this,d;if(f.floating){d=f.hasFloatMenuParent();if(!d&&!f.allowOtherMenus){Ext.menu.Manager.hideAll()}}Ext.panel.Panel.prototype.beforeShow.apply(this,arguments)},afterShow:function(){var f=this,d=f.ariaEl.dom;Ext.panel.Panel.prototype.afterShow.apply(this,arguments);Ext.menu.Manager.onShow(f);if(f.floating&&d){d.setAttribute("aria-expanded",true)}if(f.floating){f.maxHeight=f.savedMaxHeight}if(f.autoFocus){f.focus()}},onHide:function(k,n,m){var l=this,j=l.ariaEl.dom;Ext.panel.Panel.prototype.onHide.call(this,k,n,m);l.lastHide=Ext.Date.now();Ext.menu.Manager.onHide(l);if(l.floating&&j){j.setAttribute("aria-expanded",false)}},afterHide:function(d,f){Ext.panel.Panel.prototype.afterHide.call(this,d,f);delete this.getInherited().topmostFocusEvent},preventClick:function(f){var d=this.getItemFromEvent(f);if(d&&d.isMenuItem&&!d.href){f.preventDefault()}},privates:{applyDefaults:function(c){if(!Ext.isString(c)){c=Ext.panel.Panel.prototype.applyDefaults.apply(this,arguments)}return c},initFocusableElement:function(){var g=this,f=g.tabIndex,j=g.el;if(g.floating&&f!=null&&j&&j.dom){j.dom.setAttribute("tabIndex",f);j.dom.setAttribute("data-componentid",g.id)}},onFocusableContainerTabKey:function(f){var d=this;if(d.floating){if(f.shiftKey){f.preventDefault()}else{d.focusEnterEvent=d.getInherited().topmostFocusEvent}d.hide()}},onFocusableContainerEnterKey:function(c){this.onClick(c)},onFocusableContainerSpaceKey:function(c){this.onClick(c)},onFocusableContainerLeftKey:function(c){c.preventDefault();if(this.parentMenu){this.ownerCmp.focus();this.hide()}},onFocusableContainerRightKey:function(j){var f=this,g=f.lastFocusedChild;j.preventDefault();if(g&&g.expandMenu){g.expandMenu(j,0)}},hasFloatMenuParent:function(){return this.parentMenu||this.up("menu[floating=true]")},setOwnerCmp:function(j,f){var g=this;g.parentMenu=j.isMenuItem?j:null;g.ownerCmp=j;g.registerWithOwnerCt();delete g.hierarchicallyHidden;g.onInheritedAdd(j,f);g.containerOnAdded(j,f)}}},0,["menu"],["component","box","container","panel","menu"],{component:true,box:true,container:true,panel:true,menu:true},["widget.menu"],[[Ext.util.FocusableContainer.prototype.mixinId||Ext.util.FocusableContainer.$className,Ext.util.FocusableContainer]],[Ext.menu,"Menu"],0));Ext.define("Ext.theme.neptune.menu.Menu",{override:"Ext.menu.Menu",showSeparator:false});Ext.define("Ext.theme.triton.menu.Menu",{override:"Ext.menu.Menu",compatibility:Ext.isIE8,afterShow:function(){var k=this,n,l,m,j;(arguments.callee.$previous||Ext.panel.Panel.prototype.afterShow).apply(this,arguments);n=k.items.getRange();for(m=0,j=n.length;m<j;m++){l=n[m];if(l&&l.repaintIcons){l.repaintIcons()}}}});(Ext.cmd.derive("Ext.grid.locking.HeaderContainer",Ext.grid.header.Container,{headerCtRelayEvents:["blur","focus","move","resize","destroy","beforedestroy","boxready","afterrender","render","beforerender","removed","hide","beforehide","show","beforeshow","enable","disable","added","deactivate","beforedeactivate","activate","beforeactivate","remove","add","beforeremove","beforeadd","afterlayout","menucreate","sortchange","columnschanged","columnshow","columnhide","columnmove","headertriggerclick","headercontextmenu","headerclick","columnresize","statesave","beforestatesave","staterestore","beforestaterestore"],constructor:function(l){var g=this,j=l.lockedGrid,k=l.normalGrid;g.lockable=l;Ext.grid.header.Container.prototype.constructor.call(this);j.visibleColumnManager.rootColumns=k.visibleColumnManager.rootColumns=l.visibleColumnManager=g.visibleColumnManager=new Ext.grid.ColumnManager(true,j.headerCt,k.headerCt);j.columnManager.rootColumns=k.columnManager.rootColumns=l.columnManager=g.columnManager=new Ext.grid.ColumnManager(false,j.headerCt,k.headerCt);g.lockedEventRelayers=g.relayEvents(j.headerCt,g.headerCtRelayEvents);g.normalEventRelayers=g.relayEvents(k.headerCt,g.headerCtRelayEvents)},destroy:function(){var c=this;Ext.destroy(c.lockedEventRelayers,c.normalEventRelayers);c.lockedEventRelayers=c.normalEventRelayers=null;Ext.grid.header.Container.prototype.destroy.call(this)},getRefItems:function(){return this.lockable.lockedGrid.headerCt.getRefItems().concat(this.lockable.normalGrid.headerCt.getRefItems())},getGridColumns:function(){return this.lockable.lockedGrid.headerCt.getGridColumns().concat(this.lockable.normalGrid.headerCt.getGridColumns())},getColumnsState:function(){var j=this,f=j.lockable.lockedGrid.headerCt.getColumnsState(),g=j.lockable.normalGrid.headerCt.getColumnsState();return f.concat(g)},applyColumnsState:function(r,E){var v=this,C=v.lockable.lockedGrid,B=C.headerCt,w=v.lockable.normalGrid.headerCt,A=B.items.items.concat(w.items.items),F=A.length,x,D,s,y,u;for(x=0;x<F;x++){D=A[x];y=r[D.getStateId()];if(y){s=y.locked!=null&&Boolean(D.locked)!==y.locked;if(D.applyColumnState){D.applyColumnState(y,E)}if(s){(D.locked?B:w).add(D)}}}u=B.items.items.length;for(x=0;x<F;x++){D=A[x];y=r[D.getStateId()];if(y&&!D.locked){y.index-=u}}B.applyColumnsState(r,E);w.applyColumnsState(r,E)},disable:function(){var c=this.lockable;c.lockedGrid.headerCt.disable();c.normalGrid.headerCt.disable()},enable:function(){var c=this.lockable;c.lockedGrid.headerCt.enable();c.normalGrid.headerCt.enable()}},1,0,["component","box","container","headercontainer"],{component:true,box:true,container:true,headercontainer:true},0,0,[Ext.grid.locking,"HeaderContainer"],0));(Ext.cmd.derive("Ext.grid.locking.View",Ext.Base,{alternateClassName:"Ext.grid.LockingView",isLockingView:true,loadMask:true,eventRelayRe:/^(beforeitem|beforecontainer|item|container|cell|refresh)/,constructor:function(j){var m=Ext,k=this,l,n;k.ownerGrid=j.ownerGrid;k.ownerGrid.view=k;k.navigationModel=j.locked.xtype==="treepanel"?new m.tree.NavigationModel(k):new m.grid.NavigationModel(k);j.locked.viewConfig.bindStore=m.emptyFn;j.normal.viewConfig.bindStore=k.subViewBindStore;j.normal.viewConfig.isNormalView=j.locked.viewConfig.isLockedView=true;j.locked.viewConfig.navigationModel=j.normal.viewConfig.navigationModel=k.navigationModel;k.lockedGrid=k.ownerGrid.lockedGrid=m.ComponentManager.create(j.locked);k.lockedView=l=k.lockedGrid.getView();k.selModel=j.normal.viewConfig.selModel=l.getSelectionModel();if(k.lockedGrid.isTree){k.lockedView.animate=false;j.normal.store=l.store;j.normal.viewConfig.stripeRows=k.lockedView.stripeRows;j.normal.rowLines=k.lockedGrid.rowLines}k.normalGrid=k.ownerGrid.normalGrid=m.ComponentManager.create(j.normal);l.lockingPartner=n=k.normalView=k.normalGrid.getView();n.lockingPartner=l;Ext.override(k.normalGrid,{beforeRender:k.beforeNormalGridRender});k.loadMask=(j.loadMask!==undefined)?j.loadMask:k.loadMask;k.mixins.observable.constructor.call(k);k.lockedViewEventRelayers=k.relayEvents(l,m.view.Table.events);k.normalViewEventRelayers=k.relayEvents(n,m.view.Table.events.concat(m.view.Table.normalSideEvents));n.on({scope:k,itemmouseleave:k.onItemMouseLeave,itemmouseenter:k.onItemMouseEnter});l.on({scope:k,itemmouseleave:k.onItemMouseLeave,itemmouseenter:k.onItemMouseEnter});k.loadingText=n.loadingText;k.loadingCls=n.loadingCls;k.loadingUseMsg=n.loadingUseMsg;k.itemSelector=k.getItemSelector();k.all=n.all;k.bindStore(n.dataSource,true,"dataSource")},subViewBindStore:function(n,m){var k=this,l=k.ownerGrid,j;if(k.destroying||k.destroyed||l.destroying||l.destroyed){return}j=k.getSelectionModel();j.bindStore(n,m);j.bindComponent(k)},beforeNormalGridRender:function(){if(this.ownerGrid.lockedGrid.getHeader()&&!this.title){this.title="\xa0"}this.callParent()},onPanelRender:function(k){var j=this,l=j.loadMask,g={target:j.ownerGrid,msg:j.loadingText,msgCls:j.loadingCls,useMsg:j.loadingUseMsg,store:j.ownerGrid.store};j.el=k;j.rendered=true;j.fireEvent("render",j);if(l){if(Ext.isObject(l)){g=Ext.apply(g,l)}j.loadMask=new Ext.LoadMask(g)}},getRefOwner:function(){return this.ownerGrid},getVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},getGridColumns:function(){return this.getVisibleColumnManager().getColumns()},getEl:function(c){return this.getViewForColumn(c).getEl()},getCellSelector:function(){return this.normalView.getCellSelector()},getItemSelector:function(){return this.normalView.getItemSelector()},getViewForColumn:function(j){var f=this.lockedView,g;f.headerCt.cascade(function(b){if(b===j){g=true;return false}});return g?f:this.normalView},onItemMouseEnter:function(o,p){var l=this,n=l.lockedView,k=l.normalView,m;if(o.trackOver){if(o!==n){k=n}m=k.getNode(p);k.highlightItem(m)}},onItemMouseLeave:function(m,n){var k=this,l=k.lockedView,j=k.normalView;if(m.trackOver){if(m!==l){j=l}j.clearHighlight()}},relayFn:function(k,l){l=l||[];var j=this,g=j.lockedView;j.relayingOperation=true;g[k].apply(g,l);g=j.normalView;g[k].apply(g,l);j.relayingOperation=false},getSelectionModel:function(){return this.normalView.getSelectionModel()},getNavigationModel:function(){return this.navigationModel},getStore:function(){return this.ownerGrid.store},onBindStore:function(k,p,l){var m=this,n=m.lockedView,o=m.normalView;if(o.componentLayoutCounter&&!(n.blockRefresh&&o.blockRefresh)){Ext.suspendLayouts();n.doFirstRefresh(k);o.doFirstRefresh(k);Ext.resumeLayouts(true)}},getStoreListeners:function(){var c=this;return{priority:1000,refresh:c.onDataRefresh,replace:c.onReplace,add:c.onAdd,remove:c.onRemove,update:c.onUpdate,clear:c.onDataRefresh,beginupdate:c.onBeginUpdate,endupdate:c.onEndUpdate}},onOwnerGridHide:function(){Ext.suspendLayouts();this.relayFn("onOwnerGridHide",arguments);Ext.resumeLayouts(true)},onOwnerGridShow:function(){Ext.suspendLayouts();this.relayFn("onOwnerGridShow",arguments);Ext.resumeLayouts(true)},onBeginUpdate:function(){Ext.suspendLayouts();this.relayFn("onBeginUpdate",arguments);Ext.resumeLayouts(true)},onEndUpdate:function(){Ext.suspendLayouts();this.relayFn("onEndUpdate",arguments);Ext.resumeLayouts(true)},onDataRefresh:function(){Ext.suspendLayouts();this.relayFn("onDataRefresh",arguments);Ext.resumeLayouts(true)},onReplace:function(){Ext.suspendLayouts();this.relayFn("onReplace",arguments);Ext.resumeLayouts(true)},onAdd:function(){Ext.suspendLayouts();this.relayFn("onAdd",arguments);Ext.resumeLayouts(true)},onRemove:function(){Ext.suspendLayouts();this.relayFn("onRemove",arguments);Ext.resumeLayouts(true)},setActionableMode:function(j,l){var g,k;if(j){if(!l){l=this.getNavigationModel().getPosition()}if(l){l=l.clone();l.view=k=l.column.getView();g=k.setActionableMode(j,l);if(g!==false&&k.lockingPartner.grid.isVisible()){k.lockingPartner.setActionableMode(j,l);if(!k.lockingPartner.actionableMode){k.setActionableMode(false);g=false}}return g}else{return false}}else{this.relayFn("setActionableMode",[false])}},onUpdate:function(){Ext.suspendLayouts();this.relayFn("onUpdate",arguments);Ext.resumeLayouts(true)},refresh:function(){var f=this.lockedView,d=this.normalView;Ext.suspendLayouts();f.clearViewEl(true);d.clearViewEl(true);d.refresh();f.refresh();Ext.resumeLayouts(true)},refreshView:function(){var j=this.lockedView,f=this.normalView,g=f.all.startIndex;Ext.suspendLayouts();j.clearViewEl(true);f.clearViewEl(true);f.refreshView(g);j.refreshView(g);Ext.resumeLayouts(true)},setScrollable:function(c){Ext.suspendLayouts();this.lockedView.setScrollable(c);if(c.isScroller){c=new Ext.scroll.Scroller(c.initialConfig)}this.normalView.setScrollable(c);Ext.resumeLayouts(true)},getNode:function(c){return this.normalView.getNode(c)},getRow:function(c){return this.normalView.getRow(c)},getCell:function(l,k){var g=this.getViewForColumn(k),j=g.getRow(l);return Ext.fly(j).down(k.getCellSelector())},indexOf:function(f){var d=this.lockedView.indexOf(f);if(!d){d=this.normalView.indexOf(f)}return d},focus:function(){var c=this.ownerGrid.down(">tablepanel:not(hidden)>tableview");if(c){c.focus()}},focusRow:function(g){var f,j=this.getNavigationModel().lastFocused;f=j?j.view:this.normalView;f.focusRow(g)},focusCell:function(c){c.view.focusCell(c)},onRowFocus:function(){this.relayFn("onRowFocus",arguments)},isVisible:function(c){return this.ownerGrid.isVisible(c)},getCellInclusive:function(j,l){var g=j.column,k=this.lockedGrid.getColumnManager().getColumns().length;if(g>=k){j=Ext.apply({},j);j.column-=k;return this.normalView.getCellInclusive(j,l)}else{return this.lockedView.getCellInclusive(j,l)}},getHeaderByCell:function(c){if(c){return this.getVisibleColumnManager().getHeaderById(c.getAttribute("data-columnId"))}return false},onRowSelect:function(){this.relayFn("onRowSelect",arguments)},onRowDeselect:function(){this.relayFn("onRowDeselect",arguments)},onCellSelect:function(c){c.column.getView().onCellSelect({record:c.record,column:c.column})},onCellDeselect:function(c){c.column.getView().onCellDeselect({record:c.record,column:c.column})},getCellByPosition:function(k,m){var l=this,j=k.view,n=k.column;if(j===l){k=new Ext.grid.CellContext(n.getView()).setPosition(k.record,k.column)}return j.getCellByPosition(k,m)},getRecord:function(f){var d=this.lockedView.getRecord(f);if(!d){d=this.normalView.getRecord(f)}return d},scrollBy:function(){var c=this.ownerGrid.getScrollable();c.scrollBy.apply(c,arguments)},ensureVisible:function(){var c=this.normalView;c.ensureVisible.apply(c,arguments)},disable:function(){this.relayFn("disable",arguments)},enable:function(){this.relayFn("enable",arguments)},addElListener:function(){this.relayFn("addElListener",arguments)},refreshNode:function(){this.relayFn("refreshNode",arguments)},addRowCls:function(){this.relayFn("addRowCls",arguments)},removeRowCls:function(){this.relayFn("removeRowCls",arguments)},destroy:function(){var c=this;c.rendered=false;c.bindStore(null,false,"dataSource");Ext.destroy(c.selModel,c.navigationModel,c.loadMask,c.lockedViewEventRelayers,c.normalViewEventRelayers);c.lockedView.lockingPartner=c.normalView.lockingPartner=null;c.callParent()}},1,0,0,0,0,[[Ext.util.Observable.prototype.mixinId||Ext.util.Observable.$className,Ext.util.Observable],[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder],[Ext.util.Focusable.prototype.mixinId||Ext.util.Focusable.$className,Ext.util.Focusable]],[Ext.grid.locking,"View",Ext.grid,"LockingView"],function(){this.borrow(Ext.Component,["up"]);this.borrow(Ext.view.AbstractView,["doFirstRefresh","applyFirstRefresh"]);this.borrow(Ext.view.Table,["cellSelector","selectedCellCls","selectedItemCls"])}));(Ext.cmd.derive("Ext.scroll.LockingScroller",Ext.scroll.Scroller,{config:{lockedScroller:null,normalScroller:null},scrollTo:function(g,j,k){var l;if(Ext.isObject(g)){l=g.lockedX;if(l){this.getLockedScroller().scrollTo(l,null,k)}}Ext.scroll.Scroller.prototype.scrollTo.call(this,g,j,k)},updateLockedScroller:function(c){c.on("scroll","onLockedScroll",this);c.setLockingScroller(this)},updateNormalScroller:function(c){c.on("scroll","onNormalScroll",this);c.setLockingScroller(this)},getPosition:function(){var f=this,d=Ext.scroll.Scroller.prototype.getPosition.call(this);d.x=f.getNormalScroller().getPosition().x;d.lockedX=f.getLockedScroller().getPosition().x;return d},privates:{updateSpacerXY:function(m){var n=this,r=n.getLockedScroller(),p=n.getNormalScroller(),o=r.component,q=p.component,l=m.y+((q.headerCt.tooNarrow||o.headerCt.tooNarrow)?Ext.getScrollbarSize().height:0);q.stretchHeight(l);o.stretchHeight(l);Ext.scroll.Scroller.prototype.updateSpacerXY.call(this,m)},doScrollTo:function(f,g,j){if(f!=null){this.getNormalScroller().scrollTo(f,null,j);f=null}Ext.scroll.Scroller.prototype.doScrollTo.call(this,f,g,j)},onLockedScroll:function(j,f,g){this.position.lockedX=f},onNormalScroll:function(j,f,g){this.position.x=f}}},0,0,0,0,["scroller.locking"],0,[Ext.scroll,"LockingScroller"],0));(Ext.cmd.derive("Ext.grid.locking.Lockable",Ext.Base,{alternateClassName:"Ext.grid.Lockable",syncRowHeight:true,headerCounter:0,lockedGridCls:"x-grid-inner-locked",normalGridCls:"x-grid-inner-normal",lockingBodyCls:"x-grid-locking-body",scrollContainerCls:"x-grid-scroll-container",scrollBodyCls:"x-grid-scroll-body",scrollbarClipperCls:"x-grid-scrollbar-clipper",scrollbarCls:"x-grid-scrollbar",scrollbarVisibleCls:"x-grid-scrollbar-visible",unlockText:"Unlock",lockText:"Lock",bothCfgCopy:["hideHeaders","enableColumnHide","enableColumnMove","enableColumnResize","sortableColumns","multiColumnSort","columnLines","rowLines","variableRowHeight","numFromEdge","trailingBufferZone","leadingBufferZone","scrollToLoadBuffer","syncRowHeight"],normalCfgCopy:["scroll"],lockedCfgCopy:[],determineXTypeToCreate:function(o){var q=this,m,p,r,n,l;if(q.subGridXType){m=q.subGridXType}else{if(!o){return"gridpanel"}p=q.getXTypes().split("/");r=p.length;n=p[r-1];l=p[r-2];if(l!=="tablepanel"){m=l}else{m=n}}return m},injectLockable:function(){this.focusable=false;this.lockable=true;this.hasView=true;var w=this,M=w.store=Ext.StoreManager.lookup(w.store),C=w.lockedViewConfig,N=w.normalViewConfig,D=Ext.Object,A,J,G,x,F,H,I,E,B=w.viewConfig,y=B&&B.loadMask,K=(y!==undefined)?y:w.loadMask,L=w.bufferedRenderer;A=w.constructLockableFeatures();w.scrollable=new Ext.scroll.LockingScroller({component:w,x:false,y:true});w.features=null;J=w.constructLockablePlugins();w.plugins=J.topPlugins;G={id:w.id+"-locked",$initParent:w,isLocked:true,bufferedRenderer:L,ownerGrid:w,ownerLockable:w,xtype:w.determineXTypeToCreate(true),store:M,scrollerOwner:false,animate:false,border:false,cls:w.lockedGridCls,isLayoutRoot:function(){return this.floatedFromCollapse||this.ownerGrid.normalGrid.floatedFromCollapse},features:A.lockedFeatures,plugins:J.lockedPlugins};x={id:w.id+"-normal",$initParent:w,isLocked:false,bufferedRenderer:L,ownerGrid:w,ownerLockable:w,xtype:w.determineXTypeToCreate(),store:M,reserveScrollbar:w.reserveScrollbar,scrollerOwner:false,border:false,cls:w.normalGridCls,isLayoutRoot:function(){return this.floatedFromCollapse||this.ownerGrid.lockedGrid.floatedFromCollapse},features:A.normalFeatures,plugins:J.normalPlugins};w.addCls("x-grid-locked");Ext.copy(x,w,w.bothCfgCopy,true);Ext.copy(G,w,w.bothCfgCopy,true);Ext.copy(x,w,w.normalCfgCopy,true);Ext.copy(G,w,w.lockedCfgCopy,true);Ext.apply(x,w.normalGridConfig);Ext.apply(G,w.lockedGridConfig);for(F=0;F<w.normalCfgCopy.length;F++){delete w[w.normalCfgCopy[F]]}for(F=0;F<w.lockedCfgCopy.length;F++){delete w[w.lockedCfgCopy[F]]}w.addStateEvents(["lockcolumn","unlockcolumn"]);H=w.processColumns(w.columns||[],G);G.columns=H.locked;if(!G.columns.items.length){G.hidden=true}x.columns=H.normal;if(!x.columns.items.length){x.hidden=true}x.flex=1;G.viewConfig=C=(C?D.chain(C):{});x.viewConfig=N=(N?D.chain(N):{});C.loadingUseMsg=false;C.loadMask=false;N.loadMask=false;Ext.applyIf(C,B);Ext.applyIf(N,B);if(w.layout===Ext.panel.Table.prototype.layout){w.layout={type:"hbox",align:"stretch"}}w.getLayout();if(w.layout.type==="border"){if(w.split){G.split=w.split}if(!G.region){G.region="west"}if(!x.region){x.region="center"}w.addCls("x-grid-locked-split")}if(!(w.layout instanceof Ext.layout.container.Box)){w.split=false}w.view=new Ext.grid.locking.View({loadMask:K,locked:G,normal:x,ownerGrid:w});G=w.lockedGrid;x=w.normalGrid;G.on({beginfloat:w.onBeginLockedFloat,endfloat:w.onEndLockedFloat,scope:w});if(!G.getVisibleColumnManager().getColumns().length){G.hide()}if(!x.getVisibleColumnManager().getColumns().length){x.hide()}I=G.headerCt;E=x.headerCt;w.headerCt=w.view.headerCt=new Ext.grid.locking.HeaderContainer(w);I.lockedCt=true;I.lockableInjected=true;E.lockableInjected=true;I.on({add:w.delaySyncLockedWidth,remove:w.delaySyncLockedWidth,columnshow:w.delaySyncLockedWidth,columnhide:w.delaySyncLockedWidth,sortchange:w.onLockedHeaderSortChange,columnresize:w.delaySyncLockedWidth,scope:w});E.on({add:w.delaySyncLockedWidth,remove:w.delaySyncLockedWidth,columnshow:w.delaySyncLockedWidth,columnhide:w.delaySyncLockedWidth,sortchange:w.onNormalHeaderSortChange,scope:w});w.modifyHeaderCt();w.items=[G];if(w.split){w.addCls("x-grid-locked-split");w.items[1]=Ext.apply({xtype:"splitter"},w.split)}w.items.push(x);w.relayHeaderCtEvents(I);w.relayHeaderCtEvents(E);w.storeRelayers=w.relayEvents(M,["filterchange","groupchange","beforeload","load"]);w.gridRelayers=w.relayEvents(x,["viewready"])},afterInjectLockable:function(){delete this.lockedGrid.$initParent;delete this.normalGrid.$initParent},getLockingViewConfig:function(){return{xclass:"Ext.grid.locking.View",locked:this.lockedGrid,normal:this.normalGrid,panel:this}},onBeginLockedFloat:function(j){var m=j.getContentTarget().dom,k=this.lockedGrid.headerCt,n=this.normalGrid.headerCt,l=Math.max(n.getHeight(),k.getHeight());k.minHeight=l;n.minHeight=l;j.el.addCls(Ext.panel.Panel.floatCls);if(m.firstChild!==j.view.el.dom){m.appendChild(j.view.el.dom)}j.body.dom.style.overflowX=this.normalGrid.headerCt.tooNarrow?"scroll":"";j.body.dom.scrollTop=this.getScrollable().getPosition().y},onEndLockedFloat:function(){var d=this.lockedGrid,f=d.getContentTarget().dom;if(d.collapsed){d.el.removeCls(Ext.panel.Panel.floatCls)}else{this.lockedGrid.headerCt.minHeight=this.normalGrid.headerCt.minHeight=null}this.lockedScrollbarClipper.appendChild(d.view.el.dom);this.syncLockableLayout()},beforeLayout:function(){var g=this,k=g.lockedGrid,l=g.normalGrid,j;if(k&&l){if(!k.layoutCounter&&k.getSizeModel().width.shrinkWrap){k.gridPanelBorderWidth=k.el.getBorderWidth("lr");k.shrinkWrapColumns=true}if(k.shrinkWrapColumns){j=k.headerCt.getTableWidth();k.setWidth(j+k.gridPanelBorderWidth)}if(!g.scrollContainer){g.initScrollContainer()}g.lastScrollPos=g.getScrollable().getPosition();k.view.el.setStyle("margin-bottom","");l.view.el.setStyle("margin-bottom","")}},syncLockableLayout:function(){var N=this,S=N.lockedGrid,W=N.normalGrid,U,Z,aj,L,aa,ai,J,V,ac,ad,P,Y,ag,ae,ab,I,O,R,T,X,Q,ah,K,M,af;if(!N.isCollapsingOrExpanding&&S&&W){Q=S.isVisible(true)&&!S.collapsed;ah=W.isVisible(true);U=S.view.el;Z=W.view.el;aj=U.dom;L=Z.dom;K=N.scrollBody.dom;aa=Q?S.body.getRegion(true):new Ext.util.Region(0,0,0,0);ai=ah?W.body.getRegion(true):new Ext.util.Region(0,0,0,0);J=Ext.getScrollbarSize();V=J.width;ac=J.height;ad=ah?ai.width:0;P=Q?aa.width:0;Y=Q?ai.x-aa.x:0;ae=(W.headerCt.tooNarrow||S.headerCt.tooNarrow)?ac:0;ab=ai.height;I=ab;O=N.lockedScrollbar;R=N.normalScrollbar;T=N.scrollbarVisibleCls,af=Z._rtlScrollbarOnRight;if(ae){U.setStyle("margin-bottom",-ac+"px");Z.setStyle("margin-bottom",-ac+"px");I-=ac;if(Q&&S.view.body.dom){N.lockedScrollbarScroller.setSize({x:S.headerCt.getTableWidth()})}if(W.view.body.dom){N.normalScrollbarScroller.setSize({x:W.headerCt.getTableWidth()})}}N.scrollBody.setHeight(I);U.dom.style.height=Z.dom.style.height="";X=(N.scrollable.getSize().y+ae);W.view.stretchHeight(X);S.view.stretchHeight(X);ag=V&&K.scrollHeight>K.clientHeight;if(ag&&ad){ad-=V;Z.setStyle("width",ad+"px")}O.toggleCls(T,Q&&!!ae);R.toggleCls(T,!!ae);N.normalScrollbarClipper.toggleCls(N.scrollbarClipperCls+"-floated",!!N.normalGrid.floatedFromCollapse);N.normalScrollbar.toggleCls(N.scrollbarCls+"-floated",!!N.normalGrid.floatedFromCollapse);N.lockedScrollbarClipper.toggleCls(N.scrollbarClipperCls+"-floated",!!N.lockedGrid.floatedFromCollapse);N.lockedScrollbar.toggleCls(N.scrollbarCls+"-floated",!!N.lockedGrid.floatedFromCollapse);O.setSize(N.lockedScrollbarClipper.dom.offsetWidth,ac);R.setSize(ad,ac);if(N.getInherited().rtl){R.rtlSetLocalX(Y);N.normalScrollbarClipper.rtlSetLocalX(Y)}else{R.setLocalX(Y);N.normalScrollbarClipper.setLocalX(Y)}N.scrollContainer.setBox(M=Q?aa.union(ai):ai);if(af){if(ag){K.style.width=(M+V)+"px";K.style.right=-V+"px";W.headerCt.layout.innerCt.setWidth(W.headerCt.layout.innerCt.getWidth()+V);N.verticalScrollbarScroller.setSize({y:N.scrollable.getSize().y});N.verticalScrollbar.show()}else{N.verticalScrollbar.hide()}}N.getScrollable().scrollTo(N.lastScrollPos)}},initScrollContainer:function(){var B=this,x=B.scrollContainer=B.body.insertFirst({cls:[B.scrollContainerCls,B._rtlCls]}),C=B.scrollBody=x.appendChild({cls:B.scrollBodyCls}),J=B.lockedScrollbar=x.appendChild({cls:[B.scrollbarCls,B.scrollbarCls+"-locked",B._rtlCls]}),G=B.normalScrollbar=x.appendChild({cls:[B.scrollbarCls,B._rtlCls]}),u=B.lockedGrid.view,H=B.normalGrid.view,w=u.getScrollable(),y=H.getScrollable(),I=Ext.scroll.Scroller,E,F,v,D,A;u.stretchHeight(0);H.stretchHeight(0);B.scrollable.setConfig({element:C,lockedScroller:w,normalScroller:y});v=B.lockedScrollbarClipper=C.appendChild({cls:[B.scrollbarClipperCls,B.scrollbarClipperCls+"-locked",B._rtlCls]});D=B.normalScrollbarClipper=C.appendChild({cls:[B.scrollbarClipperCls,B._rtlCls]});v.appendChild(u.el);D.appendChild(H.el);u.ignoreDomPosition=true;H.ignoreDomPosition=true;E=B.lockedScrollbarScroller=new I({element:J,x:"scroll",y:false,rtl:w.getRtl&&w.getRtl()});F=B.normalScrollbarScroller=new I({element:G,x:"scroll",y:false,rtl:y.getRtl&&y.getRtl()});if(H.el._rtlScrollbarOnRight){B.verticalScrollbar=x.appendChild({cls:B.scrollbarCls,style:{top:0,left:0,bottom:0,width:Ext.getScrollbarSize().width+"px"}});B.verticalScrollbarScroller=new I({element:B.verticalScrollbar,x:false,y:true});B.verticalScrollbarScroller.addPartner(B.scrollable,"y")}E.addPartner(w,"x");F.addPartner(y,"x");A=B.lockedGrid.headerCt.getScrollable();if(A){E.addPartner(A,"x")}A=B.normalGrid.headerCt.getScrollable();if(A){F.addPartner(A,"x")}B.view.onPanelRender(C)},processColumns:function(A,C){var s=this,y,w,B,u=new Ext.grid.header.Container({"$initParent":s}),v=[],D=[],E={itemId:"lockedHeaderCt",stretchMaxPartner:"^^>>#normalHeaderCt",items:v},x={itemId:"normalHeaderCt",stretchMaxPartner:"^^>>#lockedHeaderCt",items:D},r={locked:E,normal:x},F;if(Ext.isObject(A)){Ext.applyIf(E,A);Ext.applyIf(x,A);F=Ext.apply({},A);delete F.items;Ext.apply(u,F);A=A.items}u.constructing=true;for(y=0,w=A.length;y<w;++y){B=A[y];if(!B.isComponent){B=u.applyDefaults(B);B.$initParent=u;B=u.lookupComponent(B);delete B.$initParent}B.processed=true;if(B.locked||B.autoLock){v.push(B)}else{D.push(B)}}s.fireEvent("processcolumns",s,v,D);u.destroy();return r},ensureLockedVisible:function(){this.lockedGrid.ensureVisible.apply(this.lockedGrid,arguments);this.normalGrid.ensureVisible.apply(this.normalGrid,arguments)},syncRowHeights:function(){if(!this.destroyed){var n=this,p=n.normalGrid.getView(),o=n.lockedGrid.getView(),l=p.syncRowHeightBegin(),k=o.syncRowHeightBegin(),m;p.syncRowHeightMeasure(l);o.syncRowHeightMeasure(k);p.syncRowHeightFinish(l,k);o.syncRowHeightFinish(k,l);m=p.getScrollY();o.setScrollY(m)}},modifyHeaderCt:function(){var c=this;c.lockedGrid.headerCt.getMenuItems=c.getMenuItems(c.lockedGrid.headerCt.getMenuItems,true);c.normalGrid.headerCt.getMenuItems=c.getMenuItems(c.normalGrid.headerCt.getMenuItems,false);c.lockedGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(c.lockedGrid.headerCt.showMenuBy,c.showMenuBy);c.normalGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(c.normalGrid.headerCt.showMenuBy,c.showMenuBy)},onUnlockMenuClick:function(){this.unlock()},onLockMenuClick:function(){this.lock()},showMenuBy:function(l,q,m){var n=this.getMenu(),p=n.down("#unlockItem"),o=n.down("#lockItem"),r=p.prev();if(m.lockable===false){r.hide();p.hide();o.hide()}else{r.show();p.show();o.show();if(!p.initialConfig.disabled){p.setDisabled(m.lockable===false)}if(!o.initialConfig.disabled){o.setDisabled(!m.isLockable())}}},getMenuItems:function(q,u){var p=this,o=p.unlockText,w=p.lockText,n="x-hmenu-unlock",v="x-hmenu-lock",r=p.onUnlockMenuClick.bind(p),s=p.onLockMenuClick.bind(p);return function(){var b=q.call(this);b.push("-",{itemId:"unlockItem",iconCls:n,text:o,handler:r,disabled:!u});b.push({itemId:"lockItem",iconCls:v,text:w,handler:s,disabled:u});return b}},delaySyncLockedWidth:function(){var f=this,d=f.syncLockedWidthTask||(f.syncLockedWidthTask=new Ext.util.DelayedTask(f.syncLockedWidth,f));if(f.reconfiguring){return}if(!Ext.Component.layoutSuspendCount||f.syncTaskDelay===0){f.syncLockedWidth()}else{d.delay(1)}},syncLockedWidth:function(){var p=this,s=p.rendered,r=p.lockedGrid,n=r.view,o=n.getScrollable(),q=p.normalGrid,u=r.getVisibleColumnManager().getColumns().length,w=q.getVisibleColumnManager().getColumns().length,v=p.syncLockedWidthTask;if(v){v.cancel()}if(p.reconfiguring){return}Ext.suspendLayouts();if(w){q.show();if(u){if(p.layout.type==="border"){r.region=r.initialConfig.region}if(s&&r.shrinkWrapColumns&&!r.headerCt.forceFit){delete r.flex;r.width=r.headerCt.getTableWidth()+r.gridPanelBorderWidth;r.updateLayout()}r.addCls(p.lockedGridCls);r.show();if(r.split){p.child("splitter").show();p.addCls("x-grid-locked-split")}}else{r.hide();if(s){r.getView().clearViewEl(true)}if(r.split){p.child("splitter").hide();p.removeCls("x-grid-locked-split")}}}else{q.hide();delete r.width;if(p.layout.type==="border"){r.region="center";q.region="west"}else{r.flex=1}r.removeCls(p.lockedGridCls);r.show()}Ext.resumeLayouts(true);return{locked:!!u,normal:!!w}},onLockedHeaderSortChange:Ext.emptyFn,onNormalHeaderSortChange:Ext.emptyFn,lock:function(D,v,E){var B=this,C=B.normalGrid,G=B.lockedGrid,F=C.view,J=G.view,u=F.all.startIndex,x=F.getScrollable(),w=J.getScrollable(),y=C.headerCt,A,I,H=B.componentLayoutCounter;D=D||y.getMenu().activeHeader;D.unlockedWidth=D.width;if(D.flex){if(D.lockedWidth){D.width=D.lockedWidth;D.lockedWidth=null}else{D.width=D.lastBox.width}D.flex=null}E=E||G.headerCt;I=D.ownerCt;if(I&&!D.isLockable()){return}Ext.suspendLayouts();if(x){x.suspendPartnerSync();w.suspendPartnerSync()}if(G.hidden){if(!G.componentLayoutCounter){G.height=C.lastBox.height;if(J.bufferedRenderer){J.bufferedRenderer.onViewResize(J,0,C.body.lastBox.height)}}G.show()}G.reconfiguring=C.reconfiguring=true;D.ownerCmp=D.ownerCt;if(I){I.remove(D,false)}D.locked=true;if(Ext.isDefined(v)){E.insert(v,D)}else{E.add(D)}G.reconfiguring=C.reconfiguring=false;D.ownerCmp=null;A=B.syncLockedWidth();if(A.locked){J.clearViewEl(true)}if(A.normal){F.clearViewEl(true)}if(A.normal){C.getView().refreshView(u)}if(A.locked){G.getView().refreshView(u)}B.fireEvent("lockcolumn",B,D);Ext.resumeLayouts(true);if(x){x.resumePartnerSync(true);w.resumePartnerSync()}if(B.componentLayoutCounter===H){B.syncLockableLayout()}},unlock:function(y,s,A){var w=this,x=w.normalGrid,C=w.lockedGrid,B=x.view,q=C.view,r=B.all.startIndex,u=C.headerCt,v,D=w.componentLayoutCounter;if(!Ext.isDefined(s)){s=0}y=y||u.getMenu().activeHeader;y.lockedWidth=y.width;if(y.flex){if(y.unlockedWidth){y.width=y.unlockedWidth;y.unlockedWidth=null}else{y.width=y.lastBox.width}y.flex=null}A=A||x.headerCt;Ext.suspendLayouts();C.reconfiguring=x.reconfiguring=true;y.ownerCmp=y.ownerCt;if(y.ownerCt){y.ownerCt.remove(y,false)}y.locked=false;A.insert(s,y);C.reconfiguring=x.reconfiguring=false;y.ownerCmp=null;v=w.syncLockedWidth();if(v.locked){q.clearViewEl(true)}if(v.normal){B.clearViewEl(true)}if(v.normal){x.getView().refreshView(r)}if(v.locked){C.getView().refreshView(r)}w.fireEvent("unlockcolumn",w,y);Ext.resumeLayouts(true);if(w.componentLayoutCounter===D){w.syncLockableLayout()}},reconfigureLockable:function(n,s,r){var p=this,w=p.store,u=p.lockedGrid,q=p.normalGrid,o,v;if(!n&&r){n=Ext.StoreManager.lookup("ext-empty-store")}if(n&&n!==w){n=Ext.data.StoreManager.lookup(n);p.store=n;u.view.blockRefresh=q.view.blockRefresh=true;u.bindStore(n);o=u.view;o.store=n;if(!o.dataSource.isFeatureStore){o.dataSource=n}if(o.bufferedRenderer){o.bufferedRenderer.bindStore(n)}q.bindStore(n);o=q.view;o.store=n;if(!o.dataSource.isFeatureStore){o.dataSource=n}if(o.bufferedRenderer){o.bufferedRenderer.bindStore(n)}p.view.store=n;v=p.view.loadMask;if(v&&v.isLoadMask){v.bindStore(n)}p.view.bindStore(q.view.dataSource,false,"dataSource");u.view.blockRefresh=q.view.blockRefresh=false}if(s){u.reconfiguring=q.reconfiguring=true;u.headerCt.removeAll();q.headerCt.removeAll();s=p.processColumns(s,u);u.headerCt.add(s.locked.items);q.headerCt.add(s.normal.items);u.reconfiguring=q.reconfiguring=false;p.syncLockedWidth()}p.refreshCounter=q.view.refreshCounter},afterReconfigureLockable:function(){this.syncLockedWidth();if(this.refreshCounter===this.normalGrid.getView().refreshCounter){this.view.refreshView()}},constructLockableFeatures:function(){var o=this.features,q,p,n,m,r=0,l;if(o){if(!Ext.isArray(o)){o=[o]}n=[];m=[];l=o.length;for(;r<l;r++){q=o[r];if(!q.isFeature){q=Ext.create("feature."+q.ftype,q)}switch(q.lockableScope){case"locked":n.push(q);break;case"normal":m.push(q);break;default:q.lockableScope="both";n.push(q);m.push(p=q.clone());p.lockingPartner=q;q.lockingPartner=p}}}return{normalFeatures:m,lockedFeatures:n}},constructLockablePlugins:function(){var y=this.plugins,u,A,B,r,q,w,v=0,s,p,x;if(y){if(!Ext.isArray(y)){y=[y]}r=[];q=[];w=[];s=y.length;for(;v<s;v++){u=y[v];if(u.init){p=u.lockableScope}else{x=u.ptype?Ext.ClassManager.getByAlias(("plugin."+u.ptype)):Ext.ClassManager.get(u.xclass);p=x.prototype.lockableScope}switch(p){case"both":q.push(B=u.clonePlugin());w.push(A=u.clonePlugin());B.lockingPartner=A;A.lockingPartner=B;Ext.destroy(u);break;case"locked":q.push(u);break;case"normal":w.push(u);break;default:r.push(u)}}}return{topPlugins:r,normalPlugins:w,lockedPlugins:q}},destroyLockable:function(){var f=this,d=f.syncLockedWidthTask;if(d){d.cancel();f.syncLockedWidthTask=null}if(f.lockedGrid&&f.lockedGrid.headerCt){f.lockedGrid.headerCt.showMenuBy=null}if(f.normalGrid&&f.normalGrid.headerCt){f.normalGrid.headerCt.showMenuBy=null}Ext.destroy(f.view,f.headerCt)}},0,0,0,0,0,0,[Ext.grid.locking,"Lockable",Ext.grid,"Lockable"],function(){this.borrow(Ext.Component,["constructPlugin"])}));(Ext.cmd.derive("Ext.grid.plugin.BufferedRenderer",Ext.AbstractPlugin,{isBufferedRenderer:true,lockableScope:"both",numFromEdge:2,trailingBufferZone:10,leadingBufferZone:20,synchronousRender:true,scrollToLoadBuffer:200,viewSize:100,rowHeight:21,position:0,scrollTop:0,lastScrollDirection:1,bodyTop:0,scrollHeight:0,loadId:0,init:function(n){var m=this,k=n.view,o={refresh:m.onViewRefresh,columnschanged:m.checkVariableRowHeight,boxready:m.onViewBoxReady,scope:m,destroyable:true},p={scroll:m.onViewScroll,scope:m},l=k.initialConfig;m.scroller=k.lockingPartner?k.ownerGrid.scrollable:k.getScrollable();if(n.isTree||(n.ownerLockable&&n.ownerLockable.isTree)){k.blockRefresh=false;if(l&&l.loadMask===undefined){k.loadMask=true}}if(k.positionBody){o.refresh=m.onViewRefresh}if(Ext.isWebKit){m.needsPointerEventsFix=true;p.scrollend=m.onViewScrollEnd;o.itemmousedown=m.onViewItemMouseDown}m.grid=n;m.view=k;m.isRTL=k.getInherited().rtl;k.bufferedRenderer=m;k.preserveScrollOnRefresh=true;k.animate=false;m.bindStore(k.dataSource);if(k.hasOwnProperty("rowHeight")){m.rowHeight=k.rowHeight}m.position=0;m.viewListeners=k.on(o);if(m.scroller){m.scrollListeners=m.scroller.on(p)}},checkVariableRowHeight:function(){var c=this.variableRowHeight;this.variableRowHeight=this.view.hasVariableRowHeight();if(Boolean(this.variableRowHeight)!==Boolean(c)){delete this.rowHeight}},bindStore:function(j){var g=this,f=g.store;if(f&&f.isFeatureStore){return}if(f){g.unbindStore()}g.storeListeners=j.on({scope:g,groupchange:g.onStoreGroupChange,clear:g.onStoreClear,beforeload:g.onBeforeStoreLoad,load:g.onStoreLoad,destroyable:true});g.store=j;g.setBodyTop(0);delete g.viewSize;delete g.rowHeight;if(j.isBufferedStore){j.setViewSize(g.viewSize)}},unbindStore:function(){this.storeListeners.destroy();this.storeListeners=this.store=null},onBeforeStoreLoad:function(j){var g=this,f=g.view;if(f&&f.refreshCounter){if(j.isTreeStore||f.preserveScrollOnReload){g.nextRefreshStartIndex=f.all.startIndex}else{if(g.scrollTop!==0){g.setBodyTop(g.bodyTop=g.scrollTop=g.position=g.scrollHeight=g.nextRefreshStartIndex=0);g.scroller.scrollTo(null,0)}}g.lastScrollDirection=g.scrollOffset=null}g.disable()},onStoreLoad:function(){this.enable()},onStoreClear:function(){var f=this,d=f.view;if(d.rendered&&!f.store.destroyed){if(f.scrollTop!==0){f.bodyTop=f.scrollTop=f.position=f.scrollHeight=0;f.nextRefreshStartIndex=null;f.scroller.scrollTo(null,0)}d.refresh();f.lastScrollDirection=f.scrollOffset=null}},onStoreGroupChange:function(c){this.refreshSize()},onViewBoxReady:function(c){this.refreshScroller(c,this.scrollHeight)},onViewRefresh:function(n,m){var l=this,k=n.all,j;l.checkVariableRowHeight();if(!n.componentLayoutCounter&&(n.headerCt.down("{flex}")||l.variableRowHeight)){n.on({boxready:Ext.Function.pass(l.onViewRefresh,[n,m],l),single:true});l.skipNextRefreshSize=true;return}l.skipNextRefreshSize=false;if(l.refreshing){return}l.refreshSize();if(l.scroller){if(l.scrollTop!==l.scroller.getPosition().y){l.onViewScroll();l.onViewScrollEnd()}else{if(!l.hasOwnProperty("bodyTop")){l.bodyTop=k.startIndex*l.rowHeight;l.scroller.scrollTo(null,l.bodyTop)}l.setBodyTop(l.bodyTop);j=n.lastBox&&n.lastBox.height;if(j&&k.getCount()){l.onViewResize(n,null,j);if(m&&(k.getCount()!==m.length)){m.length=0;m.push.apply(m,l.store.getRange(k.startIndex,k.endIndex))}}}}},beforeTableLayout:function(d){var f=this.view.body.dom;if(f){d.bodyHeight=f.offsetHeight;d.bodyWidth=f.offsetWidth}},afterTableLayout:function(j){var l=this,g=l.view,k;if(j.bodyHeight&&g.body.dom){delete l.rowHeight;l.refreshSize();k=g.body.dom.offsetHeight;if(k!==j.bodyHeight){l.onViewResize(g,null,g.el.lastBox.height);k=l.bodyHeight;if(k<j.bodyHeight){if(l.viewSize>=l.store.getCount()){l.setBodyTop(0)}else{if(l.bodyTop>l.scrollTop||l.bodyTop+k<l.scrollTop+l.viewClientHeight){l.setBodyTop(l.scrollTop-l.trailingBufferZone*l.rowHeight)}}}if(g.all.endIndex===(g.dataSource.getCount())-1){l.stretchView(g,l.scrollHeight=l.bodyTop+k-1)}}}},refreshSize:function(){var j=this,f=j.view,g=j.skipNextRefreshSize||(Ext.Component.pendingLayouts&&Ext.Component.layoutSuspendCount)||!f.body.dom;j.skipNextRefreshSize=false;if(g){return}j.bodyHeight=f.body.dom.offsetHeight;j.scrollHeight=j.getScrollHeight();j.stretchView(f,j.scrollHeight)},onViewResize:function(q,o,l,r,m){var n=this,p;n.refreshSize();if(!m||l!==m){n.viewClientHeight=q.lockingPartner?((n.scroller&&n.scroller.getClientSize().y)||l):q.el.dom.clientHeight;p=Math.ceil(l/n.rowHeight)+n.trailingBufferZone+n.leadingBufferZone;n.viewSize=n.setViewSize(p)}},stretchView:function(j,f){var g=this;if(g.scrollTop>f){g.position=g.scrollTop=Math.max(f-g.bodyHeight,0);g.scroller.scrollTo(null,g.scrollTop)}if(g.bodyTop>f){j.body.translate(null,g.bodyTop=g.position)}if(j.getScrollable()){g.refreshScroller(j,f)}},refreshScroller:function(g,j){var f=g.getScrollable();if(f){if(f.setElementSize){f.setElementSize()}f.setSize({x:g.headerCt.getTableWidth(),y:j});if(g.lockingPartner){this.scroller.setSize({x:0,y:j})}}},setViewSize:function(A,I){var B=this,w=B.store,y=B.view,L,K=y.all,E=K.getCount(),C=w.getCount(),J,F,D=B.view.lockingPartner&&B.view.lockingPartner.bufferedRenderer,x=E-A,G=0,H=Math.max(0,C-1),v=Ext.Number.sign((B.getFirstVisibleRowIndex()-K.startIndex)-(K.endIndex-B.getLastVisibleRowIndex()));if(D&&!I&&D.view.componentLayoutCounter){if(D.viewSize>A){A=D.viewSize}else{if(y.componentLayoutCounter){D.setViewSize(A,true)}}}x=E-A;if(x){B.scrollTop=B.scroller?B.scroller.getPosition().y:0;B.viewSize=A;if(w.isBufferedStore){w.setViewSize(A)}if(E){J=Math.max(0,Math.min(K.startIndex,C-A));F=Math.min(J+A-1,H);if(J===K.startIndex&&F===K.endIndex){if(x<0){B.handleViewScroll(v)}}else{if(D){D.disable()}if(x<0){if(C>A&&C>E){w.getRange(J,F,{callback:function(c,b,d){L=y.ownerGrid;if(d>K.endIndex){K.scroll(Ext.Array.slice(c,K.endIndex+1,Infinity),1,0)}if(b<K.startIndex){G=K.first(true);K.scroll(Ext.Array.slice(c,0,K.startIndex-b),-1,0);B.bodyTop-=G.offsetTop}B.setBodyTop(B.bodyTop);if(D&&!I&&(L.syncRowHeight||L.syncRowHeightOnNextLayout)){D.setViewSize(A,true);L.syncRowHeights()}}})}else{B.refreshView(0)}}else{if(v===1){G=K.item(K.startIndex+x,true).offsetTop}K.clip(v,x);B.setBodyTop(B.bodyTop+G)}if(D){D.enable()}}}B.refreshSize()}return A},getViewRange:function(){var q=this,m=q.view,o=m.all,s=o.getCount(),r=m.lockingPartner&&m.lockingPartner.all,u=q.store,n=0,p;if(!q.hasOwnProperty("viewSize")&&q.ownerCt&&q.ownerCt.height){q.viewSize=Math.ceil(q.ownerCt.height/q.rowHeight)}if(!u.data.getCount()){return[]}if(!s&&r&&r.getCount()){n=r.startIndex;p=Math.min(r.endIndex,n+q.viewSize-1,u.getCount()-1)}else{if(s){n=o.startIndex}else{if(u.isBufferedStore){if(!u.currentPage){u.currentPage=1}n=o.startIndex=(u.currentPage-1)*(u.pageSize||1);u.currentPage=1}}p=n+(q.viewSize||u.defaultViewSize)-1}return u.getRange(n,p)},onReplace:function(v,u,B,A){var x=this,y=x.scroller,w=x.view,r=w.all,F,C=r.getCount(),D=u+B.length-1,s=A.length-B.length,E=s*x.rowHeight;if(u>=r.startIndex+x.viewSize){x.refreshSize();return}if(C&&D<r.startIndex&&r.getCount()>=x.viewSize){r.moveBlock(s);x.refreshSize();F=r.startIndex;if(s>0){x.doNotMirror=true;x.handleViewScroll(-1);x.doNotMirror=false}if(r.startIndex===F){if(r.startIndex){x.setBodyTop(x.bodyTop+=E);w.suspendEvent("scroll");w.scrollBy(0,E);w.resumeEvent("scroll");x.position=x.scrollTop=x.scroller.getPosition().y}}else{w.suspendEvent("scroll");w.scrollBy(0,(F-r.startIndex)*x.rowHeight);w.resumeEvent("scroll")}w.refreshSize(r.getCount()!==C);return}if(C&&u>r.endIndex){x.refreshSize();if(s>0){x.onRangeFetched(null,r.startIndex,Math.min(v.getCount(),r.startIndex+x.viewSize)-1,null,true)}w.refreshSize(r.getCount()!==C);return}if(u<r.startIndex&&D<=r.endIndex){x.refreshView(r.startIndex-B.length+A.length);return}if(u<r.startIndex&&D<=r.endIndex&&E){y.suspendEvent("scroll");y.scrollTo(null,x.position=x.scrollTop+=E);y.resumeEvent("scroll")}x.refreshView()},scrollTo:function(w,K){var D=arguments,B=this,y=B.view,E=y.lockingPartner&&y.lockingPartner.grid.isVisible()&&y.lockingPartner.bufferedRenderer,v=B.store,A=v.getCount(),C,I,J,L,H,G,F,x;if(K!==undefined&&!(K instanceof Object)){K={select:D[1],callback:D[2],scope:D[3]}}if((H=y.dataSource.groupingFeature)&&(H.collapsible)){if(w.isEntity){F=w}else{F=y.store.getAt(Math.min(Math.max(w,0),y.store.getCount()-1))}G=H.getMetaGroup(F);if(G&&G.isCollapsed){if(!H.isExpandingOrCollapsing&&F!==G.placeholder){H.expand(H.getGroup(F).getGroupKey());A=v.getCount();w=H.indexOf(F)}else{F=G.placeholder;w=H.indexOfPlaceholder(F)}}else{w=H.indexOf(F)}}else{if(w.isEntity){F=w;w=v.indexOf(F);if(w===-1){return}}else{w=Math.min(Math.max(w,0),A-1);F=v.getAt(w)}}if(F&&(J=y.getNode(F))){y.grid.ensureVisible(F,K);B.onViewScroll();B.onViewScrollEnd();return}if(w<y.all.startIndex){x=-1;C=Math.max(Math.min(w-(Math.floor((B.leadingBufferZone+B.trailingBufferZone)/2)),A-B.viewSize+1),0);I=Math.min(C+B.viewSize-1,A-1)}else{x=1;I=Math.min(w+(Math.floor((B.leadingBufferZone+B.trailingBufferZone)/2)),A-1);C=Math.max(I-(B.viewSize-1),0)}L=Math.max(C*B.rowHeight,0);v.getRange(C,I,{callback:function(c,b,d){B.renderRange(b,d,true,true);F=v.data.getRange(w,w+1)[0];J=y.getNode(F);y.body.translate(null,B.bodyTop=L);if(x===1){B.refreshSize()}if(E){E.renderRange(b,d,true,true);B.syncRowHeights();E.view.body.translate(null,E.bodyTop=L);if(x===1){E.refreshSize()}}if(!J){return}y.grid.ensureVisible(F,K);B.scrollTop=B.position=B.scroller.getPosition().y;if(E){E.position=E.scrollTop=B.scrollTop}}})},onViewItemMouseDown:function(){var c=this;Ext.getDoc().on({mouseup:c.onDocumentMouseUp,scope:c,single:true});c.preservePointerEvents=true},onDocumentMouseUp:function(){this.preservePointerEvents=false},onViewScroll:function(v,q,r){var s=this,w=s.view.body.dom,p=s.store,o=(p.getCount()),u,x,y=s.scrollTop=s.scroller.getPosition().y;if(w){if(s.needsPointerEventsFix&&!s.preservePointerEvents){w.style.pointerEvents="none"}if(!(s.disabled||o<s.viewSize)){u=y-s.position;x=u>0?1:-1;if(Math.abs(u)>=20||(x!==s.lastScrollDirection)){s.lastScrollDirection=x;s.handleViewScroll(s.lastScrollDirection,u)}}}},onViewScrollEnd:function(){var f=this,d=f.view.body.dom;if(d){if(f.needsPointerEventsFix){d.style.pointerEvents="";f.preservePointerEvents=false}}},handleViewScroll:function(u,A){var w=this,p=w.view.all,r=w.store,x=r.getCount(),v=w.viewSize,y=x-1,s=Math.max(0,x-v),B,q;if(u===-1){if(p.startIndex){if(w.topOfViewCloseToEdge()){B=Math.max(0,w.getLastVisibleRowIndex()+w.trailingBufferZone-v);if(B>p.startIndex){B=p.startIndex+Math.floor(A/w.rowHeight)}}}}else{if(p.endIndex<y){if(w.bottomOfViewCloseToEdge()){B=Math.max(0,Math.min(w.getFirstVisibleRowIndex()-w.trailingBufferZone,s))}}}if(B==null){w.position=w.scrollTop;w.loadId++}else{q=Math.min(B+v-1,y);if(w.variableRowHeight&&q===p.endIndex&&q<y){q++;B++}if(B!==p.startIndex||q!==p.endIndex){w.renderRange(B,q);return true}}},bottomOfViewCloseToEdge:function(){var c=this;if(c.variableRowHeight){return c.bodyTop+c.bodyHeight<c.scrollTop+c.view.lastBox.height+(c.numFromEdge*c.rowHeight)}else{return(c.view.all.endIndex-c.getLastVisibleRowIndex())<c.numFromEdge}},topOfViewCloseToEdge:function(){var c=this;if(c.variableRowHeight){return c.bodyTop>c.scrollTop-(c.numFromEdge*c.rowHeight)}else{return(c.getFirstVisibleRowIndex()-c.view.all.startIndex)<c.numFromEdge}},refreshView:function(p){var u=this,s=u.viewSize,r=u.view,o=r.all,q=u.store,v=q.getCount(),y=Math.max(0,v-1),x=r.lockingPartner&&r.lockingPartner.all,w;if(!v){return u.doRefreshView([],0,0)}else{if(v<s){p=0;w=y}else{if(p==null&&!o.getCount()&&x&&x.getCount()){p=x.startIndex;w=Math.min(x.endIndex,p+s-1,y)}else{if(p==null){if(u.nextRefreshStartIndex!=null){p=u.nextRefreshStartIndex;u.nextRefreshStartIndex=null}else{p=o.startIndex}}p=Math.max(0,Math.min(p,y-s+1));w=Math.min(p+s-1,y);if(w-p+1>s){p=w-s+1}}}}if(p===0&&w===-1){u.doRefreshView([],0,0)}else{q.getRange(p,w,{callback:u.doRefreshView,scope:u})}},doRefreshView:function(D,J,M,L){var x=this,E=x.view,A=x.scroller,G=E.all,y=G.startIndex,K=G.endIndex,I,P,O=G.getCount(),F,H=J!==G.startIndex,B,C,N;E.refreshing=x.refreshing=true;if(E.refreshCounter){if(E.hasListeners.beforerefresh&&E.fireEvent("beforerefresh",E)===false){return E.refreshNeeded=E.refreshing=x.refreshing=false}N=E.saveFocusState();E.clearViewEl(true);E.refreshCounter++;if(D.length){F=E.doAdd(D,J);if(H){I=G.item(y,true);P=G.item(K,true);if(I){C=-I.offsetTop}else{if(P){C=G.last(true).offsetTop-P.offsetTop}}if(C){B=Math.max(x.bodyTop+C,0);x.scrollTop=B?x.scrollTop+C:0}else{B=J*x.rowHeight;x.scrollTop=Math.max(B+x.rowHeight*(B<x.bodyTop?x.leadingBufferZone:x.trailingBufferZone),0)}}}else{if(x.scrollTop){B=x.scrollTop=0}E.addEmptyText()}if(H){x.setBodyTop(B);A.suspendEvent("scroll");A.scrollTo(null,x.position=x.scrollTop);A.resumeEvent("scroll")}x.refreshSize();E.refreshSize(G.getCount()!==O);E.fireItemMutationEvent("refresh",E,D);N();E.headerCt.setSortState()}else{E.refresh()}E.refreshNeeded=E.refreshing=x.refreshing=false},renderRange:function(m,l,n,q){var p=this,o=p.view.all,r=p.store;if(!(m===o.startIndex&&l===o.endIndex)){if(r.rangeCached(m,l)){p.cancelLoad();if(p.synchronousRender||n){p.onRangeFetched(null,m,l,null,q)}else{if(!p.renderTask){p.renderTask=new Ext.util.DelayedTask(p.onRangeFetched,p,null,false)}p.renderTask.delay(1,null,null,[null,m,l,null,q])}}else{p.attemptLoad(m,l,p.scrollTop)}}},onRangeFetched:function(P,ae,ag,ah,L){var K=this,R=K.view,W=K.scroller,ab=R.el,T=R.all,N=0,X,Y=(R.lockingPartner&&!L&&!K.doNotMirror)&&R.lockingPartner.bufferedRenderer,J=K.variableRowHeight,ak=K.bodyHeight,U=R.componentLayoutCounter,af,M,aa,S,Z,V,O,ai,aj,ad,ac,Q,al;if(R.destroyed){return}if(P){if(!L){K.scrollTop=K.scroller.getPosition().y}}else{P=K.store.getRange(ae,ag);if(!P){return}}af=Ext.Element.getActiveElement(true);M=ab.contains(af);if(M){af.suspendFocusEvents()}X=ae*K.rowHeight;if(ae<T.startIndex&&ag>T.endIndex){Q=T.startIndex-ae;R.clearViewEl(true);S=R.doAdd(P,ae);R.fireItemMutationEvent("itemadd",P,ae,S,R);for(aa=0;aa<Q;aa++){N-=S[aa].offsetHeight}Z=K.bodyTop+N}else{O=K.teleported||ae>T.endIndex||ag<T.startIndex;if(O){R.clearViewEl(true);K.teleported=false}if(!T.getCount()){S=R.doAdd(P,ae);R.fireItemMutationEvent("itemadd",P,ae,S,R);Z=X;if(O&&J){al=K.scrollTop<K.position?K.leadingBufferZone:K.trailingBufferZone;Z=Math.max(K.scrollTop-T.item(T.startIndex+al-1,true).offsetTop,0)}}else{if(ag>T.endIndex){ac=Math.max(ae-T.startIndex,0);if(J){N=T.item(T.startIndex+ac,true).offsetTop}S=T.scroll(Ext.Array.slice(P,T.endIndex+1-ae),1,ac);if(J){Z=K.bodyTop+N}else{Z=X}}else{ac=Math.max(T.endIndex-ag,0);ai=T.startIndex;S=T.scroll(Ext.Array.slice(P,0,T.startIndex-ae),-1,ac);if(J){Z=K.bodyTop-T.item(ai,true).offsetTop;if(!T.startIndex){if(Z){W.scrollTo(null,K.position=(K.scrollTop-=Z));Z=0}}else{if(Z<0){N=T.startIndex*K.rowHeight;W.scrollTo(null,K.position=(K.scrollTop+=N));Z=K.bodyTop+N}}}else{Z=X}}}K.position=K.scrollTop}if(M){af.resumeFocusEvents();if(!ab.contains(af)){ad=R.actionableMode?R.actionPosition:R.lastFocused;if(ad&&ad.column){R.renderingRows=true;R.onFocusLeave({});R.renderingRows=false;if(ad.column.focusable){V=ad.column}else{V=ad.column.el.findTabbableElements()[0]}if(!V){V=R.el}V.focus()}}}Z=Math.max(Math.floor(Z),0);if(R.positionBody){K.setBodyTop(Z)}if(S&&Y&&!Y.disabled){Y.scrollTop=Y.position=K.scrollTop;if(Y.view.ownerCt.isVisible()){aj=Y.onRangeFetched(P,ae,ag,ah,true);if(R.ownerGrid.syncRowHeight||R.ownerGrid.syncRowHeightOnNextLayout||(Y.variableRowHeight!==J)){K.syncRowHeights(S,aj);R.ownerGrid.syncRowHeightOnNextLayout=false}}if(Y.bodyTop!==Z){Y.setBodyTop(Z)}Y.scroller.scrollTo(null,K.scrollTop)}if(K.variableRowHeight&&K.bodyHeight!==ak&&R.componentLayoutCounter===U){delete K.rowHeight;K.refreshSize()}return S},syncRowHeights:function(s,y){var q=this,r=0,o=1,p=[],x=[],v=Ext.grid.locking.RowSynchronizer,w,u;if(s&&y){r=s.length;o=y.length}if(r!==o){s=q.view.all.slice();y=q.view.lockingPartner.all.slice();r=o=s.length}for(w=0;w<r;w++){p[w]=u=new v(q.view,s[w]);u.measure()}for(w=0;w<o;w++){x[w]=u=new v(q.view.lockingPartner,y[w]);u.measure()}for(w=0;w<r;w++){p[w].finish(x[w]);x[w].finish(p[w])}q.syncRowHeightsFinish()},syncRowHeightsFinish:function(){var g=this,f=g.view,j=f.lockingPartner.bufferedRenderer;if(f.componentLayoutCounter){delete g.rowHeight;g.refreshSize();if(j.rowHeight!==g.rowHeight){delete j.rowHeight;j.refreshSize()}}g.bodyHeight=j.bodyHeight=f.body.dom.offsetHeight},setBodyTop:function(n){var m=this,p=m.view,l=p.all,o=m.store,k=p.body;if(!k.dom){return}m.translateBody(k,n);if(m.variableRowHeight){m.bodyHeight=k.dom.offsetHeight;if(l.endIndex===o.getCount()-1){m.scrollHeight=n+m.bodyHeight-1}else{m.scrollHeight=m.getScrollHeight()}m.stretchView(p,m.scrollHeight)}else{m.bodyHeight=l.getCount()*m.rowHeight}},translateBody:function(d,f){d.translate(null,this.bodyTop=f)},getFirstVisibleRowIndex:function(s,B,C,x){var w=this,v=w.view,q=v.all,D=q.elements,A=w.viewClientHeight,y,r,u=w.bodyTop;if(q.getCount()&&w.variableRowHeight){if(!arguments.length){s=q.startIndex;B=q.endIndex;C=w.scrollTop;x=C+A;if(u>x||u+w.bodyHeight<C){w.teleported=true;return Math.floor(w.scrollTop/w.rowHeight)}y=s+Math.min(w.numFromEdge+((w.lastScrollDirection===-1)?w.leadingBufferZone:w.trailingBufferZone),Math.floor((B-s)/2))}else{if(s===B){return B}y=s+Math.floor((B-s)/2)}r=u+D[y].offsetTop;if(r+D[y].offsetHeight<=C){return w.getFirstVisibleRowIndex(y+1,B,C,x)}if(r<=C){return y}else{if(y!==s){return w.getFirstVisibleRowIndex(s,y-1,C,x)}}}return Math.floor(w.scrollTop/w.rowHeight)},getLastVisibleRowIndex:function(u,D,E,A){var x=this,w=x.view,r=w.all,F=r.elements,C=x.viewClientHeight,B,s,y,v=x.bodyTop;if(r.getCount()&&x.variableRowHeight){if(!arguments.length){u=r.startIndex;D=r.endIndex;E=x.scrollTop;A=E+C;if(v>A||v+x.bodyHeight<E){x.teleported=true;return Math.floor(x.scrollTop/x.rowHeight)+Math.ceil(C/x.rowHeight)}B=D-Math.min(x.numFromEdge+((x.lastScrollDirection===1)?x.leadingBufferZone:x.trailingBufferZone),Math.floor((D-u)/2))}else{if(u===D){return D}B=u+Math.floor((D-u)/2)}s=v+F[B].offsetTop;if(s>A){return x.getLastVisibleRowIndex(u,B-1,E,A)}y=s+F[B].offsetHeight;if(y>=A){return B}else{if(B!==D){return x.getLastVisibleRowIndex(B+1,D,E,A)}}}return x.getFirstVisibleRowIndex()+Math.ceil(C/x.rowHeight)},getScrollHeight:function(){var w=this,u=w.view,p=u.all,s=w.store,o=s.getCount(),v=p.getCount(),q,x,y,r;if(!o){return 0}if(!w.hasOwnProperty("rowHeight")){if(v){if(w.variableRowHeight){w.rowHeight=Math.floor(w.bodyHeight/v)}else{q=p.first();x=q.getHeight();if(Ext.isIE8){y=q.getBorderWidth("b");if(y>0){x-=y}}w.rowHeight=x}}else{delete w.rowHeight}}if(w.variableRowHeight){if(p.endIndex===o-1){r=w.bodyTop+w.bodyHeight-1}else{r=Math.floor((o-v)*w.rowHeight)+w.bodyHeight;r+=w.bodyTop-p.startIndex*w.rowHeight}}else{r=Math.floor(o*w.rowHeight)}return(w.scrollHeight=r)},attemptLoad:function(j,g,k){var l=this;if(l.scrollToLoadBuffer){if(!l.loadTask){l.loadTask=new Ext.util.DelayedTask()}l.loadTask.delay(l.scrollToLoadBuffer,l.doAttemptLoad,l,[j,g,k])}else{l.doAttemptLoad(j,g,k)}},cancelLoad:function(){if(this.loadTask){this.loadTask.cancel()}},doAttemptLoad:function(j,g,k){var l=this;if(!l.destroyed){l.store.getRange(j,g,{loadId:++l.loadId,callback:function(d,b,f,c){if(c.loadId===l.loadId&&l.scrollTop===k){l.onRangeFetched(d,b,f,c)}},fireEvent:false})}},destroy:function(){var f=this,d=f.view;f.cancelLoad();if(d&&d.el){d.un("scroll",f.onViewScroll,f)}if(f.store){f.unbindStore()}Ext.destroy(f.viewListeners,f.stretcher,f.gridListeners,f.scrollListeners);Ext.plugin.Abstract.prototype.destroy.call(this)}},0,0,0,0,["plugin.bufferedrenderer"],0,[Ext.grid.plugin,"BufferedRenderer"],0));(Ext.cmd.derive("Ext.util.Queue",Ext.Base,{constructor:function(){this.clear()},add:function(k,n){var m=this,j=m.getKey(k),l;if(!(l=m.map[j])){++m.length;m.items.push(k);m.map[j]=k}else{if(n){m.map[j]=k;m.items[Ext.Array.indexOf(m.items,l)]=k}}return k},clear:function(){var f=this,d=f.items;f.items=[];f.map={};f.length=0;return d},contains:function(f){var d=this.getKey(f);return this.map.hasOwnProperty(d)},getCount:function(){return this.length},getKey:function(c){return c.id},remove:function(k){var l=this,m=l.getKey(k),j=l.items,n;if(l.map[m]){n=Ext.Array.indexOf(j,k);Ext.Array.erase(j,n,1);delete l.map[m];--l.length}return k}},1,0,0,0,0,0,[Ext.util,"Queue"],0));(Ext.cmd.derive("Ext.layout.ContextItem",Ext.Base,{heightModel:null,widthModel:null,sizeModel:null,optOut:false,ownerSizePolicy:null,boxChildren:null,boxParent:null,children:[],dirty:null,dirtyCount:0,hasRawContent:true,isContextItem:true,isTopLevel:false,consumersContentHeight:0,consumersContentWidth:0,consumersContainerHeight:0,consumersContainerWidth:0,consumersHeight:0,consumersWidth:0,ownerCtContext:null,remainingChildDimensions:0,props:null,state:null,wrapsComponent:false,constructor:function(B){var A=this,D=Ext.layout.SizeModel.sizeModels,I=D.configured,J=D.shrinkWrap,Q,C,F,G,M,O,y,N,E,H,P,K,L,R;Ext.apply(A,B);y=A.target;Q=A.el;A.id=y.id;A.flushedProps={};A.props=M={};A.styles={};if(!y.isComponent){C=Q.lastBox}else{A.wrapsComponent=true;A.framing=y.frameSize||null;A.isComponentChild=y.ownerLayout&&y.ownerLayout.isComponentLayout;C=y.lastBox;F=y.ownerCt;if(F&&(G=F.el&&A.context.items[F.el.id])){A.ownerCtContext=G}A.sizeModel=O=y.getSizeModel(G&&G.widthModel.pairsByHeightOrdinal[G.heightModel.ordinal]);A.widthModel=K=O.width;A.heightModel=L=O.height;if(C&&C.invalid===false){H=(y.width===(N=C.width));P=(y.height===(E=C.height));if(K===J&&L===J){R=true}else{if(K===I&&H){R=L===J||(L===I&&P)}}if(R){A.optOut=true;M.width=N;M.height=E}}}A.lastBox=C},init:function(M,R){var C=this,T=C.props,Q=C.dirty,K=C.ownerCtContext,G=C.target.ownerLayout,N=!C.state,B=M||N,P,H,J,F,S,n,I=C.heightModel,O=C.widthModel,L,E,D=0;C.dirty=C.invalid=false;C.props={};C.remainingChildDimensions=0;if(C.boxChildren){C.boxChildren.length=0}if(!N){C.clearAllBlocks("blocks");C.clearAllBlocks("domBlocks")}if(!C.wrapsComponent){return B}n=C.target;C.state={};if(N){if(n.beforeLayout&&n.beforeLayout!==Ext.emptyFn){n.beforeLayout()}if(!K&&(F=n.ownerCt)){K=C.context.items[F.el.id]}if(K){C.ownerCtContext=K;C.isBoxParent=G&&G.isItemBoxParent(C)}else{C.isTopLevel=true}C.frameBodyContext=C.getEl("frameBody")}else{K=C.ownerCtContext;C.isTopLevel=!K;P=C.children;for(H=0,J=P.length;H<J;++H){P[H].init(true)}}C.hasRawContent=!(n.isContainer&&n.items.items.length>0);if(M){C.widthModel=C.heightModel=null;S=n.getSizeModel(K&&K.widthModel.pairsByHeightOrdinal[K.heightModel.ordinal]);if(N){C.sizeModel=S}C.widthModel=S.width;C.heightModel=S.height;if(K&&!C.isComponentChild){if(G.needsItemSize||!n.liquidLayout){K.remainingChildDimensions+=2}else{if(C.widthModel.calculated){++K.remainingChildDimensions}if(C.heightModel.calculated){++K.remainingChildDimensions}}}}else{if(T){C.recoverProp("x",T,Q);C.recoverProp("y",T,Q);if(C.widthModel.calculated){C.recoverProp("width",T,Q)}else{if("width" in T){++D}}if(C.heightModel.calculated){C.recoverProp("height",T,Q)}else{if("height" in T){++D}}if(K&&!C.isComponentChild){K.remainingChildDimensions+=D}}}if(T&&G&&G.manageMargins){C.recoverProp("margin-top",T,Q);C.recoverProp("margin-right",T,Q);C.recoverProp("margin-bottom",T,Q);C.recoverProp("margin-left",T,Q)}if(R){L=R.heightModel;E=R.widthModel;if(E&&L&&O&&I){if(O.shrinkWrap&&I.shrinkWrap){if(E.constrainedMax&&L.constrainedMin){L=null}}}if(E){C.widthModel=E}if(L){C.heightModel=L}if(R.state){Ext.apply(C.state,R.state)}}return B},initContinue:function(o){var m=this,p=m.ownerCtContext,l=m.target,q=m.widthModel,n=l.getInherited(),r;if(q.fixed){n.inShrinkWrapTable=false}else{delete n.inShrinkWrapTable}if(o){if(p&&q.shrinkWrap){r=p.isBoxParent?p:p.boxParent;if(r){r.addBoxChild(m)}}else{if(q.natural){m.boxParent=p}}}return o},initDone:function(j){var l=this,g=l.props,k=l.state;if(l.remainingChildDimensions===0){g.containerChildrenSizeDone=true}if(j){g.containerLayoutDone=true}if(l.boxChildren&&l.boxChildren.length&&l.widthModel.shrinkWrap){l.el.setWidth(10000);k.blocks=(k.blocks||0)+1}},initAnimation:function(){var j=this,g=j.target,f=j.ownerCtContext;if(f&&f.isTopLevel){j.animatePolicy=g.ownerLayout.getAnimatePolicy(j)}else{if(!f&&g.isCollapsingOrExpanding&&g.animCollapse){j.animatePolicy=g.componentLayout.getAnimatePolicy(j)}}if(j.animatePolicy){j.context.queueAnimation(j)}},addBlock:function(p,n,m){var o=this,l=o[p]||(o[p]={}),k=l[m]||(l[m]={});if(!k[n.id]){k[n.id]=n;++n.blockCount;++o.context.blockCount}},addBoxChild:function(j){var k=this,l,g=j.widthModel;j.boxParent=this;j.measuresBox=g.shrinkWrap?j.hasRawContent:g.natural;if(j.measuresBox){l=k.boxChildren;if(l){l.push(j)}else{k.boxChildren=[j]}}},addPositionStyles:function(l,n){var j=n.x,k=n.y,m=0;if(j!==undefined){l.left=j+"px";++m}if(k!==undefined){l.top=k+"px";++m}return m},addTrigger:function(p,o){var q=this,m=o?"domTriggers":"triggers",n=q[m]||(q[m]={}),u=q.context,r=u.currentLayout,s=n[p]||(n[p]={});if(!s[r.id]){s[r.id]=r;++r.triggerCount;s=u.triggers[o?"dom":"data"];(s[r.id]||(s[r.id]=[])).push({item:this,prop:p});if(q.props[p]!==undefined){if(!o||!(q.dirty&&(p in q.dirty))){++r.firedTriggers}}}},boxChildMeasured:function(){var j=this,g=j.state,f=(g.boxesMeasured=(g.boxesMeasured||0)+1);if(f===j.boxChildren.length){g.clearBoxWidth=1;++j.context.progressCount;j.markDirty()}},borderNames:["border-top-width","border-right-width","border-bottom-width","border-left-width"],marginNames:["margin-top","margin-right","margin-bottom","margin-left"],paddingNames:["padding-top","padding-right","padding-bottom","padding-left"],trblNames:["top","right","bottom","left"],cacheMissHandlers:{borderInfo:function(d){var f=d.getStyles(d.borderNames,d.trblNames);f.width=f.left+f.right;f.height=f.top+f.bottom;return f},marginInfo:function(d){var f=d.getStyles(d.marginNames,d.trblNames);f.width=f.left+f.right;f.height=f.top+f.bottom;return f},paddingInfo:function(j){var f=j.frameBodyContext||j,g=f.getStyles(j.paddingNames,j.trblNames);g.width=g.left+g.right;g.height=g.top+g.bottom;return g}},checkCache:function(c){return this.cacheMissHandlers[c](this)},clearAllBlocks:function(f){var g=this[f],j;if(g){for(j in g){this.clearBlocks(f,j)}}},clearBlocks:function(q,n){var m=this[q],r=m&&m[n],p,o,l;if(r){delete m[n];p=this.context;for(l in r){o=r[l];--p.blockCount;if(!--o.blockCount&&!o.pending&&!o.done){p.queueLayout(o)}}}},block:function(d,f){this.addBlock("blocks",d,f)},domBlock:function(d,f){this.addBlock("domBlocks",d,f)},fireTriggers:function(r,n){var m=this[r],p=m&&m[n],q=this.context,o,l;if(p){for(l in p){o=p[l];++o.firedTriggers;if(!o.done&&!o.blockCount&&!o.pending){q.queueLayout(o)}}}},flush:function(){var l=this,g=l.dirty,k=l.state,j=l.el;l.dirtyCount=0;if("attributes" in l){j.set(l.attributes);delete l.attributes}if("innerHTML" in l){j.innerHTML=l.innerHTML;delete l.innerHTML}if(k&&k.clearBoxWidth){k.clearBoxWidth=0;l.el.setStyle("width",null);if(!--k.blocks){l.context.queueItemLayouts(l)}}if(g){delete l.dirty;l.writeProps(g,true)}},flushAnimations:function(){var j=this,D=j.previousSize,v,s,B,y,A,C,x,u,w,F,E;if(D){v=j.target;s=v.getAnimationProps();B=s.duration;y=Ext.Object.getKeys(j.animatePolicy);A=Ext.apply({},{from:{},to:{},duration:B||Ext.fx.Anim.prototype.duration},s);for(C=0,x=0,u=y.length;x<u;x++){w=y[x];F=D[w];E=j.peek(w);if(F!==E&&E!=null){w=j.translateProps[w]||w;A.from[w]=F;A.to[w]=E;++C}}if(C){if(j.isCollapsingOrExpanding===1){v.componentLayout.undoLayout(j)}else{j.writeProps(A.from)}j.el.animate(A);A=Ext.fx.Manager.getFxQueue(j.el.id)[0];v.$layoutAnim=A;A.on({afteranimate:function(){delete v.$layoutAnim;if(v.destroying||v.destroyed){return}if(j.isCollapsingOrExpanding===1){v.componentLayout.redoLayout(j);v.afterCollapse(true)}else{if(j.isCollapsingOrExpanding===2){v.afterExpand(true)}}if(v.hasListeners.afterlayoutanimation){v.fireEvent("afterlayoutanimation",v)}}})}else{if(j.isCollapsingOrExpanding===2){v.afterExpand(true)}}}},getBorderInfo:function(){var d=this,f=d.borderInfo;if(!f){d.borderInfo=f=d.checkCache("borderInfo")}return f},getEl:function(o,k){var m=this,l,n,p;if(o){if(o.dom){n=o}else{l=m.target;if(k){l=k}n=l[o];if(typeof n==="function"){n=n.call(l);if(n===m.el){return this}}}if(n){p=m.context.getEl(m,n)}}return p||null},getFrameInfo:function(){var k=this,j=k.frameInfo,l,g;if(!j){l=k.framing;g=k.getBorderInfo();k.frameInfo=j=l?{top:l.top+g.top,right:l.right+g.right,bottom:l.bottom+g.bottom,left:l.left+g.left,width:l.width+g.width,height:l.height+g.height}:g}return j},getMarginInfo:function(){var n=this,l=n.marginInfo,p,k,m,o;if(!l){if(!n.wrapsComponent){l=n.checkCache("marginInfo")}else{p=n.target;m=p.ownerLayout;o=m?m.id:null;k=m&&m.manageMargins;l=p.margin$;if(l&&l.ownerId!==o){l=null}if(!l){l=n.parseMargins(p,p.margin)||n.checkCache("marginInfo");if(k){n.setProp("margin-top",0);n.setProp("margin-right",0);n.setProp("margin-bottom",0);n.setProp("margin-left",0)}l.ownerId=o;p.margin$=l}l.width=l.left+l.right;l.height=l.top+l.bottom}n.marginInfo=l}return l},clearMarginCache:function(){delete this.marginInfo;delete this.target.margin$},getPaddingInfo:function(){var d=this,f=d.paddingInfo;if(!f){d.paddingInfo=f=d.checkCache("paddingInfo")}return f},getProp:function(g){var j=this,f=j.props[g];j.addTrigger(g);return f},getDomProp:function(g){var j=this,f=(j.dirty&&(g in j.dirty))?undefined:j.props[g];j.addTrigger(g,true);return f},getStyle:function(j){var m=this,n=m.styles,k,l;if(j in n){l=n[j]}else{k=m.styleInfo[j];l=m.el.getStyle(j);if(k&&k.parseInt){l=parseInt(l,10)||0}n[j]=l}return l},getStyles:function(n,G){var w=this,D=w.styles,J={},C=0,E=n.length,y,A,x,H,F,B,I,v;G=G||n;for(y=0;y<E;++y){H=n[y];if(H in D){J[G[y]]=D[H];++C;if(y&&C===1){A=n.slice(0,y);x=G.slice(0,y)}}else{if(C){(A||(A=[])).push(H);(x||(x=[])).push(G[y])}}}if(C<E){A=A||n;x=x||G;B=w.styleInfo;I=w.el.getStyle(A);for(y=A.length;y--;){H=A[y];F=B[H];v=I[H];if(F&&F.parseInt){v=parseInt(v,10)||0}J[x[y]]=v;D[H]=v}}return J},hasProp:function(c){return this.getProp(c)!=null},hasDomProp:function(c){return this.getDomProp(c)!=null},invalidate:function(c){this.context.queueInvalidate(this,c)},markDirty:function(){if(++this.dirtyCount===1){this.context.queueFlush(this)}},onBoxMeasured:function(){var d=this.boxParent,f=this.state;if(d&&d.widthModel.shrinkWrap&&!f.boxMeasured&&this.measuresBox){f.boxMeasured=1;d.boxChildMeasured()}},parseMargins:function(g,j){if(j===true){j=5}var k=typeof j,l;if(k==="string"||k==="number"){l=g.parseBox(j)}else{if(j){l={top:0,right:0,bottom:0,left:0};if(j){j=Ext.apply(l,g.parseBox(j))}}}return l},peek:function(c){return this.props[c]},recalculateSizeModel:function(){var m=this,l=m.target,o=l.componentLayout,p=m.ownerCtContext,k=o.ownerContext,n;o.ownerContext=null;m.sizeModel=n=l.getSizeModel(p&&p.widthModel.pairsByHeightOrdinal[p.heightModel.ordinal]);m.widthModel=n.width;m.heightModel=n.height;if(k){o.ownerContext=m}},recoverProp:function(l,p,k){var m=this,n=m.props,o;if(l in p){n[l]=p[l];if(k&&l in k){o=m.dirty||(m.dirty={});o[l]=k[l]}}},redo:function(n){var k=this,m,j,l;k.revertProps(k.props);if(n&&k.wrapsComponent){if(k.childItems){for(l=0,m=k.childItems,j=m.length;l<j;l++){m[l].redo(n)}}for(l=0,m=k.children,j=m.length;l<j;l++){m[l].redo()}}},removeEl:function(n,j){var l=this,k,m;if(n){if(n.dom){m=n}else{k=l.target;if(j){k=j}m=k[n];if(typeof m==="function"){m=m.call(k);if(m===l.el){return this}}}if(m){l.context.removeEl(m,l)}}},revertProps:function(j){var g,l=this.flushedProps,k={};for(g in j){if(l.hasOwnProperty(g)){k[g]=j[g]}}this.writeProps(k)},setAttribute:function(f,g){var j=this;if(!j.attributes){j.attributes={}}j.attributes[f]=g;j.markDirty()},setBox:function(f){var d=this;if("left" in f){d.setProp("x",f.left)}if("top" in f){d.setProp("y",f.top)}d.setSize(f.width,f.height)},setContentHeight:function(d,f){if(!f&&this.hasRawContent){return 1}return this.setProp("contentHeight",d)},setContentWidth:function(f,d){if(!d&&this.hasRawContent){return 1}return this.setProp("contentWidth",f)},setContentSize:function(g,f,j){return this.setContentWidth(g,j)+this.setContentHeight(f,j)===2},setProp:function(n,o,k){var p=this,l=typeof o,m;if(l==="undefined"||(l==="number"&&isNaN(o))){return 0}if(p.props[n]===o){return 1}p.props[n]=o;++p.context.progressCount;if(k===false){p.fireTriggers("domTriggers",n);p.clearBlocks("domBlocks",n)}else{m=p.styleInfo[n];if(m){if(!p.dirty){p.dirty={}}p.dirty[n]=o;p.markDirty()}}p.fireTriggers("triggers",n);p.clearBlocks("blocks",n);return 1},setHeight:function(o,y){var s=this,v=s.target,w=s.ownerCtContext,r,u,x,p,q;if(o<0){o=0}if(!s.wrapsComponent){if(!s.setProp("height",o,y)){return NaN}}else{x=s.collapsedVert?0:(v.minHeight||0);o=Ext.Number.constrain(o,x,v.maxHeight);p=s.props.height;if(!s.setProp("height",o,y)){return NaN}if(w&&!s.isComponentChild&&isNaN(p)){q=--w.remainingChildDimensions;if(!q){w.setProp("containerChildrenSizeDone",true)}}r=s.frameBodyContext;if(r){u=s.getFrameInfo();r[s.el.vertical?"setWidth":"setHeight"](o-u.height,y)}}return o},setWidth:function(x,y){var q=this,s=q.target,u=q.ownerCtContext,p,r,v,w,o;if(x<0){x=0}if(!q.wrapsComponent){if(!q.setProp("width",x,y)){return NaN}}else{v=q.collapsedHorz?0:(s.minWidth||0);x=Ext.Number.constrain(x,v,s.maxWidth);w=q.props.width;if(!q.setProp("width",x,y)){return NaN}if(u&&!q.isComponentChild&&isNaN(w)){o=--u.remainingChildDimensions;if(!o){u.setProp("containerChildrenSizeDone",true)}}p=q.frameBodyContext;if(p){r=q.getFrameInfo();p.setWidth(x-r.width,y)}}return x},setSize:function(g,f,j){this.setWidth(g,j);this.setHeight(f,j)},translateProps:{x:"left",y:"top"},undo:function(n){var k=this,m,j,l;k.revertProps(k.lastBox);if(n&&k.wrapsComponent){if(k.childItems){for(l=0,m=k.childItems,j=m.length;l<j;l++){m[l].undo(n)}}for(l=0,m=k.children,j=m.length;l<j;l++){m[l].undo()}}},unsetProp:function(f){var d=this.dirty;delete this.props[f];if(d){delete d[f]}},writeProps:function(P,Q){if(!(P&&typeof P==="object")){return}var B=this,R=B.el,M={},O=0,S=B.styleInfo,C,L,I,G=P.width,K=P.height,A=B.target,N,T,H,F,E,J,D;if("displayed" in P){R.setDisplayed(P.displayed)}for(L in P){if(Q){B.fireTriggers("domTriggers",L);B.clearBlocks("domBlocks",L);B.flushedProps[L]=1}C=S[L];if(C&&C.dom){if(C.suffix&&(I=parseInt(P[L],10))){M[L]=I+C.suffix}else{M[L]=P[L]}++O}}if("x" in P||"y" in P){if(A.isComponent){A.setPosition(P.x,P.y)}else{O+=B.addPositionStyles(M,P)}}if("overflowX" in P){D=A.getScrollable();if(D){D.setX(P.overflowX)}}if("overflowY" in P){if(D||(D=A.getScrollable())){D.setY(P.overflowY)}}if(B.wrapsComponent&&Ext.isIE9){if((N=G!==undefined&&B.hasOverflowY)||(T=K!==undefined&&B.hasOverflowX)){H=B.isAbsolute;if(H===undefined){H=false;J=B.target.getTargetEl();E=J.getStyle("position");B.isAbsolute=H=(E==="absolute")}if(H){F=Ext.getScrollbarSize();if(N){G=parseInt(G,10)+F.width;M.width=G+"px";++O}if(T){K=parseInt(K,10)+F.height;M.height=K+"px";++O}}}}if(O){R.setStyle(M)}}},1,0,0,0,0,0,[Ext.layout,"ContextItem"],function(){var g={dom:true,parseInt:true,suffix:"px"},j={dom:true},f={dom:false};this.prototype.styleInfo={containerChildrenSizeDone:f,containerLayoutDone:f,displayed:f,done:f,x:f,y:f,columnsChanged:f,rowHeights:f,viewOverflowY:f,overflowX:f,overflowY:f,left:g,top:g,right:g,bottom:g,width:g,height:g,"border-top-width":g,"border-right-width":g,"border-bottom-width":g,"border-left-width":g,"margin-top":g,"margin-right":g,"margin-bottom":g,"margin-left":g,"padding-top":g,"padding-right":g,"padding-bottom":g,"padding-left":g,"line-height":j,display:j,clear:j}}));(Ext.cmd.derive("Ext.layout.Context",Ext.Base,{remainingLayouts:0,state:0,cycleWatchDog:200,constructor:function(d){var f=this;Ext.apply(f,d);f.items={};f.layouts={};f.blockCount=0;f.cycleCount=0;f.flushCount=0;f.calcCount=0;f.animateQueue=f.newQueue();f.completionQueue=f.newQueue();f.finalizeQueue=f.newQueue();f.finishQueue=f.newQueue();f.flushQueue=f.newQueue();f.invalidateData={};f.layoutQueue=f.newQueue();f.invalidQueue=[];f.triggers={data:{},dom:{}}},callLayout:function(f,d){this.currentLayout=f;f[d](this.getCmp(f.owner))},cancelComponent:function(C,J,A){var k=this,D=C,B=!C.isComponent,I=B?D.length:1,G,H,x,y,E,L,N,M,K,F;for(G=0;G<I;++G){if(B){C=D[G]}if(A){if(C.ownerCt){F=this.items[C.ownerCt.el.id];if(F){Ext.Array.remove(F.childItems,k.getCmp(C))}}else{if(C.rendered){k.removeEl(C.el)}}}if(!J){N=k.invalidQueue;x=N.length;if(x){k.invalidQueue=L=[];for(H=0;H<x;++H){M=N[H];K=M.item.target;if(K!==C&&!K.up(C)){L.push(M)}}}}E=C.componentLayout;k.cancelLayout(E);if(!C.destroying){if(E.getLayoutItems){y=E.getLayoutItems();if(y.length){k.cancelComponent(y,true)}}if(C.isContainer&&!C.collapsed){E=C.layout;k.cancelLayout(E);y=E.getVisibleItems();if(y.length){k.cancelComponent(y,true)}}}}},cancelLayout:function(f){var d=this;d.completionQueue.remove(f);d.finalizeQueue.remove(f);d.finishQueue.remove(f);d.layoutQueue.remove(f);if(f.running){d.layoutDone(f)}f.ownerContext=null},clearTriggers:function(q,p){var w=q.id,r=this.triggers[p?"dom":"data"],o=r&&r[w],v=(o&&o.length)||0,s,n,u;for(s=0;s<v;++s){u=o[s];n=u.item;r=p?n.domTriggers:n.triggers;delete r[u.prop][w]}},flush:function(){var j=this,g=j.flushQueue.clear(),k=g.length,l;if(k){++j.flushCount;for(l=0;l<k;++l){g[l].flush()}}},flushAnimations:function(){var j=this,l=j.animateQueue.clear(),g=l.length,k;if(g){for(k=0;k<g;k++){if(l[k].target.animate!==false){l[k].flushAnimations()}}Ext.fx.Manager.runner()}},flushInvalidates:function(){var m=this,l=m.invalidQueue,n=l&&l.length,r,o,p,q;m.invalidQueue=[];if(n){o=[];for(q=0;q<n;++q){r=(p=l[q]).item.target;if(!r.container.isDetachedBody){o.push(r);if(p.options){m.invalidateData[r.id]=p.options}}}m.invalidate(o,null)}},flushLayouts:function(o,m,s){var p=this,n=s?p[o].items:p[o].clear(),q=n.length,u,r;if(q){for(u=0;u<q;++u){r=n[u];if(!r.running){p.callLayout(r,m)}}p.currentLayout=null}},getCmp:function(c){return this.getItem(c,c.el)},getEl:function(j,f){var g=this.getItem(f,f);if(!g.parent){g.parent=j;if(j.children.length){j.children.push(g)}else{j.children=[g]}}return g},getItem:function(l,n){var k=n.id,j=this.items,m=j[k]||(j[k]=new Ext.layout.ContextItem({context:this,target:l,el:n}));return m},handleFailure:function(){var g=this.layouts,j,f;Ext.failedLayouts=(Ext.failedLayouts||0)+1;for(f in g){j=g[f];if(g.hasOwnProperty(f)){j.running=false;j.ownerContext=null}}},invalidate:function(B,y){var w=this,A=!B.isComponent,I,N,K,F,C,M,x,J,E,D,G,H,L;for(F=0,J=A?B.length:1;F<J;++F){C=A?B[F]:B;if(C.rendered&&!C.hidden){N=C.ownerLayout;E=C.componentLayout;L=false;if((!N||!N.needsItemSize)&&C.liquidLayout){L=true}if(!L||(N&&N.setsItemSize)){M=w.getCmp(C);K=!M.state;D=(C.isContainer&&!C.collapsed)?C.layout:null;G=w.invalidateData[M.id];delete w.invalidateData[M.id];H=M.init(y,G)}if(L){continue}if(G){w.processInvalidate(G,M,"before")}if(E.beforeLayoutCycle){E.beforeLayoutCycle(M)}if(D&&D.beforeLayoutCycle){D.beforeLayoutCycle(M)}H=M.initContinue(H);I=true;if(E.getLayoutItems){E.renderChildren();x=E.getLayoutItems();if(x.length){w.invalidate(x,true)}}if(D){I=false;D.renderChildren();if(D.needsItemSize||D.activeItemCount){x=D.getVisibleItems();if(x.length){w.invalidate(x,true)}}}M.initDone(I);w.resetLayout(E,M,K);if(D){w.resetLayout(D,M,K)}M.initAnimation();if(G){w.processInvalidate(G,M,"after")}}}w.currentLayout=null},isDescendant:function(c,j){if(c.isContainer){for(var g=j.ownerCt;g;g=g.ownerCt){if(g===c){return true}}}return false},layoutDone:function(d){var f=d.ownerContext;d.running=false;if(d.isComponentLayout){if(f.measuresBox){f.onBoxMeasured()}f.setProp("done",true)}else{f.setProp("containerLayoutDone",true)}--this.remainingLayouts;++this.progressCount},newQueue:function(){return new Ext.util.Queue()},processInvalidate:function(n,k,j){if(n[j]){var l=this,m=l.currentLayout;l.currentLayout=n.layout||null;n[j](k,n);l.currentLayout=m}},queueAnimation:function(c){this.animateQueue.add(c)},queueCompletion:function(c){this.completionQueue.add(c)},queueFinalize:function(c){this.finalizeQueue.add(c)},queueFlush:function(f,d){this.flushQueue.add(f,d)},chainFns:function(m,n,p){var r=this,s=m.layout,q=n.layout,u=m[p],o=n[p];return function(b){var c=r.currentLayout;if(u){r.currentLayout=s;u.call(m.scope||m,b,m)}r.currentLayout=q;o.call(n.scope||n,b,n);r.currentLayout=c}},purgeInvalidates:function(){var u=this,q=[],s=u.invalidQueue,w=s.length,r,p,x,y,A,v,B;for(r=0;r<w;++r){A=s[r];v=A.item.target;B=true;for(p=q.length;p--;){x=q[p];y=x.item.target;if(v.isLayoutChild(y)){B=false;break}if(y.isLayoutChild(v)){Ext.Array.erase(q,p,1)}}if(B){q.push(A)}}u.invalidQueue=q},queueInvalidate:function(q,p){var u=this,r=[],s=u.invalidQueue,v=s.length,x,A,w,B,y;if(q.isComponent){x=q;q=u.items[x.el.id];if(q){q.recalculateSizeModel()}else{q=u.getCmp(x)}}else{x=q.target}q.invalid=true;while(v--){A=s[v];w=A.item.target;if(!x.isFloating&&x.up(w)){return}if(w===x){if(!(B=A.options)){A.options=p}else{if(p){if(p.widthModel){B.widthModel=p.widthModel}if(p.heightModel){B.heightModel=p.heightModel}if(!(y=B.state)){B.state=p.state}else{if(p.state){Ext.apply(y,p.state)}}if(p.before){B.before=u.chainFns(B,p,"before")}if(p.after){B.after=u.chainFns(B,p,"after")}}}return}if(!w.isLayoutChild(x)){r.push(A)}}r.push({item:q,options:p});u.invalidQueue=r},queueItemLayouts:function(g){var f=g.isComponent?g:g.target,j=f.componentLayout;if(!j.pending&&!j.invalid&&!j.done){this.queueLayout(j)}j=f.layout;if(j&&!j.pending&&!j.invalid&&!j.done&&!f.collapsed){this.queueLayout(j)}},queueLayout:function(c){this.layoutQueue.add(c);c.pending=true},removeEl:function(l,m){var k=l.id,n=m?m.children:null,j=this.items;if(n){Ext.Array.remove(n,j[k])}delete j[k]},resetLayout:function(l,k,j){var g=this;g.currentLayout=l;l.done=false;l.pending=true;l.firedTriggers=0;g.layoutQueue.add(l);if(j){g.layouts[l.id]=l;l.running=true;if(l.finishedLayout){g.finishQueue.add(l)}++g.remainingLayouts;++l.layoutCount;l.ownerContext=k;l.beginCount=0;l.blockCount=0;l.calcCount=0;l.triggerCount=0;if(!l.initialized){l.initLayout()}l.beginLayout(k)}else{++l.beginCount;if(!l.running){++g.remainingLayouts;l.running=true;l.ownerContext=k;if(l.isComponentLayout){k.unsetProp("done")}g.completionQueue.remove(l);g.finalizeQueue.remove(l)}}l.beginLayoutCycle(k,j)},run:function(){var g=this,j=false,f=g.cycleWatchDog;g.purgeInvalidates();g.flushInvalidates();g.state=1;g.totalCount=g.layoutQueue.getCount();g.flush();while((g.remainingLayouts||g.invalidQueue.length)&&f--){if(g.invalidQueue.length){g.flushInvalidates()}if(g.runCycle()){j=false}else{if(!j){g.flush();j=true;g.flushLayouts("completionQueue","completeLayout")}else{if(!g.invalidQueue.length){g.state=2;break}}}if(!(g.remainingLayouts||g.invalidQueue.length)){g.flush();g.flushLayouts("completionQueue","completeLayout");g.flushLayouts("finalizeQueue","finalizeLayout")}}return g.runComplete()},runComplete:function(){var c=this;c.state=2;if(c.remainingLayouts){c.handleFailure();return false}c.flush();c.flushLayouts("finishQueue","finishedLayout",true);c.flushLayouts("finishQueue","notifyOwner");c.flush();c.flushAnimations();return true},runCycle:function(){var k=this,j=k.layoutQueue.clear(),l=j.length,g;++k.cycleCount;k.progressCount=0;for(g=0;g<l;++g){k.runLayout(k.currentLayout=j[g])}k.currentLayout=null;return k.progressCount>0},runLayout:function(j){var f=this,g=f.getCmp(j.owner);j.pending=false;if(g.state.blocks){return}j.done=true;++j.calcCount;++f.calcCount;j.calculate(g);if(j.done){f.layoutDone(j);if(j.completeLayout){f.queueCompletion(j)}if(j.finalizeLayout){f.queueFinalize(j)}}else{if(!j.pending&&!j.invalid&&!(j.blockCount+j.triggerCount-j.firedTriggers)){f.queueLayout(j)}}},setItemSize:function(m,n,r){var p=m,l=1,q,o;if(m.isComposite){p=m.elements;l=p.length;m=p[0]}else{if(!m.dom&&!m.el){l=p.length;m=p[0]}}for(o=0;o<l;){q=this.get(m);q.setSize(n,r);m=p[++o]}}},1,0,0,0,0,0,[Ext.layout,"Context"],0));(Ext.cmd.derive("Ext.layout.component.Body",Ext.layout.component.Auto,{type:"body",beginLayout:function(c){Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);c.bodyContext=c.getEl("body")},beginLayoutCycle:function(n,p){var o=this,l=o.lastWidthModel,m=o.lastHeightModel,k=o.owner.body;Ext.layout.component.Auto.prototype.beginLayoutCycle.apply(this,arguments);if(l&&l.fixed&&n.widthModel.shrinkWrap){k.setWidth(null)}if(m&&m.fixed&&n.heightModel.shrinkWrap){k.setHeight(null)}},calculateOwnerHeightFromContentHeight:function(g,j){var f=Ext.layout.component.Auto.prototype.calculateOwnerHeightFromContentHeight.apply(this,arguments);if(g.targetContext!==g){f+=g.getPaddingInfo().height}return f},calculateOwnerWidthFromContentWidth:function(g,f){var j=Ext.layout.component.Auto.prototype.calculateOwnerWidthFromContentWidth.apply(this,arguments);if(g.targetContext!==g){j+=g.getPaddingInfo().width}return j},measureContentWidth:function(c){return c.bodyContext.setWidth(c.bodyContext.el.dom.offsetWidth,false)},measureContentHeight:function(c){return c.bodyContext.setHeight(c.bodyContext.el.dom.offsetHeight,false)},publishInnerHeight:function(k,g){var j=g-k.getFrameInfo().height,l=k.targetContext;if(l!==k){j-=k.getPaddingInfo().height}return k.bodyContext.setHeight(j,!k.heightModel.natural)},publishInnerWidth:function(j,k){var g=k-j.getFrameInfo().width,l=j.targetContext;if(l!==j){g-=j.getPaddingInfo().width}j.bodyContext.setWidth(g,!j.widthModel.natural)}},0,0,0,0,["layout.body"],0,[Ext.layout.component,"Body"],0));(Ext.cmd.derive("Ext.layout.component.FieldSet",Ext.layout.component.Body,{type:"fieldset",defaultCollapsedWidth:100,beforeLayoutCycle:function(c){if(c.target.collapsed){c.heightModel=this.sizeModels.shrinkWrap}},beginLayout:function(f){var d=this.owner.legend;Ext.layout.component.Body.prototype.beginLayout.call(this,f);if(d){f.legendContext=f.context.getCmp(d)}},beginLayoutCycle:function(j){var g=j.target,f;Ext.layout.component.Body.prototype.beginLayoutCycle.apply(this,arguments);if(g.collapsed){j.setContentHeight(0);j.restoreMinHeight=g.minHeight;delete g.minHeight;if(j.widthModel.shrinkWrap){f=this.lastComponentSize;j.setContentWidth((f&&f.contentWidth)||this.defaultCollapsedWidth)}}},finishedLayout:function(g){var f=this.owner,j=g.restoreMinHeight;Ext.layout.component.Body.prototype.finishedLayout.apply(this,arguments);if(j){f.minHeight=j}},calculateOwnerWidthFromContentWidth:function(g,f){var j=g.legendContext;if(j){f=Math.max(f,j.getProp("width"))}return Ext.layout.component.Body.prototype.calculateOwnerWidthFromContentWidth.call(this,g,f)},calculateOwnerHeightFromContentHeight:function(j,k){var g=j.getBorderInfo(),l=j.legendContext;return j.getProp("contentHeight")+j.getPaddingInfo().height+(Ext.isIE8?j.bodyContext.getPaddingInfo().top:0)+(l?l.getProp("height"):g.top)+g.bottom},publishInnerHeight:function(j,g){var k=j.legendContext,l=0;if(k){l=k.getProp("height")}if(l===undefined){this.done=false}else{Ext.layout.component.Body.prototype.publishInnerHeight.call(this,j,g-l)}},getLayoutItems:function(){var c=this.owner.legend;return c?[c]:[]}},0,0,0,0,["layout.fieldset"],0,[Ext.layout.component,"FieldSet"],0));(Ext.cmd.derive("Ext.resizer.BorderSplitter",Ext.resizer.Splitter,{collapseTarget:null,getTrackerConfig:function(){var c=Ext.resizer.Splitter.prototype.getTrackerConfig.call(this);c.xclass="Ext.resizer.BorderSplitterTracker";return c},onTargetCollapse:function(c){Ext.resizer.Splitter.prototype.onTargetCollapse.call(this,c);if(this.performCollapse!==false&&c.collapseMode=="mini"){c.addCls(c.baseCls+"-"+c.collapsedCls+"-mini")}},onTargetExpand:function(c){Ext.resizer.Splitter.prototype.onTargetExpand.call(this,c);if(this.performCollapse!==false&&c.collapseMode=="mini"){c.removeCls(c.baseCls+"-"+c.collapsedCls+"-mini")}}},0,["bordersplitter"],["component","box","splitter","bordersplitter"],{component:true,box:true,splitter:true,bordersplitter:true},["widget.bordersplitter"],0,[Ext.resizer,"BorderSplitter"],0));(Ext.cmd.derive("Ext.layout.container.Border",Ext.layout.container.Container,{alternateClassName:"Ext.layout.BorderLayout",targetCls:"x-border-layout-ct",itemCls:["x-border-item","x-box-item"],type:"border",isBorderLayout:true,padding:undefined,percentageRe:/(\d+)%/,horzPositionProp:"left",padOnContainerProp:"left",padNotOnContainerProp:"right",axisProps:{horz:{borderBegin:"west",borderEnd:"east",horizontal:true,posProp:"x",sizeProp:"width",sizePropCap:"Width"},vert:{borderBegin:"north",borderEnd:"south",horizontal:false,posProp:"y",sizeProp:"height",sizePropCap:"Height"}},centerRegion:null,manageMargins:true,panelCollapseAnimate:true,panelCollapseMode:"placeholder",regionWeights:{north:20,south:10,center:0,west:-10,east:-20},beginAxis:function(L,U,K){var C=this,T=C.axisProps[K],F=!T.horizontal,M=T.sizeProp,H=0,V=L.childItems,Q=V.length,D,G,I,P,E,R,N,J,S,B,O;for(G=0;G<Q;++G){I=V[G];E=I.target;I.layoutPos={};if(E.region){I.region=R=E.region;I.isCenter=E.isCenter;I.isHorz=E.isHorz;I.isVert=E.isVert;I.weight=E.weight||C.regionWeights[R]||0;E.weight=I.weight;U[E.id]=I;if(E.isCenter){D=I;P=E.flex;L.centerRegion=D;continue}if(F!==I.isVert){continue}I.reverseWeighting=(R===T.borderEnd);J=E[M];S=typeof J;if(!E.collapsed){if(S==="string"&&(N=C.percentageRe.exec(J))){I.percentage=parseInt(N[1],10)}else{if(E.flex){H+=I.flex=E.flex}}}}}if(D){B=D.target;if((O=B.placeholderFor)){if(!P&&F===O.collapsedVertical()){P=0;D.collapseAxis=K}}else{if(B.collapsed&&(F===B.collapsedVertical())){P=0;D.collapseAxis=K}}}if(P==null){P=1}H+=P;return Ext.apply({before:F?"top":"left",totalFlex:H},T)},beginLayout:function(F){var y=this,A=y.getLayoutItems(),E=y.padding,x=typeof E,u=false,J,v,H,C,D,I,G,B,w;if(E){if(x==="string"||x==="number"){E=Ext.util.Format.parseBox(E)}}else{E=F.getEl("getTargetEl").getPaddingInfo();u=true}F.outerPad=E;F.padOnContainer=u;for(C=0,H=A.length;C<H;++C){v=A[C];I=y.getSplitterTarget(v);if(I){G=undefined;B=!!v.hidden;if(!I.split){if(I.isCollapsingOrExpanding){G=!!I.collapsed}}else{if(B!==I.hidden){G=!I.hidden}}if(G){v.show()}else{if(G===false){v.hide()}}}}Ext.layout.container.Container.prototype.beginLayout.apply(this,arguments);A=F.childItems;H=A.length;D={};F.borderAxisHorz=y.beginAxis(F,D,"horz");F.borderAxisVert=y.beginAxis(F,D,"vert");for(C=0;C<H;++C){J=A[C];I=y.getSplitterTarget(J.target);if(I){w=D[I.id];if(!w){w=F.getEl(I.el,y);w.region=I.region}J.collapseTarget=I=w;J.weight=I.weight;J.reverseWeighting=I.reverseWeighting;I.splitter=J;J.isHorz=I.isHorz;J.isVert=I.isVert}}y.sortWeightedItems(A,"reverseWeighting");y.setupSplitterNeighbors(A)},calculate:function(F){var x=this,I=x.getContainerSize(F),B=F.childItems,G=B.length,H=F.borderAxisHorz,A=F.borderAxisVert,E=F.outerPad,v=F.padOnContainer,C,J,y,u,w,D;H.begin=E[x.padOnContainerProp];A.begin=E.top;w=H.end=H.flexSpace=I.width+(v?E[x.padOnContainerProp]:-E[x.padNotOnContainerProp]);D=A.end=A.flexSpace=I.height+(v?E.top:-E.bottom);for(C=0;C<G;++C){J=B[C];y=J.getMarginInfo();if(J.isHorz||J.isCenter){H.addUnflexed(y.width);w-=y.width}if(J.isVert||J.isCenter){A.addUnflexed(y.height);D-=y.height}if(!J.flex&&!J.percentage){if(J.isHorz||(J.isCenter&&J.collapseAxis==="horz")){u=J.getProp("width");H.addUnflexed(u);if(J.collapseTarget){w-=u}}else{if(J.isVert||(J.isCenter&&J.collapseAxis==="vert")){u=J.getProp("height");A.addUnflexed(u);if(J.collapseTarget){D-=u}}}}}for(C=0;C<G;++C){J=B[C];y=J.getMarginInfo();if(J.percentage){if(J.isHorz){u=Math.ceil(w*J.percentage/100);u=J.setWidth(u);H.addUnflexed(u)}else{if(J.isVert){u=Math.ceil(D*J.percentage/100);u=J.setHeight(u);A.addUnflexed(u)}}}}for(C=0;C<G;++C){J=B[C];if(!J.isCenter){x.calculateChildAxis(J,H);x.calculateChildAxis(J,A)}}if(x.finishAxis(F,A)+x.finishAxis(F,H)<2){x.done=false}else{x.finishPositions(B)}},calculateChildAxis:function(p,y){var B=p.collapseTarget,u="set"+y.sizePropCap,w=y.sizeProp,x=p.getMarginInfo()[w],r,A,v,s,q;if(B){r=B.region}else{r=p.region;v=p.flex}A=r===y.borderBegin;if(!A&&r!==y.borderEnd){p[u](y.end-y.begin-x);s=y.begin}else{if(v){q=Math.ceil(y.flexSpace*(v/y.totalFlex));q=p[u](q)}else{if(p.percentage){q=p.peek(w)}else{q=p.getProp(w)}}q+=x;if(A){s=y.begin;y.begin+=q}else{y.end=s=y.end-q}}p.layoutPos[y.posProp]=s},eachItem:function(m,p,q){var n=this,l=n.getLayoutItems(),r=0,o;if(Ext.isFunction(m)){p=m;q=p}for(r;r<l.length;r++){o=l[r];if(!m||o.region===m){if(p.call(q,o)===false){break}}}},finishAxis:function(j,k){var l=k.end-k.begin,g=j.centerRegion;if(g){g["set"+k.sizePropCap](l-g.getMarginInfo()[k.sizeProp]);g.layoutPos[k.posProp]=k.begin}return Ext.isNumber(l)?1:0},finishPositions:function(k){var m=k.length,n,j,l=this.horzPositionProp;for(n=0;n<m;++n){j=k[n];j.setProp("x",j.layoutPos.x+j.marginInfo[l]);j.setProp("y",j.layoutPos.y+j.marginInfo.top)}},getLayoutItems:function(){var l=this.owner,o=(l&&l.items&&l.items.items)||[],p=o.length,r=[],q=0,n,m;for(;q<p;q++){n=o[q];m=n.placeholderFor;if(n.hidden||((!n.floated||n.isCollapsingOrExpanding===2)&&!(m&&m.isCollapsingOrExpanding===2))){r.push(n)}}return r},getPlaceholder:function(c){return c.getPlaceholder&&c.getPlaceholder()},getMaxWeight:function(c){return this.getMinMaxWeight(c)},getMinWeight:function(c){return this.getMinMaxWeight(c,true)},getMinMaxWeight:function(j,g){var l=this,k=null;l.eachItem(j,function(b){if(b.hasOwnProperty("weight")){if(k===null){k=b.weight;return}if((g&&b.weight<k)||b.weight>k){k=b.weight}}},this);return k},getSplitterTarget:function(f){var d=f.collapseTarget;if(d&&d.collapsed){return d.placeholder||d}return d},isItemBoxParent:function(c){return true},isItemShrinkWrap:function(c){return true},insertSplitter:function(p,q,n,r){var m=p.region,o=Ext.apply({xtype:"bordersplitter",collapseTarget:p,id:p.id+"-splitter",hidden:n,canResize:p.splitterResize!==false,splitterFor:p,synthetic:true},r),l=q+((m==="south"||m==="east")?0:1);if(p.collapseMode==="mini"){o.collapsedCls=p.collapsedCls}p.splitter=this.owner.add(l,o)},getMoveAfterIndex:function(f){var d=Ext.layout.container.Container.prototype.getMoveAfterIndex.apply(this,arguments);if(f.splitter){d++}return d},moveItemBefore:function(f,g){var j;if(g&&g.splitter){j=g.region;if(j==="south"||j==="east"){g=g.splitter}}return Ext.layout.container.Container.prototype.moveItemBefore.call(this,f,g)},onAdd:function(n,s){var q=this,u=n.placeholderFor,o=n.region,r,p,w,v;Ext.layout.container.Container.prototype.onAdd.apply(this,arguments);if(o){Ext.apply(n,q.regionFlags[o]);if(q.owner.isViewport){n.isViewportBorderChild=true}if(n.initBorderRegion){n.initBorderRegion()}r=o==="center";if(r){q.centerRegion=n}else{p=n.split;w=!!n.hidden;if(typeof p==="object"){v=p;p=true}if((n.isHorz||n.isVert)&&(p||n.collapseMode==="mini")){q.insertSplitter(n,s,w||!p,v)}}if(!r&&!n.hasOwnProperty("collapseMode")){n.collapseMode=q.panelCollapseMode}if(!n.hasOwnProperty("animCollapse")){if(n.collapseMode!=="placeholder"){n.animCollapse=false}else{n.animCollapse=q.panelCollapseAnimate}}if(w&&n.placeholder&&n.placeholder.isVisible()){q.owner.insert(s,n.placeholder)}}else{if(u){Ext.apply(n,q.regionFlags[u.region]);n.region=u.region;n.weight=u.weight}}},onDestroy:function(){this.centerRegion=null;Ext.layout.container.Container.prototype.onDestroy.call(this)},onRemove:function(u,r){var q=this,n=u.region,p=u.splitter,m=q.owner,o=m.destroying,s;if(n){if(u.isCenter){q.centerRegion=null}delete u.isCenter;delete u.isHorz;delete u.isVert;if(p&&!m.destroying){m.doRemove(p,true)}delete u.splitter}Ext.layout.container.Container.prototype.onRemove.apply(this,arguments);if(!o&&!r&&u.rendered){s=u.getEl();if(s){s.setStyle("top","");s.setStyle(q.horzPositionProp,"")}}},regionMeta:{center:{splitterDelta:0},north:{splitterDelta:1},south:{splitterDelta:-1},west:{splitterDelta:1},east:{splitterDelta:-1}},regionFlags:{center:{isCenter:true,isHorz:false,isVert:false},north:{isCenter:false,isHorz:false,isVert:true,collapseDirection:"top"},south:{isCenter:false,isHorz:false,isVert:true,collapseDirection:"bottom"},west:{isCenter:false,isHorz:true,isVert:false,collapseDirection:"left"},east:{isCenter:false,isHorz:true,isVert:false,collapseDirection:"right"}},setupSplitterNeighbors:function(v){var j={},B=v.length,s=this.touchedRegions,y,A,F,w,C,x,u,E,D;for(y=0;y<B;++y){x=v[y].target;u=x.region;if(x.isCenter){F=x}else{if(u){D=s[u];for(A=0,w=D.length;A<w;++A){C=j[D[A]];if(C){C.neighbors.push(x)}}if(x.placeholderFor){E=x.placeholderFor.splitter}else{E=x.splitter}if(E){E.neighbors=[]}j[u]=E}}}if(F){D=s.center;for(A=0,w=D.length;A<w;++A){C=j[D[A]];if(C){C.neighbors.push(F)}}}},touchedRegions:{center:["north","south","east","west"],north:["north","east","west"],south:["south","east","west"],east:["east","north","south"],west:["west","north","south"]},sizePolicies:{vert:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},horz:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},flexAll:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(o){var p=this,l=this.sizePolicies,q,r,n,m;if(o.isCenter){m=o.placeholderFor;if(m){if(m.collapsedVertical()){return l.vert}return l.horz}if(o.collapsed){if(o.collapsedVertical()){return l.vert}return l.horz}return l.flexAll}q=o.collapseTarget;if(q){return q.isVert?l.vert:l.horz}if(o.region){if(o.isVert){r=o.height;n=l.vert}else{r=o.width;n=l.horz}if(o.flex||(typeof r==="string"&&p.percentageRe.test(r))){return l.flexAll}return n}return p.autoSizePolicy}},0,0,0,0,["layout.border"],0,[Ext.layout.container,"Border",Ext.layout,"BorderLayout"],function(){var d={addUnflexed:function(b){this.flexSpace=Math.max(this.flexSpace-b,0)}},f=this.prototype.axisProps;Ext.apply(f.horz,d);Ext.apply(f.vert,d)}));(Ext.cmd.derive("Ext.layout.container.Card",Ext.layout.container.Fit,{alternateClassName:"Ext.layout.CardLayout",type:"card",hideInactive:true,deferredRender:false,getRenderTree:function(){var d=this,f=d.getActiveItem();if(f){if(f.hasListeners.beforeactivate&&f.fireEvent("beforeactivate",f)===false){f=d.activeItem=d.owner.activeItem=null}else{if(f.hasListeners.activate){f.on({boxready:function(){f.fireEvent("activate",f)},single:true})}}if(d.deferredRender){if(f){return d.getItemsRenderTree([f])}}else{return Ext.layout.container.Fit.prototype.getRenderTree.apply(this,arguments)}}},renderChildren:function(){var d=this,f=d.getActiveItem();if(!d.deferredRender){Ext.layout.container.Fit.prototype.renderChildren.call(this)}else{if(f){d.renderItems([f],d.getRenderTarget())}}},isValidParent:function(k,j,g){var l=k.el?k.el.dom:Ext.getDom(k);return(l&&l.parentNode===(j.dom||j))||false},getActiveItem:function(){var g=this,j=g.activeItem===undefined?(g.owner&&g.owner.activeItem):g.activeItem,f=g.parseActiveItem(j);if(f&&g.owner.items.indexOf(f)!==-1){g.activeItem=f}return f==null?null:(g.activeItem||g.owner.activeItem)},parseActiveItem:function(d){var f;if(d&&d.isComponent){f=d}else{if(typeof d==="number"||d===undefined){f=this.getLayoutItems()[d||0]}else{if(d===null){f=null}else{f=this.owner.getComponent(d)}}}return f},configureItem:function(c){c.setHiddenState(c!==this.getActiveItem());Ext.layout.container.Fit.prototype.configureItem.apply(this,arguments)},onAdd:function(d,f){Ext.layout.container.Fit.prototype.onAdd.call(this,d,f);this.setItemHideMode(d)},onRemove:function(d){var f=this;Ext.layout.container.Fit.prototype.onRemove.call(this,d);f.resetItemHideMode(d);if(d===f.activeItem){f.activeItem=undefined}},getAnimation:function(j,f){var g=(j||{}).cardSwitchAnimation;if(g===false){return false}return g||f.cardSwitchAnimation},getNext:function(){var g=arguments[0],f=this.getLayoutItems(),j=Ext.Array.indexOf(f,this.activeItem);return f[j+1]||(g?f[0]:false)},next:function(){var f=arguments[0],d=arguments[1];return this.setActiveItem(this.getNext(d),f)},getPrev:function(){var g=arguments[0],f=this.getLayoutItems(),j=Ext.Array.indexOf(f,this.activeItem);return f[j-1]||(g?f[f.length-1]:false)},prev:function(){var f=arguments[0],d=arguments[1];return this.setActiveItem(this.getPrev(d),f)},setActiveItem:function(r){var o=this,l=o.owner,p=o.activeItem,m=l.rendered,q,n;r=o.parseActiveItem(r);q=l.items.indexOf(r);if(q===-1){q=l.items.items.length;Ext.suspendLayouts();r=l.add(r);Ext.resumeLayouts()}if(r&&p!==r){if(r.fireEvent("beforeactivate",r,p)===false){return false}if(p&&p.fireEvent("beforedeactivate",p,r)===false){return false}if(m){Ext.suspendLayouts();if(!r.rendered){o.renderItem(r,o.getRenderTarget(),l.items.length)}if(p){if(o.hideInactive){n=p.el.contains(Ext.Element.getActiveElement());p.hide();if(p.hidden){p.hiddenByLayout=true;p.fireEvent("deactivate",p,r)}else{return false}}}if(r.hidden){r.show()}if(r.hidden){o.activeItem=r=null}else{o.activeItem=r;if(n){if(!r.defaultFocus){r.defaultFocus=":focusable"}r.focus()}}Ext.resumeLayouts(true)}else{o.activeItem=r}r.fireEvent("activate",r,p);return o.activeItem}return false},resetItemHideMode:function(c){c.hideMode=c.originalHideMode;delete c.originalHideMode},setItemHideMode:function(c){c.originalHideMode=c.hideMode;c.hideMode="offsets"}},0,0,0,0,["layout.card"],0,[Ext.layout.container,"Card",Ext.layout,"CardLayout"],0));(Ext.cmd.derive("Ext.layout.container.Center",Ext.layout.container.Fit,{alternateClassName:"Ext.ux.layout.Center",type:"center",percentRe:/^\d+(?:\.\d+)?\%$/,itemCls:"x-center-layout-item",childEls:["targetEl"],renderTpl:['<div id="{ownerId}-targetEl" data-ref="targetEl" class="{targetElCls}" role="presentation">{%this.renderBody(out, values)%}</div>'],targetElCls:"x-center-target",beginLayout:function(x){var p=this,w=p.percentRe,s,q,v,y,o,r,u;Ext.layout.container.Fit.prototype.beginLayout.call(this,x);s=x.childItems;for(v=0,q=s.length;v<q;++v){y=s[v];o=y.target;r=y.widthModel;u=y.heightModel;if(w.test(o.width)){o.getEl().setStyle("width","")}if(w.test(o.height)){o.getEl().setStyle("height","")}}x.targetElContext=x.getEl("targetEl",p)},beginLayoutCycle:function(j,f){var g=this.targetEl;Ext.layout.container.Fit.prototype.beginLayoutCycle.call(this,j,f);g.setStyle("width","");g.setStyle("height","")},getRenderData:function(){var c=Ext.layout.container.Fit.prototype.getRenderData.call(this);c.targetElCls=this.targetElCls;return c},getRenderTarget:function(){return this.targetEl},getItemSizePolicy:function(o,m){var p=this,k=m||p.owner.getSizeModel(),n=p.percentRe,l=((k.width.shrinkWrap||!n.test(o.width))?0:1)|((k.height.shrinkWrap||!n.test(o.height))?0:2);return p.sizePolicies[l]},isItemShrinkWrap:function(c){return true},calculate:function(j){var f=j.targetElContext,g;Ext.layout.container.Fit.prototype.calculate.call(this,j);g=j.state.info;if(j.widthModel.shrinkWrap){f.setWidth(g.contentWidth)}if(j.heightModel.shrinkWrap){f.setHeight(g.contentHeight)}},getPos:function(o,m,n){var k=n+"Model",p=o.props[n],l=0;if(!o[k].calculated){p+=m.margins[n]}if(!m.ownerContext[k].shrinkWrap){l=Math.round((m.targetSize[n]-p)/2);if(isNaN(l)){this.done=false}}return Math.max(l,0)},positionItemX:function(f,g){var j=this.getPos(f,g,"width");f.setProp("x",j)},positionItemY:function(f,g){var j=this.getPos(f,g,"height");f.setProp("y",j)},setItemHeight:function(j,g){var f=parseFloat(j.target.height)/100;j.setHeight(Math.round((g.targetSize.height-g.margins.height)*f))},setItemWidth:function(j,g){var f=parseFloat(j.target.width)/100;j.setWidth(Math.round((g.targetSize.width-g.margins.width)*f))}},0,0,0,0,["layout.center","layout.ux.center"],0,[Ext.layout.container,"Center",Ext.ux.layout,"Center"],0));(Ext.cmd.derive("Ext.plugin.Manager",Ext.Base,{alternateClassName:["Ext.PluginManager","Ext.PluginMgr"],singleton:true,typeName:"ptype",create:function(n,k,l){var j,m;if(n.init){j=n}else{if(l){n=Ext.apply({},n);n.cmp=l}else{l=n.cmp}if(n.xclass){j=Ext.create(n)}else{m="plugin."+(n.ptype||k);j=Ext.ClassManager.instantiateByAlias(m,n)}}if(j&&l&&j.setCmp&&!j.setCmpCalled){j.setCmp(l);j.setCmpCalled=true}return j}},0,0,0,0,0,0,[Ext.plugin,"Manager",Ext,"PluginManager",Ext,"PluginMgr"],0));(Ext.cmd.derive("Ext.resizer.BorderSplitterTracker",Ext.resizer.SplitterTracker,{getPrevCmp:null,getNextCmp:null,calculateConstrainRegion:function(){var K=this,ab=K.splitter,O=ab.collapseTarget,Y=ab.defaultSplitMin,V=ab.vertical?"Width":"Height",Z="min"+V,E="max"+V,U="get"+V,F=ab.neighbors,X=F.length,Q=O.el.getBox(),W=Q.x,M=Q.y,L=Q.right,T=Q.bottom,I=ab.vertical?(L-W):(T-M),N,S,H,R,P,G,J,aa;R=(O[Z]||Math.min(I,Y))-I;P=O[E];if(!P){P=1000000000}else{P-=I}aa=I;for(N=0;N<X;++N){S=F[N];I=S[U]();H=S[E];if(H===null){H=undefined}G=I-H;J=I-(S[Z]||Math.min(I,Y));if(!isNaN(G)){if(R<G){R=G}}if(P>J){P=J}}if(P-R<2){return null}Q=new Ext.util.Region(M,L,T,W);K.constraintAdjusters[K.getCollapseDirection()](Q,R,P,ab);K.dragInfo={minRange:R,maxRange:P,targetSize:aa};return Q},constraintAdjusters:{left:function(k,g,l,j){k[0]=k.x=k.left=k.right+g;k.right+=l+j.getWidth()},top:function(k,g,l,j){k[1]=k.y=k.top=k.bottom+g;k.bottom+=l+j.getHeight()},bottom:function(k,g,l,j){k.bottom=k.top-g;k.top-=l+j.getHeight()},right:function(k,g,l,j){k.right=k.left-g;k[0]=k.x=k.left=k.x-l+j.getWidth()}},onBeforeStart:function(n){var q=this,p=q.splitter,r=p.collapseTarget,u=p.neighbors,s=u.length,m,o;if(r.collapsed){return false}for(m=0;m<s;++m){o=u[m];if(o.collapsed&&o.isHorz===r.isHorz){return false}}if(!(q.constrainTo=q.calculateConstrainRegion())){return false}return true},performResize:function(q,r){var p=this,x=p.splitter,s=x.getCollapseDirection(),y=x.collapseTarget,u=p.splitAdjusters[x.vertical?"horz":"vert"],o=r[u.index],v=p.dragInfo,w;if(s==="right"||s==="bottom"){o=-o}o=Math.min(Math.max(v.minRange,o),v.maxRange);if(o){(w=x.ownerCt).suspendLayouts();u.adjustTarget(y,v.targetSize,o);w.resumeLayouts(true)}},splitAdjusters:{horz:{index:0,adjustTarget:function(j,f,g){j.flex=null;j.setSize(f+g)}},vert:{index:1,adjustTarget:function(j,f,g){j.flex=null;j.setSize(undefined,f+g)}}},getCollapseDirection:function(){return this.splitter.getCollapseDirection()}},0,0,0,0,0,0,[Ext.resizer,"BorderSplitterTracker"],0));(Ext.cmd.derive("Ext.resizer.ResizeTracker",Ext.dd.DragTracker,{dynamic:true,preserveRatio:false,preventDefault:false,constrainTo:null,proxyCls:"x-resizable-proxy",constructor:function(n){var l=this,m,j,k;if(!n.el){if(n.target.isComponent){l.el=n.target.getEl()}else{l.el=n.target}}Ext.dd.DragTracker.prototype.constructor.apply(this,arguments);if(l.preserveRatio&&l.minWidth&&l.minHeight){m=l.minWidth/l.el.getWidth();j=l.minHeight/l.el.getHeight();if(j>m){l.minWidth=l.el.getWidth()*j}else{l.minHeight=l.el.getHeight()*m}}if(l.throttle){k=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(l,arguments)},l.throttle);l.resize=function(c,b,d){if(d){Ext.resizer.ResizeTracker.prototype.resize.apply(l,arguments)}else{k.apply(null,arguments)}}}},onBeforeStart:function(c){this.startBox=this.target.getBox()},getProxy:function(){var c=this;if(!c.dynamic&&!c.proxy){c.proxy=c.createProxy(c.target||c.el);c.hideProxy=true}if(c.proxy){c.proxy.show();return c.proxy}},createProxy:function(g){var j,f=this.proxyCls;if(g.isComponent){j=g.getProxy().addCls(f)}else{j=g.createProxy({tag:"div",role:"presentation",cls:f,id:g.id+"-rzproxy"},Ext.getBody())}j.removeCls("x-proxy-el");return j},onStart:function(c){this.activeResizeHandle=Ext.get(this.getDragTarget().id);if(!this.dynamic){this.resize(this.startBox)}},onMouseDown:function(f,d){Ext.dd.DragTracker.prototype.onMouseDown.call(this,f,d);Ext.dom.Element.maskIframes()},onMouseUp:function(c){Ext.dd.DragTracker.prototype.onMouseUp.call(this,c);Ext.dom.Element.unmaskIframes()},onDrag:function(c){if(this.dynamic||this.proxy){this.updateDimensions(c)}},updateDimensions:function(D,H){var C=this,P=C.activeResizeHandle.region,N=C.getOffset(C.constrainTo?"dragTarget":null),J=C.startBox,M,F=0,B=0,K,E,R=0,y=0,A,L,Q,O,G,I;P=C.convertRegionName(P);switch(P){case"south":B=N[1];Q=2;break;case"north":B=-N[1];y=-B;Q=2;break;case"east":F=N[0];Q=1;break;case"west":F=-N[0];R=-F;Q=1;break;case"northeast":B=-N[1];y=-B;F=N[0];L=[J.x,J.y+J.height];Q=3;break;case"southeast":B=N[1];F=N[0];L=[J.x,J.y];Q=3;break;case"southwest":F=-N[0];R=-F;B=N[1];L=[J.x+J.width,J.y];Q=3;break;case"northwest":B=-N[1];y=-B;F=-N[0];R=-F;L=[J.x+J.width,J.y+J.height];Q=3;break}O={width:J.width+F,height:J.height+B,x:J.x+R,y:J.y+y};K=Ext.Number.snap(O.width,C.widthIncrement);E=Ext.Number.snap(O.height,C.heightIncrement);if(K!==O.width||E!==O.height){switch(P){case"northeast":O.y-=E-O.height;break;case"north":O.y-=E-O.height;break;case"southwest":O.x-=K-O.width;break;case"west":O.x-=K-O.width;break;case"northwest":O.x-=K-O.width;O.y-=E-O.height}O.width=K;O.height=E}if(O.width<C.minWidth||O.width>C.maxWidth){O.width=Ext.Number.constrain(O.width,C.minWidth,C.maxWidth);if(R){O.x=J.x+(J.width-O.width)}}else{C.lastX=O.x}if(O.height<C.minHeight||O.height>C.maxHeight){O.height=Ext.Number.constrain(O.height,C.minHeight,C.maxHeight);if(y){O.y=J.y+(J.height-O.height)}}else{C.lastY=O.y}if(C.preserveRatio||D.shiftKey){M=C.startBox.width/C.startBox.height;G=Math.min(Math.max(C.minHeight,O.width/M),C.maxHeight);I=Math.min(Math.max(C.minWidth,O.height*M),C.maxWidth);if(Q===1){O.height=G}else{if(Q===2){O.width=I}else{A=Math.abs(L[0]-this.lastXY[0])/Math.abs(L[1]-this.lastXY[1]);if(A>M){O.height=G}else{O.width=I}if(P==="northeast"){O.y=J.y-(O.height-J.height)}else{if(P==="northwest"){O.y=J.y-(O.height-J.height);O.x=J.x-(O.width-J.width)}else{if(P==="southwest"){O.x=J.x-(O.width-J.width)}}}}}}C.setPosition=O.x!==C.startBox.x||O.y!==C.startBox.y;C.resize(O,H)},resize:function(l,j){var m=this,k,n=m.setPosition;if(m.dynamic||(!m.dynamic&&j)){if(n){m.target.setBox(l)}else{m.target.setSize(l.width,l.height)}}if(!j){k=m.getProxy();if(k&&k!==m.target){if(n||m.hideProxy){k.setBox(l)}else{k.setSize(l.width,l.height)}}}},onEnd:function(c){this.updateDimensions(c,true);if(this.proxy&&this.hideProxy){this.proxy.hide()}},convertRegionName:function(c){return c}},1,0,0,0,0,0,[Ext.resizer,"ResizeTracker"],0));(Ext.cmd.derive("Ext.resizer.Resizer",Ext.Base,{alternateClassName:"Ext.Resizable",handleCls:"x-resizable-handle",overCls:"x-resizable-handle-over",pinnedCls:"x-resizable-pinned",wrapCls:"x-resizable-wrap",wrappedCls:"x-resizable-wrapped",delimiterRe:/(?:\s*[,;]\s*)|\s+/,dynamic:true,handles:"s e se",height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:10000,maxWidth:10000,pinned:false,preserveRatio:false,transparent:false,possiblePositions:{n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},touchActionMap:{n:{panY:false},s:{panY:false},e:{panX:false},w:{panX:false},se:{panX:false,panY:false},sw:{panX:false,panY:false},nw:{panX:false,panY:false},ne:{panX:false,panY:false}},ariaRole:"presentation",constructor:function(A){var y=this,F=Ext.dom.Element.unselectableCls,E=[],J,G,O,x,C,D,K,I,B,P,H,N,M,L;if(Ext.isString(A)||Ext.isElement(A)||A.dom){J=A;A=arguments[1]||{};A.target=J}y.mixins.observable.constructor.call(y,A);J=y.target;if(J){if(J.isComponent){J.addClsWithUI("resizable");if(J.minWidth){y.minWidth=J.minWidth}if(J.minHeight){y.minHeight=J.minHeight}if(J.maxWidth){y.maxWidth=J.maxWidth}if(J.maxHeight){y.maxHeight=J.maxHeight}if(J.floating){if(!y.hasOwnProperty("handles")){y.handles="n ne e se s sw w nw"}}y.el=J.getEl()}else{J=y.el=y.target=Ext.get(J)}}else{J=y.target=y.el=Ext.get(y.el)}y.el.addCls(Ext.Component.prototype.borderBoxCls);if(Ext.isNumber(y.width)){y.width=Ext.Number.constrain(y.width,y.minWidth,y.maxWidth)}if(Ext.isNumber(y.height)){y.height=Ext.Number.constrain(y.height,y.minHeight,y.maxHeight)}if(y.width!==null||y.height!==null){y.target.setSize(y.width,y.height)}x=y.el.dom.tagName.toUpperCase();if(x==="TEXTAREA"||x==="IMG"||x==="TABLE"){y.originalTarget=y.target;N=J.isComponent?J.getEl():J;y.el.addCls(y.wrappedCls);y.target=y.el=y.el.wrap({role:"presentation",cls:y.wrapCls,id:y.el.id+"-rzwrap",style:N.getStyle(["margin-top","margin-bottom"])});M=N.getPositioning();y.el.setPositioning(M);N.clearPositioning();I=N.getBox();if(M.position!=="absolute"){I.x=0;I.y=0}y.el.setBox(I);N.setStyle("position","absolute");y.isTargetWrapped=true}y.el.position();if(y.pinned){y.el.addCls(y.pinnedCls)}y.resizeTracker=new Ext.resizer.ResizeTracker({disabled:y.disabled,target:J,el:y.el,constrainTo:y.constrainTo,handleCls:y.handleCls,overCls:y.overCls,throttle:y.throttle,proxy:y.originalTarget?y.el:null,dynamic:y.originalTarget?true:y.dynamic,originalTarget:y.originalTarget,delegate:"."+y.handleCls,preserveRatio:y.preserveRatio,heightIncrement:y.heightIncrement,widthIncrement:y.widthIncrement,minHeight:y.minHeight,maxHeight:y.maxHeight,minWidth:y.minWidth,maxWidth:y.maxWidth});y.resizeTracker.on({mousedown:y.onBeforeResize,drag:y.onResize,dragend:y.onResizeEnd,scope:y});if(y.handles==="all"){y.handles="n s e w ne nw se sw"}P=y.handles=y.handles.split(y.delimiterRe);O=y.possiblePositions;C=P.length;G=y.handleCls+" "+y.handleCls+"-{0}";if(y.target.isComponent){L=y.target.baseCls;G+=" "+L+"-handle "+L+"-handle-{0}";if(Ext.supports.CSS3BorderRadius){G+=" "+L+"-handle-{0}-br"}}for(D=0;D<C;D++){B=P[D];if(B&&O[B]){K=O[B];H=y[K]=y.el.createChild({id:y.el.id+"-"+K+"-handle",cls:Ext.String.format(G,K)+" "+F,unselectable:"on",role:"presentation"});H.region=K;if(y.transparent){H.setOpacity(0)}H.setTouchAction(y.touchActionMap[B]);E.push(H)}}y.resizeTracker.handleEls=E},disable:function(){this.disabled=true;this.resizeTracker.disable()},enable:function(){this.disabled=false;this.resizeTracker.enable()},onBeforeResize:function(d,f){return this.fireResizeEvent("beforeresize",d,f)},onResize:function(d,f){return this.fireResizeEvent("resizedrag",d,f)},onResizeEnd:function(d,f){return this.fireResizeEvent("resize",d,f)},fireResizeEvent:function(j,l,k){var m=this,n;if(m.hasListeners[j]){n=m.el.getBox();return m.fireEvent(j,m,n.width,n.height,k)}},resizeTo:function(j,f){var g=this;g.target.setSize(j,f);g.fireEvent("resize",g,j,f,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){var o=this,p=o.handles,l=p.length,r=o.possiblePositions,n,m,q;o.resizeTracker.destroy();if(o.isTargetWrapped){o.target.destroy()}for(q=0;q<l;q++){m=r[p[q]];if((n=o[m])){n.destroy();o[m]=null}}o.callParent()}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.resizer,"Resizer",Ext,"Resizable"],0));(Ext.cmd.derive("Ext.selection.CellModel",Ext.selection.DataViewModel,{isCellModel:true,deselectOnContainerClick:false,enableKeyNav:true,preventWrap:false,bindComponent:function(f){var g=this,j;if(g.view&&g.gridListeners){g.gridListeners.destroy()}Ext.selection.DataViewModel.prototype.bindComponent.call(this,f);if(f){j=f.grid||f.ownerCt;if(j.optimizedColumnMove!==false){g.gridListeners=j.on({columnmove:g.onColumnMove,scope:g,destroyable:true})}}},getViewListeners:function(){var c=Ext.selection.DataViewModel.prototype.getViewListeners.call(this);c.refresh=this.onViewRefresh;return c},getHeaderCt:function(){var f=this.navigationModel.getPosition(),d=f?f.view:this.primaryView;return d.headerCt},onNavigate:function(c){if(!c.record||c.keyEvent.stopSelection){return}this.setPosition(c.position)},selectWithEvent:function(d,f){this.select(d)},select:function(m,o,r){var p=this,n,q=p.getPosition(),l=p.view.store;if(m||m===0){if(m.isModel){n=l.indexOf(m);if(n!==-1){m={row:n,column:q?q.column:0}}else{m=null}}else{if(typeof m==="number"){m={row:m,column:0}}}}if(m){p.selectByPosition(m,r)}else{p.deselect()}},getCurrentPosition:function(){var c=this.selecting?this.nextSelection:this.selection;return c?{view:c.view,record:c.record,row:c.rowIdx,columnHeader:c.column,column:c.view.getColumnManager().indexOf(c.column)}:c},getPosition:function(){return(this.selecting?this.nextSelection:this.selection)||null},setCurrentPosition:function(g,f,j){if(g&&!g.isCellContext){g=new Ext.grid.CellContext(this.view).setPosition({row:g.row,column:typeof g.column==="number"?this.view.getColumnManager().getColumns()[g.column]:g.column})}return this.setPosition(g,f,j)},setPosition:function(k,j,l){var m=this,n=m.selection;if(k){k=k.isCellContext?k.clone():new Ext.grid.CellContext(m.view).setPosition(k)}if(!l&&n){if(k&&(k.record===n.record&&k.column===n.column&&k.view===n.view)){k=null}else{m.onCellDeselect(m.selection,j)}}if(k){m.nextSelection=k;m.selecting=true;m.onCellSelect(m.nextSelection,j);m.selecting=false;return(m.selection=k)}},isCellSelected:function(k,m,o){var n=this,p,l=n.getPosition();if(l&&l.view===k){p=new Ext.grid.CellContext(k).setPosition({row:m,column:typeof o==="number"?k.getColumnManager().getColumns()[o]:o});return(p.record===l.record)&&(p.column===l.column)}},onStoreRemove:function(n,j,l){var m=this,k=m.getPosition();Ext.selection.DataViewModel.prototype.onStoreRemove.apply(this,arguments);if(k&&n.isMoving(k.record)){return}if(k&&n.getCount()&&n.indexOf(k.record)!==-1){k.setRow(k.record)}else{m.selection=null}},onStoreClear:function(){Ext.selection.DataViewModel.prototype.onStoreClear.apply(this,arguments);this.selection=null},onStoreAdd:function(){var d=this,f=d.getPosition();Ext.selection.DataViewModel.prototype.onStoreAdd.apply(this,arguments);if(f){f.setRow(f.record)}else{d.selection=null}},updateSelectedInstances:function(f){var g=this.getPosition(),j=f.getAt(0);if(j&&g&&g.record.id===j.id){g.setRow(j)}Ext.selection.DataViewModel.prototype.updateSelectedInstances.call(this,f)},onCellClick:function(q,l,o,r,m,p,n){if(p!==-1){this.setPosition(n.position)}},onCellSelect:function(d,f){if(d&&d.rowIdx!==undefined&&d.rowIdx>-1){this.doSelect(d.record,false,f)}},onCellDeselect:function(d,f){if(d&&d.rowIdx!==undefined){this.doDeselect(d.record,f)}},onSelectChange:function(u,q,r,o){var p=this,n,s,m;if(q){n=p.nextSelection;s="select"}else{n=p.selection;s="deselect"}m=n.view||p.primaryView;if((r||p.fireEvent("before"+s,p,u,n.rowIdx,n.colIdx))!==false&&o()!==false){if(q){m.onCellSelect(n)}else{m.onCellDeselect(n);delete p.selection}if(!r){p.fireEvent(s,p,u,n.rowIdx,n.colIdx)}}},refresh:function(){var f=this.getPosition(),d;if(f&&(d=this.store.indexOf(this.selected.last()))!==-1){f.rowIdx=d}},onColumnMove:function(l,k,n,m){var j=l.up("tablepanel");if(j){this.onViewRefresh(j.view)}},onUpdate:function(f){var j=this,g;if(j.isSelected(f)){g=j.selecting?j.nextSelection:j.selection;j.view.onCellSelect(g)}},onViewRefresh:function(r){var o=this,m=o.getPosition(),q,n=r.headerCt,l,p;if(m&&m.view===r){l=m.record;p=r.getColumnByPosition(m);if(!p.isDescendantOf(n)){p=n.queryById(p.id)||n.down('[text="'+p.text+'"]')||n.down('[dataIndex="'+p.dataIndex+'"]')}if(m.record){if(p&&(r.store.indexOfId(l.getId())!==-1)){q=new Ext.grid.CellContext(r).setPosition({row:l,column:p});o.setPosition(q)}}else{o.selection=null}}},selectByPosition:function(d,f){this.setPosition(d,f)}},0,0,0,0,["selection.cellmodel"],0,[Ext.selection,"CellModel"],0));(Ext.cmd.derive("Ext.selection.RowModel",Ext.selection.DataViewModel,{enableKeyNav:true,isRowModel:true,deselectOnContainerClick:false,onUpdate:function(l){var j=this,g=j.view,k;if(g&&j.isSelected(l)){k=g.indexOf(l);g.onRowSelect(k);if(l===j.lastFocused){g.onRowFocus(k,true)}}},onSelectChange:function(v,A,q,B){var s=this,p=s.views||[s.view],y=p.length,x=s.store.indexOf(v),u=A?"select":"deselect",w,r;if((q||s.fireEvent("before"+u,s,v,x))!==false&&B()!==false){for(w=0;w<y;w++){r=p[w];x=r.indexOf(v);if(r.indexOf(v)!==-1){if(A){r.onRowSelect(x,q)}else{r.onRowDeselect(x,q)}}}if(!q){s.fireEvent(u,s,v,x)}}},getCurrentPosition:function(){var c=this.selected.getAt(0);if(c){return new Ext.grid.CellContext(this.view).setPosition(this.store.indexOf(c),0)}},selectByPosition:function(d,f){if(!d.isCellContext){d=new Ext.grid.CellContext(this.view).setPosition(d.row,d.column)}this.select(d.record,f)},selectNext:function(o,s){var p=this,u=p.store,q=p.getSelection(),m=q[q.length-1],r=p.view.indexOf(m)+1,n;if(r===u.getCount()||r===0){n=false}else{p.doSelect(r,o,s);n=true}return n},selectPrevious:function(n,r){var o=this,p=o.getSelection(),l=p[0],q=o.view.indexOf(l)-1,m;if(q<0){m=false}else{o.doSelect(q,n,r);m=true}return m},isRowSelected:function(c){return this.isSelected(c)},isCellSelected:function(j,f,g){return this.isSelected(f)},vetoSelection:function(k){var l=this.view.getNavigationModel(),g=k.getKey(),j=g===k.RIGHT||g===k.LEFT;return(j&&l.previousRecord===l.record)||Ext.selection.DataViewModel.prototype.vetoSelection.call(this,k)}},0,0,0,0,["selection.rowmodel"],0,[Ext.selection,"RowModel"],0));(Ext.cmd.derive("Ext.selection.CheckboxModel",Ext.selection.RowModel,{mode:"MULTI",injectCheckbox:0,checkOnly:false,showHeaderCheckbox:undefined,headerText:undefined,headerAriaLabel:"Row selector",headerSelectText:"Press Space to select all rows",headerDeselectText:"Press Space to deselect all rows",rowSelectText:"Press Space to select this row",rowDeselectText:"Press Space to deselect this row",allowDeselect:true,headerWidth:24,checkerOnCls:"x-grid-hd-checker-on",tdCls:"x-grid-cell-special x-selmodel-column",constructor:function(){var c=this;Ext.selection.RowModel.prototype.constructor.apply(this,arguments);if(c.mode==="SINGLE"){c.showHeaderCheckbox=false}},beforeViewRender:function(l){var k=this,g,j=l.grid.ownerLockable;Ext.selection.RowModel.prototype.beforeViewRender.apply(this,arguments);if(k.injectCheckbox!==false){if(j&&!k.lockListeners){k.lockListeners=j.mon(j,{lockcolumn:k.onColumnLock,unlockcolumn:k.onColumnUnlock,scope:k,destroyable:true})}if(!j||(l.isLockedView&&k.hasLockedHeader())||(l.isNormalView&&!k.column)){k.addCheckbox(l);g=l.ownerCt;if(l.headerCt.lockedCt){g=g.ownerCt}k.mon(l.ownerGrid,{beforereconfigure:k.onBeforeReconfigure,reconfigure:k.onReconfigure,scope:k})}}},onColumnUnlock:function(m,j){var n=this,l=n.injectCheckbox,k=m.lockedGrid.visibleColumnManager.getColumns();if(k.length===1&&k[0]===n.column){if(l==="first"){l=0}else{if(l==="last"){l=m.normalGrid.visibleColumnManager.getColumns().length}}m.unlock(n.column,l)}},onColumnLock:function(m,j){var n=this,l=n.injectCheckbox,k=m.lockedGrid.visibleColumnManager.getColumns();if(k.length===1){if(l==="first"){l=0}else{if(l==="last"){l=m.lockedGrid.visibleColumnManager.getColumns().length}}m.lock(n.column,l)}},bindComponent:function(c){this.sortable=false;Ext.selection.RowModel.prototype.bindComponent.apply(this,arguments)},hasLockedHeader:function(){var g=this.view.ownerGrid.getVisibleColumnManager().getColumns(),f=g.length,j;for(j=0;j<f;j++){if(g[j].locked){return true}}return false},addCheckbox:function(l){var k=this,g=k.injectCheckbox,j=l.headerCt;if(g!==false){if(g==="first"){g=0}else{if(g==="last"){g=j.getColumnCount()}}Ext.suspendLayouts();if(l.getStore().isBufferedStore){k.showHeaderCheckbox=false}k.column=j.add(g,k.column||k.getHeaderConfig());Ext.resumeLayouts()}},onBeforeReconfigure:function(p,l,q,m,r){var o=this.column,n=o.ownerCt;if(q&&n){n.remove(o,false)}},onReconfigure:function(k,g,l){var j=this;if(l){if(k.lockable){if(k.lockedGrid.isVisible()){k.lock(j.column,0)}else{k.unlock(j.column,0)}}else{j.addCheckbox(j.view)}k.view.refreshView()}},onHeaderClick:function(C,w,u){var s=this,q=s.store,y=s.column,A,B,x,v,D,r;if(s.showHeaderCheckbox!==false&&w===s.column&&s.mode!=="SINGLE"){u.stopEvent();A=w.el.hasCls("x-grid-hd-checker-on");if(A){B=[];D=this.getSelection();for(x=0,v=D.length;x<v;++x){r=D[x];if(q.indexOf(r)>-1){B.push(r)}}if(B.length>0){s.deselect(B)}}else{s.selectAll()}}},getHeaderConfig:function(){var l=this,j=l.showHeaderCheckbox!==false,k=Ext.String.htmlEncode,g;g={xtype:"checkcolumn",headerCheckbox:j,isCheckerHd:j,ignoreExport:true,text:l.headerText,width:l.headerWidth,sortable:false,draggable:false,resizable:false,hideable:false,menuDisabled:true,checkOnly:l.checkOnly,checkboxAriaRole:"presentation",tdCls:l.tdCls,cls:"x-selmodel-column",editRenderer:l.editRenderer||l.renderEmpty,locked:l.hasLockedHeader(),processEvent:l.processColumnEvent,toggleAll:Ext.emptyFn,setRecordCheck:Ext.emptyFn,isRecordChecked:l.isRowSelected.bind(l)};if(!l.checkOnly){g.tabIndex=undefined;g.ariaRole="presentation";g.focusable=false;g.cellFocusable=false}else{g.useAriaElements=true;g.ariaLabel=k(l.headerAriaLabel);g.headerSelectText=k(l.headerSelectText);g.headerDeselectText=k(l.headerDeselectText);g.rowSelectText=k(l.rowSelectText);g.rowDeselectText=k(l.rowDeselectText)}return g},processColumnEvent:function(r,p,o,v,q,s,u,n){var w=p.getNavigationModel();if((s.type==="keydown"&&p.actionableMode&&s.getKey()===s.SPACE)||(!this.checkOnly&&s.type===this.triggerEvent)){w.fireEvent("navigate",{view:p,navigationModel:w,keyEvent:s,position:s.position,recordIndex:v,record:u,item:s.item,cell:s.position.cellElement,columnIndex:s.position.colIdx,column:s.position.column})}},toggleRecord:function(l,k,j,g){this[j?"select":"deselect"]([l],this.mode!=="SINGLE")},renderEmpty:function(){return"&#160;"},refresh:function(){Ext.selection.RowModel.prototype.refresh.apply(this,arguments);this.updateHeaderState()},selectByPosition:function(d,f){if(!d.isCellContext){d=new Ext.grid.CellContext(this.view).setPosition(d.row,d.column)}if(!this.checkOnly||d.column===this.column){Ext.selection.RowModel.prototype.selectByPosition.call(this,d,f)}},onSelectChange:function(g,k){var j=this,l;Ext.selection.RowModel.prototype.onSelectChange.apply(this,arguments);if(j.column){j.column.updateCellAriaDescription(g,k)}if(!j.suspendChange){j.updateHeaderState()}},onStoreLoad:function(){Ext.selection.RowModel.prototype.onStoreLoad.apply(this,arguments);this.updateHeaderState()},onStoreAdd:function(){Ext.selection.RowModel.prototype.onStoreAdd.apply(this,arguments);this.updateHeaderState()},onStoreRemove:function(){Ext.selection.RowModel.prototype.onStoreRemove.apply(this,arguments);this.updateHeaderState()},onStoreRefresh:function(){Ext.selection.RowModel.prototype.onStoreRefresh.apply(this,arguments);this.updateHeaderState()},maybeFireSelectionChange:function(c){if(c&&!this.suspendChange){this.updateHeaderState()}Ext.selection.RowModel.prototype.maybeFireSelectionChange.apply(this,arguments)},resumeChanges:function(){Ext.selection.RowModel.prototype.resumeChanges.call(this);if(!this.suspendChange){this.updateHeaderState()}},updateHeaderState:function(){var q=this,p=q.store,r=p.getCount(),o=q.views,n=false,w=0,v,s,u;if(!p.isBufferedStore&&r>0){v=q.selected;n=true;for(u=0,s=v.getCount();u<s;++u){if(p.indexOfId(v.getAt(u).id)>-1){++w}}n=r===w}if(o&&o.length){q.column.setHeaderStatus(n)}},vetoSelection:function(m){var o=this,p=o.column,k,n,l;if(o.checkOnly){n=m.type===p.triggerEvent&&m.getTarget(o.column.getCellSelector());l=m.getKey()===m.SPACE&&m.position.column===p;k=!(n||l)}return k||Ext.selection.RowModel.prototype.vetoSelection.call(this,m)},privates:{onBeforeNavigate:function(d){var f=d.keyEvent;if(this.selectionMode!=="SINGLE"){d.ctrlKey=d.ctrlKey||f.ctrlKey||(f.type===this.column.triggerEvent&&!f.shiftKey)||f.getKey()===f.SPACE}},selectWithEventMulti:function(g,j,l){var k=this;if(!j.shiftKey&&!j.ctrlKey&&j.getTarget(k.column.getCellSelector())){if(l){k.doDeselect(g)}else{k.doSelect(g,true)}}else{Ext.selection.RowModel.prototype.selectWithEventMulti.call(this,g,j,l)}}}},1,0,0,0,["selection.checkboxmodel"],0,[Ext.selection,"CheckboxModel"],function(c){c.prototype.checkSelector="."+Ext.grid.column.Check.prototype.checkboxCls}));Ext.define("Ext.theme.triton.selection.CheckboxModel",{override:"Ext.selection.CheckboxModel",headerWidth:32,onHeaderClick:function(j,g,f){(arguments.callee.$previous||Ext.selection.RowModel.prototype.onHeaderClick).call(this,j,g,f);if(Ext.isIE8){g.getView().ownerGrid.el.syncRepaint()}}});(Ext.cmd.derive("Ext.toolbar.Fill",Ext.Component,{alternateClassName:"Ext.Toolbar.Fill",ariaRole:"presentation",isFill:true,flex:1},0,["tbfill"],["component","box","tbfill"],{component:true,box:true,tbfill:true},["widget.tbfill"],0,[Ext.toolbar,"Fill",Ext.Toolbar,"Fill"],0));(Ext.cmd.derive("Ext.toolbar.Spacer",Ext.Component,{alternateClassName:"Ext.Toolbar.Spacer",baseCls:"x-toolbar-spacer",ariaRole:"presentation"},0,["tbspacer"],["component","box","tbspacer"],{component:true,box:true,tbspacer:true},["widget.tbspacer"],0,[Ext.toolbar,"Spacer",Ext.Toolbar,"Spacer"],0));Ext.namespace("Ext.theme.is")["Cryptic"]=true;Ext.theme.name="Cryptic";(Ext.cmd.derive("Smart.ux.app.Application",Ext.app.Application,{init:function(){Ext.USE_NATIVE_JSON=true;Ext.manifest.appType="pro";Ext.enableAriaButtons=false},launch:function(){}},0,0,0,0,0,0,[Smart.ux.app,"Application"],0));(Ext.cmd.derive("Smart.app.ControllerBase",Ext.app.Controller,{},0,0,0,0,0,0,[Smart.app,"ControllerBase"],0));(Ext.cmd.derive("Smart.ux.modern.login.LoginComeIn",Ext.form.Panel,{fullscreen:true,items:[{xtype:"fieldset",items:[{xtype:"textfield",name:"username",label:"Nome",labelAlign:"placeholder",required:true,clearIcon:false},{xtype:"passwordfield",name:"password",label:"Senha",labelAlign:"placeholder",required:true,clearIcon:false}]},{xtype:"container",defaults:{xtype:"button",style:"margin: 0.5em",flex:1},layout:{type:"hbox"},items:[{text:"Sign In",ui:"action",height:40}]}]},0,["logincomein"],["component","box","container","panel","form","logincomein"],{component:true,box:true,container:true,panel:true,form:true,logincomein:true},["widget.logincomein"],0,[Smart.ux.modern.login,"LoginComeIn"],0));(Ext.cmd.derive("Smart.ux.classic.login.LoginComeIn",Ext.form.Panel,{layout:"anchor",defaults:{anchor:"100%"},listeners:{afterrender:function(){this.down("textfield[name=username]").focus(false,200)}},initComponent:function(){var c=this;c.buildItems();Ext.form.Panel.prototype.initComponent.call(this)},buildItems:function(){var c=this;c.items=[{xtype:"label",text:"Login ...",style:{fontSize:"46px;",display:"table-cell;",textAlign:"center;",lineHeight:"50px;"}},{height:20,xtype:"container"},{xtype:"fieldcontainer",layout:"anchor",defaultType:"textfield",defaults:{anchor:"100%",allowBlank:false},items:[{name:"username",fieldLabel:"Nome"},{name:"password",vtype:"alphanum",inputType:"password",fieldLabel:"Senha",listeners:{specialkey:function(b,j,k){if(j.getKey()===j.ENTER){var l=b.up("form").down("button");l.fireEvent("click",l)}}}},{xtype:"button",text:"Sign In",scale:"small",formBind:true,name:"comeinsend"},{margin:"20 0 0 0",xtype:"container",style:{fontSize:"14px;",lineHeight:"20px;"},items:[{xtype:"label",router:"login/forgot",text:"Esqueci minha senha!",style:{cursor:"pointer;",textDecoration:"underline;"}}]},{margin:"3 0 0 0",xtype:"container",style:{fontSize:"14px;",lineHeight:"20px;"},items:[{xtype:"label",router:"login/invite",text:"Cdigo de ativao...",style:{cursor:"pointer;",textDecoration:"underline;"}}]}]}]}},0,["logincomein"],["component","box","container","panel","form","logincomein"],{component:true,box:true,container:true,panel:true,form:true,logincomein:true},["widget.logincomein"],0,[Smart.ux.classic.login,"LoginComeIn"],0));(Ext.cmd.derive("Smart.ux.classic.login.LoginForgot",Ext.form.Panel,{layout:"anchor",defaults:{anchor:"100%"},initComponent:function(){var c=this;c.buildItems();Ext.form.Panel.prototype.initComponent.call(this)},buildItems:function(){var c=this;c.items=[{xtype:"label",text:"Esqueci ...",style:{fontSize:"46px;",display:"table-cell;",textAlign:"center;",lineHeight:"50px;"}},{height:20,xtype:"container"},{xtype:"fieldcontainer",layout:"anchor",defaultType:"textfield",defaults:{anchor:"100%",allowBlank:false},items:[{name:"username",fieldLabel:"Nome"},{fieldLabel:"Nascimento",name:"birthdate",xtype:"datefield",allowBlank:false,hideTrigger:true,listeners:{specialkey:function(b,j,k){if(j.getKey()===j.ENTER){var l=b.up("form").down("button");l.fireEvent("click",l)}}}},{xtype:"button",text:"Enviar",scale:"small",formBind:true},{margin:"20 0 0 0",xtype:"container",style:{fontSize:"14px;",lineHeight:"20px;"},items:[{xtype:"label",router:"login/comein",text:"Login de acesso!",style:{cursor:"pointer;",textDecoration:"underline;"}}]},{margin:"3 0 0 0",xtype:"container",style:{fontSize:"14px;",lineHeight:"20px;"},items:[{xtype:"label",router:"login/invite",text:"Cdigo de ativao...",style:{cursor:"pointer;",textDecoration:"underline;"}}]}]}]},dockedItems_:[{xtype:"panel",dock:"bottom",layout:"anchor",bodyStyle:"padding-top: 20px;",style:{borderTop:"dotted 1px #cecece"},defaultType:"button",defaults:{anchor:"100%",scale:"large"},items:[{xtype:"container"},{text:"Enviar",formBind:true,showSmartTheme:"red",listeners:{click:"onForgotSend"}},{xtype:"splitter"},{xtype:"label",text:"Login de acesso!",listeners:{click:"onComeInGoView"},style:{cursor:"pointer;",textDecoration:"underline;"}},{xtype:"splitter"},{xtype:"label",text:"Cdigo de ativao...",listeners:{click:"onInviteGoView"},style:{cursor:"pointer;",textDecoration:"underline;"}}]}]},0,["loginforgot"],["component","box","container","panel","form","loginforgot"],{component:true,box:true,container:true,panel:true,form:true,loginforgot:true},["widget.loginforgot"],0,[Smart.ux.classic.login,"LoginForgot"],0));(Ext.cmd.derive("Smart.ux.classic.login.Login",Ext.panel.Panel,{plain:true,layout:"center",headerPosition:"bottom",header:{title:Ext.manifest.name,items:[{xtype:"label",text:Ext.manifest.version,style:{color:"white;"}}]},items:[{xtype:"container",layout:"center",items:[{xtype:"container",width:"20%",minWidth:300,maxWidth:350,layout:"card",name:"userlogin",cardSwitchAnimation:"slide",scroll:"vertical",items:[{xtype:"logincomein"},{xtype:"loginforgot"}]}]}]},0,0,["component","box","container","panel"],{component:true,box:true,container:true,panel:true},0,0,[Smart.ux.classic.login,"Login"],0));(Ext.cmd.derive("Cryptic.view.login.Login",Smart.ux.classic.login.Login,{plugins:"viewport"},0,["app-login"],["component","box","container","panel","app-login"],{component:true,box:true,container:true,panel:true,"app-login":true},["widget.app-login"],0,[Cryptic.view.login,"Login"],0));(Ext.cmd.derive("Cryptic.view.main.MainModel",Ext.app.ViewModel,{stores:{navItems:{type:"tree",root:{expanded:true,children:[{text:"Home",iconCls:"x-fa fa-home",children:[{text:"Messages",iconCls:"x-fa fa-inbox",leaf:true},{text:"Archive",iconCls:"x-fa fa-database",children:[{text:"First",router:"app/configs",iconCls:"x-fa fa-sliders",leaf:true},{text:"No Icon",iconCls:null,leaf:true}]},{text:"Music",iconCls:"x-fa fa-music",leaf:true},{text:"Video",iconCls:"x-fa fa-film",leaf:true}]},{text:"Users",iconCls:"x-fa fa-user",children:[{text:"Tagged",iconCls:"x-fa fa-tag",leaf:true},{text:"Inactive",iconCls:"x-fa fa-trash",leaf:true}]},{text:"Groups",iconCls:"x-fa fa-group",leaf:true},{text:"Settings",iconCls:"x-fa fa-wrench",children:[{text:"Sharing",iconCls:"x-fa fa-share-alt",leaf:true},{text:"Notifications",iconCls:"x-fa fa-flag",leaf:true},{text:"Network",iconCls:"x-fa fa-signal",leaf:true}]}]}}}},0,0,0,0,["viewmodel.main"],0,[Cryptic.view.main,"MainModel"],0));(Ext.cmd.derive("Smart.app.ViewControllerBase",Ext.app.ViewController,{onMainPageView:function(r,q){var n=this,l=n.getView().down("panel[name=center]"),o=l?l.down(r.xtype):null,m=function(){r.id=r.xtype;if(l.items){l.removeAll()}o=l.add(r);if(Ext.isFunction(q)==true){q()}};try{if(l.items.getCount()){Ext.defer(function(){m()},300)}else{m()}return o}catch(p){console.info(p);return o}}},0,0,0,0,0,0,[Smart.app,"ViewControllerBase"],0));(Ext.cmd.derive("Cryptic.view.main.MainController",Smart.app.ViewControllerBase,{routes:{"app/configs":{action:"onShowConfigs"}},onChangeRouter:function(j,k){var l=this,g=k?k.get("router"):null;if(g){l.redirectTo(g)}},onShowConfigs:function(){var d=this,f=d.getView().down("treelist").getSelection();d.onMainPageView({xtype:"config",iconCls:f.get("iconCls")})},setMicro:function(m,k){var l=this,j=l.getView().down("treelist"),n=j.ownerCt;j.setMicro(k);if(k){l.oldWidth=n.width;n.setWidth(32)}else{n.setWidth(l.oldWidth)}},setLogOut:function(){Ext.Msg.confirm("Encerramento do aplicativo","Esta aplicao ser encerrada, confirma?",function(c){if(c==="yes"){delete Ext.manifest.auth;window.location.reload()}})}},0,0,0,0,["controller.main"],0,[Cryptic.view.main,"MainController"],0));(Ext.cmd.derive("Cryptic.view.main.Main",Ext.panel.Panel,{plugins:"viewport",viewModel:"main",controller:"main",layout:"border",items:[{region:"north",xtype:"container",style:{"background-color":"#212121;"},layout:"hbox",items:[{flex:1,xtype:"container"},{xtype:"toolbar",style:{"background-color":"transparent !important;"},items:[{enableToggle:true,iconCls:"fa fa-bars",toggleHandler:"setMicro"},{iconAlign:"left",iconCls:"fa fa-power-off",handler:"setLogOut"}]}]},{region:"west",width:250,split:true,layout:"fit",border:false,scrollable:"y",items:[{xtype:"treelist",bind:"{navItems}",expanderFirst:false,listeners:{selectionchange:"onChangeRouter"}}]},{region:"center",bodyPadding:10,xtype:"panel",name:"center",layout:"fit"}]},0,["app-main"],["component","box","container","panel","app-main"],{component:true,box:true,container:true,panel:true,"app-main":true},["widget.app-main"],0,[Cryptic.view.main,"Main"],0));(Ext.cmd.derive("Cryptic.controller.App",Smart.app.ControllerBase,{views:["Cryptic.view.main.Main","Cryptic.view.login.Login"],routes:{app:{action:"onSelectGoMain"},"login/comein":{action:"onComeInGoView"},"login/forgot":{action:"onForgotGoView"}},refs:[{ref:"main",selector:"app-main"},{ref:"login",selector:"app-login"}],init:function(){var c=this;c.control({"app-login label":{click:c.onChangeRouter},"app-login button[name=comeinsend]":{click:c.onComeInSend}})},onSelectGoMain:function(){var c=this;if(c.getMain()){c.getMain().destroy()}if(c.getLogin()){c.getLogin().destroy()}Ext.create({xtype:"app-main"})},onComeInGoView:function(){var c=this;if(c.getMain()){c.getMain().destroy()}if(c.getLogin()){c.getLogin().destroy()}Ext.create({xtype:"app-login"})},onForgotGoView:function(){var f=this,d=f.getLogin().down("container[name=userlogin]").getLayout();d.setActiveItem(1)},onChangeRouter:function(f){var d=this;d.redirectTo(f.router)},onComeInSend:function(){var n=this,l=n.getLogin(),o=l.down("logincomein"),r=Ext.getStore("Users")||Ext.create("Cryptic.store.profile.Users"),q=r.getModel(),m=o.getValues(),p=(new q()).getRouteList();if(!o.isValid()){return false}l.setLoading("Autenticando usurio...");r.getProxy().setRoute(p.route.logincomein+"?username="+m.username+"&password="+m.password);r.load({scope:n,callback:function(b,c,d){Ext.manifest.auth="";l.setLoading(false);if(d==true){l.destroy();n.redirectTo("app");Ext.manifest.auth=Ext.decode(c.getResponse().responseText).message}}})},onForgotSend:function(){var g=this,f=g.getView(),j=f.down("loginforgot");if(!j.isValid()){return false}}},0,0,0,0,0,0,[Cryptic.controller,"App"],0));(Ext.cmd.derive("Cryptic.Application",Smart.ux.app.Application,{name:"Cryptic",launch:function(){var c=this;Smart.ux.app.Application.prototype.launch.apply(this,arguments);c.getController("App").redirectTo("login/comein")}},0,0,0,0,0,0,[Cryptic,"Application"],0));(Ext.cmd.derive("Smart.data.proxy.RestBase",Ext.data.proxy.Rest,{reader:{type:"json",idProperty:"id",rootProperty:"rows",messageProperty:"text",totalProperty:"records",successProperty:"success"},writer:{type:"json",encode:true,idProperty:"id",dateFormat:"Y-m-d",rootProperty:"model",writeAllFields:false},setRoute:function(d){var f=this;f.setUrl(Ext.String.format("{0}/{1}",Ext.manifest.routeBase,d))}},0,0,0,0,["proxy.restbase"],0,[Smart.data.proxy,"RestBase"],0));(Ext.cmd.derive("Smart.data.ModelBase",Ext.data.Model,{route:{},routePrefix:"",proxy:{type:"restbase"},startWithRoutePrefix:false,constructor:function(){var c=this;Ext.data.Model.prototype.constructor.apply(this,arguments);if(c.startWithRoutePrefix==true){c.setProxyByRoutePrefix()}},getRoute:function(){var c=this;return c.route},getRoutePrefix:function(){var c=this;return c.routePrefix},getRouteList:function(){var c=this;return{route:c.route,routePrefix:c.routePrefix}},setProxyByRoutePrefix:function(){var c=this;c.getProxy().setRoute(c.routePrefix)}},1,0,0,0,0,0,[Smart.data,"ModelBase"],0));(Ext.cmd.derive("Cryptic.model.profile.Users",Smart.data.ModelBase,{route:{id:"users/{id}",list:"users/list",logincomein:"users/logincomein"},routePrefix:"users",startWithRoutePrefix:true,fields:[{name:"id",type:"int"},{name:"username",type:"auto"},{name:"password",type:"auto"},{name:"fullname",type:"auto"},{name:"mainmail",type:"auto"},{name:"isactive",type:"boolean"}]},0,0,0,0,0,0,[Cryptic.model.profile,"Users"],0));(Ext.cmd.derive("Cryptic.store.profile.Users",Ext.data.Store,{pageSize:10,storeId:"users",model:Ext.create("Cryptic.model.profile.Users")},0,0,0,0,["store.users"],0,[Cryptic.store.profile,"Users"],0));(Ext.cmd.derive("Cryptic.view.config.Configs",Ext.panel.Panel,{controller:"main",title:Ext.manifest.name,layout:"fit",showSmartAnimate:true,items:[{xtype:"gridpanel",store:Ext.create("Ext.data.Store",{fields:["name","email","phone"],data:[{name:"Lisa",email:"lisa@simpsons.com",phone:"555-111-1224"},{name:"Bart",email:"bart@simpsons.com",phone:"555-222-1234"},{name:"Homer",email:"homer@simpsons.com",phone:"555-222-1244"},{name:"Marge",email:"marge@simpsons.com",phone:"555-222-1254"}]}),columns:[{text:"Name",dataIndex:"name"},{text:"Email",dataIndex:"email",flex:1},{text:"Phone",dataIndex:"phone"}]}]},0,["config"],["component","box","container","panel","config"],{component:true,box:true,container:true,panel:true,config:true},["widget.config"],0,[Cryptic.view.config,"Configs"],0));Ext.Loader.setConfig({enabled:true,paths:{"Smart.app":"library/app","Smart.data":"library/data","Smart.data.proxy":"library/data/proxy","Smart.data.field":"library/data/field","Smart.ux.app":"library/ux/app","Smart.plugins":"library/plugins","Smart.ux.classic.main":"library/ux/classic/main","Smart.ux.classic.login":"library/ux/classic/login","Smart.ux.modern.login":"library/ux/modern/login"}});Ext.application({name:"Cryptic",extend:Cryptic.Application});if(typeof YAHOO=="undefined"||!YAHOO){var YAHOO={}}YAHOO.namespace=function(){var n=arguments,g=null,c,b,f;for(c=0;c<n.length;c=c+1){f=(""+n[c]).split(".");g=YAHOO;for(b=(f[0]=="YAHOO")?1:0;b<f.length;b=b+1){g[f[b]]=g[f[b]]||{};g=g[f[b]]}}return g};YAHOO.log=function(c,d,b){var l=YAHOO.widget.Logger;if(l&&l.log){return l.log(c,d,b)}else{return false}};YAHOO.register=function(w,g,f){var v=YAHOO.env.modules,c,u,k,j,d;if(!v[w]){v[w]={versions:[],builds:[]}}c=v[w];u=f.version;k=f.build;j=YAHOO.env.listeners;c.name=w;c.version=u;c.build=k;c.versions.push(u);c.builds.push(k);c.mainClass=g;for(d=0;d<j.length;d=d+1){j[d](c)}if(g){g.VERSION=u;g.BUILD=k}else{YAHOO.log("mainClass is undefined for module "+w,"warn")}};YAHOO.env=YAHOO.env||{modules:[],listeners:[]};YAHOO.env.getVersion=function(c){return YAHOO.env.modules[c]||null};YAHOO.env.parseUA=function(r){var s=function(k){var j=0;return parseFloat(k.replace(/\./g,function(){return(j++==1)?"":"."}))},c=navigator,b={ie:0,opera:0,gecko:0,webkit:0,chrome:0,mobile:null,air:0,ipad:0,iphone:0,ipod:0,ios:null,android:0,webos:0,caja:c&&c.cajaVersion,secure:false,os:null},g=r||(navigator&&navigator.userAgent),u=window&&window.location,f=u&&u.href,d;b.secure=f&&(f.toLowerCase().indexOf("https")===0);if(g){if((/windows|win32/i).test(g)){b.os="windows"}else{if((/macintosh/i).test(g)){b.os="macintosh"}else{if((/rhino/i).test(g)){b.os="rhino"}}}if((/KHTML/).test(g)){b.webkit=1}d=g.match(/AppleWebKit\/([^\s]*)/);if(d&&d[1]){b.webkit=s(d[1]);if(/ Mobile\//.test(g)){b.mobile="Apple";d=g.match(/OS ([^\s]*)/);if(d&&d[1]){d=s(d[1].replace("_","."))}b.ios=d;b.ipad=b.ipod=b.iphone=0;d=g.match(/iPad|iPod|iPhone/);if(d&&d[0]){b[d[0].toLowerCase()]=b.ios}}else{d=g.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/);if(d){b.mobile=d[0]}if(/webOS/.test(g)){b.mobile="WebOS";d=g.match(/webOS\/([^\s]*);/);if(d&&d[1]){b.webos=s(d[1])}}if(/ Android/.test(g)){b.mobile="Android";d=g.match(/Android ([^\s]*);/);if(d&&d[1]){b.android=s(d[1])}}}d=g.match(/Chrome\/([^\s]*)/);if(d&&d[1]){b.chrome=s(d[1])}else{d=g.match(/AdobeAIR\/([^\s]*)/);if(d){b.air=d[0]}}}if(!b.webkit){d=g.match(/Opera[\s\/]([^\s]*)/);if(d&&d[1]){b.opera=s(d[1]);d=g.match(/Version\/([^\s]*)/);if(d&&d[1]){b.opera=s(d[1])}d=g.match(/Opera Mini[^;]*/);if(d){b.mobile=d[0]}}else{d=g.match(/MSIE\s([^;]*)/);if(d&&d[1]){b.ie=s(d[1])}else{d=g.match(/Gecko\/([^\s]*)/);if(d){b.gecko=1;d=g.match(/rv:([^\s\)]*)/);if(d&&d[1]){b.gecko=s(d[1])}}}}}}return b};YAHOO.env.ua=YAHOO.env.parseUA();(function(){YAHOO.namespace("util","widget","example");if("undefined"!==typeof YAHOO_config){var l=YAHOO_config.listener,d=YAHOO.env.listeners,c=true,b;if(l){for(b=0;b<d.length;b++){if(d[b]==l){c=false;break}}if(c){d.push(l)}}}})();YAHOO.lang=YAHOO.lang||{};(function(){var s=YAHOO.lang,b=Object.prototype,d="[object Array]",v="[object Function]",w="[object Object]",c=[],u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","`":"&#x60;"},f=["toString","valueOf"],g={isArray:function(j){return b.toString.apply(j)===d},isBoolean:function(j){return typeof j==="boolean"},isFunction:function(j){return(typeof j==="function")||b.toString.apply(j)===v},isNull:function(j){return j===null},isNumber:function(j){return typeof j==="number"&&isFinite(j)},isObject:function(j){return(j&&(typeof j==="object"||s.isFunction(j)))||false},isString:function(j){return typeof j==="string"},isUndefined:function(j){return typeof j==="undefined"},_IEEnumFix:(YAHOO.env.ua.ie)?function(n,m){var l,k,j;for(l=0;l<f.length;l=l+1){k=f[l];j=m[k];if(s.isFunction(j)&&j!=b[k]){n[k]=j}}}:function(){},escapeHTML:function(j){return j.replace(/[&<>"'\/`]/g,function(k){return u[k]})},extend:function(j,k,n){if(!k||!j){throw new Error("extend failed, please check that all dependencies are included.")}var m=function(){},l;m.prototype=k.prototype;j.prototype=new m();j.prototype.constructor=j;j.superclass=k.prototype;if(k.prototype.constructor==b.constructor){k.prototype.constructor=k}if(n){for(l in n){if(s.hasOwnProperty(n,l)){j.prototype[l]=n[l]}}s._IEEnumFix(j.prototype,n)}},augmentObject:function(k,j){if(!j||!k){throw new Error("Absorb failed, verify dependencies.")}var m=arguments,o,l,n=m[2];if(n&&n!==true){for(o=2;o<m.length;o=o+1){k[m[o]]=j[m[o]]}}else{for(l in j){if(n||!(l in k)){k[l]=j[l]}}s._IEEnumFix(k,j)}return k},augmentProto:function(j,m){if(!m||!j){throw new Error("Augment failed, verify dependencies.")}var k=[j.prototype,m.prototype],l;for(l=2;l<arguments.length;l=l+1){k.push(arguments[l])}s.augmentObject.apply(this,k);return j},dump:function(p,l){var r,k,n=[],o="{...}",q="f(){...}",m=", ",j=" => ";if(!s.isObject(p)){return p+""}else{if(p instanceof Date||("nodeType" in p&&"tagName" in p)){return p}else{if(s.isFunction(p)){return q}}}l=(s.isNumber(l))?l:3;if(s.isArray(p)){n.push("[");for(r=0,k=p.length;r<k;r=r+1){if(s.isObject(p[r])){n.push((l>0)?s.dump(p[r],l-1):o)}else{n.push(p[r])}n.push(m)}if(n.length>1){n.pop()}n.push("]")}else{n.push("{");for(r in p){if(s.hasOwnProperty(p,r)){n.push(r+j);if(s.isObject(p[r])){n.push((l>0)?s.dump(p[r],l-1):o)}else{n.push(p[r])}n.push(m)}}if(n.length>1){n.pop()}n.push("}")}return n.join("")},substitute:function(F,G,A,j){var x,r,p,D,y,B,C=[],m,T=F.length,n="dump",q=" ",o="{",k="}",l,E;for(;;){x=F.lastIndexOf(o,T);if(x<0){break}r=F.indexOf(k,x);if(x+1>r){break}m=F.substring(x+1,r);D=m;B=null;p=D.indexOf(q);if(p>-1){B=D.substring(p+1);D=D.substring(0,p)}y=G[D];if(A){y=A(D,y,B)}if(s.isObject(y)){if(s.isArray(y)){y=s.dump(y,parseInt(B,10))}else{B=B||"";l=B.indexOf(n);if(l>-1){B=B.substring(4)}E=y.toString();if(E===w||l>-1){y=s.dump(y,parseInt(B,10))}else{y=E}}}else{if(!s.isString(y)&&!s.isNumber(y)){y="~-"+C.length+"-~";C[C.length]=m}}F=F.substring(0,x)+y+F.substring(r+1);if(j===false){T=x-1}}for(x=C.length-1;x>=0;x=x-1){F=F.replace(new RegExp("~-"+x+"-~"),"{"+C[x]+"}","g")}return F},trim:function(k){try{return k.replace(/^\s+|\s+$/g,"")}catch(j){return k}},merge:function(){var k={},m=arguments,l=m.length,j;for(j=0;j<l;j=j+1){s.augmentObject(k,m[j],true)}return k},later:function(p,j,q,l,m){p=p||0;j=j||{};var k=q,n=l,o,r;if(s.isString(q)){k=j[q]}if(!k){throw new TypeError("method undefined")}if(!s.isUndefined(l)&&!s.isArray(n)){n=[l]}o=function(){k.apply(j,n||c)};r=(m)?setInterval(o,p):setTimeout(o,p);return{interval:m,cancel:function(){if(this.interval){clearInterval(r)}else{clearTimeout(r)}}}},isValue:function(j){return(s.isObject(j)||s.isString(j)||s.isNumber(j)||s.isBoolean(j))}};s.hasOwnProperty=(b.hasOwnProperty)?function(k,j){return k&&k.hasOwnProperty&&k.hasOwnProperty(j)}:function(k,j){return !s.isUndefined(k[j])&&k.constructor.prototype[j]!==k[j]};g.augmentObject(s,g,true);YAHOO.util.Lang=s;s.augment=s.augmentProto;YAHOO.augment=s.augmentProto;YAHOO.extend=s.extend})();YAHOO.register("yahoo",YAHOO,{version:"2.9.0",build:"2800"});var CryptoJS=CryptoJS||(function(C,E){var f={};var j=f.lib={};var c=j.Base=(function(){function n(){}return{extend:function(p){n.prototype=this;var o=new n();if(p){o.mixIn(p)}if(!o.hasOwnProperty("init")){o.init=function(){o.$super.init.apply(this,arguments)}}o.init.prototype=o;o.$super=this;return o},create:function(){var o=this.extend();o.init.apply(o,arguments);return o},init:function(){},mixIn:function(p){for(var o in p){if(p.hasOwnProperty(o)){this[o]=p[o]}}if(p.hasOwnProperty("toString")){this.toString=p.toString}},clone:function(){return this.init.prototype.extend(this)}}}());var g=j.WordArray=c.extend({init:function(n,o){n=this.words=n||[];if(o!=E){this.sigBytes=o}else{this.sigBytes=n.length*4}},toString:function(n){return(n||F).stringify(this)},concat:function(n){var r=this.words;var q=n.words;var o=this.sigBytes;var u=n.sigBytes;this.clamp();if(o%4){for(var s=0;s<u;s++){var p=(q[s>>>2]>>>(24-(s%4)*8))&255;r[(o+s)>>>2]|=p<<(24-((o+s)%4)*8)}}else{for(var s=0;s<u;s+=4){r[(o+s)>>>2]=q[s>>>2]}}this.sigBytes+=u;return this},clamp:function(){var n=this.words;var o=this.sigBytes;n[o>>>2]&=4294967295<<(32-(o%4)*8);n.length=C.ceil(o/4)},clone:function(){var n=c.clone.call(this);n.words=this.words.slice(0);return n},random:function(n){var p=[];for(var o=0;o<n;o+=4){p.push((C.random()*4294967296)|0)}return new g.init(p,n)}});var k=f.enc={};var F=k.Hex={stringify:function(q){var s=q.words;var p=q.sigBytes;var r=[];for(var o=0;o<p;o++){var n=(s[o>>>2]>>>(24-(o%4)*8))&255;r.push((n>>>4).toString(16));r.push((n&15).toString(16))}return r.join("")},parse:function(q){var o=q.length;var n=[];for(var p=0;p<o;p+=2){n[p>>>3]|=parseInt(q.substr(p,2),16)<<(24-(p%8)*4)}return new g.init(n,o/2)}};var m=k.Latin1={stringify:function(r){var s=r.words;var q=r.sigBytes;var o=[];for(var p=0;p<q;p++){var n=(s[p>>>2]>>>(24-(p%4)*8))&255;o.push(String.fromCharCode(n))}return o.join("")},parse:function(q){var o=q.length;var n=[];for(var p=0;p<o;p++){n[p>>>2]|=(q.charCodeAt(p)&255)<<(24-(p%4)*8)}return new g.init(n,o)}};var l=k.Utf8={stringify:function(o){try{return decodeURIComponent(escape(m.stringify(o)))}catch(n){throw new Error("Malformed UTF-8 data")}},parse:function(n){return m.parse(unescape(encodeURIComponent(n)))}};var b=j.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new g.init();this._nDataBytes=0},_append:function(n){if(typeof n=="string"){n=l.parse(n)}this._data.concat(n);this._nDataBytes+=n.sigBytes},_process:function(r){var x=this._data;var s=x.words;var u=x.sigBytes;var o=this.blockSize;var q=o*4;var p=u/q;if(r){p=C.ceil(p)}else{p=C.max((p|0)-this._minBufferSize,0)}var n=p*o;var y=C.min(n*4,u);if(n){for(var w=0;w<n;w+=o){this._doProcessBlock(s,w)}var v=s.splice(0,n);x.sigBytes-=y}return new g.init(v,y)},clone:function(){var n=c.clone.call(this);n._data=this._data.clone();return n},_minBufferSize:0});var D=j.Hasher=b.extend({cfg:c.extend(),init:function(n){this.cfg=this.cfg.extend(n);this.reset()},reset:function(){b.reset.call(this);this._doReset()},update:function(n){this._append(n);this._process();return this},finalize:function(o){if(o){this._append(o)}var n=this._doFinalize();return n},blockSize:512/32,_createHelper:function(n){return function(p,o){return new n.init(o).finalize(p)}},_createHmacHelper:function(n){return function(p,o){return new d.HMAC.init(n,o).finalize(p)}}});var d=f.algo={};return f}(Math));(function(m){var f=CryptoJS,l=f.lib,g=l.Base,n=l.WordArray,f=f.x64={};f.Word=g.extend({init:function(c,b){this.high=c;this.low=b}});f.WordArray=g.extend({init:function(c,b){c=this.words=c||[];this.sigBytes=b!=m?b:8*c.length},toX32:function(){for(var j=this.words,k=j.length,d=[],b=0;b<k;b++){var c=j[b];d.push(c.high);d.push(c.low)}return n.create(d,this.sigBytes)},clone:function(){for(var j=g.clone.call(this),b=j.words=this.words.slice(0),d=b.length,c=0;c<d;c++){b[c]=b[c].clone()}return j}})})();CryptoJS.lib.Cipher||function(I){var g=CryptoJS,f=g.lib,p=f.Base,r=f.WordArray,n=f.BufferedBlockAlgorithm,q=g.enc.Base64,J=g.algo.EvpKDF,l=f.Cipher=n.extend({cfg:p.extend(),createEncryptor:function(b,c){return this.create(this._ENC_XFORM_MODE,b,c)},createDecryptor:function(b,c){return this.create(this._DEC_XFORM_MODE,b,c)},init:function(c,d,b){this.cfg=this.cfg.extend(b);this._xformMode=c;this._key=d;this.reset()},reset:function(){n.reset.call(this);this._doReset()},process:function(b){this._append(b);return this._process()},finalize:function(b){b&&this._append(b);return this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(b){return{encrypt:function(o,c,d){return("string"==typeof c?u:k).encrypt(b,o,c,d)},decrypt:function(o,c,d){return("string"==typeof c?u:k).decrypt(b,o,c,d)}}}});f.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var s=g.mode={},v=function(o,w,b){var c=this._iv;c?this._iv=I:c=this._prevBlock;for(var d=0;d<b;d++){o[w+d]^=c[d]}},j=(f.BlockCipherMode=p.extend({createEncryptor:function(b,c){return this.Encryptor.create(b,c)},createDecryptor:function(b,c){return this.Decryptor.create(b,c)},init:function(b,c){this._cipher=b;this._iv=c}})).extend();j.Encryptor=j.extend({processBlock:function(d,o){var b=this._cipher,c=b.blockSize;v.call(this,d,o,c);b.encryptBlock(d,o);this._prevBlock=d.slice(o,o+c)}});j.Decryptor=j.extend({processBlock:function(o,w){var b=this._cipher,c=b.blockSize,d=o.slice(w,w+c);b.decryptBlock(o,w);v.call(this,o,w,c);this._prevBlock=d}});s=s.CBC=j;j=(g.pad={}).Pkcs7={pad:function(o,w){for(var x=4*w,x=x-o.sigBytes%x,b=x<<24|x<<16|x<<8|x,c=[],d=0;d<x;d+=4){c.push(b)}x=r.create(c,x);o.concat(x)},unpad:function(b){b.sigBytes-=b.words[b.sigBytes-1>>>2]&255}};f.BlockCipher=l.extend({cfg:l.cfg.extend({mode:s,padding:j}),reset:function(){l.reset.call(this);var c=this.cfg,d=c.iv,c=c.mode;if(this._xformMode==this._ENC_XFORM_MODE){var b=c.createEncryptor}else{b=c.createDecryptor,this._minBufferSize=1}this._mode=b.call(c,this,d&&d.words)},_doProcessBlock:function(b,c){this._mode.processBlock(b,c)},_doFinalize:function(){var b=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){b.pad(this._data,this.blockSize);var c=this._process(!0)}else{c=this._process(!0),b.unpad(c)}return c},blockSize:4});var m=f.CipherParams=p.extend({init:function(b){this.mixIn(b)},toString:function(b){return(b||this.formatter).stringify(this)}}),s=(g.format={}).OpenSSL={stringify:function(b){var c=b.ciphertext;b=b.salt;return(b?r.create([1398893684,1701076831]).concat(b).concat(c):c).toString(q)},parse:function(c){c=q.parse(c);var d=c.words;if(1398893684==d[0]&&1701076831==d[1]){var b=r.create(d.slice(2,4));d.splice(0,4);c.sigBytes-=16}return m.create({ciphertext:c,salt:b})}},k=f.SerializableCipher=p.extend({cfg:p.extend({format:s}),encrypt:function(o,w,b,c){c=this.cfg.extend(c);var d=o.createEncryptor(b,c);w=d.finalize(w);d=d.cfg;return m.create({ciphertext:w,key:b,iv:d.iv,algorithm:o,mode:d.mode,padding:d.padding,blockSize:o.blockSize,formatter:c.format})},decrypt:function(d,o,b,c){c=this.cfg.extend(c);o=this._parse(o,c.format);return d.createDecryptor(b,c).finalize(o.ciphertext)},_parse:function(b,c){return"string"==typeof b?c.parse(b,this):b}}),g=(g.kdf={}).OpenSSL={execute:function(d,o,b,c){c||(c=r.random(8));d=J.create({keySize:o+b}).compute(d,c);b=r.create(d.words.slice(o),4*b);d.sigBytes=4*o;return m.create({key:d,iv:b,salt:c})}},u=f.PasswordBasedCipher=k.extend({cfg:k.cfg.extend({kdf:g}),encrypt:function(d,o,b,c){c=this.cfg.extend(c);b=c.kdf.execute(b,d.keySize,d.ivSize);c.iv=b.iv;d=k.encrypt.call(this,d,o,b.key,c);d.mixIn(b);return d},decrypt:function(d,o,b,c){c=this.cfg.extend(c);o=this._parse(o,c.format);b=c.kdf.execute(b,d.keySize,d.ivSize,o.salt);c.iv=b.iv;return k.decrypt.call(this,d,o,b.key,c)}})}();(function(){for(var r=CryptoJS,F=r.lib.BlockCipher,u=r.algo,j=[],Y=[],Z=[],q=[],s=[],v=[],w=[],B=[],D=[],E=[],g=[],k=0;256>k;k++){g[k]=128>k?k<<1:k<<1^283}for(var n=0,l=0,k=0;256>k;k++){var f=l^l<<1^l<<2^l<<3^l<<4,f=f>>>8^f&255^99;j[n]=f;Y[f]=n;var y=g[n],x=g[y],A=g[x],b=257*g[f]^16843008*f;Z[n]=b<<24|b>>>8;q[n]=b<<16|b>>>16;s[n]=b<<8|b>>>24;v[n]=b;b=16843009*A^65537*x^257*y^16843008*n;w[f]=b<<24|b>>>8;B[f]=b<<16|b>>>16;D[f]=b<<8|b>>>24;E[f]=b;n?(n=y^g[g[g[A^y]]],l^=g[g[l]]):n=l=1}var C=[0,1,2,4,8,16,32,64,128,27,54],u=u.AES=F.extend({_doReset:function(){for(var G=this._key,d=G.words,o=G.sigBytes/4,G=4*((this._nRounds=o+6)+1),p=this._keySchedule=[],m=0;m<G;m++){if(m<o){p[m]=d[m]}else{var c=p[m-1];m%o?6<o&&4==m%o&&(c=j[c>>>24]<<24|j[c>>>16&255]<<16|j[c>>>8&255]<<8|j[c&255]):(c=c<<8|c>>>24,c=j[c>>>24]<<24|j[c>>>16&255]<<16|j[c>>>8&255]<<8|j[c&255],c^=C[m/o|0]<<24);p[m]=p[m-o]^c}}d=this._invKeySchedule=[];for(o=0;o<G;o++){m=G-o,c=o%4?p[m]:p[m-4],d[o]=4>o||4>=m?c:w[j[c>>>24]]^B[j[c>>>16&255]]^D[j[c>>>8&255]]^E[j[c&255]]}},encryptBlock:function(d,c){this._doCryptBlock(d,c,this._keySchedule,Z,q,s,v,j)},decryptBlock:function(d,m){var c=d[m+1];d[m+1]=d[m+3];d[m+3]=c;this._doCryptBlock(d,m,this._invKeySchedule,w,B,D,E,Y);c=d[m+1];d[m+1]=d[m+3];d[m+3]=c},_doCryptBlock:function(Q,S,O,P,H,R,J,M){for(var N=this._nRounds,c=Q[S]^O[0],d=Q[S+1]^O[1],K=Q[S+2]^O[2],m=Q[S+3]^O[3],L=4,I=1;I<N;I++){var o=P[c>>>24]^H[d>>>16&255]^R[K>>>8&255]^J[m&255]^O[L++],p=P[d>>>24]^H[K>>>16&255]^R[m>>>8&255]^J[c&255]^O[L++],G=P[K>>>24]^H[m>>>16&255]^R[c>>>8&255]^J[d&255]^O[L++],m=P[m>>>24]^H[c>>>16&255]^R[d>>>8&255]^J[K&255]^O[L++],c=o,d=p,K=G}o=(M[c>>>24]<<24|M[d>>>16&255]<<16|M[K>>>8&255]<<8|M[m&255])^O[L++];p=(M[d>>>24]<<24|M[K>>>16&255]<<16|M[m>>>8&255]<<8|M[c&255])^O[L++];G=(M[K>>>24]<<24|M[m>>>16&255]<<16|M[c>>>8&255]<<8|M[d&255])^O[L++];m=(M[m>>>24]<<24|M[c>>>16&255]<<16|M[d>>>8&255]<<8|M[K&255])^O[L++];Q[S]=o;Q[S+1]=p;Q[S+2]=G;Q[S+3]=m},keySize:8});r.AES=F._createHelper(u)})();(function(){function D(d,b){var c=(this._lBlock>>>d^this._rBlock)&b;this._rBlock^=c;this._lBlock^=c<<d}function j(d,b){var c=(this._rBlock>>>d^this._lBlock)&b;this._lBlock^=c;this._rBlock^=c<<d}var C=CryptoJS,s=C.lib,m=s.WordArray,s=s.BlockCipher,B=C.algo,p=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],n=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],r=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],g=[{"0":8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{"0":1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{"0":260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{"0":2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{"0":128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{"0":268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{"0":1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{"0":134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],q=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],l=B.DES=s.extend({_doReset:function(){for(var f=this._key.words,k=[],d=0;56>d;d++){var c=p[d]-1;k[d]=f[c>>>5]>>>31-c%32&1}f=this._subKeys=[];for(c=0;16>c;c++){for(var o=f[c]=[],b=r[c],d=0;24>d;d++){o[d/6|0]|=k[(n[d]-1+b)%28]<<31-d%6,o[4+(d/6|0)]|=k[28+(n[d+24]-1+b)%28]<<31-d%6}o[0]=o[0]<<1|o[0]>>>31;for(d=1;7>d;d++){o[d]>>>=4*(d-1)+3}o[7]=o[7]<<5|o[7]>>>27}k=this._invSubKeys=[];for(d=0;16>d;d++){k[d]=f[15-d]}},encryptBlock:function(c,b){this._doCryptBlock(c,b,this._subKeys)},decryptBlock:function(c,b){this._doCryptBlock(c,b,this._invSubKeys)},_doCryptBlock:function(w,b,d){this._lBlock=w[b];this._rBlock=w[b+1];D.call(this,4,252645135);D.call(this,16,65535);j.call(this,2,858993459);j.call(this,8,16711935);D.call(this,1,1431655765);for(var k=0;16>k;k++){for(var c=d[k],f=this._lBlock,u=this._rBlock,o=0,v=0;8>v;v++){o|=g[v][((u^c[v])&q[v])>>>0]}this._lBlock=u;this._rBlock=f^o}d=this._lBlock;this._lBlock=this._rBlock;this._rBlock=d;D.call(this,1,1431655765);j.call(this,8,16711935);j.call(this,2,858993459);D.call(this,16,65535);D.call(this,4,252645135);w[b]=this._lBlock;w[b+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});C.DES=s._createHelper(l);B=B.TripleDES=s.extend({_doReset:function(){var b=this._key.words;this._des1=l.createEncryptor(m.create(b.slice(0,2)));this._des2=l.createEncryptor(m.create(b.slice(2,4)));this._des3=l.createEncryptor(m.create(b.slice(4,6)))},encryptBlock:function(c,b){this._des1.encryptBlock(c,b);this._des2.decryptBlock(c,b);this._des3.encryptBlock(c,b)},decryptBlock:function(c,b){this._des3.decryptBlock(c,b);this._des2.encryptBlock(c,b);this._des1.decryptBlock(c,b)},keySize:6,ivSize:2,blockSize:2});C.TripleDES=s._createHelper(B)})();(function(){var f=CryptoJS,d=f.lib.WordArray;f.enc.Base64={stringify:function(q){var u=q.words,b=q.sigBytes,r=this._map;q.clamp();q=[];for(var g=0;g<b;g+=3){for(var s=(u[g>>>2]>>>24-8*(g%4)&255)<<16|(u[g+1>>>2]>>>24-8*((g+1)%4)&255)<<8|u[g+2>>>2]>>>24-8*((g+2)%4)&255,c=0;4>c&&g+0.75*c<b;c++){q.push(r.charAt(s>>>6*(3-c)&63))}}if(u=r.charAt(64)){for(;q.length%4;){q.push(u)}}return q.join("")},parse:function(r){var v=r.length,w=this._map,s=w.charAt(64);s&&(s=r.indexOf(s),-1!=s&&(v=s));for(var s=[],g=0,u=0;u<v;u++){if(u%4){var b=w.indexOf(r.charAt(u-1))<<2*(u%4),c=w.indexOf(r.charAt(u))>>>6-2*(u%4);s[g>>>2]|=(b|c)<<24-8*(g%4);g++}}return d.create(s,g)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();(function(A){function q(d,c,f,j,b,g,m){d=d+(c&f|~c&j)+b+m;return(d<<g|d>>>32-g)+c}function r(d,c,f,j,b,g,m){d=d+(c&j|f&~j)+b+m;return(d<<g|d>>>32-g)+c}function s(g,m,b,d,c,f,j){g=g+(m^b^d)+c+j;return(g<<f|g>>>32-f)+m}function w(g,m,b,d,c,f,j){g=g+(b^(m|~d))+c+j;return(g<<f|g>>>32-f)+m}for(var y=CryptoJS,x=y.lib,k=x.WordArray,B=x.Hasher,x=y.algo,n=[],l=0;64>l;l++){n[l]=4294967296*A.abs(A.sin(l+1))|0}x=x.MD5=B.extend({_doReset:function(){this._hash=new k.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(o,g){for(var j=0;16>j;j++){var m=g+j,p=o[m];o[m]=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360}var j=this._hash.words,m=o[g+0],p=o[g+1],v=o[g+2],D=o[g+3],Z=o[g+4],ab=o[g+5],ac=o[g+6],ad=o[g+7],ae=o[g+8],af=o[g+9],ag=o[g+10],ah=o[g+11],u=o[g+12],C=o[g+13],Y=o[g+14],aa=o[g+15],b=j[0],c=j[1],d=j[2],f=j[3],b=q(b,c,d,f,m,7,n[0]),f=q(f,b,c,d,p,12,n[1]),d=q(d,f,b,c,v,17,n[2]),c=q(c,d,f,b,D,22,n[3]),b=q(b,c,d,f,Z,7,n[4]),f=q(f,b,c,d,ab,12,n[5]),d=q(d,f,b,c,ac,17,n[6]),c=q(c,d,f,b,ad,22,n[7]),b=q(b,c,d,f,ae,7,n[8]),f=q(f,b,c,d,af,12,n[9]),d=q(d,f,b,c,ag,17,n[10]),c=q(c,d,f,b,ah,22,n[11]),b=q(b,c,d,f,u,7,n[12]),f=q(f,b,c,d,C,12,n[13]),d=q(d,f,b,c,Y,17,n[14]),c=q(c,d,f,b,aa,22,n[15]),b=r(b,c,d,f,p,5,n[16]),f=r(f,b,c,d,ac,9,n[17]),d=r(d,f,b,c,ah,14,n[18]),c=r(c,d,f,b,m,20,n[19]),b=r(b,c,d,f,ab,5,n[20]),f=r(f,b,c,d,ag,9,n[21]),d=r(d,f,b,c,aa,14,n[22]),c=r(c,d,f,b,Z,20,n[23]),b=r(b,c,d,f,af,5,n[24]),f=r(f,b,c,d,Y,9,n[25]),d=r(d,f,b,c,D,14,n[26]),c=r(c,d,f,b,ae,20,n[27]),b=r(b,c,d,f,C,5,n[28]),f=r(f,b,c,d,v,9,n[29]),d=r(d,f,b,c,ad,14,n[30]),c=r(c,d,f,b,u,20,n[31]),b=s(b,c,d,f,ab,4,n[32]),f=s(f,b,c,d,ae,11,n[33]),d=s(d,f,b,c,ah,16,n[34]),c=s(c,d,f,b,Y,23,n[35]),b=s(b,c,d,f,p,4,n[36]),f=s(f,b,c,d,Z,11,n[37]),d=s(d,f,b,c,ad,16,n[38]),c=s(c,d,f,b,ag,23,n[39]),b=s(b,c,d,f,C,4,n[40]),f=s(f,b,c,d,m,11,n[41]),d=s(d,f,b,c,D,16,n[42]),c=s(c,d,f,b,ac,23,n[43]),b=s(b,c,d,f,af,4,n[44]),f=s(f,b,c,d,u,11,n[45]),d=s(d,f,b,c,aa,16,n[46]),c=s(c,d,f,b,v,23,n[47]),b=w(b,c,d,f,m,6,n[48]),f=w(f,b,c,d,ad,10,n[49]),d=w(d,f,b,c,Y,15,n[50]),c=w(c,d,f,b,ab,21,n[51]),b=w(b,c,d,f,u,6,n[52]),f=w(f,b,c,d,D,10,n[53]),d=w(d,f,b,c,ag,15,n[54]),c=w(c,d,f,b,p,21,n[55]),b=w(b,c,d,f,ae,6,n[56]),f=w(f,b,c,d,aa,10,n[57]),d=w(d,f,b,c,ac,15,n[58]),c=w(c,d,f,b,C,21,n[59]),b=w(b,c,d,f,Z,6,n[60]),f=w(f,b,c,d,ah,10,n[61]),d=w(d,f,b,c,v,15,n[62]),c=w(c,d,f,b,af,21,n[63]);j[0]=j[0]+b|0;j[1]=j[1]+c|0;j[2]=j[2]+d|0;j[3]=j[3]+f|0},_doFinalize:function(){var c=this._data,d=c.words,f=8*this._nDataBytes,b=8*c.sigBytes;d[b>>>5]|=128<<24-b%32;var g=A.floor(f/4294967296);d[(b+64>>>9<<4)+15]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360;d[(b+64>>>9<<4)+14]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360;c.sigBytes=4*(d.length+1);this._process();c=this._hash;d=c.words;for(f=0;4>f;f++){b=d[f],d[f]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360}return c},clone:function(){var b=B.clone.call(this);b._hash=this._hash.clone();return b}});y.MD5=B._createHelper(x);y.HmacMD5=B._createHmacHelper(x)})(Math);(function(){var b=CryptoJS,k=b.lib,m=k.WordArray,d=k.Hasher,l=[],k=b.algo.SHA1=d.extend({_doReset:function(){this._hash=new m.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(p,w){for(var x=this._hash.words,c=x[0],f=x[1],j=x[2],n=x[3],y=x[4],A=0;80>A;A++){if(16>A){l[A]=p[w+A]|0}else{var g=l[A-3]^l[A-8]^l[A-14]^l[A-16];l[A]=g<<1|g>>>31}g=(c<<5|c>>>27)+y+l[A];g=20>A?g+((f&j|~f&n)+1518500249):40>A?g+((f^j^n)+1859775393):60>A?g+((f&j|f&n|j&n)-1894007588):g+((f^j^n)-899497514);y=n;n=j;j=f<<30|f>>>2;f=c;c=g}x[0]=x[0]+c|0;x[1]=x[1]+f|0;x[2]=x[2]+j|0;x[3]=x[3]+n|0;x[4]=x[4]+y|0},_doFinalize:function(){var g=this._data,j=g.words,f=8*this._nDataBytes,c=8*g.sigBytes;j[c>>>5]|=128<<24-c%32;j[(c+64>>>9<<4)+14]=Math.floor(f/4294967296);j[(c+64>>>9<<4)+15]=f;g.sigBytes=4*j.length;this._process();return this._hash},clone:function(){var c=d.clone.call(this);c._hash=this._hash.clone();return c}});b.SHA1=d._createHelper(k);b.HmacSHA1=d._createHmacHelper(k)})();(function(n){for(var w=CryptoJS,g=w.lib,d=g.WordArray,k=g.Hasher,g=w.algo,G=[],H=[],b=function(c){return 4294967296*(c-(c|0))|0},r=2,l=0;64>l;){var v;a:{v=r;for(var j=n.sqrt(v),u=2;u<=j;u++){if(!(v%u)){v=!1;break a}}v=!0}v&&(8>l&&(G[l]=b(n.pow(r,0.5))),H[l]=b(n.pow(r,1/3)),l++);r++}var s=[],g=g.SHA256=k.extend({_doReset:function(){this._hash=new d.init(G.slice(0))},_doProcessBlock:function(f,E){for(var m=this._hash.words,p=m[0],q=m[1],o=m[2],C=m[3],A=m[4],B=m[5],y=m[6],D=m[7],x=0;64>x;x++){if(16>x){s[x]=f[E+x]|0}else{var F=s[x-15],c=s[x-2];s[x]=((F<<25|F>>>7)^(F<<14|F>>>18)^F>>>3)+s[x-7]+((c<<15|c>>>17)^(c<<13|c>>>19)^c>>>10)+s[x-16]}F=D+((A<<26|A>>>6)^(A<<21|A>>>11)^(A<<7|A>>>25))+(A&B^~A&y)+H[x]+s[x];c=((p<<30|p>>>2)^(p<<19|p>>>13)^(p<<10|p>>>22))+(p&q^p&o^q&o);D=y;y=B;B=A;A=C+F|0;C=o;o=q;q=p;p=F+c|0}m[0]=m[0]+p|0;m[1]=m[1]+q|0;m[2]=m[2]+o|0;m[3]=m[3]+C|0;m[4]=m[4]+A|0;m[5]=m[5]+B|0;m[6]=m[6]+y|0;m[7]=m[7]+D|0},_doFinalize:function(){var f=this._data,o=f.words,m=8*this._nDataBytes,c=8*f.sigBytes;o[c>>>5]|=128<<24-c%32;o[(c+64>>>9<<4)+14]=n.floor(m/4294967296);o[(c+64>>>9<<4)+15]=m;f.sigBytes=4*o.length;this._process();return this._hash},clone:function(){var c=k.clone.call(this);c._hash=this._hash.clone();return c}});w.SHA256=k._createHelper(g);w.HmacSHA256=k._createHmacHelper(g)})(Math);(function(){var l=CryptoJS,c=l.lib.WordArray,d=l.algo,b=d.SHA256,d=d.SHA224=b.extend({_doReset:function(){this._hash=new c.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var f=b._doFinalize.call(this);f.sigBytes-=4;return f}});l.SHA224=b._createHelper(d);l.HmacSHA224=b._createHmacHelper(d)})();(function(){function p(){return r.create.apply(r,arguments)}for(var v=CryptoJS,w=v.lib.Hasher,s=v.x64,r=s.Word,u=s.WordArray,s=v.algo,q=[p(1116352408,3609767458),p(1899447441,602891725),p(3049323471,3964484399),p(3921009573,2173295548),p(961987163,4081628472),p(1508970993,3053834265),p(2453635748,2937671579),p(2870763221,3664609560),p(3624381080,2734883394),p(310598401,1164996542),p(607225278,1323610764),p(1426881987,3590304994),p(1925078388,4068182383),p(2162078206,991336113),p(2614888103,633803317),p(3248222580,3479774868),p(3835390401,2666613458),p(4022224774,944711139),p(264347078,2341262773),p(604807628,2007800933),p(770255983,1495990901),p(1249150122,1856431235),p(1555081692,3175218132),p(1996064986,2198950837),p(2554220882,3999719339),p(2821834349,766784016),p(2952996808,2566594879),p(3210313671,3203337956),p(3336571891,1034457026),p(3584528711,2466948901),p(113926993,3758326383),p(338241895,168717936),p(666307205,1188179964),p(773529912,1546045734),p(1294757372,1522805485),p(1396182291,2643833823),p(1695183700,2343527390),p(1986661051,1014477480),p(2177026350,1206759142),p(2456956037,344077627),p(2730485921,1290863460),p(2820302411,3158454273),p(3259730800,3505952657),p(3345764771,106217008),p(3516065817,3606008344),p(3600352804,1432725776),p(4094571909,1467031594),p(275423344,851169720),p(430227734,3100823752),p(506948616,1363258195),p(659060556,3750685593),p(883997877,3785050280),p(958139571,3318307427),p(1322822218,3812723403),p(1537002063,2003034995),p(1747873779,3602036899),p(1955562222,1575990012),p(2024104815,1125592928),p(2227730452,2716904306),p(2361852424,442776044),p(2428436474,593698344),p(2756734187,3733110249),p(3204031479,2999351573),p(3329325298,3815920427),p(3391569614,3928383900),p(3515267271,566280711),p(3940187606,3454069534),p(4118630271,4000239992),p(116418474,1914138554),p(174292421,2731055270),p(289380356,3203993006),p(460393269,320620315),p(685471733,587496836),p(852142971,1086792851),p(1017036298,365543100),p(1126000580,2618297676),p(1288033470,3409855158),p(1501505948,4234509866),p(1607167915,987167468),p(1816402316,1246189591)],d=[],n=0;80>n;n++){d[n]=p()}s=s.SHA512=w.extend({_doReset:function(){this._hash=new u.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(ap,N){for(var P=this._hash.words,j=P[0],O=P[1],W=P[2],Z=P[3],k=P[4],l=P[5],m=P[6],P=P[7],ad=j.high,o=j.low,L=O.high,x=O.low,M=W.high,y=W.low,an=Z.high,A=Z.low,aj=k.high,B=k.low,al=l.high,C=l.low,ao=m.high,D=m.low,ai=P.high,E=P.low,T=ad,Q=o,ag=L,ae=x,am=M,af=y,I=an,b=A,U=aj,R=B,F=al,c=C,G=ao,f=D,J=ai,g=E,V=0;80>V;V++){var aa=d[V];if(16>V){var S=aa.high=ap[N+2*V]|0,aq=aa.low=ap[N+2*V+1]|0}else{var S=d[V-15],aq=S.high,X=S.low,S=(aq>>>1|X<<31)^(aq>>>8|X<<24)^aq>>>7,X=(X>>>1|aq<<31)^(X>>>8|aq<<24)^(X>>>7|aq<<25),ac=d[V-2],aq=ac.high,ar=ac.low,ac=(aq>>>19|ar<<13)^(aq<<3|ar>>>29)^aq>>>6,ar=(ar>>>19|aq<<13)^(ar<<3|aq>>>29)^(ar>>>6|aq<<26),aq=d[V-7],K=aq.high,ab=d[V-16],Y=ab.high,ab=ab.low,aq=X+aq.low,S=S+K+(aq>>>0<X>>>0?1:0),aq=aq+ar,S=S+ac+(aq>>>0<ar>>>0?1:0),aq=aq+ab,S=S+Y+(aq>>>0<ab>>>0?1:0);aa.high=S;aa.low=aq}var K=U&F^~U&G,ab=R&c^~R&f,aa=T&ag^T&am^ag&am,H=Q&ae^Q&af^ae&af,X=(T>>>28|Q<<4)^(T<<30|Q>>>2)^(T<<25|Q>>>7),ac=(Q>>>28|T<<4)^(Q<<30|T>>>2)^(Q<<25|T>>>7),ar=q[V],ah=ar.high,ak=ar.low,ar=g+((R>>>14|U<<18)^(R>>>18|U<<14)^(R<<23|U>>>9)),Y=J+((U>>>14|R<<18)^(U>>>18|R<<14)^(U<<23|R>>>9))+(ar>>>0<g>>>0?1:0),ar=ar+ab,Y=Y+K+(ar>>>0<ab>>>0?1:0),ar=ar+ak,Y=Y+ah+(ar>>>0<ak>>>0?1:0),ar=ar+aq,Y=Y+S+(ar>>>0<aq>>>0?1:0),aq=ac+H,aa=X+aa+(aq>>>0<ac>>>0?1:0),J=G,g=f,G=F,f=c,F=U,c=R,R=b+ar|0,U=I+Y+(R>>>0<b>>>0?1:0)|0,I=am,b=af,am=ag,af=ae,ag=T,ae=Q,Q=ar+aq|0,T=Y+aa+(Q>>>0<ar>>>0?1:0)|0}o=j.low=o+Q;j.high=ad+T+(o>>>0<Q>>>0?1:0);x=O.low=x+ae;O.high=L+ag+(x>>>0<ae>>>0?1:0);y=W.low=y+af;W.high=M+am+(y>>>0<af>>>0?1:0);A=Z.low=A+b;Z.high=an+I+(A>>>0<b>>>0?1:0);B=k.low=B+R;k.high=aj+U+(B>>>0<R>>>0?1:0);C=l.low=C+c;l.high=al+F+(C>>>0<c>>>0?1:0);D=m.low=D+f;m.high=ao+G+(D>>>0<f>>>0?1:0);E=P.low=E+g;P.high=ai+J+(E>>>0<g>>>0?1:0)},_doFinalize:function(){var g=this._data,b=g.words,f=8*this._nDataBytes,c=8*g.sigBytes;b[c>>>5]|=128<<24-c%32;b[(c+128>>>10<<5)+30]=Math.floor(f/4294967296);b[(c+128>>>10<<5)+31]=f;g.sigBytes=4*b.length;this._process();return this._hash.toX32()},clone:function(){var b=w.clone.call(this);b._hash=this._hash.clone();return b},blockSize:32});v.SHA512=w._createHelper(s);v.HmacSHA512=w._createHmacHelper(s)})();(function(){var b=CryptoJS,m=b.x64,n=m.Word,d=m.WordArray,m=b.algo,c=m.SHA512,m=m.SHA384=c.extend({_doReset:function(){this._hash=new d.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var f=c._doFinalize.call(this);f.sigBytes-=16;return f}});b.SHA384=c._createHelper(m);b.HmacSHA384=c._createHmacHelper(m)})();(function(){var x=CryptoJS,q=x.lib,s=q.WordArray,v=q.Hasher,q=x.algo,d=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),n=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),p=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),w=s.create([0,1518500249,1859775393,2400959708,2840853838]),y=s.create([1352829926,1548603684,1836072691,2053994217,0]),q=q.RIPEMD160=v.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(j,T){for(var c=0;16>c;c++){var f=T+c,k=j[f];j[f]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360}var f=this._hash.words,k=w.words,g=y.words,X=d.words,Z=n.words,Y=p.words,V=u.words,ac,l,m,o,aa,ad,r,U,W,ab;ad=ac=f[0];r=l=f[1];U=m=f[2];W=o=f[3];ab=aa=f[4];for(var b,c=0;80>c;c+=1){b=ac+j[T+X[c]]|0,b=16>c?b+((l^m^o)+k[0]):32>c?b+((l&m|~l&o)+k[1]):48>c?b+(((l|~m)^o)+k[2]):64>c?b+((l&o|m&~o)+k[3]):b+((l^(m|~o))+k[4]),b|=0,b=b<<Y[c]|b>>>32-Y[c],b=b+aa|0,ac=aa,aa=o,o=m<<10|m>>>22,m=l,l=b,b=ad+j[T+Z[c]]|0,b=16>c?b+((r^(U|~W))+g[0]):32>c?b+((r&W|U&~W)+g[1]):48>c?b+(((r|~U)^W)+g[2]):64>c?b+((r&U|~r&W)+g[3]):b+((r^U^W)+g[4]),b|=0,b=b<<V[c]|b>>>32-V[c],b=b+ab|0,ad=ab,ab=W,W=U<<10|U>>>22,U=r,r=b}b=f[1]+m+W|0;f[1]=f[2]+o+ab|0;f[2]=f[3]+aa+ad|0;f[3]=f[4]+ac+r|0;f[4]=f[0]+l+U|0;f[0]=b},_doFinalize:function(){var f=this._data,c=f.words,g=8*this._nDataBytes,b=8*f.sigBytes;c[b>>>5]|=128<<24-b%32;c[(b+64>>>9<<4)+14]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360;f.sigBytes=4*(c.length+1);this._process();f=this._hash;c=f.words;for(g=0;5>g;g++){b=c[g],c[g]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360}return f},clone:function(){var b=v.clone.call(this);b._hash=this._hash.clone();return b}});x.RIPEMD160=v._createHelper(q);x.HmacRIPEMD160=v._createHmacHelper(q)})(Math);(function(){var f=CryptoJS,c=f.enc.Utf8;f.algo.HMAC=f.lib.Base.extend({init:function(y,b){y=this._hasher=new y.init();"string"==typeof b&&(b=c.parse(b));var d=y.blockSize,j=4*d;b.sigBytes>j&&(b=y.finalize(b));b.clamp();for(var u=this._oKey=b.clone(),v=this._iKey=b.clone(),w=u.words,x=v.words,g=0;g<d;g++){w[g]^=1549556828,x[g]^=909522486}u.sigBytes=v.sigBytes=j;this.reset()},reset:function(){var b=this._hasher;b.reset();b.update(this._iKey)},update:function(b){this._hasher.update(b);return this},finalize:function(b){var d=this._hasher;b=d.finalize(b);d.reset();return d.finalize(this._oKey.clone().concat(b))}})})();(function(){var m=CryptoJS,d=m.lib,p=d.Base,o=d.WordArray,d=m.algo,b=d.HMAC,l=d.PBKDF2=p.extend({cfg:p.extend({keySize:4,hasher:d.SHA1,iterations:1}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(O,P){for(var c=this.cfg,n=b.create(c.hasher,O),s=o.create(),g=o.create([1]),N=s.words,r=g.words,f=c.keySize,c=c.iterations;N.length<f;){var I=n.update(P).finalize(g);n.reset();for(var J=I.words,L=J.length,K=I,k=1;k<c;k++){K=n.finalize(K);n.reset();for(var M=K.words,j=0;j<L;j++){J[j]^=M[j]}}s.concat(I);r[0]++}s.sigBytes=4*f;return s}});m.PBKDF2=function(f,g,c){return l.create(c).compute(f,g)}})();var b64map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var b64pad="=";function hex2b64(b){var l;var d;var k="";for(l=0;l+3<=b.length;l+=3){d=parseInt(b.substring(l,l+3),16);k+=b64map.charAt(d>>6)+b64map.charAt(d&63)}if(l+1==b.length){d=parseInt(b.substring(l,l+1),16);k+=b64map.charAt(d<<2)}else{if(l+2==b.length){d=parseInt(b.substring(l,l+2),16);k+=b64map.charAt(d>>2)+b64map.charAt((d&3)<<4)}}if(b64pad){while((k.length&3)>0){k+=b64pad}}return k}function b64tohex(d){var b="";var c;var o=0;var p;var f;for(c=0;c<d.length;++c){if(d.charAt(c)==b64pad){break}f=b64map.indexOf(d.charAt(c));if(f<0){continue}if(o==0){b+=int2char(f>>2);p=f&3;o=1}else{if(o==1){b+=int2char((p<<2)|(f>>4));p=f&15;o=2}else{if(o==2){b+=int2char(p);b+=int2char(f>>2);p=f&3;o=3}else{b+=int2char((p<<2)|(f>>4));b+=int2char(f&15);o=0}}}}if(o==1){b+=int2char(p<<2)}return b}function b64toBA(d){var c=b64tohex(d);var b;var l=new Array();for(b=0;2*b<c.length;++b){l[b]=parseInt(c.substring(2*b,2*b+2),16)}return l}var dbits;var canary=244837814094590;var j_lm=((canary&16777215)==15715070);function BigInteger(j,f,d){if(j!=null){if("number"==typeof j){this.fromNumber(j,f,d)}else{if(f==null&&"string"!=typeof j){this.fromString(j,256)}else{this.fromString(j,f)}}}}function nbi(){return new BigInteger(null)}function am1(b,g,r,q,f,d){while(--d>=0){var p=g*this[b++]+r[q]+f;f=Math.floor(p/67108864);r[q++]=p&67108863}return f}function am2(A,g,k,r,d,o){var b=g&32767,f=g>>15;while(--o>=0){var q=this[A]&32767;var B=this[A++]>>15;var p=f*q+B*b;q=b*q+((p&32767)<<15)+k[r]+(d&1073741823);d=(q>>>30)+(p>>>15)+f*B+(d>>>30);k[r++]=q&1073741823}return d}function am3(A,g,k,r,d,o){var b=g&16383,f=g>>14;while(--o>=0){var q=this[A]&16383;var B=this[A++]>>14;var p=f*q+B*b;q=b*q+((p&16383)<<14)+k[r]+d;d=(q>>28)+(p>>14)+f*B;k[r++]=q&268435455}return d}if(j_lm&&(navigator.appName=="Microsoft Internet Explorer")){BigInteger.prototype.am=am2;dbits=30}else{if(j_lm&&(navigator.appName!="Netscape")){BigInteger.prototype.am=am1;dbits=26}else{BigInteger.prototype.am=am3;dbits=28}}BigInteger.prototype.DB=dbits;BigInteger.prototype.DM=((1<<dbits)-1);BigInteger.prototype.DV=(1<<dbits);var BI_FP=52;BigInteger.prototype.FV=Math.pow(2,BI_FP);BigInteger.prototype.F1=BI_FP-dbits;BigInteger.prototype.F2=2*dbits-BI_FP;var BI_RM="0123456789abcdefghijklmnopqrstuvwxyz";var BI_RC=new Array();var rr,vv;rr="0".charCodeAt(0);for(vv=0;vv<=9;++vv){BI_RC[rr++]=vv}rr="a".charCodeAt(0);for(vv=10;vv<36;++vv){BI_RC[rr++]=vv}rr="A".charCodeAt(0);for(vv=10;vv<36;++vv){BI_RC[rr++]=vv}function int2char(c){return BI_RM.charAt(c)}function intAt(j,d){var b=BI_RC[j.charCodeAt(d)];return(b==null)?-1:b}function bnpCopyTo(f){for(var b=this.t-1;b>=0;--b){f[b]=this[b]}f.t=this.t;f.s=this.s}function bnpFromInt(c){this.t=1;this.s=(c<0)?-1:0;if(c>0){this[0]=c}else{if(c<-1){this[0]=c+this.DV}else{this.t=0}}}function nbv(b){var f=nbi();f.fromInt(b);return f}function bnpFromString(p,q){var d;if(q==16){d=4}else{if(q==8){d=3}else{if(q==256){d=8}else{if(q==2){d=1}else{if(q==32){d=5}else{if(q==4){d=2}else{this.fromRadix(p,q);return}}}}}}this.t=0;this.s=0;var g=p.length,r=false,f=0;while(--g>=0){var c=(d==8)?p[g]&255:intAt(p,g);if(c<0){if(p.charAt(g)=="-"){r=true}continue}r=false;if(f==0){this[this.t++]=c}else{if(f+d>this.DB){this[this.t-1]|=(c&((1<<(this.DB-f))-1))<<f;this[this.t++]=(c>>(this.DB-f))}else{this[this.t-1]|=c<<f}}f+=d;if(f>=this.DB){f-=this.DB}}if(d==8&&(p[0]&128)!=0){this.s=-1;if(f>0){this[this.t-1]|=((1<<(this.DB-f))-1)<<f}}this.clamp();if(r){BigInteger.ZERO.subTo(this,this)}}function bnpClamp(){var c=this.s&this.DM;while(this.t>0&&this[this.t-1]==c){--this.t}}function bnToString(j){if(this.s<0){return"-"+this.negate().toString(j)}var l;if(j==16){l=4}else{if(j==8){l=3}else{if(j==2){l=1}else{if(j==32){l=5}else{if(j==4){l=2}else{return this.toRadix(j)}}}}}var u=(1<<l)-1,s,f=false,c="",r=this.t;var g=this.DB-(r*this.DB)%l;if(r-->0){if(g<this.DB&&(s=this[r]>>g)>0){f=true;c=int2char(s)}while(r>=0){if(g<l){s=(this[r]&((1<<g)-1))<<(l-g);s|=this[--r]>>(g+=this.DB-l)}else{s=(this[r]>>(g-=l))&u;if(g<=0){g+=this.DB;--r}}if(s>0){f=true}if(f){c+=int2char(s)}}}return f?c:"0"}function bnNegate(){var c=nbi();BigInteger.ZERO.subTo(this,c);return c}function bnAbs(){return(this.s<0)?this.negate():this}function bnCompareTo(d){var c=this.s-d.s;if(c!=0){return c}var b=this.t;c=b-d.t;if(c!=0){return(this.s<0)?-c:c}while(--b>=0){if((c=this[b]-d[b])!=0){return c}}return 0}function nbits(c){var b=1,j;if((j=c>>>16)!=0){c=j;b+=16}if((j=c>>8)!=0){c=j;b+=8}if((j=c>>4)!=0){c=j;b+=4}if((j=c>>2)!=0){c=j;b+=2}if((j=c>>1)!=0){c=j;b+=1}return b}function bnBitLength(){if(this.t<=0){return 0}return this.DB*(this.t-1)+nbits(this[this.t-1]^(this.s&this.DM))}function bnpDLShiftTo(b,j){var c;for(c=this.t-1;c>=0;--c){j[c+b]=this[c]}for(c=b-1;c>=0;--c){j[c]=0}j.t=this.t+b;j.s=this.s}function bnpDRShiftTo(b,j){for(var c=b;c<this.t;++c){j[c-b]=this[c]}j.t=Math.max(this.t-b,0);j.s=this.s}function bnpLShiftTo(d,j){var u=d%this.DB;var f=this.DB-u;var s=(1<<f)-1;var r=Math.floor(d/this.DB),b=(this.s<<u)&this.DM,g;for(g=this.t-1;g>=0;--g){j[g+r+1]=(this[g]>>f)|b;b=(this[g]&s)<<u}for(g=r-1;g>=0;--g){j[g]=0}j[r]=b;j.t=this.t+r+1;j.s=this.s;j.clamp()}function bnpRShiftTo(c,q){q.s=this.s;var r=Math.floor(c/this.DB);if(r>=this.t){q.t=0;return}var f=c%this.DB;var d=this.DB-f;var b=(1<<f)-1;q[0]=this[r]>>f;for(var g=r+1;g<this.t;++g){q[g-r-1]|=(this[g]&b)<<d;q[g-r]=this[g]>>f}if(f>0){q[this.t-r-1]|=(this.s&b)<<d}q.t=this.t-r;q.clamp()}function bnpSubTo(b,f){var d=0,g=0,n=Math.min(b.t,this.t);while(d<n){g+=this[d]-b[d];f[d++]=g&this.DM;g>>=this.DB}if(b.t<this.t){g-=b.s;while(d<this.t){g+=this[d];f[d++]=g&this.DM;g>>=this.DB}g+=this.s}else{g+=this.s;while(d<b.t){g-=b[d];f[d++]=g&this.DM;g>>=this.DB}g-=b.s}f.s=(g<0)?-1:0;if(g<-1){f[d++]=this.DV+g}else{if(g>0){f[d++]=g}}f.t=d;f.clamp()}function bnpMultiplyTo(b,d){var n=this.abs(),f=b.abs();var c=n.t;d.t=c+f.t;while(--c>=0){d[c]=0}for(c=0;c<f.t;++c){d[c+n.t]=n.am(0,f[c],d,c,0,n.t)}d.s=0;d.clamp();if(this.s!=b.s){BigInteger.ZERO.subTo(d,d)}}function bnpSquareTo(b){var k=this.abs();var l=b.t=2*k.t;while(--l>=0){b[l]=0}for(l=0;l<k.t-1;++l){var d=k.am(l,k[l],b,2*l,0,1);if((b[l+k.t]+=k.am(l+1,2*k[l],b,2*l+1,d,k.t-l-1))>=k.DV){b[l+k.t]-=k.DV;b[l+k.t+1]=1}}if(b.t>0){b[b.t-1]+=k.am(l,k[l],b,2*l,0,1)}b.s=0;b.clamp()}function bnpDivRemTo(s,n,k){var P=s.abs();if(P.t<=0){return}var o=this.abs();if(o.t<P.t){if(n!=null){n.fromInt(0)}if(k!=null){this.copyTo(k)}return}if(k==null){k=nbi()}var f=nbi(),b=this.s,p=s.s;var x=this.DB-nbits(P[P.t-1]);if(x>0){P.lShiftTo(x,f);o.lShiftTo(x,k)}else{P.copyTo(f);o.copyTo(k)}var v=f.t;var c=f[v-1];if(c==0){return}var u=c*(1<<this.F1)+((v>1)?f[v-2]>>this.F2:0);var w=this.FV/u,R=(1<<this.F1)/u,Q=1<<this.F2;var l=k.t,A=l-v,g=(n==null)?nbi():n;f.dlShiftTo(A,g);if(k.compareTo(g)>=0){k[k.t++]=1;k.subTo(g,k)}BigInteger.ONE.dlShiftTo(v,g);g.subTo(f,f);while(f.t<v){f[f.t++]=0}while(--A>=0){var d=(k[--l]==c)?this.DM:Math.floor(k[l]*w+(k[l-1]+Q)*R);if((k[l]+=f.am(0,d,k,A,0,v))<d){f.dlShiftTo(A,g);k.subTo(g,k);while(k[l]<--d){k.subTo(g,k)}}}if(n!=null){k.drShiftTo(v,n);if(b!=p){BigInteger.ZERO.subTo(n,n)}}k.t=v;k.clamp();if(x>0){k.rShiftTo(x,k)}if(b<0){BigInteger.ZERO.subTo(k,k)}}function bnMod(c){var b=nbi();this.abs().divRemTo(c,null,b);if(this.s<0&&b.compareTo(BigInteger.ZERO)>0){c.subTo(b,b)}return b}function Classic(c){this.m=c}function cConvert(c){if(c.s<0||c.compareTo(this.m)>=0){return c.mod(this.m)}else{return c}}function cRevert(c){return c}function cReduce(c){c.divRemTo(this.m,null,c)}function cMulTo(c,b,j){c.multiplyTo(b,j);this.reduce(j)}function cSqrTo(b,f){b.squareTo(f);this.reduce(f)}Classic.prototype.convert=cConvert;Classic.prototype.revert=cRevert;Classic.prototype.reduce=cReduce;Classic.prototype.mulTo=cMulTo;Classic.prototype.sqrTo=cSqrTo;function bnpInvDigit(){if(this.t<1){return 0}var b=this[0];if((b&1)==0){return 0}var f=b&3;f=(f*(2-(b&15)*f))&15;f=(f*(2-(b&255)*f))&255;f=(f*(2-(((b&65535)*f)&65535)))&65535;f=(f*(2-b*f%this.DV))%this.DV;return(f>0)?this.DV-f:-f}function Montgomery(c){this.m=c;this.mp=c.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<(c.DB-15))-1;this.mt2=2*c.t}function montConvert(b){var f=nbi();b.abs().dlShiftTo(this.m.t,f);f.divRemTo(this.m,null,f);if(b.s<0&&f.compareTo(BigInteger.ZERO)>0){this.m.subTo(f,f)}return f}function montRevert(b){var f=nbi();b.copyTo(f);this.reduce(f);return f}function montReduce(d){while(d.t<=this.mt2){d[d.t++]=0}for(var b=0;b<this.m.t;++b){var l=d[b]&32767;var c=(l*this.mpl+(((l*this.mph+(d[b]>>15)*this.mpl)&this.um)<<15))&d.DM;l=b+this.m.t;d[l]+=this.m.am(0,c,d,b,0,this.m.t);while(d[l]>=d.DV){d[l]-=d.DV;d[++l]++}}d.clamp();d.drShiftTo(this.m.t,d);if(d.compareTo(this.m)>=0){d.subTo(this.m,d)}}function montSqrTo(b,f){b.squareTo(f);this.reduce(f)}function montMulTo(c,b,j){c.multiplyTo(b,j);this.reduce(j)}Montgomery.prototype.convert=montConvert;Montgomery.prototype.revert=montRevert;Montgomery.prototype.reduce=montReduce;Montgomery.prototype.mulTo=montMulTo;Montgomery.prototype.sqrTo=montSqrTo;function bnpIsEven(){return((this.t>0)?(this[0]&1):this.s)==0}function bnpExp(b,c){if(b>4294967295||b<1){return BigInteger.ONE}var r=nbi(),d=nbi(),q=c.convert(this),j=nbits(b)-1;q.copyTo(r);while(--j>=0){c.sqrTo(r,d);if((b&(1<<j))>0){c.mulTo(d,q,r)}else{var f=r;r=d;d=f}}return c.revert(r)}function bnModPowInt(j,c){var b;if(j<256||c.isEven()){b=new Classic(c)}else{b=new Montgomery(c)}return this.exp(j,b)}BigInteger.prototype.copyTo=bnpCopyTo;BigInteger.prototype.fromInt=bnpFromInt;BigInteger.prototype.fromString=bnpFromString;BigInteger.prototype.clamp=bnpClamp;BigInteger.prototype.dlShiftTo=bnpDLShiftTo;BigInteger.prototype.drShiftTo=bnpDRShiftTo;BigInteger.prototype.lShiftTo=bnpLShiftTo;BigInteger.prototype.rShiftTo=bnpRShiftTo;BigInteger.prototype.subTo=bnpSubTo;BigInteger.prototype.multiplyTo=bnpMultiplyTo;BigInteger.prototype.squareTo=bnpSquareTo;BigInteger.prototype.divRemTo=bnpDivRemTo;BigInteger.prototype.invDigit=bnpInvDigit;BigInteger.prototype.isEven=bnpIsEven;BigInteger.prototype.exp=bnpExp;BigInteger.prototype.toString=bnToString;BigInteger.prototype.negate=bnNegate;BigInteger.prototype.abs=bnAbs;BigInteger.prototype.compareTo=bnCompareTo;BigInteger.prototype.bitLength=bnBitLength;BigInteger.prototype.mod=bnMod;BigInteger.prototype.modPowInt=bnModPowInt;BigInteger.ZERO=nbv(0);BigInteger.ONE=nbv(1);function bnClone(){var c=nbi();this.copyTo(c);return c}function bnIntValue(){if(this.s<0){if(this.t==1){return this[0]-this.DV}else{if(this.t==0){return -1}}}else{if(this.t==1){return this[0]}else{if(this.t==0){return 0}}}return((this[1]&((1<<(32-this.DB))-1))<<this.DB)|this[0]}function bnByteValue(){return(this.t==0)?this.s:(this[0]<<24)>>24}function bnShortValue(){return(this.t==0)?this.s:(this[0]<<16)>>16}function bnpChunkSize(c){return Math.floor(Math.LN2*this.DB/Math.log(c))}function bnSigNum(){if(this.s<0){return -1}else{if(this.t<=0||(this.t==1&&this[0]<=0)){return 0}else{return 1}}}function bnpToRadix(q){if(q==null){q=10}if(this.signum()==0||q<2||q>36){return"0"}var f=this.chunkSize(q);var r=Math.pow(q,f);var p=nbv(r),c=nbi(),j=nbi(),g="";this.divRemTo(p,c,j);while(c.signum()>0){g=(r+j.intValue()).toString(q).substr(1)+g;c.divRemTo(p,c,j)}return j.intValue().toString(q)+g}function bnpFromRadix(v,l){this.fromInt(0);if(l==null){l=10}var g=this.chunkSize(l);var k=Math.pow(l,g),f=false,w=0,u=0;for(var c=0;c<v.length;++c){var m=intAt(v,c);if(m<0){if(v.charAt(c)=="-"&&this.signum()==0){f=true}continue}u=l*u+m;if(++w>=g){this.dMultiply(k);this.dAddOffset(u,0);w=0;u=0}}if(w>0){this.dMultiply(Math.pow(l,w));this.dAddOffset(u,0)}if(f){BigInteger.ZERO.subTo(this,this)}}function bnpFromNumber(m,g,d){if("number"==typeof g){if(m<2){this.fromInt(1)}else{this.fromNumber(m,d);if(!this.testBit(m-1)){this.bitwiseTo(BigInteger.ONE.shiftLeft(m-1),op_or,this)}if(this.isEven()){this.dAddOffset(1,0)}while(!this.isProbablePrime(g)){this.dAddOffset(2,0);if(this.bitLength()>m){this.subTo(BigInteger.ONE.shiftLeft(m-1),this)}}}}else{var f=new Array(),n=m&7;f.length=(m>>3)+1;g.nextBytes(f);if(n>0){f[0]&=((1<<n)-1)}else{f[0]=0}this.fromString(f,256)}}function bnToByteArray(){var n=this.t,b=new Array();b[0]=this.s;var c=this.DB-(n*this.DB)%8,f,m=0;if(n-->0){if(c<this.DB&&(f=this[n]>>c)!=(this.s&this.DM)>>c){b[m++]=f|(this.s<<(this.DB-c))}while(n>=0){if(c<8){f=(this[n]&((1<<c)-1))<<(8-c);f|=this[--n]>>(c+=this.DB-8)}else{f=(this[n]>>(c-=8))&255;if(c<=0){c+=this.DB;--n}}if((f&128)!=0){f|=-256}if(m==0&&(this.s&128)!=(f&128)){++m}if(m>0||f!=this.s){b[m++]=f}}}return b}function bnEquals(b){return(this.compareTo(b)==0)}function bnMin(b){return(this.compareTo(b)<0)?this:b}function bnMax(b){return(this.compareTo(b)>0)?this:b}function bnpBitwiseTo(p,g,c){var b,d,o=Math.min(p.t,this.t);for(b=0;b<o;++b){c[b]=g(this[b],p[b])}if(p.t<this.t){d=p.s&this.DM;for(b=o;b<this.t;++b){c[b]=g(this[b],d)}c.t=this.t}else{d=this.s&this.DM;for(b=o;b<p.t;++b){c[b]=g(d,p[b])}c.t=p.t}c.s=g(this.s,p.s);c.clamp()}function op_and(b,f){return b&f}function bnAnd(c){var b=nbi();this.bitwiseTo(c,op_and,b);return b}function op_or(b,f){return b|f}function bnOr(c){var b=nbi();this.bitwiseTo(c,op_or,b);return b}function op_xor(b,f){return b^f}function bnXor(c){var b=nbi();this.bitwiseTo(c,op_xor,b);return b}function op_andnot(b,f){return b&~f}function bnAndNot(c){var b=nbi();this.bitwiseTo(c,op_andnot,b);return b}function bnNot(){var f=nbi();for(var b=0;b<this.t;++b){f[b]=this.DM&~this[b]}f.t=this.t;f.s=~this.s;return f}function bnShiftLeft(f){var b=nbi();if(f<0){this.rShiftTo(-f,b)}else{this.lShiftTo(f,b)}return b}function bnShiftRight(f){var b=nbi();if(f<0){this.lShiftTo(-f,b)}else{this.rShiftTo(f,b)}return b}function lbit(b){if(b==0){return -1}var f=0;if((b&65535)==0){b>>=16;f+=16}if((b&255)==0){b>>=8;f+=8}if((b&15)==0){b>>=4;f+=4}if((b&3)==0){b>>=2;f+=2}if((b&1)==0){++f}return f}function bnGetLowestSetBit(){for(var c=0;c<this.t;++c){if(this[c]!=0){return c*this.DB+lbit(this[c])}}if(this.s<0){return this.t*this.DB}return -1}function cbit(b){var f=0;while(b!=0){b&=b-1;++f}return f}function bnBitCount(){var b=0,c=this.s&this.DM;for(var j=0;j<this.t;++j){b+=cbit(this[j]^c)}return b}function bnTestBit(f){var b=Math.floor(f/this.DB);if(b>=this.t){return(this.s!=0)}return((this[b]&(1<<(f%this.DB)))!=0)}function bnpChangeBit(b,j){var c=BigInteger.ONE.shiftLeft(b);this.bitwiseTo(c,j,c);return c}function bnSetBit(c){return this.changeBit(c,op_or)}function bnClearBit(c){return this.changeBit(c,op_andnot)}function bnFlipBit(c){return this.changeBit(c,op_xor)}function bnpAddTo(b,f){var d=0,g=0,n=Math.min(b.t,this.t);while(d<n){g+=this[d]+b[d];f[d++]=g&this.DM;g>>=this.DB}if(b.t<this.t){g+=b.s;while(d<this.t){g+=this[d];f[d++]=g&this.DM;g>>=this.DB}g+=this.s}else{g+=this.s;while(d<b.t){g+=b[d];f[d++]=g&this.DM;g>>=this.DB}g+=b.s}f.s=(g<0)?-1:0;if(g>0){f[d++]=g}else{if(g<-1){f[d++]=this.DV+g}}f.t=d;f.clamp()}function bnAdd(c){var b=nbi();this.addTo(c,b);return b}function bnSubtract(c){var b=nbi();this.subTo(c,b);return b}function bnMultiply(c){var b=nbi();this.multiplyTo(c,b);return b}function bnSquare(){var c=nbi();this.squareTo(c);return c}function bnDivide(c){var b=nbi();this.divRemTo(c,b,null);return b}function bnRemainder(c){var b=nbi();this.divRemTo(c,null,b);return b}function bnDivideAndRemainder(d){var c=nbi(),b=nbi();this.divRemTo(d,c,b);return new Array(c,b)}function bnpDMultiply(c){this[this.t]=this.am(0,c-1,this,0,0,this.t);++this.t;this.clamp()}function bnpDAddOffset(f,b){if(f==0){return}while(this.t<=b){this[this.t++]=0}this[b]+=f;while(this[b]>=this.DV){this[b]-=this.DV;if(++b>=this.t){this[this.t++]=0}++this[b]}}function NullExp(){}function nNop(c){return c}function nMulTo(c,b,j){c.multiplyTo(b,j)}function nSqrTo(b,f){b.squareTo(f)}NullExp.prototype.convert=nNop;NullExp.prototype.revert=nNop;NullExp.prototype.mulTo=nMulTo;NullExp.prototype.sqrTo=nSqrTo;function bnPow(c){return this.exp(c,new NullExp())}function bnpMultiplyLowerTo(n,f,d){var c=Math.min(this.t+n.t,f);d.s=0;d.t=c;while(c>0){d[--c]=0}var b;for(b=d.t-this.t;c<b;++c){d[c+this.t]=this.am(0,n[c],d,c,0,this.t)}for(b=Math.min(n.t,f);c<b;++c){this.am(0,n[c],d,c,0,f-c)}d.clamp()}function bnpMultiplyUpperTo(l,d,c){--d;var b=c.t=this.t+l.t-d;c.s=0;while(--b>=0){c[b]=0}for(b=Math.max(d-this.t,0);b<l.t;++b){c[this.t+b-d]=this.am(d-b,l[b],c,0,0,this.t+b-d)}c.clamp();c.drShiftTo(1,c)}function Barrett(c){this.r2=nbi();this.q3=nbi();BigInteger.ONE.dlShiftTo(2*c.t,this.r2);this.mu=this.r2.divide(c);this.m=c}function barrettConvert(b){if(b.s<0||b.t>2*this.m.t){return b.mod(this.m)}else{if(b.compareTo(this.m)<0){return b}else{var f=nbi();b.copyTo(f);this.reduce(f);return f}}}function barrettRevert(c){return c}function barrettReduce(c){c.drShiftTo(this.m.t-1,this.r2);if(c.t>this.m.t+1){c.t=this.m.t+1;c.clamp()}this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);while(c.compareTo(this.r2)<0){c.dAddOffset(1,this.m.t+1)}c.subTo(this.r2,c);while(c.compareTo(this.m)>=0){c.subTo(this.m,c)}}function barrettSqrTo(b,f){b.squareTo(f);this.reduce(f)}function barrettMulTo(c,b,j){c.multiplyTo(b,j);this.reduce(j)}Barrett.prototype.convert=barrettConvert;Barrett.prototype.revert=barrettRevert;Barrett.prototype.reduce=barrettReduce;Barrett.prototype.mulTo=barrettMulTo;Barrett.prototype.sqrTo=barrettSqrTo;function bnModPow(s,x){var o=s.bitLength(),c,L=nbv(1),y;if(o<=0){return L}else{if(o<18){c=1}else{if(o<48){c=3}else{if(o<144){c=4}else{if(o<768){c=5}else{c=6}}}}}if(o<8){y=new Classic(x)}else{if(x.isEven()){y=new Barrett(x)}else{y=new Montgomery(x)}}var q=new Array(),f=3,u=c-1,A=(1<<c)-1;q[1]=y.convert(this);if(c>1){var p=nbi();y.sqrTo(q[1],p);while(f<=A){q[f]=nbi();y.mulTo(p,q[f-2],q[f]);f+=2}}var l=s.t-1,K,v=true,d=nbi(),b;o=nbits(s[l])-1;while(l>=0){if(o>=u){K=(s[l]>>(o-u))&A}else{K=(s[l]&((1<<(o+1))-1))<<(u-o);if(l>0){K|=s[l-1]>>(this.DB+o-u)}}f=c;while((K&1)==0){K>>=1;--f}if((o-=f)<0){o+=this.DB;--l}if(v){q[K].copyTo(L);v=false}else{while(f>1){y.sqrTo(L,d);y.sqrTo(d,L);f-=2}if(f>0){y.sqrTo(L,d)}else{b=L;L=d;d=b}y.mulTo(d,q[K],L)}while(l>=0&&(s[l]&(1<<o))==0){y.sqrTo(L,d);b=L;L=d;d=b;if(--o<0){o=this.DB-1;--l}}}return y.revert(L)}function bnGCD(p){var o=(this.s<0)?this.negate():this.clone();var f=(p.s<0)?p.negate():p.clone();if(o.compareTo(f)<0){var c=o;o=f;f=c}var b=o.getLowestSetBit(),d=f.getLowestSetBit();if(d<0){return o}if(b<d){d=b}if(d>0){o.rShiftTo(d,o);f.rShiftTo(d,f)}while(o.signum()>0){if((b=o.getLowestSetBit())>0){o.rShiftTo(b,o)}if((b=f.getLowestSetBit())>0){f.rShiftTo(b,f)}if(o.compareTo(f)>=0){o.subTo(f,o);o.rShiftTo(1,o)}else{f.subTo(o,f);f.rShiftTo(1,f)}}if(d>0){f.lShiftTo(d,f)}return f}function bnpModInt(c){if(c<=0){return 0}var b=this.DV%c,l=(this.s<0)?c-1:0;if(this.t>0){if(b==0){l=this[0]%c}else{for(var k=this.t-1;k>=0;--k){l=(b*l+this[k])%c}}}return l}function bnModInverse(k){var r=k.isEven();if((this.isEven()&&r)||k.signum()==0){return BigInteger.ZERO}var g=k.clone(),u=this.clone();var l=nbv(1),j=nbv(0),f=nbv(0),s=nbv(1);while(g.signum()!=0){while(g.isEven()){g.rShiftTo(1,g);if(r){if(!l.isEven()||!j.isEven()){l.addTo(this,l);j.subTo(k,j)}l.rShiftTo(1,l)}else{if(!j.isEven()){j.subTo(k,j)}}j.rShiftTo(1,j)}while(u.isEven()){u.rShiftTo(1,u);if(r){if(!f.isEven()||!s.isEven()){f.addTo(this,f);s.subTo(k,s)}f.rShiftTo(1,f)}else{if(!s.isEven()){s.subTo(k,s)}}s.rShiftTo(1,s)}if(g.compareTo(u)>=0){g.subTo(u,g);if(r){l.subTo(f,l)}j.subTo(s,j)}else{u.subTo(g,u);if(r){f.subTo(l,f)}s.subTo(j,s)}}if(u.compareTo(BigInteger.ONE)!=0){return BigInteger.ZERO}if(s.compareTo(k)>=0){return s.subtract(k)}if(s.signum()<0){s.addTo(k,s)}else{return s}if(s.signum()<0){return s.add(k)}else{return s}}var lowprimes=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997];var lplim=(1<<26)/lowprimes[lowprimes.length-1];function bnIsProbablePrime(d){var c,n=this.abs();if(n.t==1&&n[0]<=lowprimes[lowprimes.length-1]){for(c=0;c<lowprimes.length;++c){if(n[0]==lowprimes[c]){return true}}return false}if(n.isEven()){return false}c=1;while(c<lowprimes.length){var m=lowprimes[c],b=c+1;while(b<lowprimes.length&&m<lplim){m*=lowprimes[b++]}m=n.modInt(m);while(c<b){if(m%lowprimes[c++]==0){return false}}}return n.millerRabin(d)}function bnpMillerRabin(s){var u=this.subtract(BigInteger.ONE);var f=u.getLowestSetBit();if(f<=0){return false}var b=u.shiftRight(f);s=(s+1)>>1;if(s>lowprimes.length){s=lowprimes.length}var d=nbi();for(var l=0;l<s;++l){d.fromInt(lowprimes[Math.floor(Math.random()*lowprimes.length)]);var c=d.modPow(b,this);if(c.compareTo(BigInteger.ONE)!=0&&c.compareTo(u)!=0){var g=1;while(g++<f&&c.compareTo(u)!=0){c=c.modPowInt(2,this);if(c.compareTo(BigInteger.ONE)==0){return false}}if(c.compareTo(u)!=0){return false}}}return true}BigInteger.prototype.chunkSize=bnpChunkSize;BigInteger.prototype.toRadix=bnpToRadix;BigInteger.prototype.fromRadix=bnpFromRadix;BigInteger.prototype.fromNumber=bnpFromNumber;BigInteger.prototype.bitwiseTo=bnpBitwiseTo;BigInteger.prototype.changeBit=bnpChangeBit;BigInteger.prototype.addTo=bnpAddTo;BigInteger.prototype.dMultiply=bnpDMultiply;BigInteger.prototype.dAddOffset=bnpDAddOffset;BigInteger.prototype.multiplyLowerTo=bnpMultiplyLowerTo;BigInteger.prototype.multiplyUpperTo=bnpMultiplyUpperTo;BigInteger.prototype.modInt=bnpModInt;BigInteger.prototype.millerRabin=bnpMillerRabin;BigInteger.prototype.clone=bnClone;BigInteger.prototype.intValue=bnIntValue;BigInteger.prototype.byteValue=bnByteValue;BigInteger.prototype.shortValue=bnShortValue;BigInteger.prototype.signum=bnSigNum;BigInteger.prototype.toByteArray=bnToByteArray;BigInteger.prototype.equals=bnEquals;BigInteger.prototype.min=bnMin;BigInteger.prototype.max=bnMax;BigInteger.prototype.and=bnAnd;BigInteger.prototype.or=bnOr;BigInteger.prototype.xor=bnXor;BigInteger.prototype.andNot=bnAndNot;BigInteger.prototype.not=bnNot;BigInteger.prototype.shiftLeft=bnShiftLeft;BigInteger.prototype.shiftRight=bnShiftRight;BigInteger.prototype.getLowestSetBit=bnGetLowestSetBit;BigInteger.prototype.bitCount=bnBitCount;BigInteger.prototype.testBit=bnTestBit;BigInteger.prototype.setBit=bnSetBit;BigInteger.prototype.clearBit=bnClearBit;BigInteger.prototype.flipBit=bnFlipBit;BigInteger.prototype.add=bnAdd;BigInteger.prototype.subtract=bnSubtract;BigInteger.prototype.multiply=bnMultiply;BigInteger.prototype.divide=bnDivide;BigInteger.prototype.remainder=bnRemainder;BigInteger.prototype.divideAndRemainder=bnDivideAndRemainder;BigInteger.prototype.modPow=bnModPow;BigInteger.prototype.modInverse=bnModInverse;BigInteger.prototype.pow=bnPow;BigInteger.prototype.gcd=bnGCD;BigInteger.prototype.isProbablePrime=bnIsProbablePrime;BigInteger.prototype.square=bnSquare;function Arcfour(){this.i=0;this.j=0;this.S=new Array()}function ARC4init(c){var b,d,l;for(b=0;b<256;++b){this.S[b]=b}d=0;for(b=0;b<256;++b){d=(d+this.S[b]+c[b%c.length])&255;l=this.S[b];this.S[b]=this.S[d];this.S[d]=l}this.i=0;this.j=0}function ARC4next(){var c;this.i=(this.i+1)&255;this.j=(this.j+this.S[this.i])&255;c=this.S[this.i];this.S[this.i]=this.S[this.j];this.S[this.j]=c;return this.S[(c+this.S[this.i])&255]}Arcfour.prototype.init=ARC4init;Arcfour.prototype.next=ARC4next;function prng_newstate(){return new Arcfour()}var rng_psize=256;var rng_state;var rng_pool;var rng_pptr;function rng_seed_int(c){rng_pool[rng_pptr++]^=c&255;rng_pool[rng_pptr++]^=(c>>8)&255;rng_pool[rng_pptr++]^=(c>>16)&255;rng_pool[rng_pptr++]^=(c>>24)&255;if(rng_pptr>=rng_psize){rng_pptr-=rng_psize}}function rng_seed_time(){rng_seed_int(new Date().getTime())}if(rng_pool==null){rng_pool=new Array();rng_pptr=0;var t;if(window.crypto&&window.crypto.getRandomValues){var ua=new Uint8Array(32);window.crypto.getRandomValues(ua);for(t=0;t<32;++t){rng_pool[rng_pptr++]=ua[t]}}if(navigator.appName=="Netscape"&&navigator.appVersion<"5"&&window.crypto){var z=window.crypto.random(32);for(t=0;t<z.length;++t){rng_pool[rng_pptr++]=z.charCodeAt(t)&255}}while(rng_pptr<rng_psize){t=Math.floor(65536*Math.random());rng_pool[rng_pptr++]=t>>>8;rng_pool[rng_pptr++]=t&255}rng_pptr=0;rng_seed_time()}function rng_get_byte(){if(rng_state==null){rng_seed_time();rng_state=prng_newstate();rng_state.init(rng_pool);for(rng_pptr=0;rng_pptr<rng_pool.length;++rng_pptr){rng_pool[rng_pptr]=0}rng_pptr=0}return rng_state.next()}function rng_get_bytes(f){var b;for(b=0;b<f.length;++b){f[b]=rng_get_byte()}}function SecureRandom(){}SecureRandom.prototype.nextBytes=rng_get_bytes;function parseBigInt(f,b){return new BigInteger(f,b)}function linebrk(b,c){var d="";var l=0;while(l+c<b.length){d+=b.substring(l,l+c)+"\n";l+=c}return d+b.substring(l,b.length)}function byte2Hex(c){if(c<16){return"0"+c.toString(16)}else{return c.toString(16)}}function pkcs1pad2(r,f){if(f<r.length+11){alert("Message too long for RSA");return null}var d=new Array();var p=r.length-1;while(p>=0&&f>0){var b=r.charCodeAt(p--);if(b<128){d[--f]=b}else{if((b>127)&&(b<2048)){d[--f]=(b&63)|128;d[--f]=(b>>6)|192}else{d[--f]=(b&63)|128;d[--f]=((b>>6)&63)|128;d[--f]=(b>>12)|224}}}d[--f]=0;var q=new SecureRandom();var g=new Array();while(f>2){g[0]=0;while(g[0]==0){q.nextBytes(g)}d[--f]=g[0]}d[--f]=2;d[--f]=0;return new BigInteger(d)}function oaep_mgf1_arr(b,m,d){var n="",c=0;while(n.length<m){n+=d(String.fromCharCode.apply(String,b.concat([(c&4278190080)>>24,(c&16711680)>>16,(c&65280)>>8,c&255])));c+=1}return n}function oaep_pad(j,q,f,o){var I=Ext.crypto.MessageDigest;var J=Ext.crypto.Util;var H=null;if(!f){f="sha1"}if(typeof f==="string"){H=I.getCanonicalAlgName(f);o=I.getHashLength(H);f=function(n){return hextorstr(J.hashString(n,H))}}if(j.length+2*o+2>q){throw"Message too long for RSA"}var m="",d;for(d=0;d<q-j.length-2*o-2;d+=1){m+="\x00"}var k=f("")+m+"\x01"+j;var g=new Array(o);new SecureRandom().nextBytes(g);var l=oaep_mgf1_arr(g,k.length,f);var c=[];for(d=0;d<k.length;d+=1){c[d]=k.charCodeAt(d)^l.charCodeAt(d)}var p=oaep_mgf1_arr(c,g.length,f);var b=[0];for(d=0;d<g.length;d+=1){b[d+1]=g[d]^p.charCodeAt(d)}return new BigInteger(b.concat(c))}function RSAKey(){this.n=null;this.e=0;this.d=null;this.p=null;this.q=null;this.dmp1=null;this.dmq1=null;this.coeff=null}function RSASetPublic(f,b){this.isPublic=true;this.isPrivate=false;if(typeof f!=="string"){this.n=f;this.e=b}else{if(f!=null&&b!=null&&f.length>0&&b.length>0){this.n=parseBigInt(f,16);this.e=parseInt(b,16)}else{throw"Invalid RSA public key"}}}function RSADoPublic(c){return c.modPowInt(this.e,this.n)}function RSAEncrypt(b){var k=pkcs1pad2(b,(this.n.bitLength()+7)>>3);if(k==null){return null}var d=this.doPublic(k);if(d==null){return null}var l=d.toString(16);if((l.length&1)==0){return l}else{return"0"+l}}function RSAEncryptOAEP(d,b,p){var g=oaep_pad(d,(this.n.bitLength()+7)>>3,b,p);if(g==null){return null}var f=this.doPublic(g);if(f==null){return null}var o=f.toString(16);if((o.length&1)==0){return o}else{return"0"+o}}RSAKey.prototype.doPublic=RSADoPublic;RSAKey.prototype.setPublic=RSASetPublic;RSAKey.prototype.encrypt=RSAEncrypt;RSAKey.prototype.encryptOAEP=RSAEncryptOAEP;RSAKey.prototype.type="RSA";function pkcs1unpad2(n,p){var g=n.toByteArray();var j=0;while(j<g.length&&g[j]==0){++j}if(g.length-j!=p-1||g[j]!=2){return null}++j;while(g[j]!=0){if(++j>=g.length){return null}}var f="";while(++j<g.length){var o=g[j]&255;if(o<128){f+=String.fromCharCode(o)}else{if((o>191)&&(o<224)){f+=String.fromCharCode(((o&31)<<6)|(g[j+1]&63));++j}else{f+=String.fromCharCode(((o&15)<<12)|((g[j+1]&63)<<6)|(g[j+2]&63));j+=2}}}return f}function oaep_mgf1_str(b,m,d){var n="",c=0;while(n.length<m){n+=d(b+String.fromCharCode.apply(String,[(c&4278190080)>>24,(c&16711680)>>16,(c&65280)>>8,c&255]));c+=1}return n}function oaep_unpad(r,s,c,J){var L=Ext.crypto.MessageDigest;var k=Ext.crypto.Util;var K=null;if(!c){c="sha1"}if(typeof c==="string"){K=L.getCanonicalAlgName(c);J=L.getHashLength(K);c=function(d){return hextorstr(k.hashString(d,K))}}r=r.toByteArray();var f;for(f=0;f<r.length;f+=1){r[f]&=255}while(r.length<s){r.unshift(0)}r=String.fromCharCode.apply(String,r);if(r.length<2*J+2){throw"Cipher too short"}var b=r.substr(1,J);var p=r.substr(J+1);var j=oaep_mgf1_str(p,J,c);var l=[],f;for(f=0;f<b.length;f+=1){l[f]=b.charCodeAt(f)^j.charCodeAt(f)}var m=oaep_mgf1_str(String.fromCharCode.apply(String,l),r.length-J,c);var g=[];for(f=0;f<p.length;f+=1){g[f]=p.charCodeAt(f)^m.charCodeAt(f)}g=String.fromCharCode.apply(String,g);if(g.substr(0,J)!==c("")){throw"Hash mismatch"}g=g.substr(J);var q=g.indexOf("\x01");var o=(q!=-1)?g.substr(0,q).lastIndexOf("\x00"):-1;if(o+1!=q){throw"Malformed data"}return g.substr(q+1)}function RSASetPrivate(b,c,j){this.isPrivate=true;if(typeof b!=="string"){this.n=b;this.e=c;this.d=j}else{if(b!=null&&c!=null&&b.length>0&&c.length>0){this.n=parseBigInt(b,16);this.e=parseInt(c,16);this.d=parseBigInt(j,16)}else{alert("Invalid RSA private key")}}}function RSASetPrivateEx(b,r,s,g,f,d,c,u){this.isPrivate=true;this.isPublic=false;if(b==null){throw"RSASetPrivateEx N == null"}if(r==null){throw"RSASetPrivateEx E == null"}if(b.length==0){throw"RSASetPrivateEx N.length == 0"}if(r.length==0){throw"RSASetPrivateEx E.length == 0"}if(b!=null&&r!=null&&b.length>0&&r.length>0){this.n=parseBigInt(b,16);this.e=parseInt(r,16);this.d=parseBigInt(s,16);this.p=parseBigInt(g,16);this.q=parseBigInt(f,16);this.dmp1=parseBigInt(d,16);this.dmq1=parseBigInt(c,16);this.coeff=parseBigInt(u,16)}else{alert("Invalid RSA private key in RSASetPrivateEx")}}function RSAGenerate(c,w){var b=new SecureRandom();var s=c>>1;this.e=parseInt(w,16);var d=new BigInteger(w,16);for(;;){for(;;){this.p=new BigInteger(c-s,1,b);if(this.p.subtract(BigInteger.ONE).gcd(d).compareTo(BigInteger.ONE)==0&&this.p.isProbablePrime(10)){break}}for(;;){this.q=new BigInteger(s,1,b);if(this.q.subtract(BigInteger.ONE).gcd(d).compareTo(BigInteger.ONE)==0&&this.q.isProbablePrime(10)){break}}if(this.p.compareTo(this.q)<=0){var v=this.p;this.p=this.q;this.q=v}var u=this.p.subtract(BigInteger.ONE);var f=this.q.subtract(BigInteger.ONE);var g=u.multiply(f);if(g.gcd(d).compareTo(BigInteger.ONE)==0){this.n=this.p.multiply(this.q);this.d=d.modInverse(g);this.dmp1=this.d.mod(u);this.dmq1=this.d.mod(f);this.coeff=this.q.modInverse(this.p);break}}this.isPrivate=true}function RSADoPrivate(c){if(this.p==null||this.q==null){return c.modPow(this.d,this.n)}var b=c.mod(this.p).modPow(this.dmp1,this.p);var j=c.mod(this.q).modPow(this.dmq1,this.q);while(b.compareTo(j)<0){b=b.add(this.p)}return b.subtract(j).multiply(this.coeff).mod(this.p).multiply(this.q).add(j)}function RSADecrypt(j){var b=parseBigInt(j,16);var d=this.doPrivate(b);if(d==null){return null}return pkcs1unpad2(d,(this.n.bitLength()+7)>>3)}function RSADecryptOAEP(d,b,n){var f=parseBigInt(d,16);var m=this.doPrivate(f);if(m==null){return null}return oaep_unpad(m,(this.n.bitLength()+7)>>3,b,n)}RSAKey.prototype.doPrivate=RSADoPrivate;RSAKey.prototype.setPrivate=RSASetPrivate;RSAKey.prototype.setPrivateEx=RSASetPrivateEx;RSAKey.prototype.generate=RSAGenerate;RSAKey.prototype.decrypt=RSADecrypt;RSAKey.prototype.decryptOAEP=RSADecryptOAEP;function ECFieldElementFp(f,b){this.x=b;this.q=f}function feFpEquals(c){if(c==this){return true}return(this.q.equals(c.q)&&this.x.equals(c.x))}function feFpToBigInteger(){return this.x}function feFpNegate(){return new ECFieldElementFp(this.q,this.x.negate().mod(this.q))}function feFpAdd(c){return new ECFieldElementFp(this.q,this.x.add(c.toBigInteger()).mod(this.q))}function feFpSubtract(c){return new ECFieldElementFp(this.q,this.x.subtract(c.toBigInteger()).mod(this.q))}function feFpMultiply(c){return new ECFieldElementFp(this.q,this.x.multiply(c.toBigInteger()).mod(this.q))}function feFpSquare(){return new ECFieldElementFp(this.q,this.x.square().mod(this.q))}function feFpDivide(c){return new ECFieldElementFp(this.q,this.x.multiply(c.toBigInteger().modInverse(this.q)).mod(this.q))}ECFieldElementFp.prototype.equals=feFpEquals;ECFieldElementFp.prototype.toBigInteger=feFpToBigInteger;ECFieldElementFp.prototype.negate=feFpNegate;ECFieldElementFp.prototype.add=feFpAdd;ECFieldElementFp.prototype.subtract=feFpSubtract;ECFieldElementFp.prototype.multiply=feFpMultiply;ECFieldElementFp.prototype.square=feFpSquare;ECFieldElementFp.prototype.divide=feFpDivide;function ECPointFp(b,d,c,l){this.curve=b;this.x=d;this.y=c;if(l==null){this.z=BigInteger.ONE}else{this.z=l}this.zinv=null}function pointFpGetX(){if(this.zinv==null){this.zinv=this.z.modInverse(this.curve.q)}return this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function pointFpGetY(){if(this.zinv==null){this.zinv=this.z.modInverse(this.curve.q)}return this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function pointFpEquals(c){if(c==this){return true}if(this.isInfinity()){return c.isInfinity()}if(c.isInfinity()){return this.isInfinity()}var b,j;b=c.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(c.z)).mod(this.curve.q);if(!b.equals(BigInteger.ZERO)){return false}j=c.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(c.z)).mod(this.curve.q);return j.equals(BigInteger.ZERO)}function pointFpIsInfinity(){if((this.x==null)&&(this.y==null)){return true}return this.z.equals(BigInteger.ZERO)&&!this.y.toBigInteger().equals(BigInteger.ZERO)}function pointFpNegate(){return new ECPointFp(this.curve,this.x,this.y.negate(),this.z)}function pointFpAdd(G){if(this.isInfinity()){return G}if(G.isInfinity()){return this}var m=G.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(G.z)).mod(this.curve.q);var g=G.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(G.z)).mod(this.curve.q);if(BigInteger.ZERO.equals(g)){if(BigInteger.ZERO.equals(m)){return this.twice()}return this.curve.getInfinity()}var o=new BigInteger("3");var f=this.x.toBigInteger();var d=this.y.toBigInteger();var J=G.x.toBigInteger();var p=G.y.toBigInteger();var I=g.square();var n=I.multiply(g);var c=f.multiply(I);var k=m.square().multiply(this.z);var H=k.subtract(c.shiftLeft(1)).multiply(G.z).subtract(n).multiply(g).mod(this.curve.q);var l=c.multiply(o).multiply(m).subtract(d.multiply(n)).subtract(k.multiply(m)).multiply(G.z).add(m.multiply(n)).mod(this.curve.q);var j=n.multiply(this.z).multiply(G.z).mod(this.curve.q);return new ECPointFp(this.curve,this.curve.fromBigInteger(H),this.curve.fromBigInteger(l),j)}function pointFpTwice(){if(this.isInfinity()){return this}if(this.y.toBigInteger().signum()==0){return this.curve.getInfinity()}var d=new BigInteger("3");var x=this.x.toBigInteger();var f=this.y.toBigInteger();var b=f.multiply(this.z);var j=b.multiply(f).mod(this.curve.q);var g=this.curve.a.toBigInteger();var k=x.square().multiply(d);if(!BigInteger.ZERO.equals(g)){k=k.add(this.z.square().multiply(g))}k=k.mod(this.curve.q);var w=k.square().subtract(x.shiftLeft(3).multiply(j)).shiftLeft(1).multiply(b).mod(this.curve.q);var c=k.multiply(d).multiply(x).subtract(j.shiftLeft(1)).shiftLeft(2).multiply(j).subtract(k.square().multiply(k)).mod(this.curve.q);var y=b.square().multiply(b).shiftLeft(3).mod(this.curve.q);return new ECPointFp(this.curve,this.curve.fromBigInteger(w),this.curve.fromBigInteger(c),y)}function pointFpMultiply(c){if(this.isInfinity()){return this}if(c.signum()==0){return this.curve.getInfinity()}var j=c;var g=j.multiply(new BigInteger("3"));var u=this.negate();var f=this;var d;for(d=g.bitLength()-2;d>0;--d){f=f.twice();var b=g.testBit(d);var l=j.testBit(d);if(b!=l){f=f.add(b?this:u)}}return f}function pointFpMultiplyTwo(p,f,o){var b;if(p.bitLength()>o.bitLength()){b=p.bitLength()-1}else{b=o.bitLength()-1}var d=this.curve.getInfinity();var c=this.add(f);while(b>=0){d=d.twice();if(p.testBit(b)){if(o.testBit(b)){d=d.add(c)}else{d=d.add(this)}}else{if(o.testBit(b)){d=d.add(f)}}--b}return d}ECPointFp.prototype.getX=pointFpGetX;ECPointFp.prototype.getY=pointFpGetY;ECPointFp.prototype.equals=pointFpEquals;ECPointFp.prototype.isInfinity=pointFpIsInfinity;ECPointFp.prototype.negate=pointFpNegate;ECPointFp.prototype.add=pointFpAdd;ECPointFp.prototype.twice=pointFpTwice;ECPointFp.prototype.multiply=pointFpMultiply;ECPointFp.prototype.multiplyTwo=pointFpMultiplyTwo;function ECCurveFp(c,j,d){this.q=c;this.a=this.fromBigInteger(j);this.b=this.fromBigInteger(d);this.infinity=new ECPointFp(this,null,null)}function curveFpGetQ(){return this.q}function curveFpGetA(){return this.a}function curveFpGetB(){return this.b}function curveFpEquals(c){if(c==this){return true}return(this.q.equals(c.q)&&this.a.equals(c.a)&&this.b.equals(c.b))}function curveFpGetInfinity(){return this.infinity}function curveFpFromBigInteger(c){return new ECFieldElementFp(this.q,c)}function curveFpDecodePointHex(c){switch(parseInt(c.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var d=(c.length-2)/2;var b=c.substr(2,d);var l=c.substr(d+2,d);return new ECPointFp(this,this.fromBigInteger(new BigInteger(b,16)),this.fromBigInteger(new BigInteger(l,16)));default:return null}}ECCurveFp.prototype.getQ=curveFpGetQ;ECCurveFp.prototype.getA=curveFpGetA;ECCurveFp.prototype.getB=curveFpGetB;ECCurveFp.prototype.equals=curveFpEquals;ECCurveFp.prototype.getInfinity=curveFpGetInfinity;ECCurveFp.prototype.fromBigInteger=curveFpFromBigInteger;ECCurveFp.prototype.decodePointHex=curveFpDecodePointHex;ECFieldElementFp.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)};ECPointFp.prototype.getEncoded=function(b){var c=function(f,g){var j=f.toByteArrayUnsigned();if(g<j.length){j=j.slice(j.length-g)}else{while(g>j.length){j.unshift(0)}}return j};var m=this.getX().toBigInteger();var d=this.getY().toBigInteger();var n=c(m,32);if(b){if(d.isEven()){n.unshift(2)}else{n.unshift(3)}}else{n.unshift(4);n=n.concat(c(d,32))}return n};ECPointFp.decodeFrom=function(b,g){var u=g[0];var s=g.length-1;var r=g.slice(1,1+s/2);var f=g.slice(1+s/2,1+s);r.unshift(0);f.unshift(0);var d=new BigInteger(r);var c=new BigInteger(f);return new ECPointFp(b,b.fromBigInteger(d),b.fromBigInteger(c))};ECPointFp.decodeFromHex=function(b,g){var u=g.substr(0,2);var s=g.length-2;var r=g.substr(2,s/2);var f=g.substr(2+s/2,s/2);var d=new BigInteger(r,16);var c=new BigInteger(f,16);return new ECPointFp(b,b.fromBigInteger(d),b.fromBigInteger(c))};ECPointFp.prototype.add2D=function(p){if(this.isInfinity()){return p}if(p.isInfinity()){return this}if(this.x.equals(p.x)){if(this.y.equals(p.y)){return this.twice()}return this.curve.getInfinity()}var o=p.x.subtract(this.x);var f=p.y.subtract(this.y);var d=f.divide(o);var c=d.square().subtract(this.x).subtract(p.x);var g=d.multiply(this.x.subtract(c)).subtract(this.y);return new ECPointFp(this.curve,c,g)};ECPointFp.prototype.twice2D=function(){if(this.isInfinity()){return this}if(this.y.toBigInteger().signum()==0){return this.curve.getInfinity()}var n=this.curve.fromBigInteger(BigInteger.valueOf(2));var d=this.curve.fromBigInteger(BigInteger.valueOf(3));var m=this.x.square().multiply(d).add(this.curve.a).divide(this.y.multiply(n));var b=m.square().subtract(this.x.multiply(n));var c=m.multiply(this.x.subtract(b)).subtract(this.y);return new ECPointFp(this.curve,b,c)};ECPointFp.prototype.multiply2D=function(c){if(this.isInfinity()){return this}if(c.signum()==0){return this.curve.getInfinity()}var j=c;var g=j.multiply(new BigInteger("3"));var u=this.negate();var f=this;var d;for(d=g.bitLength()-2;d>0;--d){f=f.twice();var b=g.testBit(d);var l=j.testBit(d);if(b!=l){f=f.add2D(b?this:u)}}return f};ECPointFp.prototype.isOnCurve=function(){var r=this.getX().toBigInteger();var d=this.getY().toBigInteger();var f=this.curve.getA().toBigInteger();var q=this.curve.getB().toBigInteger();var p=this.curve.getQ();var c=d.multiply(d).mod(p);var g=r.multiply(r).multiply(r).add(f.multiply(r)).add(q).mod(p);return c.equals(g)};ECPointFp.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"};ECPointFp.prototype.validate=function(){var b=this.curve.getQ();if(this.isInfinity()){throw new Error("Point is at infinity.")}var c=this.getX().toBigInteger();var j=this.getY().toBigInteger();if(c.compareTo(BigInteger.ONE)<0||c.compareTo(b.subtract(BigInteger.ONE))>0){throw new Error("x coordinate out of bounds")}if(j.compareTo(BigInteger.ONE)<0||j.compareTo(b.subtract(BigInteger.ONE))>0){throw new Error("y coordinate out of bounds")}if(!this.isOnCurve()){throw new Error("Point is not on the curve.")}if(this.multiply(b).isInfinity()){throw new Error("Point is not a scalar multiple of G.")}return true};var jsonParse=(function(){var b="(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)";var j='(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))';var g='(?:"'+j+'*")';var B=new RegExp("(?:false|true|null|[\\{\\}\\[\\]]|"+b+"|"+g+")","g");var k=new RegExp("\\\\(?:([^u])|u(.{4}))","g");var d={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function f(n,l,m){return l?d[l]:String.fromCharCode(parseInt(m,16))}var A=new String("");var x="\\";var c={"{":Object,"[":Array};var y=Object.hasOwnProperty;return function(n,v){var u=n.match(B);var p;var o=u[0];var q=false;if("{"===o){p={}}else{if("["===o){p=[]}else{p=[];q=true}}var m;var E=[p];for(var s=1-q,r=u.length;s<r;++s){o=u[s];var w;switch(o.charCodeAt(0)){default:w=E[0];w[m||w.length]=+(o);m=void 0;break;case 34:o=o.substring(1,o.length-1);if(o.indexOf(x)!==-1){o=o.replace(k,f)}w=E[0];if(!m){if(w instanceof Array){m=w.length}else{m=o||A;break}}w[m]=o;m=void 0;break;case 91:w=E[0];E.unshift(w[m||w.length]=[]);m=void 0;break;case 93:E.shift();break;case 102:w=E[0];w[m||w.length]=false;m=void 0;break;case 110:w=E[0];w[m||w.length]=null;m=void 0;break;case 116:w=E[0];w[m||w.length]=true;m=void 0;break;case 123:w=E[0];E.unshift(w[m||w.length]={});m=void 0;break;case 125:E.shift();break}}if(q){if(E.length!==1){throw new Error()}p=p[0]}else{if(E.length){throw new Error()}}if(v){var l=function(M,D){var O=M[D];if(O&&typeof O==="object"){var K=null;for(var N in O){if(y.call(O,N)&&O!==M){var L=l(O,N);if(L!==void 0){O[N]=L}else{if(!K){K=[]}K.push(N)}}}if(K){for(var C=K.length;--C>=0;){delete O[K[C]]}}}return v.call(M,D,O)};p=l({"":p},"")}return p}})();if(typeof Ext=="undefined"||!Ext){Ext={}}if(typeof Ext.asn1=="undefined"||!Ext.asn1){Ext.asn1={}}Ext.asn1.ASN1Util=new function(){this.integerToByteHex=function(b){var f=b.toString(16);if((f.length%2)==1){f="0"+f}return f};this.bigIntToMinTwosComplementsHex=function(b){var s=b.toString(16);if(s.substr(0,1)!="-"){if(s.length%2==1){s="0"+s}else{if(!s.match(/^[0-7]/)){s="00"+s}}}else{var c=s.substr(1);var j=c.length;if(j%2==1){j+=1}else{if(!s.match(/^[0-7]/)){j+=2}}var u="";for(var g=0;g<j;g++){u+="f"}var f=new BigInteger(u,16);var d=f.xor(b).add(BigInteger.ONE);s=d.toString(16).replace(/^-/,"")}return s};this.getPEMStringFromHex=function(d,l){var b=hextob64(d);var c=b.replace(/(.{64})/g,"$1\r\n");c=c.replace(/\r\n$/,"");return"-----BEGIN "+l+"-----\r\n"+c+"\r\n-----END "+l+"-----\r\n"};this.newObject=function(j){var B=Ext.asn1;var d=Object.keys(j);if(d.length!=1){throw"key of param shall be only one."}var c=d[0];if(":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+c+":")==-1){throw"undefined key: "+c}if(c=="bool"){return new B.DERBoolean(j[c])}if(c=="int"){return new B.DERInteger(j[c])}if(c=="bitstr"){return new B.DERBitString(j[c])}if(c=="octstr"){return new B.DEROctetString(j[c])}if(c=="null"){return new B.DERNull(j[c])}if(c=="oid"){return new B.DERObjectIdentifier(j[c])}if(c=="enum"){return new B.DEREnumerated(j[c])}if(c=="utf8str"){return new B.DERUTF8String(j[c])}if(c=="numstr"){return new B.DERNumericString(j[c])}if(c=="prnstr"){return new B.DERPrintableString(j[c])}if(c=="telstr"){return new B.DERTeletexString(j[c])}if(c=="ia5str"){return new B.DERIA5String(j[c])}if(c=="utctime"){return new B.DERUTCTime(j[c])}if(c=="gentime"){return new B.DERGeneralizedTime(j[c])}if(c=="seq"){var g=j[c];var b=[];for(var m=0;m<g.length;m++){var f=B.ASN1Util.newObject(g[m]);b.push(f)}return new B.DERSequence({array:b})}if(c=="set"){var g=j[c];var b=[];for(var m=0;m<g.length;m++){var f=B.ASN1Util.newObject(g[m]);b.push(f)}return new B.DERSet({array:b})}if(c=="tag"){var k=j[c];if(Object.prototype.toString.call(k)==="[object Array]"&&k.length==3){var l=B.ASN1Util.newObject(k[2]);return new B.DERTaggedObject({tag:k[0],explicit:k[1],obj:l})}else{var A={};if(k.explicit!==undefined){A.explicit=k.explicit}if(k.tag!==undefined){A.tag=k.tag}if(k.obj===undefined){throw"obj shall be specified for 'tag'."}A.obj=B.ASN1Util.newObject(k.obj);return new B.DERTaggedObject(A)}}};this.jsonToASN1HEX=function(f){var b=this.newObject(f);return b.getEncodedHex()}}();Ext.asn1.ASN1Util.oidHexToInt=function(w){var j="";var k=parseInt(w.substr(0,2),16);var b=Math.floor(k/40);var y=k%40;var j=b+"."+y;var c="";for(var d=2;d<w.length;d+=2){var f=parseInt(w.substr(d,2),16);var g=("00000000"+f.toString(2)).slice(-8);c=c+g.substr(1,7);if(g.substr(0,1)=="0"){var x=new BigInteger(c,2);j=j+"."+x.toString(10);c=""}}return j};Ext.asn1.ASN1Util.oidIntToHex=function(r){var j=function(k){var l=k.toString(16);if(l.length==1){l="0"+l}return l};var g=function(o){var m="";var p=new BigInteger(o,10);var q=p.toString(2);var u=7-q.length%7;if(u==7){u=0}var n="";for(var k=0;k<u;k++){n+="0"}q=n+q;for(var k=0;k<q.length-1;k+=7){var l=q.substr(k,7);if(k!=q.length-7){l="1"+l}m+=j(parseInt(l,2))}return m};if(!r.match(/^[0-9.]+$/)){throw"malformed oid string: "+r}var b="";var d=r.split(".");var c=parseInt(d[0])*40+parseInt(d[1]);b+=j(c);d.splice(0,2);for(var f=0;f<d.length;f++){b+=g(d[f])}return b};Ext.asn1.ASN1Object=function(){var b=true;var n=null;var c="00";var d="00";var m="";this.getLengthHexFromValue=function(){if(typeof this.hV=="undefined"||this.hV==null){throw"this.hV is null or undefined."}if(this.hV.length%2==1){throw"value hex must be even length: n="+m.length+",v="+this.hV}var g=this.hV.length/2;var k=g.toString(16);if(k.length%2==1){k="0"+k}if(g<128){return k}else{var j=k.length/2;if(j>15){throw"ASN.1 length too long to represent by 8x: n = "+g.toString(16)}var f=128+j;return f.toString(16)+k}};this.getEncodedHex=function(){if(this.hTLV==null||this.isModified){this.hV=this.getFreshValueHex();this.hL=this.getLengthHexFromValue();this.hTLV=this.hT+this.hL+this.hV;this.isModified=false}return this.hTLV};this.getValueHex=function(){this.getEncodedHex();return this.hV};this.getFreshValueHex=function(){return""}};Ext.asn1.DERAbstractString=function(b){Ext.asn1.DERAbstractString.superclass.constructor.call(this);var j=null;var c=null;this.getString=function(){return this.s};this.setString=function(d){this.hTLV=null;this.isModified=true;this.s=d;this.hV=stohex(this.s)};this.setStringHex=function(d){this.hTLV=null;this.isModified=true;this.s=null;this.hV=d};this.getFreshValueHex=function(){return this.hV};if(typeof b!="undefined"){if(typeof b=="string"){this.setString(b)}else{if(typeof b.str!="undefined"){this.setString(b.str)}else{if(typeof b.hex!="undefined"){this.setStringHex(b.hex)}}}}};YAHOO.lang.extend(Ext.asn1.DERAbstractString,Ext.asn1.ASN1Object);Ext.asn1.DERAbstractTime=function(b){Ext.asn1.DERAbstractTime.superclass.constructor.call(this);var j=null;var c=null;this.localDateToUTC=function(d){utc=d.getTime()+(d.getTimezoneOffset()*60000);var f=new Date(utc);return f};this.formatDate=function(p,r,G){var d=this.zeroPadding;var q=this.localDateToUTC(p);var I=String(q.getFullYear());if(r=="utc"){I=I.substr(2,2)}var o=d(String(q.getMonth()+1),2);var l=d(String(q.getDate()),2);var f=d(String(q.getHours()),2);var g=d(String(q.getMinutes()),2);var k=d(String(q.getSeconds()),2);var n=I+o+l+f+g+k;if(G===true){var H=q.getMilliseconds();if(H!=0){var m=d(String(H),3);m=m.replace(/[0]+$/,"");n=n+"."+m}}return n+"Z"};this.zeroPadding=function(d,f){if(d.length>=f){return d}return new Array(f-d.length+1).join("0")+d};this.getString=function(){return this.s};this.setString=function(d){this.hTLV=null;this.isModified=true;this.s=d;this.hV=stohex(d)};this.setByDateValue=function(p,f,s,q,d,g){var r=new Date(Date.UTC(p,f-1,s,q,d,g,0));this.setByDate(r)};this.getFreshValueHex=function(){return this.hV}};YAHOO.lang.extend(Ext.asn1.DERAbstractTime,Ext.asn1.ASN1Object);Ext.asn1.DERAbstractStructured=function(f){Ext.asn1.DERAbstractString.superclass.constructor.call(this);var b=null;this.setByASN1ObjectArray=function(c){this.hTLV=null;this.isModified=true;this.asn1Array=c};this.appendASN1Object=function(c){this.hTLV=null;this.isModified=true;this.asn1Array.push(c)};this.asn1Array=new Array();if(typeof f!="undefined"){if(typeof f.array!="undefined"){this.asn1Array=f.array}}};YAHOO.lang.extend(Ext.asn1.DERAbstractStructured,Ext.asn1.ASN1Object);Ext.asn1.DERBoolean=function(){Ext.asn1.DERBoolean.superclass.constructor.call(this);this.hT="01";this.hTLV="0101ff"};YAHOO.lang.extend(Ext.asn1.DERBoolean,Ext.asn1.ASN1Object);Ext.asn1.DERInteger=function(c){Ext.asn1.DERInteger.superclass.constructor.call(this);this.hT="02";this.setByBigInteger=function(b){this.hTLV=null;this.isModified=true;this.hV=Ext.asn1.ASN1Util.bigIntToMinTwosComplementsHex(b)};this.setByInteger=function(b){var g=new BigInteger(String(b),10);this.setByBigInteger(g)};this.setValueHex=function(b){this.hV=b};this.getFreshValueHex=function(){return this.hV};if(typeof c!="undefined"){if(typeof c.bigint!="undefined"){this.setByBigInteger(c.bigint)}else{if(typeof c["int"]!="undefined"){this.setByInteger(c["int"])}else{if(typeof c=="number"){this.setByInteger(c)}else{if(typeof c.hex!="undefined"){this.setValueHex(c.hex)}}}}}};YAHOO.lang.extend(Ext.asn1.DERInteger,Ext.asn1.ASN1Object);Ext.asn1.DERBitString=function(f){if(f!==undefined&&typeof f.obj!=="undefined"){var b=Ext.asn1.ASN1Util.newObject(f.obj);f.hex="00"+b.getEncodedHex()}Ext.asn1.DERBitString.superclass.constructor.call(this);this.hT="03";this.setHexValueIncludingUnusedBits=function(c){this.hTLV=null;this.isModified=true;this.hV=c};this.setUnusedBitsAndHexValue=function(d,c){if(d<0||7<d){throw"unused bits shall be from 0 to 7: u = "+d}var j="0"+d;this.hTLV=null;this.isModified=true;this.hV=j+c};this.setByBinaryString=function(d){d=d.replace(/0+$/,"");var g=8-d.length%8;if(g==8){g=0}for(var j=0;j<=g;j++){d+="0"}var c="";for(var j=0;j<d.length-1;j+=8){var q=d.substr(j,8);var p=parseInt(q,2).toString(16);if(p.length==1){p="0"+p}c+=p}this.hTLV=null;this.isModified=true;this.hV="0"+g+c};this.setByBooleanArray=function(c){var j="";for(var d=0;d<c.length;d++){if(c[d]==true){j+="1"}else{j+="0"}}this.setByBinaryString(j)};this.newFalseArray=function(c){var d=new Array(c);for(var j=0;j<c;j++){d[j]=false}return d};this.getFreshValueHex=function(){return this.hV};if(typeof f!="undefined"){if(typeof f=="string"&&f.toLowerCase().match(/^[0-9a-f]+$/)){this.setHexValueIncludingUnusedBits(f)}else{if(typeof f.hex!="undefined"){this.setHexValueIncludingUnusedBits(f.hex)}else{if(typeof f.bin!="undefined"){this.setByBinaryString(f.bin)}else{if(typeof f.array!="undefined"){this.setByBooleanArray(f.array)}}}}}};YAHOO.lang.extend(Ext.asn1.DERBitString,Ext.asn1.ASN1Object);Ext.asn1.DEROctetString=function(f){if(f!==undefined&&typeof f.obj!=="undefined"){var b=Ext.asn1.ASN1Util.newObject(f.obj);f.hex=b.getEncodedHex()}Ext.asn1.DEROctetString.superclass.constructor.call(this,f);this.hT="04"};YAHOO.lang.extend(Ext.asn1.DEROctetString,Ext.asn1.DERAbstractString);Ext.asn1.DERNull=function(){Ext.asn1.DERNull.superclass.constructor.call(this);this.hT="05";this.hTLV="0500"};YAHOO.lang.extend(Ext.asn1.DERNull,Ext.asn1.ASN1Object);Ext.asn1.DERObjectIdentifier=function(b){var j=function(f){var d=f.toString(16);if(d.length==1){d="0"+d}return d};var c=function(v){var m="";var g=new BigInteger(v,10);var f=g.toString(2);var k=7-f.length%7;if(k==7){k=0}var d="";for(var l=0;l<k;l++){d+="0"}f=d+f;for(var l=0;l<f.length-1;l+=7){var u=f.substr(l,7);if(l!=f.length-7){u="1"+u}m+=j(parseInt(u,2))}return m};Ext.asn1.DERObjectIdentifier.superclass.constructor.call(this);this.hT="06";this.setValueHex=function(d){this.hTLV=null;this.isModified=true;this.s=null;this.hV=d};this.setValueOidString=function(n){if(!n.match(/^[0-9.]+$/)){throw"malformed oid string: "+n}var o="";var f=n.split(".");var d=parseInt(f[0])*40+parseInt(f[1]);o+=j(d);f.splice(0,2);for(var g=0;g<f.length;g++){o+=c(f[g])}this.hTLV=null;this.isModified=true;this.s=null;this.hV=o};this.setValueName=function(d){var f=Ext.asn1.x509.OID.name2oid(d);if(f!==""){this.setValueOidString(f)}else{throw"DERObjectIdentifier oidName undefined: "+d}};this.getFreshValueHex=function(){return this.hV};if(b!==undefined){if(typeof b==="string"){if(b.match(/^[0-2].[0-9.]+$/)){this.setValueOidString(b)}else{this.setValueName(b)}}else{if(b.oid!==undefined){this.setValueOidString(b.oid)}else{if(b.hex!==undefined){this.setValueHex(b.hex)}else{if(b.name!==undefined){this.setValueName(b.name)}}}}}};YAHOO.lang.extend(Ext.asn1.DERObjectIdentifier,Ext.asn1.ASN1Object);Ext.asn1.DEREnumerated=function(c){Ext.asn1.DEREnumerated.superclass.constructor.call(this);this.hT="0a";this.setByBigInteger=function(b){this.hTLV=null;this.isModified=true;this.hV=Ext.asn1.ASN1Util.bigIntToMinTwosComplementsHex(b)};this.setByInteger=function(b){var g=new BigInteger(String(b),10);this.setByBigInteger(g)};this.setValueHex=function(b){this.hV=b};this.getFreshValueHex=function(){return this.hV};if(typeof c!="undefined"){if(typeof c["int"]!="undefined"){this.setByInteger(c["int"])}else{if(typeof c=="number"){this.setByInteger(c)}else{if(typeof c.hex!="undefined"){this.setValueHex(c.hex)}}}}};YAHOO.lang.extend(Ext.asn1.DEREnumerated,Ext.asn1.ASN1Object);Ext.asn1.DERUTF8String=function(c){Ext.asn1.DERUTF8String.superclass.constructor.call(this,c);this.hT="0c"};YAHOO.lang.extend(Ext.asn1.DERUTF8String,Ext.asn1.DERAbstractString);Ext.asn1.DERNumericString=function(c){Ext.asn1.DERNumericString.superclass.constructor.call(this,c);this.hT="12"};YAHOO.lang.extend(Ext.asn1.DERNumericString,Ext.asn1.DERAbstractString);Ext.asn1.DERPrintableString=function(c){Ext.asn1.DERPrintableString.superclass.constructor.call(this,c);this.hT="13"};YAHOO.lang.extend(Ext.asn1.DERPrintableString,Ext.asn1.DERAbstractString);Ext.asn1.DERTeletexString=function(c){Ext.asn1.DERTeletexString.superclass.constructor.call(this,c);this.hT="14"};YAHOO.lang.extend(Ext.asn1.DERTeletexString,Ext.asn1.DERAbstractString);Ext.asn1.DERIA5String=function(c){Ext.asn1.DERIA5String.superclass.constructor.call(this,c);this.hT="16"};YAHOO.lang.extend(Ext.asn1.DERIA5String,Ext.asn1.DERAbstractString);Ext.asn1.DERUTCTime=function(c){Ext.asn1.DERUTCTime.superclass.constructor.call(this,c);this.hT="17";this.setByDate=function(b){this.hTLV=null;this.isModified=true;this.date=b;this.s=this.formatDate(this.date,"utc");this.hV=stohex(this.s)};this.getFreshValueHex=function(){if(typeof this.date=="undefined"&&typeof this.s=="undefined"){this.date=new Date();this.s=this.formatDate(this.date,"utc");this.hV=stohex(this.s)}return this.hV};if(c!==undefined){if(c.str!==undefined){this.setString(c.str)}else{if(typeof c=="string"&&c.match(/^[0-9]{12}Z$/)){this.setString(c)}else{if(c.hex!==undefined){this.setStringHex(c.hex)}else{if(c.date!==undefined){this.setByDate(c.date)}}}}}};YAHOO.lang.extend(Ext.asn1.DERUTCTime,Ext.asn1.DERAbstractTime);Ext.asn1.DERGeneralizedTime=function(c){Ext.asn1.DERGeneralizedTime.superclass.constructor.call(this,c);this.hT="18";this.withMillis=false;this.setByDate=function(b){this.hTLV=null;this.isModified=true;this.date=b;this.s=this.formatDate(this.date,"gen",this.withMillis);this.hV=stohex(this.s)};this.getFreshValueHex=function(){if(this.date===undefined&&this.s===undefined){this.date=new Date();this.s=this.formatDate(this.date,"gen",this.withMillis);this.hV=stohex(this.s)}return this.hV};if(c!==undefined){if(c.str!==undefined){this.setString(c.str)}else{if(typeof c=="string"&&c.match(/^[0-9]{14}Z$/)){this.setString(c)}else{if(c.hex!==undefined){this.setStringHex(c.hex)}else{if(c.date!==undefined){this.setByDate(c.date)}}}}if(c.millis===true){this.withMillis=true}}};YAHOO.lang.extend(Ext.asn1.DERGeneralizedTime,Ext.asn1.DERAbstractTime);Ext.asn1.DERSequence=function(c){Ext.asn1.DERSequence.superclass.constructor.call(this,c);this.hT="30";this.getFreshValueHex=function(){var b="";for(var k=0;k<this.asn1Array.length;k++){var d=this.asn1Array[k];b+=d.getEncodedHex()}this.hV=b;return this.hV}};YAHOO.lang.extend(Ext.asn1.DERSequence,Ext.asn1.DERAbstractStructured);Ext.asn1.DERSet=function(c){Ext.asn1.DERSet.superclass.constructor.call(this,c);this.hT="31";this.sortFlag=true;this.getFreshValueHex=function(){var k=new Array();for(var b=0;b<this.asn1Array.length;b++){var d=this.asn1Array[b];k.push(d.getEncodedHex())}if(this.sortFlag==true){k.sort()}this.hV=k.join("");return this.hV};if(typeof c!="undefined"){if(typeof c.sortflag!="undefined"&&c.sortflag==false){this.sortFlag=false}}};YAHOO.lang.extend(Ext.asn1.DERSet,Ext.asn1.DERAbstractStructured);Ext.asn1.DERTaggedObject=function(c){Ext.asn1.DERTaggedObject.superclass.constructor.call(this);this.hT="a0";this.hV="";this.isExplicit=true;this.asn1Object=null;this.setASN1Object=function(k,b,d){this.hT=b;this.isExplicit=k;this.asn1Object=d;if(this.isExplicit){this.hV=this.asn1Object.getEncodedHex();this.hTLV=null;this.isModified=true}else{this.hV=null;this.hTLV=d.getEncodedHex();this.hTLV=this.hTLV.replace(/^../,b);this.isModified=false}};this.getFreshValueHex=function(){return this.hV};if(typeof c!="undefined"){if(typeof c.tag!="undefined"){this.hT=c.tag}if(typeof c.explicit!="undefined"){this.isExplicit=c.explicit}if(typeof c.obj!="undefined"){this.asn1Object=c.obj;this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)}}};YAHOO.lang.extend(Ext.asn1.DERTaggedObject,Ext.asn1.ASN1Object);var ASN1HEX=new function(){}();ASN1HEX.getByteLengthOfL_AtObj=function(j,b){if(j.substring(b+2,b+3)!="8"){return 1}var c=parseInt(j.substring(b+3,b+4));if(c==0){return -1}if(0<c&&c<10){return c+1}return -2};ASN1HEX.getHexOfL_AtObj=function(j,b){var c=ASN1HEX.getByteLengthOfL_AtObj(j,b);if(c<1){return""}return j.substring(b+2,b+2+c*2)};ASN1HEX.getIntOfL_AtObj=function(b,c){var l=ASN1HEX.getHexOfL_AtObj(b,c);if(l==""){return -1}var d;if(parseInt(l.substring(0,1))<8){d=new BigInteger(l,16)}else{d=new BigInteger(l.substring(2),16)}return d.intValue()};ASN1HEX.getStartPosOfV_AtObj=function(j,b){var c=ASN1HEX.getByteLengthOfL_AtObj(j,b);if(c<0){return c}return b+(c+1)*2};ASN1HEX.getHexOfV_AtObj=function(b,c){var l=ASN1HEX.getStartPosOfV_AtObj(b,c);var d=ASN1HEX.getIntOfL_AtObj(b,c);return b.substring(l,l+d*2)};ASN1HEX.getHexOfTLV_AtObj=function(b,d){var n=b.substr(d,2);var c=ASN1HEX.getHexOfL_AtObj(b,d);var m=ASN1HEX.getHexOfV_AtObj(b,d);return n+c+m};ASN1HEX.getPosOfNextSibling_AtObj=function(b,c){var l=ASN1HEX.getStartPosOfV_AtObj(b,c);var d=ASN1HEX.getIntOfL_AtObj(b,c);return l+d*2};ASN1HEX.getPosArrayOfChildren_AtObj=function(s,c){var f=new Array();var b=ASN1HEX.getStartPosOfV_AtObj(s,c);if(s.substr(c,2)=="03"){f.push(b+2)}else{f.push(b)}var d=ASN1HEX.getIntOfL_AtObj(s,c);var u=b;var g=0;while(1){var j=ASN1HEX.getPosOfNextSibling_AtObj(s,u);if(j==null||(j-b>=(d*2))){break}if(g>=200){break}f.push(j);u=j;g++}return f};ASN1HEX.getNthChildIndex_AtObj=function(c,l,d){var b=ASN1HEX.getPosArrayOfChildren_AtObj(c,l);return b[d]};ASN1HEX.getDecendantIndexByNthList=function(d,c,b){if(b.length==0){return c}var f=b.shift();var n=ASN1HEX.getPosArrayOfChildren_AtObj(d,c);return ASN1HEX.getDecendantIndexByNthList(d,n[f],b)};ASN1HEX.getDecendantHexTLVByNthList=function(c,b,l){var d=ASN1HEX.getDecendantIndexByNthList(c,b,l);return ASN1HEX.getHexOfTLV_AtObj(c,d)};ASN1HEX.getDecendantHexVByNthList=function(c,b,l){var d=ASN1HEX.getDecendantIndexByNthList(c,b,l);return ASN1HEX.getHexOfV_AtObj(c,d)};ASN1HEX.getVbyList=function(c,b,n,d){var m=ASN1HEX.getDecendantIndexByNthList(c,b,n);if(m===undefined){throw"can't find nthList object"}if(d!==undefined){if(c.substr(m,2)!=d){throw"checking tag doesn't match: "+c.substr(m,2)+"!="+d}}return ASN1HEX.getHexOfV_AtObj(c,m)};ASN1HEX.hextooidstr=function(m){var A=function(c,b){if(c.length>=b){return c}return new Array(b-c.length+1).join("0")+c};var f=[];var l=m.substr(0,2);var n=parseInt(l,16);f[0]=new String(Math.floor(n/40));f[1]=new String(n%40);var g=m.substr(2);var d=[];for(var o=0;o<g.length/2;o++){d.push(parseInt(g.substr(o*2,2),16))}var B=[];var k="";for(var o=0;o<d.length;o++){if(d[o]&128){k=k+A((d[o]&127).toString(2),7)}else{k=k+A((d[o]&127).toString(2),7);B.push(new String(parseInt(k,2)));k=""}}var j=f.join(".");if(B.length>0){j=j+"."+B.join(".")}return j};ASN1HEX.dump=function(T,d,p,l){var g=T;if(T instanceof Ext.asn1.ASN1Object){g=T.getEncodedHex()}var R=function(s,v){if(s.length<=v*2){return s}else{var x=s.substr(0,v)+"..(total "+s.length/2+"bytes).."+s.substr(s.length-v,v);return x}};if(d===undefined){d={ommit_long_octet:32}}if(p===undefined){p=0}if(l===undefined){l=""}var n=d.ommit_long_octet;if(g.substr(p,2)=="01"){var m=ASN1HEX.getHexOfV_AtObj(g,p);if(m=="00"){return l+"BOOLEAN FALSE\n"}else{return l+"BOOLEAN TRUE\n"}}if(g.substr(p,2)=="02"){var m=ASN1HEX.getHexOfV_AtObj(g,p);return l+"INTEGER "+R(m,n)+"\n"}if(g.substr(p,2)=="03"){var m=ASN1HEX.getHexOfV_AtObj(g,p);return l+"BITSTRING "+R(m,n)+"\n"}if(g.substr(p,2)=="04"){var m=ASN1HEX.getHexOfV_AtObj(g,p);if(ASN1HEX.isASN1HEX(m)){var o=l+"OCTETSTRING, encapsulates\n";o=o+ASN1HEX.dump(m,d,0,l+"  ");return o}else{return l+"OCTETSTRING "+R(m,n)+"\n"}}if(g.substr(p,2)=="05"){return l+"NULL\n"}if(g.substr(p,2)=="06"){var r=ASN1HEX.getHexOfV_AtObj(g,p);var b=Ext.asn1.ASN1Util.oidHexToInt(r);var Q=Ext.asn1.x509.OID.oid2name(b);var c=b.replace(/\./g," ");if(Q!=""){return l+"ObjectIdentifier "+Q+" ("+c+")\n"}else{return l+"ObjectIdentifier ("+c+")\n"}}if(g.substr(p,2)=="0c"){return l+"UTF8String '"+hextoutf8(ASN1HEX.getHexOfV_AtObj(g,p))+"'\n"}if(g.substr(p,2)=="13"){return l+"PrintableString '"+hextoutf8(ASN1HEX.getHexOfV_AtObj(g,p))+"'\n"}if(g.substr(p,2)=="14"){return l+"TeletexString '"+hextoutf8(ASN1HEX.getHexOfV_AtObj(g,p))+"'\n"}if(g.substr(p,2)=="16"){return l+"IA5String '"+hextoutf8(ASN1HEX.getHexOfV_AtObj(g,p))+"'\n"}if(g.substr(p,2)=="17"){return l+"UTCTime "+hextoutf8(ASN1HEX.getHexOfV_AtObj(g,p))+"\n"}if(g.substr(p,2)=="18"){return l+"GeneralizedTime "+hextoutf8(ASN1HEX.getHexOfV_AtObj(g,p))+"\n"}if(g.substr(p,2)=="30"){if(g.substr(p,4)=="3000"){return l+"SEQUENCE {}\n"}var o=l+"SEQUENCE\n";var f=ASN1HEX.getPosArrayOfChildren_AtObj(g,p);var j=d;if((f.length==2||f.length==3)&&g.substr(f[0],2)=="06"&&g.substr(f[f.length-1],2)=="04"){var q=ASN1HEX.getHexOfV_AtObj(g,f[0]);var b=Ext.asn1.ASN1Util.oidHexToInt(q);var Q=Ext.asn1.x509.OID.oid2name(b);var S=JSON.parse(JSON.stringify(d));S.x509ExtName=Q;j=S}for(var k=0;k<f.length;k++){o=o+ASN1HEX.dump(g,j,f[k],l+"  ")}return o}if(g.substr(p,2)=="31"){var o=l+"SET\n";var f=ASN1HEX.getPosArrayOfChildren_AtObj(g,p);for(var k=0;k<f.length;k++){o=o+ASN1HEX.dump(g,d,f[k],l+"  ")}return o}var w=parseInt(g.substr(p,2),16);if((w&128)!=0){var u=w&31;if((w&32)!=0){var o=l+"["+u+"]\n";var f=ASN1HEX.getPosArrayOfChildren_AtObj(g,p);for(var k=0;k<f.length;k++){o=o+ASN1HEX.dump(g,d,f[k],l+"  ")}return o}else{var m=ASN1HEX.getHexOfV_AtObj(g,p);if(m.substr(0,8)=="68747470"){m=hextoutf8(m)}if(d.x509ExtName==="subjectAltName"&&u==2){m=hextoutf8(m)}var o=l+"["+u+"] "+m+"\n";return o}}return l+"UNKNOWN("+g.substr(p,2)+") "+ASN1HEX.getHexOfV_AtObj(g,p)+"\n"};ASN1HEX.isASN1HEX=function(c){if(c.length%2==1){return false}var b=ASN1HEX.getIntOfL_AtObj(c,0);var n=c.substr(0,2);var d=ASN1HEX.getHexOfL_AtObj(c,0);var m=c.length-n.length-d.length;if(m==b*2){return true}return false};ASN1HEX.pemToHex=function(l,c){if(l.indexOf("-----BEGIN ")==-1){throw"can't find PEM header: "+c}if(c!==undefined){l=l.replace("-----BEGIN "+c+"-----","");l=l.replace("-----END "+c+"-----","")}else{l=l.replace(/-----BEGIN [^-]+-----/,"");l=l.replace(/-----END [^-]+-----/,"")}var b=l.replace(/\s+/g,"");var d=b64tohex(b);return d};if(typeof Ext=="undefined"||!Ext){Ext={}}if(typeof Ext.asn1=="undefined"||!Ext.asn1){Ext.asn1={}}if(typeof Ext.asn1.x509=="undefined"||!Ext.asn1.x509){Ext.asn1.x509={}}Ext.asn1.x509.Certificate=function(c){Ext.asn1.x509.Certificate.superclass.constructor.call(this);var f=null;var q=null;var b=null;var g=null;var d=null;var r=null;this.setRsaPrvKeyByPEMandPass=function(l,j){var k=PKCS5PKEY.getDecryptedKeyHex(l,j);var m=new RSAKey();m.readPrivateKeyFromASN1HexString(k);this.prvKey=m};this.sign=function(){this.asn1SignatureAlg=this.asn1TBSCert.asn1SignatureAlg;sig=new Ext.crypto.Signature({alg:"SHA1withRSA"});sig.init(this.prvKey);sig.updateHex(this.asn1TBSCert.getEncodedHex());this.hexSig=sig.sign();this.asn1Sig=new Ext.asn1.DERBitString({hex:"00"+this.hexSig});var j=new Ext.asn1.DERSequence({array:[this.asn1TBSCert,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=j.getEncodedHex();this.isModified=false};this.setSignatureHex=function(k){this.asn1SignatureAlg=this.asn1TBSCert.asn1SignatureAlg;this.hexSig=k;this.asn1Sig=new Ext.asn1.DERBitString({hex:"00"+this.hexSig});var j=new Ext.asn1.DERSequence({array:[this.asn1TBSCert,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=j.getEncodedHex();this.isModified=false};this.getEncodedHex=function(){if(this.isModified==false&&this.hTLV!=null){return this.hTLV}throw"not signed yet"};this.getPEMString=function(){var m=this.getEncodedHex();var k=CryptoJS.enc.Hex.parse(m);var l=CryptoJS.enc.Base64.stringify(k);var j=l.replace(/(.{64})/g,"$1\r\n");return"-----BEGIN CERTIFICATE-----\r\n"+j+"\r\n-----END CERTIFICATE-----\r\n"};if(typeof c!="undefined"){if(typeof c.tbscertobj!="undefined"){this.asn1TBSCert=c.tbscertobj}if(typeof c.prvkeyobj!="undefined"){this.prvKey=c.prvkeyobj}else{if(typeof c.rsaprvkey!="undefined"){this.prvKey=c.rsaprvkey}else{if((typeof c.rsaprvpem!="undefined")&&(typeof c.rsaprvpas!="undefined")){this.setRsaPrvKeyByPEMandPass(c.rsaprvpem,c.rsaprvpas)}}}}};YAHOO.lang.extend(Ext.asn1.x509.Certificate,Ext.asn1.ASN1Object);Ext.asn1.x509.TBSCertificate=function(c){Ext.asn1.x509.TBSCertificate.superclass.constructor.call(this);this._initialize=function(){this.asn1Array=new Array();this.asn1Version=new Ext.asn1.DERTaggedObject({obj:new Ext.asn1.DERInteger({"int":2})});this.asn1SerialNumber=null;this.asn1SignatureAlg=null;this.asn1Issuer=null;this.asn1NotBefore=null;this.asn1NotAfter=null;this.asn1Subject=null;this.asn1SubjPKey=null;this.extensionsArray=new Array()};this.setSerialNumberByParam=function(b){this.asn1SerialNumber=new Ext.asn1.DERInteger(b)};this.setSignatureAlgByParam=function(b){this.asn1SignatureAlg=new Ext.asn1.x509.AlgorithmIdentifier(b)};this.setIssuerByParam=function(b){this.asn1Issuer=new Ext.asn1.x509.X500Name(b)};this.setNotBeforeByParam=function(b){this.asn1NotBefore=new Ext.asn1.x509.Time(b)};this.setNotAfterByParam=function(b){this.asn1NotAfter=new Ext.asn1.x509.Time(b)};this.setSubjectByParam=function(b){this.asn1Subject=new Ext.asn1.x509.X500Name(b)};this.setSubjectPublicKeyByParam=function(b){this.asn1SubjPKey=new Ext.asn1.x509.SubjectPublicKeyInfo(b)};this.setSubjectPublicKeyByGetKey=function(b){var g=KEYUTIL.getKey(b);this.asn1SubjPKey=new Ext.asn1.x509.SubjectPublicKeyInfo(g)};this.appendExtension=function(b){this.extensionsArray.push(b)};this.appendExtensionByName=function(b,g){Ext.asn1.x509.Extension.appendByNameToArray(b,g,this.extensionsArray)};this.getEncodedHex=function(){if(this.asn1NotBefore==null||this.asn1NotAfter==null){throw"notBefore and/or notAfter not set"}var b=new Ext.asn1.DERSequence({array:[this.asn1NotBefore,this.asn1NotAfter]});this.asn1Array=new Array();this.asn1Array.push(this.asn1Version);this.asn1Array.push(this.asn1SerialNumber);this.asn1Array.push(this.asn1SignatureAlg);this.asn1Array.push(this.asn1Issuer);this.asn1Array.push(b);this.asn1Array.push(this.asn1Subject);this.asn1Array.push(this.asn1SubjPKey);if(this.extensionsArray.length>0){var d=new Ext.asn1.DERSequence({array:this.extensionsArray});var m=new Ext.asn1.DERTaggedObject({explicit:true,tag:"a3",obj:d});this.asn1Array.push(m)}var l=new Ext.asn1.DERSequence({array:this.asn1Array});this.hTLV=l.getEncodedHex();this.isModified=false;return this.hTLV};this._initialize()};YAHOO.lang.extend(Ext.asn1.x509.TBSCertificate,Ext.asn1.ASN1Object);Ext.asn1.x509.Extension=function(f){Ext.asn1.x509.Extension.superclass.constructor.call(this);var b=null;this.getEncodedHex=function(){var c=new Ext.asn1.DERObjectIdentifier({oid:this.oid});var m=new Ext.asn1.DEROctetString({hex:this.getExtnValueHex()});var l=new Array();l.push(c);if(this.critical){l.push(new Ext.asn1.DERBoolean())}l.push(m);var d=new Ext.asn1.DERSequence({array:l});return d.getEncodedHex()};this.critical=false;if(typeof f!="undefined"){if(typeof f.critical!="undefined"){this.critical=f.critical}}};YAHOO.lang.extend(Ext.asn1.x509.Extension,Ext.asn1.ASN1Object);Ext.asn1.x509.Extension.appendByNameToArray=function(d,b,l){if(d.toLowerCase()=="basicconstraints"){var c=new Ext.asn1.x509.BasicConstraints(b);l.push(c)}else{if(d.toLowerCase()=="keyusage"){var c=new Ext.asn1.x509.KeyUsage(b);l.push(c)}else{if(d.toLowerCase()=="crldistributionpoints"){var c=new Ext.asn1.x509.CRLDistributionPoints(b);l.push(c)}else{if(d.toLowerCase()=="extkeyusage"){var c=new Ext.asn1.x509.ExtKeyUsage(b);l.push(c)}else{if(d.toLowerCase()=="authoritykeyidentifier"){var c=new Ext.asn1.x509.AuthorityKeyIdentifier(b);l.push(c)}else{if(d.toLowerCase()=="authorityinfoaccess"){var c=new Ext.asn1.x509.AuthorityInfoAccess(b);l.push(c)}else{if(d.toLowerCase()=="subjectaltname"){var c=new Ext.asn1.x509.SubjectAltName(b);l.push(c)}else{if(d.toLowerCase()=="issueraltname"){var c=new Ext.asn1.x509.IssuerAltName(b);l.push(c)}else{throw"unsupported extension name: "+d}}}}}}}}};Ext.asn1.x509.KeyUsage=function(c){Ext.asn1.x509.KeyUsage.superclass.constructor.call(this,c);this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()};this.oid="2.5.29.15";if(typeof c!="undefined"){if(typeof c.bin!="undefined"){this.asn1ExtnValue=new Ext.asn1.DERBitString(c)}}};YAHOO.lang.extend(Ext.asn1.x509.KeyUsage,Ext.asn1.x509.Extension);Ext.asn1.x509.BasicConstraints=function(b){Ext.asn1.x509.BasicConstraints.superclass.constructor.call(this,b);var c=false;var j=-1;this.getExtnValueHex=function(){var d=new Array();if(this.cA){d.push(new Ext.asn1.DERBoolean())}if(this.pathLen>-1){d.push(new Ext.asn1.DERInteger({"int":this.pathLen}))}var f=new Ext.asn1.DERSequence({array:d});this.asn1ExtnValue=f;return this.asn1ExtnValue.getEncodedHex()};this.oid="2.5.29.19";this.cA=false;this.pathLen=-1;if(typeof b!="undefined"){if(typeof b.cA!="undefined"){this.cA=b.cA}if(typeof b.pathLen!="undefined"){this.pathLen=b.pathLen}}};YAHOO.lang.extend(Ext.asn1.x509.BasicConstraints,Ext.asn1.x509.Extension);Ext.asn1.x509.CRLDistributionPoints=function(c){Ext.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,c);this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()};this.setByDPArray=function(b){this.asn1ExtnValue=new Ext.asn1.DERSequence({array:b})};this.setByOneURI=function(l){var m=new Ext.asn1.x509.GeneralNames([{uri:l}]);var d=new Ext.asn1.x509.DistributionPointName(m);var b=new Ext.asn1.x509.DistributionPoint({dpobj:d});this.setByDPArray([b])};this.oid="2.5.29.31";if(typeof c!="undefined"){if(typeof c.array!="undefined"){this.setByDPArray(c.array)}else{if(typeof c.uri!="undefined"){this.setByOneURI(c.uri)}}}};YAHOO.lang.extend(Ext.asn1.x509.CRLDistributionPoints,Ext.asn1.x509.Extension);Ext.asn1.x509.ExtKeyUsage=function(c){Ext.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,c);this.setPurposeArray=function(k){this.asn1ExtnValue=new Ext.asn1.DERSequence();for(var b=0;b<k.length;b++){var d=new Ext.asn1.DERObjectIdentifier(k[b]);this.asn1ExtnValue.appendASN1Object(d)}};this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()};this.oid="2.5.29.37";if(typeof c!="undefined"){if(typeof c.array!="undefined"){this.setPurposeArray(c.array)}}};YAHOO.lang.extend(Ext.asn1.x509.ExtKeyUsage,Ext.asn1.x509.Extension);Ext.asn1.x509.AuthorityKeyIdentifier=function(c){Ext.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,c);this.asn1KID=null;this.asn1CertIssuer=null;this.asn1CertSN=null;this.getExtnValueHex=function(){var b=new Array();if(this.asn1KID){b.push(new Ext.asn1.DERTaggedObject({explicit:false,tag:"80",obj:this.asn1KID}))}if(this.asn1CertIssuer){b.push(new Ext.asn1.DERTaggedObject({explicit:false,tag:"a1",obj:this.asn1CertIssuer}))}if(this.asn1CertSN){b.push(new Ext.asn1.DERTaggedObject({explicit:false,tag:"82",obj:this.asn1CertSN}))}var g=new Ext.asn1.DERSequence({array:b});this.asn1ExtnValue=g;return this.asn1ExtnValue.getEncodedHex()};this.setKIDByParam=function(b){this.asn1KID=new Ext.asn1.DEROctetString(b)};this.setCertIssuerByParam=function(b){this.asn1CertIssuer=new Ext.asn1.x509.X500Name(b)};this.setCertSNByParam=function(b){this.asn1CertSN=new Ext.asn1.DERInteger(b)};this.oid="2.5.29.35";if(typeof c!="undefined"){if(typeof c.kid!="undefined"){this.setKIDByParam(c.kid)}if(typeof c.issuer!="undefined"){this.setCertIssuerByParam(c.issuer)}if(typeof c.sn!="undefined"){this.setCertSNByParam(c.sn)}}};YAHOO.lang.extend(Ext.asn1.x509.AuthorityKeyIdentifier,Ext.asn1.x509.Extension);Ext.asn1.x509.AuthorityInfoAccess=function(c){Ext.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,c);this.setAccessDescriptionArray=function(p){var f=new Array();for(var g=0;g<p.length;g++){var b=new Ext.asn1.DERObjectIdentifier(p[g].accessMethod);var q=new Ext.asn1.x509.GeneralName(p[g].accessLocation);var d=new Ext.asn1.DERSequence({array:[b,q]});f.push(d)}this.asn1ExtnValue=new Ext.asn1.DERSequence({array:f})};this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()};this.oid="1.3.6.1.5.5.7.1.1";if(typeof c!="undefined"){if(typeof c.array!="undefined"){this.setAccessDescriptionArray(c.array)}}};YAHOO.lang.extend(Ext.asn1.x509.AuthorityInfoAccess,Ext.asn1.x509.Extension);Ext.asn1.x509.SubjectAltName=function(c){Ext.asn1.x509.SubjectAltName.superclass.constructor.call(this,c);this.setNameArray=function(b){this.asn1ExtnValue=new Ext.asn1.x509.GeneralNames(b)};this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()};this.oid="2.5.29.17";if(c!==undefined){if(c.array!==undefined){this.setNameArray(c.array)}}};YAHOO.lang.extend(Ext.asn1.x509.SubjectAltName,Ext.asn1.x509.Extension);Ext.asn1.x509.IssuerAltName=function(c){Ext.asn1.x509.IssuerAltName.superclass.constructor.call(this,c);this.setNameArray=function(b){this.asn1ExtnValue=new Ext.asn1.x509.GeneralNames(b)};this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()};this.oid="2.5.29.18";if(c!==undefined){if(c.array!==undefined){this.setNameArray(c.array)}}};YAHOO.lang.extend(Ext.asn1.x509.IssuerAltName,Ext.asn1.x509.Extension);Ext.asn1.x509.CRL=function(d){Ext.asn1.x509.CRL.superclass.constructor.call(this);var f=null;var p=null;var c=null;var o=null;var b=null;this.setRsaPrvKeyByPEMandPass=function(k,g){var j=PKCS5PKEY.getDecryptedKeyHex(k,g);var l=new RSAKey();l.readPrivateKeyFromASN1HexString(j);this.rsaPrvKey=l};this.sign=function(){this.asn1SignatureAlg=this.asn1TBSCertList.asn1SignatureAlg;sig=new Ext.crypto.Signature({alg:"SHA1withRSA",prov:"cryptojs/jsrsa"});sig.initSign(this.rsaPrvKey);sig.updateHex(this.asn1TBSCertList.getEncodedHex());this.hexSig=sig.sign();this.asn1Sig=new Ext.asn1.DERBitString({hex:"00"+this.hexSig});var g=new Ext.asn1.DERSequence({array:[this.asn1TBSCertList,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=g.getEncodedHex();this.isModified=false};this.getEncodedHex=function(){if(this.isModified==false&&this.hTLV!=null){return this.hTLV}throw"not signed yet"};this.getPEMString=function(){var l=this.getEncodedHex();var j=CryptoJS.enc.Hex.parse(l);var k=CryptoJS.enc.Base64.stringify(j);var g=k.replace(/(.{64})/g,"$1\r\n");return"-----BEGIN X509 CRL-----\r\n"+g+"\r\n-----END X509 CRL-----\r\n"};if(typeof d!="undefined"){if(typeof d.tbsobj!="undefined"){this.asn1TBSCertList=d.tbsobj}if(typeof d.rsaprvkey!="undefined"){this.rsaPrvKey=d.rsaprvkey}if((typeof d.rsaprvpem!="undefined")&&(typeof d.rsaprvpas!="undefined")){this.setRsaPrvKeyByPEMandPass(d.rsaprvpem,d.rsaprvpas)}}};YAHOO.lang.extend(Ext.asn1.x509.CRL,Ext.asn1.ASN1Object);Ext.asn1.x509.TBSCertList=function(f){Ext.asn1.x509.TBSCertList.superclass.constructor.call(this);var b=null;this.setSignatureAlgByParam=function(c){this.asn1SignatureAlg=new Ext.asn1.x509.AlgorithmIdentifier(c)};this.setIssuerByParam=function(c){this.asn1Issuer=new Ext.asn1.x509.X500Name(c)};this.setThisUpdateByParam=function(c){this.asn1ThisUpdate=new Ext.asn1.x509.Time(c)};this.setNextUpdateByParam=function(c){this.asn1NextUpdate=new Ext.asn1.x509.Time(c)};this.addRevokedCert=function(d,l){var c={};if(d!=undefined&&d!=null){c.sn=d}if(l!=undefined&&l!=null){c.time=l}var m=new Ext.asn1.x509.CRLEntry(c);this.aRevokedCert.push(m)};this.getEncodedHex=function(){this.asn1Array=new Array();if(this.asn1Version!=null){this.asn1Array.push(this.asn1Version)}this.asn1Array.push(this.asn1SignatureAlg);this.asn1Array.push(this.asn1Issuer);this.asn1Array.push(this.asn1ThisUpdate);if(this.asn1NextUpdate!=null){this.asn1Array.push(this.asn1NextUpdate)}if(this.aRevokedCert.length>0){var d=new Ext.asn1.DERSequence({array:this.aRevokedCert});this.asn1Array.push(d)}var c=new Ext.asn1.DERSequence({array:this.asn1Array});this.hTLV=c.getEncodedHex();this.isModified=false;return this.hTLV};this._initialize=function(){this.asn1Version=null;this.asn1SignatureAlg=null;this.asn1Issuer=null;this.asn1ThisUpdate=null;this.asn1NextUpdate=null;this.aRevokedCert=new Array()};this._initialize()};YAHOO.lang.extend(Ext.asn1.x509.TBSCertList,Ext.asn1.ASN1Object);Ext.asn1.x509.CRLEntry=function(b){Ext.asn1.x509.CRLEntry.superclass.constructor.call(this);var j=null;var c=null;this.setCertSerial=function(d){this.sn=new Ext.asn1.DERInteger(d)};this.setRevocationDate=function(d){this.time=new Ext.asn1.x509.Time(d)};this.getEncodedHex=function(){var d=new Ext.asn1.DERSequence({array:[this.sn,this.time]});this.TLV=d.getEncodedHex();return this.TLV};if(typeof b!="undefined"){if(typeof b.time!="undefined"){this.setRevocationDate(b.time)}if(typeof b.sn!="undefined"){this.setCertSerial(b.sn)}}};YAHOO.lang.extend(Ext.asn1.x509.CRLEntry,Ext.asn1.ASN1Object);Ext.asn1.x509.X500Name=function(f){Ext.asn1.x509.X500Name.superclass.constructor.call(this);this.asn1Array=new Array();this.setByString=function(d){var j=d.split("/");j.shift();for(var c=0;c<j.length;c++){this.asn1Array.push(new Ext.asn1.x509.RDN({str:j[c]}))}};this.setByLdapString=function(d){var c=Ext.asn1.x509.X500Name.ldapToOneline(d);this.setByString(c)};this.setByObject=function(c){for(var d in c){if(c.hasOwnProperty(d)){var j=new Ext.asn1.x509.RDN({str:d+"="+c[d]});this.asn1Array?this.asn1Array.push(j):this.asn1Array=[j]}}};this.getEncodedHex=function(){if(typeof this.hTLV=="string"){return this.hTLV}var c=new Ext.asn1.DERSequence({array:this.asn1Array});this.hTLV=c.getEncodedHex();return this.hTLV};if(f!==undefined){if(f.str!==undefined){this.setByString(f.str)}else{if(f.ldapstr!==undefined){this.setByLdapString(f.ldapstr)}else{if(typeof f==="object"){this.setByObject(f)}}}if(f.certissuer!==undefined){var b=new X509();b.hex=ASN1HEX.pemToHex(f.certissuer);this.hTLV=b.getIssuerHex()}if(f.certsubject!==undefined){var b=new X509();b.hex=ASN1HEX.pemToHex(f.certsubject);this.hTLV=b.getSubjectHex()}}};YAHOO.lang.extend(Ext.asn1.x509.X500Name,Ext.asn1.ASN1Object);Ext.asn1.x509.X500Name.onelineToLDAP=function(c){if(c.substr(0,1)!=="/"){throw"malformed input"}var d="";c=c.substr(1);var b=c.split("/");b.reverse();b=b.map(function(f){return f.replace(/,/,"\\,")});return b.join(",")};Ext.asn1.x509.X500Name.ldapToOneline=function(u){var f=u.split(",");var j=false;var d=[];for(var s=0;f.length>0;s++){var b=f.shift();if(j===true){var g=d.pop();var c=(g+","+b).replace(/\\,/g,",");d.push(c);j=false}else{d.push(b)}if(b.substr(-1,1)==="\\"){j=true}}d=d.map(function(k){return k.replace("/","\\/")});d.reverse();return"/"+d.join("/")};Ext.asn1.x509.RDN=function(c){Ext.asn1.x509.RDN.superclass.constructor.call(this);this.asn1Array=new Array();this.addByString=function(b){this.asn1Array.push(new Ext.asn1.x509.AttributeTypeAndValue({str:b}))};this.addByMultiValuedString=function(d){var k=Ext.asn1.x509.RDN.parseString(d);for(var b=0;b<k.length;b++){this.addByString(k[b])}};this.getEncodedHex=function(){var b=new Ext.asn1.DERSet({array:this.asn1Array});this.TLV=b.getEncodedHex();return this.TLV};if(typeof c!="undefined"){if(typeof c.str!="undefined"){this.addByMultiValuedString(c.str)}}};YAHOO.lang.extend(Ext.asn1.x509.RDN,Ext.asn1.ASN1Object);Ext.asn1.x509.RDN.parseString=function(g){var c=g.split(/\+/);var b=false;var k=[];for(var B=0;c.length>0;B++){var d=c.shift();if(b===true){var A=k.pop();var l=(A+"+"+d).replace(/\\\+/g,"+");k.push(l);b=false}else{k.push(d)}if(d.substr(-1,1)==="\\"){b=true}}var f=false;var j=[];for(var B=0;k.length>0;B++){var d=k.shift();if(f===true){var m=j.pop();if(d.match(/"$/)){var l=(m+"+"+d).replace(/^([^=]+)="(.*)"$/,"$1=$2");j.push(l);f=false}else{j.push(m+"+"+d)}}else{j.push(d)}if(d.match(/^[^=]+="/)){f=true}}return j};Ext.asn1.x509.AttributeTypeAndValue=function(l){Ext.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this);var c=null;var b=null;var d="utf8";this.setByString=function(f){var g=f.match(/^([^=]+)=(.+)$/);if(g){this.setByAttrTypeAndValueStr(g[1],g[2])}else{throw"malformed attrTypeAndValueStr: "+f}};this.setByAttrTypeAndValueStr=function(f,j){this.typeObj=Ext.asn1.x509.OID.atype2obj(f);var g=d;if(f=="C"){g="prn"}this.valueObj=this.getValueObj(g,j)};this.getValueObj=function(f,g){if(f=="utf8"){return new Ext.asn1.DERUTF8String({str:g})}if(f=="prn"){return new Ext.asn1.DERPrintableString({str:g})}if(f=="tel"){return new Ext.asn1.DERTeletexString({str:g})}if(f=="ia5"){return new Ext.asn1.DERIA5String({str:g})}throw"unsupported directory string type: type="+f+" value="+g};this.getEncodedHex=function(){var f=new Ext.asn1.DERSequence({array:[this.typeObj,this.valueObj]});this.TLV=f.getEncodedHex();return this.TLV};if(typeof l!="undefined"){if(typeof l.str!="undefined"){this.setByString(l.str)}}};YAHOO.lang.extend(Ext.asn1.x509.AttributeTypeAndValue,Ext.asn1.ASN1Object);Ext.asn1.x509.SubjectPublicKeyInfo=function(c){Ext.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var l=null;var b=null;var d=null;this.setRSAKey=function(g){if(!RSAKey.prototype.isPrototypeOf(g)){throw"argument is not RSAKey instance"}this.rsaKey=g;var k=new Ext.asn1.DERInteger({bigint:g.n});var j=new Ext.asn1.DERInteger({"int":g.e});var f=new Ext.asn1.DERSequence({array:[k,j]});var n=f.getEncodedHex();this.asn1AlgId=new Ext.asn1.x509.AlgorithmIdentifier({name:"rsaEncryption"});this.asn1SubjPKey=new Ext.asn1.DERBitString({hex:"00"+n})};this.setRSAPEM=function(A){if(A.match(/-----BEGIN PUBLIC KEY-----/)){var w=A;w=w.replace(/^-----[^-]+-----/,"");w=w.replace(/-----[^-]+-----\s*$/,"");var n=w.replace(/\s+/g,"");var y=CryptoJS.enc.Base64.parse(n);var g=CryptoJS.enc.Hex.stringify(y);var k=RSAKey.getHexValueArrayOfChildrenFromHex(g);var f=k[1];var m=f.substr(2);var x=RSAKey.getHexValueArrayOfChildrenFromHex(m);var j=new RSAKey();j.setPublic(x[0],x[1]);this.setRSAKey(j)}else{throw"key not supported"}};this.getASN1Object=function(){if(this.asn1AlgId==null||this.asn1SubjPKey==null){throw"algId and/or subjPubKey not set"}var f=new Ext.asn1.DERSequence({array:[this.asn1AlgId,this.asn1SubjPKey]});return f};this.getEncodedHex=function(){var f=this.getASN1Object();this.hTLV=f.getEncodedHex();return this.hTLV};this._setRSAKey=function(g){var f=Ext.asn1.ASN1Util.newObject({seq:[{"int":{bigint:g.n}},{"int":{"int":g.e}}]});var j=f.getEncodedHex();this.asn1AlgId=new Ext.asn1.x509.AlgorithmIdentifier({name:"rsaEncryption"});this.asn1SubjPKey=new Ext.asn1.DERBitString({hex:"00"+j})};this._setEC=function(g){var f=new Ext.asn1.DERObjectIdentifier({name:g.curveName});this.asn1AlgId=new Ext.asn1.x509.AlgorithmIdentifier({name:"ecPublicKey",asn1params:f});this.asn1SubjPKey=new Ext.asn1.DERBitString({hex:"00"+g.pubKeyHex})};this._setDSA=function(g){var j=new Ext.asn1.ASN1Util.newObject({seq:[{"int":{bigint:g.p}},{"int":{bigint:g.q}},{"int":{bigint:g.g}}]});this.asn1AlgId=new Ext.asn1.x509.AlgorithmIdentifier({name:"dsa",asn1params:j});var f=new Ext.asn1.DERInteger({bigint:g.y});this.asn1SubjPKey=new Ext.asn1.DERBitString({hex:"00"+f.getEncodedHex()})};if(typeof c!="undefined"){if(typeof RSAKey!="undefined"&&c instanceof RSAKey){this._setRSAKey(c)}else{if(typeof Ext.crypto.ECDSA!="undefined"&&c instanceof Ext.crypto.ECDSA){this._setEC(c)}else{if(typeof Ext.crypto.DSA!="undefined"&&c instanceof Ext.crypto.DSA){this._setDSA(c)}else{if(typeof c.rsakey!="undefined"){this.setRSAKey(c.rsakey)}else{if(typeof c.rsapem!="undefined"){this.setRSAPEM(c.rsapem)}}}}}}};YAHOO.lang.extend(Ext.asn1.x509.SubjectPublicKeyInfo,Ext.asn1.ASN1Object);Ext.asn1.x509.Time=function(b){Ext.asn1.x509.Time.superclass.constructor.call(this);var j=null;var c=null;this.setTimeParams=function(d){this.timeParams=d};this.getEncodedHex=function(){var d=null;if(this.timeParams!=null){if(this.type=="utc"){d=new Ext.asn1.DERUTCTime(this.timeParams)}else{d=new Ext.asn1.DERGeneralizedTime(this.timeParams)}}else{if(this.type=="utc"){d=new Ext.asn1.DERUTCTime()}else{d=new Ext.asn1.DERGeneralizedTime()}}this.TLV=d.getEncodedHex();return this.TLV};this.type="utc";if(typeof b!="undefined"){if(typeof b.type!="undefined"){this.type=b.type}else{if(typeof b.str!="undefined"){if(b.str.match(/^[0-9]{12}Z$/)){this.type="utc"}if(b.str.match(/^[0-9]{14}Z$/)){this.type="gen"}}}this.timeParams=b}};YAHOO.lang.extend(Ext.asn1.x509.Time,Ext.asn1.ASN1Object);Ext.asn1.x509.AlgorithmIdentifier=function(d){Ext.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this);var m=null;var c=null;var n=null;var b=false;this.getEncodedHex=function(){if(this.nameAlg==null&&this.asn1Alg==null){throw"algorithm not specified"}if(this.nameAlg!=null&&this.asn1Alg==null){this.asn1Alg=Ext.asn1.x509.OID.name2obj(this.nameAlg)}var g=[this.asn1Alg];if(!this.paramEmpty){g.push(this.asn1Params)}var f=new Ext.asn1.DERSequence({array:g});this.hTLV=f.getEncodedHex();return this.hTLV};if(typeof d!="undefined"){if(typeof d.name!="undefined"){this.nameAlg=d.name}if(typeof d.asn1params!="undefined"){this.asn1Params=d.asn1params}if(typeof d.paramempty!="undefined"){this.paramEmpty=d.paramempty}}if(this.asn1Params==null){this.asn1Params=new Ext.asn1.DERNull()}};YAHOO.lang.extend(Ext.asn1.x509.AlgorithmIdentifier,Ext.asn1.ASN1Object);Ext.asn1.x509.GeneralName=function(c){Ext.asn1.x509.GeneralName.superclass.constructor.call(this);var b=null;var l=null;var d={rfc822:"81",dns:"82",dn:"a4",uri:"86"};this.explicit=false;this.setByParam=function(g){var r=null;var f=null;if(g===undefined){return}if(g.rfc822!==undefined){this.type="rfc822";f=new Ext.asn1.DERIA5String({str:g[this.type]})}if(g.dns!==undefined){this.type="dns";f=new Ext.asn1.DERIA5String({str:g[this.type]})}if(g.uri!==undefined){this.type="uri";f=new Ext.asn1.DERIA5String({str:g[this.type]})}if(g.dn!==undefined){this.type="dn";f=new Ext.asn1.x509.X500Name({str:g.dn})}if(g.ldapdn!==undefined){this.type="dn";f=new Ext.asn1.x509.X500Name({ldapstr:g.ldapdn})}if(g.certissuer!==undefined){this.type="dn";this.explicit=true;var j=g.certissuer;var q=null;if(j.match(/^[0-9A-Fa-f]+$/)){q==j}if(j.indexOf("-----BEGIN ")!=-1){q=ASN1HEX.pemToHex(j)}if(q==null){throw"certissuer param not cert"}var p=new X509();p.hex=q;var k=p.getIssuerHex();f=new Ext.asn1.ASN1Object();f.hTLV=k}if(g.certsubj!==undefined){this.type="dn";this.explicit=true;var j=g.certsubj;var q=null;if(j.match(/^[0-9A-Fa-f]+$/)){q==j}if(j.indexOf("-----BEGIN ")!=-1){q=ASN1HEX.pemToHex(j)}if(q==null){throw"certsubj param not cert"}var p=new X509();p.hex=q;var k=p.getSubjectHex();f=new Ext.asn1.ASN1Object();f.hTLV=k}if(this.type==null){throw"unsupported type in params="+g}this.asn1Obj=new Ext.asn1.DERTaggedObject({explicit:this.explicit,tag:d[this.type],obj:f})};this.getEncodedHex=function(){return this.asn1Obj.getEncodedHex()};if(c!==undefined){this.setByParam(c)}};YAHOO.lang.extend(Ext.asn1.x509.GeneralName,Ext.asn1.ASN1Object);Ext.asn1.x509.GeneralNames=function(f){Ext.asn1.x509.GeneralNames.superclass.constructor.call(this);var b=null;this.setByParamArray=function(c){for(var d=0;d<c.length;d++){var j=new Ext.asn1.x509.GeneralName(c[d]);this.asn1Array.push(j)}};this.getEncodedHex=function(){var c=new Ext.asn1.DERSequence({array:this.asn1Array});return c.getEncodedHex()};this.asn1Array=new Array();if(typeof f!="undefined"){this.setByParamArray(f)}};YAHOO.lang.extend(Ext.asn1.x509.GeneralNames,Ext.asn1.ASN1Object);Ext.asn1.x509.DistributionPointName=function(n){Ext.asn1.x509.DistributionPointName.superclass.constructor.call(this);var d=null;var b=null;var m=null;var c=null;this.getEncodedHex=function(){if(this.type!="full"){throw"currently type shall be 'full': "+this.type}this.asn1Obj=new Ext.asn1.DERTaggedObject({explicit:false,tag:this.tag,obj:this.asn1V});this.hTLV=this.asn1Obj.getEncodedHex();return this.hTLV};if(typeof n!="undefined"){if(Ext.asn1.x509.GeneralNames.prototype.isPrototypeOf(n)){this.type="full";this.tag="a0";this.asn1V=n}else{throw"This class supports GeneralNames only as argument"}}};YAHOO.lang.extend(Ext.asn1.x509.DistributionPointName,Ext.asn1.ASN1Object);Ext.asn1.x509.DistributionPoint=function(f){Ext.asn1.x509.DistributionPoint.superclass.constructor.call(this);var b=null;this.getEncodedHex=function(){var d=new Ext.asn1.DERSequence();if(this.asn1DP!=null){var c=new Ext.asn1.DERTaggedObject({explicit:true,tag:"a0",obj:this.asn1DP});d.appendASN1Object(c)}this.hTLV=d.getEncodedHex();return this.hTLV};if(typeof f!="undefined"){if(typeof f.dpobj!="undefined"){this.asn1DP=f.dpobj}}};YAHOO.lang.extend(Ext.asn1.x509.DistributionPoint,Ext.asn1.ASN1Object);Ext.asn1.x509.OID=new function(c){this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"};this.name2oidList={sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",countryName:"2.5.4.6",streetAddress:"2.5.4.9",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",ecPublicKey:"1.2.840.10045.2.1",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",extensionRequest:"1.2.840.113549.1.9.14"};this.objCache={};this.name2obj=function(k){if(typeof this.objCache[k]!="undefined"){return this.objCache[k]}if(typeof this.name2oidList[k]=="undefined"){throw"Name of ObjectIdentifier not defined: "+k}var b=this.name2oidList[k];var d=new Ext.asn1.DERObjectIdentifier({oid:b});this.objCache[k]=d;return d};this.atype2obj=function(k){if(typeof this.objCache[k]!="undefined"){return this.objCache[k]}if(typeof this.atype2oidList[k]=="undefined"){throw"AttributeType name undefined: "+k}var b=this.atype2oidList[k];var d=new Ext.asn1.DERObjectIdentifier({oid:b});this.objCache[k]=d;return d}}();Ext.asn1.x509.OID.oid2name=function(j){var b=Ext.asn1.x509.OID.name2oidList;for(var c in b){if(b[c]==j){return c}}return""};Ext.asn1.x509.OID.oid2atype=function(j){var b=Ext.asn1.x509.OID.atype2oidList;for(var c in b){if(b[c]==j){return c}}return j};Ext.asn1.x509.OID.name2oid=function(b){var f=Ext.asn1.x509.OID.name2oidList;if(f[b]===undefined){return""}return f[b]};Ext.asn1.x509.X509Util=new function(){this.getPKCS8PubKeyPEMfromRSAKey=function(d){var c=null;var D=Ext.asn1.ASN1Util.bigIntToMinTwosComplementsHex(d.n);var f=Ext.asn1.ASN1Util.integerToByteHex(d.e);var k=new Ext.asn1.DERInteger({hex:D});var b=new Ext.asn1.DERInteger({hex:f});var j=new Ext.asn1.DERSequence({array:[k,b]});var A=j.getEncodedHex();var B=new Ext.asn1.x509.AlgorithmIdentifier({name:"rsaEncryption"});var l=new Ext.asn1.DERBitString({hex:"00"+A});var g=new Ext.asn1.DERSequence({array:[B,l]});var C=g.getEncodedHex();var c=Ext.asn1.ASN1Util.getPEMStringFromHex(C,"PUBLIC KEY");return c}}();Ext.asn1.x509.X509Util.newCertPEM=function(d){var p=Ext.asn1.x509;var c=new p.TBSCertificate();if(d.serial!==undefined){c.setSerialNumberByParam(d.serial)}else{throw"serial number undefined."}if(typeof d.sigalg.name=="string"){c.setSignatureAlgByParam(d.sigalg)}else{throw"unproper signature algorithm name"}if(d.issuer!==undefined){c.setIssuerByParam(d.issuer)}else{throw"issuer name undefined."}if(d.notbefore!==undefined){c.setNotBeforeByParam(d.notbefore)}else{throw"notbefore undefined."}if(d.notafter!==undefined){c.setNotAfterByParam(d.notafter)}else{throw"notafter undefined."}if(d.subject!==undefined){c.setSubjectByParam(d.subject)}else{throw"subject name undefined."}if(d.sbjpubkey!==undefined){c.setSubjectPublicKeyByGetKey(d.sbjpubkey)}else{throw"subject public key undefined."}if(d.ext!==undefined&&d.ext.length!==undefined){for(var o=0;o<d.ext.length;o++){for(key in d.ext[o]){c.appendExtensionByName(key,d.ext[o][key])}}}if(d.cakey===undefined&&d.sighex===undefined){throw"param cakey and sighex undefined."}var b=null;var f=null;if(d.cakey){b=KEYUTIL.getKey.apply(null,d.cakey);f=new p.Certificate({tbscertobj:c,prvkeyobj:b});f.sign()}if(d.sighex){f=new p.Certificate({tbscertobj:c});f.setSignatureHex(d.sighex)}return f.getPEMString()};if(typeof Ext=="undefined"||!Ext){Ext={}}if(typeof Ext.asn1=="undefined"||!Ext.asn1){Ext.asn1={}}if(typeof Ext.asn1.cms=="undefined"||!Ext.asn1.cms){Ext.asn1.cms={}}Ext.asn1.cms.Attribute=function(f){Ext.asn1.cms.Attribute.superclass.constructor.call(this);var b=[];this.getEncodedHex=function(){var c,m,d;c=new Ext.asn1.DERObjectIdentifier({oid:this.attrTypeOid});m=new Ext.asn1.DERSet({array:this.valueList});try{m.getEncodedHex()}catch(l){throw"fail valueSet.getEncodedHex in Attribute(1)/"+l}d=new Ext.asn1.DERSequence({array:[c,m]});try{this.hTLV=d.getEncodedHex()}catch(l){throw"failed seq.getEncodedHex in Attribute(2)/"+l}return this.hTLV}};YAHOO.lang.extend(Ext.asn1.cms.Attribute,Ext.asn1.ASN1Object);Ext.asn1.cms.ContentType=function(f){Ext.asn1.cms.ContentType.superclass.constructor.call(this);this.attrTypeOid="1.2.840.113549.1.9.3";var b=null;if(typeof f!="undefined"){var b=new Ext.asn1.DERObjectIdentifier(f);this.valueList=[b]}};YAHOO.lang.extend(Ext.asn1.cms.ContentType,Ext.asn1.cms.Attribute);Ext.asn1.cms.MessageDigest=function(d){Ext.asn1.cms.MessageDigest.superclass.constructor.call(this);this.attrTypeOid="1.2.840.113549.1.9.4";if(typeof d!="undefined"){if(d.eciObj instanceof Ext.asn1.cms.EncapsulatedContentInfo&&typeof d.hashAlg=="string"){var n=d.eciObj.eContentValueHex;var m=d.hashAlg;var b=Ext.crypto.Util.hashHex(n,m);var c=new Ext.asn1.DEROctetString({hex:b});c.getEncodedHex();this.valueList=[c]}else{var c=new Ext.asn1.DEROctetString(d);c.getEncodedHex();this.valueList=[c]}}};YAHOO.lang.extend(Ext.asn1.cms.MessageDigest,Ext.asn1.cms.Attribute);Ext.asn1.cms.SigningTime=function(b){Ext.asn1.cms.SigningTime.superclass.constructor.call(this);this.attrTypeOid="1.2.840.113549.1.9.5";if(typeof b!="undefined"){var c=new Ext.asn1.x509.Time(b);try{c.getEncodedHex()}catch(j){throw"SigningTime.getEncodedHex() failed/"+j}this.valueList=[c]}};YAHOO.lang.extend(Ext.asn1.cms.SigningTime,Ext.asn1.cms.Attribute);Ext.asn1.cms.SigningCertificate=function(c){Ext.asn1.cms.SigningCertificate.superclass.constructor.call(this);this.attrTypeOid="1.2.840.113549.1.9.16.2.12";var d=Ext.asn1;var b=Ext.asn1.cms;var l=Ext.crypto;this.setCerts=function(m){var j=[];for(var g=0;g<m.length;g++){var x=ASN1HEX.pemToHex(m[g]);var w=l.Util.hashHex(x,"sha1");var n=new d.DEROctetString({hex:w});n.getEncodedHex();var k=new b.IssuerAndSerialNumber({cert:m[g]});k.getEncodedHex();var v=new d.DERSequence({array:[n,k]});v.getEncodedHex();j.push(v)}var f=new d.DERSequence({array:j});f.getEncodedHex();this.valueList=[f]};if(typeof c!="undefined"){if(typeof c.array=="object"){this.setCerts(c.array)}}};YAHOO.lang.extend(Ext.asn1.cms.SigningCertificate,Ext.asn1.cms.Attribute);Ext.asn1.cms.SigningCertificateV2=function(c){Ext.asn1.cms.SigningCertificateV2.superclass.constructor.call(this);this.attrTypeOid="1.2.840.113549.1.9.16.2.47";var o=Ext.asn1;var d=Ext.asn1.x509;var b=Ext.asn1.cms;var p=Ext.crypto;this.setCerts=function(k,m){var D=[];for(var B=0;B<k.length;B++){var q=ASN1HEX.pemToHex(k[B]);var n=[];if(m!="sha256"){n.push(new d.AlgorithmIdentifier({name:m}))}var g=p.Util.hashHex(q,m);var l=new o.DEROctetString({hex:g});l.getEncodedHex();n.push(l);var C=new b.IssuerAndSerialNumber({cert:k[B]});C.getEncodedHex();n.push(C);var j=new o.DERSequence({array:n});j.getEncodedHex();D.push(j)}var r=new o.DERSequence({array:D});r.getEncodedHex();this.valueList=[r]};if(typeof c!="undefined"){if(typeof c.array=="object"){var f="sha256";if(typeof c.hashAlg=="string"){f=c.hashAlg}this.setCerts(c.array,f)}}};YAHOO.lang.extend(Ext.asn1.cms.SigningCertificateV2,Ext.asn1.cms.Attribute);Ext.asn1.cms.IssuerAndSerialNumber=function(b){Ext.asn1.cms.IssuerAndSerialNumber.superclass.constructor.call(this);var d=null;var n=null;var m=Ext.asn1;var c=m.x509;this.setByCertPEM=function(l){var g=ASN1HEX.pemToHex(l);var k=new X509();k.hex=g;var f=k.getIssuerHex();this.dIssuer=new c.X500Name();this.dIssuer.hTLV=f;var j=k.getSerialNumberHex();this.dSerial=new m.DERInteger({hex:j})};this.getEncodedHex=function(){var f=new Ext.asn1.DERSequence({array:[this.dIssuer,this.dSerial]});this.hTLV=f.getEncodedHex();return this.hTLV};if(typeof b!="undefined"){if(typeof b=="string"&&b.indexOf("-----BEGIN ")!=-1){this.setByCertPEM(b)}if(b.issuer&&b.serial){if(b.issuer instanceof Ext.asn1.x509.X500Name){this.dIssuer=b.issuer}else{this.dIssuer=new Ext.asn1.x509.X500Name(b.issuer)}if(b.serial instanceof Ext.asn1.DERInteger){this.dSerial=b.serial}else{this.dSerial=new Ext.asn1.DERInteger(b.serial)}}if(typeof b.cert=="string"){this.setByCertPEM(b.cert)}}};YAHOO.lang.extend(Ext.asn1.cms.IssuerAndSerialNumber,Ext.asn1.ASN1Object);Ext.asn1.cms.AttributeList=function(c){Ext.asn1.cms.AttributeList.superclass.constructor.call(this);this.list=new Array();this.sortFlag=true;this.add=function(b){if(b instanceof Ext.asn1.cms.Attribute){this.list.push(b)}};this.length=function(){return this.list.length};this.clear=function(){this.list=new Array();this.hTLV=null;this.hV=null};this.getEncodedHex=function(){if(typeof this.hTLV=="string"){return this.hTLV}var b=new Ext.asn1.DERSet({array:this.list,sortflag:this.sortFlag});this.hTLV=b.getEncodedHex();return this.hTLV};if(typeof c!="undefined"){if(typeof c.sortflag!="undefined"&&c.sortflag==false){this.sortFlag=false}}};YAHOO.lang.extend(Ext.asn1.cms.AttributeList,Ext.asn1.ASN1Object);Ext.asn1.cms.SignerInfo=function(b){Ext.asn1.cms.SignerInfo.superclass.constructor.call(this);var d=Ext.asn1;var l=Ext.asn1.cms;var c=Ext.asn1.x509;this.dCMSVersion=new d.DERInteger({"int":1});this.dSignerIdentifier=null;this.dDigestAlgorithm=null;this.dSignedAttrs=new l.AttributeList();this.dSigAlg=null;this.dSig=null;this.dUnsignedAttrs=new l.AttributeList();this.setSignerIdentifier=function(f){if(typeof f=="string"&&f.indexOf("CERTIFICATE")!=-1&&f.indexOf("BEGIN")!=-1&&f.indexOf("END")!=-1){var g=f;this.dSignerIdentifier=new l.IssuerAndSerialNumber({cert:f})}};this.setForContentAndHash=function(f){if(typeof f!="undefined"){if(f.eciObj instanceof Ext.asn1.cms.EncapsulatedContentInfo){this.dSignedAttrs.add(new l.ContentType({oid:"1.2.840.113549.1.7.1"}));this.dSignedAttrs.add(new l.MessageDigest({eciObj:f.eciObj,hashAlg:f.hashAlg}))}if(typeof f.sdObj!="undefined"&&f.sdObj instanceof Ext.asn1.cms.SignedData){if(f.sdObj.digestAlgNameList.join(":").indexOf(f.hashAlg)==-1){f.sdObj.digestAlgNameList.push(f.hashAlg)}}if(typeof f.hashAlg=="string"){this.dDigestAlgorithm=new c.AlgorithmIdentifier({name:f.hashAlg})}}};this.sign=function(g,f){this.dSigAlg=new c.AlgorithmIdentifier({name:f});var j=this.dSignedAttrs.getEncodedHex();var p=KEYUTIL.getKey(g);var o=new Ext.crypto.Signature({alg:f});o.init(p);o.updateHex(j);var k=o.sign();this.dSig=new d.DEROctetString({hex:k})};this.addUnsigned=function(f){this.hTLV=null;this.dUnsignedAttrs.hTLV=null;this.dUnsignedAttrs.add(f)};this.getEncodedHex=function(){if(this.dSignedAttrs instanceof Ext.asn1.cms.AttributeList&&this.dSignedAttrs.length()==0){throw"SignedAttrs length = 0 (empty)"}var g=new d.DERTaggedObject({obj:this.dSignedAttrs,tag:"a0",explicit:false});var f=null;if(this.dUnsignedAttrs.length()>0){f=new d.DERTaggedObject({obj:this.dUnsignedAttrs,tag:"a1",explicit:false})}var k=[this.dCMSVersion,this.dSignerIdentifier,this.dDigestAlgorithm,g,this.dSigAlg,this.dSig];if(f!=null){k.push(f)}var j=new d.DERSequence({array:k});this.hTLV=j.getEncodedHex();return this.hTLV}};YAHOO.lang.extend(Ext.asn1.cms.SignerInfo,Ext.asn1.ASN1Object);Ext.asn1.cms.EncapsulatedContentInfo=function(b){Ext.asn1.cms.EncapsulatedContentInfo.superclass.constructor.call(this);var d=Ext.asn1;var l=Ext.asn1.cms;var c=Ext.asn1.x509;this.dEContentType=new d.DERObjectIdentifier({name:"data"});this.dEContent=null;this.isDetached=false;this.eContentValueHex=null;this.setContentType=function(f){if(f.match(/^[0-2][.][0-9.]+$/)){this.dEContentType=new d.DERObjectIdentifier({oid:f})}else{this.dEContentType=new d.DERObjectIdentifier({name:f})}};this.setContentValue=function(f){if(typeof f!="undefined"){if(typeof f.hex=="string"){this.eContentValueHex=f.hex}else{if(typeof f.str=="string"){this.eContentValueHex=utf8tohex(f.str)}}}};this.setContentValueHex=function(f){this.eContentValueHex=f};this.setContentValueStr=function(f){this.eContentValueHex=utf8tohex(f)};this.getEncodedHex=function(){if(typeof this.eContentValueHex!="string"){throw"eContentValue not yet set"}var f=new d.DEROctetString({hex:this.eContentValueHex});this.dEContent=new d.DERTaggedObject({obj:f,tag:"a0",explicit:true});var g=[this.dEContentType];if(!this.isDetached){g.push(this.dEContent)}var j=new d.DERSequence({array:g});this.hTLV=j.getEncodedHex();return this.hTLV}};YAHOO.lang.extend(Ext.asn1.cms.EncapsulatedContentInfo,Ext.asn1.ASN1Object);Ext.asn1.cms.ContentInfo=function(b){Ext.asn1.cms.ContentInfo.superclass.constructor.call(this);var d=Ext.asn1;var l=Ext.asn1.cms;var c=Ext.asn1.x509;this.dContentType=null;this.dContent=null;this.setContentType=function(f){if(typeof f=="string"){this.dContentType=c.OID.name2obj(f)}};this.getEncodedHex=function(){var f=new d.DERTaggedObject({obj:this.dContent,tag:"a0",explicit:true});var g=new d.DERSequence({array:[this.dContentType,f]});this.hTLV=g.getEncodedHex();return this.hTLV};if(typeof b!="undefined"){if(b.type){this.setContentType(b.type)}if(b.obj&&b.obj instanceof d.ASN1Object){this.dContent=b.obj}}};YAHOO.lang.extend(Ext.asn1.cms.ContentInfo,Ext.asn1.ASN1Object);Ext.asn1.cms.SignedData=function(b){Ext.asn1.cms.SignedData.superclass.constructor.call(this);var d=Ext.asn1;var l=Ext.asn1.cms;var c=Ext.asn1.x509;this.dCMSVersion=new d.DERInteger({"int":1});this.dDigestAlgs=null;this.digestAlgNameList=[];this.dEncapContentInfo=new l.EncapsulatedContentInfo();this.dCerts=null;this.certificateList=[];this.crlList=[];this.signerInfoList=[new l.SignerInfo()];this.addCertificatesByPEM=function(g){var j=ASN1HEX.pemToHex(g);var f=new d.ASN1Object();f.hTLV=j;this.certificateList.push(f)};this.getEncodedHex=function(){if(typeof this.hTLV=="string"){return this.hTLV}if(this.dDigestAlgs==null){var s=[];for(var v=0;v<this.digestAlgNameList.length;v++){var m=this.digestAlgNameList[v];var f=new c.AlgorithmIdentifier({name:m});s.push(f)}this.dDigestAlgs=new d.DERSet({array:s})}var g=[this.dCMSVersion,this.dDigestAlgs,this.dEncapContentInfo];if(this.dCerts==null){if(this.certificateList.length>0){var u=new d.DERSet({array:this.certificateList});this.dCerts=new d.DERTaggedObject({obj:u,tag:"a0",explicit:false})}}if(this.dCerts!=null){g.push(this.dCerts)}var k=new d.DERSet({array:this.signerInfoList});g.push(k);var j=new d.DERSequence({array:g});this.hTLV=j.getEncodedHex();return this.hTLV};this.getContentInfo=function(){this.getEncodedHex();var f=new l.ContentInfo({type:"signed-data",obj:this});return f};this.getContentInfoEncodedHex=function(){var g=this.getContentInfo();var f=g.getEncodedHex();return f};this.getPEM=function(){var g=this.getContentInfoEncodedHex();var f=d.ASN1Util.getPEMStringFromHex(g,"CMS");return f}};YAHOO.lang.extend(Ext.asn1.cms.SignedData,Ext.asn1.ASN1Object);Ext.asn1.cms.CMSUtil=new function(){}();Ext.asn1.cms.CMSUtil.newSignedData=function(w){var u=Ext.asn1.cms;var j=Ext.asn1.cades;var g=new u.SignedData();g.dEncapContentInfo.setContentValue(w.content);if(typeof w.certs=="object"){for(var b=0;b<w.certs.length;b++){g.addCertificatesByPEM(w.certs[b])}}g.signerInfoList=[];for(var b=0;b<w.signerInfos.length;b++){var d=w.signerInfos[b];var c=new u.SignerInfo();c.setSignerIdentifier(d.signerCert);c.setForContentAndHash({sdObj:g,eciObj:g.dEncapContentInfo,hashAlg:d.hashAlg});for(attrName in d.sAttr){var v=d.sAttr[attrName];if(attrName=="SigningTime"){var f=new u.SigningTime(v);c.dSignedAttrs.add(f)}if(attrName=="SigningCertificate"){var f=new u.SigningCertificate(v);c.dSignedAttrs.add(f)}if(attrName=="SigningCertificateV2"){var f=new u.SigningCertificateV2(v);c.dSignedAttrs.add(f)}if(attrName=="SignaturePolicyIdentifier"){var f=new j.SignaturePolicyIdentifier(v);c.dSignedAttrs.add(f)}}c.sign(d.signerPrvKey,d.sigAlg);g.signerInfoList.push(c)}return g};if(typeof Ext=="undefined"||!Ext){Ext={}}if(typeof Ext.asn1=="undefined"||!Ext.asn1){Ext.asn1={}}if(typeof Ext.asn1.tsp=="undefined"||!Ext.asn1.tsp){Ext.asn1.tsp={}}Ext.asn1.tsp.Accuracy=function(f){Ext.asn1.tsp.Accuracy.superclass.constructor.call(this);var b=Ext.asn1;this.seconds=null;this.millis=null;this.micros=null;this.getEncodedHex=function(){var d=null;var p=null;var c=null;var r=[];if(this.seconds!=null){d=new b.DERInteger({"int":this.seconds});r.push(d)}if(this.millis!=null){var q=new b.DERInteger({"int":this.millis});p=new b.DERTaggedObject({obj:q,tag:"80",explicit:false});r.push(p)}if(this.micros!=null){var g=new b.DERInteger({"int":this.micros});c=new b.DERTaggedObject({obj:g,tag:"81",explicit:false});r.push(c)}var s=new b.DERSequence({array:r});this.hTLV=s.getEncodedHex();return this.hTLV};if(typeof f!="undefined"){if(typeof f.seconds=="number"){this.seconds=f.seconds}if(typeof f.millis=="number"){this.millis=f.millis}if(typeof f.micros=="number"){this.micros=f.micros}}};YAHOO.lang.extend(Ext.asn1.tsp.Accuracy,Ext.asn1.ASN1Object);Ext.asn1.tsp.MessageImprint=function(j){Ext.asn1.tsp.MessageImprint.superclass.constructor.call(this);var c=Ext.asn1;var b=Ext.asn1.x509;this.dHashAlg=null;this.dHashValue=null;this.getEncodedHex=function(){if(typeof this.hTLV=="string"){return this.hTLV}var d=new c.DERSequence({array:[this.dHashAlg,this.dHashValue]});return d.getEncodedHex()};if(typeof j!="undefined"){if(typeof j.hashAlg=="string"){this.dHashAlg=new b.AlgorithmIdentifier({name:j.hashAlg})}if(typeof j.hashValue=="string"){this.dHashValue=new c.DEROctetString({hex:j.hashValue})}}};YAHOO.lang.extend(Ext.asn1.tsp.MessageImprint,Ext.asn1.ASN1Object);Ext.asn1.tsp.TimeStampReq=function(b){Ext.asn1.tsp.TimeStampReq.superclass.constructor.call(this);var c=Ext.asn1;var j=Ext.asn1.tsp;this.dVersion=new c.DERInteger({"int":1});this.dMessageImprint=null;this.dPolicy=null;this.dNonce=null;this.certReq=true;this.setMessageImprint=function(d){if(d instanceof Ext.asn1.tsp.MessageImprint){this.dMessageImprint=d;return}if(typeof d=="object"){this.dMessageImprint=new j.MessageImprint(d)}};this.getEncodedHex=function(){if(this.dMessageImprint==null){throw"messageImprint shall be specified"}var f=[this.dVersion,this.dMessageImprint];if(this.dPolicy!=null){f.push(this.dPolicy)}if(this.dNonce!=null){f.push(this.dNonce)}if(this.certReq){f.push(new c.DERBoolean())}var d=new c.DERSequence({array:f});this.hTLV=d.getEncodedHex();return this.hTLV};if(typeof b!="undefined"){if(typeof b.mi=="object"){this.setMessageImprint(b.mi)}if(typeof b.policy=="object"){this.dPolicy=new c.DERObjectIdentifier(b.policy)}if(typeof b.nonce=="object"){this.dNonce=new c.DERInteger(b.nonce)}if(typeof b.certreq=="boolean"){this.certReq=b.certreq}}};YAHOO.lang.extend(Ext.asn1.tsp.TimeStampReq,Ext.asn1.ASN1Object);Ext.asn1.tsp.TSTInfo=function(b){Ext.asn1.tsp.TSTInfo.superclass.constructor.call(this);var d=Ext.asn1;var c=Ext.asn1.x509;var l=Ext.asn1.tsp;this.dVersion=new d.DERInteger({"int":1});this.dPolicy=null;this.dMessageImprint=null;this.dSerialNumber=null;this.dGenTime=null;this.dAccuracy=null;this.dOrdering=null;this.dNonce=null;this.dTsa=null;this.getEncodedHex=function(){var g=[this.dVersion];if(this.dPolicy==null){throw"policy shall be specified."}g.push(this.dPolicy);if(this.dMessageImprint==null){throw"messageImprint shall be specified."}g.push(this.dMessageImprint);if(this.dSerialNumber==null){throw"serialNumber shall be specified."}g.push(this.dSerialNumber);if(this.dGenTime==null){throw"genTime shall be specified."}g.push(this.dGenTime);if(this.dAccuracy!=null){g.push(this.dAccuracy)}if(this.dOrdering!=null){g.push(this.dOrdering)}if(this.dNonce!=null){g.push(this.dNonce)}if(this.dTsa!=null){g.push(this.dTsa)}var f=new d.DERSequence({array:g});this.hTLV=f.getEncodedHex();return this.hTLV};if(typeof b!="undefined"){if(typeof b.policy=="string"){if(!b.policy.match(/^[0-9.]+$/)){throw"policy shall be oid like 0.1.4.134"}this.dPolicy=new d.DERObjectIdentifier({oid:b.policy})}if(typeof b.messageImprint!="undefined"){this.dMessageImprint=new l.MessageImprint(b.messageImprint)}if(typeof b.serialNumber!="undefined"){this.dSerialNumber=new d.DERInteger(b.serialNumber)}if(typeof b.genTime!="undefined"){this.dGenTime=new d.DERGeneralizedTime(b.genTime)}if(typeof b.accuracy!="undefind"){this.dAccuracy=new l.Accuracy(b.accuracy)}if(typeof b.ordering!="undefined"&&b.ordering==true){this.dOrdering=new d.DERBoolean()}if(typeof b.nonce!="undefined"){this.dNonce=new d.DERInteger(b.nonce)}if(typeof b.tsa!="undefined"){this.dTsa=new c.X500Name(b.tsa)}}};YAHOO.lang.extend(Ext.asn1.tsp.TSTInfo,Ext.asn1.ASN1Object);Ext.asn1.tsp.TimeStampResp=function(b){Ext.asn1.tsp.TimeStampResp.superclass.constructor.call(this);var c=Ext.asn1;var j=Ext.asn1.tsp;this.dStatus=null;this.dTST=null;this.getEncodedHex=function(){if(this.dStatus==null){throw"status shall be specified"}var f=[this.dStatus];if(this.dTST!=null){f.push(this.dTST)}var d=new c.DERSequence({array:f});this.hTLV=d.getEncodedHex();return this.hTLV};if(typeof b!="undefined"){if(typeof b.status=="object"){this.dStatus=new j.PKIStatusInfo(b.status)}if(typeof b.tst!="undefined"&&b.tst instanceof Ext.asn1.ASN1Object){this.dTST=b.tst.getContentInfo()}}};YAHOO.lang.extend(Ext.asn1.tsp.TimeStampResp,Ext.asn1.ASN1Object);Ext.asn1.tsp.PKIStatusInfo=function(b){Ext.asn1.tsp.PKIStatusInfo.superclass.constructor.call(this);var c=Ext.asn1;var j=Ext.asn1.tsp;this.dStatus=null;this.dStatusString=null;this.dFailureInfo=null;this.getEncodedHex=function(){if(this.dStatus==null){throw"status shall be specified"}var f=[this.dStatus];if(this.dStatusString!=null){f.push(this.dStatusString)}if(this.dFailureInfo!=null){f.push(this.dFailureInfo)}var d=new c.DERSequence({array:f});this.hTLV=d.getEncodedHex();return this.hTLV};if(typeof b!="undefined"){if(typeof b.status=="object"){this.dStatus=new j.PKIStatus(b.status)}if(typeof b.statstr=="object"){this.dStatusString=new j.PKIFreeText({array:b.statstr})}if(typeof b.failinfo=="object"){this.dFailureInfo=new j.PKIFailureInfo(b.failinfo)}}};YAHOO.lang.extend(Ext.asn1.tsp.PKIStatusInfo,Ext.asn1.ASN1Object);Ext.asn1.tsp.PKIStatus=function(d){Ext.asn1.tsp.PKIStatus.superclass.constructor.call(this);var m=Ext.asn1;var n=Ext.asn1.tsp;var c=null;this.getEncodedHex=function(){this.hTLV=this.dStatus.getEncodedHex();return this.hTLV};if(typeof d!="undefined"){if(typeof d.name!="undefined"){var b=n.PKIStatus.valueList;if(typeof b[d.name]=="undefined"){throw"name undefined: "+d.name}this.dStatus=new m.DERInteger({"int":b[d.name]})}else{this.dStatus=new m.DERInteger(d)}}};YAHOO.lang.extend(Ext.asn1.tsp.PKIStatus,Ext.asn1.ASN1Object);Ext.asn1.tsp.PKIStatus.valueList={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5};Ext.asn1.tsp.PKIFreeText=function(f){Ext.asn1.tsp.PKIFreeText.superclass.constructor.call(this);var b=Ext.asn1;this.textList=[];this.getEncodedHex=function(){var d=[];for(var c=0;c<this.textList.length;c++){d.push(new b.DERUTF8String({str:this.textList[c]}))}var j=new b.DERSequence({array:d});this.hTLV=j.getEncodedHex();return this.hTLV};if(typeof f!="undefined"){if(typeof f.array=="object"){this.textList=f.array}}};YAHOO.lang.extend(Ext.asn1.tsp.PKIFreeText,Ext.asn1.ASN1Object);Ext.asn1.tsp.PKIFailureInfo=function(c){Ext.asn1.tsp.PKIFailureInfo.superclass.constructor.call(this);var d=Ext.asn1;var l=Ext.asn1.tsp;this.value=null;this.getEncodedHex=function(){if(this.value==null){throw"value shall be specified"}var g=new Number(this.value).toString(2);var f=new d.DERBitString();f.setByBinaryString(g);this.hTLV=f.getEncodedHex();return this.hTLV};if(typeof c!="undefined"){if(typeof c.name=="string"){var b=l.PKIFailureInfo.valueList;if(typeof b[c.name]=="undefined"){throw"name undefined: "+c.name}this.value=b[c.name]}else{if(typeof c["int"]=="number"){this.value=c["int"]}}}};YAHOO.lang.extend(Ext.asn1.tsp.PKIFailureInfo,Ext.asn1.ASN1Object);Ext.asn1.tsp.PKIFailureInfo.valueList={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25};Ext.asn1.tsp.AbstractTSAAdapter=function(c){this.getTSTHex=function(b,g){throw"not implemented yet"}};Ext.asn1.tsp.SimpleTSAAdapter=function(c){Ext.asn1.tsp.SimpleTSAAdapter.superclass.constructor.call(this);this.params=null;this.serial=0;this.getTSTHex=function(b,o){var f=Ext.crypto.Util.hashHex(b,o);this.params.tstInfo.messageImprint={hashAlg:o,hashValue:f};this.params.tstInfo.serialNumber={"int":this.serial++};var d=Math.floor(Math.random()*1000000000);this.params.tstInfo.nonce={"int":d};var n=Ext.asn1.tsp.TSPUtil.newTimeStampToken(this.params);return n.getContentInfoEncodedHex()};if(typeof c!="undefined"){this.params=c}};YAHOO.lang.extend(Ext.asn1.tsp.SimpleTSAAdapter,Ext.asn1.tsp.AbstractTSAAdapter);Ext.asn1.tsp.FixedTSAAdapter=function(c){Ext.asn1.tsp.FixedTSAAdapter.superclass.constructor.call(this);this.params=null;this.getTSTHex=function(b,m){var d=Ext.crypto.Util.hashHex(b,m);this.params.tstInfo.messageImprint={hashAlg:m,hashValue:d};var l=Ext.asn1.tsp.TSPUtil.newTimeStampToken(this.params);return l.getContentInfoEncodedHex()};if(typeof c!="undefined"){this.params=c}};YAHOO.lang.extend(Ext.asn1.tsp.FixedTSAAdapter,Ext.asn1.tsp.AbstractTSAAdapter);Ext.asn1.tsp.TSPUtil=new function(){}();Ext.asn1.tsp.TSPUtil.newTimeStampToken=function(b){var v=Ext.asn1.cms;var w=Ext.asn1.tsp;var j=new v.SignedData();var f=new w.TSTInfo(b.tstInfo);var g=f.getEncodedHex();j.dEncapContentInfo.setContentValue({hex:g});j.dEncapContentInfo.setContentType("tstinfo");if(typeof b.certs=="object"){for(var c=0;c<b.certs.length;c++){j.addCertificatesByPEM(b.certs[c])}}var d=j.signerInfoList[0];d.setSignerIdentifier(b.signerCert);d.setForContentAndHash({sdObj:j,eciObj:j.dEncapContentInfo,hashAlg:b.hashAlg});var u=new v.SigningCertificate({array:[b.signerCert]});d.dSignedAttrs.add(u);d.sign(b.signerPrvKey,b.sigAlg);return j};Ext.asn1.tsp.TSPUtil.parseTimeStampReq=function(r){var u={};u.certreq=false;var c=ASN1HEX.getPosArrayOfChildren_AtObj(r,0);if(c.length<2){throw"TimeStampReq must have at least 2 items"}var g=ASN1HEX.getHexOfTLV_AtObj(r,c[1]);u.mi=Ext.asn1.tsp.TSPUtil.parseMessageImprint(g);for(var s=2;s<c.length;s++){var f=c[s];var d=r.substr(f,2);if(d=="06"){var b=ASN1HEX.getHexOfV_AtObj(r,f);u.policy=ASN1HEX.hextooidstr(b)}if(d=="02"){u.nonce=ASN1HEX.getHexOfV_AtObj(r,f)}if(d=="01"){u.certreq=true}}return u};Ext.asn1.tsp.TSPUtil.parseMessageImprint=function(d){var v={};if(d.substr(0,2)!="30"){throw"head of messageImprint hex shall be '30'"}var b=ASN1HEX.getPosArrayOfChildren_AtObj(d,0);var w=ASN1HEX.getDecendantIndexByNthList(d,0,[0,0]);var f=ASN1HEX.getHexOfV_AtObj(d,w);var g=ASN1HEX.hextooidstr(f);var u=Ext.asn1.x509.OID.oid2name(g);if(u==""){throw"hashAlg name undefined: "+g}var c=u;var s=ASN1HEX.getDecendantIndexByNthList(d,0,[1]);v.hashAlg=c;v.hashValue=ASN1HEX.getHexOfV_AtObj(d,s);return v};if(typeof Ext=="undefined"||!Ext){Ext={}}if(typeof Ext.asn1=="undefined"||!Ext.asn1){Ext.asn1={}}if(typeof Ext.asn1.cades=="undefined"||!Ext.asn1.cades){Ext.asn1.cades={}}Ext.asn1.cades.SignaturePolicyIdentifier=function(c){Ext.asn1.cades.SignaturePolicyIdentifier.superclass.constructor.call(this);this.attrTypeOid="1.2.840.113549.1.9.16.2.15";var o=Ext.asn1;var b=Ext.asn1.cades;if(typeof c!="undefined"){if(typeof c.oid=="string"&&typeof c.hash=="object"){var d=new o.DERObjectIdentifier({oid:c.oid});var f=new b.OtherHashAlgAndValue(c.hash);var p=new o.DERSequence({array:[d,f]});this.valueList=[p]}}};YAHOO.lang.extend(Ext.asn1.cades.SignaturePolicyIdentifier,Ext.asn1.cms.Attribute);Ext.asn1.cades.OtherHashAlgAndValue=function(j){Ext.asn1.cades.OtherHashAlgAndValue.superclass.constructor.call(this);var c=Ext.asn1;var b=Ext.asn1.x509;this.dAlg=null;this.dHash=null;this.getEncodedHex=function(){var d=new c.DERSequence({array:[this.dAlg,this.dHash]});this.hTLV=d.getEncodedHex();return this.hTLV};if(typeof j!="undefined"){if(typeof j.alg=="string"&&typeof j.hash=="string"){this.dAlg=new b.AlgorithmIdentifier({name:j.alg});this.dHash=new c.DEROctetString({hex:j.hash})}}};YAHOO.lang.extend(Ext.asn1.cades.OtherHashAlgAndValue,Ext.asn1.ASN1Object);Ext.asn1.cades.SignatureTimeStamp=function(b){Ext.asn1.cades.SignatureTimeStamp.superclass.constructor.call(this);this.attrTypeOid="1.2.840.113549.1.9.16.2.14";this.tstHex=null;var c=Ext.asn1;if(typeof b!="undefined"){if(typeof b.res!="undefined"){if(typeof b.res=="string"&&b.res.match(/^[0-9A-Fa-f]+$/)){}else{if(b.res instanceof Ext.asn1.ASN1Object){}else{throw"res param shall be ASN1Object or hex string"}}}if(typeof b.tst!="undefined"){if(typeof b.tst=="string"&&b.tst.match(/^[0-9A-Fa-f]+$/)){var j=new c.ASN1Object();this.tstHex=b.tst;j.hTLV=this.tstHex;j.getEncodedHex();this.valueList=[j]}else{if(b.tst instanceof Ext.asn1.ASN1Object){}else{throw"tst param shall be ASN1Object or hex string"}}}}};YAHOO.lang.extend(Ext.asn1.cades.SignatureTimeStamp,Ext.asn1.cms.Attribute);Ext.asn1.cades.CompleteCertificateRefs=function(b){Ext.asn1.cades.CompleteCertificateRefs.superclass.constructor.call(this);this.attrTypeOid="1.2.840.113549.1.9.16.2.21";var c=Ext.asn1;var j=Ext.asn1.cades;this.setByArray=function(f){this.valueList=[];for(var g=0;g<f.length;g++){var d=new j.OtherCertID(f[g]);this.valueList.push(d)}};if(typeof b!="undefined"){if(typeof b=="object"&&typeof b.length=="number"){this.setByArray(b)}}};YAHOO.lang.extend(Ext.asn1.cades.CompleteCertificateRefs,Ext.asn1.cms.Attribute);Ext.asn1.cades.OtherCertID=function(c){Ext.asn1.cades.OtherCertID.superclass.constructor.call(this);var d=Ext.asn1;var b=Ext.asn1.cms;var l=Ext.asn1.cades;this.hasIssuerSerial=true;this.dOtherCertHash=null;this.dIssuerSerial=null;this.setByCertPEM=function(f){this.dOtherCertHash=new l.OtherHash(f);if(this.hasIssuerSerial){this.dIssuerSerial=new b.IssuerAndSerialNumber(f)}};this.getEncodedHex=function(){if(this.hTLV!=null){return this.hTLV}if(this.dOtherCertHash==null){throw"otherCertHash not set"}var g=[this.dOtherCertHash];if(this.dIssuerSerial!=null){g.push(this.dIssuerSerial)}var f=new d.DERSequence({array:g});this.hTLV=f.getEncodedHex();return this.hTLV};if(typeof c!="undefined"){if(typeof c=="string"&&c.indexOf("-----BEGIN ")!=-1){this.setByCertPEM(c)}if(typeof c=="object"){if(c.hasis===false){this.hasIssuerSerial=false}if(typeof c.cert=="string"){this.setByCertPEM(c.cert)}}}};YAHOO.lang.extend(Ext.asn1.cades.OtherCertID,Ext.asn1.ASN1Object);Ext.asn1.cades.OtherHash=function(b){Ext.asn1.cades.OtherHash.superclass.constructor.call(this);var c=Ext.asn1;var j=Ext.asn1.cades;this.alg="sha256";this.dOtherHash=null;this.setByCertPEM=function(f){if(f.indexOf("-----BEGIN ")==-1){throw"certPEM not to seem PEM format"}var g=ASN1HEX.pemToHex(f);var d=Ext.crypto.Util.hashHex(g,this.alg);this.dOtherHash=new j.OtherHashAlgAndValue({alg:this.alg,hash:d})};this.getEncodedHex=function(){if(this.dOtherHash==null){throw"OtherHash not set"}return this.dOtherHash.getEncodedHex()};if(typeof b!="undefined"){if(typeof b=="string"){if(b.indexOf("-----BEGIN ")!=-1){this.setByCertPEM(b)}else{if(b.match(/^[0-9A-Fa-f]+$/)){this.dOtherHash=new c.DEROctetString({hex:b})}else{throw"unsupported string value for params"}}}else{if(typeof b=="object"){if(typeof b.cert=="string"){if(typeof b.alg=="string"){this.alg=b.alg}this.setByCertPEM(b.cert)}else{this.dOtherHash=new j.OtherHashAlgAndValue(b)}}}}};YAHOO.lang.extend(Ext.asn1.cades.OtherHash,Ext.asn1.ASN1Object);Ext.asn1.cades.CAdESUtil=new function(){}();Ext.asn1.cades.CAdESUtil.addSigTS=function(b,j,c){};Ext.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(s){var c=Ext.asn1;var L=Ext.asn1.cms;var q=Ext.asn1.cades.CAdESUtil;var m={};if(ASN1HEX.getDecendantHexTLVByNthList(s,0,[0])!="06092a864886f70d010702"){throw"hex is not CMS SignedData"}var k=ASN1HEX.getDecendantIndexByNthList(s,0,[1,0]);var o=ASN1HEX.getPosArrayOfChildren_AtObj(s,k);if(o.length<4){throw"num of SignedData elem shall be 4 at least"}var N=o.shift();m.version=ASN1HEX.getHexOfTLV_AtObj(s,N);var j=o.shift();m.algs=ASN1HEX.getHexOfTLV_AtObj(s,j);var l=o.shift();m.encapcontent=ASN1HEX.getHexOfTLV_AtObj(s,l);m.certs=null;m.revs=null;m.si=[];var n=o.shift();if(s.substr(n,2)=="a0"){m.certs=ASN1HEX.getHexOfTLV_AtObj(s,n);n=o.shift()}if(s.substr(n,2)=="a1"){m.revs=ASN1HEX.getHexOfTLV_AtObj(s,n);n=o.shift()}var g=n;if(s.substr(g,2)!="31"){throw"Can't find signerInfos"}var f=ASN1HEX.getPosArrayOfChildren_AtObj(s,g);for(var d=0;d<f.length;d++){var p=f[d];var M=q.parseSignerInfoForAddingUnsigned(s,p,d);m.si[d]=M}var b=null;m.obj=new L.SignedData();b=new c.ASN1Object();b.hTLV=m.version;m.obj.dCMSVersion=b;b=new c.ASN1Object();b.hTLV=m.algs;m.obj.dDigestAlgs=b;b=new c.ASN1Object();b.hTLV=m.encapcontent;m.obj.dEncapContentInfo=b;b=new c.ASN1Object();b.hTLV=m.certs;m.obj.dCerts=b;m.obj.signerInfoList=[];for(var d=0;d<m.si.length;d++){m.obj.signerInfoList.push(m.si[d].obj)}return m};Ext.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(l,c,b){var j=Ext.asn1;var f=Ext.asn1.cms;var d={};var m=ASN1HEX.getPosArrayOfChildren_AtObj(l,c);if(m.length!=6){throw"not supported items for SignerInfo (!=6)"}var n=m.shift();d.version=ASN1HEX.getHexOfTLV_AtObj(l,n);var k=m.shift();d.si=ASN1HEX.getHexOfTLV_AtObj(l,k);var F=m.shift();d.digalg=ASN1HEX.getHexOfTLV_AtObj(l,F);var g=m.shift();d.sattrs=ASN1HEX.getHexOfTLV_AtObj(l,g);var G=m.shift();d.sigalg=ASN1HEX.getHexOfTLV_AtObj(l,G);var H=m.shift();d.sig=ASN1HEX.getHexOfTLV_AtObj(l,H);d.sigval=ASN1HEX.getHexOfV_AtObj(l,H);var E=null;d.obj=new f.SignerInfo();E=new j.ASN1Object();E.hTLV=d.version;d.obj.dCMSVersion=E;E=new j.ASN1Object();E.hTLV=d.si;d.obj.dSignerIdentifier=E;E=new j.ASN1Object();E.hTLV=d.digalg;d.obj.dDigestAlgorithm=E;E=new j.ASN1Object();E.hTLV=d.sattrs;d.obj.dSignedAttrs=E;E=new j.ASN1Object();E.hTLV=d.sigalg;d.obj.dSigAlg=E;E=new j.ASN1Object();E.hTLV=d.sig;d.obj.dSig=E;d.obj.dUnsignedAttrs=new f.AttributeList();return d};if(typeof Ext.asn1.csr=="undefined"||!Ext.asn1.csr){Ext.asn1.csr={}}Ext.asn1.csr.CertificationRequest=function(d){Ext.asn1.csr.CertificationRequest.superclass.constructor.call(this);var o=null;var b=null;var c=null;var p=null;var f=null;this.sign=function(g,k){if(this.prvKey==null){this.prvKey=k}this.asn1SignatureAlg=new Ext.asn1.x509.AlgorithmIdentifier({name:g});sig=new Ext.crypto.Signature({alg:g});sig.initSign(this.prvKey);sig.updateHex(this.asn1CSRInfo.getEncodedHex());this.hexSig=sig.sign();this.asn1Sig=new Ext.asn1.DERBitString({hex:"00"+this.hexSig});var j=new Ext.asn1.DERSequence({array:[this.asn1CSRInfo,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=j.getEncodedHex();this.isModified=false};this.getPEMString=function(){var g=Ext.asn1.ASN1Util.getPEMStringFromHex(this.getEncodedHex(),"CERTIFICATE REQUEST");return g};this.getEncodedHex=function(){if(this.isModified==false&&this.hTLV!=null){return this.hTLV}throw"not signed yet"};if(typeof d!="undefined"){if(typeof d.csrinfo!="undefined"){this.asn1CSRInfo=d.csrinfo}}};YAHOO.lang.extend(Ext.asn1.csr.CertificationRequest,Ext.asn1.ASN1Object);Ext.asn1.csr.CertificationRequestInfo=function(c){Ext.asn1.csr.CertificationRequestInfo.superclass.constructor.call(this);this._initialize=function(){this.asn1Array=new Array();this.asn1Version=new Ext.asn1.DERInteger({"int":0});this.asn1Subject=null;this.asn1SubjPKey=null;this.extensionsArray=new Array()};this.setSubjectByParam=function(b){this.asn1Subject=new Ext.asn1.x509.X500Name(b)};this.setSubjectPublicKeyByGetKey=function(b){var g=KEYUTIL.getKey(b);this.asn1SubjPKey=new Ext.asn1.x509.SubjectPublicKeyInfo(g)};this.appendExtensionByName=function(b,g){Ext.asn1.x509.Extension.appendByNameToArray(b,g,this.extensionsArray)};this.getEncodedHex=function(){this.asn1Array=new Array();this.asn1Array.push(this.asn1Version);this.asn1Array.push(this.asn1Subject);this.asn1Array.push(this.asn1SubjPKey);if(this.extensionsArray.length>0){var f=new Ext.asn1.DERSequence({array:this.extensionsArray});var d=new Ext.asn1.DERSet({array:[f]});var b=new Ext.asn1.DERSequence({array:[new Ext.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.9.14"}),d]});var o=new Ext.asn1.DERTaggedObject({explicit:true,tag:"a0",obj:b});this.asn1Array.push(o)}else{var o=new Ext.asn1.DERTaggedObject({explicit:false,tag:"a0",obj:new Ext.asn1.DERNull()});this.asn1Array.push(o)}var n=new Ext.asn1.DERSequence({array:this.asn1Array});this.hTLV=n.getEncodedHex();this.isModified=false;return this.hTLV};this._initialize()};YAHOO.lang.extend(Ext.asn1.csr.CertificationRequestInfo,Ext.asn1.ASN1Object);Ext.asn1.csr.CSRUtil=new function(){}();Ext.asn1.csr.CSRUtil.newCSRPEM=function(c){var q=Ext.asn1.csr;if(c.subject===undefined){throw"parameter subject undefined"}if(c.sbjpubkey===undefined){throw"parameter sbjpubkey undefined"}if(c.sigalg===undefined){throw"parameter sigalg undefined"}if(c.sbjprvkey===undefined){throw"parameter sbjpubkey undefined"}var f=new q.CertificationRequestInfo();f.setSubjectByParam(c.subject);f.setSubjectPublicKeyByGetKey(c.sbjpubkey);if(c.ext!==undefined&&c.ext.length!==undefined){for(var g=0;g<c.ext.length;g++){for(key in c.ext[g]){f.appendExtensionByName(key,c.ext[g][key])}}}var r=new q.CertificationRequest({csrinfo:f});var d=KEYUTIL.getKey(c.sbjprvkey);r.sign(c.sigalg,d);var b=r.getPEMString();return b};Ext.asn1.csr.CSRUtil.getInfo=function(j){var c={};c.subject={};c.pubkey={};if(j.indexOf("-----BEGIN CERTIFICATE REQUEST")==-1){throw"argument is not PEM file"}var b=ASN1HEX.pemToHex(j,"CERTIFICATE REQUEST");c.subject.hex=ASN1HEX.getDecendantHexTLVByNthList(b,0,[0,1]);c.subject.name=X509.hex2dn(c.subject.hex);c.pubkey.hex=ASN1HEX.getDecendantHexTLVByNthList(b,0,[0,2]);c.pubkey.obj=KEYUTIL.getKey(c.pubkey.hex,null,"pkcs8pub");return c};if(typeof Ext=="undefined"||!Ext){Ext={}}if(typeof Ext.asn1=="undefined"||!Ext.asn1){Ext.asn1={}}if(typeof Ext.asn1.ocsp=="undefined"||!Ext.asn1.ocsp){Ext.asn1.ocsp={}}Ext.asn1.ocsp.DEFAULT_HASH="sha1";Ext.asn1.ocsp.CertID=function(b){Ext.asn1.ocsp.CertID.superclass.constructor.call(this);var m=Ext.asn1;var d=Ext.asn1.x509;this.dHashAlg=null;this.dIssuerNameHash=null;this.dIssuerKeyHash=null;this.dSerialNumber=null;this.setByValue=function(g,k,f,j){if(j===undefined){j=Ext.asn1.ocsp.DEFAULT_HASH}this.dHashAlg=new d.AlgorithmIdentifier({name:j});this.dIssuerNameHash=new m.DEROctetString({hex:g});this.dIssuerKeyHash=new m.DEROctetString({hex:k});this.dSerialNumber=new m.DERInteger({hex:f})};this.setByCert=function(k,B,g){if(g===undefined){g=Ext.asn1.ocsp.DEFAULT_HASH}var x=new X509();x.readCertPEM(B);var l=new X509();l.readCertPEM(k);var o=X509.getPublicKeyInfoPropOfCertPEM(k);var j=o.keyhex;var y=x.getSerialNumberHex();var A=Ext.crypto.Util.hashHex(l.getSubjectHex(),g);var f=Ext.crypto.Util.hashHex(j,g);this.setByValue(A,f,y,g);this.hoge=x.getSerialNumberHex()};this.getEncodedHex=function(){if(this.dHashAlg===null&&this.dIssuerNameHash===null&&this.dIssuerKeyHash===null&&this.dSerialNumber===null){throw"not yet set values"}var g=[this.dHashAlg,this.dIssuerNameHash,this.dIssuerKeyHash,this.dSerialNumber];var f=new m.DERSequence({array:g});this.hTLV=f.getEncodedHex();return this.hTLV};if(typeof b!=="undefined"){var n=b;if(typeof n.issuerCert!=="undefined"&&typeof n.subjectCert!=="undefined"){var c=Ext.asn1.ocsp.DEFAULT_HASH;if(typeof n.alg==="undefined"){c=undefined}this.setByCert(n.issuerCert,n.subjectCert,c)}else{if(typeof n.namehash!=="undefined"&&typeof n.keyhash!=="undefined"&&typeof n.serial!=="undefined"){var c=Ext.asn1.ocsp.DEFAULT_HASH;if(typeof n.alg==="undefined"){c=undefined}this.setByValue(n.namehash,n.keyhash,n.serial,c)}else{throw"invalid constructor arguments"}}}};YAHOO.lang.extend(Ext.asn1.ocsp.CertID,Ext.asn1.ASN1Object);Ext.asn1.ocsp.Request=function(f){Ext.asn1.ocsp.Request.superclass.constructor.call(this);this.dReqCert=null;this.dExt=null;this.getEncodedHex=function(){var d=[];if(this.dReqCert===null){throw"reqCert not set"}d.push(this.dReqCert);var c=new Ext.asn1.DERSequence({array:d});this.hTLV=c.getEncodedHex();return this.hTLV};if(typeof f!=="undefined"){var b=new Ext.asn1.ocsp.CertID(f);this.dReqCert=b}};YAHOO.lang.extend(Ext.asn1.ocsp.Request,Ext.asn1.ASN1Object);Ext.asn1.ocsp.TBSRequest=function(c){Ext.asn1.ocsp.TBSRequest.superclass.constructor.call(this);this.version=0;this.dRequestorName=null;this.dRequestList=[];this.dRequestExt=null;this.setRequestListByParam=function(d){var m=[];for(var b=0;b<d.length;b++){var l=new Ext.asn1.ocsp.Request(d[0]);m.push(l)}this.dRequestList=m};this.getEncodedHex=function(){var k=[];if(this.version!==0){throw"not supported version: "+this.version}if(this.dRequestorName!==null){throw"requestorName not supported"}var d=new Ext.asn1.DERSequence({array:this.dRequestList});k.push(d);if(this.dRequestExt!==null){throw"requestExtensions not supported"}var b=new Ext.asn1.DERSequence({array:k});this.hTLV=b.getEncodedHex();return this.hTLV};if(typeof c!=="undefined"){if(typeof c.reqList!=="undefined"){this.setRequestListByParam(c.reqList)}}};YAHOO.lang.extend(Ext.asn1.ocsp.TBSRequest,Ext.asn1.ASN1Object);Ext.asn1.ocsp.OCSPRequest=function(f){Ext.asn1.ocsp.OCSPRequest.superclass.constructor.call(this);this.dTbsRequest=null;this.dOptionalSignature=null;this.getEncodedHex=function(){var d=[];if(this.dTbsRequest!==null){d.push(this.dTbsRequest)}else{throw"tbsRequest not set"}if(this.dOptionalSignature!==null){throw"optionalSignature not supported"}var c=new Ext.asn1.DERSequence({array:d});this.hTLV=c.getEncodedHex();return this.hTLV};if(typeof f!=="undefined"){if(typeof f.reqList!=="undefined"){var b=new Ext.asn1.ocsp.TBSRequest(f);this.dTbsRequest=b}}};YAHOO.lang.extend(Ext.asn1.ocsp.OCSPRequest,Ext.asn1.ASN1Object);Ext.asn1.ocsp.OCSPUtil={};Ext.asn1.ocsp.OCSPUtil.getRequestHex=function(m,n,d){if(d===undefined){d=Ext.asn1.ocsp.DEFAULT_HASH}var c={alg:d,issuerCert:m,subjectCert:n};var b=new Ext.asn1.ocsp.OCSPRequest({reqList:[c]});return b.getEncodedHex()};Ext.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(b){var d={};try{var f=ASN1HEX.getVbyList(b,0,[0],"0a");d.responseStatus=parseInt(f,16)}catch(q){}if(d.responseStatus!==0){return d}try{var r=ASN1HEX.getDecendantIndexByNthList(b,0,[1,0,1,0,0,2,0,1]);if(b.substr(r,2)==="80"){d.certStatus="good"}else{if(b.substr(r,2)==="a1"){d.certStatus="revoked";d.revocationTime=hextoutf8(ASN1HEX.getDecendantHexVByNthList(b,r,[0]))}else{if(b.substr(r,2)==="82"){d.certStatus="unknown"}}}}catch(q){}try{var g=ASN1HEX.getDecendantIndexByNthList(b,0,[1,0,1,0,0,2,0,2]);d.thisUpdate=hextoutf8(ASN1HEX.getHexOfV_AtObj(b,g))}catch(q){}try{var c=ASN1HEX.getDecendantIndexByNthList(b,0,[1,0,1,0,0,2,0,3]);if(b.substr(c,2)==="a0"){d.nextUpdate=hextoutf8(ASN1HEX.getDecendantHexVByNthList(b,c,[0]))}}catch(q){}return d};var Ext;if(typeof Ext=="undefined"||!Ext){Ext={}}if(typeof Ext.lang=="undefined"||!Ext.lang){Ext.lang={}}Ext.lang.String=function(){};function Base64x(){}function stoBA(c){var d=new Array();for(var b=0;b<c.length;b++){d[b]=c.charCodeAt(b)}return d}function BAtos(d){var c="";for(var b=0;b<d.length;b++){c=c+String.fromCharCode(d[b])}return c}function BAtohex(l){var d="";for(var c=0;c<l.length;c++){var b=l[c].toString(16);if(b.length==1){b="0"+b}d=d+b}return d}function stohex(c){return BAtohex(stoBA(c))}function stob64(c){return hex2b64(stohex(c))}function stob64u(c){return b64tob64u(hex2b64(stohex(c)))}function b64utos(c){return BAtos(b64toBA(b64utob64(c)))}function b64tob64u(c){c=c.replace(/\=/g,"");c=c.replace(/\+/g,"-");c=c.replace(/\//g,"_");return c}function b64utob64(c){if(c.length%4==2){c=c+"=="}else{if(c.length%4==3){c=c+"="}}c=c.replace(/-/g,"+");c=c.replace(/_/g,"/");return c}function hextob64u(c){if(c.length%2==1){c="0"+c}return b64tob64u(hex2b64(c))}function b64utohex(c){return b64tohex(b64utob64(c))}var utf8tob64u,b64utoutf8;if(typeof Buffer==="function"){utf8tob64u=function(c){return b64tob64u(new Buffer(c,"utf8").toString("base64"))};b64utoutf8=function(c){return new Buffer(b64utob64(c),"base64").toString("utf8")}}else{utf8tob64u=function(c){return hextob64u(uricmptohex(encodeURIComponentAll(c)))};b64utoutf8=function(c){return decodeURIComponent(hextouricmp(b64utohex(c)))}}function utf8tob64(c){return hex2b64(uricmptohex(encodeURIComponentAll(c)))}function b64toutf8(c){return decodeURIComponent(hextouricmp(b64tohex(c)))}function utf8tohex(c){return uricmptohex(encodeURIComponentAll(c))}function hextoutf8(c){return decodeURIComponent(hextouricmp(c))}function hextorstr(b){var j="";for(var c=0;c<b.length-1;c+=2){j+=String.fromCharCode(parseInt(b.substr(c,2),16))}return j}function rstrtohex(b){var c="";for(var j=0;j<b.length;j++){c+=("0"+b.charCodeAt(j).toString(16)).slice(-2)}return c}function hextob64(c){return hex2b64(c)}function hextob64nl(j){var c=hextob64(j);var b=c.replace(/(.{64})/g,"$1\r\n");b=b.replace(/\r\n$/,"");return b}function b64nltohex(j){var c=j.replace(/[^0-9A-Za-z\/+=]*/g,"");var b=b64tohex(c);return b}function hextoArrayBuffer(c){if(c.length%2!=0){throw"input is not even length"}if(c.match(/^[0-9A-Fa-f]+$/)==null){throw"input is not hexadecimal"}var l=new ArrayBuffer(c.length/2);var d=new DataView(l);for(var b=0;b<c.length/2;b++){d.setUint8(b,parseInt(c.substr(b*2,2),16))}return l}function ArrayBuffertohex(l){var c="";var d=new DataView(l);for(var b=0;b<l.byteLength;b++){c+=("00"+d.getUint8(b).toString(16)).slice(-2)}return c}function uricmptohex(c){return c.replace(/%/g,"")}function hextouricmp(c){return c.replace(/(..)/g,"%$1")}function encodeURIComponentAll(d){var c=encodeURIComponent(d);var l="";for(var b=0;b<c.length;b++){if(c[b]=="%"){l=l+c.substr(b,3);b=b+2}else{l=l+"%"+stohex(c[b])}}return l}function newline_toUnix(c){c=c.replace(/\r\n/mg,"\n");return c}function newline_toDos(c){c=c.replace(/\r\n/mg,"\n");c=c.replace(/\n/mg,"\r\n");return c}Ext.lang.String.isInteger=function(c){if(c.match(/^[0-9]+$/)){return true}else{if(c.match(/^-[0-9]+$/)){return true}else{return false}}};Ext.lang.String.isHex=function(c){if(c.length%2==0&&(c.match(/^[0-9a-f]+$/)||c.match(/^[0-9A-F]+$/))){return true}else{return false}};Ext.lang.String.isBase64=function(c){c=c.replace(/\s+/g,"");if(c.match(/^[0-9A-Za-z+\/]+={0,3}$/)&&c.length%4==0){return true}else{return false}};Ext.lang.String.isBase64URL=function(c){if(c.match(/[+/=]/)){return false}c=b64utob64(c);return Ext.lang.String.isBase64(c)};Ext.lang.String.isIntegerArray=function(c){c=c.replace(/\s+/g,"");if(c.match(/^\[[0-9,]+\]$/)){return true}else{return false}};function intarystrtohex(j){j=j.replace(/^\s*\[\s*/,"");j=j.replace(/\s*\]\s*$/,"");j=j.replace(/\s*/g,"");try{var b=j.split(/,/).map(function(n,g,d){var m=parseInt(n);if(m<0||255<m){throw"integer not in range 0-255"}var f=("00"+m.toString(16)).slice(-2);return f}).join("");return b}catch(c){throw"malformed integer array string: "+c}}var strdiffidx=function(b,d){var c=b.length;if(b.length>d.length){c=d.length}for(var l=0;l<c;l++){if(b.charCodeAt(l)!=d.charCodeAt(l)){return l}}if(b.length!=d.length){return c}return -1};if(typeof Ext=="undefined"||!Ext){Ext={}}if(typeof Ext.crypto=="undefined"||!Ext.crypto){Ext.crypto={}}Ext.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"};this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"};this.CRYPTOJSMESSAGEDIGESTNAME={md5:CryptoJS.algo.MD5,sha1:CryptoJS.algo.SHA1,sha224:CryptoJS.algo.SHA224,sha256:CryptoJS.algo.SHA256,sha384:CryptoJS.algo.SHA384,sha512:CryptoJS.algo.SHA512,ripemd160:CryptoJS.algo.RIPEMD160};this.getDigestInfoHex=function(b,f){if(typeof this.DIGESTINFOHEAD[f]=="undefined"){throw"alg not supported in Util.DIGESTINFOHEAD: "+f}return this.DIGESTINFOHEAD[f]+b};this.getPaddedDigestInfoHex=function(d,k,f){var y=this.getDigestInfoHex(d,k);var A=f/4;if(y.length+22>A){throw"key is too short for SigAlg: keylen="+f+","+k}var l="0001";var g="00"+y;var c="";var j=A-l.length-g.length;for(var b=0;b<j;b+=2){c+="ff"}var B=l+c+g;return B};this.hashString=function(c,b){var j=new Ext.crypto.MessageDigest({alg:b});return j.digestString(c)};this.hashHex=function(j,b){var c=new Ext.crypto.MessageDigest({alg:b});return c.digestHex(j)};this.sha1=function(b){var f=new Ext.crypto.MessageDigest({alg:"sha1",prov:"cryptojs"});return f.digestString(b)};this.sha256=function(b){var f=new Ext.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"});return f.digestString(b)};this.sha256Hex=function(b){var f=new Ext.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"});return f.digestHex(b)};this.sha512=function(b){var f=new Ext.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"});return f.digestString(b)};this.sha512Hex=function(b){var f=new Ext.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"});return f.digestHex(b)}}();Ext.crypto.Util.md5=function(b){var f=new Ext.crypto.MessageDigest({alg:"md5",prov:"cryptojs"});return f.digestString(b)};Ext.crypto.Util.ripemd160=function(b){var f=new Ext.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"});return f.digestString(b)};Ext.crypto.Util.SECURERANDOMGEN=new SecureRandom();Ext.crypto.Util.getRandomHexOfNbytes=function(f){var b=new Array(f);Ext.crypto.Util.SECURERANDOMGEN.nextBytes(b);return BAtohex(b)};Ext.crypto.Util.getRandomBigIntegerOfNbytes=function(c){return new BigInteger(Ext.crypto.Util.getRandomHexOfNbytes(c),16)};Ext.crypto.Util.getRandomHexOfNbits=function(c){var b=c%8;var d=(c-b)/8;var l=new Array(d+1);Ext.crypto.Util.SECURERANDOMGEN.nextBytes(l);l[0]=(((255<<b)&255)^255)&l[0];return BAtohex(l)};Ext.crypto.Util.getRandomBigIntegerOfNbits=function(c){return new BigInteger(Ext.crypto.Util.getRandomHexOfNbits(c),16)};Ext.crypto.Util.getRandomBigIntegerZeroToMax=function(j){var c=j.bitLength();while(1){var b=Ext.crypto.Util.getRandomBigIntegerOfNbits(c);if(j.compareTo(b)!=-1){return b}}};Ext.crypto.Util.getRandomBigIntegerMinToMax=function(d,n){var b=d.compareTo(n);if(b==1){throw"biMin is greater than biMax"}if(b==0){return d}var m=n.subtract(d);var c=Ext.crypto.Util.getRandomBigIntegerZeroToMax(m);return c.add(d)};Ext.crypto.MessageDigest=function(b){var l=null;var d=null;var c=null;this.setAlgAndProvider=function(f,j){f=Ext.crypto.MessageDigest.getCanonicalAlgName(f);if(f!==null&&j===undefined){j=Ext.crypto.Util.DEFAULTPROVIDER[f]}if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(f)!=-1&&j=="cryptojs"){try{this.md=Ext.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[f].create()}catch(g){throw"setAlgAndProvider hash alg set fail alg="+f+"/"+g}this.updateString=function(k){this.md.update(k)};this.updateHex=function(k){var n=CryptoJS.enc.Hex.parse(k);this.md.update(n)};this.digest=function(){var k=this.md.finalize();return k.toString(CryptoJS.enc.Hex)};this.digestString=function(k){this.updateString(k);return this.digest()};this.digestHex=function(k){this.updateHex(k);return this.digest()}}if(":sha256:".indexOf(f)!=-1&&j=="sjcl"){try{this.md=new sjcl.hash.sha256()}catch(g){throw"setAlgAndProvider hash alg set fail alg="+f+"/"+g}this.updateString=function(k){this.md.update(k)};this.updateHex=function(n){var k=sjcl.codec.hex.toBits(n);this.md.update(k)};this.digest=function(){var k=this.md.finalize();return sjcl.codec.hex.fromBits(k)};this.digestString=function(k){this.updateString(k);return this.digest()};this.digestHex=function(k){this.updateHex(k);return this.digest()}}};this.updateString=function(f){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName};this.updateHex=function(f){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName};this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName};this.digestString=function(f){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName};this.digestHex=function(f){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName};if(b!==undefined){if(b.alg!==undefined){this.algName=b.alg;if(b.prov===undefined){this.provName=Ext.crypto.Util.DEFAULTPROVIDER[this.algName]}this.setAlgAndProvider(this.algName,this.provName)}}};Ext.crypto.MessageDigest.getCanonicalAlgName=function(c){if(typeof c==="string"){c=c.toLowerCase();c=c.replace(/-/,"")}return c};Ext.crypto.MessageDigest.getHashLength=function(b){var j=Ext.crypto.MessageDigest;var c=j.getCanonicalAlgName(b);if(j.HASHLENGTH[c]===undefined){throw"not supported algorithm: "+b}return j.HASHLENGTH[c]};Ext.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20};Ext.crypto.Mac=function(b){var d=null;var p=null;var f=null;var c=null;var o=null;this.setAlgAndProvider=function(g,l){g=g.toLowerCase();if(g==null){g="hmacsha1"}g=g.toLowerCase();if(g.substr(0,4)!="hmac"){throw"setAlgAndProvider unsupported HMAC alg: "+g}if(l===undefined){l=Ext.crypto.Util.DEFAULTPROVIDER[g]}this.algProv=g+"/"+l;var k=g.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(k)!=-1&&l=="cryptojs"){try{var m=Ext.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[k];this.mac=CryptoJS.algo.HMAC.create(m,this.pass)}catch(j){throw"setAlgAndProvider hash alg set fail hashAlg="+k+"/"+j}this.updateString=function(n){this.mac.update(n)};this.updateHex=function(n){var r=CryptoJS.enc.Hex.parse(n);this.mac.update(r)};this.doFinal=function(){var n=this.mac.finalize();return n.toString(CryptoJS.enc.Hex)};this.doFinalString=function(n){this.updateString(n);return this.doFinal()};this.doFinalHex=function(n){this.updateHex(n);return this.doFinal()}}};this.updateString=function(g){throw"updateString(str) not supported for this alg/prov: "+this.algProv};this.updateHex=function(g){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv};this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv};this.doFinalString=function(g){throw"digestString(str) not supported for this alg/prov: "+this.algProv};this.doFinalHex=function(g){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv};this.setPassword=function(g){if(typeof g=="string"){var j=g;if(g.length%2==1||!g.match(/^[0-9A-Fa-f]+$/)){j=rstrtohex(g)}this.pass=CryptoJS.enc.Hex.parse(j);return}if(typeof g!="object"){throw"Ext.crypto.Mac unsupported password type: "+g}var j=null;if(g.hex!==undefined){if(g.hex.length%2!=0||!g.hex.match(/^[0-9A-Fa-f]+$/)){throw"Mac: wrong hex password: "+g.hex}j=g.hex}if(g.utf8!==undefined){j=utf8tohex(g.utf8)}if(g.rstr!==undefined){j=rstrtohex(g.rstr)}if(g.b64!==undefined){j=b64tohex(g.b64)}if(g.b64u!==undefined){j=b64utohex(g.b64u)}if(j==null){throw"Ext.crypto.Mac unsupported password type: "+g}this.pass=CryptoJS.enc.Hex.parse(j)};if(b!==undefined){if(b.pass!==undefined){this.setPassword(b.pass)}if(b.alg!==undefined){this.algName=b.alg;if(b.prov===undefined){this.provName=Ext.crypto.Util.DEFAULTPROVIDER[this.algName]}this.setAlgAndProvider(this.algName,this.provName)}}};Ext.crypto.Signature=function(l){var p=null;var j=null;var r=null;var f=null;var P=null;var g=null;var O=null;var q=null;var n=null;var k=null;var c=-1;var o=null;var N=null;var b=null;var M=null;var m=null;this._setAlgNames=function(){var s=this.algName.match(/^(.+)with(.+)$/);if(s){this.mdAlgName=s[1].toLowerCase();this.pubkeyAlgName=s[2].toLowerCase()}};this._zeroPaddingOfSignature=function(s,x){var w="";var u=x/4-s.length;for(var v=0;v<u;v++){w=w+"0"}return w+s};this.setAlgAndProvider=function(s,v){this._setAlgNames();if(v!="cryptojs/jsrsa"){throw"provider not supported: "+v}if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)!=-1){try{this.md=new Ext.crypto.MessageDigest({alg:this.mdAlgName})}catch(u){throw"setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+u}this.init=function(y,A){var w=null;try{if(A===undefined){w=KEYUTIL.getKey(y)}else{w=KEYUTIL.getKey(y,A)}}catch(x){throw"init failed:"+x}if(w.isPrivate===true){this.prvKey=w;this.state="SIGN"}else{if(w.isPublic===true){this.pubKey=w;this.state="VERIFY"}else{throw"init failed.:"+w}}};this.initSign=function(w){if(typeof w.ecprvhex=="string"&&typeof w.eccurvename=="string"){this.ecprvhex=w.ecprvhex;this.eccurvename=w.eccurvename}else{this.prvKey=w}this.state="SIGN"};this.initVerifyByPublicKey=function(w){if(typeof w.ecpubhex=="string"&&typeof w.eccurvename=="string"){this.ecpubhex=w.ecpubhex;this.eccurvename=w.eccurvename}else{if(w instanceof Ext.crypto.ECDSA){this.pubKey=w}else{if(w instanceof RSAKey){this.pubKey=w}}}this.state="VERIFY"};this.initVerifyByCertificatePEM=function(w){var x=new X509();x.readCertPEM(w);this.pubKey=x.subjectPublicKeyRSA;this.state="VERIFY"};this.updateString=function(w){this.md.updateString(w)};this.updateHex=function(w){this.md.updateHex(w)};this.sign=function(){this.sHashHex=this.md.digest();if(typeof this.ecprvhex!="undefined"&&typeof this.eccurvename!="undefined"){var w=new Ext.crypto.ECDSA({curve:this.eccurvename});this.hSign=w.signHex(this.sHashHex,this.ecprvhex)}else{if(this.prvKey instanceof RSAKey&&this.pubkeyAlgName=="rsaandmgf1"){this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen)}else{if(this.prvKey instanceof RSAKey&&this.pubkeyAlgName=="rsa"){this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName)}else{if(this.prvKey instanceof Ext.crypto.ECDSA){this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}else{if(this.prvKey instanceof Ext.crypto.DSA){this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}else{throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}}}}return this.hSign};this.signString=function(w){this.updateString(w);return this.sign()};this.signHex=function(w){this.updateHex(w);return this.sign()};this.verify=function(w){this.sHashHex=this.md.digest();if(typeof this.ecpubhex!="undefined"&&typeof this.eccurvename!="undefined"){var x=new Ext.crypto.ECDSA({curve:this.eccurvename});return x.verifyHex(this.sHashHex,w,this.ecpubhex)}else{if(this.pubKey instanceof RSAKey&&this.pubkeyAlgName=="rsaandmgf1"){return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,w,this.mdAlgName,this.pssSaltLen)}else{if(this.pubKey instanceof RSAKey&&this.pubkeyAlgName=="rsa"){return this.pubKey.verifyWithMessageHash(this.sHashHex,w)}else{if(this.pubKey instanceof Ext.crypto.ECDSA){return this.pubKey.verifyWithMessageHash(this.sHashHex,w)}else{if(this.pubKey instanceof Ext.crypto.DSA){return this.pubKey.verifyWithMessageHash(this.sHashHex,w)}else{throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}}}}}}};this.init=function(u,s){throw"init(key, pass) not supported for this alg:prov="+this.algProvName};this.initVerifyByPublicKey=function(s){throw"initVerifyByPublicKey(rsaPubKeyy) not supported for this alg:prov="+this.algProvName};this.initVerifyByCertificatePEM=function(s){throw"initVerifyByCertificatePEM(certPEM) not supported for this alg:prov="+this.algProvName};this.initSign=function(s){throw"initSign(prvKey) not supported for this alg:prov="+this.algProvName};this.updateString=function(s){throw"updateString(str) not supported for this alg:prov="+this.algProvName};this.updateHex=function(s){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName};this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName};this.signString=function(s){throw"digestString(str) not supported for this alg:prov="+this.algProvName};this.signHex=function(s){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName};this.verify=function(s){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName};this.initParams=l;if(l!==undefined){if(l.alg!==undefined){this.algName=l.alg;if(l.prov===undefined){this.provName=Ext.crypto.Util.DEFAULTPROVIDER[this.algName]}else{this.provName=l.prov}this.algProvName=this.algName+":"+this.provName;this.setAlgAndProvider(this.algName,this.provName);this._setAlgNames()}if(l.psssaltlen!==undefined){this.pssSaltLen=l.psssaltlen}if(l.prvkeypem!==undefined){if(l.prvkeypas!==undefined){throw"both prvkeypem and prvkeypas parameters not supported"}else{try{var p=new RSAKey();p.readPrivateKeyFromPEMString(l.prvkeypem);this.initSign(p)}catch(d){throw"fatal error to load pem private key: "+d}}}}};Ext.crypto.Cipher=function(c){};Ext.crypto.Cipher.encrypt=function(d,f,c){if(f instanceof RSAKey&&f.isPublic){var b=Ext.crypto.Cipher.getAlgByKeyAndName(f,c);if(b==="RSA"){return f.encrypt(d)}if(b==="RSAOAEP"){return f.encryptOAEP(d,"sha1")}var n=b.match(/^RSAOAEP(\d+)$/);if(n!==null){return f.encryptOAEP(d,"sha"+n[1])}throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+c}else{throw"Cipher.encrypt: unsupported key or algorithm"}};Ext.crypto.Cipher.decrypt=function(d,f,c){if(f instanceof RSAKey&&f.isPrivate){var b=Ext.crypto.Cipher.getAlgByKeyAndName(f,c);if(b==="RSA"){return f.decrypt(d)}if(b==="RSAOAEP"){return f.decryptOAEP(d,"sha1")}var n=b.match(/^RSAOAEP(\d+)$/);if(n!==null){return f.decryptOAEP(d,"sha"+n[1])}throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+c}else{throw"Cipher.decrypt: unsupported key or algorithm"}};Ext.crypto.Cipher.getAlgByKeyAndName=function(f,b){if(f instanceof RSAKey){if(":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(b)!=-1){return b}if(b===null||b===undefined){return"RSA"}throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+b}throw"getAlgByKeyAndName: not supported algorithm name: "+b};Ext.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}}();if(typeof Ext=="undefined"||!Ext){Ext={}}if(typeof Ext.crypto=="undefined"||!Ext.crypto){Ext.crypto={}}Ext.crypto.ECDSA=function(c){var s="secp256r1";var b=null;var f=null;var u=null;var d=new SecureRandom();var r=null;this.type="EC";this.isPrivate=false;this.isPublic=false;function g(p,l,o,k){var j=Math.max(l.bitLength(),k.bitLength());var q=p.add2D(o);var n=p.curve.getInfinity();for(var m=j-1;m>=0;--m){n=n.twice2D();n.z=BigInteger.ONE;if(l.testBit(m)){if(k.testBit(m)){n=n.add2D(q)}else{n=n.add2D(p)}}else{if(k.testBit(m)){n=n.add2D(o)}}}return n}this.getBigRandom=function(j){return new BigInteger(j.bitLength(),d).mod(j.subtract(BigInteger.ONE)).add(BigInteger.ONE)};this.setNamedCurve=function(j){this.ecparams=Ext.crypto.ECParameterDB.getByName(j);this.prvKeyHex=null;this.pubKeyHex=null;this.curveName=j};this.setPrivateKeyHex=function(j){this.isPrivate=true;this.prvKeyHex=j};this.setPublicKeyHex=function(j){this.isPublic=true;this.pubKeyHex=j};this.getPublicKeyXYHex=function(){var j=this.pubKeyHex;if(j.substr(0,2)!=="04"){throw"this method supports uncompressed format(04) only"}var l=this.ecparams.keylen/4;if(j.length!==2+l*2){throw"malformed public key hex length"}var k={};k.x=j.substr(2,l);k.y=j.substr(2+l);return k};this.getShortNISTPCurveName=function(){var j=this.curveName;if(j==="secp256r1"||j==="NIST P-256"||j==="P-256"||j==="prime256v1"){return"P-256"}if(j==="secp384r1"||j==="NIST P-384"||j==="P-384"){return"P-384"}return null};this.generateKeyPairHex=function(){var q=this.ecparams.n;var j=this.getBigRandom(q);var y=this.ecparams.G.multiply(j);var m=y.getX().toBigInteger();var k=y.getY().toBigInteger();var o=this.ecparams.keylen/4;var A=("0000000000"+j.toString(16)).slice(-o);var n=("0000000000"+m.toString(16)).slice(-o);var l=("0000000000"+k.toString(16)).slice(-o);var p="04"+n+l;this.setPrivateKeyHex(A);this.setPublicKeyHex(p);return{ecprvhex:A,ecpubhex:p}};this.signWithMessageHash=function(j){return this.signHex(j,this.prvKeyHex)};this.signHex=function(m,j){var o=new BigInteger(j,16);var k=this.ecparams.n;var p=new BigInteger(m,16);do{var l=this.getBigRandom(k);var q=this.ecparams.G;var n=q.multiply(l);var A=n.getX().toBigInteger().mod(k)}while(A.compareTo(BigInteger.ZERO)<=0);var v=l.modInverse(k).multiply(p.add(o.multiply(A))).mod(k);return Ext.crypto.ECDSA.biRSSigToASN1Sig(A,v)};this.sign=function(l,q){var p=q;var j=this.ecparams.n;var n=BigInteger.fromByteArrayUnsigned(l);do{var k=this.getBigRandom(j);var o=this.ecparams.G;var m=o.multiply(k);var A=m.getX().toBigInteger().mod(j)}while(A.compareTo(BigInteger.ZERO)<=0);var v=k.modInverse(j).multiply(n.add(p.multiply(A))).mod(j);return this.serializeSig(A,v)};this.verifyWithMessageHash=function(j,k){return this.verifyHex(j,k,this.pubKeyHex)};this.verifyHex=function(j,n,m){var q,o;var l=Ext.crypto.ECDSA.parseSigHex(n);q=l.r;o=l.s;var p;p=ECPointFp.decodeFromHex(this.ecparams.curve,m);var k=new BigInteger(j,16);return this.verifyRaw(k,q,o,p)};this.verify=function(l,n,o){var q,m;if(Bitcoin.Util.isArray(n)){var k=this.parseSig(n);q=k.r;m=k.s}else{if("object"===typeof n&&n.r&&n.s){q=n.r;m=n.s}else{throw"Invalid value for signature"}}var p;if(o instanceof ECPointFp){p=o}else{if(Bitcoin.Util.isArray(o)){p=ECPointFp.decodeFrom(this.ecparams.curve,o)}else{throw"Invalid format for pubkey value, must be byte array or ECPointFp"}}var j=BigInteger.fromByteArrayUnsigned(l);return this.verifyRaw(j,q,m,p)};this.verifyRaw=function(n,B,w,m){var l=this.ecparams.n;var q=this.ecparams.G;if(B.compareTo(BigInteger.ONE)<0||B.compareTo(l)>=0){return false}if(w.compareTo(BigInteger.ONE)<0||w.compareTo(l)>=0){return false}var o=w.modInverse(l);var j=n.multiply(o).mod(l);var C=B.multiply(o).mod(l);var p=q.multiply(j).add(m.multiply(C));var k=p.getX().toBigInteger().mod(l);return k.equals(B)};this.serializeSig=function(m,l){var n=m.toByteArraySigned();var k=l.toByteArraySigned();var j=[];j.push(2);j.push(n.length);j=j.concat(n);j.push(2);j.push(k.length);j=j.concat(k);j.unshift(j.length);j.unshift(48);return j};this.parseSig=function(l){var j;if(l[0]!=48){throw new Error("Signature not a valid DERSequence")}j=2;if(l[j]!=2){throw new Error("First element in signature must be a DERInteger")}var o=l.slice(j+2,j+2+l[j+1]);j+=2+l[j+1];if(l[j]!=2){throw new Error("Second element in signature must be a DERInteger")}var k=l.slice(j+2,j+2+l[j+1]);j+=2+l[j+1];var n=BigInteger.fromByteArrayUnsigned(o);var m=BigInteger.fromByteArrayUnsigned(k);return{r:n,s:m}};this.parseSigCompact=function(j){if(j.length!==65){throw"Signature has the wrong length"}var l=j[0]-27;if(l<0||l>7){throw"Invalid signature type"}var k=this.ecparams.n;var n=BigInteger.fromByteArrayUnsigned(j.slice(1,33)).mod(k);var m=BigInteger.fromByteArrayUnsigned(j.slice(33,65)).mod(k);return{r:n,s:m,i:l}};this.readPKCS5PrvKeyHex=function(q){var k=ASN1HEX;var j=Ext.crypto.ECDSA.getName;var n=k.getVbyList;if(k.isASN1HEX(q)===false){throw"not ASN.1 hex string"}var m,p,l;try{m=n(q,0,[2,0],"06");p=n(q,0,[1],"04");try{l=n(q,0,[3,0],"03").substr(2)}catch(o){}}catch(o){throw"malformed PKCS#1/5 plain ECC private key"}this.curveName=j(m);if(this.curveName===undefined){throw"unsupported curve name"}this.setNamedCurve(this.curveName);this.setPublicKeyHex(l);this.setPrivateKeyHex(p);this.isPublic=false};this.readPKCS8PrvKeyHex=function(j){var o=ASN1HEX;var p=Ext.crypto.ECDSA.getName;var l=o.getVbyList;if(o.isASN1HEX(j)===false){throw"not ASN.1 hex string"}var q,n,k,w;try{q=l(j,0,[1,0],"06");n=l(j,0,[1,1],"06");k=l(j,0,[2,0,1],"04");try{w=l(j,0,[2,0,2,0],"03").substr(2)}catch(m){}}catch(m){throw"malformed PKCS#8 plain ECC private key"}this.curveName=p(n);if(this.curveName===undefined){throw"unsupported curve name"}this.setNamedCurve(this.curveName);this.setPublicKeyHex(w);this.setPrivateKeyHex(k);this.isPublic=false};this.readPKCS8PubKeyHex=function(q){var k=ASN1HEX;var j=Ext.crypto.ECDSA.getName;var n=k.getVbyList;if(k.isASN1HEX(q)===false){throw"not ASN.1 hex string"}var p,m,l;try{p=n(q,0,[0,0],"06");m=n(q,0,[0,1],"06");l=n(q,0,[1],"03").substr(2)}catch(o){throw"malformed PKCS#8 ECC public key"}this.curveName=j(m);if(this.curveName===null){throw"unsupported curve name"}this.setNamedCurve(this.curveName);this.setPublicKeyHex(l)};this.readCertPubKeyHex=function(p,n){if(n!==5){n=6}var j=ASN1HEX;var q=Ext.crypto.ECDSA.getName;var l=j.getVbyList;if(j.isASN1HEX(p)===false){throw"not ASN.1 hex string"}var m,k;try{m=l(p,0,[0,n,0,1],"06");k=l(p,0,[0,n,1],"03").substr(2)}catch(o){throw"malformed X.509 certificate ECC public key"}this.curveName=q(m);if(this.curveName===null){throw"unsupported curve name"}this.setNamedCurve(this.curveName);this.setPublicKeyHex(k)};if(c!==undefined){if(c.curve!==undefined){this.curveName=c.curve}}if(this.curveName===undefined){this.curveName=s}this.setNamedCurve(this.curveName);if(c!==undefined){if(c.prv!==undefined){this.setPrivateKeyHex(c.prv)}if(c.pub!==undefined){this.setPublicKeyHex(c.pub)}}};Ext.crypto.ECDSA.parseSigHex=function(d){var l=Ext.crypto.ECDSA.parseSigHexInHexRS(d);var c=new BigInteger(l.r,16);var b=new BigInteger(l.s,16);return{r:c,s:b}};Ext.crypto.ECDSA.parseSigHexInHexRS=function(g){if(g.substr(0,2)!="30"){throw"signature is not a ASN.1 sequence"}var f=ASN1HEX.getPosArrayOfChildren_AtObj(g,0);if(f.length!=2){throw"number of signature ASN.1 sequence elements seem wrong"}var d=f[0];var c=f[1];if(g.substr(d,2)!="02"){throw"1st item of sequene of signature is not ASN.1 integer"}if(g.substr(c,2)!="02"){throw"2nd item of sequene of signature is not ASN.1 integer"}var b=ASN1HEX.getHexOfV_AtObj(g,d);var p=ASN1HEX.getHexOfV_AtObj(g,c);return{r:b,s:p}};Ext.crypto.ECDSA.asn1SigToConcatSig=function(b){var c=Ext.crypto.ECDSA.parseSigHexInHexRS(b);var l=c.r;var d=c.s;if(l.substr(0,2)=="00"&&(((l.length/2)*8)%(16*8))==8){l=l.substr(2)}if(d.substr(0,2)=="00"&&(((d.length/2)*8)%(16*8))==8){d=d.substr(2)}if((((l.length/2)*8)%(16*8))!=0){throw"unknown ECDSA sig r length error"}if((((d.length/2)*8)%(16*8))!=0){throw"unknown ECDSA sig s length error"}return l+d};Ext.crypto.ECDSA.concatSigToASN1Sig=function(c){if((((c.length/2)*8)%(16*8))!=0){throw"unknown ECDSA concatinated r-s sig  length error"}var b=c.substr(0,c.length/2);var j=c.substr(c.length/2);return Ext.crypto.ECDSA.hexRSSigToASN1Sig(b,j)};Ext.crypto.ECDSA.hexRSSigToASN1Sig=function(l,d){var c=new BigInteger(l,16);var b=new BigInteger(d,16);return Ext.crypto.ECDSA.biRSSigToASN1Sig(c,b)};Ext.crypto.ECDSA.biRSSigToASN1Sig=function(d,b){var n=new Ext.asn1.DERInteger({bigint:d});var m=new Ext.asn1.DERInteger({bigint:b});var c=new Ext.asn1.DERSequence({array:[n,m]});return c.getEncodedHex()};Ext.crypto.ECDSA.getName=function(c){if(c==="2a8648ce3d030107"){return"secp256r1"}if(c==="2b8104000a"){return"secp256k1"}if(c==="2b81040022"){return"secp384r1"}if("|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(c)!==-1){return"secp256r1"}if("|secp256k1|".indexOf(c)!==-1){return"secp256k1"}if("|secp384r1|NIST P-384|P-384|".indexOf(c)!==-1){return"secp384r1"}return null};if(typeof Ext=="undefined"||!Ext){Ext={}}if(typeof Ext.crypto=="undefined"||!Ext.crypto){Ext.crypto={}}Ext.crypto.ECParameterDB=new function(){var j={};var b={};function c(d){return new BigInteger(d,16)}this.getByName=function(d){var f=d;if(typeof b[f]!="undefined"){f=b[d]}if(typeof j[f]!="undefined"){return j[f]}throw"unregistered EC curve name: "+f};this.regist=function(s,o,r,k,q,f,l,g,m,y,d,S){j[s]={};var w=c(r);var U=c(k);var T=c(q);var x=c(f);var R=c(l);var v=new ECCurveFp(w,U,T);var u=v.decodePointHex("04"+g+m);j[s]["name"]=s;j[s]["keylen"]=o;j[s]["curve"]=v;j[s]["G"]=u;j[s]["n"]=x;j[s]["h"]=R;j[s]["oid"]=d;j[s]["info"]=S;for(var A=0;A<y.length;A++){b[y[A]]=s}}}();Ext.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field");Ext.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field");Ext.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field");Ext.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]);Ext.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]);Ext.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]);Ext.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]);Ext.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]);Ext.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]);Ext.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);if(typeof Ext=="undefined"||!Ext){Ext={}}if(typeof Ext.crypto=="undefined"||!Ext.crypto){Ext.crypto={}}Ext.crypto.DSA=function(){this.p=null;this.q=null;this.g=null;this.y=null;this.x=null;this.type="DSA";this.isPrivate=false;this.isPublic=false;this.setPrivate=function(c,b,n,d,m){this.isPrivate=true;this.p=c;this.q=b;this.g=n;this.y=d;this.x=m};this.setPrivateHex=function(c,y,f,v,w){var b,x,d,g,j;b=new BigInteger(c,16);x=new BigInteger(y,16);d=new BigInteger(f,16);if(typeof v==="string"&&v.length>1){g=new BigInteger(v,16)}else{g=null}j=new BigInteger(w,16);this.setPrivate(b,x,d,g,j)};this.setPublic=function(b,l,d,c){this.isPublic=true;this.p=b;this.q=l;this.g=d;this.y=c;this.x=null};this.setPublicHex=function(u,s,r,b){var f,d,c,g;f=new BigInteger(u,16);d=new BigInteger(s,16);c=new BigInteger(r,16);g=new BigInteger(b,16);this.setPublic(f,d,c,g)};this.signWithMessageHash=function(B){var A=this.p;var n=this.q;var D=this.g;var c=this.y;var d=this.x;var C=Ext.crypto.Util.getRandomBigIntegerMinToMax(BigInteger.ONE.add(BigInteger.ONE),n.subtract(BigInteger.ONE));var f=B.substr(0,n.bitLength()/4);var b=new BigInteger(f,16);var m=(D.modPow(C,A)).mod(n);var l=(C.modInverse(n).multiply(b.add(d.multiply(m)))).mod(n);var j=Ext.asn1.ASN1Util.jsonToASN1HEX({seq:[{"int":{bigint:m}},{"int":{bigint:l}}]});return j};this.verifyWithMessageHash=function(F,o){var l=this.p;var f=this.q;var H=this.g;var c=this.y;var G=this.parseASN1Signature(o);var b=G[0];var J=G[1];var m=F.substr(0,f.bitLength()/4);var I=new BigInteger(m,16);if(BigInteger.ZERO.compareTo(b)>0||b.compareTo(f)>0){throw"invalid DSA signature"}if(BigInteger.ZERO.compareTo(J)>0||J.compareTo(f)>0){throw"invalid DSA signature"}var d=J.modInverse(f);var n=I.multiply(d).mod(f);var k=b.multiply(d).mod(f);var j=H.modPow(n,l).multiply(c.modPow(k,l)).mod(l).mod(f);return j.compareTo(b)==0};this.parseASN1Signature=function(d){try{var c=new BigInteger(ASN1HEX.getVbyList(d,0,[0],"02"),16);var b=new BigInteger(ASN1HEX.getVbyList(d,0,[1],"02"),16);return[c,b]}catch(l){throw"malformed ASN.1 DSA signature"}};this.readPKCS5PrvKeyHex=function(c){var b,w,g,j,u;var v=ASN1HEX;var d=v.getVbyList;if(v.isASN1HEX(c)===false){throw"not ASN.1 hex string"}try{b=d(c,0,[1],"02");w=d(c,0,[2],"02");g=d(c,0,[3],"02");j=d(c,0,[4],"02");u=d(c,0,[5],"02")}catch(f){console.log("EXCEPTION:"+f);throw"malformed PKCS#1/5 plain DSA private key"}this.setPrivateHex(b,w,g,j,u)};this.readPKCS8PrvKeyHex=function(r){var u,g,f,b;var s=ASN1HEX;var c=s.getVbyList;if(s.isASN1HEX(r)===false){throw"not ASN.1 hex string"}try{u=c(r,0,[1,1,0],"02");g=c(r,0,[1,1,1],"02");f=c(r,0,[1,1,2],"02");b=c(r,0,[2,0],"02")}catch(d){console.log("EXCEPTION:"+d);throw"malformed PKCS#8 plain DSA private key"}this.setPrivateHex(u,g,f,null,b)};this.readPKCS8PubKeyHex=function(r){var u,g,f,b;var s=ASN1HEX;var c=s.getVbyList;if(s.isASN1HEX(r)===false){throw"not ASN.1 hex string"}try{u=c(r,0,[0,1,0],"02");g=c(r,0,[0,1,1],"02");f=c(r,0,[0,1,2],"02");b=c(r,0,[1,0],"02")}catch(d){console.log("EXCEPTION:"+d);throw"malformed PKCS#8 DSA public key"}this.setPublicHex(u,g,f,b)};this.readCertPubKeyHex=function(c,g){if(g!==5){g=6}var b,w,j,u;var v=ASN1HEX;var d=v.getVbyList;if(v.isASN1HEX(c)===false){throw"not ASN.1 hex string"}try{b=d(c,0,[0,g,0,1,0],"02");w=d(c,0,[0,g,0,1,1],"02");j=d(c,0,[0,g,0,1,2],"02");u=d(c,0,[0,g,1,0],"02")}catch(f){console.log("EXCEPTION:"+f);throw"malformed X.509 certificate DSA public key"}this.setPublicHex(b,w,j,u)}};var PKCS5PKEY=function(){var k=function(p,o,q){return F(CryptoJS.AES,p,o,q)};var l=function(p,o,q){return F(CryptoJS.TripleDES,p,o,q)};var F=function(x,s,p,v){var w=CryptoJS.enc.Hex.parse(s);var r=CryptoJS.enc.Hex.parse(p);var u=CryptoJS.enc.Hex.parse(v);var o={};o.key=r;o.iv=u;o.ciphertext=w;var q=x.decrypt(o,r,{iv:u});return CryptoJS.enc.Hex.stringify(q)};var b=function(p,o,q){return m(CryptoJS.AES,p,o,q)};var j=function(p,o,q){return m(CryptoJS.TripleDES,p,o,q)};var m=function(p,v,s,y){var o=CryptoJS.enc.Hex.parse(v);var u=CryptoJS.enc.Hex.parse(s);var x=CryptoJS.enc.Hex.parse(y);var w={};var r=p.encrypt(o,u,{iv:x});var A=CryptoJS.enc.Hex.parse(r.toString());var q=CryptoJS.enc.Base64.stringify(A);return q};var D={"AES-256-CBC":{proc:k,eproc:b,keylen:32,ivlen:16},"AES-192-CBC":{proc:k,eproc:b,keylen:24,ivlen:16},"AES-128-CBC":{proc:k,eproc:b,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:l,eproc:j,keylen:24,ivlen:8}};var g=function(o){return D[o]["proc"]};var d=function(p){var o=CryptoJS.lib.WordArray.random(p);var q=CryptoJS.enc.Hex.stringify(o);return q};var f=function(v){var w={};var q=v.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));if(q){w.cipher=q[1];w.ivsalt=q[2]}var p=v.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));if(p){w.type=p[1]}var u=-1;var o=0;if(v.indexOf("\r\n\r\n")!=-1){u=v.indexOf("\r\n\r\n");o=2}if(v.indexOf("\n\n")!=-1){u=v.indexOf("\n\n");o=1}var s=v.indexOf("-----END");if(u!=-1&&s!=-1){var r=v.substring(u+o*2,s-o);r=r.replace(/\s+/g,"");w.data=r}return w};var E=function(x,u,w){var q=w.substring(0,16);var o=CryptoJS.enc.Hex.parse(q);var y=CryptoJS.enc.Utf8.parse(u);var p=D[x]["keylen"]+D[x]["ivlen"];var s="";var r=null;for(;;){var A=CryptoJS.algo.MD5.create();if(r!=null){A.update(r)}A.update(y);A.update(o);r=A.finalize();s=s+CryptoJS.enc.Hex.stringify(r);if(s.length>=p*2){break}}var v={};v.keyhex=s.substr(0,D[x]["keylen"]*2);v.ivhex=s.substr(D[x]["keylen"]*2,D[x]["ivlen"]*2);return v};var c=function(p,w,r,o){var s=CryptoJS.enc.Base64.parse(p);var q=CryptoJS.enc.Hex.stringify(s);var v=D[w]["proc"];var u=v(q,r,o);return u};var n=function(p,s,q,o){var r=D[s]["eproc"];var u=r(p,q,o);return u};return{version:"1.0.5",getHexFromPEM:function(p,o){return ASN1HEX.pemToHex(p,o)},getDecryptedKeyHexByKeyIV:function(q,o,s,r){var p=g(o);return p(q,s,r)},parsePKCS5PEM:function(o){return f(o)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(q,p,o){return E(q,p,o)},decryptKeyB64:function(p,r,q,o){return c(p,r,q,o)},getDecryptedKeyHex:function(u,s){var w=f(u);var o=w.type;var x=w.cipher;var v=w.ivsalt;var y=w.data;var r=E(x,s,v);var q=r.keyhex;var p=c(y,x,q,v);return p},getRSAKeyFromEncryptedPKCS5PEM:function(r,q){var o=this.getDecryptedKeyHex(r,q);var p=new RSAKey();p.readPrivateKeyFromASN1HexString(o);return p},getEncryptedPKCS5PEMFromPrvKeyHex:function(A,v,o,y){if(typeof o=="undefined"||o==null){o="AES-256-CBC"}if(typeof D[o]=="undefined"){throw"PKCS5PKEY unsupported algorithm: "+o}if(typeof y=="undefined"||y==null){var q=D[o]["ivlen"];var p=d(q);y=p.toUpperCase()}var u=E(o,v,y);var s=u.keyhex;var r=n(A,o,s,y);var x=r.replace(/(.{64})/g,"$1\r\n");var w="-----BEGIN RSA PRIVATE KEY-----\r\n";w+="Proc-Type: 4,ENCRYPTED\r\n";w+="DEK-Info: "+o+","+y+"\r\n";w+="\r\n";w+=x;w+="\r\n-----END RSA PRIVATE KEY-----\r\n";return w},getEncryptedPKCS5PEMFromRSAKey:function(w,x,u,A){var s=new Ext.asn1.DERInteger({"int":0});var L=new Ext.asn1.DERInteger({bigint:w.n});var r=new Ext.asn1.DERInteger({"int":w.e});var v=new Ext.asn1.DERInteger({bigint:w.d});var C=new Ext.asn1.DERInteger({bigint:w.p});var y=new Ext.asn1.DERInteger({bigint:w.q});var q=new Ext.asn1.DERInteger({bigint:w.dmp1});var K=new Ext.asn1.DERInteger({bigint:w.dmq1});var p=new Ext.asn1.DERInteger({bigint:w.coeff});var B=new Ext.asn1.DERSequence({array:[s,L,r,v,C,y,q,K,p]});var o=B.getEncodedHex();return this.getEncryptedPKCS5PEMFromPrvKeyHex(o,x,u,A)},newEncryptedPKCS5PEM:function(p,q,u,o){if(typeof q=="undefined"||q==null){q=1024}if(typeof u=="undefined"||u==null){u="10001"}var r=new RSAKey();r.generate(q,u);var s=null;if(typeof o=="undefined"||o==null){s=this.getEncryptedPKCS5PEMFromRSAKey(pkey,p)}else{s=this.getEncryptedPKCS5PEMFromRSAKey(pkey,p,o)}return s},getRSAKeyFromPlainPKCS8PEM:function(o){if(o.match(/ENCRYPTED/)){throw"pem shall be not ENCRYPTED"}var q=ASN1HEX.pemToHex(o,"PRIVATE KEY");var p=this.getRSAKeyFromPlainPKCS8Hex(q);return p},getRSAKeyFromPlainPKCS8Hex:function(o){var p=new RSAKey();p.readPKCS8PrvKeyHex(o);return p},parseHexOfEncryptedPKCS8:function(r){var y={};var x=ASN1HEX.getPosArrayOfChildren_AtObj(r,0);if(x.length!=2){throw"malformed format: SEQUENCE(0).items != 2: "+x.length}y.ciphertext=ASN1HEX.getHexOfV_AtObj(r,x[1]);var u=ASN1HEX.getPosArrayOfChildren_AtObj(r,x[0]);if(u.length!=2){throw"malformed format: SEQUENCE(0.0).items != 2: "+u.length}if(ASN1HEX.getHexOfV_AtObj(r,u[0])!="2a864886f70d01050d"){throw"this only supports pkcs5PBES2"}var v=ASN1HEX.getPosArrayOfChildren_AtObj(r,u[1]);if(u.length!=2){throw"malformed format: SEQUENCE(0.0.1).items != 2: "+v.length}var w=ASN1HEX.getPosArrayOfChildren_AtObj(r,v[1]);if(w.length!=2){throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+w.length}if(ASN1HEX.getHexOfV_AtObj(r,w[0])!="2a864886f70d0307"){throw"this only supports TripleDES"}y.encryptionSchemeAlg="TripleDES";y.encryptionSchemeIV=ASN1HEX.getHexOfV_AtObj(r,w[1]);var o=ASN1HEX.getPosArrayOfChildren_AtObj(r,v[0]);if(o.length!=2){throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+o.length}if(ASN1HEX.getHexOfV_AtObj(r,o[0])!="2a864886f70d01050c"){throw"this only supports pkcs5PBKDF2"}var s=ASN1HEX.getPosArrayOfChildren_AtObj(r,o[1]);if(s.length<2){throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+s.length}y.pbkdf2Salt=ASN1HEX.getHexOfV_AtObj(r,s[0]);var p=ASN1HEX.getHexOfV_AtObj(r,s[1]);try{y.pbkdf2Iter=parseInt(p,16)}catch(q){throw"malformed format pbkdf2Iter: "+p}return y},getPBKDF2KeyHexFromParam:function(o,p){var u=CryptoJS.enc.Hex.parse(o.pbkdf2Salt);var q=o.pbkdf2Iter;var s=CryptoJS.PBKDF2(p,u,{keySize:192/32,iterations:q});var r=CryptoJS.enc.Hex.stringify(s);return r},getPlainPKCS8HexFromEncryptedPKCS8PEM:function(s,u){var x=ASN1HEX.pemToHex(s,"ENCRYPTED PRIVATE KEY");var v=this.parseHexOfEncryptedPKCS8(x);var p=PKCS5PKEY.getPBKDF2KeyHexFromParam(v,u);var q={};q.ciphertext=CryptoJS.enc.Hex.parse(v.ciphertext);var o=CryptoJS.enc.Hex.parse(p);var y=CryptoJS.enc.Hex.parse(v.encryptionSchemeIV);var r=CryptoJS.TripleDES.decrypt(q,o,{iv:y});var w=CryptoJS.enc.Hex.stringify(r);return w},getRSAKeyFromEncryptedPKCS8PEM:function(o,r){var q=this.getPlainPKCS8HexFromEncryptedPKCS8PEM(o,r);var p=this.getRSAKeyFromPlainPKCS8Hex(q);return p},getKeyFromEncryptedPKCS8PEM:function(o,q){var p=this.getPlainPKCS8HexFromEncryptedPKCS8PEM(o,q);var r=this.getKeyFromPlainPrivatePKCS8Hex(p);return r},parsePlainPrivatePKCS8Hex:function(o){var q={};q.algparam=null;if(o.substr(0,2)!="30"){throw"malformed plain PKCS8 private key(code:001)"}var r=ASN1HEX.getPosArrayOfChildren_AtObj(o,0);if(r.length!=3){throw"malformed plain PKCS8 private key(code:002)"}if(o.substr(r[1],2)!="30"){throw"malformed PKCS8 private key(code:003)"}var p=ASN1HEX.getPosArrayOfChildren_AtObj(o,r[1]);if(p.length!=2){throw"malformed PKCS8 private key(code:004)"}if(o.substr(p[0],2)!="06"){throw"malformed PKCS8 private key(code:005)"}q.algoid=ASN1HEX.getHexOfV_AtObj(o,p[0]);if(o.substr(p[1],2)=="06"){q.algparam=ASN1HEX.getHexOfV_AtObj(o,p[1])}if(o.substr(r[2],2)!="04"){throw"malformed PKCS8 private key(code:006)"}q.keyidx=ASN1HEX.getStartPosOfV_AtObj(o,r[2]);return q},getKeyFromPlainPrivatePKCS8PEM:function(q){var p=ASN1HEX.pemToHex(q,"PRIVATE KEY");var o=this.getKeyFromPlainPrivatePKCS8Hex(p);return o},getKeyFromPlainPrivatePKCS8Hex:function(p){var q=this.parsePlainPrivatePKCS8Hex(p);var o;if(q.algoid=="2a864886f70d010101"){o=new RSAKey()}else{if(q.algoid=="2a8648ce380401"){o=new Ext.crypto.DSA()}else{if(q.algoid=="2a8648ce3d0201"){o=new Ext.crypto.ECDSA()}else{throw"unsupported private key algorithm"}}}o.readPKCS8PrvKeyHex(p);return o},getRSAKeyFromPublicPKCS8PEM:function(q){var o=ASN1HEX.pemToHex(q,"PUBLIC KEY");var p=this.getRSAKeyFromPublicPKCS8Hex(o);return p},getKeyFromPublicPKCS8PEM:function(q){var o=ASN1HEX.pemToHex(q,"PUBLIC KEY");var p=this.getKeyFromPublicPKCS8Hex(o);return p},getKeyFromPublicPKCS8Hex:function(p){var q;var o=ASN1HEX.getVbyList(h,0,[0,0],"06");if(o==="2a864886f70d010101"){q=new RSAKey()}else{if(o==="2a8648ce380401"){q=new Ext.crypto.DSA()}else{if(o==="2a8648ce3d0201"){q=new Ext.crypto.ECDSA()}else{throw"unsupported PKCS#8 public key hex"}}}q.readPKCS8PubKeyHex(h);return q},parsePublicRawRSAKeyHex:function(o){var p={};if(o.substr(0,2)!="30"){throw"malformed RSA key(code:001)"}var q=ASN1HEX.getPosArrayOfChildren_AtObj(o,0);if(q.length!=2){throw"malformed RSA key(code:002)"}if(o.substr(q[0],2)!="02"){throw"malformed RSA key(code:003)"}p.n=ASN1HEX.getHexOfV_AtObj(o,q[0]);if(o.substr(q[1],2)!="02"){throw"malformed RSA key(code:004)"}p.e=ASN1HEX.getHexOfV_AtObj(o,q[1]);return p},parsePrivateRawRSAKeyHexAtObj:function(q,o){var r=o.keyidx;if(q.substr(r,2)!="30"){throw"malformed RSA private key(code:001)"}var p=ASN1HEX.getPosArrayOfChildren_AtObj(q,r);if(p.length!=9){throw"malformed RSA private key(code:002)"}o.key={};o.key.n=ASN1HEX.getHexOfV_AtObj(q,p[1]);o.key.e=ASN1HEX.getHexOfV_AtObj(q,p[2]);o.key.d=ASN1HEX.getHexOfV_AtObj(q,p[3]);o.key.p=ASN1HEX.getHexOfV_AtObj(q,p[4]);o.key.q=ASN1HEX.getHexOfV_AtObj(q,p[5]);o.key.dp=ASN1HEX.getHexOfV_AtObj(q,p[6]);o.key.dq=ASN1HEX.getHexOfV_AtObj(q,p[7]);o.key.co=ASN1HEX.getHexOfV_AtObj(q,p[8])},parsePrivateRawECKeyHexAtObj:function(q,o){var r=o.keyidx;if(q.substr(r,2)!="30"){throw"malformed ECC private key(code:001)"}var p=ASN1HEX.getPosArrayOfChildren_AtObj(q,r);if(p.length!=3){throw"malformed ECC private key(code:002)"}if(q.substr(p[1],2)!="04"){throw"malformed ECC private key(code:003)"}o.key=ASN1HEX.getHexOfV_AtObj(q,p[1])},parsePublicPKCS8Hex:function(s){var q={};q.algparam=null;var r=ASN1HEX.getPosArrayOfChildren_AtObj(s,0);if(r.length!=2){throw"outer DERSequence shall have 2 elements: "+r.length}var o=r[0];if(s.substr(o,2)!="30"){throw"malformed PKCS8 public key(code:001)"}var p=ASN1HEX.getPosArrayOfChildren_AtObj(s,o);if(p.length!=2){throw"malformed PKCS8 public key(code:002)"}if(s.substr(p[0],2)!="06"){throw"malformed PKCS8 public key(code:003)"}q.algoid=ASN1HEX.getHexOfV_AtObj(s,p[0]);if(s.substr(p[1],2)=="06"){q.algparam=ASN1HEX.getHexOfV_AtObj(s,p[1])}if(s.substr(r[1],2)!="03"){throw"malformed PKCS8 public key(code:004)"}q.key=ASN1HEX.getHexOfV_AtObj(s,r[1]).substr(2);return q},getRSAKeyFromPublicPKCS8Hex:function(p){var o=new RSAKey();o.readPKCS8PubKeyHex(p);return o}}}();var KEYUTIL=function(){var f=function(q,p,r){return G(CryptoJS.AES,q,p,r)};var g=function(q,p,r){return G(CryptoJS.TripleDES,q,p,r)};var H=function(q,p,r){return G(CryptoJS.DES,q,p,r)};var G=function(p,v,r,x){var y=CryptoJS.enc.Hex.parse(v);var u=CryptoJS.enc.Hex.parse(r);var w=CryptoJS.enc.Hex.parse(x);var q={};q.key=u;q.iv=w;q.ciphertext=y;var s=p.decrypt(q,u,{iv:w});return CryptoJS.enc.Hex.stringify(s)};var J=function(q,p,r){return l(CryptoJS.AES,q,p,r)};var j=function(q,p,r){return l(CryptoJS.TripleDES,q,p,r)};var k=function(q,p,r){return l(CryptoJS.DES,q,p,r)};var l=function(q,w,s,y){var p=CryptoJS.enc.Hex.parse(w);var v=CryptoJS.enc.Hex.parse(s);var x=CryptoJS.enc.Hex.parse(y);var u=q.encrypt(p,v,{iv:x});var A=CryptoJS.enc.Hex.parse(u.toString());var r=CryptoJS.enc.Base64.stringify(A);return r};var n={"AES-256-CBC":{proc:f,eproc:J,keylen:32,ivlen:16},"AES-192-CBC":{proc:f,eproc:J,keylen:24,ivlen:16},"AES-128-CBC":{proc:f,eproc:J,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:g,eproc:j,keylen:24,ivlen:8},"DES-CBC":{proc:H,eproc:k,keylen:8,ivlen:8}};var c=function(p){return n[p]["proc"]};var b=function(q){var p=CryptoJS.lib.WordArray.random(q);var r=CryptoJS.enc.Hex.stringify(p);return r};var d=function(w){var x={};var r=w.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));if(r){x.cipher=r[1];x.ivsalt=r[2]}var q=w.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));if(q){x.type=q[1]}var v=-1;var p=0;if(w.indexOf("\r\n\r\n")!=-1){v=w.indexOf("\r\n\r\n");p=2}if(w.indexOf("\n\n")!=-1){v=w.indexOf("\n\n");p=1}var u=w.indexOf("-----END");if(v!=-1&&u!=-1){var s=w.substring(v+p*2,u-p);s=s.replace(/\s+/g,"");x.data=s}return x};var o=function(A,w,y){var s=y.substring(0,16);var q=CryptoJS.enc.Hex.parse(s);var B=CryptoJS.enc.Utf8.parse(w);var r=n[A]["keylen"]+n[A]["ivlen"];var v="";var u=null;for(;;){var p=CryptoJS.algo.MD5.create();if(u!=null){p.update(u)}p.update(B);p.update(q);u=p.finalize();v=v+CryptoJS.enc.Hex.stringify(u);if(v.length>=r*2){break}}var x={};x.keyhex=v.substr(0,n[A]["keylen"]*2);x.ivhex=v.substr(n[A]["keylen"]*2,n[A]["ivlen"]*2);return x};var I=function(q,x,s,p){var u=CryptoJS.enc.Base64.parse(q);var r=CryptoJS.enc.Hex.stringify(u);var w=n[x]["proc"];var v=w(r,s,p);return v};var m=function(q,u,r,p){var s=n[u]["eproc"];var v=s(q,r,p);return v};return{version:"1.0.0",getHexFromPEM:function(q,p){return ASN1HEX.pemToHex(q,p)},getDecryptedKeyHexByKeyIV:function(r,p,u,s){var q=c(p);return q(r,u,s)},parsePKCS5PEM:function(p){return d(p)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(r,q,p){return o(r,q,p)},decryptKeyB64:function(q,s,r,p){return I(q,s,r,p)},getDecryptedKeyHex:function(w,v){var y=d(w);var q=y.type;var A=y.cipher;var x=y.ivsalt;var p=y.data;var u=o(A,v,x);var s=u.keyhex;var r=I(p,A,s,x);return r},getRSAKeyFromEncryptedPKCS5PEM:function(s,r){var p=this.getDecryptedKeyHex(s,r);var q=new RSAKey();q.readPrivateKeyFromASN1HexString(p);return q},getEncryptedPKCS5PEMFromPrvKeyHex:function(u,C,x,p,B){var y="";if(typeof p=="undefined"||p==null){p="AES-256-CBC"}if(typeof n[p]=="undefined"){throw"KEYUTIL unsupported algorithm: "+p}if(typeof B=="undefined"||B==null){var r=n[p]["ivlen"];var q=b(r);B=q.toUpperCase()}var w=o(p,x,B);var v=w.keyhex;var s=m(C,p,v,B);var A=s.replace(/(.{64})/g,"$1\r\n");var y="-----BEGIN "+u+" PRIVATE KEY-----\r\n";y+="Proc-Type: 4,ENCRYPTED\r\n";y+="DEK-Info: "+p+","+B+"\r\n";y+="\r\n";y+=A;y+="\r\n-----END "+u+" PRIVATE KEY-----\r\n";return y},getEncryptedPKCS5PEMFromRSAKey:function(B,C,A,E){var x=new Ext.asn1.DERInteger({"int":0});var r=new Ext.asn1.DERInteger({bigint:B.n});var w=new Ext.asn1.DERInteger({"int":B.e});var y=new Ext.asn1.DERInteger({bigint:B.d});var p=new Ext.asn1.DERInteger({bigint:B.p});var D=new Ext.asn1.DERInteger({bigint:B.q});var v=new Ext.asn1.DERInteger({bigint:B.dmp1});var q=new Ext.asn1.DERInteger({bigint:B.dmq1});var u=new Ext.asn1.DERInteger({bigint:B.coeff});var F=new Ext.asn1.DERSequence({array:[x,r,w,y,p,D,v,q,u]});var s=F.getEncodedHex();return this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",s,C,A,E)},newEncryptedPKCS5PEM:function(q,r,v,p){if(typeof r=="undefined"||r==null){r=1024}if(typeof v=="undefined"||v==null){v="10001"}var s=new RSAKey();s.generate(r,v);var u=null;if(typeof p=="undefined"||p==null){u=this.getEncryptedPKCS5PEMFromRSAKey(s,q)}else{u=this.getEncryptedPKCS5PEMFromRSAKey(s,q,p)}return u},getRSAKeyFromPlainPKCS8PEM:function(p){if(p.match(/ENCRYPTED/)){throw"pem shall be not ENCRYPTED"}var r=ASN1HEX.pemToHex(p,"PRIVATE KEY");var q=this.getRSAKeyFromPlainPKCS8Hex(r);return q},getRSAKeyFromPlainPKCS8Hex:function(p){var q=new RSAKey();q.readPKCS8PrvKeyHex(p);return q},parseHexOfEncryptedPKCS8:function(u){var p={};var A=ASN1HEX.getPosArrayOfChildren_AtObj(u,0);if(A.length!=2){throw"malformed format: SEQUENCE(0).items != 2: "+A.length}p.ciphertext=ASN1HEX.getHexOfV_AtObj(u,A[1]);var w=ASN1HEX.getPosArrayOfChildren_AtObj(u,A[0]);if(w.length!=2){throw"malformed format: SEQUENCE(0.0).items != 2: "+w.length}if(ASN1HEX.getHexOfV_AtObj(u,w[0])!="2a864886f70d01050d"){throw"this only supports pkcs5PBES2"}var x=ASN1HEX.getPosArrayOfChildren_AtObj(u,w[1]);if(w.length!=2){throw"malformed format: SEQUENCE(0.0.1).items != 2: "+x.length}var y=ASN1HEX.getPosArrayOfChildren_AtObj(u,x[1]);if(y.length!=2){throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+y.length}if(ASN1HEX.getHexOfV_AtObj(u,y[0])!="2a864886f70d0307"){throw"this only supports TripleDES"}p.encryptionSchemeAlg="TripleDES";p.encryptionSchemeIV=ASN1HEX.getHexOfV_AtObj(u,y[1]);var q=ASN1HEX.getPosArrayOfChildren_AtObj(u,x[0]);if(q.length!=2){throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+q.length}if(ASN1HEX.getHexOfV_AtObj(u,q[0])!="2a864886f70d01050c"){throw"this only supports pkcs5PBKDF2"}var v=ASN1HEX.getPosArrayOfChildren_AtObj(u,q[1]);if(v.length<2){throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+v.length}p.pbkdf2Salt=ASN1HEX.getHexOfV_AtObj(u,v[0]);var r=ASN1HEX.getHexOfV_AtObj(u,v[1]);try{p.pbkdf2Iter=parseInt(r,16)}catch(s){throw"malformed format pbkdf2Iter: "+r}return p},getPBKDF2KeyHexFromParam:function(p,q){var v=CryptoJS.enc.Hex.parse(p.pbkdf2Salt);var r=p.pbkdf2Iter;var u=CryptoJS.PBKDF2(q,v,{keySize:192/32,iterations:r});var s=CryptoJS.enc.Hex.stringify(u);return s},getPlainPKCS8HexFromEncryptedPKCS8PEM:function(v,w){var A=ASN1HEX.pemToHex(v,"ENCRYPTED PRIVATE KEY");var x=this.parseHexOfEncryptedPKCS8(A);var r=KEYUTIL.getPBKDF2KeyHexFromParam(x,w);var s={};s.ciphertext=CryptoJS.enc.Hex.parse(x.ciphertext);var q=CryptoJS.enc.Hex.parse(r);var p=CryptoJS.enc.Hex.parse(x.encryptionSchemeIV);var u=CryptoJS.TripleDES.decrypt(s,q,{iv:p});var y=CryptoJS.enc.Hex.stringify(u);return y},getRSAKeyFromEncryptedPKCS8PEM:function(p,s){var r=this.getPlainPKCS8HexFromEncryptedPKCS8PEM(p,s);var q=this.getRSAKeyFromPlainPKCS8Hex(r);return q},getKeyFromEncryptedPKCS8PEM:function(p,r){var q=this.getPlainPKCS8HexFromEncryptedPKCS8PEM(p,r);var s=this.getKeyFromPlainPrivatePKCS8Hex(q);return s},parsePlainPrivatePKCS8Hex:function(p){var r={};r.algparam=null;if(p.substr(0,2)!="30"){throw"malformed plain PKCS8 private key(code:001)"}var s=ASN1HEX.getPosArrayOfChildren_AtObj(p,0);if(s.length!=3){throw"malformed plain PKCS8 private key(code:002)"}if(p.substr(s[1],2)!="30"){throw"malformed PKCS8 private key(code:003)"}var q=ASN1HEX.getPosArrayOfChildren_AtObj(p,s[1]);if(q.length!=2){throw"malformed PKCS8 private key(code:004)"}if(p.substr(q[0],2)!="06"){throw"malformed PKCS8 private key(code:005)"}r.algoid=ASN1HEX.getHexOfV_AtObj(p,q[0]);if(p.substr(q[1],2)=="06"){r.algparam=ASN1HEX.getHexOfV_AtObj(p,q[1])}if(p.substr(s[2],2)!="04"){throw"malformed PKCS8 private key(code:006)"}r.keyidx=ASN1HEX.getStartPosOfV_AtObj(p,s[2]);return r},getKeyFromPlainPrivatePKCS8PEM:function(r){var q=ASN1HEX.pemToHex(r,"PRIVATE KEY");var p=this.getKeyFromPlainPrivatePKCS8Hex(q);return p},getKeyFromPlainPrivatePKCS8Hex:function(q){var r=this.parsePlainPrivatePKCS8Hex(q);var p;if(r.algoid=="2a864886f70d010101"){p=new RSAKey()}else{if(r.algoid=="2a8648ce380401"){p=new Ext.crypto.DSA()}else{if(r.algoid=="2a8648ce3d0201"){p=new Ext.crypto.ECDSA()}else{throw"unsupported private key algorithm"}}}p.readPKCS8PrvKeyHex(q);return p},getRSAKeyFromPublicPKCS8PEM:function(r){var p=ASN1HEX.pemToHex(r,"PUBLIC KEY");var q=this.getRSAKeyFromPublicPKCS8Hex(p);return q},getKeyFromPublicPKCS8PEM:function(r){var p=ASN1HEX.pemToHex(r,"PUBLIC KEY");var q=this.getKeyFromPublicPKCS8Hex(p);return q},getKeyFromPublicPKCS8Hex:function(r){var q;var p=ASN1HEX.getVbyList(r,0,[0,0],"06");if(p==="2a864886f70d010101"){q=new RSAKey()}else{if(p==="2a8648ce380401"){q=new Ext.crypto.DSA()}else{if(p==="2a8648ce3d0201"){q=new Ext.crypto.ECDSA()}else{throw"unsupported PKCS#8 public key hex"}}}q.readPKCS8PubKeyHex(r);return q},parsePublicRawRSAKeyHex:function(p){var q={};if(p.substr(0,2)!="30"){throw"malformed RSA key(code:001)"}var r=ASN1HEX.getPosArrayOfChildren_AtObj(p,0);if(r.length!=2){throw"malformed RSA key(code:002)"}if(p.substr(r[0],2)!="02"){throw"malformed RSA key(code:003)"}q.n=ASN1HEX.getHexOfV_AtObj(p,r[0]);if(p.substr(r[1],2)!="02"){throw"malformed RSA key(code:004)"}q.e=ASN1HEX.getHexOfV_AtObj(p,r[1]);return q},parsePrivateRawRSAKeyHexAtObj:function(r,p){var v=ASN1HEX;var s=v.getHexOfV_AtObj;var u=v.getDecendantIndexByNthList(r,0,[2,0]);var q=v.getPosArrayOfChildren_AtObj(r,u);if(q.length!==9){throw"malformed PKCS#8 plain RSA private key"}p.key={};p.key.n=s(r,q[1]);p.key.e=s(r,q[2]);p.key.d=s(r,q[3]);p.key.p=s(r,q[4]);p.key.q=s(r,q[5]);p.key.dp=s(r,q[6]);p.key.dq=s(r,q[7]);p.key.co=s(r,q[8])},parsePrivateRawECKeyHexAtObj:function(q,p){var u=ASN1HEX;var r=p.keyidx;var s=new Ext.crypto.ECDSA();s.readPKCS8PrvKeyHex(q);p.key=s.prvKeyHex;p.pubkey=s.pubKeyHex},parsePublicPKCS8Hex:function(u){var r={};r.algparam=null;var s=ASN1HEX.getPosArrayOfChildren_AtObj(u,0);if(s.length!=2){throw"outer DERSequence shall have 2 elements: "+s.length}var p=s[0];if(u.substr(p,2)!="30"){throw"malformed PKCS8 public key(code:001)"}var q=ASN1HEX.getPosArrayOfChildren_AtObj(u,p);if(q.length!=2){throw"malformed PKCS8 public key(code:002)"}if(u.substr(q[0],2)!="06"){throw"malformed PKCS8 public key(code:003)"}r.algoid=ASN1HEX.getHexOfV_AtObj(u,q[0]);if(u.substr(q[1],2)=="06"){r.algparam=ASN1HEX.getHexOfV_AtObj(u,q[1])}else{if(u.substr(q[1],2)=="30"){r.algparam={};r.algparam.p=ASN1HEX.getVbyList(u,q[1],[0],"02");r.algparam.q=ASN1HEX.getVbyList(u,q[1],[1],"02");r.algparam.g=ASN1HEX.getVbyList(u,q[1],[2],"02")}}if(u.substr(s[1],2)!="03"){throw"malformed PKCS8 public key(code:004)"}r.key=ASN1HEX.getHexOfV_AtObj(u,s[1]).substr(2);return r},getRSAKeyFromPublicPKCS8Hex:function(q){var p=new RSAKey();p.readPKCS8PubKeyHex(q);return p}}}();KEYUTIL.getKey=function(k,j,l){if(typeof RSAKey!="undefined"&&k instanceof RSAKey){return k}if(typeof Ext.crypto.ECDSA!="undefined"&&k instanceof Ext.crypto.ECDSA){return k}if(typeof Ext.crypto.DSA!="undefined"&&k instanceof Ext.crypto.DSA){return k}if(k.curve!==undefined&&k.xy!==undefined&&k.d===undefined){return new Ext.crypto.ECDSA({pub:k.xy,curve:k.curve})}if(k.curve!==undefined&&k.d!==undefined){return new Ext.crypto.ECDSA({prv:k.d,curve:k.curve})}if(k.kty===undefined&&k.n!==undefined&&k.e!==undefined&&k.d===undefined){var D=new RSAKey();D.setPublic(k.n,k.e);return D}if(k.kty===undefined&&k.n!==undefined&&k.e!==undefined&&k.d!==undefined&&k.p!==undefined&&k.q!==undefined&&k.dp!==undefined&&k.dq!==undefined&&k.co!==undefined&&k.qi===undefined){var D=new RSAKey();D.setPrivateEx(k.n,k.e,k.d,k.p,k.q,k.dp,k.dq,k.co);return D}if(k.kty===undefined&&k.n!==undefined&&k.e!==undefined&&k.d!==undefined&&k.p===undefined){var D=new RSAKey();D.setPrivate(k.n,k.e,k.d);return D}if(k.p!==undefined&&k.q!==undefined&&k.g!==undefined&&k.y!==undefined&&k.x===undefined){var D=new Ext.crypto.DSA();D.setPublic(k.p,k.q,k.g,k.y);return D}if(k.p!==undefined&&k.q!==undefined&&k.g!==undefined&&k.y!==undefined&&k.x!==undefined){var D=new Ext.crypto.DSA();D.setPrivate(k.p,k.q,k.g,k.y,k.x);return D}if(k.kty==="RSA"&&k.n!==undefined&&k.e!==undefined&&k.d===undefined){var D=new RSAKey();D.setPublic(b64utohex(k.n),b64utohex(k.e));return D}if(k.kty==="RSA"&&k.n!==undefined&&k.e!==undefined&&k.d!==undefined&&k.p!==undefined&&k.q!==undefined&&k.dp!==undefined&&k.dq!==undefined&&k.qi!==undefined){var D=new RSAKey();D.setPrivateEx(b64utohex(k.n),b64utohex(k.e),b64utohex(k.d),b64utohex(k.p),b64utohex(k.q),b64utohex(k.dp),b64utohex(k.dq),b64utohex(k.qi));return D}if(k.kty==="RSA"&&k.n!==undefined&&k.e!==undefined&&k.d!==undefined){var D=new RSAKey();D.setPrivate(b64utohex(k.n),b64utohex(k.e),b64utohex(k.d));return D}if(k.kty==="EC"&&k.crv!==undefined&&k.x!==undefined&&k.y!==undefined&&k.d===undefined){var f=new Ext.crypto.ECDSA({curve:k.crv});var r=f.ecparams.keylen/4;var v=("0000000000"+b64utohex(k.x)).slice(-r);var B=("0000000000"+b64utohex(k.y)).slice(-r);var s="04"+v+B;f.setPublicKeyHex(s);return f}if(k.kty==="EC"&&k.crv!==undefined&&k.x!==undefined&&k.y!==undefined&&k.d!==undefined){var f=new Ext.crypto.ECDSA({curve:k.crv});var r=f.ecparams.keylen/4;var v=("0000000000"+b64utohex(k.x)).slice(-r);var B=("0000000000"+b64utohex(k.y)).slice(-r);var s="04"+v+B;var b=("0000000000"+b64utohex(k.d)).slice(-r);f.setPublicKeyHex(s);f.setPrivateKeyHex(b);return f}if(l==="pkcs5prv"){var u=k,Y=ASN1HEX,C,D;C=Y.getPosArrayOfChildren_AtObj(u,0);if(C.length===9){D=new RSAKey();D.readPrivateKeyFromASN1HexString(k)}else{if(C.length===6){D=new Ext.crypto.DSA();D.readPKCS5PrvKeyHex(u)}else{if(C.length>2&&u.substr(C[1],2)==="04"){D=new Ext.crypto.ECDSA();D.readPKCS5PrvKeyHex(u)}else{throw"unsupported PKCS#1/5 hexadecimal key"}}}return D}if(l==="pkcs8prv"){var D=KEYUTIL.getKeyFromPlainPrivatePKCS8Hex(k);return D}if(l==="pkcs8pub"){return KEYUTIL.getKeyFromPublicPKCS8Hex(k)}if(l==="x509pub"){return X509.getPublicKeyFromCertHex(k)}if(k.indexOf("-END CERTIFICATE-",0)!=-1||k.indexOf("-END X509 CERTIFICATE-",0)!=-1||k.indexOf("-END TRUSTED CERTIFICATE-",0)!=-1){return X509.getPublicKeyFromCertPEM(k)}if(k.indexOf("-END PUBLIC KEY-")!=-1){return KEYUTIL.getKeyFromPublicPKCS8PEM(k)}if(k.indexOf("-END RSA PRIVATE KEY-")!=-1&&k.indexOf("4,ENCRYPTED")==-1){var m=ASN1HEX.pemToHex(k,"RSA PRIVATE KEY");return KEYUTIL.getKey(m,null,"pkcs5prv")}if(k.indexOf("-END DSA PRIVATE KEY-")!=-1&&k.indexOf("4,ENCRYPTED")==-1){var Z=ASN1HEX.pemToHex(k,"DSA PRIVATE KEY");var X=ASN1HEX.getVbyList(Z,0,[1],"02");var A=ASN1HEX.getVbyList(Z,0,[2],"02");var w=ASN1HEX.getVbyList(Z,0,[3],"02");var n=ASN1HEX.getVbyList(Z,0,[4],"02");var o=ASN1HEX.getVbyList(Z,0,[5],"02");var D=new Ext.crypto.DSA();D.setPrivate(new BigInteger(X,16),new BigInteger(A,16),new BigInteger(w,16),new BigInteger(n,16),new BigInteger(o,16));return D}if(k.indexOf("-END PRIVATE KEY-")!=-1){return KEYUTIL.getKeyFromPlainPrivatePKCS8PEM(k)}if(k.indexOf("-END RSA PRIVATE KEY-")!=-1&&k.indexOf("4,ENCRYPTED")!=-1){return KEYUTIL.getRSAKeyFromEncryptedPKCS5PEM(k,j)}if(k.indexOf("-END EC PRIVATE KEY-")!=-1&&k.indexOf("4,ENCRYPTED")!=-1){var Z=KEYUTIL.getDecryptedKeyHex(k,j);var D=ASN1HEX.getVbyList(Z,0,[1],"04");var d=ASN1HEX.getVbyList(Z,0,[2,0],"06");var W=ASN1HEX.getVbyList(Z,0,[3,0],"03").substr(2);var c="";if(Ext.crypto.OID.oidhex2name[d]!==undefined){c=Ext.crypto.OID.oidhex2name[d]}else{throw"undefined OID(hex) in Ext.crypto.OID: "+d}var f=new Ext.crypto.ECDSA({curve:c});f.setPublicKeyHex(W);f.setPrivateKeyHex(D);f.isPublic=false;return f}if(k.indexOf("-END DSA PRIVATE KEY-")!=-1&&k.indexOf("4,ENCRYPTED")!=-1){var Z=KEYUTIL.getDecryptedKeyHex(k,j);var X=ASN1HEX.getVbyList(Z,0,[1],"02");var A=ASN1HEX.getVbyList(Z,0,[2],"02");var w=ASN1HEX.getVbyList(Z,0,[3],"02");var n=ASN1HEX.getVbyList(Z,0,[4],"02");var o=ASN1HEX.getVbyList(Z,0,[5],"02");var D=new Ext.crypto.DSA();D.setPrivate(new BigInteger(X,16),new BigInteger(A,16),new BigInteger(w,16),new BigInteger(n,16),new BigInteger(o,16));return D}if(k.indexOf("-END ENCRYPTED PRIVATE KEY-")!=-1){return KEYUTIL.getKeyFromEncryptedPKCS8PEM(k,j)}throw"not supported argument"};KEYUTIL.generateKeypair=function(x,A){if(x=="RSA"){var y=A;var f=new RSAKey();f.generate(y,"10001");f.isPrivate=true;f.isPublic=true;var c=new RSAKey();var b=f.n.toString(16);var g=f.e.toString(16);c.setPublic(b,g);c.isPrivate=false;c.isPublic=true;var k={};k.prvKeyObj=f;k.pubKeyObj=c;return k}else{if(x=="EC"){var B=A;var d=new Ext.crypto.ECDSA({curve:B});var j=d.generateKeyPairHex();var f=new Ext.crypto.ECDSA({curve:B});f.setPublicKeyHex(j.ecpubhex);f.setPrivateKeyHex(j.ecprvhex);f.isPrivate=true;f.isPublic=false;var c=new Ext.crypto.ECDSA({curve:B});c.setPublicKeyHex(j.ecpubhex);c.isPrivate=false;c.isPublic=true;var k={};k.prvKeyObj=f;k.pubKeyObj=c;return k}else{throw"unknown algorithm: "+x}}};KEYUTIL.getPEM=function(b,m,T,k,p){var R=Ext.asn1;var q=Ext.crypto;function U(w){var s=Ext.asn1.ASN1Util.newObject({seq:[{"int":0},{"int":{bigint:w.n}},{"int":w.e},{"int":{bigint:w.d}},{"int":{bigint:w.p}},{"int":{bigint:w.q}},{"int":{bigint:w.dmp1}},{"int":{bigint:w.dmq1}},{"int":{bigint:w.coeff}}]});return s}function V(s){var w=Ext.asn1.ASN1Util.newObject({seq:[{"int":1},{octstr:{hex:s.prvKeyHex}},{tag:["a0",true,{oid:{name:s.curveName}}]},{tag:["a1",true,{bitstr:{hex:"00"+s.pubKeyHex}}]}]});return w}function S(w){var s=Ext.asn1.ASN1Util.newObject({seq:[{"int":0},{"int":{bigint:w.p}},{"int":{bigint:w.q}},{"int":{bigint:w.g}},{"int":{bigint:w.y}},{"int":{bigint:w.x}}]});return s}if(((typeof RSAKey!="undefined"&&b instanceof RSAKey)||(typeof q.DSA!="undefined"&&b instanceof q.DSA)||(typeof q.ECDSA!="undefined"&&b instanceof q.ECDSA))&&b.isPublic==true&&(m===undefined||m=="PKCS8PUB")){var o=new Ext.asn1.x509.SubjectPublicKeyInfo(b);var v=o.getEncodedHex();return R.ASN1Util.getPEMStringFromHex(v,"PUBLIC KEY")}if(m=="PKCS1PRV"&&typeof RSAKey!="undefined"&&b instanceof RSAKey&&(T===undefined||T==null)&&b.isPrivate==true){var o=U(b);var v=o.getEncodedHex();return R.ASN1Util.getPEMStringFromHex(v,"RSA PRIVATE KEY")}if(m=="PKCS1PRV"&&typeof RSAKey!="undefined"&&b instanceof Ext.crypto.ECDSA&&(T===undefined||T==null)&&b.isPrivate==true){var j=new Ext.asn1.DERObjectIdentifier({name:b.curveName});var u=j.getEncodedHex();var g=V(b);var r=g.getEncodedHex();var n="";n+=R.ASN1Util.getPEMStringFromHex(u,"EC PARAMETERS");n+=R.ASN1Util.getPEMStringFromHex(r,"EC PRIVATE KEY");return n}if(m=="PKCS1PRV"&&typeof Ext.crypto.DSA!="undefined"&&b instanceof Ext.crypto.DSA&&(T===undefined||T==null)&&b.isPrivate==true){var o=S(b);var v=o.getEncodedHex();return R.ASN1Util.getPEMStringFromHex(v,"DSA PRIVATE KEY")}if(m=="PKCS5PRV"&&typeof RSAKey!="undefined"&&b instanceof RSAKey&&(T!==undefined&&T!=null)&&b.isPrivate==true){var o=U(b);var v=o.getEncodedHex();if(k===undefined){k="DES-EDE3-CBC"}return this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",v,T,k)}if(m=="PKCS5PRV"&&typeof Ext.crypto.ECDSA!="undefined"&&b instanceof Ext.crypto.ECDSA&&(T!==undefined&&T!=null)&&b.isPrivate==true){var o=V(b);var v=o.getEncodedHex();if(k===undefined){k="DES-EDE3-CBC"}return this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",v,T,k)}if(m=="PKCS5PRV"&&typeof Ext.crypto.DSA!="undefined"&&b instanceof Ext.crypto.DSA&&(T!==undefined&&T!=null)&&b.isPrivate==true){var o=S(b);var v=o.getEncodedHex();if(k===undefined){k="DES-EDE3-CBC"}return this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",v,T,k)}var l=function(y,x){var w=c(y,x);var s=new Ext.asn1.ASN1Util.newObject({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:w.pbkdf2Salt}},{"int":w.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:w.encryptionSchemeIV}}]}]}]},{octstr:{hex:w.ciphertext}}]});return s.getEncodedHex()};var c=function(F,w){var y=100;var E=CryptoJS.lib.WordArray.random(8);var D="DES-EDE3-CBC";var s=CryptoJS.lib.WordArray.random(8);var A=CryptoJS.PBKDF2(w,E,{keySize:192/32,iterations:y});var B=CryptoJS.enc.Hex.parse(F);var C=CryptoJS.TripleDES.encrypt(B,A,{iv:s})+"";var x={};x.ciphertext=C;x.pbkdf2Salt=CryptoJS.enc.Hex.stringify(E);x.pbkdf2Iter=y;x.encryptionSchemeAlg=D;x.encryptionSchemeIV=CryptoJS.enc.Hex.stringify(s);return x};if(m=="PKCS8PRV"&&typeof RSAKey!="undefined"&&b instanceof RSAKey&&b.isPrivate==true){var f=U(b);var d=f.getEncodedHex();var o=Ext.asn1.ASN1Util.newObject({seq:[{"int":0},{seq:[{oid:{name:"rsaEncryption"}},{"null":true}]},{octstr:{hex:d}}]});var v=o.getEncodedHex();if(T===undefined||T==null){return R.ASN1Util.getPEMStringFromHex(v,"PRIVATE KEY")}else{var r=l(v,T);return R.ASN1Util.getPEMStringFromHex(r,"ENCRYPTED PRIVATE KEY")}}if(m=="PKCS8PRV"&&typeof Ext.crypto.ECDSA!="undefined"&&b instanceof Ext.crypto.ECDSA&&b.isPrivate==true){var f=new Ext.asn1.ASN1Util.newObject({seq:[{"int":1},{octstr:{hex:b.prvKeyHex}},{tag:["a1",true,{bitstr:{hex:"00"+b.pubKeyHex}}]}]});var d=f.getEncodedHex();var o=Ext.asn1.ASN1Util.newObject({seq:[{"int":0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:b.curveName}}]},{octstr:{hex:d}}]});var v=o.getEncodedHex();if(T===undefined||T==null){return R.ASN1Util.getPEMStringFromHex(v,"PRIVATE KEY")}else{var r=l(v,T);return R.ASN1Util.getPEMStringFromHex(r,"ENCRYPTED PRIVATE KEY")}}if(m=="PKCS8PRV"&&typeof Ext.crypto.DSA!="undefined"&&b instanceof Ext.crypto.DSA&&b.isPrivate==true){var f=new Ext.asn1.DERInteger({bigint:b.x});var d=f.getEncodedHex();var o=Ext.asn1.ASN1Util.newObject({seq:[{"int":0},{seq:[{oid:{name:"dsa"}},{seq:[{"int":{bigint:b.p}},{"int":{bigint:b.q}},{"int":{bigint:b.g}}]}]},{octstr:{hex:d}}]});var v=o.getEncodedHex();if(T===undefined||T==null){return R.ASN1Util.getPEMStringFromHex(v,"PRIVATE KEY")}else{var r=l(v,T);return R.ASN1Util.getPEMStringFromHex(r,"ENCRYPTED PRIVATE KEY")}}throw"unsupported object nor format"};KEYUTIL.getKeyFromCSRPEM=function(j){var c=ASN1HEX.pemToHex(j,"CERTIFICATE REQUEST");var b=KEYUTIL.getKeyFromCSRHex(c);return b};KEYUTIL.getKeyFromCSRHex=function(c){var b=KEYUTIL.parseCSRHex(c);var j=KEYUTIL.getKey(b.p8pubkeyhex,null,"pkcs8pub");return j};KEYUTIL.parseCSRHex=function(b){var n={};var d=b;if(d.substr(0,2)!="30"){throw"malformed CSR(code:001)"}var c=ASN1HEX.getPosArrayOfChildren_AtObj(d,0);if(c.length<1){throw"malformed CSR(code:002)"}if(d.substr(c[0],2)!="30"){throw"malformed CSR(code:003)"}var m=ASN1HEX.getPosArrayOfChildren_AtObj(d,c[0]);if(m.length<3){throw"malformed CSR(code:004)"}n.p8pubkeyhex=ASN1HEX.getHexOfTLV_AtObj(d,m[2]);return n};KEYUTIL.getJWKFromKey=function(c){var l={};if(c instanceof RSAKey&&c.isPrivate){l.kty="RSA";l.n=hextob64u(c.n.toString(16));l.e=hextob64u(c.e.toString(16));l.d=hextob64u(c.d.toString(16));l.p=hextob64u(c.p.toString(16));l.q=hextob64u(c.q.toString(16));l.dp=hextob64u(c.dmp1.toString(16));l.dq=hextob64u(c.dmq1.toString(16));l.qi=hextob64u(c.coeff.toString(16));return l}else{if(c instanceof RSAKey&&c.isPublic){l.kty="RSA";l.n=hextob64u(c.n.toString(16));l.e=hextob64u(c.e.toString(16));return l}else{if(c instanceof Ext.crypto.ECDSA&&c.isPrivate){var d=c.getShortNISTPCurveName();if(d!=="P-256"&&d!=="P-384"){throw"unsupported curve name for JWT: "+d}var b=c.getPublicKeyXYHex();l.kty="EC";l.crv=d;l.x=hextob64u(b.x);l.y=hextob64u(b.y);l.d=hextob64u(c.prvKeyHex);return l}else{if(c instanceof Ext.crypto.ECDSA&&c.isPublic){var d=c.getShortNISTPCurveName();if(d!=="P-256"&&d!=="P-384"){throw"unsupported curve name for JWT: "+d}var b=c.getPublicKeyXYHex();l.kty="EC";l.crv=d;l.x=hextob64u(b.x);l.y=hextob64u(b.y);return l}}}}throw"not supported key object"};RSAKey.pemToBase64=function(f){var b=f;b=b.replace("-----BEGIN RSA PRIVATE KEY-----","");b=b.replace("-----END RSA PRIVATE KEY-----","");b=b.replace(/[ \n]+/g,"");return b};RSAKey.getPosArrayOfChildrenFromHex=function(b){var f=new Array();var d=ASN1HEX.getStartPosOfV_AtObj(b,0);var k=ASN1HEX.getPosOfNextSibling_AtObj(b,d);var A=ASN1HEX.getPosOfNextSibling_AtObj(b,k);var B=ASN1HEX.getPosOfNextSibling_AtObj(b,A);var j=ASN1HEX.getPosOfNextSibling_AtObj(b,B);var g=ASN1HEX.getPosOfNextSibling_AtObj(b,j);var y=ASN1HEX.getPosOfNextSibling_AtObj(b,g);var l=ASN1HEX.getPosOfNextSibling_AtObj(b,y);var c=ASN1HEX.getPosOfNextSibling_AtObj(b,l);f.push(d,k,A,B,j,g,y,l,c);return f};RSAKey.getHexValueArrayOfChildrenFromHex=function(B){var f=RSAKey.getPosArrayOfChildrenFromHex(B);var m=ASN1HEX.getHexOfV_AtObj(B,f[0]);var c=ASN1HEX.getHexOfV_AtObj(B,f[1]);var g=ASN1HEX.getHexOfV_AtObj(B,f[2]);var k=ASN1HEX.getHexOfV_AtObj(B,f[3]);var D=ASN1HEX.getHexOfV_AtObj(B,f[4]);var C=ASN1HEX.getHexOfV_AtObj(B,f[5]);var j=ASN1HEX.getHexOfV_AtObj(B,f[6]);var d=ASN1HEX.getHexOfV_AtObj(B,f[7]);var l=ASN1HEX.getHexOfV_AtObj(B,f[8]);var b=new Array();b.push(m,c,g,k,D,C,j,d,l);return b};RSAKey.prototype.readPrivateKeyFromPEMString=function(d){var b=RSAKey.pemToBase64(d);var c=b64tohex(b);var l=RSAKey.getHexValueArrayOfChildrenFromHex(c);this.setPrivateEx(l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8])};RSAKey.prototype.readPrivateKeyFromASN1HexString=function(c){this.readPKCS5PrvKeyHex(c)};RSAKey.prototype.readPKCS5PrvKeyHex=function(b){var c=RSAKey.getHexValueArrayOfChildrenFromHex(b);this.setPrivateEx(c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8])};RSAKey.prototype.readPKCS8PrvKeyHex=function(B){var l,c,f,k,g,C,m,d;var j=ASN1HEX;var D=j.getVbyList;if(j.isASN1HEX(B)===false){throw"not ASN.1 hex string"}try{l=D(B,0,[2,0,1],"02");c=D(B,0,[2,0,2],"02");f=D(B,0,[2,0,3],"02");k=D(B,0,[2,0,4],"02");g=D(B,0,[2,0,5],"02");C=D(B,0,[2,0,6],"02");m=D(B,0,[2,0,7],"02");d=D(B,0,[2,0,8],"02")}catch(b){throw"malformed PKCS#8 plain RSA private key"}this.setPrivateEx(l,c,f,k,g,C,m,d)};RSAKey.prototype.readPKCS5PubKeyHex=function(l){if(ASN1HEX.isASN1HEX(l)===false){throw"keyHex is not ASN.1 hex string"}var d=ASN1HEX.getPosArrayOfChildren_AtObj(l,0);if(d.length!==2||l.substr(d[0],2)!=="02"||l.substr(d[1],2)!=="02"){throw"wrong hex for PKCS#5 public key"}var c=ASN1HEX.getHexOfV_AtObj(l,d[0]);var b=ASN1HEX.getHexOfV_AtObj(l,d[1]);this.setPublic(c,b)};RSAKey.prototype.readPKCS8PubKeyHex=function(f){if(ASN1HEX.isASN1HEX(f)===false){throw"not ASN.1 hex string"}if(ASN1HEX.getDecendantHexTLVByNthList(f,0,[0,0])!=="06092a864886f70d010101"){throw"not PKCS8 RSA public key"}var b=ASN1HEX.getDecendantHexTLVByNthList(f,0,[1,0]);this.readPKCS5PubKeyHex(b)};RSAKey.prototype.readCertPubKeyHex=function(j,b){if(b!==5){b=6}if(ASN1HEX.isASN1HEX(j)===false){throw"not ASN.1 hex string"}var c=ASN1HEX.getDecendantHexTLVByNthList(j,0,[0,b]);this.readPKCS8PubKeyHex(c)};var _RE_HEXDECONLY=new RegExp("");_RE_HEXDECONLY.compile("[^0-9a-f]","gi");function _rsasign_getHexPaddedDigestInfoForString(c,d,m){var n=function(f){return Ext.crypto.Util.hashString(f,m)};var b=n(c);return Ext.crypto.Util.getPaddedDigestInfoHex(b,m,d)}function _zeroPaddingOfSignature(d,c){var b="";var m=c/4-d.length;for(var n=0;n<m;n++){b=b+"0"}return b+d}function _rsasign_signString(c,d){var l=function(f){return Ext.crypto.Util.hashString(f,d)};var b=l(c);return this.signWithMessageHash(b,d)}function _rsasign_signWithMessageHash(c,p){var d=Ext.crypto.Util.getPaddedDigestInfoHex(c,p,this.n.bitLength());var o=parseBigInt(d,16);var b=this.doPrivate(o);var f=b.toString(16);return _zeroPaddingOfSignature(f,this.n.bitLength())}function _rsasign_signStringWithSHA1(c){return _rsasign_signString.call(this,c,"sha1")}function _rsasign_signStringWithSHA256(c){return _rsasign_signString.call(this,c,"sha256")}function pss_mgf1_str(b,m,d){var n="",c=0;while(n.length<m){n+=hextorstr(d(rstrtohex(b+String.fromCharCode.apply(String,[(c&4278190080)>>24,(c&16711680)>>16,(c&65280)>>8,c&255]))));c+=1}return n}function _rsasign_signStringPSS(d,m,c){var b=function(f){return Ext.crypto.Util.hashHex(f,m)};var n=b(rstrtohex(d));if(c===undefined){c=-1}return this.signWithMessageHashPSS(n,m,c)}function _rsasign_signWithMessageHashPSS(k,l,j){var o=hextorstr(k);var d=o.length;var m=this.n.bitLength()-1;var q=Math.ceil(m/8);var J;var p=function(r){return Ext.crypto.Util.hashHex(r,l)};if(j===-1||j===undefined){j=d}else{if(j===-2){j=q-d-2}else{if(j<-2){throw"invalid salt length"}}}if(q<(d+j+2)){throw"data too long"}var c="";if(j>0){c=new Array(j);new SecureRandom().nextBytes(c);c=String.fromCharCode.apply(String,c)}var n=hextorstr(p(rstrtohex("\x00\x00\x00\x00\x00\x00\x00\x00"+o+c)));var g=[];for(J=0;J<q-j-d-2;J+=1){g[J]=0}var L=String.fromCharCode.apply(String,g)+"\x01"+c;var f=pss_mgf1_str(n,L.length,p);var b=[];for(J=0;J<L.length;J+=1){b[J]=L.charCodeAt(J)^f.charCodeAt(J)}var K=(65280>>(8*q-m))&255;b[0]&=~K;for(J=0;J<d;J++){b.push(n.charCodeAt(J))}b.push(188);return _zeroPaddingOfSignature(this.doPrivate(new BigInteger(b)).toString(16),this.n.bitLength())}function _rsasign_getDecryptSignatureBI(m,c,b){var n=new RSAKey();n.setPublic(c,b);var d=n.doPublic(m);return d}function _rsasign_getHexDigestInfoFromSig(m,b,n){var d=_rsasign_getDecryptSignatureBI(m,b,n);var c=d.toString(16).replace(/^1f+00/,"");return c}function _rsasign_getAlgNameAndHashFromHexDisgestInfo(f){for(var d in Ext.crypto.Util.DIGESTINFOHEAD){var c=Ext.crypto.Util.DIGESTINFOHEAD[d];var n=c.length;if(f.substring(0,n)==c){var b=[d,f.substring(n)];return b}}return[]}function _rsasign_verifySignatureWithArgs(f,y,g,w){var d=_rsasign_getHexDigestInfoFromSig(y,g,w);var j=_rsasign_getAlgNameAndHashFromHexDisgestInfo(d);if(j.length==0){return false}var c=j[0];var v=j[1];var x=function(k){return Ext.crypto.Util.hashString(k,c)};var b=x(f);return(v==b)}function _rsasign_verifyHexSignatureForMessage(b,l){var c=parseBigInt(b,16);var d=_rsasign_verifySignatureWithArgs(l,c,this.n.toString(16),this.e.toString(16));return d}function _rsasign_verifyString(f,w){w=w.replace(_RE_HEXDECONLY,"");w=w.replace(/[ \n]+/g,"");var y=parseBigInt(w,16);if(y.bitLength()>this.n.bitLength()){return 0}var v=this.doPublic(y);var d=v.toString(16).replace(/^1f+00/,"");var g=_rsasign_getAlgNameAndHashFromHexDisgestInfo(d);if(g.length==0){return false}var c=g[0];var j=g[1];var x=function(k){return Ext.crypto.Util.hashString(k,c)};var b=x(f);return(j==b)}function _rsasign_verifyWithMessageHash(s,d){d=d.replace(_RE_HEXDECONLY,"");d=d.replace(/[ \n]+/g,"");var f=parseBigInt(d,16);if(f.bitLength()>this.n.bitLength()){return 0}var c=this.doPublic(f);var b=c.toString(16).replace(/^1f+00/,"");var g=_rsasign_getAlgNameAndHashFromHexDisgestInfo(b);if(g.length==0){return false}var r=g[0];var u=g[1];return(u==s)}function _rsasign_verifyStringPSS(p,o,f,d){var c=function(g){return Ext.crypto.Util.hashHex(g,f)};var b=c(rstrtohex(p));if(d===undefined){d=-1}return this.verifyWithMessageHashPSS(b,o,f,d)}function _rsasign_verifyWithMessageHashPSS(l,q,N,d){var s=new BigInteger(q,16);if(s.bitLength()>this.n.bitLength()){return false}var o=function(u){return Ext.crypto.Util.hashHex(u,N)};var r=hextorstr(l);var p=r.length;var n=this.n.bitLength()-1;var O=Math.ceil(n/8);var m;if(d===-1||d===undefined){d=p}else{if(d===-2){d=O-p-2}else{if(d<-2){throw"invalid salt length"}}}if(O<(p+d+2)){throw"data too long"}var b=this.doPublic(s).toByteArray();for(m=0;m<b.length;m+=1){b[m]&=255}while(b.length<O){b.unshift(0)}if(b[O-1]!==188){throw"encoded message does not end in 0xbc"}b=String.fromCharCode.apply(String,b);var f=b.substr(0,O-p-1);var j=b.substr(f.length,p);var k=(65280>>(8*O-n))&255;if((f.charCodeAt(0)&k)!==0){throw"bits beyond keysize not zero"}var P=pss_mgf1_str(j,f.length,o);var g=[];for(m=0;m<f.length;m+=1){g[m]=f.charCodeAt(m)^P.charCodeAt(m)}g[0]&=~k;var c=O-p-d-2;for(m=0;m<c;m+=1){if(g[m]!==0){throw"leftmost octets not zero"}}if(g[c]!==1){throw"0x01 marker not found"}return j===hextorstr(o(rstrtohex("\x00\x00\x00\x00\x00\x00\x00\x00"+r+String.fromCharCode.apply(String,g.slice(-d)))))}RSAKey.prototype.signWithMessageHash=_rsasign_signWithMessageHash;RSAKey.prototype.signString=_rsasign_signString;RSAKey.prototype.signStringWithSHA1=_rsasign_signStringWithSHA1;RSAKey.prototype.signStringWithSHA256=_rsasign_signStringWithSHA256;RSAKey.prototype.sign=_rsasign_signString;RSAKey.prototype.signWithSHA1=_rsasign_signStringWithSHA1;RSAKey.prototype.signWithSHA256=_rsasign_signStringWithSHA256;RSAKey.prototype.signWithMessageHashPSS=_rsasign_signWithMessageHashPSS;RSAKey.prototype.signStringPSS=_rsasign_signStringPSS;RSAKey.prototype.signPSS=_rsasign_signStringPSS;RSAKey.SALT_LEN_HLEN=-1;RSAKey.SALT_LEN_MAX=-2;RSAKey.prototype.verifyWithMessageHash=_rsasign_verifyWithMessageHash;RSAKey.prototype.verifyString=_rsasign_verifyString;RSAKey.prototype.verifyHexSignatureForMessage=_rsasign_verifyHexSignatureForMessage;RSAKey.prototype.verify=_rsasign_verifyString;RSAKey.prototype.verifyHexSignatureForByteArrayMessage=_rsasign_verifyHexSignatureForMessage;RSAKey.prototype.verifyWithMessageHashPSS=_rsasign_verifyWithMessageHashPSS;RSAKey.prototype.verifyStringPSS=_rsasign_verifyStringPSS;RSAKey.prototype.verifyPSS=_rsasign_verifyStringPSS;RSAKey.SALT_LEN_RECOVER=-2;function X509(){this.subjectPublicKeyRSA=null;this.subjectPublicKeyRSA_hN=null;this.subjectPublicKeyRSA_hE=null;this.hex=null;this.getSerialNumberHex=function(){return ASN1HEX.getDecendantHexVByNthList(this.hex,0,[0,1])};this.getSignatureAlgorithmField=function(){var j=ASN1HEX.getDecendantHexVByNthList(this.hex,0,[0,2,0]);var c=Ext.asn1.ASN1Util.oidHexToInt(j);var b=Ext.asn1.x509.OID.oid2name(c);return b};this.getIssuerHex=function(){return ASN1HEX.getDecendantHexTLVByNthList(this.hex,0,[0,3])};this.getIssuerString=function(){return X509.hex2dn(ASN1HEX.getDecendantHexTLVByNthList(this.hex,0,[0,3]))};this.getSubjectHex=function(){return ASN1HEX.getDecendantHexTLVByNthList(this.hex,0,[0,5])};this.getSubjectString=function(){return X509.hex2dn(ASN1HEX.getDecendantHexTLVByNthList(this.hex,0,[0,5]))};this.getNotBefore=function(){var c=ASN1HEX.getDecendantHexVByNthList(this.hex,0,[0,4,0]);c=c.replace(/(..)/g,"%$1");c=decodeURIComponent(c);return c};this.getNotAfter=function(){var c=ASN1HEX.getDecendantHexVByNthList(this.hex,0,[0,4,1]);c=c.replace(/(..)/g,"%$1");c=decodeURIComponent(c);return c};this.readCertPEM=function(b){var d=ASN1HEX.pemToHex(b);var l=X509.getPublicKeyHexArrayFromCertHex(d);var c=new RSAKey();c.setPublic(l[0],l[1]);this.subjectPublicKeyRSA=c;this.subjectPublicKeyRSA_hN=l[0];this.subjectPublicKeyRSA_hE=l[1];this.hex=d};this.readCertPEMWithoutRSAInit=function(b){var c=ASN1HEX.pemToHex(b);var d=X509.getPublicKeyHexArrayFromCertHex(c);if(typeof this.subjectPublicKeyRSA.setPublic==="function"){this.subjectPublicKeyRSA.setPublic(d[0],d[1])}this.subjectPublicKeyRSA_hN=d[0];this.subjectPublicKeyRSA_hE=d[1];this.hex=c};this.getInfo=function(){var f="Basic Fields\n";f+="  serial number: "+this.getSerialNumberHex()+"\n";f+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n";f+="  issuer: "+this.getIssuerString()+"\n";f+="  notBefore: "+this.getNotBefore()+"\n";f+="  notAfter: "+this.getNotAfter()+"\n";f+="  subject: "+this.getSubjectString()+"\n";f+="  subject public key info: \n";var l=X509.getSubjectPublicKeyInfoPosFromCertHex(this.hex);var b=ASN1HEX.getHexOfTLV_AtObj(this.hex,l);var J=KEYUTIL.getKey(b,null,"pkcs8pub");if(J instanceof RSAKey){f+="    key algorithm: RSA\n";f+="    n="+J.n.toString(16).substr(0,16)+"...\n";f+="    e="+J.e.toString(16)+"\n"}f+="X509v3 Extensions:\n";var p=X509.getV3ExtInfoListOfCertHex(this.hex);for(var d=0;d<p.length;d++){var H=p[d];var c=Ext.asn1.x509.OID.oid2name(H.oid);if(c===""){c=H.oid}var m="";if(H.critical===true){m="CRITICAL"}f+="  "+c+" "+m+":\n";if(c==="basicConstraints"){var j=X509.getExtBasicConstraints(this.hex);if(j.cA===undefined){f+="    {}\n"}else{f+="    cA=true";if(j.pathLen!==undefined){f+=", pathLen="+j.pathLen}f+="\n"}}else{if(c==="keyUsage"){f+="    "+X509.getExtKeyUsageString(this.hex)+"\n"}else{if(c==="subjectKeyIdentifier"){f+="    "+X509.getExtSubjectKeyIdentifier(this.hex)+"\n"}else{if(c==="authorityKeyIdentifier"){var o=X509.getExtAuthorityKeyIdentifier(this.hex);if(o.kid!==undefined){f+="    kid="+o.kid+"\n"}}else{if(c==="extKeyUsage"){var k=X509.getExtExtKeyUsageName(this.hex);f+="    "+k.join(", ")+"\n"}else{if(c==="subjectAltName"){var g=X509.getExtSubjectAltName(this.hex);f+="    "+g.join(", ")+"\n"}else{if(c==="cRLDistributionPoints"){var n=X509.getExtCRLDistributionPointsURI(this.hex);f+="    "+n+"\n"}else{if(c==="authorityInfoAccess"){var I=X509.getExtAIAInfo(this.hex);if(I.ocsp!==undefined){f+="    ocsp: "+I.ocsp.join(",")+"\n"}if(I.caissuer!==undefined){f+="    caissuer: "+I.caissuer.join(",")+"\n"}}}}}}}}}}f+="signature algorithm: "+X509.getSignatureAlgorithmName(this.hex)+"\n";f+="signature: "+X509.getSignatureValueHex(this.hex).substr(0,16)+"...\n";return f}}X509.pemToBase64=function(b){var f=b;f=f.replace("-----BEGIN CERTIFICATE-----","");f=f.replace("-----END CERTIFICATE-----","");f=f.replace(/[ \n]+/g,"");return f};X509.pemToHex=function(c){return ASN1HEX.pemToHex(c)};X509.getSubjectPublicKeyPosFromCertHex=function(f){var d=X509.getSubjectPublicKeyInfoPosFromCertHex(f);if(d==-1){return -1}var n=ASN1HEX.getPosArrayOfChildren_AtObj(f,d);if(n.length!=2){return -1}var c=n[1];if(f.substring(c,c+2)!="03"){return -1}var b=ASN1HEX.getStartPosOfV_AtObj(f,c);if(f.substring(b,b+2)!="00"){return -1}return b+2};X509.getSubjectPublicKeyInfoPosFromCertHex=function(c){var b=ASN1HEX.getStartPosOfV_AtObj(c,0);var d=ASN1HEX.getPosArrayOfChildren_AtObj(c,b);if(d.length<1){return -1}if(c.substring(d[0],d[0]+10)=="a003020102"){if(d.length<6){return -1}return d[6]}else{if(d.length<5){return -1}return d[5]}};X509.getPublicKeyHexArrayFromCertHex=function(f){var d=X509.getSubjectPublicKeyPosFromCertHex(f);var n=ASN1HEX.getPosArrayOfChildren_AtObj(f,d);if(n.length!=2){return[]}var c=ASN1HEX.getHexOfV_AtObj(f,n[0]);var b=ASN1HEX.getHexOfV_AtObj(f,n[1]);if(c!=null&&b!=null){return[c,b]}else{return[]}};X509.getHexTbsCertificateFromCert=function(f){var b=ASN1HEX.getStartPosOfV_AtObj(f,0);return b};X509.getPublicKeyHexArrayFromCertPEM=function(b){var c=ASN1HEX.pemToHex(b);var d=X509.getPublicKeyHexArrayFromCertHex(c);return d};X509.hex2dn=function(f,n){if(n===undefined){n=0}if(f.substr(n,2)!=="30"){throw"malformed DN"}var b=new Array();var c=ASN1HEX.getPosArrayOfChildren_AtObj(f,n);for(var d=0;d<c.length;d++){b.push(X509.hex2rdn(f,c[d]))}b=b.map(function(g){return g.replace("/","\\/")});return"/"+b.join("/")};X509.hex2rdn=function(f,n){if(n===undefined){n=0}if(f.substr(n,2)!=="31"){throw"malformed RDN"}var b=new Array();var c=ASN1HEX.getPosArrayOfChildren_AtObj(f,n);for(var d=0;d<c.length;d++){b.push(X509.hex2attrTypeValue(f,c[d]))}b=b.map(function(g){return g.replace("+","\\+")});return b.join("+")};X509.hex2attrTypeValue=function(b,f){if(f===undefined){f=0}if(b.substr(f,2)!=="30"){throw"malformed attribute type and value"}var g=ASN1HEX.getPosArrayOfChildren_AtObj(b,f);if(g.length!==2||b.substr(g[0],2)!=="06"){"malformed attribute type and value"}var r=ASN1HEX.getHexOfV_AtObj(b,g[0]);var c=Ext.asn1.ASN1Util.oidHexToInt(r);var u=Ext.asn1.x509.OID.oid2atype(c);var d=ASN1HEX.getHexOfV_AtObj(b,g[1]);var s=hextorstr(d);return u+"="+s};X509.getPublicKeyFromCertHex=function(g){var d,r,f;var c=6;var q=ASN1HEX;var b=q.getVbyList;f=q.getDecendantHexTLVByNthList(g,0,[0,0]);if(f!=="a003020102"){c=5}r=b(g,0,[0,c,0,0],"06");if(r==="2a864886f70d010101"){d=new RSAKey()}else{if(r==="2a8648ce380401"){d=new Ext.crypto.DSA()}else{if(r==="2a8648ce3d0201"){d=new Ext.crypto.ECDSA()}else{throw"unsupported public key in X.509 cert"}}}d.readCertPubKeyHex(g,c);return d};X509.getPublicKeyFromCertPEM=function(c){var b=ASN1HEX;var j=b.pemToHex(c);return X509.getPublicKeyFromCertHex(j)};X509.getPublicKeyInfoPropOfCertPEM=function(g){var w={};w.algparam=null;var s=ASN1HEX.pemToHex(g);var f=ASN1HEX.getPosArrayOfChildren_AtObj(s,0);if(f.length!=3){throw"malformed X.509 certificate PEM (code:001)"}if(s.substr(f[0],2)!="30"){throw"malformed X.509 certificate PEM (code:002)"}var d=ASN1HEX.getPosArrayOfChildren_AtObj(s,f[0]);var u=6;if(s.substr(d[0],2)!=="a0"){u=5}if(d.length<u+1){throw"malformed X.509 certificate PEM (code:003)"}var b=ASN1HEX.getPosArrayOfChildren_AtObj(s,d[u]);if(b.length!=2){throw"malformed X.509 certificate PEM (code:004)"}var v=ASN1HEX.getPosArrayOfChildren_AtObj(s,b[0]);if(v.length!=2){throw"malformed X.509 certificate PEM (code:005)"}w.algoid=ASN1HEX.getHexOfV_AtObj(s,v[0]);if(s.substr(v[1],2)=="06"){w.algparam=ASN1HEX.getHexOfV_AtObj(s,v[1])}else{if(s.substr(v[1],2)=="30"){w.algparam=ASN1HEX.getHexOfTLV_AtObj(s,v[1])}}if(s.substr(b[1],2)!="03"){throw"malformed X.509 certificate PEM (code:006)"}var c=ASN1HEX.getHexOfV_AtObj(s,b[1]);w.keyhex=c.substr(2);return w};X509.getPublicKeyInfoPosOfCertHEX=function(b){var j=ASN1HEX.getPosArrayOfChildren_AtObj(b,0);if(j.length!=3){throw"malformed X.509 certificate PEM (code:001)"}if(b.substr(j[0],2)!="30"){throw"malformed X.509 certificate PEM (code:002)"}var c=ASN1HEX.getPosArrayOfChildren_AtObj(b,j[0]);if(c.length<7){throw"malformed X.509 certificate PEM (code:003)"}return c[6]};X509.getV3ExtInfoListOfCertHex=function(b){var f=ASN1HEX.getPosArrayOfChildren_AtObj(b,0);if(f.length!=3){throw"malformed X.509 certificate PEM (code:001)"}if(b.substr(f[0],2)!="30"){throw"malformed X.509 certificate PEM (code:002)"}var d=ASN1HEX.getPosArrayOfChildren_AtObj(b,f[0]);if(d.length<8){throw"malformed X.509 certificate PEM (code:003)"}if(b.substr(d[7],2)!="a3"){throw"malformed X.509 certificate PEM (code:004)"}var c=ASN1HEX.getPosArrayOfChildren_AtObj(b,d[7]);if(c.length!=1){throw"malformed X.509 certificate PEM (code:005)"}if(b.substr(c[0],2)!="30"){throw"malformed X.509 certificate PEM (code:006)"}var u=ASN1HEX.getPosArrayOfChildren_AtObj(b,c[0]);var s=u.length;var r=new Array(s);for(var g=0;g<s;g++){r[g]=X509.getV3ExtItemInfo_AtObj(b,u[g])}return r};X509.getV3ExtItemInfo_AtObj=function(c,d){var b={};b.posTLV=d;var f=ASN1HEX.getPosArrayOfChildren_AtObj(c,d);if(f.length!=2&&f.length!=3){throw"malformed X.509v3 Ext (code:001)"}if(c.substr(f[0],2)!="06"){throw"malformed X.509v3 Ext (code:002)"}var p=ASN1HEX.getHexOfV_AtObj(c,f[0]);b.oid=ASN1HEX.hextooidstr(p);b.critical=false;if(f.length==3){b.critical=true}var g=f[f.length-1];if(c.substr(g,2)!="04"){throw"malformed X.509v3 Ext (code:003)"}b.posV=ASN1HEX.getStartPosOfV_AtObj(c,g);return b};X509.getHexOfTLV_V3ExtValue=function(j,c){var b=X509.getPosOfTLV_V3ExtValue(j,c);if(b==-1){return null}return ASN1HEX.getHexOfTLV_AtObj(j,b)};X509.getHexOfV_V3ExtValue=function(j,c){var b=X509.getPosOfTLV_V3ExtValue(j,c);if(b==-1){return null}return ASN1HEX.getHexOfV_AtObj(j,b)};X509.getPosOfTLV_V3ExtValue=function(d,o){var b=o;if(!o.match(/^[0-9.]+$/)){b=Ext.asn1.x509.OID.name2oid(o)}if(b==""){return -1}var p=X509.getV3ExtInfoListOfCertHex(d);for(var f=0;f<p.length;f++){var c=p[f];if(c.oid==b){return c.posV}}return -1};X509.getExtBasicConstraints=function(c){var d=X509.getHexOfV_V3ExtValue(c,"basicConstraints");if(d===null){return null}if(d===""){return{}}if(d==="0101ff"){return{cA:true}}if(d.substr(0,8)==="0101ff02"){var b=ASN1HEX.getHexOfV_AtObj(d,6);var l=parseInt(b,16);return{cA:true,pathLen:l}}throw"unknown error"};X509.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"];X509.getExtKeyUsageBin=function(c){var l=X509.getHexOfV_V3ExtValue(c,"keyUsage");if(l==""){return""}if(l.length%2!=0||l.length<=2){throw"malformed key usage value"}var d=parseInt(l.substr(0,2));var b=parseInt(l.substr(2),16).toString(2);return b.substr(0,b.length-d)};X509.getExtKeyUsageString=function(d){var c=X509.getExtKeyUsageBin(d);var l=new Array();for(var b=0;b<c.length;b++){if(c.substr(b,1)=="1"){l.push(X509.KEYUSAGE_NAME[b])}}return l.join(",")};X509.getExtSubjectKeyIdentifier=function(f){var b=X509.getHexOfV_V3ExtValue(f,"subjectKeyIdentifier");return b};X509.getExtAuthorityKeyIdentifier=function(f){var n={};var d=X509.getHexOfTLV_V3ExtValue(f,"authorityKeyIdentifier");if(d===null){return null}var b=ASN1HEX.getPosArrayOfChildren_AtObj(d,0);for(var c=0;c<b.length;c++){if(d.substr(b[c],2)==="80"){n.kid=ASN1HEX.getHexOfV_AtObj(d,b[c])}}return n};X509.getExtExtKeyUsageName=function(b){var c=new Array();var j=X509.getHexOfTLV_V3ExtValue(b,"extKeyUsage");if(j===null){return null}var d=ASN1HEX.getPosArrayOfChildren_AtObj(j,0);for(var g=0;g<d.length;g++){var u=ASN1HEX.getHexOfV_AtObj(j,d[g]);var k=Ext.asn1.ASN1Util.oidHexToInt(u);var f=Ext.asn1.x509.OID.oid2name(k);c.push(f)}return c};X509.getExtSubjectAltName=function(d){var f=new Array();var c=X509.getHexOfTLV_V3ExtValue(d,"subjectAltName");var g=ASN1HEX.getPosArrayOfChildren_AtObj(c,0);for(var b=0;b<g.length;b++){if(c.substr(g[b],2)==="82"){var p=hextoutf8(ASN1HEX.getHexOfV_AtObj(c,g[b]));f.push(p)}}return f};X509.getExtCRLDistributionPointsURI=function(b){var k=new Array();var o=X509.getHexOfTLV_V3ExtValue(b,"cRLDistributionPoints");var d=ASN1HEX.getPosArrayOfChildren_AtObj(o,0);for(var n=0;n<d.length;n++){var p=ASN1HEX.getHexOfTLV_AtObj(o,d[n]);var c=ASN1HEX.getPosArrayOfChildren_AtObj(p,0);for(var l=0;l<c.length;l++){if(p.substr(c[l],2)==="a0"){var m=ASN1HEX.getHexOfV_AtObj(p,c[l]);if(m.substr(0,2)==="a0"){var f=ASN1HEX.getHexOfV_AtObj(m,0);if(f.substr(0,2)==="86"){var D=ASN1HEX.getHexOfV_AtObj(f,0);var g=hextoutf8(D);k.push(g)}}}}}return k};X509.getExtAIAInfo=function(j){var v={};v.ocsp=[];v.caissuer=[];var u=X509.getPosOfTLV_V3ExtValue(j,"authorityInfoAccess");if(u==-1){return null}if(j.substr(u,2)!="30"){throw"malformed AIA Extn Value"}var d=ASN1HEX.getPosArrayOfChildren_AtObj(j,u);for(var c=0;c<d.length;c++){var w=d[c];var b=ASN1HEX.getPosArrayOfChildren_AtObj(j,w);if(b.length!=2){throw"malformed AccessDescription of AIA Extn"}var f=b[0];var g=b[1];if(ASN1HEX.getHexOfV_AtObj(j,f)=="2b06010505073001"){if(j.substr(g,2)=="86"){v.ocsp.push(hextoutf8(ASN1HEX.getHexOfV_AtObj(j,g)))}}if(ASN1HEX.getHexOfV_AtObj(j,f)=="2b06010505073002"){if(j.substr(g,2)=="86"){v.caissuer.push(hextoutf8(ASN1HEX.getHexOfV_AtObj(j,g)))}}}return v};X509.getSignatureAlgorithmName=function(c){var l=ASN1HEX.getDecendantHexVByNthList(c,0,[1,0]);var d=Ext.asn1.ASN1Util.oidHexToInt(l);var b=Ext.asn1.x509.OID.oid2name(d);return b};X509.getSignatureValueHex=function(f){var b=ASN1HEX.getDecendantHexVByNthList(f,0,[2]);if(b.substr(0,2)!=="00"){throw"can't get signature value"}return b.substr(2)};X509.getSerialNumberHex=function(c){return ASN1HEX.getDecendantHexVByNthList(c,0,[0,1])};if(typeof Ext=="undefined"||!Ext){Ext={}}if(typeof Ext.utils=="undefined"||!Ext.utils){Ext.utils={}}Ext.utils.JWS=function(){var c=Ext.utils.JWS;this.parseJWS=function(B,d){if((this.parsedJWS!==undefined)&&(d||(this.parsedJWS.sigvalH!==undefined))){return}var b=B.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(b==null){throw"JWS signature is not a form of 'Head.Payload.SigValue'."}var f=b[1];var y=b[2];var g=b[3];var k=f+"."+y;this.parsedJWS={};this.parsedJWS.headB64U=f;this.parsedJWS.payloadB64U=y;this.parsedJWS.sigvalB64U=g;this.parsedJWS.si=k;if(!d){var C=b64utohex(g);var A=parseBigInt(C,16);this.parsedJWS.sigvalH=C;this.parsedJWS.sigvalBI=A}var l=b64utoutf8(f);var j=b64utoutf8(y);this.parsedJWS.headS=l;this.parsedJWS.payloadS=j;if(!c.isSafeJSONString(l,this.parsedJWS,"headP")){throw"malformed JSON string for JWS Head: "+l}}};Ext.utils.JWS.sign=function(k,f,p,n,l){var j=Ext.utils.JWS;var c,L,g;if(typeof f!="string"&&typeof f!="object"){throw"spHeader must be JSON string or object: "+f}if(typeof f=="object"){L=f;c=JSON.stringify(L)}if(typeof f=="string"){c=f;if(!j.isSafeJSONString(c)){throw"JWS Head is not safe JSON string: "+c}L=j.readSafeJSONString(c)}g=p;if(typeof p=="object"){g=JSON.stringify(p)}if((k==""||k==null)&&L.alg!==undefined){k=L.alg}if((k!=""&&k!=null)&&L.alg===undefined){L.alg=k;c=JSON.stringify(L)}if(k!==L.alg){throw"alg and sHeader.alg doesn't match: "+k+"!="+L.alg}var K=null;if(j.jwsalg2sigalg[k]===undefined){throw"unsupported alg name: "+k}else{K=j.jwsalg2sigalg[k]}var m=utf8tob64u(c);var b=utf8tob64u(g);var q=m+"."+b;var o="";if(K.substr(0,4)=="Hmac"){if(n===undefined){throw"mac key shall be specified for HS* alg"}var d=new Ext.crypto.Mac({alg:K,prov:"cryptojs",pass:n});d.updateString(q);o=d.doFinal()}else{if(K.indexOf("withECDSA")!=-1){var N=new Ext.crypto.Signature({alg:K});N.init(n,l);N.updateString(q);hASN1Sig=N.sign();o=Ext.crypto.ECDSA.asn1SigToConcatSig(hASN1Sig)}else{if(K!="none"){var N=new Ext.crypto.Signature({alg:K});N.init(n,l);N.updateString(q);o=N.sign()}}}var M=hextob64u(o);return q+"."+M};Ext.utils.JWS.verify=function(j,r,q){var P=Ext.utils.JWS;var l=j.split(".");var d=l[0];var O=l[1];var b=d+"."+O;var n=b64utohex(l[2]);var o=P.readSafeJSONString(b64utoutf8(l[0]));var m=null;var p=null;if(o.alg===undefined){throw"algorithm not specified in header"}else{m=o.alg;p=m.substr(0,2)}if(q!=null&&Object.prototype.toString.call(q)==="[object Array]"&&q.length>0){var c=":"+q.join(":")+":";if(c.indexOf(":"+m+":")==-1){throw"algorithm '"+m+"' not accepted in the list"}}if(m!="none"&&r===null){throw"key shall be specified to verify."}if(typeof r=="string"&&r.indexOf("-----BEGIN ")!=-1){r=KEYUTIL.getKey(r)}if(p=="RS"||p=="PS"){if(!(r instanceof RSAKey)){throw"key shall be a RSAKey obj for RS* and PS* algs"}}if(p=="ES"){if(!(r instanceof Ext.crypto.ECDSA)){throw"key shall be a ECDSA obj for ES* algs"}}if(m=="none"){}var Q=null;if(P.jwsalg2sigalg[o.alg]===undefined){throw"unsupported alg name: "+m}else{Q=P.jwsalg2sigalg[m]}if(Q=="none"){throw"not supported"}else{if(Q.substr(0,4)=="Hmac"){var s=null;if(r===undefined){throw"hexadecimal key shall be specified for HMAC"}var k=new Ext.crypto.Mac({alg:Q,pass:r});k.updateString(b);s=k.doFinal();return n==s}else{if(Q.indexOf("withECDSA")!=-1){var g=null;try{g=Ext.crypto.ECDSA.concatSigToASN1Sig(n)}catch(R){return false}var f=new Ext.crypto.Signature({alg:Q});f.init(r);f.updateString(b);return f.verify(g)}else{var f=new Ext.crypto.Signature({alg:Q});f.init(r);f.updateString(b);return f.verify(n)}}}};Ext.utils.JWS.parse=function(d){var g=d.split(".");var f={};var c,b,p;if(g.length!=2&&g.length!=3){throw"malformed sJWS: wrong number of '.' splitted elements"}c=g[0];b=g[1];if(g.length==3){p=g[2]}f.headerObj=Ext.utils.JWS.readSafeJSONString(b64utoutf8(c));f.payloadObj=Ext.utils.JWS.readSafeJSONString(b64utoutf8(b));f.headerPP=JSON.stringify(f.headerObj,null,"  ");if(f.payloadObj==null){f.payloadPP=b64utoutf8(b)}else{f.payloadPP=JSON.stringify(f.payloadObj,null,"  ")}if(p!==undefined){f.sigHex=b64utohex(p)}return f};Ext.utils.JWS.verifyJWT=function(l,c,g){var D=Ext.utils.JWS;var b=l.split(".");var k=b[0];var C=b[1];var j=k+"."+C;var d=b64utohex(b[2]);var B=D.readSafeJSONString(b64utoutf8(k));var m=D.readSafeJSONString(b64utoutf8(C));if(B.alg===undefined){return false}if(g.alg===undefined){throw"acceptField.alg shall be specified"}if(!D.inArray(B.alg,g.alg)){return false}if(m.iss!==undefined&&typeof g.iss==="object"){if(!D.inArray(m.iss,g.iss)){return false}}if(m.sub!==undefined&&typeof g.sub==="object"){if(!D.inArray(m.sub,g.sub)){return false}}if(m.aud!==undefined&&typeof g.aud==="object"){if(typeof m.aud=="string"){if(!D.inArray(m.aud,g.aud)){return false}}else{if(typeof m.aud=="object"){if(!D.includedArray(m.aud,g.aud)){return false}}}}var f=Ext.utils.IntDate.getNow();if(g.verifyAt!==undefined&&typeof g.verifyAt==="number"){f=g.verifyAt}if(g.gracePeriod===undefined||typeof g.gracePeriod!=="number"){g.gracePeriod=0}if(m.exp!==undefined&&typeof m.exp=="number"){if(m.exp+g.gracePeriod<f){return false}}if(m.nbf!==undefined&&typeof m.nbf=="number"){if(f<m.nbf-g.gracePeriod){return false}}if(m.iat!==undefined&&typeof m.iat=="number"){if(f<m.iat-g.gracePeriod){return false}}if(m.jti!==undefined&&g.jti!==undefined){if(m.jti!==g.jti){return false}}if(!Ext.utils.JWS.verify(l,c,g.alg)){return false}return true};Ext.utils.JWS.includedArray=function(l,d){var c=Ext.utils.JWS.inArray;if(l===null){return false}if(typeof l!=="object"){return false}if(typeof l.length!=="number"){return false}for(var b=0;b<l.length;b++){if(!c(l[b],d)){return false}}return true};Ext.utils.JWS.inArray=function(c,d){if(d===null){return false}if(typeof d!=="object"){return false}if(typeof d.length!=="number"){return false}for(var b=0;b<d.length;b++){if(d[b]==c){return true}}return false};Ext.utils.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"};Ext.utils.JWS.isSafeJSONString=function(b,n,c){var d=null;try{d=jsonParse(b);if(typeof d!="object"){return 0}if(d.constructor===Array){return 0}if(n){n[c]=d}return 1}catch(m){return 0}};Ext.utils.JWS.readSafeJSONString=function(j){var b=null;try{b=jsonParse(j);if(typeof b!="object"){return null}if(b.constructor===Array){return null}return b}catch(c){return null}};Ext.utils.JWS.getEncodedSignatureValueFromJWS=function(f){var b=f.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(b==null){throw"JWS signature is not a form of 'Head.Payload.SigValue'."}return b[1]};Ext.utils.JWS.getJWKthumbprint=function(c){if(c.kty!=="RSA"&&c.kty!=="EC"&&c.kty!=="oct"){throw"unsupported algorithm for JWK Thumprint"}var m="{";if(c.kty==="RSA"){if(typeof c.n!="string"||typeof c.e!="string"){throw"wrong n and e value for RSA key"}m+='"e":"'+c.e+'",';m+='"kty":"'+c.kty+'",';m+='"n":"'+c.n+'"}'}else{if(c.kty==="EC"){if(typeof c.crv!="string"||typeof c.x!="string"||typeof c.y!="string"){throw"wrong crv, x and y value for EC key"}m+='"crv":"'+c.crv+'",';m+='"kty":"'+c.kty+'",';m+='"x":"'+c.x+'",';m+='"y":"'+c.y+'"}'}else{if(c.kty==="oct"){if(typeof c.k!="string"){throw"wrong k value for oct(symmetric) key"}m+='"kty":"'+c.kty+'",';m+='"k":"'+c.k+'"}'}}}var n=rstrtohex(m);var b=Ext.crypto.Util.hashHex(n,"sha256");var d=hextob64u(b);return d};Ext.utils.IntDate={};Ext.utils.IntDate.get=function(c){if(c=="now"){return Ext.utils.IntDate.getNow()}else{if(c=="now + 1hour"){return Ext.utils.IntDate.getNow()+60*60}else{if(c=="now + 1day"){return Ext.utils.IntDate.getNow()+60*60*24}else{if(c=="now + 1month"){return Ext.utils.IntDate.getNow()+60*60*24*30}else{if(c=="now + 1year"){return Ext.utils.IntDate.getNow()+60*60*24*365}else{if(c.match(/Z$/)){return Ext.utils.IntDate.getZulu(c)}else{if(c.match(/^[0-9]+$/)){return parseInt(c)}}}}}}}throw"unsupported format: "+c};Ext.utils.IntDate.getZulu=function(w){var y=w.match(/(\d+)(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)Z/);if(y){var x=y[1];var k=parseInt(x);if(x.length==4){}else{if(x.length==2){if(50<=k&&k<100){k=1900+k}else{if(0<=k&&k<50){k=2000+k}else{throw"malformed year string for UTCTime"}}}else{throw"malformed year string"}}var g=parseInt(y[2])-1;var v=parseInt(y[3]);var b=parseInt(y[4]);var c=parseInt(y[5]);var f=parseInt(y[6]);var j=new Date(Date.UTC(k,g,v,b,c,f));return ~~(j/1000)}throw"unsupported format: "+w};Ext.utils.IntDate.getNow=function(){var c=~~(new Date()/1000);return c};Ext.utils.IntDate.intDate2UTCString=function(b){var f=new Date(b*1000);return f.toUTCString()};Ext.utils.IntDate.intDate2Zulu=function(s){var f=new Date(s*1000);var c=("0000"+f.getUTCFullYear()).slice(-4);var b=("00"+(f.getUTCMonth()+1)).slice(-2);var r=("00"+f.getUTCDate()).slice(-2);var g=("00"+f.getUTCHours()).slice(-2);var q=("00"+f.getUTCMinutes()).slice(-2);var u=("00"+f.getUTCSeconds()).slice(-2);return c+b+r+g+q+u+"Z"};if(typeof Ext=="undefined"||!Ext){Ext={}}if(typeof Ext.utils=="undefined"||!Ext.utils){Ext.utils={}}Ext.utils.JWSJS=function(){var f=Ext.utils.JWS;var b=Ext.utils.JWS;this.aHeader=[];this.sPayload="";this.aSignature=[];this.init=function(){this.aHeader=[];this.sPayload=undefined;this.aSignature=[]};this.initWithJWS=function(c){this.init();var d=c.split(".");if(d.length!=3){throw"malformed input JWS"}this.aHeader.push(d[0]);this.sPayload=d[1];this.aSignature.push(d[2])};this.addSignature=function(x,c,l,j){if(this.sPayload===undefined||this.sPayload===null){throw"there's no JSON-JS signature to add."}var k=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length){throw"aHeader.length != aSignature.length"}try{var y=Ext.utils.JWS.sign(x,c,this.sPayload,l,j);var g=y.split(".");var w=g[0];var A=g[2];this.aHeader.push(g[0]);this.aSignature.push(g[2])}catch(d){if(this.aHeader.length>k){this.aHeader.pop()}if(this.aSignature.length>k){this.aSignature.pop()}throw"addSignature failed: "+d}};this.addSignatureByHeaderKey=function(o,d){var n=b64utoutf8(this.sPayload);var g=new Ext.utils.JWS();var c=g.generateJWSByP1PrvKey(o,n,d);this.aHeader.push(g.parsedJWS.headB64U);this.aSignature.push(g.parsedJWS.sigvalB64U)};this.addSignatureByHeaderPayloadKey=function(o,n,d){var g=new Ext.utils.JWS();var c=g.generateJWSByP1PrvKey(o,n,d);this.aHeader.push(g.parsedJWS.headB64U);this.sPayload=g.parsedJWS.payloadB64U;this.aSignature.push(g.parsedJWS.sigvalB64U)};this.verifyAll=function(c){if(this.aHeader.length!==c.length||this.aSignature.length!==c.length){return false}for(var m=0;m<c.length;m++){var l=c[m];if(l.length!==2){return false}var d=this.verifyNth(m,l[0],l[1]);if(d===false){return false}}return true};this.verifyNth=function(s,g,u){if(this.aHeader.length<=s||this.aSignature.length<=s){return false}var v=this.aHeader[s];var j=this.aSignature[s];var d=v+"."+this.sPayload+"."+j;var r=false;try{r=b.verify(d,g,u)}catch(c){return false}return r};this.verifyWithCerts=function(m){if(this.aHeader.length!=m.length){throw"num headers does not match with num certs"}if(this.aSignature.length!=m.length){throw"num signatures does not match with num certs"}var g=this.sPayload;var C="";for(var n=0;n<m.length;n++){var A=m[n];var B=this.aHeader[n];var l=this.aSignature[n];var k=B+"."+g+"."+l;var d=new Ext.utils.JWS();try{var j=d.verifyJWSByPemX509Cert(k,A);if(j!=1){C+=(n+1)+"th signature unmatch. "}}catch(c){C+=(n+1)+"th signature fail("+c+"). "}}if(C==""){return 1}else{throw C}};this.readJWSJS=function(c){if(typeof c==="string"){var j=f.readSafeJSONString(c);if(j==null){throw"argument is not safe JSON object string"}this.aHeader=j.headers;this.sPayload=j.payload;this.aSignature=j.signatures}else{try{if(c.headers.length>0){this.aHeader=c.headers}else{throw"malformed header"}if(typeof c.payload==="string"){this.sPayload=c.payload}else{throw"malformed signatures"}if(c.signatures.length>0){this.signatures=c.signatures}else{throw"malformed signatures"}}catch(d){throw"malformed JWS-JS JSON object: "+d}}};this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}};this.isEmpty=function(){if(this.aHeader.length==0){return 1}return 0}};