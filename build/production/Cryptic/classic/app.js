var Cryptic=Cryptic||{};if(!Cryptic.controller){Cryptic.controller={}}if(!Cryptic.model){Cryptic.model={}}if(!Cryptic.model.profile){Cryptic.model.profile={}}if(!Cryptic.store){Cryptic.store={}}if(!Cryptic.store.profile){Cryptic.store.profile={}}if(!Cryptic.view){Cryptic.view={}}if(!Cryptic.view.login){Cryptic.view.login={}}if(!Cryptic.view.main){Cryptic.view.main={}}var Ext=Ext||{};if(!Ext.Toolbar){Ext.Toolbar={}}if(!Ext.app){Ext.app={}}if(!Ext.app.bind){Ext.app.bind={}}if(!Ext.app.domain){Ext.app.domain={}}if(!Ext.app.route){Ext.app.route={}}if(!Ext.button){Ext.button={}}if(!Ext.container){Ext.container={}}if(!Ext.core){Ext.core={}}if(!Ext.data){Ext.data={}}if(!Ext.data.field){Ext.data.field={}}if(!Ext.data.flash){Ext.data.flash={}}if(!Ext.data.identifier){Ext.data.identifier={}}if(!Ext.data.operation){Ext.data.operation={}}if(!Ext.data.proxy){Ext.data.proxy={}}if(!Ext.data.reader){Ext.data.reader={}}if(!Ext.data.request){Ext.data.request={}}if(!Ext.data.schema){Ext.data.schema={}}if(!Ext.data.validator){Ext.data.validator={}}if(!Ext.data.writer){Ext.data.writer={}}if(!Ext.dd){Ext.dd={}}if(!Ext.dom){Ext.dom={}}if(!Ext.dom.Element){Ext.dom.Element={}}if(!Ext.event){Ext.event={}}if(!Ext.event.gesture){Ext.event.gesture={}}if(!Ext.event.publisher){Ext.event.publisher={}}if(!Ext.form){Ext.form={}}if(!Ext.form.Action){Ext.form.Action={}}if(!Ext.form.action){Ext.form.action={}}if(!Ext.form.field){Ext.form.field={}}if(!Ext.form.trigger){Ext.form.trigger={}}if(!Ext.fx){Ext.fx={}}if(!Ext.fx.animation){Ext.fx.animation={}}if(!Ext.fx.easing){Ext.fx.easing={}}if(!Ext.fx.runner){Ext.fx.runner={}}if(!Ext.fx.target){Ext.fx.target={}}if(!Ext.grid){Ext.grid={}}if(!Ext.grid.column){Ext.grid.column={}}if(!Ext.grid.header){Ext.grid.header={}}if(!Ext.grid.locking){Ext.grid.locking={}}if(!Ext.grid.plugin){Ext.grid.plugin={}}if(!Ext.layout){Ext.layout={}}if(!Ext.layout.boxOverflow){Ext.layout.boxOverflow={}}if(!Ext.layout.component){Ext.layout.component={}}if(!Ext.layout.component.field){Ext.layout.component.field={}}if(!Ext.layout.container){Ext.layout.container={}}if(!Ext.layout.container.border){Ext.layout.container.border={}}if(!Ext.layout.container.boxOverflow){Ext.layout.container.boxOverflow={}}if(!Ext.list){Ext.list={}}if(!Ext.menu){Ext.menu={}}if(!Ext.mixin){Ext.mixin={}}if(!Ext.overrides){Ext.overrides={}}if(!Ext.overrides.app){Ext.overrides.app={}}if(!Ext.overrides.app.domain){Ext.overrides.app.domain={}}if(!Ext.overrides.data){Ext.overrides.data={}}if(!Ext.overrides.data.field){Ext.overrides.data.field={}}if(!Ext.overrides.dom){Ext.overrides.dom={}}if(!Ext.overrides.event){Ext.overrides.event={}}if(!Ext.overrides.event.publisher){Ext.overrides.event.publisher={}}if(!Ext.overrides.form){Ext.overrides.form={}}if(!Ext.overrides.form.field){Ext.overrides.form.field={}}if(!Ext.overrides.list){Ext.overrides.list={}}if(!Ext.overrides.plugin){Ext.overrides.plugin={}}if(!Ext.overrides.util){Ext.overrides.util={}}if(!Ext.panel){Ext.panel={}}if(!Ext.parse){Ext.parse={}}if(!Ext.parse.symbol){Ext.parse.symbol={}}if(!Ext.perf){Ext.perf={}}if(!Ext.picker){Ext.picker={}}if(!Ext.plugin){Ext.plugin={}}if(!Ext.promise){Ext.promise={}}if(!Ext.resizer){Ext.resizer={}}if(!Ext.scroll){Ext.scroll={}}if(!Ext.selection){Ext.selection={}}if(!Ext.state){Ext.state={}}if(!Ext.theme){Ext.theme={}}if(!Ext.theme.neptune){Ext.theme.neptune={}}if(!Ext.theme.neptune.layout){Ext.theme.neptune.layout={}}if(!Ext.theme.neptune.layout.component){Ext.theme.neptune.layout.component={}}if(!Ext.theme.neptune.menu){Ext.theme.neptune.menu={}}if(!Ext.theme.neptune.panel){Ext.theme.neptune.panel={}}if(!Ext.theme.neptune.picker){Ext.theme.neptune.picker={}}if(!Ext.theme.neptune.resizer){Ext.theme.neptune.resizer={}}if(!Ext.theme.neptune.toolbar){Ext.theme.neptune.toolbar={}}if(!Ext.theme.triton){Ext.theme.triton={}}if(!Ext.theme.triton.form){Ext.theme.triton.form={}}if(!Ext.theme.triton.form.field){Ext.theme.triton.form.field={}}if(!Ext.theme.triton.grid){Ext.theme.triton.grid={}}if(!Ext.theme.triton.grid.column){Ext.theme.triton.grid.column={}}if(!Ext.theme.triton.list){Ext.theme.triton.list={}}if(!Ext.theme.triton.menu){Ext.theme.triton.menu={}}if(!Ext.theme.triton.picker){Ext.theme.triton.picker={}}if(!Ext.theme.triton.resizer){Ext.theme.triton.resizer={}}if(!Ext.theme.triton.selection){Ext.theme.triton.selection={}}if(!Ext.tip){Ext.tip={}}if(!Ext.toolbar){Ext.toolbar={}}if(!Ext.util){Ext.util={}}if(!Ext.util.paintmonitor){Ext.util.paintmonitor={}}if(!Ext.util.sizemonitor){Ext.util.sizemonitor={}}if(!Ext.util.translatable){Ext.util.translatable={}}if(!Ext.ux){Ext.ux={}}if(!Ext.ux.layout){Ext.ux.layout={}}if(!Ext.view){Ext.view={}}if(!Ext.window){Ext.window={}}var Smart=Smart||{};if(!Smart.app){Smart.app={}}if(!Smart.data){Smart.data={}}if(!Smart.data.proxy){Smart.data.proxy={}}if(!Smart.ux){Smart.ux={}}if(!Smart.ux.app){Smart.ux.app={}}if(!Smart.ux.classic){Smart.ux.classic={}}if(!Smart.ux.classic.login){Smart.ux.classic.login={}}if(!Smart.ux.classic.main){Smart.ux.classic.main={}}if(!Smart.ux.modern){Smart.ux.modern={}}if(!Smart.ux.modern.login){Smart.ux.modern.login={}}(function(M){var P,F=["constructor","toString","valueOf","toLocaleString"],L={},B={},N=0,E,H,y,J,Q,K,D,O,I,A=function(){var c,b;H=Ext.Base;y=Ext.ClassManager;for(c=F.length;c-->0;){b=(1<<c);B[L[b]=F[c]]=b}for(c in B){N|=B[c]}N=~N;Function.prototype.$isFunction=1;I=!!(y&&y.addAlias);J=Ext.Class.getPreprocessor("config").fn;Q=Ext.Class.getPreprocessor("cachedConfig")&&Ext.Class.getPreprocessor("cachedConfig").fn;K=Ext.Class.getPreprocessor("platformConfig")&&Ext.Class.getPreprocessor("platformConfig").fn;O=Ext.Class.getPreprocessor("privates")&&Ext.Class.getPreprocessor("privates").fn;D=Ext.ClassManager.postprocessors.deprecated&&Ext.ClassManager.postprocessors.deprecated.fn;P=H.$staticMembers;if(!P){P=[];for(E in H){if(H.hasOwnProperty(E)){P.push(E)}}}M.derive=G;return G.apply(this,arguments)},x=function(j,b,k){var e=k.enumerableMembers,m=j.prototype,c,l,d,f,g;if(!b){return}if(I){j.addMembers(b)}else{for(c in b){f=b[c];if(f&&f.$isFunction&&!f.$isClass&&f!==Ext.emptyFn&&f!==Ext.identityFn){g=m.hasOwnProperty(c)&&m[c];if(g){f.$previous=g}m[c]=l=f;l.$owner=j;l.$name=c}else{m[c]=f}}for(d=1;e;d<<=1){if(e&d){e&=~d;c=L[d];m[c]=l=b[c];l.$owner=j;l.$name=c}}}},C=function(d){var c=function f(){return d.apply(this,arguments)||null},b,e;c.prototype=Ext.Object.chain(d.prototype);for(b=P.length;b-->0;){e=P[b];c[e]=H[e]}return c},G=function(ak,ah,ar,af,ai,n,aj,c,am,l,s){var v=function u(){return this.constructor.apply(this,arguments)||null},at=v,an={enumerableMembers:af&N,onCreated:s,onBeforeCreated:x,aliases:c},p=ar.alternateClassName||[],e=Ext.global,k,f,d,q,g,ao,ap,al,j,w,b,m,r,aq,o=y.alternateToName||y.maps.alternateToName,ag=y.nameToAlternates||y.maps.nameToAlternates;for(d=P.length;d-->0;){ap=P[d];v[ap]=H[ap]}if(ar.$isFunction){ar=ar(v)}an.data=ar;w=ar.statics;delete ar.statics;ar.$className=ak;if("$className" in ar){v.$className=ar.$className}v.extend(ah);j=v.prototype;if(ai){v.xtype=ar.xtype=ai[0];j.xtypes=ai}j.xtypesChain=n;j.xtypesMap=aj;ar.alias=c;at.triggerExtended(v,ar,an);if(ar.onClassExtended){v.onExtended(ar.onClassExtended,v);delete ar.onClassExtended}if(ar.privates&&O){O.call(Ext.Class,v,ar)}if(w){if(I){v.addStatics(w)}else{for(b in w){if(w.hasOwnProperty(b)){aq=w[b];if(aq&&aq.$isFunction&&!aq.$isClass&&aq!==Ext.emptyFn&&aq!==Ext.identityFn){v[b]=r=aq;r.$owner=v;r.$name=b}v[b]=aq}}}}if(ar.inheritableStatics){v.addInheritableStatics(ar.inheritableStatics);delete ar.inheritableStatics}if(j.onClassExtended){at.onExtended(j.onClassExtended,at);delete j.onClassExtended}if(ar.platformConfig&&K){K.call(Ext.Class,v,ar);delete ar.platformConfig}if(ar.config){J.call(Ext.Class,v,ar)}if(ar.cachedConfig&&Q){Q.call(Ext.Class,v,ar);delete ar.cachedConfig}if(ar.deprecated&&D){D.call(Ext.ClassManager,ak,v,ar)}an.onBeforeCreated(v,an.data,an);for(d=0,g=am&&am.length;d<g;++d){v.mixin.apply(v,am[d])}for(d=0,g=c.length;d<g;d++){k=c[d];y.setAlias?y.setAlias(v,k):y.addAlias(v,k)}if(ar.singleton){at=new v()}if(!(p instanceof Array)){p=[p]}m=y.getName(at);for(d=0,q=p.length;d<q;d++){f=p[d];y.classes[f]=at;if(I){y.addAlternate(v,f)}else{if(m){o[f]=m;p=ag[m]||(ag[m]=[]);p.push(f)}}}for(d=0,g=l.length;d<g;d+=2){ao=l[d];if(!ao){ao=e}ao[l[d+1]]=at}y.classes[ak]=at;if(!I){if(m&&m!==ak){o[ak]=m;p=ag[m]||(ag[m]=[]);p.push(ak)}}delete j.alternateClassName;if(an.onCreated){an.onCreated.call(at,at)}if(ak){y.triggerCreated(ak)}return at};M.derive=A}(Ext.cmd={}));var Ext=Ext||{};(function(){var D=this,x=Object.prototype,C=x.toString,q=["valueOf","toLocaleString","toString","constructor"],u=function(){},y=function(){},w=function(b){return b},r=function(){var b=r.caller.caller;return b.$owner.prototype[b.$name].apply(this,arguments)},E=Ext.manifest||{},v,B=/\[object\s*(?:Array|Arguments|\w*Collection|\w*List|HTML\s+document\.all\s+class)\]/,A=/^\\?\/Date\(([-+])?(\d+)(?:[+-]\d{4})?\)\\?\/$/;Ext.global=D;Ext.now=Date.now||(Date.now=function(){return +new Date()});Ext.ticks=(D.performance&&D.performance.now)?function(){return performance.now()}:Ext.now;Ext._startTime=Ext.ticks();u.$nullFn=w.$nullFn=u.$emptyFn=w.$identityFn=y.$nullFn=true;y.$privacy="framework";u.$noClearOnDestroy=w.$noClearOnDestroy=true;y.$noClearOnDestroy=true;Ext.suspendLayouts=Ext.resumeLayouts=u;for(v in {toString:1}){q=null}Ext.enumerables=q;Ext.apply=function(d,e,b){if(b){Ext.apply(d,b)}if(d&&e&&typeof e==="object"){var c,f,g;for(c in e){d[c]=e[c]}if(q){for(f=q.length;f--;){g=q[f];if(e.hasOwnProperty(g)){d[g]=e[g]}}}}return d};function s(c,f,b){var e,d;for(e in b){if(b.hasOwnProperty(e)){d=b[e];if(typeof d==="function"){d.$name=e;d.$owner=f;d.$previous=c.hasOwnProperty(e)?c[e]:r}c[e]=d}}}Ext.buildSettings=Ext.apply({baseCSSPrefix:"x-"},Ext.buildSettings||{});Ext.apply(Ext,{idSeed:0,idPrefix:"ext-",isSecure:/^https/i.test(window.location.protocol),enableGarbageCollector:false,enableListenerCollection:true,name:Ext.sandboxName||"Ext",privateFn:y,emptyFn:u,identityFn:w,frameStartTime:Ext.now(),manifest:E,enableAria:true,startsWithHashRe:/^#/,validIdRe:/^[a-z_][a-z0-9\-_]*$/i,BLANK_IMAGE_URL:"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",makeIdSelector:function(b){return"#"+b},id:function(c,d){if(c&&c.id){return c.id}var b=(d||Ext.idPrefix)+(++Ext.idSeed);if(c){c.id=b}return b},returnId:function(b){return b.getId()},returnTrue:function(){return true},emptyString:new String(),baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,$eventNameMap:{},$vendorEventRe:/^(DOMMouse|Moz.+|MS.+|webkit.+)/,canonicalEventName:function(b){return Ext.$eventNameMap[b]||(Ext.$eventNameMap[b]=(Ext.$vendorEventRe.test(b)?b:b.toLowerCase()))},applyIf:function(c,d){var b;if(c){for(b in d){if(c[b]===undefined){c[b]=d[b]}}}return c},destroy:function(){var b=arguments.length,c,d;for(c=0;c<b;c++){d=arguments[c];if(d){if(Ext.isArray(d)){this.destroy.apply(this,d)}else{if(Ext.isFunction(d.destroy)){d.destroy()}}}}return null},destroyMembers:function(d){for(var b,e,c=1,f=arguments,g=f.length;c<g;c++){b=d[e=f[c]];if(b!=null){d[e]=Ext.destroy(b)}}},override:function(c,b){if(c.$isClass){c.override(b)}else{if(typeof c==="function"){Ext.apply(c.prototype,b)}else{var e=c.self,d;if(e&&e.$isClass){d=b.privates;if(d){b=Ext.apply({},b);delete b.privates;s(c,e,d)}s(c,e,b)}else{Ext.apply(c,b)}}}return c},valueFrom:function(b,d,c){return Ext.isEmpty(b,c)?d:b},isEmpty:function(c,b){return(c==null)||(!b?c==="":false)||(Ext.isArray(c)&&c.length===0)},isArray:("isArray" in Array)?Array.isArray:function(b){return C.call(b)==="[object Array]"},isDate:function(b){return C.call(b)==="[object Date]"},isMSDate:function(b){if(!Ext.isString(b)){return false}return A.test(b)},isObject:(C.call(null)==="[object Object]")?function(b){return b!==null&&b!==undefined&&C.call(b)==="[object Object]"&&b.ownerDocument===undefined}:function(b){return C.call(b)==="[object Object]"},isSimpleObject:function(b){return b instanceof Object&&b.constructor===Object},isPrimitive:function(b){var c=typeof b;return c==="string"||c==="number"||c==="boolean"},isFunction:(typeof document!=="undefined"&&typeof document.getElementsByTagName("body")==="function")?function(b){return !!b&&C.call(b)==="[object Function]"}:function(b){return !!b&&typeof b==="function"},isNumber:function(b){return typeof b==="number"&&isFinite(b)},isNumeric:function(b){return !isNaN(parseFloat(b))&&isFinite(b)},isString:function(b){return typeof b==="string"},isBoolean:function(b){return typeof b==="boolean"},isElement:function(b){return b?b.nodeType===1:false},isTextNode:function(b){return b?b.nodeName==="#text":false},isDefined:function(b){return typeof b!=="undefined"},isIterable:function(b){if(!b||typeof b.length!=="number"||typeof b==="string"||Ext.isFunction(b)){return false}if(!b.propertyIsEnumerable){return !!b.item}if(b.hasOwnProperty("length")&&!b.propertyIsEnumerable("length")){return true}return B.test(C.call(b))},isDebugEnabled:u,clone:function(b,d){if(b===null||b===undefined){return b}if(d!==false&&b.nodeType&&b.cloneNode){return b.cloneNode(true)}var c=C.call(b),e,g,j,k,f;if(c==="[object Date]"){return new Date(b.getTime())}if(c==="[object Array]"){e=b.length;k=[];while(e--){k[e]=Ext.clone(b[e],d)}}else{if(c==="[object Object]"&&b.constructor===Object){k={};for(f in b){k[f]=Ext.clone(b[f],d)}if(q){for(g=q.length;g--;){j=q[g];if(b.hasOwnProperty(j)){k[j]=b[j]}}}}}return k||b},getUniqueGlobalNamespace:function(){var b=this.uniqueGlobalNamespace,c;if(b===undefined){c=0;do{b="ExtBox"+(++c)}while(D[b]!==undefined);D[b]=Ext;this.uniqueGlobalNamespace=b}return b},functionFactoryCache:{},cacheableFunctionFactory:function(){var b=this,e=Array.prototype.slice.call(arguments),f=b.functionFactoryCache,g,d,c;if(Ext.isSandboxed){c=e.length;if(c>0){c--;e[c]="var Ext=window."+Ext.name+";"+e[c]}}g=e.join("");d=f[g];if(!d){d=Function.prototype.constructor.apply(Function.prototype,e);f[g]=d}return d},functionFactory:function(){var c=Array.prototype.slice.call(arguments),b;if(Ext.isSandboxed){b=c.length;if(b>0){b--;c[b]="var Ext=window."+Ext.name+";"+c[b]}}return Function.prototype.constructor.apply(Function.prototype,c)},Logger:{verbose:u,log:u,info:u,warn:u,error:function(b){throw new Error(b)},deprecate:u},ariaWarn:function(c,b){if(Ext.enableAria&&!Ext.slicer){if(!Ext.ariaWarn.first){Ext.ariaWarn.first=true;Ext.log.warn("WAI-ARIA compatibility warnings can be suppressed by adding the following to application startup code:");Ext.log.warn("    Ext.ariaWarn = Ext.emptyFn;")}Ext.log.warn({msg:b,dump:c})}},getElementById:function(b){return document.getElementById(b)},splitAndUnescape:(function(){var b={};return function(f,g){if(!f){return[]}else{if(!g){return[f]}}var d=b[g]||(b[g]=new RegExp("\\\\"+g,"g")),j=[],c,e;c=f.split(g);while((e=c.shift())!==undefined){while(e.charAt(e.length-1)==="\\"&&c.length>0){e=e+g+c.shift()}e=e.replace(d,g);j.push(e)}return j}})()});Ext.returnTrue.$nullFn=Ext.returnId.$nullFn=true}());Ext.platformTags.modern=!(Ext.platformTags.classic=Ext.isClassic=true);(function(){function c(){var j=this,k=j.sourceClass,b=j.sourceMethod,g=j.msg;if(b){if(g){b+="(): ";b+=g}else{b+="()"}}if(k){b=b?(k+"."+b):k}return b||g||""}Ext.Error=function(b){if(Ext.isString(b)){b={msg:b}}var e=new Error();Ext.apply(e,b);e.message=e.message||e.msg;e.toString=c;return e};Ext.apply(Ext.Error,{ignore:false,raise:function(k){k=k||{};if(Ext.isString(k)){k={msg:k}}var l=this,b=l.raise.caller,j,m;if(b===Ext.raise){b=b.caller}if(b){if(!k.sourceMethod&&(m=b.$name)){k.sourceMethod=m}if(!k.sourceClass&&(m=b.$owner)&&(m=m.$className)){k.sourceClass=m}}if(l.handle(k)!==true){j=c.call(k);throw new Ext.Error(k)}},handle:function(){return this.ignore}})})();Ext.deprecated=function(c){return Ext.emptyFn};Ext.raise=function(){Ext.Error.raise.apply(Ext.Error,arguments)};Ext.Array=(function(){var M=Array.prototype,F=M.slice,D=(function(){var d=[],c,b=20;if(!d.splice){return false}while(b--){d.push("A")}d.splice(15,0,"F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F");c=d.length;d.splice(13,0,"XXX");if(c+1!==d.length){return false}return true}()),E="indexOf" in M,J=true;function G(g,c){var d=g.length,b=new Array(d),f;for(f=0;f<d;f++){b[f]=f}b.sort(function(j,k){return c(g[j],g[k])||(j-k)});for(f=0;f<d;f++){b[f]=g[b[f]]}for(f=0;f<d;f++){g[f]=b[f]}return g}try{if(typeof document!=="undefined"){F.call(document.getElementsByTagName("body"))}}catch(B){J=false}var H=function(b,c){return(c<0)?Math.max(0,b.length+c):Math.min(b.length,c)},e=function(p,q,l,m){var k=m?m.length:0,f=p.length,o=H(p,q);if(o===f){if(k){p.push.apply(p,m)}}else{var b=Math.min(l,f-o),n=o+b,j=n+k-b,g=f-n,d=f-b,c;if(j<n){for(c=0;c<g;++c){p[j+c]=p[n+c]}}else{if(j>n){for(c=g;c--;){p[j+c]=p[n+c]}}}if(k&&o===d){p.length=d;p.push.apply(p,m)}else{p.length=d+k;for(c=0;c<k;++c){p[o+c]=m[c]}}}return p},K=function(c,d,f,b){if(b&&b.length){if(d===0&&!f){c.unshift.apply(c,b)}else{if(d<c.length){c.splice.apply(c,[d,f].concat(b))}else{c.push.apply(c,b)}}}else{c.splice(d,f)}return c},N=function(d,c,b){return e(d,c,b)},C=function(d,c,b){d.splice(c,b);return d},I=function(f,c,b){var d=arguments.length,j=H(f,c),g;if(d<3){b=f.length-j}g=f.slice(c,H(f,j+b));if(d<4){e(f,j,b)}else{e(f,j,b,F.call(arguments,3))}return g},L=function(b){return b.splice.apply(b,F.call(arguments,1))},x=D?C:N,A=D?K:e,y=D?L:I,O={binarySearch:function(d,l,k,g,f){var c=d.length,b,j;if(k instanceof Function){f=k;k=0;g=c}else{if(g instanceof Function){f=g;g=c}else{if(k===undefined){k=0}if(g===undefined){g=c}f=f||O.lexicalCompare}}--g;while(k<=g){b=(k+g)>>1;j=f(l,d[b]);if(j>=0){k=b+1}else{if(j<0){g=b-1}}}return k},defaultCompare:function(c,b){return(c<b)?-1:((c>b)?1:0)},lexicalCompare:function(c,b){c=String(c);b=String(b);return(c<b)?-1:((c>b)?1:0)},each:function(f,c,j,d){f=O.from(f);var b,g=f.length;if(d!==true){for(b=0;b<g;b++){if(c.call(j||f[b],f[b],b,f)===false){return b}}}else{for(b=g-1;b>-1;b--){if(c.call(j||f[b],f[b],b,f)===false){return b}}}return true},forEach:("forEach" in M)?function(d,b,c){return d.forEach(b,c)}:function(g,f,c){for(var d=0,b=g.length;d<b;d++){f.call(c,g[d],d,g)}},indexOf:E?function(d,c,b){return d?M.indexOf.call(d,c,b):-1}:function(g,f,c){var d,b=g?g.length:0;for(d=(c<0)?Math.max(0,b+c):c||0;d<b;d++){if(g[d]===f){return d}}return -1},contains:E?function(b,c){return M.indexOf.call(b,c)!==-1}:function(c,f){var d,b;for(d=0,b=c.length;d<b;d++){if(c[d]===f){return true}}return false},toArray:function(g,f,d){if(!g||!g.length){return[]}if(typeof g==="string"){g=g.split("")}if(J){return F.call(g,f||0,d||g.length)}var c=[],b;f=f||0;d=d?((d<0)?g.length+d:d):g.length;for(b=f;b<d;b++){c.push(g[b])}return c},pluck:function(f,d){var c=[],j,g,b;for(j=0,g=f.length;j<g;j++){b=f[j];c.push(b[d])}return c},map:("map" in M)?function(d,b,c){return d.map(b,c)}:function(f,j,c){var d=f.length,g=new Array(d),b;for(b=0;b<d;b++){g[b]=j.call(c,f[b],b,f)}return g},every:("every" in M)?function(d,b,c){return d.every(b,c)}:function(g,f,c){var d=0,b=g.length;for(;d<b;++d){if(!f.call(c,g[d],d,g)){return false}}return true},some:("some" in M)?function(d,b,c){return d.some(b,c)}:function(g,f,c){var d=0,b=g.length;for(;d<b;++d){if(f.call(c,g[d],d,g)){return true}}return false},equals:function(g,c){var b=g.length,d=c.length,f;if(g===c){return true}if(b!==d){return false}for(f=0;f<b;++f){if(g[f]!==c[f]){return false}}return true},clean:function(g){var c=[],d=0,b=g.length,f;for(;d<b;d++){f=g[d];if(!Ext.isEmpty(f)){c.push(f)}}return c},unique:function(g){var c=[],d=0,f=g.length,b;for(;d<f;d++){b=g[d];if(O.indexOf(c,b)===-1){c.push(b)}}return c},filter:("filter" in M)?function(d,b,c){return d.filter(b,c)}:function(f,c,j){var b=[],d=0,g=f.length;for(;d<g;d++){if(c.call(j,f[d],d,f)){b.push(f[d])}}return b},findBy:function(g,c,f){var b=0,d=g.length;for(;b<d;b++){if(c.call(f||g,g[b],b)){return g[b]}}return null},from:function(d,b){if(d===undefined||d===null){return[]}if(Ext.isArray(d)){return(b)?F.call(d):d}var c=typeof d;if(d&&d.length!==undefined&&c!=="string"&&(c!=="function"||!d.apply)){return O.toArray(d)}return[d]},remove:function(d,b){var c=O.indexOf(d,b);if(c!==-1){x(d,c,1)}return d},removeAt:function(c,b,f){var d=c.length;if(b>=0&&b<d){f=f||1;f=Math.min(f,d-b);x(c,b,f)}return c},include:function(b,c){if(!O.contains(b,c)){b.push(c)}},clone:function(b){return F.call(b)},merge:function(){var d=F.call(arguments),c=[],b,f;for(b=0,f=d.length;b<f;b++){c=c.concat(d[b])}return O.unique(c)},intersect:function(){var g=[],k=F.call(arguments),l,o,s,p,j,f,n,q,m,d,r,b,c;if(!k.length){return g}l=k.length;for(r=j=0;r<l;r++){f=k[r];if(!p||f.length<p.length){p=f;j=r}}p=O.unique(p);x(k,j,1);n=p.length;l=k.length;for(r=0;r<n;r++){q=p[r];d=0;for(b=0;b<l;b++){o=k[b];s=o.length;for(c=0;c<s;c++){m=o[c];if(q===m){d++;break}}}if(d===l){g.push(q)}}return g},difference:function(c,f){var d=F.call(c),k=d.length,b,j,g;for(b=0,g=f.length;b<g;b++){for(j=0;j<k;j++){if(d[j]===f[b]){x(d,j,1);j--;k--}}}return d},reduce:Array.prototype.reduce?function(d,b,c){if(arguments.length===3){return Array.prototype.reduce.call(d,b,c)}return Array.prototype.reduce.call(d,b)}:function(f,j,d){f=Object(f);var g=0,c=f.length>>>0,b=d;if(arguments.length<3){while(true){if(g in f){b=f[g++];break}if(++g>=c){throw new TypeError("Reduce of empty array with no initial value")}}}for(;g<c;++g){if(g in f){b=j(b,f[g],g,f)}}return b},slice:([1,2].slice(1,undefined).length?function(d,b,c){return F.call(d,b,c)}:function(d,b,c){if(typeof b==="undefined"){return F.call(d)}if(typeof c==="undefined"){return F.call(d,b)}return F.call(d,b,c)}),sort:function(b,c){return G(b,c||O.lexicalCompare)},flatten:function(d){var b=[];function c(f){var j,g,k;for(j=0,g=f.length;j<g;j++){k=f[j];if(Ext.isArray(k)){c(k)}else{b.push(k)}}return b}return c(d)},min:function(f,j){var c=f[0],d,b,g;for(d=0,b=f.length;d<b;d++){g=f[d];if(j){if(j(c,g)===1){c=g}}else{if(g<c){c=g}}}return c},max:function(f,j){var d=f[0],c,b,g;for(c=0,b=f.length;c<b;c++){g=f[c];if(j){if(j(d,g)===-1){d=g}}else{if(g>d){d=g}}}return d},mean:function(b){return b.length>0?O.sum(b)/b.length:undefined},sum:function(g){var c=0,d,b,f;for(d=0,b=g.length;d<b;d++){f=g[d];c+=f}return c},toMap:function(g,d,f){var c={},b=g.length;if(!d){while(b--){c[g[b]]=b+1}}else{if(typeof d==="string"){while(b--){c[g[b][d]]=b+1}}else{while(b--){c[d.call(f,g[b])]=b+1}}}return c},toValueMap:function(b,f,l,c){var g={},j=b.length,k,d,n,p,m,o;if(!f){while(j--){o=b[j];g[o]=o}}else{if(!(p=(typeof f!=="string"))){c=l}d=c===1;k=c===2;while(j--){o=b[j];m=p?f.call(l,o):o[f];if(d){if(m in g){g[m].push(o)}else{g[m]=[o]}}else{if(k&&(m in g)){if((n=g[m]) instanceof Array){n.push(o)}else{g[m]=[n,o]}}else{g[m]=o}}}}return g},erase:x,insert:function(d,b,c){return A(d,b,0,c)},move:function(f,c,b){if(b===c){return}var j=f[c],g=b>c?1:-1,d;for(d=c;d!=b;d+=g){f[d]=f[d+g]}f[b]=j},replace:A,splice:y,push:function(c){var d=arguments.length,f=1,b;if(c===undefined){c=[]}else{if(!Ext.isArray(c)){c=[c]}}for(;f<d;f++){b=arguments[f];Array.prototype.push[Ext.isIterable(b)?"apply":"call"](c,b)}return c},numericSortFn:function(b,c){return b-c}};Ext.each=O.each;O.union=O.merge;Ext.min=O.min;Ext.max=O.max;Ext.sum=O.sum;Ext.mean=O.mean;Ext.flatten=O.flatten;Ext.clean=O.clean;Ext.unique=O.unique;Ext.pluck=O.pluck;Ext.toArray=function(){return O.toArray.apply(O,arguments)};return O}());Ext.String=(function(){var B=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,v=/('|\\)/g,H=/([-.*+?\^${}()|\[\]\/\\])/g,s=/^\s+|\s+$/g,A=/\s+/,x=/(^[^a-z]*|[^\w])/gi,E,I,C,F,D=function(b,c){return E[c]},y=function(b,c){return(c in I)?I[c]:String.fromCharCode(parseInt(c.substr(2),10))},G=function(b,c){if(b===null||b===undefined||c===null||c===undefined){return false}return c.length<=b.length},w=String.fromCharCode,u;return u={fromCodePoint:String.fromCodePoint||function(){var d,f="",c=[],e=-1,b=arguments.length;while(++e<b){d=Number(arguments[e]);if(!isFinite(d)||d<0||d>1114111||Math.floor(d)!==d){Ext.raise("Invalid code point: "+d)}if(d<=65535){c.push(d)}else{d-=65536;c.push((d>>10)+55296,(d%1024)+56320)}if(e+1===b){f+=w(c);c.length=0}}return f},insert:function(c,b,d){if(!c){return b}if(!b){return c}var e=c.length;if(!d&&d!==0){d=e}if(d<0){d*=-1;if(d>=e){d=0}else{d=e-d}}if(d===0){c=b+c}else{if(d>=c.length){c+=b}else{c=c.substr(0,d)+b+c.substr(d)}}return c},startsWith:function(c,b,d){var e=G(c,b);if(e){if(d){c=c.toLowerCase();b=b.toLowerCase()}e=c.lastIndexOf(b,0)===0}return e},endsWith:function(b,d,c){var e=G(b,d);if(e){if(c){b=b.toLowerCase();d=d.toLowerCase()}e=b.indexOf(d,b.length-d.length)!==-1}return e},createVarName:function(b){return b.replace(x,"")},htmlEncode:function(b){return(!b)?b:String(b).replace(C,D)},htmlDecode:function(b){return(!b)?b:String(b).replace(F,y)},hasHtmlCharacters:function(b){return C.test(b)},addCharacterEntities:function(e){var f=[],b=[],d,c;for(d in e){c=e[d];I[d]=c;E[c]=d;f.push(c);b.push(d)}C=new RegExp("("+f.join("|")+")","g");F=new RegExp("("+b.join("|")+"|&#[0-9]{1,5};)","g")},resetCharacterEntities:function(){E={};I={};this.addCharacterEntities({"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'"})},urlAppend:function(b,c){if(!Ext.isEmpty(c)){return b+(b.indexOf("?")===-1?"?":"&")+c}return b},trim:function(b){if(b){b=b.replace(B,"")}return b||""},capitalize:function(b){if(b){b=b.charAt(0).toUpperCase()+b.substr(1)}return b||""},uncapitalize:function(b){if(b){b=b.charAt(0).toLowerCase()+b.substr(1)}return b||""},ellipsis:function(d,e,c){if(d&&d.length>e){if(c){var b=d.substr(0,e-2),f=Math.max(b.lastIndexOf(" "),b.lastIndexOf("."),b.lastIndexOf("!"),b.lastIndexOf("?"));if(f!==-1&&f>=(e-15)){return b.substr(0,f)+"..."}}return d.substr(0,e-3)+"..."}return d},escapeRegex:function(b){return b.replace(H,"\\$1")},createRegex:function(b,c,e,f){var d=b;if(b!=null&&!b.exec){d=u.escapeRegex(String(b));if(c!==false){d="^"+d}if(e!==false){d+="$"}d=new RegExp(d,(f!==false)?"i":"")}return d},escape:function(b){return b.replace(v,"\\$1")},toggle:function(c,b,d){return c===b?d:b},leftPad:function(d,c,b){var e=String(d);b=b||" ";while(e.length<c){e=b+e}return e},repeat:function(b,c,e){if(c<1){c=0}for(var f=[],d=c;d--;){f.push(b)}return f.join(e||"")},splitWords:function(b){if(b&&typeof b=="string"){return b.replace(s,"").split(A)}return b||[]}}}());Ext.String.resetCharacterEntities();Ext.htmlEncode=Ext.String.htmlEncode;Ext.htmlDecode=Ext.String.htmlDecode;Ext.urlAppend=Ext.String.urlAppend;Ext.Date=(function(){var u,v=Date,o=/(\\.)/g,A=/([gGhHisucUOPZ]|MS)/,s=/([djzmnYycU]|MS)/,p=/\\/gi,x=/\{(\d+)\}/g,r=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/"),w=Ext.String.leftPad,y=["var me = this, dt, y, m, d, h, i, s, ms, o, O, z, zz, u, v, W, year, jan4, week1monday, daysInMonth, dayMatched,","def = me.defaults,","from = Ext.Number.from,","results = String(input).match(me.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = me.clearTime(new Date);","y = from(y, from(def.y, dt.getFullYear()));","m = from(m, from(def.m - 1, dt.getMonth()));","dayMatched = d !== undefined;","d = from(d, from(def.d, dt.getDate()));","if (!dayMatched) {","dt.setDate(1);","dt.setMonth(m);","dt.setFullYear(y);","daysInMonth = me.getDaysInMonth(dt);","if (d > daysInMonth) {","d = daysInMonth;","}","}","h  = from(h, from(def.h, dt.getHours()));","i  = from(i, from(def.i, dt.getMinutes()));","s  = from(s, from(def.s, dt.getSeconds()));","ms = from(ms, from(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = me.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (me.isLeapYear(v) && z <= 365))? me.add(v, me.DAY, z) : null);","}else if(strict === true && !me.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","if (W) {","year = y || (new Date()).getFullYear();","jan4 = new Date(year, 0, 4, 0, 0, 0);","d = jan4.getDay();","week1monday = new Date(jan4.getTime() - ((d === 0 ? 6 : d - 1) * 86400000));","v = Ext.Date.clearTime(new Date(week1monday.getTime() + ((W - 1) * 604800000 + 43200000)));","} else {","v = me.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","}","}","}","}","if(v){","if(zz != null){","v = me.add(v, me.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = me.add(v, me.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return (v != null) ? v : null;"].join("\n");if(!Date.prototype.toISOString){Date.prototype.toISOString=function(){var b=this;return w(b.getUTCFullYear(),4,"0")+"-"+w(b.getUTCMonth()+1,2,"0")+"-"+w(b.getUTCDate(),2,"0")+"T"+w(b.getUTCHours(),2,"0")+":"+w(b.getUTCMinutes(),2,"0")+":"+w(b.getUTCSeconds(),2,"0")+"."+w(b.getUTCMilliseconds(),3,"0")+"Z"}}function q(b){var c=Array.prototype.slice.call(arguments,1);return b.replace(x,function(e,d){return c[d]})}u={now:v.now,toString:function(b){if(!b){b=new v()}return b.getFullYear()+"-"+w(b.getMonth()+1,2,"0")+"-"+w(b.getDate(),2,"0")+"T"+w(b.getHours(),2,"0")+":"+w(b.getMinutes(),2,"0")+":"+w(b.getSeconds(),2,"0")},getElapsed:function(b,c){return Math.abs(b-(c||u.now()))},useStrict:false,formatCodeToRegex:function(c,d){var b=u.parseCodes[c];if(b){b=typeof b==="function"?b():b;u.parseCodes[c]=b}return b?Ext.applyIf({c:b.c?q(b.c,d||"{0}"):b.c},b):{g:0,c:null,s:Ext.String.escapeRegex(c)}},parseFunctions:{MS:function(c,d){var b=(c||"").match(r);return b?new v(((b[1]||"")+b[2])*1):null},time:function(c,d){var b=parseInt(c,10);if(b||b===0){return new v(b)}return null},timestamp:function(c,d){var b=parseInt(c,10);if(b||b===0){return new v(b*1000)}return null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"},time:function(){return this.getTime().toString()},timestamp:function(){return u.format(this,"U")}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",DAYS_IN_WEEK:7,MONTHS_IN_YEAR:12,MAX_DAYS_IN_MONTH:31,SUNDAY:0,MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6,defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:"m/d/Y",firstDayOfWeek:0,weekendDays:[0,6],getShortMonthName:function(b){return u.monthNames[b].substring(0,3)},getShortDayName:function(b){return u.dayNames[b].substring(0,3)},getMonthNumber:function(b){return u.monthNumbers[b.substring(0,1).toUpperCase()+b.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(b){return A.test(b.replace(o,""))},formatContainsDateInfo:function(b){return s.test(b.replace(o,""))},unescapeFormat:function(b){return b.replace(p,"")},formatCodes:{d:"Ext.String.leftPad(m.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(m.getDay())",j:"m.getDate()",l:"Ext.Date.dayNames[m.getDay()]",N:"(m.getDay() ? m.getDay() : 7)",S:"Ext.Date.getSuffix(m)",w:"m.getDay()",z:"Ext.Date.getDayOfYear(m)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(m), 2, '0')",F:"Ext.Date.monthNames[m.getMonth()]",m:"Ext.String.leftPad(m.getMonth() + 1, 2, '0')",M:"Ext.Date.getShortMonthName(m.getMonth())",n:"(m.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(m)",L:"(Ext.Date.isLeapYear(m) ? 1 : 0)",o:"(m.getFullYear() + (Ext.Date.getWeekOfYear(m) == 1 && m.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(m) >= 52 && m.getMonth() < 11 ? -1 : 0)))",Y:"Ext.String.leftPad(m.getFullYear(), 4, '0')",y:"('' + m.getFullYear()).substring(2, 4)",a:"(m.getHours() < 12 ? 'am' : 'pm')",A:"(m.getHours() < 12 ? 'AM' : 'PM')",g:"((m.getHours() % 12) ? m.getHours() % 12 : 12)",G:"m.getHours()",h:"Ext.String.leftPad((m.getHours() % 12) ? m.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(m.getHours(), 2, '0')",i:"Ext.String.leftPad(m.getMinutes(), 2, '0')",s:"Ext.String.leftPad(m.getSeconds(), 2, '0')",u:"Ext.String.leftPad(m.getMilliseconds(), 3, '0')",O:"Ext.Date.getGMTOffset(m)",P:"Ext.Date.getGMTOffset(m, true)",T:"Ext.Date.getTimezone(m)",Z:"(m.getTimezoneOffset() * -60)",c:function(){var b="Y-m-dTH:i:sP",d=[],e,f=b.length,c;for(e=0;e<f;++e){c=b.charAt(e);d.push(c==="T"?"'T'":u.getFormatCode(c))}return d.join(" + ")},C:function(){return"m.toISOString()"},U:"Math.round(m.getTime() / 1000)"},isValid:function(f,c,j,k,b,g,d){k=k||0;b=b||0;g=g||0;d=d||0;var e=u.add(new v(f<100?100:f,c-1,j,k,b,g,d),u.YEAR,f<100?f-100:0);return f===e.getFullYear()&&c===e.getMonth()+1&&j===e.getDate()&&k===e.getHours()&&b===e.getMinutes()&&g===e.getSeconds()&&d===e.getMilliseconds()},parse:function(d,b,e){var c=u.parseFunctions;if(c[b]==null){u.createParser(b)}return c[b].call(u,d,Ext.isDefined(e)?e:u.useStrict)},parseDate:function(c,b,d){return u.parse(c,b,d)},getFormatCode:function(b){var c=u.formatCodes[b];if(c){c=typeof c==="function"?c():c;u.formatCodes[b]=c}return c||("'"+Ext.String.escape(b)+"'")},createFormat:function(b){var c=[],f=false,d="",e;for(e=0;e<b.length;++e){d=b.charAt(e);if(!f&&d==="\\"){f=true}else{if(f){f=false;c.push("'"+Ext.String.escape(d)+"'")}else{if(d==="\n"){c.push("'\\n'")}else{c.push(u.getFormatCode(d))}}}}u.formatFunctions[b]=Ext.functionFactory("var m=this;return "+c.join("+"))},createParser:function(g){var d=u.parseRegexes.length,f=1,c=[],j=[],l=false,e="",n=0,m=g.length,k=[],b;for(;n<m;++n){e=g.charAt(n);if(!l&&e==="\\"){l=true}else{if(l){l=false;j.push(Ext.String.escape(e))}else{b=u.formatCodeToRegex(e,f);f+=b.g;j.push(b.s);if(b.g&&b.c){if(b.calcAtEnd){k.push(b.c)}else{c.push(b.c)}}}}}c=c.concat(k);u.parseRegexes[d]=new RegExp("^"+j.join("")+"$","i");u.parseFunctions[g]=Ext.functionFactory("input","strict",q(y,d,c.join("")))},parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|0[1-9])"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|[1-9])"},D:function(){for(var c=[],b=0;b<7;c.push(u.getShortDayName(b)),++b){}return{g:0,c:null,s:"(?:"+c.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+u.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:1,c:"W = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},F:function(){return{g:1,c:"m = parseInt(me.getMonthNumber(results[{0}]), 10);\n",s:"("+u.monthNames.join("|")+")"}},M:function(){for(var c=[],b=0;b<12;c.push(u.getShortMonthName(b)),++b){}return Ext.applyIf({s:"("+c.join("|")+")"},u.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|0[1-9])"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|[1-9])"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > me.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)",calcAtEnd:true},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)",calcAtEnd:true},g:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|[0-9])"},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|1[0-9]|[0-9])"},h:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|0[1-9])"},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|[0-1][0-9])"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,5}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var c=[],e=[u.formatCodeToRegex("Y",1),u.formatCodeToRegex("m",2),u.formatCodeToRegex("d",3),u.formatCodeToRegex("H",4),u.formatCodeToRegex("i",5),u.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",u.formatCodeToRegex("P",8).c,"}else{",u.formatCodeToRegex("O",8).c,"}","}"].join("\n")}],b,d;for(b=0,d=e.length;b<d;++b){c.push(e[b].c)}return{g:1,c:c.join(""),s:[e[0].s,"(?:","-",e[1].s,"(?:","-",e[2].s,"(?:","(?:T| )?",e[3].s,":",e[4].s,"(?::",e[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(c,b){return u.format(c,b)},isEqual:function(b,c){if(b&&c){return(b.getTime()===c.getTime())}return !(b||c)},format:function(c,b){var d=u.formatFunctions;if(!Ext.isDate(c)){return""}if(d[b]==null){u.createFormat(b)}return d[b].call(c)+""},getTimezone:function(b){return b.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,5})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(d,c){var b=d.getTimezoneOffset();return(b>0?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(b)/60),2,"0")+(c?":":"")+Ext.String.leftPad(Math.abs(b%60),2,"0")},getDayOfYear:function(d){var e=0,b=u.clone(d),f=d.getMonth(),c;for(c=0,b.setDate(1),b.setMonth(0);c<f;b.setMonth(++c)){e+=u.getDaysInMonth(b)}return e+d.getDate()-1},getWeekOfYear:(function(){var c=86400000,b=7*c;return function(f){var e=v.UTC(f.getFullYear(),f.getMonth(),f.getDate()+3)/c,g=Math.floor(e/7),d=new v(g*b).getUTCFullYear();return g-Math.floor(v.UTC(d,0,7)/b)+1}}()),isLeapYear:function(c){var b=c.getFullYear();return !!((b&3)===0&&(b%100||(b%400===0&&b)))},getFirstDayOfMonth:function(b){var c=(b.getDay()-(b.getDate()-1))%7;return(c<0)?(c+7):c},getLastDayOfMonth:function(b){return u.getLastDateOfMonth(b).getDay()},getFirstDateOfMonth:function(b){return new v(b.getFullYear(),b.getMonth(),1)},getLastDateOfMonth:function(b){return new v(b.getFullYear(),b.getMonth(),u.getDaysInMonth(b))},getDaysInMonth:(function(){var b=[31,28,31,30,31,30,31,31,30,31,30,31];return function(c){var d=c.getMonth();return d===1&&u.isLeapYear(c)?29:b[d]}}()),getSuffix:function(b){switch(b.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(b){return new v(b.getTime())},isDST:function(b){return new v(b.getFullYear(),0,1).getTimezoneOffset()!==b.getTimezoneOffset()},clearTime:function(f,b){if(isNaN(f.getTime())){return f}if(b){return u.clearTime(u.clone(f))}var d=f.getDate(),e,c;f.setHours(0);f.setMinutes(0);f.setSeconds(0);f.setMilliseconds(0);if(f.getDate()!==d){for(e=1,c=u.add(f,u.HOUR,e);c.getDate()!==d;e++,c=u.add(f,u.HOUR,e)){}f.setDate(d);f.setHours(c.getHours())}return f},add:function(f,g,c){var b=u.clone(f),d=0,j,e;if(!g||c===0){return b}e=c-parseInt(c,10);c=parseInt(c,10);if(c){switch(g.toLowerCase()){case u.MILLI:b.setTime(b.getTime()+c);break;case u.SECOND:b.setTime(b.getTime()+c*1000);break;case u.MINUTE:b.setTime(b.getTime()+c*60*1000);break;case u.HOUR:b.setTime(b.getTime()+c*60*60*1000);break;case u.DAY:b.setTime(b.getTime()+c*24*60*60*1000);break;case u.MONTH:j=f.getDate();if(j>28){j=Math.min(j,u.getLastDateOfMonth(u.add(u.getFirstDateOfMonth(f),u.MONTH,c)).getDate())}b.setDate(j);b.setMonth(f.getMonth()+c);break;case u.YEAR:j=f.getDate();if(j>28){j=Math.min(j,u.getLastDateOfMonth(u.add(u.getFirstDateOfMonth(f),u.YEAR,c)).getDate())}b.setDate(j);b.setFullYear(f.getFullYear()+c);break}}if(e){switch(g.toLowerCase()){case u.MILLI:d=1;break;case u.SECOND:d=1000;break;case u.MINUTE:d=1000*60;break;case u.HOUR:d=1000*60*60;break;case u.DAY:d=1000*60*60*24;break;case u.MONTH:j=u.getDaysInMonth(b);d=1000*60*60*24*j;break;case u.YEAR:j=(u.isLeapYear(b)?366:365);d=1000*60*60*24*j;break}if(d){b.setTime(b.getTime()+d*e)}}return b},subtract:function(c,d,b){return u.add(c,d,-b)},between:function(d,b,e){var c=d.getTime();return b.getTime()<=c&&c<=e.getTime()},isWeekend:function(b){return Ext.Array.indexOf(this.weekendDays,b.getDay())>-1},utcToLocal:function(b){return new Date(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes(),b.getUTCSeconds(),b.getUTCMilliseconds())},localToUtc:function(b){return u.utc(b.getFullYear(),b.getMonth(),b.getDate(),b.getHours(),b.getMinutes(),b.getSeconds(),b.getMilliseconds())},utc:function(c,b,g,j,e,d,f){return new Date(Date.UTC(c,b,g,j||0,e||0,d||0,f||0))},compat:function(){var b,k=["useStrict","formatCodeToRegex","parseFunctions","parseRegexes","formatFunctions","y2kYear","MILLI","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","defaults","dayNames","monthNames","monthNumbers","getShortMonthName","getShortDayName","getMonthNumber","formatCodes","isValid","parseDate","getFormatCode","createFormat","createParser","parseCodes"],c=["dateFormat","format","getTimezone","getGMTOffset","getDayOfYear","getWeekOfYear","isLeapYear","getFirstDayOfMonth","getLastDayOfMonth","getDaysInMonth","getSuffix","clone","isDST","clearTime","add","between"],g=k.length,j=c.length,e,d,f;for(f=0;f<g;f++){e=k[f];v[e]=u[e]}for(b=0;b<j;b++){d=c[b];v.prototype[d]=function(){var l=Array.prototype.slice.call(arguments);l.unshift(this);return u[d].apply(u,l)}}},diff:function(e,f,c){var d,b=+f-e;switch(c){case u.MILLI:return b;case u.SECOND:return Math.floor(b/1000);case u.MINUTE:return Math.floor(b/60000);case u.HOUR:return Math.floor(b/3600000);case u.DAY:return Math.floor(b/86400000);case"w":return Math.floor(b/604800000);case u.MONTH:d=(f.getFullYear()*12+f.getMonth())-(e.getFullYear()*12+e.getMonth());if(u.add(e,c,d)>f){return d-1}return d;case u.YEAR:d=f.getFullYear()-e.getFullYear();if(u.add(e,c,d)>f){return d-1}else{return d}}},align:function(d,b,c){var e=new v(+d);switch(b.toLowerCase()){case u.MILLI:return e;case u.SECOND:e.setUTCSeconds(e.getUTCSeconds()-e.getUTCSeconds()%c);e.setUTCMilliseconds(0);return e;case u.MINUTE:e.setUTCMinutes(e.getUTCMinutes()-e.getUTCMinutes()%c);e.setUTCSeconds(0);e.setUTCMilliseconds(0);return e;case u.HOUR:e.setUTCHours(e.getUTCHours()-e.getUTCHours()%c);e.setUTCMinutes(0);e.setUTCSeconds(0);e.setUTCMilliseconds(0);return e;case u.DAY:if(c===7||c===14){e.setUTCDate(e.getUTCDate()-e.getUTCDay()+1)}e.setUTCHours(0);e.setUTCMinutes(0);e.setUTCSeconds(0);e.setUTCMilliseconds(0);return e;case u.MONTH:e.setUTCMonth(e.getUTCMonth()-(e.getUTCMonth()-1)%c,1);e.setUTCHours(0);e.setUTCMinutes(0);e.setUTCSeconds(0);e.setUTCMilliseconds(0);return e;case u.YEAR:e.setUTCFullYear(e.getUTCFullYear()-e.getUTCFullYear()%c,1,1);e.setUTCHours(0);e.setUTCMinutes(0);e.setUTCSeconds(0);e.setUTCMilliseconds(0);return d}}};u.parseCodes.C=u.parseCodes.c;return u}());Ext.Function=(function(){var D=0,r,A=[],q=[],w=0,v={},x=window,B=Ext.global,y=!!(B.setImmediate&&B.clearImmediate),s=x.requestAnimationFrame||x.webkitRequestAnimationFrame||x.mozRequestAnimationFrame||x.oRequestAnimationFrame||function(b){var e=Ext.now(),d=Math.max(0,16-(e-D)),c=x.setTimeout(function(){b(e+d)},d);D=e+d;return c},C=function(){var e=A.length,b,d,c;r=null;for(d=0;d<e;d++){c=A[d];b=c[3];if(v[b]){c[0].apply(c[1]||B,c[2]||q);delete v[b]}}A=A.slice(e)},E=function(){Ext.elevateFunction(C)},u={flexSetter:function(b){return function(e,c){var f,d;if(e!==null){if(typeof e!=="string"){for(f in e){if(e.hasOwnProperty(f)){b.call(this,f,e[f])}}if(Ext.enumerables){for(d=Ext.enumerables.length;d--;){f=Ext.enumerables[d];if(e.hasOwnProperty(f)){b.call(this,f,e[f])}}}}else{b.call(this,e,c)}}return this}},bind:function(d,e,f,g){if(arguments.length===2){return function(){return d.apply(e,arguments)}}var b=d,c=Array.prototype.slice;return function(){var j=f||arguments;if(g===true){j=c.call(arguments,0);j=j.concat(f)}else{if(typeof g==="number"){j=c.call(arguments,0);Ext.Array.insert(j,g,f)}}return b.apply(e||B,j)}},bindCallback:function(b,c,d,e,f){return function(){var g=Ext.Array.slice(arguments);return Ext.callback(b,c,d?d.concat(g):g,e,f)}},pass:function(b,d,c){if(!Ext.isArray(d)){if(Ext.isIterable(d)){d=Ext.Array.clone(d)}else{d=d!==undefined?[d]:[]}}return function(){var e=d.slice();e.push.apply(e,arguments);return b.apply(c||this,e)}},alias:function(b,c){return function(){return b[c].apply(b,arguments)}},clone:function(b){return function(){return b.apply(this,arguments)}},createInterceptor:function(b,c,d,e){if(!Ext.isFunction(c)){return b}else{e=Ext.isDefined(e)?e:null;return function(){var f=this,g=arguments;return(c.apply(d||f||B,g)!==false)?b.apply(f||B,g):e}}},createDelayed:function(b,d,c,e,f){if(c||e){b=Ext.Function.bind(b,c,e,f)}return function(){var g=this,j=Array.prototype.slice.call(arguments);setTimeout(function(){if(Ext.elevateFunction){Ext.elevateFunction(b,g,j)}else{b.apply(g,j)}},d)}},defer:function(b,d,c,e,f){b=Ext.Function.bind(b,c,e,f);if(d>0){return setTimeout(function(){if(Ext.elevateFunction){Ext.elevateFunction(b)}else{b()}},d)}b();return 0},interval:function(b,d,c,e,f){b=Ext.Function.bind(b,c,e,f);return setInterval(function(){if(Ext.elevateFunction){Ext.elevateFunction(b)}else{b()}},d)},createSequence:function(c,b,d){if(!b){return c}else{return function(){var e=c.apply(this,arguments);b.apply(d||this,arguments);return e}}},createBuffered:function(b,e,c,d){var f;return function(){var g=d||Array.prototype.slice.call(arguments,0),j=c||this;if(f){clearTimeout(f)}f=setTimeout(function(){if(Ext.elevateFunction){Ext.elevateFunction(b,j,g)}else{b.apply(j,g)}},e)}},createAnimationFrame:function(c,d,e,b){var f;b=b||3;return function(){var g=e||Array.prototype.slice.call(arguments,0);d=d||this;if(b===3&&f){u.cancelAnimationFrame(f)}if((b&1)||!f){f=u.requestAnimationFrame(function(){f=null;c.apply(d,g)})}}},requestAnimationFrame:function(c,d,f){var b=++w,e=Array.prototype.slice.call(arguments,0);e[3]=b;v[b]=1;A.push(e);if(!r){r=s(Ext.elevateFunction?E:C)}return b},cancelAnimationFrame:function(b){delete v[b]},createThrottled:function(d,g,e){var c=0,j,f,k,b=function(){if(Ext.elevateFunction){Ext.elevateFunction(d,e,f)}else{d.apply(e,f)}c=Ext.now();k=null};return function(){if(!e){e=this}j=Ext.now()-c;f=arguments;if(j>=g){clearTimeout(k);b()}else{if(!k){k=Ext.defer(b,g-j)}}}},createBarrier:function(b,c,d){return function(){if(!--b){c.apply(d,arguments)}}},interceptBefore:function(e,f,c,d){var b=e[f]||Ext.emptyFn;return(e[f]=function(){var g=c.apply(d||this,arguments);b.apply(this,arguments);return g})},interceptAfter:function(e,f,c,d){var b=e[f]||Ext.emptyFn;return(e[f]=function(){b.apply(this,arguments);return c.apply(d||this,arguments)})},interceptAfterOnce:function(e,f,c,d){var b=e[f],g;g=function(){var j;if(b){b.apply(this,arguments)}j=c.apply(d||this,arguments);e[f]=b;e=f=c=d=b=g=null;return j};e[f]=g;return g},makeCallback:function(b,c){return function(){return c[b].apply(c,arguments)}},memoize:function(c,d,f){var e={},b=f&&Ext.isFunction(f);return function(g){var j=b?f.apply(d,arguments):g;if(!(j in e)){e[j]=c.apply(d,arguments)}return e[j]}}};Ext.asap=y?function(c,d,b){if(d!=null||b!=null){c=u.bind(c,d,b)}return setImmediate(function(){if(Ext.elevateFunction){Ext.elevateFunction(c)}else{c()}})}:function(c,d,b){if(d!=null||b!=null){c=u.bind(c,d,b)}return setTimeout(function(){if(Ext.elevateFunction){Ext.elevateFunction(c)}else{c()}},0,true)},Ext.asapCancel=y?function(b){clearImmediate(b)}:function(b){clearTimeout(b)};Ext.defer=u.defer;Ext.interval=u.interval;Ext.pass=u.pass;Ext.bind=u.bind;Ext.deferCallback=u.requestAnimationFrame;return u})();Ext.Number=(new function(){var g=this,j=(0.9).toFixed()!=="1",k=Math,f={count:false,inclusive:false,wrap:true};Ext.apply(g,{MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-(k.pow(2,53)-1),MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||k.pow(2,53)-1,Clip:{DEFAULT:f,COUNT:Ext.applyIf({count:true},f),INCLUSIVE:Ext.applyIf({inclusive:true},f),NOWRAP:Ext.applyIf({wrap:false},f)},clipIndices:function(s,r,e){e=e||f;var p=0,b=e.wrap,c,q,d;r=r||[];for(d=0;d<2;++d){c=q;q=r[d];if(q==null){q=p}else{if(d&&e.count){q+=c;q=(q>s)?s:q}else{if(b){q=(q<0)?(s+q):q}if(d&&e.inclusive){++q}q=(q<0)?0:((q>s)?s:q)}}p=s}r[0]=c;r[1]=(q<c)?c:q;return r},constrain:function(b,c,d){var e=parseFloat(b);if(c===null){c=b}if(d===null){d=b}return(e<c)?c:((e>d)?d:e)},snap:function(c,e,d,b){var m;if(c===undefined||c<d){return d||0}if(e){m=c%e;if(m!==0){c-=m;if(m*2>=e){c+=e}else{if(m*2<-e){c-=e}}}}return g.constrain(c,d,b)},snapInRange:function(c,m,d,b){var e;d=(d||0);if(c===undefined||c<d){return d}if(m&&(e=((c-d)%m))){c-=e;e*=2;if(e>=m){c+=m}}if(b!==undefined){if(c>(b=g.snapInRange(b,m,d))){c=b}}return c},roundToNearest:function(b,c){c=c||1;return c*k.round(b/c)},sign:k.sign||function(b){b=+b;if(b===0||isNaN(b)){return b}return(b>0)?1:-1},log10:k.log10||function(b){return k.log(b)*k.LOG10E},isEqual:function(c,d,b){return k.abs(c-d)<b},isFinite:Number.isFinite||function(b){return typeof b==="number"&&isFinite(b)},toFixed:j?function(b,d){d=d||0;var c=k.pow(10,d);return(k.round(b*c)/c).toFixed(d)}:function(b,c){return b.toFixed(c)},from:function(b,c){if(isFinite(b)){b=parseFloat(b)}return !isNaN(b)?b:c},randomInt:function(b,c){return k.floor(k.random()*(c-b+1)+b)},correctFloat:function(b){return parseFloat(b.toPrecision(14))}});Ext.num=function(){return g.from.apply(this,arguments)}}());(function(){var m=function(){},o=/^\?/,n=/(\[):?([^\]]*)\]/g,j=/^([^\[]+)/,k=/\+/g,l=Ext.Object={chain:Object.create||function(b){m.prototype=b;var c=new m();m.prototype=null;return c},clear:function(c){for(var b in c){delete c[b]}return c},freeze:Object.freeze?function(b,d){if(b&&typeof b==="object"&&!Object.isFrozen(b)){Object.freeze(b);if(d){for(var c in b){l.freeze(b[c],d)}}}return b}:Ext.identityFn,toQueryObjects:function(c,f,d){var e=l.toQueryObjects,g=[],b,q;if(Ext.isArray(f)){for(b=0,q=f.length;b<q;b++){if(d){g=g.concat(e(c+"["+b+"]",f[b],true))}else{g.push({name:c,value:f[b]})}}}else{if(Ext.isObject(f)){for(b in f){if(f.hasOwnProperty(b)){if(d){g=g.concat(e(c+"["+b+"]",f[b],true))}else{g.push({name:c,value:f[b]})}}}}else{g.push({name:c,value:f})}}return g},toQueryString:function(f,u){var e=[],g=[],c,d,b,v,w;for(c in f){if(f.hasOwnProperty(c)){e=e.concat(l.toQueryObjects(c,f[c],u))}}for(d=0,b=e.length;d<b;d++){v=e[d];w=v.value;if(Ext.isEmpty(w)){w=""}else{if(Ext.isDate(w)){w=Ext.Date.toString(w)}}g.push(encodeURIComponent(v.name)+"="+encodeURIComponent(String(w)))}return g.join("&")},fromQueryString:function(O,c){var G=O.replace(o,"").split("&"),H={},b,K,E,g,d,M,f,e,P,L,J,I,F,N;for(d=0,M=G.length;d<M;d++){f=G[d];if(f.length>0){K=f.split("=");E=K[0];E=E.replace(k,"%20");E=decodeURIComponent(E);g=K[1];if(g!==undefined){g=g.replace(k,"%20");g=decodeURIComponent(g)}else{g=""}if(!c){if(H.hasOwnProperty(E)){if(!Ext.isArray(H[E])){H[E]=[H[E]]}H[E].push(g)}else{H[E]=g}}else{L=E.match(n);J=E.match(j);E=J[0];I=[];if(L===null){H[E]=g;continue}for(e=0,P=L.length;e<P;e++){F=L[e];F=(F.length===2)?"":F.substring(1,F.length-1);I.push(F)}I.unshift(E);b=H;for(e=0,P=I.length;e<P;e++){F=I[e];if(e===P-1){if(Ext.isArray(b)&&F===""){b.push(g)}else{b[F]=g}}else{if(b[F]===undefined||typeof b[F]==="string"){N=I[e+1];b[F]=(Ext.isNumeric(N)||N==="")?[]:{}}b=b[F]}}}}}return H},each:function(d,g,b){var e=Ext.enumerables,c,f;if(d){b=b||d;for(f in d){if(d.hasOwnProperty(f)){if(g.call(b,f,d[f],d)===false){return}}}if(e){for(c=e.length;c--;){if(d.hasOwnProperty(f=e[c])){if(g.call(b,f,d[f],d)===false){return}}}}}},eachValue:function(d,g,b){var e=Ext.enumerables,c,f;b=b||d;for(f in d){if(d.hasOwnProperty(f)){if(g.call(b,d[f])===false){return}}}if(e){for(c=e.length;c--;){if(d.hasOwnProperty(f=e[c])){if(g.call(b,d[f])===false){return}}}}},merge:function(d){var f=1,e=arguments.length,v=l.merge,s=Ext.clone,g,b,c,u;for(;f<e;f++){g=arguments[f];for(b in g){c=g[b];if(c&&c.constructor===Object){u=d[b];if(u&&u.constructor===Object){v(u,c)}else{d[b]=s(c)}}else{d[b]=c}}}return d},mergeIf:function(e){var q=1,g=arguments.length,c=Ext.clone,d,b,f;for(;q<g;q++){d=arguments[q];for(b in d){if(!(b in e)){f=d[b];if(f&&f.constructor===Object){e[b]=c(f)}else{e[b]=f}}}}return e},getAllKeys:function(d){var c=[],b;for(b in d){c.push(b)}return c},getKey:function(d,b){for(var c in d){if(d.hasOwnProperty(c)&&d[c]===b){return c}}return null},getValues:function(c){var d=[],b;for(b in c){if(c.hasOwnProperty(b)){d.push(c[b])}}return d},getKeys:(typeof Object.keys=="function")?function(b){if(!b){return[]}return Object.keys(b)}:function(d){var c=[],b;for(b in d){if(d.hasOwnProperty(b)){c.push(b)}}return c},getSize:function(d){var c=0,b;for(b in d){if(d.hasOwnProperty(b)){c++}}return c},isEmpty:function(c){for(var b in c){if(c.hasOwnProperty(b)){return false}}return true},equals:(function(){var b=function(c,d){var e;for(e in c){if(c.hasOwnProperty(e)){if(c[e]!==d[e]){return false}}}return true};return function(c,d){if(c===d){return true}if(c&&d){return b(c,d)&&b(d,c)}else{if(!c&&!d){return c===d}else{return false}}}})(),fork:function(b){var e,d,c;if(b&&b.constructor===Object){e=l.chain(b);for(d in b){c=b[d];if(c){if(c.constructor===Object){e[d]=l.fork(c)}else{if(c instanceof Array){e[d]=Ext.Array.clone(c)}}}}}else{e=b}return e},defineProperty:("defineProperty" in Object)?Object.defineProperty:function(c,d,b){if(!Object.prototype.__defineGetter__){return}if(b.get){c.__defineGetter__(d,b.get)}if(b.set){c.__defineSetter__(d,b.set)}},classify:function(b){var c=b,g=[],d={},e=function(){var v=0,u=g.length,p;for(;v<u;v++){p=g[v];this[p]=new d[p]()}},q,f;for(q in b){if(b.hasOwnProperty(q)){f=b[q];if(f&&f.constructor===Object){g.push(q);d[q]=l.classify(f)}}}e.prototype=c;return e}};Ext.merge=Ext.Object.merge;Ext.mergeIf=Ext.Object.mergeIf}());Ext.apply(Ext,{_namedScopes:{"this":{isThis:1},controller:{isController:1},self:{isSelf:1},"self.controller":{isSelf:1,isController:1}},escapeId:(function(){var l=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,k=/([\W]{1})/g,m=/^(\d)/g,g=function(b,c){return"\\"+c},j=function(b,c){return"\\00"+c.charCodeAt(0).toString(16)+" "};return function(b){return l.test(b)?b:b.replace(k,g).replace(m,j)}}()),callback:function(m,o,q,r,s,n){if(!m){return}var p=(o in Ext._namedScopes);if(m.charAt){if((!o||p)&&s){o=s.resolveListenerScope(p?o:n)}m=o[m]}else{if(p){o=n||s}else{if(!o){o=s}}}var l;if(m&&Ext.isFunction(m)){o=o||Ext.global;if(r){Ext.defer(m,r,o,q)}else{if(Ext.elevateFunction){l=Ext.elevateFunction(m,o,q)}else{if(q){l=m.apply(o,q)}else{l=m.call(o)}}}}return l},coerce:function(j,k){var l=Ext.typeOf(j),m=Ext.typeOf(k),g=typeof j==="string";if(l!==m){switch(m){case"string":return String(j);case"number":return Number(j);case"boolean":return g&&(!j||j==="false"||j==="0")?false:Boolean(j);case"null":return g&&(!j||j==="null")?null:false;case"undefined":return g&&(!j||j==="undefined")?undefined:false;case"date":return g&&isNaN(j)?Ext.Date.parse(j,Ext.Date.defaultFormat):Date(Number(j))}}return j},copyTo:function(q,o,m,n){if(typeof m==="string"){m=m.split(Ext.propertyNameSplitRe)}for(var k,p=0,l=m?m.length:0;p<l;p++){k=m[p];if(n||o.hasOwnProperty(k)){q[k]=o[k]}}return q},copy:function(q,o,m,n){if(typeof m==="string"){m=m.split(Ext.propertyNameSplitRe)}for(var k,p=0,l=m?m.length:0;p<l;p++){k=m[p];if(o.hasOwnProperty(k)||(n&&k in o)){q[k]=o[k]}}return q},propertyNameSplitRe:/[,;\s]+/,copyToIf:function(j,m,l){if(typeof l==="string"){l=l.split(Ext.propertyNameSplitRe)}for(var o,n=0,k=l?l.length:0;n<k;n++){o=l[n];if(j[o]===undefined){j[o]=m[o]}}return j},copyIf:function(j,m,l){if(typeof l==="string"){l=l.split(Ext.propertyNameSplitRe)}for(var o,n=0,k=l?l.length:0;n<k;n++){o=l[n];if(!(o in j)&&(o in m)){j[o]=m[o]}}return j},extend:(function(){var d=Object.prototype.constructor,e=function(b){var c;for(c in b){if(!b.hasOwnProperty(c)){continue}this[c]=b[c]}};return function(o,b,l){if(Ext.isObject(b)){l=b;b=o;o=l.constructor!==d?l.constructor:function(){b.apply(this,arguments)}}var m=function(){},n,c=b.prototype;m.prototype=c;n=o.prototype=new m();n.constructor=o;o.superclass=c;if(c.constructor===d){c.constructor=b}o.override=function(f){Ext.override(o,f)};n.override=e;n.proto=n;o.override(l);o.extend=function(f){return Ext.extend(o,f)};return o}}()),iterate:function(e,f,g){if(Ext.isEmpty(e)){return}if(g===undefined){g=e}if(Ext.isIterable(e)){Ext.Array.each.call(Ext.Array,e,f,g)}else{Ext.Object.each.call(Ext.Object,e,f,g)}},_resourcePoolRe:/^[<]([^<>@:]*)(?:[@]([^<>@:]+))?[>](.+)$/,resolveResource:function(f){var g=f,e;if(f&&f.charAt(0)==="<"){e=Ext._resourcePoolRe.exec(f);if(e){g=Ext.getResourcePath(e[3],e[1],e[2])}}return g},urlEncode:function(){var d=Ext.Array.from(arguments),e="";if(Ext.isString(d[1])){e=d[1]+"&";d[1]=false}return e+Ext.Object.toQueryString.apply(Ext.Object,d)},urlDecode:function(){return Ext.Object.fromQueryString.apply(Ext.Object,arguments)},getScrollbarSize:function(j){var k=Ext._scrollbarSize;if(j||!k){var f=document.body,g=document.createElement("div");g.style.width=g.style.height="100px";g.style.overflow="scroll";g.style.position="absolute";f.appendChild(g);Ext._scrollbarSize=k={width:g.offsetWidth-g.clientWidth,height:g.offsetHeight-g.clientHeight};f.removeChild(g)}return k},typeOf:(function(){var f=/\S/,j=Object.prototype.toString,g={number:1,string:1,"boolean":1,"undefined":1},k={"[object Array]":"array","[object Date]":"date","[object Boolean]":"boolean","[object Number]":"number","[object RegExp]":"regexp"};return function(c){if(c===null){return"null"}var d=typeof c,e,b;if(g[d]){return d}e=k[b=j.call(c)];if(e){return e}if(d==="function"){return"function"}if(d==="object"){if(c.nodeType!==undefined){if(c.nodeType===3){return f.test(c.nodeValue)?"textnode":"whitespace"}else{return"element"}}return"object"}return b}}()),factory:function(o,l,j,k){var m=Ext.ClassManager,n;if(!o||o.isInstance){if(j&&j!==o){j.destroy()}return o}if(k){if(typeof o==="string"){return m.instantiateByAlias(k+"."+o)}else{if(Ext.isObject(o)&&"type" in o){return m.instantiateByAlias(k+"."+o.type,o)}}}if(o===true){return j||Ext.create(l)}if("xtype" in o){n=m.instantiateByAlias("widget."+o.xtype,o)}else{if("xclass" in o){n=Ext.create(o.xclass,o)}}if(n){if(j){j.destroy()}return n}if(j){return j.setConfig(o)}return Ext.create(l,o)},log:(function(){var c=function(){};c.info=c.warn=c.error=Ext.emptyFn;return c}())});(function(){var q=[""],m=/([^\d\.])/,s=/[^\d]/g,l=/[\-+]/g,n=/\s/g,r=/_/g,o={classic:1,modern:1},p;Ext.Version=p=function(y,d){var x=this,f=x.padModes,j,b,e,c,k,g,A;if(y.isVersion){y=y.version}x.version=A=String(y).toLowerCase().replace(r,".").replace(l,"");j=A.charAt(0);if(j in f){A=A.substring(1);e=f[j]}else{e=d?f[d]:0}x.pad=e;g=A.search(m);x.shortVersion=A;if(g!==-1){x.release=k=A.substr(g,y.length);x.shortVersion=A.substr(0,g);k=p.releaseValueMap[k]||k}x.releaseValue=k||e;x.shortVersion=x.shortVersion.replace(s,"");x.parts=c=A.split(".");for(b=c.length;b--;){c[b]=parseInt(c[b],10)}if(e===Infinity){c.push(e)}x.major=c[0]||e;x.minor=c[1]||e;x.patch=c[2]||e;x.build=c[3]||e;return x};p.prototype={isVersion:true,padModes:{"~":NaN,"^":Infinity},release:"",compareTo:function(B){var A=this,d=A.pad,D=A.parts,k=D.length,e=B.isVersion?B:new p(B),g=e.pad,E=e.parts,b=E.length,j=Math.max(k,b),c,f,C;for(c=0;c<j;c++){f=(c<k)?D[c]:d;C=(c<b)?E[c]:g;if(f<C){return -1}if(f>C){return 1}}f=A.releaseValue;C=e.releaseValue;if(f<C){return -1}if(f>C){return 1}return 0},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major},getMinor:function(){return this.minor},getPatch:function(){return this.patch},getBuild:function(){return this.build},getRelease:function(){return this.release},getReleaseValue:function(){return this.releaseValue},isGreaterThan:function(b){return this.compareTo(b)>0},isGreaterThanOrEqual:function(b){return this.compareTo(b)>=0},isLessThan:function(b){return this.compareTo(b)<0},isLessThanOrEqual:function(b){return this.compareTo(b)<=0},equals:function(b){return this.compareTo(b)===0},match:function(b){b=String(b);return this.version.substr(0,b.length)===b},toArray:function(){var b=this;return[b.getMajor(),b.getMinor(),b.getPatch(),b.getBuild(),b.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(b){return this.compareTo(b)>0},lt:function(b){return this.compareTo(b)<0},gtEq:function(b){return this.compareTo(b)>=0},ltEq:function(b){return this.compareTo(b)<=0}};Ext.apply(p,{aliases:{from:{extjs:"ext",core:"core",touch:"modern"},to:{ext:["extjs"],core:["core"],modern:["touch"]}},releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,"#":-2,p:-1,pl:-1},getComponentValue:function(b){return !b?0:(isNaN(b)?this.releaseValueMap[b]||b:parseInt(b,10))},compare:function(d,b){var c=d.isVersion?d:new p(d);return c.compareTo(b)},set:function(d,f,g){var b=p.aliases.to[f],c=g.isVersion?g:new p(g),e;d[f]=c;if(b){for(e=b.length;e-->0;){d[b[e]]=c}}return c}});Ext.apply(Ext,{compatVersions:{},versions:{},lastRegisteredVersion:null,getCompatVersion:function(b){var c=Ext.compatVersions,d;if(!b){d=c.ext||c.touch||c.core}else{d=c[p.aliases.from[b]||b]}return d||Ext.getVersion(b)},setCompatVersion:function(b,c){p.set(Ext.compatVersions,b,c)},setVersion:function(b,c){if(b in o){Ext.toolkit=b}Ext.lastRegisteredVersion=p.set(Ext.versions,b,c);return this},getVersion:function(b){var c=Ext.versions;if(!b){return c.ext||c.touch||c.core}return c[p.aliases.from[b]||b]},checkVersion:function(c,g){var J=Ext.isArray(c),E=p.aliases.from,e=J?c:q,F=e.length,j=Ext.versions,k=j.ext||j.touch,M,H,K,f,d,G,b,L,I;if(!J){q[0]=c}for(M=0;M<F;++M){if(!Ext.isString(b=e[M])){K=Ext.checkVersion(b.and||b.or,!b.or);if(b.not){K=!K}}else{if(b.indexOf(" ")>=0){b=b.replace(n,"")}H=b.indexOf("@");if(H<0){L=b;I=k}else{G=b.substring(0,H);if(!(I=j[E[G]||G])){if(g){return false}continue}L=b.substring(H+1)}H=L.indexOf("-");if(H<0){if(L.charAt(H=L.length-1)==="+"){f=L.substring(0,H);d=null}else{f=d=L}}else{if(H>0){f=L.substring(0,H);d=L.substring(H+1)}else{f=null;d=L.substring(H+1)}}K=true;if(f){f=new p(f,"~");K=f.ltEq(I)}if(K&&d){d=new p(d,"~");K=d.gtEq(I)}}if(K){if(!g){return true}}else{if(g){return false}}}return !!g},deprecate:function(c,e,d,b){if(p.compare(Ext.getVersion(c),e)<1){d.call(b)}}})}());(function(k){var j=(k&&k.packages)||{},l=k&&k.compatibility,m,g;for(m in j){g=j[m];Ext.setVersion(m,g.version)}if(l){if(Ext.isString(l)){Ext.setCompatVersion("core",l)}else{for(m in l){Ext.setCompatVersion(m,l[m])}}}if(!j.ext&&!j.touch){Ext.setVersion("ext","6.2.0.981");Ext.setVersion("core","6.2.0.981")}})(Ext.manifest);Ext.Config=function(g){var f=this,e=g.charAt(0).toUpperCase()+g.substr(1);f.name=g;f.names={internal:"_"+g,initializing:"is"+e+"Initializing",apply:"apply"+e,update:"update"+e,get:"get"+e,set:"set"+e,initGet:"initGet"+e,changeEvent:g.toLowerCase()+"change"};f.root=f};Ext.Config.map={};Ext.Config.get=function(g){var f=Ext.Config.map,e=f[g]||(f[g]=new Ext.Config(g));return e};Ext.Config.prototype={self:Ext.Config,isConfig:true,getGetter:function(){return this.getter||(this.root.getter=this.makeGetter())},getInitGetter:function(){return this.initGetter||(this.root.initGetter=this.makeInitGetter())},getSetter:function(){return this.setter||(this.root.setter=this.makeSetter())},getEventedSetter:function(){return this.eventedSetter||(this.root.eventedSetter=this.makeEventedSetter())},getInternalName:function(c){return c.$configPrefixed?this.names.internal:this.name},mergeNew:function(k,o,l,m){var j,n;if(!o){j=k}else{if(!k){j=o}else{j=Ext.Object.chain(o);for(n in k){if(!m||!(n in j)){j[n]=k[n]}}}}return j},mergeSets:function(l,n,j){var o=n?Ext.Object.chain(n):{},m,k;if(l instanceof Array){for(m=l.length;m--;){k=l[m];if(!j||!(k in o)){o[k]=true}}}else{if(l){if(l.constructor===Object){for(m in l){k=l[m];if(!j||!(m in o)){o[m]=k}}}else{if(!j||!(l in o)){o[l]=true}}}}return o},makeGetter:function(){var d=this.name,e=this.names.internal;return function(){var b=this.$configPrefixed?e:d;return this[b]}},makeInitGetter:function(){var g=this.name,j=this.names,k=j.set,m=j.get,l=j.initializing;return function(){var b=this;b[l]=true;delete b[m];b[k](b.config[g]);delete b[l];return b[m].apply(b,arguments)}},makeSetter:function(){var k=this.name,n=this.names,p=n.internal,o=n.get,q=n.apply,l=n.update,m;m=function(e){var b=this,c=b.$configPrefixed?p:k,d=b[c];delete b[o];if(!b[q]||(e=b[q](e,d))!==undefined){if(e!==(d=b[c])){b[c]=e;if(b[l]){b[l](e,d)}}}return b};m.$isDefault=true;return m},makeEventedSetter:function(){var u=this.name,o=this.names,m=o.internal,v=o.get,n=o.apply,r=o.update,p=o.changeEvent,q=function(d,c,b,e){d[e]=c;if(d[r]){d[r](c,b)}},s;s=function(c){var d=this,e=d.$configPrefixed?m:u,b=d[e];delete d[v];if(!d[n]||(c=d[n](c,b))!==undefined){if(c!==(b=d[e])){if(d.isConfiguring){d[e]=c;if(d[r]){d[r](c,b)}}else{d.fireEventedAction(p,[d,c,b],q,d,[d,c,b,e])}}}return d};s.$isDefault=true;return s}};(function(){var g=Ext.Config,f=g.map,e=Ext.Object;Ext.Configurator=function(k){var c=this,d=k.prototype,b=k.superclass?k.superclass.self.$config:null;c.cls=k;c.superCfg=b;if(b){c.configs=e.chain(b.configs);c.cachedConfigs=e.chain(b.cachedConfigs);c.initMap=e.chain(b.initMap);c.values=e.chain(b.values);c.needsFork=b.needsFork}else{c.configs={};c.cachedConfigs={};c.initMap={};c.values={}}d.config=d.defaultConfig=c.values;k.$config=c};Ext.Configurator.prototype={self:Ext.Configurator,needsFork:false,initList:null,add:function(c,S){var b=this,O=b.cls,L=b.configs,I=b.cachedConfigs,J=b.initMap,D=O.prototype,H=S&&S.$config.configs,R=b.values,M,K,d,Q,P,N,F,E,G,s;for(F in c){s=c[F];M=s&&s.constructor===Object;K=M&&"$value" in s?s:null;d=false;if(K){d=!!K.cached;s=K.$value;M=s&&s.constructor===Object}Q=K&&K.merge;P=L[F];if(P){if(S){Q=P.merge;if(!Q){continue}K=null}else{Q=Q||P.merge}N=R[F];if(Q){s=Q.call(P,s,N,O,S)}else{if(M){if(N&&N.constructor===Object){s=e.merge({},N,s)}}}}else{if(H){P=H[F];K=null}else{P=g.get(F)}L[F]=P;if(P.cached||d){I[F]=true}E=P.names;if(!D[G=E.get]){D[G]=P.getter||P.getGetter()}if(!D[G=E.set]){D[G]=(K&&K.evented)?(P.eventedSetter||P.getEventedSetter()):(P.setter||P.getSetter())}}if(K){if(P.owner!==O){L[F]=P=Ext.Object.chain(P);P.owner=O}Ext.apply(P,K);delete P.$value}if(!b.needsFork&&s&&(s.constructor===Object||s instanceof Array)){b.needsFork=true}if(s!==null){J[F]=true}else{if(D.$configPrefixed){D[L[F].names.internal]=null}else{D[L[F].name]=null}if(F in J){J[F]=false}}R[F]=s}},configure:function(M,R){var J=this,S=J.configs,Q=J.initMap,N=J.initListMap,b=J.initList,L=J.cls.prototype,X=J.values,I=0,F=!b,W,V,U,c,d,T,P,H,G,K,O,Y;X=J.needsFork?e.fork(X):e.chain(X);M.isConfiguring=true;if(F){J.initList=b=[];J.initListMap=N={};M.isFirstInstance=true;for(H in Q){V=S[H];K=V.cached;if(Q[H]){P=V.names;G=X[H];if(!L[P.set].$isDefault||L[P.apply]||L[P.update]||typeof G==="object"){if(K){(W||(W=[])).push(V)}else{b.push(V);N[H]=true}M[P.get]=V.initGetter||V.getInitGetter()}else{L[V.getInternalName(L)]=G}}else{if(K){L[V.getInternalName(L)]=undefined}}}}T=W&&W.length;if(T){for(c=0;c<T;++c){d=W[c].getInternalName(L);M[d]=null}for(c=0;c<T;++c){P=(V=W[c]).names;U=P.get;if(M.hasOwnProperty(U)){M[P.set](X[V.name]);delete M[U]}}for(c=0;c<T;++c){d=W[c].getInternalName(L);L[d]=M[d];delete M[d]}}if(R&&R.platformConfig){R=J.resolvePlatformConfig(M,R)}if(F){if(M.afterCachedConfig&&!M.afterCachedConfig.$nullFn){M.afterCachedConfig(R)}}M.config=X;for(c=0,T=b.length;c<T;++c){V=b[c];M[V.names.get]=V.initGetter||V.getInitGetter()}if(M.transformInstanceConfig){R=M.transformInstanceConfig(R)}if(R){for(H in R){G=R[H];V=S[H];if(!V){M[H]=G}else{if(!V.lazy){++I}if(!N[H]){M[V.names.get]=V.initGetter||V.getInitGetter()}if(V.merge){G=V.merge(G,X[H],M)}else{if(G&&G.constructor===Object){O=X[H];if(O&&O.constructor===Object){G=e.merge(X[H],G)}else{G=Ext.clone(G,false)}}}}X[H]=G}}if(M.beforeInitConfig&&!M.beforeInitConfig.$nullFn){if(M.beforeInitConfig(R)===false){return}}if(R){for(H in R){if(!I){break}V=S[H];if(V&&!V.lazy){--I;P=V.names;U=P.get;if(M.hasOwnProperty(U)){M[P.set](X[H]);delete M[P.get]}}}}for(c=0,T=b.length;c<T;++c){V=b[c];P=V.names;U=P.get;if(!V.lazy&&M.hasOwnProperty(U)){M[P.set](X[V.name]);delete M[U]}}delete M.isConfiguring},getCurrentConfig:function(d){var k=d.defaultConfig,b={},c;for(c in k){b[c]=d[f[c].names.get]()}return b},merge:function(r,c,o){var s=this.configs,p,b,d,q;for(p in o){b=o[p];q=s[p];if(q){if(q.merge){b=q.merge(b,c[p],r)}else{if(b&&b.constructor===Object){d=c[p];if(d&&d.constructor===Object){b=Ext.Object.merge(d,b)}else{b=Ext.clone(b,false)}}}}c[p]=b}return c},reconfigure:function(H,w,G){var B=H.config,A=[],I=H.$configStrict&&!(G&&G.strict===false),d=this.configs,D=G&&G.defaults,x,b,C,y,E,c,F;for(E in w){if(D&&H.hasOwnProperty(E)){continue}B[E]=w[E];x=d[E];if(x){H[x.names.get]=x.initGetter||x.getInitGetter()}else{F=H.self.prototype[E];if(I){if((typeof F==="function")&&!F.$nullFn){continue}}}A.push(E)}for(C=0,y=A.length;C<y;C++){E=A[C];x=d[E];if(x){c=x.names;b=c.get;if(H.hasOwnProperty(b)){H[c.set](w[E]);delete H[b]}}else{x=f[E]||Ext.Config.get(E);c=x.names;if(H[c.set]){H[c.set](w[E])}else{H[E]=w[E]}}}},resolvePlatformConfig:function(q,b){var d=b&&b.platformConfig,p=b,o,n,c;if(d){n=Ext.getPlatformConfigKeys(d);c=n.length;if(c){p=Ext.merge({},p);for(o=0,c=n.length;o<c;++o){this.merge(q,p,d[n[o]])}}}return p}}}());Ext.Base=(function(C){var D=[],u,r=[],q=function(d,e){var b=this,f,g,c;if(d){g=Ext.Config.map[d];c=g.names.get;if(e&&b.hasOwnProperty(c)){f=b.config[d]}else{f=b[c]()}}else{f=b.getCurrentConfig()}return f},x=function(b){return function(){return this[b].apply(this,arguments)}},E=Ext.Version,v=/^\d/,s={},A={},w=function(){},B=w.prototype,y;Ext.Reaper=y={delay:100,queue:[],timer:null,add:function(b){if(!y.timer){y.timer=Ext.defer(y.tick,y.delay)}y.queue.push(b)},flush:function(){if(y.timer){clearTimeout(y.timer);y.timer=null}var e=y.queue,b=e.length,d,c;y.queue=[];for(d=0;d<b;++d){c=e[d];if(c&&c.$reap){c.$reap()}}},tick:function(){y.timer=null;y.flush()}};Ext.apply(w,{$className:"Ext.Base",$isClass:true,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},addDeprecations:function(e){var f=this,L=[],m=Ext.getCompatVersion(e.name),j,K,g,p,d,O,l,c,n,b,M,N,k,o;for(K in e){if(v.test(K)){o=new Ext.Version(K);o.deprecations=e[K];L.push(o)}}L.sort(E.compare);for(g=L.length;g--;){j=(o=L[g]).deprecations;d=f.prototype;k=j.statics;O=m&&m.lt(o);if(!O){break}while(j){n=j.methods;if(n){for(b in n){N=n[b];c=null;if(!N){}else{if(Ext.isString(N)){if(O){c=x(N)}}else{p="";if(N.message||N.fn){N=N.fn}l=d.hasOwnProperty(b)&&d[b];if(O&&N){N.$owner=f;N.$name=b;if(l){N.$previous=l}c=N}}}if(c){d[b]=c}}}j=k;k=null;d=f}}},extend:function(d){var c=this,g=d.prototype,e,f,b;e=c.prototype=Ext.Object.chain(g);e.self=c;c.superclass=e.superclass=g;if(!d.$isClass){for(f in B){if(f in e){e[f]=B[f]}}}b=g.$inheritableStatics;if(b){for(f in b){if(!c.hasOwnProperty(f)){c[f]=d[f]}}}if(d.$onExtended){c.$onExtended=d.$onExtended.slice()}c.getConfigurator()},$onExtended:[],triggerExtended:function(){var c=this.$onExtended,d=c.length,e,b;if(d>0){for(e=0;e<d;e++){b=c[e];b.fn.apply(b.scope||this,arguments)}}},onExtended:function(b,c){this.$onExtended.push({fn:b,scope:c});return this},addStatics:function(b){this.addMembers(b,true);return this},addInheritableStatics:function(j){var e=this,f=e.prototype,d=e.$inheritableStatics,g,b,c;if(!d){d=Ext.apply({},f.$inheritableStatics);e.$inheritableStatics=f.$inheritableStatics=d}for(g in j){if(j.hasOwnProperty(g)){b=j[g];c=e[g];if(typeof c==="function"&&!c.$isClass&&!c.$nullFn){b.$previous=c}e[g]=b;d[g]=true}}return e},addMembers:function(n,m,c){var I=this,g=Ext.Function.clone,b=m?I:I.prototype,l=!m&&b.defaultConfig,p=Ext.enumerables,f=n.privates,e,j,K,k,d,J,o;if(f){delete n.privates;if(!m){o=f.statics;delete f.statics}I.addMembers(f,m,J);if(o){I.addMembers(o,true,J)}}for(d in n){if(n.hasOwnProperty(d)){k=n[d];if(typeof k==="function"&&!k.$isClass&&!k.$nullFn){if(k.$owner){k=g(k)}if(b.hasOwnProperty(d)){k.$previous=b[d]}k.$owner=I;k.$name=d}else{if(l&&(d in l)&&!b.config.hasOwnProperty(d)){(e||(e={}))[d]=k;continue}}b[d]=k}}if(e){I.addConfig(e)}if(p){for(j=0,K=p.length;j<K;++j){if(n.hasOwnProperty(d=p[j])){k=n[d];if(k&&!k.$nullFn){if(k.$owner){k=g(k)}k.$owner=I;k.$name=d;if(b.hasOwnProperty(d)){k.$previous=b[d]}}b[d]=k}}}return this},addMember:function(c,b){s[c]=b;this.addMembers(s);delete s[c];return this},borrow:function(b,j){var f=b.prototype,d={},e,c,g;j=Ext.Array.from(j);for(e=0,c=j.length;e<c;e++){g=j[e];d[g]=f[g]}return this.addMembers(d)},override:function(g){var e=this,b=g.statics,c=g.inheritableStatics,f=g.config,j=g.mixins,d=g.cachedConfig;if(b||c||f){g=Ext.apply({},g)}if(b){e.addMembers(b,true);delete g.statics}if(c){e.addInheritableStatics(c);delete g.inheritableStatics}if(g.platformConfig){e.addPlatformConfig(g)}if(f){e.addConfig(f);delete g.config}if(d){e.addCachedConfig(d);delete g.cachedConfig}delete g.mixins;e.addMembers(g);if(j){e.mixin(j)}return e},addPlatformConfig:function(l){var e=this,k=l.platformConfig,G=l.config,c,j,g,n,b,o,d,p,m,f;delete l.platformConfig;n=e.getConfigurator();j=n.configs;o=Ext.getPlatformConfigKeys(k);for(m=0,f=o.length;m<f;++m){g=k[o[m]];b=c=null;for(d in g){p=g[d];if(G&&d in G){(c||(c={}))[d]=p;(b||(b={}))[d]=G[d];delete G[d]}else{if(d in j){(c||(c={}))[d]=p}else{l[d]=p}}}if(b){n.add(b)}if(c){n.add(c)}}},callParent:function(c){var b;return(b=this.callParent.caller)&&(b.$previous||((b=b.$owner?b:b.caller)&&b.$owner.superclass.self[b.$name])).apply(this,c||D)},callSuper:function(c){var b;return(b=this.callSuper.caller)&&((b=b.$owner?b:b.caller)&&b.$owner.superclass.self[b.$name]).apply(this,c||D)},mixin:function(e,p){var j=this,o,f,c,g,n,k,m,e,d,l,b;if(typeof e!=="string"){l=e;if(l instanceof Array){for(n=0,k=l.length;n<k;n++){o=l[n];j.mixin(o.prototype.mixinId||o.$className,o)}}else{for(m in l){j.mixin(m,l[m])}}return}o=p.prototype;f=j.prototype;if(o.onClassMixedIn){o.onClassMixedIn.call(p,j)}if(!f.hasOwnProperty("mixins")){if("mixins" in f){f.mixins=Ext.Object.chain(f.mixins)}else{f.mixins={}}}for(c in o){d=o[c];if(c==="mixins"){Ext.applyIf(f.mixins,d)}else{if(!(c==="mixinId"||c==="config"||c==="$inheritableStatics")&&(f[c]===undefined)){f[c]=d}}}g=o.$inheritableStatics;if(g){b={};for(e in g){if(!j.hasOwnProperty(e)){b[e]=p[e]}}j.addInheritableStatics(b)}if("config" in o){j.addConfig(o.config,p)}f.mixins[e]=o;if(o.afterClassMixedIn){o.afterClassMixedIn.call(p,j)}return j},addConfig:function(c,b){var d=this.$config||this.getConfigurator();d.add(c,b)},addCachedConfig:function(e,c){var b={},d;for(d in e){b[d]={cached:true,$value:e[d]}}this.addConfig(b,c)},getConfigurator:function(){return this.$config||new Ext.Configurator(this)},getName:function(){return Ext.getClassName(this)},createAlias:C(function(b,c){A[b]=function(){return this[c].apply(this,arguments)};this.override(A);delete A[b]})});for(u in w){if(w.hasOwnProperty(u)){r.push(u)}}w.$staticMembers=r;w.getConfigurator();w.addMembers({$className:"Ext.Base",isInstance:true,$configPrefixed:true,$configStrict:true,isConfiguring:false,isFirstInstance:false,destroyed:false,clearPropertiesOnDestroy:true,clearPrototypeOnDestroy:false,statics:function(){var b=this.statics.caller,c=this.self;if(!b){return c}return b.$owner},callParent:function(c){var b,d=(b=this.callParent.caller)&&(b.$previous||((b=b.$owner?b:b.caller)&&b.$owner.superclass[b.$name]));return d.apply(this,c||D)},callSuper:function(c){var b,d=(b=this.callSuper.caller)&&((b=b.$owner?b:b.caller)&&b.$owner.superclass[b.$name]);return d.apply(this,c||D)},self:w,constructor:function(){return this},initConfig:function(b){var c=this,d=c.self.getConfigurator();c.initConfig=Ext.emptyFn;c.initialConfig=b||{};d.configure(c,b);return c},beforeInitConfig:Ext.emptyFn,getConfig:q,setConfig:function(d,b,e){var c=this,f;if(d){if(typeof d==="string"){f={};f[d]=b}else{f=d}c.self.getConfigurator().reconfigure(c,f,e)}return c},getCurrentConfig:function(){var b=this.self.getConfigurator();return b.getCurrentConfig(this)},hasConfig:function(b){return b in this.defaultConfig},getInitialConfig:function(b){var c=this.config;if(!b){return c}return c[b]},$links:null,link:function(d,b){var c=this,e=c.$links||(c.$links={});e[d]=true;c[d]=b;return b},unlink:function(b){var d=this,g,e,f,c;for(g=0,e=b.length;g<e;g++){f=b[g];c=d[f];if(c){if(c.isInstance&&!c.destroyed){c.destroy()}else{if(c.parentNode&&"nodeType" in c){c.parentNode.removeChild(c)}}}d[f]=null}return d},$reap:function(){var d=this,f=d.$noClearOnDestroy,b,c,e;for(b in d){if((!f||!f[b])&&d.hasOwnProperty(b)){c=d[b];e=typeof c;if(e==="object"||(e==="function"&&!c.$noClearOnDestroy)){d[b]=null}}}},destroy:function(){var b=this,c=b.$links,d=b.clearPropertiesOnDestroy;if(c){b.$links=null;b.unlink(Ext.Object.getKeys(c))}b.destroy=Ext.emptyFn;b.isDestroyed=b.destroyed=true;if(d===true){b.$reap()}else{if(d){y.add(b)}}}});B.callOverridden=B.callParent;return w}(Ext.Function.flexSetter));(function(e,d){(Ext.util||(Ext.util={})).Cache=e=function(g){var b=this,c;if(g){Ext.apply(b,g)}b.head=c={key:null,value:null};b.map={};c.next=c.prev=c};e.prototype=d={maxSize:100,count:0,clear:function(){var b=this,g=b.head,c=g.next;g.next=g.prev=g;if(!b.evict.$nullFn){for(;c!==g;c=c.next){b.evict(c.key,c.value)}}b.count=0},each:function(c,j){j=j||this;for(var k=this.head,b=k.next;b!==k;b=b.next){if(c.call(j,b.key,b.value)){break}}},get:function(l){var c=this,m=c.head,b=c.map,k=b[l];if(k){if(k.prev!==m){c.unlinkEntry(k);c.linkEntry(k)}}else{b[l]=k={key:l,value:c.miss.apply(c,arguments)};c.linkEntry(k);++c.count;while(c.count>c.maxSize){c.unlinkEntry(m.prev,true);--c.count}}return k.value},evict:Ext.emptyFn,linkEntry:function(c){var g=this.head,b=g.next;c.next=b;c.prev=g;g.next=c;b.prev=c},unlinkEntry:function(c,b){var k=c.next,j=c.prev;j.next=k;k.prev=j;if(b){this.evict(c.key,c.value)}}};d.destroy=d.clear}());(function(){var k,l=Ext.Base,j=l.$staticMembers,m=function(b,c){return(b.length-c.length)||((b<c)?-1:((b>c)?1:0))};function g(b){function c(){return this.constructor.apply(this,arguments)||null}return c}Ext.Class=k=function(c,b,d){if(typeof c!="function"){d=b;b=c;c=null}if(!b){b={}}c=k.create(c,b);k.process(c,b,d);return c};Ext.apply(k,{makeCtor:g,onBeforeCreated:function(c,b,d){c.addMembers(b);d.onCreated.call(c,c)},create:function(e,b){var c=j.length,d;if(!e){e=g()}while(c--){d=j[c];e[d]=l[d]}return e},process:function(C,d,A){var B=d.preprocessors||k.defaultPreprocessors,H=this.preprocessors,E={onBeforeCreated:this.onBeforeCreated},F=[],D,e,f,G,y,b,c;delete d.preprocessors;C._classHooks=E;for(f=0,G=B.length;f<G;f++){D=B[f];if(typeof D=="string"){D=H[D];e=D.properties;if(e===true){F.push(D.fn)}else{if(e){for(y=0,b=e.length;y<b;y++){c=e[y];if(d.hasOwnProperty(c)){F.push(D.fn);break}}}}}else{F.push(D)}}E.onCreated=A?A:Ext.emptyFn;E.preprocessors=F;this.doProcess(C,d,E)},doProcess:function(e,q,f){var b=this,p=f.preprocessors,d=p.shift(),c=b.doProcess;for(;d;d=p.shift()){if(d.call(b,e,q,f,c)===false){return}}f.onBeforeCreated.apply(b,arguments)},preprocessors:{},registerPreprocessor:function(e,b,d,f,c){if(!f){f="last"}if(!d){d=[e]}this.preprocessors[e]={name:e,properties:d||false,fn:b};this.setDefaultPreprocessorPosition(e,f,c);return this},getPreprocessor:function(b){return this.preprocessors[b]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(b){this.defaultPreprocessors=Ext.Array.from(b);return this},setDefaultPreprocessorPosition:function(d,b,c){var f=this.defaultPreprocessors,e;if(typeof b=="string"){if(b==="first"){f.unshift(d);return this}else{if(b==="last"){f.push(d);return this}}b=(b==="after")?1:-1}e=Ext.Array.indexOf(f,c);if(e!==-1){Ext.Array.splice(f,Math.max(0,e+b),0,d)}return this}});k.registerPreprocessor("extend",function(u,r,b){var f=Ext.Base,e=f.prototype,d=r.extend,v,c,s;delete r.extend;if(d&&d!==Object){v=d}else{v=f}c=v.prototype;if(!v.$isClass){for(s in e){if(!c[s]){c[s]=e[s]}}}u.extend(v);u.triggerExtended.apply(u,arguments);if(r.onClassExtended){u.onExtended(r.onClassExtended,u);delete r.onClassExtended}},true);k.registerPreprocessor("privates",function(f,c){var d=c.privates,b=d.statics,e=d.privacy||true;delete c.privates;delete d.statics;f.addMembers(d,false,e);if(b){f.addMembers(b,true,e)}});k.registerPreprocessor("statics",function(c,b){c.addStatics(b.statics);delete b.statics});k.registerPreprocessor("inheritableStatics",function(c,b){c.addInheritableStatics(b.inheritableStatics);delete b.inheritableStatics});Ext.createRuleFn=function(b){return new Function("$c","with($c) { try { return ("+b+"); } catch(e) { return false;}}")};Ext.expressionCache=new Ext.util.Cache({miss:Ext.createRuleFn});Ext.ruleKeySortFn=m;Ext.getPlatformConfigKeys=function(c){var d=[],e,b;for(e in c){b=Ext.expressionCache.get(e);if(b(Ext.platformTags)){d.push(e)}}d.sort(m);return d};k.registerPreprocessor("platformConfig",function(c,b,d){c.addPlatformConfig(b)});k.registerPreprocessor("config",function(c,b){if(b.hasOwnProperty("$configPrefixed")){c.prototype.$configPrefixed=b.$configPrefixed}c.addConfig(b.config);delete b.config});k.registerPreprocessor("cachedConfig",function(c,b){if(b.hasOwnProperty("$configPrefixed")){c.prototype.$configPrefixed=b.$configPrefixed}c.addCachedConfig(b.cachedConfig);delete b.cachedConfig});k.registerPreprocessor("mixins",function(c,b,f){var d=b.mixins,e=f.onCreated;delete b.mixins;f.onCreated=function(){f.onCreated=e;c.mixin(d);return f.onCreated.apply(this,arguments)}});Ext.extend=function(c,b,d){if(arguments.length===2&&Ext.isObject(b)){d=b;b=c;c=null}var e;if(!b){throw new Error("[Ext.extend] Attempting to extend from a class which has not been loaded on the page.")}d.extend=b;d.preprocessors=["extend","statics","inheritableStatics","mixins","platformConfig","config"];if(c){e=new k(c,d);e.prototype.constructor=c}else{e=new k(d)}e.prototype.override=function(f){for(var o in f){if(f.hasOwnProperty(o)){this[o]=f[o]}}};return e}}());Ext.Inventory=function(){var c=this;c.names=[];c.paths={};c.alternateToName={};c.aliasToName={};c.nameToAliases={};c.nameToAlternates={};c.nameToPrefix={}};Ext.Inventory.prototype={_array1:[0],prefixes:null,dotRe:/\./g,wildcardRe:/\*/g,addAlias:function(g,e,f){return this.addMapping(g,e,this.aliasToName,this.nameToAliases,f)},addAlternate:function(d,e){return this.addMapping(d,e,this.alternateToName,this.nameToAlternates)},addMapping:function(w,D,C,s,B){var G=w.$className||w,y=G,x=this._array1,u,E,r,A,F,v;if(Ext.isString(G)){y={};y[G]=D}for(r in y){E=y[r];if(Ext.isString(E)){x[0]=E;E=x}F=E.length;v=s[r]||(s[r]=[]);for(A=0;A<F;++A){if(!(u=E[A])){continue}if(C[u]!==r){C[u]=r;v.push(u)}}}},getAliasesByName:function(c){return this.nameToAliases[c]||null},getAlternatesByName:function(c){return this.nameToAlternates[c]||null},getNameByAlias:function(c){return this.aliasToName[c]||""},getNameByAlternate:function(c){return this.alternateToName[c]||""},getNamesByExpression:function(I,S,L){var A=this,D=A.aliasToName,G=A.alternateToName,R=A.nameToAliases,P=A.nameToAlternates,B=L?S:{},J=[],C=Ext.isString(I)?[I]:I,M=C.length,O=A.wildcardRe,Q,F,E,K,H,n,N;for(F=0;F<M;++F){if((Q=C[F]).indexOf("*")<0){if(!(n=D[Q])){if(!(n=G[Q])){n=Q}}if(!(n in B)&&!(S&&(n in S))){B[n]=1;J.push(n)}}else{N=new RegExp("^"+Q.replace(O,"(.*?)")+"$");for(n in R){if(!(n in B)&&!(S&&(n in S))){if(!(K=N.test(n))){H=(E=R[n]).length;while(!K&&H-->0){K=N.test(E[H])}E=P[n];if(E&&!K){H=E.length;while(!K&&H-->0){K=N.test(E[H])}}}if(K){B[n]=1;J.push(n)}}}}}return J},getPath:function(m){var l=this,j=l.paths,g="",k;if(m in j){g=j[m]}else{k=l.nameToPrefix[m]||(l.nameToPrefix[m]=l.getPrefix(m));if(k){m=m.substring(k.length+1);g=j[k];if(g){g+="/"}}g+=m.replace(l.dotRe,"/")+".js"}return g},getPrefix:function(o){if(o in this.paths){return o}else{if(o in this.nameToPrefix){return this.nameToPrefix[o]}}var q=this.getPrefixes(),u=o.length,n,s,v,p,r,j;while(u-->0){n=q[u];if(n){s=o.charAt(u);if(s!=="."){continue}v=o.substring(0,u);for(r=0,j=n.length;r<j;r++){p=n[r];if(p===o.substring(0,u)){return p}}}}return""},getPrefixes:function(){var p=this,o=p.prefixes,m,r,n,s,q,l;if(!o){m=p.names.slice(0);p.prefixes=o=[];for(q=0,l=m.length;q<l;q++){r=m[q];n=r.length;s=o[n]||(o[n]=[]);s.push(r)}}return o},removeName:function(x){var s=this,p=s.aliasToName,n=s.alternateToName,o=s.nameToAliases,u=s.nameToAlternates,w=o[x],r=u[x],v,q;delete o[x];delete u[x];delete s.nameToPrefix[x];if(w){for(v=w.length;v--;){if(x===(q=w[v])){delete p[q]}}}if(r){for(v=r.length;v--;){if(x===(q=r[v])){delete n[q]}}}},resolveName:function(e){var g=this,f;if(!(e in g.nameToAliases)){if(!(f=g.aliasToName[e])){f=g.alternateToName[e]}}return f||e},select:function(l,n){var m=this,k={},o={excludes:k,exclude:function(){m.getNamesByExpression(arguments,k,true);return this}},j;for(j in l){o[j]=m.selectMethod(k,l[j],n||l)}return o},selectMethod:function(g,k,f){var j=this;return function(c){var b=Ext.Array.slice(arguments,1);b.unshift(j.getNamesByExpression(c,g));return k.apply(f,b)}},setPath:Ext.Function.flexSetter(function(e,f){var g=this;g.paths[e]=f;g.names.push(e);g.prefixes=null;g.nameToPrefix={};return g})};Ext.ClassManager=(function(B,G,y,M,D){var P=Ext.Class.makeCtor,K=[],J={Ext:{name:"Ext",value:Ext}},O=Ext.apply(new Ext.Inventory(),{classes:{},classState:{},existCache:{},instantiators:[],isCreated:function(b){if(O.classes[b]||O.existCache[b]){return true}if(!O.lookupName(b,false)){return false}O.triggerCreated(b);return true},createdListeners:[],nameCreatedListeners:{},existsListeners:[],nameExistsListeners:{},overrideMap:{},triggerCreated:function(b,c){O.existCache[b]=c||1;O.classState[b]+=40;O.notify(b,O.createdListeners,O.nameCreatedListeners)},onCreated:function(c,d,b){O.addListener(c,d,b,O.createdListeners,O.nameCreatedListeners)},notify:function(l,j,e){var d=O.getAlternatesByName(l),k=[l],b,m,c,n,f,g;for(b=0,m=j.length;b<m;b++){f=j[b];f.fn.call(f.scope,l)}while(k){for(b=0,m=k.length;b<m;b++){g=k[b];j=e[g];if(j){for(c=0,n=j.length;c<n;c++){f=j[c];f.fn.call(f.scope,g)}delete e[g]}}k=d;d=null}},addListener:function(e,f,j,c,g){if(Ext.isArray(j)){e=Ext.Function.createBarrier(j.length,e,f);for(b=0;b<j.length;b++){this.addListener(e,null,j[b],c,g)}return}var b,d={fn:e,scope:f};if(j){if(this.isCreated(j)){e.call(f,j);return}if(!g[j]){g[j]=[]}g[j].push(d)}else{c.push(d)}},$namespaceCache:J,addRootNamespaces:function(c){for(var b in c){J[b]={name:b,value:c[b]}}},clearNamespaceCache:function(){K.length=0;for(var b in J){if(!J[b].value){delete J[b]}}},getNamespaceEntry:function(d){if(typeof d!=="string"){return d}var c=J[d],b;if(!c){b=d.lastIndexOf(".");if(b<0){c={name:d}}else{c={name:d.substring(b+1),parent:O.getNamespaceEntry(d.substring(0,b))}}J[d]=c}return c},lookupName:function(j,e){var f=O.getNamespaceEntry(j),c=Ext.global,b=0,d,g;for(d=f;d;d=d.parent){K[b++]=d}while(c&&b-->0){d=K[b];g=c;c=d.value||c[d.name];if(!c&&e){g[d.name]=c={}}}return c},setNamespace:function(e,d){var c=O.getNamespaceEntry(e),b=Ext.global;if(c.parent){b=O.lookupName(c.parent,true)}b[c.name]=d;return d},setXType:function(c,d){var b=c.$className,e=b?c:O.get(b=c),k=e.prototype,g=k.xtypes,j=k.xtypesChain,f=k.xtypesMap;if(!k.hasOwnProperty("xtypes")){k.xtypes=g=[];k.xtypesChain=j=j?j.slice(0):[];k.xtypesMap=f=Ext.apply({},f)}O.addAlias(b,"widget."+d,true);g.push(d);j.push(d);f[d]=true},set:function(c,b){var d=O.getName(b);O.classes[c]=O.setNamespace(c,b);if(d&&d!==c){O.addAlternate(d,c)}return O},get:function(b){return O.classes[b]||O.lookupName(b,false)},addNameAliasMappings:function(b){O.addAlias(b)},addNameAlternateMappings:function(b){O.addAlternate(b)},getByAlias:function(b){return O.get(O.getNameByAlias(b))},getByConfig:function(e,c){var d=e.xclass,b;if(d){b=d}else{b=e.xtype;if(b){c="widget."}else{b=e.type}b=O.getNameByAlias(c+b)}return O.get(b)},getName:function(b){return b&&b.$className||""},getClass:function(b){return b&&b.self||null},create:function(e,d,c){var b=P(e);if(typeof d==="function"){d=d(b)}d.$className=e;return new B(b,d,function(){var g=d.postprocessors||O.defaultPostprocessors,l=O.postprocessors,k=[],m,q,n,f,o,p,j;delete d.postprocessors;for(q=0,n=g.length;q<n;q++){m=g[q];if(typeof m==="string"){m=l[m];p=m.properties;if(p===true){k.push(m.fn)}else{if(p){for(f=0,o=p.length;f<o;f++){j=p[f];if(d.hasOwnProperty(j)){k.push(m.fn);break}}}}}else{k.push(m)}}d.postprocessors=k;d.createdFn=c;O.processCreate(e,this,d)})},processCreate:function(g,f,d){var e=this,c=d.postprocessors.shift(),b=d.createdFn;if(!c){if(g){e.set(g,f)}delete f._classHooks;if(b){b.call(f,f)}if(g){e.triggerCreated(g)}return}if(c.call(e,g,f,d,e.processCreate)!==false){e.processCreate(g,f,d)}},createOverride:function(n,b,d){var m=this,l=b.override,j=b.requires,c=b.uses,o=b.mixins,f,k=1,g,e=function(){var q,r,s,u,p;if(!g){r=j?j.slice(0):[];if(o){if(!(f=o instanceof Array)){for(u in o){if(Ext.isString(q=o[u])){r.push(q)}}}else{for(s=0,p=o.length;s<p;++s){if(Ext.isString(q=o[s])){r.push(q)}}}}g=true;if(r.length){Ext.require(r,e);return}}if(f){for(s=0,p=o.length;s<p;++s){if(Ext.isString(q=o[s])){o[s]=Ext.ClassManager.get(q)}}}else{if(o){for(u in o){if(Ext.isString(q=o[u])){o[u]=Ext.ClassManager.get(q)}}}}q=l.$isClass?l:m.get(l);delete b.override;delete b.compatibility;delete b.requires;delete b.uses;Ext.override(q,b);Ext.Loader.history.push(n);if(c){Ext.Loader.addUsedClasses(c)}if(d){d.call(q,q)}};if(n){O.overrideMap[n]=true}if("compatibility" in b){k=b.compatibility;if(!k){k=false}else{if(typeof k==="number"){k=true}else{if(typeof k!=="boolean"){k=Ext.checkVersion(k)}}}}if(k){if(l.$isClass){e()}else{m.onCreated(e,m,l)}}m.triggerCreated(n,2);return m},instantiateByAlias:function(){var d=arguments[0],c=y.call(arguments),b=this.getNameByAlias(d);c[0]=b;return Ext.create.apply(Ext,c)},instantiate:function(){return Ext.create.apply(Ext,arguments)},dynInstantiate:function(c,b){b=M(b,true);b.unshift(c);return Ext.create.apply(Ext,b)},getInstantiator:function(f){var c=this.instantiators,d,e,b;d=c[f];if(!d){e=f;b=[];for(e=0;e<f;e++){b.push("a["+e+"]")}d=c[f]=new Function("c","a","return new c("+b.join(",")+")")}return d},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(f,d,c,b,e){if(!b){b="last"}if(!c){c=[f]}this.postprocessors[f]={name:f,properties:c||false,fn:d};this.setDefaultPostprocessorPosition(f,b,e);return this},setDefaultPostprocessors:function(b){this.defaultPostprocessors=M(b);return this},setDefaultPostprocessorPosition:function(f,d,e){var c=this.defaultPostprocessors,b;if(typeof d==="string"){if(d==="first"){c.unshift(f);return this}else{if(d==="last"){c.push(f);return this}}d=(d==="after")?1:-1}b=Ext.Array.indexOf(c,e);if(b!==-1){Ext.Array.splice(c,Math.max(0,b+d),0,f)}return this}});O.registerPostprocessor("alias",function(c,g,d){var b=Ext.Array.from(d.alias),f,e;for(f=0,e=b.length;f<e;f++){G=b[f];this.addAlias(g,G)}},["xtype","alias"]);O.registerPostprocessor("singleton",function(e,c,d,b){if(d.singleton){b.call(this,e,new c(),d)}else{return true}return false});O.registerPostprocessor("alternateClassName",function(j,c,e){var g=e.alternateClassName,b,f,d;if(!(g instanceof Array)){g=[g]}for(b=0,f=g.length;b<f;b++){d=g[b];this.set(d,c)}});O.registerPostprocessor("debugHooks",function(e,c,b){var d=c.isInstance?c.self:c;delete d.prototype.debugHooks});O.registerPostprocessor("deprecated",function(e,c,b){var d=c.isInstance?c.self:c;d.addDeprecations(b.deprecated);delete d.prototype.deprecated});Ext.apply(Ext,{create:function(){var c=arguments[0],e=typeof c,d=y.call(arguments,1),b;if(e==="function"){b=c}else{if(e!=="string"&&d.length===0){d=[c];if(!(c=c.xclass)){c=d[0].xtype;if(c){c="widget."+c}}}c=O.resolveName(c);b=O.get(c)}if(!b){Ext.syncRequire(c);b=O.get(c)}return O.getInstantiator(d.length)(b,d)},widget:function(c,g){var d=c,f,e,b;if(typeof d!=="string"){g=c;d=g.xtype;e=g.xclass}else{g=g||{}}if(g.isComponent){return g}if(!e){f="widget."+d;e=O.getNameByAlias(f)}if(e){b=O.get(e)}if(!b){return Ext.create(e||f,g)}return new b(g)},createByAlias:G(O,"instantiateByAlias"),define:function(d,c,b){if(c.override){O.classState[d]=20;return O.createOverride.apply(O,arguments)}O.classState[d]=10;return O.create.apply(O,arguments)},undefine:function(c){var b=O.classes;delete b[c];delete O.existCache[c];delete O.classState[c];O.removeName(c);var f=O.getNamespaceEntry(c),e=f.parent?O.lookupName(f.parent,false):Ext.global;if(e){try{delete e[f.name]}catch(d){e[f.name]=undefined}}},getClassName:G(O,"getName"),getDisplayName:function(b){if(b){if(b.displayName){return b.displayName}if(b.$name&&b.$class){return Ext.getClassName(b.$class)+"#"+b.$name}if(b.$className){return b.$className}}return"Anonymous"},getClass:G(O,"getClass"),namespace:function(){var b=D,c;for(c=arguments.length;c-->0;){b=O.lookupName(arguments[c],true)}return b}});Ext.addRootNamespaces=O.addRootNamespaces;Ext.createWidget=Ext.widget;Ext.ns=Ext.namespace;B.registerPreprocessor("className",function(b,c){if("$className" in c){b.$className=c.$className}},true,"first");B.registerPreprocessor("alias",function(j,b){var m=j.prototype,e=M(b.xtype),k=M(b.alias),g="widget.",l=g.length,p=Array.prototype.slice.call(m.xtypesChain||[]),d=Ext.merge({},m.xtypesMap||{}),c,n,o,f;for(c=0,n=k.length;c<n;c++){o=k[c];if(o.substring(0,l)===g){f=o.substring(l);Ext.Array.include(e,f)}}j.xtype=b.xtype=e[0];b.xtypes=e;for(c=0,n=e.length;c<n;c++){f=e[c];if(!d[f]){d[f]=true;p.push(f)}}b.xtypesChain=p;b.xtypesMap=d;Ext.Function.interceptAfterOnce(j,"onClassCreated",function(){var v=this,s=v.prototype,q=s.mixins,r,u;for(r in q){if(q.hasOwnProperty(r)){u=q[r];e=u.xtypes;if(e){for(c=0,n=e.length;c<n;c++){f=e[c];if(!d[f]){d[f]=true;p.push(f)}}}}}});for(c=0,n=e.length;c<n;c++){f=e[c];Ext.Array.include(k,g+f)}b.alias=k},["xtype","alias"]);if(Ext.manifest){var L=Ext.manifest,A=L.classes,E=L.paths,C={},I={},N,H,x,F,Q;if(E){if(L.bootRelative){Q=Ext.Boot.baseUrl;for(F in E){if(E.hasOwnProperty(F)){E[F]=Q+E[F]}}}O.setPath(E)}if(A){for(N in A){I[N]=[];C[N]=[];H=A[N];if(H.alias){C[N]=H.alias}if(H.alternates){I[N]=H.alternates}}}O.addAlias(C);O.addAlternate(I)}return O}(Ext.Class,Ext.Function.alias,Array.prototype.slice,Ext.Array.from,Ext.global));(Ext.env||(Ext.env={})).Browser=function(C,I){var B=this,U=Ext.Boot.browserPrefixes,S=Ext.Boot.browserNames,T=B.enginePrefixes,M=B.engineNames,F=C.match(new RegExp("((?:"+Ext.Object.getValues(U).join(")|(?:")+"))([\\w\\._]+)")),O=C.match(new RegExp("((?:"+Ext.Object.getValues(T).join(")|(?:")+"))([\\w\\._]+)")),G=S.other,D=M.other,K="",P="",R="",N=false,H,J,L,A,E;B.userAgent=C;this.is=function(b){return !!this.is[b]};if(/Edge\//.test(C)){F=C.match(/(Edge\/)([\w.]+)/)}if(F){G=S[Ext.Object.getKey(U,F[1])];if(G==="Safari"&&/^Opera/.test(C)){G="Opera"}K=new Ext.Version(F[2])}if(O){D=M[Ext.Object.getKey(T,O[1])];P=new Ext.Version(O[2])}if(D==="Trident"&&G!=="IE"){G="IE";var Q=C.match(/.*rv:(\d+.\d+)/);if(Q&&Q.length){Q=Q[1];K=new Ext.Version(Q)}}if(G&&K){Ext.setVersion(G,K)}if(C.match(/FB/)&&G==="Other"){G=S.safari;D=M.webkit}if(C.match(/Android.*Chrome/g)){G="ChromeMobile"}if(C.match(/OPR/)){G="Opera";F=C.match(/OPR\/(\d+.\d+)/);K=new Ext.Version(F[1])}Ext.apply(this,{engineName:D,engineVersion:P,name:G,version:K});this.setFlag(G,true,I);if(K){R=K.getMajor()||"";if(B.is.IE){R=parseInt(R,10);L=document.documentMode;if(L===7||(R===7&&L!==8&&L!==9&&L!==10)){R=7}else{if(L===8||(R===8&&L!==8&&L!==9&&L!==10)){R=8}else{if(L===9||(R===9&&L!==7&&L!==8&&L!==10)){R=9}else{if(L===10||(R===10&&L!==7&&L!==8&&L!==9)){R=10}else{if(L===11||(R===11&&L!==7&&L!==8&&L!==9&&L!==10)){R=11}}}}}E=Math.max(R,Ext.Boot.maxIEVersion);for(H=7;H<=E;++H){J="isIE"+H;if(R<=H){Ext[J+"m"]=true}if(R===H){Ext[J]=true}if(R>=H){Ext[J+"p"]=true}}}if(B.is.Opera&&parseInt(R,10)<=12){Ext.isOpera12m=true}Ext.chromeVersion=Ext.isChrome?R:0;Ext.firefoxVersion=Ext.isFirefox?R:0;Ext.ieVersion=Ext.isIE?R:0;Ext.operaVersion=Ext.isOpera?R:0;Ext.safariVersion=Ext.isSafari?R:0;Ext.webKitVersion=Ext.isWebKit?R:0;this.setFlag(G+R,true,I);this.setFlag(G+K.getShortVersion())}for(H in S){if(S.hasOwnProperty(H)){A=S[H];this.setFlag(A,G===A)}}this.setFlag(A);if(P){this.setFlag(D+(P.getMajor()||""));this.setFlag(D+P.getShortVersion())}for(H in M){if(M.hasOwnProperty(H)){A=M[H];this.setFlag(A,D===A,I)}}this.setFlag("Standalone",!!navigator.standalone);this.setFlag("Ripple",!!document.getElementById("tinyhippos-injected")&&!Ext.isEmpty(window.top.ripple));this.setFlag("WebWorks",!!window.blackberry);if(window.PhoneGap!==undefined||window.Cordova!==undefined||window.cordova!==undefined){N=true;this.setFlag("PhoneGap");this.setFlag("Cordova")}if(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)(?!.*FBAN)/i.test(C)){N=true}this.setFlag("WebView",N);this.isStrict=Ext.isStrict=document.compatMode==="CSS1Compat";this.isSecure=Ext.isSecure;this.identity=G+R+(this.isStrict?"Strict":"Quirks")};Ext.env.Browser.prototype={constructor:Ext.env.Browser,engineNames:{webkit:"WebKit",gecko:"Gecko",presto:"Presto",trident:"Trident",other:"Other"},enginePrefixes:{webkit:"AppleWebKit/",gecko:"Gecko/",presto:"Presto/",trident:"Trident/"},styleDashPrefixes:{WebKit:"-webkit-",Gecko:"-moz-",Trident:"-ms-",Presto:"-o-",Other:""},stylePrefixes:{WebKit:"Webkit",Gecko:"Moz",Trident:"ms",Presto:"O",Other:""},propertyPrefixes:{WebKit:"webkit",Gecko:"moz",Trident:"ms",Presto:"o",Other:""},name:null,version:null,engineName:null,engineVersion:null,setFlag:function(e,f,g){if(f===undefined){f=true}this.is[e]=f;this.is[e.toLowerCase()]=f;if(g){Ext["is"+e]=f}return this},getStyleDashPrefix:function(){return this.styleDashPrefixes[this.engineName]},getStylePrefix:function(){return this.stylePrefixes[this.engineName]},getVendorProperyName:function(d){var e=this.propertyPrefixes[this.engineName];if(e.length>0){return e+Ext.String.capitalize(d)}return d},getPreferredTranslationMethod:function(c){if(typeof c==="object"&&"translationMethod" in c&&c.translationMethod!=="auto"){return c.translationMethod}else{return"csstransform"}}};(function(c){Ext.browser=new Ext.env.Browser(c,true);Ext.userAgent=c.toLowerCase();Ext.SSL_SECURE_URL=Ext.isSecure&&Ext.isIE?"javascript:''":"about:blank"}(Ext.global.navigator.userAgent));Ext.env.OS=function(r,F,v){var w=this,x=Ext.Boot.osNames,D=Ext.Boot.osPrefixes,G,y="",B=w.is,E,A,C,s,u;v=v||Ext.browser;for(E in D){if(D.hasOwnProperty(E)){A=D[E];C=r.match(new RegExp("(?:"+A+")([^\\s;]+)"));if(C){G=x[E];u=C[1];if(u&&u==="HTC_"){y=new Ext.Version("2.3")}else{if(u&&u==="Silk/"){y=new Ext.Version("2.3")}else{y=new Ext.Version(C[C.length-1])}}break}}}if(!G){G=x[(r.toLowerCase().match(/mac|win|linux/)||["other"])[0]];y=new Ext.Version("")}this.name=G;this.version=y;if(r.match(/ipad/i)){F="iPad"}if(F){this.setFlag(F.replace(/ simulator$/i,""))}this.setFlag(G);if(y){this.setFlag(G+(y.getMajor()||""));this.setFlag(G+y.getShortVersion())}for(E in x){if(x.hasOwnProperty(E)){s=x[E];if(!B.hasOwnProperty(G)){this.setFlag(s,(G===s))}}}if(this.name==="iOS"&&window.screen.height===568){this.setFlag("iPhone5")}if(v.is.Safari||v.is.Silk){if(this.is.Android2||this.is.Android3||v.version.shortVersion===501){v.setFlag("AndroidStock")}if(this.is.Android4){v.setFlag("AndroidStock");v.setFlag("AndroidStock4")}}};Ext.env.OS.prototype={constructor:Ext.env.OS,is:function(c){return !!this[c]},name:null,version:null,setFlag:function(d,e){if(e===undefined){e=true}if(this.flags){this.flags[d]=e}this.is[d]=e;this.is[d.toLowerCase()]=e;return this}};(function(){var v=Ext.global.navigator,o=v.userAgent,p=Ext.env.OS,q=(Ext.is||(Ext.is={})),n,r,u;p.prototype.flags=q;Ext.os=n=new p(o,v.platform);r=n.name;Ext["is"+r]=true;Ext.isMac=q.Mac=q.MacOS;var m=window.location.search.match(/deviceType=(Tablet|Phone)/),s=window.deviceType;if(m&&m[1]){u=m[1]}else{if(s==="iPhone"){u="Phone"}else{if(s==="iPad"){u="Tablet"}else{if(!n.is.Android&&!n.is.iOS&&!n.is.WindowsPhone&&/Windows|Linux|MacOS/.test(r)){u="Desktop";Ext.browser.is.WebView=!!Ext.browser.is.Ripple}else{if(n.is.iPad||n.is.RIMTablet||n.is.Android3||Ext.browser.is.Silk||(n.is.Android&&o.search(/mobile/i)===-1)){u="Tablet"}else{u="Phone"}}}}}n.setFlag(u,true);n.deviceType=u;delete p.prototype.flags}());Ext.feature={has:function(c){return !!this.has[c]},testElements:{},getTestElement:function(d,e){if(d===undefined){d="div"}else{if(typeof d!=="string"){return d}}if(e){return document.createElement(d)}if(!this.testElements[d]){this.testElements[d]=document.createElement(d)}return this.testElements[d]},isStyleSupported:function(j,k){var g=this.getTestElement(k).style,f=Ext.String.capitalize(j);if(typeof g[j]!=="undefined"||typeof g[Ext.browser.getStylePrefix(j)+f]!=="undefined"){return true}return false},isStyleSupportedWithoutPrefix:function(g,e){var f=this.getTestElement(e).style;if(typeof f[g]!=="undefined"){return true}return false},isEventSupported:function(l,g){if(g===undefined){g=window}var j=this.getTestElement(g),m="on"+l.toLowerCase(),k=(m in j);if(!k){if(j.setAttribute&&j.removeAttribute){j.setAttribute(m,"");k=typeof j[m]==="function";if(typeof j[m]!=="undefined"){j[m]=undefined}j.removeAttribute(m)}}return k},getStyle:function(j,k){var f=j.ownerDocument.defaultView,g=(f?f.getComputedStyle(j,null):j.currentStyle);return(g||j.style)[k]},getSupportedPropertyName:function(g,e){var f=Ext.browser.getVendorProperyName(e);if(f in g){return f}else{if(e in g){return e}}return null},detect:function(x){var w=this,u=document,B=w.toRun||w.tests,C=B.length,F=u.createElement("div"),E=[],n=Ext.supports,s=w.has,G,y,A,D,v;F.innerHTML='<div style="height:30px;width:50px;"><div style="height:20px;width:20px;"></div></div><div style="width: 200px; height: 200px; position: relative; padding: 5px;"><div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div></div><div style="position: absolute; left: 10%; top: 10%;"></div><div style="float:left; background-color:transparent;"></div>';if(x){u.body.appendChild(F)}D=w.preDetected[Ext.browser.identity]||[];while(C--){A=B[C];v=D[C];G=A.name;y=A.names;if(v===undefined){if(!x&&A.ready){E.push(A);continue}v=A.fn.call(w,u,F)}if(G){n[G]=s[G]=v}else{if(y){while(y.length){G=y.pop();n[G]=s[G]=v}}}}if(x){u.body.removeChild(F)}w.toRun=E},report:function(){var g=[],e=this.tests.length,f;for(f=0;f<e;++f){g.push(this.has[this.tests[f].name]?1:0)}Ext.log(Ext.browser.identity+": ["+g.join(",")+"]")},preDetected:{},tests:[{name:"CloneNodeCopiesExpando",fn:function(){var c=document.createElement("div");c.expandoProp={};return c.cloneNode().expandoProp===c.expandoProp}},{name:"CSSPointerEvents",fn:function(c){return"pointerEvents" in c.documentElement.style}},{name:"CSS3BoxShadow",fn:function(c){return"boxShadow" in c.documentElement.style||"WebkitBoxShadow" in c.documentElement.style||"MozBoxShadow" in c.documentElement.style}},{name:"CSS3NegationSelector",fn:function(e){try{e.querySelectorAll("foo:not(bar)")}catch(d){return false}return true}},{name:"ClassList",fn:function(c){return !!c.documentElement.classList}},{name:"Canvas",fn:function(){var c=this.getTestElement("canvas");return !!(c&&c.getContext&&c.getContext("2d"))}},{name:"Svg",fn:function(c){return !!(c.createElementNS&&!!c.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)}},{name:"Vml",fn:function(){var e=this.getTestElement(),d=false;e.innerHTML="<!--[if vml]><br><![endif]-->";d=(e.childNodes.length===1);e.innerHTML="";return d}},{name:"Touch",fn:function(){var c=navigator.msMaxTouchPoints||navigator.maxTouchPoints;if(Ext.browser.is.Chrome&&Ext.browser.version.isLessThanOrEqual(39)){return(Ext.supports.TouchEvents&&c!==1)||c>1}else{return Ext.supports.TouchEvents||c>0}}},{name:"TouchEvents",fn:function(){return this.isEventSupported("touchend")}},{name:"PointerEvents",fn:function(){return navigator.pointerEnabled}},{name:"MSPointerEvents",fn:function(){return navigator.msPointerEnabled}},{name:"Orientation",fn:function(){return("orientation" in window)&&this.isEventSupported("orientationchange")}},{name:"OrientationChange",fn:function(){return this.isEventSupported("orientationchange")}},{name:"DeviceMotion",fn:function(){return this.isEventSupported("devicemotion")}},{names:["Geolocation","GeoLocation"],fn:function(){return"geolocation" in window.navigator}},{name:"SqlDatabase",fn:function(){return"openDatabase" in window}},{name:"WebSockets",fn:function(){return"WebSocket" in window}},{name:"Range",fn:function(){return !!document.createRange}},{name:"CreateContextualFragment",fn:function(){var c=!!document.createRange?document.createRange():false;return c&&!!c.createContextualFragment}},{name:"History",fn:function(){return("history" in window&&"pushState" in window.history)}},{name:"Css3dTransforms",fn:function(){return this.has("CssTransforms")&&this.isStyleSupported("perspective")}},{name:"CssTransforms",fn:function(){return this.isStyleSupported("transform")}},{name:"CssTransformNoPrefix",fn:function(){return this.isStyleSupportedWithoutPrefix("transform")}},{name:"CssAnimations",fn:function(){return this.isStyleSupported("animationName")}},{names:["CssTransitions","Transitions"],fn:function(){return this.isStyleSupported("transitionProperty")}},{names:["Audio","AudioTag"],fn:function(){return !!this.getTestElement("audio").canPlayType}},{name:"Video",fn:function(){return !!this.getTestElement("video").canPlayType}},{name:"LocalStorage",fn:function(){try{if("localStorage" in window&&window.localStorage!==null){localStorage.setItem("sencha-localstorage-test","test success");localStorage.removeItem("sencha-localstorage-test");return true}}catch(c){}return false}},{name:"XHR2",fn:function(){return window.ProgressEvent&&window.FormData&&window.XMLHttpRequest&&("withCredentials" in new XMLHttpRequest())}},{name:"XHRUploadProgress",fn:function(){if(window.XMLHttpRequest&&!Ext.browser.is.AndroidStock){var c=new XMLHttpRequest();return c&&("upload" in c)&&("onprogress" in c.upload)}return false}},{name:"NumericInputPlaceHolder",fn:function(){return !(Ext.browser.is.AndroidStock4&&Ext.os.version.getMinor()<2)}},{name:"matchesSelector",fn:function(){var m=document.documentElement,j="matches",k="webkitMatchesSelector",g="msMatchesSelector",l="mozMatchesSelector";return m[j]?j:m[k]?k:m[g]?g:m[l]?l:null}},{name:"RightMargin",ready:true,fn:function(g,f){var e=g.defaultView;return !(e&&e.getComputedStyle(f.firstChild.firstChild,null).marginRight!=="0px")}},{name:"DisplayChangeInputSelectionBug",fn:function(){var c=Ext.webKitVersion;return 0<c&&c<533}},{name:"DisplayChangeTextAreaSelectionBug",fn:function(){var c=Ext.webKitVersion;return 0<c&&c<534.24}},{name:"TransparentColor",ready:true,fn:function(g,f,e){e=g.defaultView;return !(e&&e.getComputedStyle(f.lastChild,null).backgroundColor!=="transparent")}},{name:"ComputedStyle",ready:true,fn:function(g,f,e){e=g.defaultView;return e&&e.getComputedStyle}},{name:"Float",fn:function(c){return"cssFloat" in c.documentElement.style}},{name:"CSS3BorderRadius",ready:true,fn:function(g){var k=["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"],j=false,f;for(f=0;f<k.length;f++){if(g.documentElement.style[k[f]]!==undefined){j=true}}return j&&!Ext.isIE9}},{name:"CSS3LinearGradient",fn:function(p,v){var n="background-image:",o="-webkit-gradient(linear, left top, right bottom, from(black), to(white))",q="linear-gradient(left top, black, white)",r="-moz-"+q,u="-ms-"+q,s="-o-"+q,m=[n+o,n+q,n+r,n+u,n+s];v.style.cssText=m.join(";");return((""+v.style.backgroundImage).indexOf("gradient")!==-1)&&!Ext.isIE9}},{name:"MouseEnterLeave",fn:function(c){return("onmouseenter" in c.documentElement&&"onmouseleave" in c.documentElement)}},{name:"MouseWheel",fn:function(c){return("onmousewheel" in c.documentElement)}},{name:"Opacity",fn:function(d,e){if(Ext.isIE8){return false}e.firstChild.style.cssText="opacity:0.73";return e.firstChild.style.opacity=="0.73"}},{name:"Placeholder",fn:function(c){return"placeholder" in c.createElement("input")}},{name:"Direct2DBug",fn:function(c){return Ext.isString(c.documentElement.style.msTransformOrigin)&&Ext.isIE9m}},{name:"BoundingClientRect",fn:function(c){return"getBoundingClientRect" in c.documentElement}},{name:"RotatedBoundingClientRect",ready:true,fn:function(j){var g=j.body,m=false,k=j.createElement("div"),l=k.style;if(k.getBoundingClientRect){l.position="absolute";l.top="0";l.WebkitTransform=l.MozTransform=l.msTransform=l.OTransform=l.transform="rotate(90deg)";l.width="100px";l.height="30px";g.appendChild(k);m=k.getBoundingClientRect().height!==100;g.removeChild(k)}return m}},{name:"ChildContentClearedWhenSettingInnerHTML",ready:true,fn:function(){var d=this.getTestElement(),e;d.innerHTML="<div>a</div>";e=d.firstChild;d.innerHTML="<div>b</div>";return e.innerHTML!=="a"}},{name:"IncludePaddingInWidthCalculation",ready:true,fn:function(d,e){return e.childNodes[1].firstChild.offsetWidth===210}},{name:"IncludePaddingInHeightCalculation",ready:true,fn:function(d,e){return e.childNodes[1].firstChild.offsetHeight===210}},{name:"TextAreaMaxLength",fn:function(c){return("maxlength" in c.createElement("textarea"))}},{name:"GetPositionPercentage",ready:true,fn:function(d,e){return Ext.feature.getStyle(e.childNodes[2],"left")==="10%"}},{name:"PercentageHeightOverflowBug",ready:true,fn:function(g){var f=false,j,k;if(Ext.getScrollbarSize().height){k=this.getTestElement();j=k.style;j.height="50px";j.width="50px";j.overflow="auto";j.position="absolute";k.innerHTML=['<div style="display:table;height:100%;">','<div style="width:51px;"></div>',"</div>"].join("");g.body.appendChild(k);if(k.firstChild.offsetHeight===50){f=true}g.body.removeChild(k)}return f}},{name:"xOriginBug",ready:true,fn:function(k,j){j.innerHTML='<div id="b1" style="height:100px;width:100px;direction:rtl;position:relative;overflow:scroll"><div id="b2" style="position:relative;width:100%;height:20px;"></div><div id="b3" style="position:absolute;width:20px;height:20px;top:0px;right:0px"></div></div>';var l=document.getElementById("b1").getBoundingClientRect(),m=document.getElementById("b2").getBoundingClientRect(),g=document.getElementById("b3").getBoundingClientRect();return(m.left!==l.left&&g.right!==l.right)}},{name:"ScrollWidthInlinePaddingBug",ready:true,fn:function(g){var f=false,j,k;k=g.createElement("div");j=k.style;j.height="50px";j.width="50px";j.padding="10px";j.overflow="hidden";j.position="absolute";k.innerHTML='<span style="display:inline-block;zoom:1;height:60px;width:60px;"></span>';g.body.appendChild(k);if(k.scrollWidth===70){f=true}g.body.removeChild(k);return f}},{name:"rtlVertScrollbarOnRight",ready:true,fn:function(j,g){g.innerHTML='<div style="height:100px;width:100px;direction:rtl;overflow:scroll"><div style="width:20px;height:200px;"></div></div>';var k=g.firstChild,f=k.firstChild;return(f.offsetLeft+f.offsetWidth!==k.offsetLeft+k.offsetWidth)}},{name:"rtlVertScrollbarOverflowBug",ready:true,fn:function(g,f){f.innerHTML='<div style="height:100px;width:100px;direction:rtl;overflow:auto"><div style="width:95px;height:200px;"></div></div>';var e=f.firstChild;return e.clientHeight===e.offsetHeight}},{identity:"defineProperty",fn:function(){if(Ext.isIE8m){Ext.Object.defineProperty=Ext.emptyFn;return false}return true}},{identify:"nativeXhr",fn:function(){if(typeof XMLHttpRequest!=="undefined"){return true}XMLHttpRequest=function(){try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(c){return null}};return false}},{name:"SpecialKeyDownRepeat",fn:function(){return Ext.isWebKit?parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10)>=525:!(!(Ext.isGecko||Ext.isIE)||(Ext.isOpera&&Ext.operaVersion<12))}},{name:"EmulatedMouseOver",fn:function(){return Ext.os.is.iOS}},{name:"Hashchange",fn:function(){var c=document.documentMode;return"onhashchange" in window&&(c===undefined||c>7)}},{name:"FixedTableWidthBug",ready:true,fn:function(){if(Ext.isIE8){return false}var g=document.createElement("div"),e=document.createElement("div"),f;g.setAttribute("style","display:table;table-layout:fixed;");e.setAttribute("style","display:table-cell;min-width:50px;");g.appendChild(e);document.body.appendChild(g);g.offsetWidth;g.style.width="25px";f=g.offsetWidth;document.body.removeChild(g);return f===50}},{name:"FocusinFocusoutEvents",fn:function(){return !Ext.isGecko}},{name:"AsyncFocusEvents",fn:function(){return Ext.asyncFocus=!!Ext.isIE}},{name:"accessibility",ready:true,fn:function(n){var l=n.body,m,q,p,s,r;function o(d){var c=[],g=0,e,b;if(d.indexOf("rgb(")!==-1){c=d.replace("rgb(","").replace(")","").split(", ")}else{if(d.indexOf("#")!==-1){e=d.length===7?/^#(\S\S)(\S\S)(\S\S)$/:/^#(\S)(\S)(\S)$/;b=d.match(e);if(b){c=["0x"+b[1],"0x"+b[2],"0x"+b[3]]}}}for(var f=0;f<c.length;f++){g+=parseInt(c[f])}return g}m=n.createElement("div");q=n.createElement("img");p=m.style;Ext.apply(p,{width:"2px",position:"absolute",clip:"rect(1px,1px,1px,1px)",borderWidth:"1px",borderStyle:"solid",borderTopTolor:"#f00",borderRightColor:"#ff0",backgroundColor:"#fff",backgroundImage:"url("+Ext.BLANK_IMAGE_URL+")"});q.alt="";q.src=Ext.BLANK_IMAGE_URL;m.appendChild(q);l.appendChild(m);p=m.currentStyle||m.style;r=p.backgroundImage;s={Images:q.offsetWidth===1&&q.readyState!=="uninitialized",BackgroundImages:!(r!==null&&(r==="none"||r==="url(invalid-url:)")),BorderColors:p.borderTopColor!==p.borderRightColor,LightOnDark:o(p.color)-o(p.backgroundColor)>0};Ext.supports.HighContrastMode=!s.BackgroundImages;l.removeChild(m);m=q=null;return s}},{name:"ViewportUnits",ready:true,fn:function(l){if(Ext.isIE8){return false}var j=l.body,k=document.createElement("div"),m=k.currentStyle||k.style,n,o;j.appendChild(k);Ext.apply(m,{width:"50vw"});n=parseInt(window.innerWidth/2,10);o=parseInt((window.getComputedStyle?getComputedStyle(k,null):k.currentStyle).width,10);j.removeChild(k);k=null;return n===o}},{name:"CSSVariables",ready:false,fn:function(e){if(!window.getComputedStyle){return false}var d=window.getComputedStyle(e.documentElement);return d.getPropertyValue&&!!d.getPropertyValue("--x-supports-variables")}},{name:"Selectors2",ready:false,fn:function(e){try{return !!e.querySelectorAll(":scope")}catch(d){return false}}},{name:"CSSScrollSnap",ready:false,fn:function(e){var d=e.documentElement.style;return"scrollSnapType" in d||"webkitScrollSnapType" in d||"msScrollSnapType" in d}},0]};Ext.feature.tests.pop();Ext.supports={};Ext.feature.detect();Ext.env.Ready={blocks:(location.search||"").indexOf("ext-pauseReadyFire")>0?1:0,bound:0,delay:1,firing:false,generation:0,listeners:[],nextId:0,sortGeneration:0,state:0,timer:null,bind:function(){var d=Ext.env.Ready,e=document;if(!d.bound){if(e.readyState==="complete"){d.onReadyEvent({type:e.readyState||"body"})}else{d.bound=1;if(Ext.browser.is.PhoneGap&&!Ext.os.is.Desktop){d.bound=2;e.addEventListener("deviceready",d.onReadyEvent,false)}e.addEventListener("DOMContentLoaded",d.onReadyEvent,false);window.addEventListener("load",d.onReadyEvent,false)}}},block:function(){++this.blocks;Ext.isReady=false},fireReady:function(){var c=Ext.env.Ready;if(!c.state){Ext._readyTime=Ext.ticks();Ext.isDomReady=true;c.state=1;Ext.feature.detect(true);if(!c.delay){c.handleReady()}else{if(navigator.standalone){c.timer=Ext.defer(function(){c.timer=null;c.handleReadySoon()},1)}else{c.handleReadySoon()}}}},handleReady:function(){var c=this;if(c.state===1){c.state=2;Ext._beforeReadyTime=Ext.ticks();c.invokeAll();Ext._afterReadyTime=Ext.ticks()}},handleReadySoon:function(d){var e=this;if(!e.timer){e.timer=Ext.defer(function(){e.timer=null;e.handleReady()},d||e.delay)}},invoke:function(e){var d=e.delay;if(d){Ext.defer(e.fn,d,e.scope)}else{if(Ext.elevateFunction){Ext.elevateFunction(e.fn,e.scope)}else{e.fn.call(e.scope)}}},invokeAll:function(){if(Ext.elevateFunction){Ext.elevateFunction(this.doInvokeAll,this)}else{this.doInvokeAll()}},doInvokeAll:function(){var g=this,e=g.listeners,f;if(!g.blocks){Ext.isReady=true}g.firing=true;while(e.length){if(g.sortGeneration!==g.generation){g.sortGeneration=g.generation;e.sort(g.sortFn)}f=e.pop();if(g.blocks&&!f.dom){e.push(f);break}g.invoke(f)}g.firing=false},makeListener:function(g,j,k){var f={fn:g,id:++this.nextId,scope:j,dom:false,priority:0};if(k){Ext.apply(f,k)}f.phase=f.dom?0:1;return f},on:function(l,m,g){var k=Ext.env.Ready,j=k.makeListener(l,m,g);if(k.state===2&&!k.firing&&(j.dom||!k.blocks)){k.invoke(j)}else{k.listeners.push(j);++k.generation;if(!k.bound){k.bind()}}},onReadyEvent:function(e){var d=Ext.env.Ready;if(Ext.elevateFunction){Ext.elevateFunction(d.doReadyEvent,d,arguments)}else{d.doReadyEvent(e)}},doReadyEvent:function(e){var d=this;if(d.bound>0){d.unbind();d.bound=-1}if(!d.state){d.fireReady()}},sortFn:function(b,e){return -((b.phase-e.phase)||(e.priority-b.priority)||(b.id-e.id))},unblock:function(){var c=this;if(c.blocks){if(!--c.blocks){if(c.state===2&&!c.firing){c.invokeAll()}}}},unbind:function(){var d=this,e=document;if(d.bound>1){e.removeEventListener("deviceready",d.onReadyEvent,false)}e.removeEventListener("DOMContentLoaded",d.onReadyEvent,false);window.removeEventListener("load",d.onReadyEvent,false)}};(function(){var c=Ext.env.Ready;if(Ext.isIE9m){Ext.apply(c,{scrollTimer:null,readyStatesRe:/complete/i,pollScroll:function(){var e=true;try{document.documentElement.doScroll("left")}catch(b){e=false}if(e&&document.body){c.onReadyEvent({type:"doScroll"})}else{c.scrollTimer=Ext.defer(c.pollScroll,20)}return e},bind:function(){if(c.bound){return}var b=document,g;try{g=window.frameElement===undefined}catch(e){}if(!g||!b.documentElement.doScroll){c.pollScroll=Ext.emptyFn}else{if(c.pollScroll()){return}}if(b.readyState==="complete"){c.onReadyEvent({type:"already "+(b.readyState||"body")})}else{b.attachEvent("onreadystatechange",c.onReadyStateChange);window.attachEvent("onload",c.onReadyEvent);c.bound=1}},unbind:function(){document.detachEvent("onreadystatechange",c.onReadyStateChange);window.detachEvent("onload",c.onReadyEvent);if(Ext.isNumber(c.scrollTimer)){clearTimeout(c.scrollTimer);c.scrollTimer=null}},onReadyStateChange:function(){var b=document.readyState;if(c.readyStatesRe.test(b)){c.onReadyEvent({type:b})}}})}Ext.onDocumentReady=function(b,g,k){var j={dom:true};if(k){Ext.apply(j,k)}c.on(b,g,j)};Ext.onReady=function(b,f,g){c.on(b,f,g)};Ext.onInternalReady=function(b,f,g){c.on(b,f,Ext.apply({priority:1000},g))};c.bind()}());Ext.Loader=(new function(){var E=this,G=Ext.ClassManager,A=Ext.Boot,D=Ext.Class,x=Ext.env.Ready,y=Ext.Function.alias,B=["extend","mixins","requires"],u={},w=[],F=[],C=[],s={},v={enabled:true,scriptChainDelay:false,disableCaching:true,disableCachingParam:"_dc",paths:G.paths,preserveScripts:true,scriptCharset:undefined},r={disableCaching:true,disableCachingParam:true,preserveScripts:true,scriptChainDelay:"loadDelay"};Ext.apply(E,{isInHistory:u,isLoading:false,history:w,config:v,readyListeners:F,optionalRequires:C,requiresMap:s,hasFileLoadError:false,scriptsLoading:0,classesLoading:{},missingCount:0,missingQueue:{},syncModeEnabled:false,init:function(){var g=document.getElementsByTagName("script"),c=g[g.length-1].src,m=c.substring(0,c.lastIndexOf("/")+1),q=Ext._classPathMetadata,o=Ext.Microloader,n=Ext.manifest,l,j,e,b,f,d,k,p;if(!G.getPath("Ext")){G.setPath("Ext",m+"src")}if(q){Ext._classPathMetadata=null;E.addClassPathMappings(q)}if(n){l=n.loadOrder;f=Ext.Boot.baseUrl;if(l&&n.bootRelative){for(d=l.length,k=0;k<d;k++){p=l[k];p.path=f+p.path;p.canonicalPath=true}}}if(o){x.block();o.onMicroloaderReady(function(){x.unblock()})}},setConfig:Ext.Function.flexSetter(function(d,c){if(d==="paths"){E.setPath(c)}else{v[d]=c;var b=r[d];if(b){A.setConfig((b===true)?d:b,c)}}return E}),getConfig:function(b){return b?v[b]:v},setPath:function(){G.setPath.apply(G,arguments);return E},addClassPathMappings:function(b){G.setPath(b);return E},addBaseUrlClassPathMappings:function(c){for(var b in c){c[b]=A.baseUrl+c[b]}Ext.Loader.addClassPathMappings(c)},getPath:function(b){return G.getPath(b)},require:function(d,e,f,b){if(b){return E.exclude(b).require(d,e,f)}var c=G.getNamesByExpression(d);return E.load(c,e,f)},syncRequire:function(){var b=E.syncModeEnabled;E.syncModeEnabled=true;var c=E.require.apply(E,arguments);E.syncModeEnabled=b;return c},exclude:function(b){var c=G.select({require:function(d,e,f){return E.load(d,e,f)},syncRequire:function(j,e,f){var d=E.syncModeEnabled;E.syncModeEnabled=true;var g=E.load(j,e,f);E.syncModeEnabled=d;return g}});c.exclude(b);return c},load:function(c,d,o){if(d){if(d.length){d=E.makeLoadCallback(c,d)}d=d.bind(o||Ext.global)}var m=G.classState,k=[],e=[],b={},l=c.length,n,f,g,j;for(g=0;g<l;++g){f=G.resolveName(c[g]);if(!G.isCreated(f)){k.push(f);if(!m[f]){b[f]=E.getPath(f);e.push(b[f])}}}j=k.length;if(j){E.missingCount+=j;G.onCreated(function(){if(d){Ext.callback(d,o,arguments)}E.checkReady()},E,k);if(!v.enabled){Ext.raise("Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class"+((k.length>1)?"es":"")+": "+k.join(", "))}if(e.length){E.loadScripts({url:e,_classNames:k,_urlByClass:b})}else{E.checkReady()}}else{if(d){d.call(o)}E.checkReady()}if(E.syncModeEnabled){if(l===1){return G.get(c[0])}}return E},makeLoadCallback:function(c,b){return function(){var d=[],e=c.length;while(e-->0){d[e]=G.get(c[e])}return b.apply(this,d)}},onLoadFailure:function(){var c=this,b=c.onError;E.hasFileLoadError=true;--E.scriptsLoading;if(b){b.call(c.userScope,c)}E.checkReady()},onLoadSuccess:function(){var c=this,f=c.onLoad,b=c._classNames,d=c._urlByClass,l=G.classState,e=E.missingQueue,g,k,j;--E.scriptsLoading;if(f){f.call(c.userScope,c)}for(k=0,j=b.length;k<j;k++){g=b[k];if(!l[g]){e[g]=d[g]}}E.checkReady()},onReady:function(d,e,b,f){if(b){x.on(d,e,f)}else{var c=x.makeListener(d,e,f);if(E.isLoading){F.push(c)}else{x.invoke(c)}}},addUsedClasses:function(c){var e,d,b;if(c){c=(typeof c==="string")?[c]:c;for(d=0,b=c.length;d<b;d++){e=c[d];if(typeof e==="string"&&!Ext.Array.contains(C,e)){C.push(e)}}}return E},triggerReady:function(){var c,b=C;if(E.isLoading&&b.length){C=[];E.require(b)}else{E.isLoading=false;F.sort(x.sortFn);while(F.length&&!E.isLoading){c=F.pop();x.invoke(c)}x.unblock()}},historyPush:function(b){if(b&&!u[b]&&!G.overrideMap[b]){u[b]=true;w.push(b)}return E},loadScripts:function(b){var c=Ext.manifest,f=c&&c.loadOrder,e=c&&c.loadOrderMap,d;++E.scriptsLoading;if(f&&!e){c.loadOrderMap=e=A.createLoadOrderMap(f)}E.checkReady();d=Ext.apply({loadOrder:f,loadOrderMap:e,charset:v.scriptCharset,success:E.onLoadSuccess,failure:E.onLoadFailure,sync:E.syncModeEnabled,_classNames:[]},b);d.userScope=d.scope;d.scope=d;A.load(d)},loadScriptsSync:function(b){var c=E.syncModeEnabled;E.syncModeEnabled=true;E.loadScripts({url:b});E.syncModeEnabled=c},loadScriptsSyncBasePrefix:function(b){var c=E.syncModeEnabled;E.syncModeEnabled=true;E.loadScripts({url:b,prependBaseUrl:true});E.syncModeEnabled=c},loadScript:function(c){var l=typeof c==="string",g=c instanceof Array,d=!g&&!l,b=d?c.url:c,j=d&&c.onError,f=d&&c.onLoad,e=d&&c.scope,k={url:b,scope:e,onLoad:f,onError:j,_classNames:[]};E.loadScripts(k)},checkMissingQueue:function(){var e=E.missingQueue,d={},c,b=0;for(c in e){if(!(G.classState[c]||G.isCreated(c))){d[c]=e[c];b++}}E.missingCount=b;E.missingQueue=d},checkReady:function(){var b=E.isLoading,c;E.checkMissingQueue();c=E.missingCount+E.scriptsLoading;if(c&&!b){x.block();E.isLoading=!!c}else{if(!c&&b){E.triggerReady()}}}});Ext.require=y(E,"require");Ext.syncRequire=y(E,"syncRequire");Ext.exclude=y(E,"exclude");D.registerPreprocessor("loader",function(k,l,n,p){var b=this,e=[],c,d=G.getName(k),m,o,f,g,q,j,K,J;for(m=0,f=B.length;m<f;m++){j=B[m];if(l.hasOwnProperty(j)){K=l[j];if(typeof K==="string"){e.push(K)}else{if(K instanceof Array){for(o=0,g=K.length;o<g;o++){q=K[o];if(typeof q==="string"){e.push(q)}}}else{if(typeof K!=="function"){for(o in K){if(K.hasOwnProperty(o)){q=K[o];if(typeof q==="string"){e.push(q)}}}}}}}}if(e.length===0){return}if(d){s[d]=e}(d?E.exclude(d):E).require(e,function(){for(m=0,f=B.length;m<f;m++){j=B[m];if(l.hasOwnProperty(j)){K=l[j];if(typeof K==="string"){l[j]=G.get(K)}else{if(K instanceof Array){for(o=0,g=K.length;o<g;o++){q=K[o];if(typeof q==="string"){l[j][o]=G.get(q)}}}else{if(typeof K!=="function"){for(var H in K){if(K.hasOwnProperty(H)){q=K[H];if(typeof q==="string"){l[j][H]=G.get(q)}}}}}}}}p.call(b,k,l,n)});return false},true,"after","className");G.registerPostprocessor("uses",function(d,e,c){var f=c.uses,b;if(f){b=G.getNamesByExpression(c.uses);E.addUsedClasses(b)}});G.onCreated(E.historyPush);E.init()}());Ext._endTime=Ext.ticks();if(Ext._beforereadyhandler){Ext._beforereadyhandler()}(Ext.cmd.derive("Ext.Mixin",Ext.Base,function(c){return{statics:{addHook:function(b,n,p,o){var l=Ext.isFunction(b),m=function(){var d=arguments,f=l?b:o[b],e=this.callParent(d);f.apply(this,d);return e},q=n.hasOwnProperty(p)&&n[p];if(l){b.$previous=Ext.emptyFn}m.$name=p;m.$owner=n.self;if(q){m.$previous=q.$previous;q.$previous=m}else{n[p]=m}}},onClassExtended:function(b,v){var s=v.mixinConfig,p=v.xhooks,q=b.superclass,u=v.onClassMixedIn,x,r,o,w;if(p){delete v.xhooks;(s||(v.mixinConfig=s={})).on=p}if(s){x=q.mixinConfig;if(x){v.mixinConfig=s=Ext.merge({},x,s)}v.mixinId=s.id;r=s.before;o=s.after;p=s.on;w=s.extended}if(r||o||p||w){v.onClassMixedIn=function(d){var g=this.prototype,e=d.prototype,f;if(r){Ext.Object.each(r,function(k,j){d.addMember(k,function(){if(g[j].apply(this,arguments)!==false){return this.callParent(arguments)}})})}if(o){Ext.Object.each(o,function(k,j){d.addMember(k,function(){var l=this.callParent(arguments);g[j].apply(this,arguments);return l})})}if(p){for(f in p){c.addHook(p[f],e,f,g)}}if(w){d.onExtended(function(){var j=Ext.Array.slice(arguments,0);j.unshift(d);return w.apply(this,j)},this)}if(u){u.apply(this,arguments)}}}}}},0,0,0,0,0,0,[Ext,"Mixin"],0));Ext.util=Ext.util||{};Ext.util.DelayedTask=function(p,q,s,m,n){var o=this,l,r=function(){var b=Ext.GlobalEvents;clearInterval(o.id);o.id=null;p.apply(q,s||[]);if(n!==false&&b.hasListeners.idle){b.fireEvent("idle")}};m=typeof m==="boolean"?m:true;o.id=null;o.delay=function(b,d,e,c){if(m){o.cancel()}if(typeof b==="number"){l=b}p=d||p;q=e||q;s=c||s;if(!o.id){o.id=Ext.interval(r,l)}};o.cancel=function(){if(o.id){clearInterval(o.id);o.id=null}}};(Ext.cmd.derive("Ext.util.Event",Ext.Base,function(){var g=Array.prototype.slice,f=Ext.Array.insert,j=Ext.Array.toArray,k={};return{isEvent:true,suspended:0,noOptions:{},constructor:function(b,c){this.name=c;this.observable=b;this.listeners=[]},addListener:function(L,S,R,d,G){var H=this,N=false,I=H.observable,O=H.name,E,P,K,e,F,D,Q,M,c,J,b;if(H.findListener(L,S)===-1){P=H.createListener(L,S,R,d,G);if(H.firing){H.listeners=H.listeners.slice(0)}E=H.listeners;M=Q=E.length;K=R&&R.priority;F=H._highestNegativePriorityIndex;D=F!==undefined;if(K){e=(K<0);if(!e||D){for(c=(e?F:0);c<Q;c++){J=E[c].o?E[c].o.priority||0:0;if(J<K){M=c;break}}}else{H._highestNegativePriorityIndex=M}}else{if(D){M=F}}if(!e&&M<=F){H._highestNegativePriorityIndex++}if(M===Q){E[Q]=P}else{f(E,M,[P])}if(I.isElement){I._getPublisher(O).subscribe(I,O,R.delegated!==false,R.capture)}if(G){b=G.managedListeners||(G.managedListeners=[]);b.push({item:H.observable,ename:(R&&R.managedName)||H.name,fn:L,scope:S,options:R})}N=true}return N},createListener:function(c,A,y,x,v){var e=this,d=Ext._namedScopes[A],w={fn:c,scope:A,ev:e,caller:x,manager:v,namedScope:d,defaultScope:d?(A||e.observable):undefined,lateBound:typeof c==="string"},b=c,o=false,u;if(y){w.o=y;if(y.single){b=e.createSingle(b,w,y,A);o=true}if(y.target){b=e.createTargeted(b,w,y,A,o);o=true}if(y.onFrame){b=e.createAnimFrame(b,w,y,A,o);o=true}if(y.delay){b=e.createDelayed(b,w,y,A,o);o=true}if(y.buffer){b=e.createBuffered(b,w,y,A,o);o=true}if(e.observable.isElement){u=y.type;if(u){w.type=u}}}w.fireFn=b;w.wrapped=o;return w},findListener:function(c,d){var e=this.listeners,m=e.length,b;while(m--){b=e[m];if(b){if(b.fn===c&&b.scope==d){return m}}}return -1},removeListener:function(c,E,e){var d=this,v=false,C=d.observable,w=d.name,A,D,y,b,B,x;e=e!=null?e:d.findListener(c,E);if(e!==-1){A=d.listeners[e];if(d.firing){d.listeners=d.listeners.slice(0)}d.listeners.splice(e,1);if(d._highestNegativePriorityIndex){if(e<d._highestNegativePriorityIndex){d._highestNegativePriorityIndex--}else{if(e===d._highestNegativePriorityIndex&&e===d.listeners.length){delete d._highestNegativePriorityIndex}}}if(A){D=A.o;if(A.task){A.task.cancel();delete A.task}x=A.tasks&&A.tasks.length;if(x){while(x--){A.tasks[x].cancel()}delete A.tasks}y=A.manager;if(y){b=y.managedListeners;if(b){for(x=b.length;x--;){B=b[x];if(B.item===d.observable&&B.ename===w&&B.fn===c&&B.scope===E){b.splice(x,1)}}}}if(C.isElement){C._getPublisher(w).unsubscribe(C,w,D.delegated!==false,D.capture)}}v=true}return v},clearListeners:function(){var c=this.listeners,d=c.length,b;while(d--){b=c[d];this.removeListener(b.fn,b.scope)}},suspend:function(){++this.suspended},resume:function(){if(this.suspended){--this.suspended}},isSuspended:function(){return this.suspended>0},fireDelegated:function(b,c){this.firingObservable=b;return this.fire.apply(this,c)},fire:function(){var I=this,Y=Ext.ComponentQuery,H=I.listeners,S=H.length,O=I.observable,e=O.isElement,K=O.isComponent,N=I.firingObservable,V,Q,M,c,X,U,b,d,G,W,P,T,L,J,R;if(!I.suspended&&S>0){I.firing=true;X=arguments.length?g.call(arguments,0):[];b=X.length;if(e){L=X[0]}for(c=0;c<S;c++){U=H[c];if(!U){continue}V=U.o;if(e){if(G){L.setCurrentTarget(G)}W=U.type;if(W){P=L;L=X[0]=P.chain({type:W})}Ext.EventObject=L}T=X;if(V){Q=V.delegate;if(Q){if(e){d=L.getTarget("#"+L.currentTarget.id+" "+Q);if(d){X[1]=d;G=L.currentTarget;L.setCurrentTarget(d)}else{continue}}else{if(K&&!Y.is(N,Q,O)){continue}}}if(e){if(V.preventDefault){L.preventDefault()}if(V.stopPropagation){L.stopPropagation()}if(V.stopEvent){L.stopEvent()}}X[b]=V;if(V.args){T=V.args.concat(X)}}M=I.getFireInfo(U);J=M.fn;R=M.scope;M.fn=M.scope=null;if(R&&R.destroyed){I.removeListener(J,R,c);J=null}if(J&&J.apply(R,T)===false){Ext.EventObject=null;return(I.firing=false)}if(V){X.length--}if(P){L=X[0]=P;P=null}Ext.EventObject=null}}I.firing=false;return true},getFireInfo:function(b,c){var q=this.observable,p=b.fireFn,d=b.scope,o=b.namedScope,e;if(!c&&b.wrapped){k.fn=p;return k}e=c?b.fn:p;if(b.lateBound){if(!d||o){d=(b.caller||q).resolveListenerScope(b.defaultScope)}e=d[e]}else{if(o&&o.isController){d=(b.caller||q).resolveListenerScope(b.defaultScope)}else{if(!d||o){d=q}}}k.fn=e;k.scope=d;return k},createAnimFrame:function(e,d,b,n,o){var c;if(!o){c=d.ev.getFireInfo(d,true);e=c.fn;n=c.scope;c.fn=c.scope=null}return Ext.Function.createAnimationFrame(e,n,b.args)},createTargeted:function(d,c,b,e,m){return function(){if(b.target===arguments[0]){var l;if(!m){l=c.ev.getFireInfo(c,true);d=l.fn;e=l.scope;l.fn=l.scope=null}return d.apply(e,arguments)}}},createBuffered:function(d,c,b,e,m){c.task=new Ext.util.DelayedTask();return function(){if(c.task){var l;if(!m){l=c.ev.getFireInfo(c,true);d=l.fn;e=l.scope;l.fn=l.scope=null}c.task.delay(b.buffer,d,e,j(arguments))}}},createDelayed:function(d,c,b,e,m){return function(){var l=new Ext.util.DelayedTask(),o;if(!m){o=c.ev.getFireInfo(c,true);d=o.fn;e=o.scope;o.fn=o.scope=null}if(!c.tasks){c.tasks=[]}c.tasks.push(l);l.delay(b.delay||10,d,e,j(arguments))}},createSingle:function(d,c,b,e,m){return function(){var s=c.ev,r=s.observable,l=c.fn,q;if(r){r.removeListener(s.name,l,e)}else{s.removeListener(l,e)}if(!m){q=s.getFireInfo(c,true);d=q.fn;e=q.scope;q.fn=q.scope=null}return d.apply(e,arguments)}}}},1,0,0,0,0,0,[Ext.util,"Event"],0));(Ext.cmd.derive("Ext.mixin.Identifiable",Ext.Base,{statics:{uniqueIds:{}},isIdentifiable:true,mixinId:"identifiable",idCleanRegex:/\.|[^\w\-]/g,defaultIdPrefix:"ext-",defaultIdSeparator:"-",getOptimizedId:function(){return this.id},getUniqueId:function(){var k=this.id,o,m,l,j,n;if(!(k||k===0)){o=this.self.prototype;m=this.defaultIdSeparator;j=Ext.mixin.Identifiable.uniqueIds;if(!o.hasOwnProperty("identifiablePrefix")){l=this.xtype;if(l){n=this.defaultIdPrefix+l.replace(this.idCleanRegex,m)+m}else{if(!(n=o.$className)){n=this.defaultIdPrefix+"anonymous"+m}else{n=n.replace(this.idCleanRegex,m).toLowerCase()+m}}o.identifiablePrefix=n}n=this.identifiablePrefix;if(!j.hasOwnProperty(n)){j[n]=0}k=this.id=this.id=n+(++j[n])}this.getUniqueId=this.getOptimizedId;return k},setId:function(c){this.id=this.id=c},getId:function(){var c=this.id;if(!c){c=this.getUniqueId()}this.getId=this.getOptimizedId;return c}},0,0,0,0,0,0,[Ext.mixin,"Identifiable"],0));(Ext.cmd.derive("Ext.mixin.Observable",Ext.Mixin,function(q){var n=Ext.emptyFn,o=[],m=Array.prototype,l=m.slice,p=function(b){if(b instanceof p){return b}this.observable=b;if(arguments[1].isObservable){this.managedListeners=true}this.args=l.call(arguments,1)},k=["events","hasListeners","managedListeners","eventedBeforeEventNames"];p.prototype.destroy=function(){this.destroy=Ext.emptyFn;var b=this.observable;if(!b.destroyed){b[this.managedListeners?"mun":"un"].apply(b,this.args)}};return{mixinConfig:{id:"observable",after:{destroy:"destroyObservable"}},statics:{releaseCapture:function(b){b.fireEventArgs=this.prototype.fireEventArgs},capture:function(e,c,d){var b=function(g,f){return c.apply(d,[g].concat(f))};this.captureArgs(e,b,d)},captureArgs:function(b,c,d){b.fireEventArgs=Ext.Function.createInterceptor(b.fireEventArgs,c,d)},observe:function(c,b){if(c){if(!c.isObservable){Ext.applyIf(c,new this());this.captureArgs(c.prototype,c.fireEventArgs,c)}if(Ext.isObject(b)){c.on(b)}}return c},prepareClass:function(e,C,c){var D=e.listeners=[],F=c||e.prototype,A=F.listeners,f=C?C.listeners:e.superclass.self.listeners,j,B,E,d,G;if(f){D.push(f)}if(A){B=A.scope;if(!B){A.scope="self"}else{E=Ext._namedScopes[B];if(E&&E.isController){A.scope="self.controller"}}D.push(A);F.listeners=null}if(!e.HasListeners){var b=function(){},g=e.superclass.HasListeners||(C&&C.HasListeners)||q.HasListeners;e.prototype.HasListeners=e.HasListeners=b;b.prototype=e.hasListeners=new g()}B=e.prototype.$noClearOnDestroy||{};for(d=0,G=k.length;d<G;d++){B[k[d]]=true}e.prototype.$noClearOnDestroy=B}},isObservable:true,$vetoClearingPrototypeOnDestroy:true,eventsSuspended:0,constructor:function(s){var f=this,b=f.self,c,g,e,d,j;if(f.$observableInitialized){return}f.$observableInitialized=true;f.hasListeners=f.hasListeners=new f.HasListeners();f.eventedBeforeEventNames={};f.events=f.events||{};c=b.listeners;if(c&&!f._addDeclaredListeners(c)){b.listeners=null}g=(s&&s.listeners)||f.listeners;if(g){if(g instanceof Array){for(j=0,d=g.length;j<d;++j){f.addListener(g[j])}}else{f.addListener(g)}}e=(s&&s.bubbleEvents)||f.bubbleEvents;if(e){f.enableBubble(e)}if(f.$applyConfigs){if(s){Ext.apply(f,s)}}else{f.initConfig(s)}if(g){f.listeners=null}},onClassExtended:function(c,b){if(!c.HasListeners){q.prepareClass(c,c.prototype.$observableMixedIn?undefined:b)}},$eventOptions:{scope:1,delay:1,buffer:1,onFrame:1,single:1,args:1,destroyable:1,priority:1,order:1},$orderToPriority:{before:100,current:0,after:-100},_addDeclaredListeners:function(c){var b=this;if(c instanceof Array){Ext.each(c,b._addDeclaredListeners,b)}else{b._addedDeclaredListeners=true;b.addListener(c)}return b._addedDeclaredListeners},addManagedListener:function(b,f,d,x,w,g){var e=this,c=e.managedListeners=e.managedListeners||[],j,v;if(typeof f!=="string"){v=arguments.length>4?w:f;w=f;for(f in w){if(w.hasOwnProperty(f)){j=w[f];if(!b.$eventOptions[f]){e.addManagedListener(b,f,j.fn||j,j.scope||w.scope||x,j.fn?j:v,true)}}}if(w&&w.destroyable){return new p(e,b,w)}}else{if(d!==n){b.doAddListener(f,d,x,w,null,e,e);if(!g&&w&&w.destroyable){return new p(e,b,f,d,x)}}}},removeManagedListener:function(b,g,d,x){var e=this,w,j,c,v,f;if(b.$observableDestroyed){return}if(typeof g!=="string"){w=g;for(g in w){if(w.hasOwnProperty(g)){j=w[g];if(!b.$eventOptions[g]){e.removeManagedListener(b,g,j.fn||j,j.scope||w.scope||x)}}}}else{c=e.managedListeners?e.managedListeners.slice():[];g=Ext.canonicalEventName(g);for(f=0,v=c.length;f<v;f++){e.removeManagedListenerItem(false,c[f],b,g,d,x)}}},fireEvent:function(b){return this.fireEventArgs(b,l.call(arguments,1))},resolveListenerScope:function(b){var c=Ext._namedScopes[b];if(c){if(c.isSelf||c.isThis){b=null}}return b||this},fireEventArgs:function(d,b){d=Ext.canonicalEventName(d);var e=this,g=e.events,f=g&&g[d],c=true;if(e.hasListeners[d]){c=e.doFireEvent(d,b||o,f?f.bubble:false)}return c},fireAction:function(c,g,e,f,b,d){if(typeof e==="string"&&!f){e=this[e]}b=b?Ext.Object.chain(b):{};b.single=true;b.priority=((d==="after")?-99.5:99.5);this.doAddListener(c,e,f,b);this.fireEventArgs(c,g)},$eventedController:{_paused:1,pause:function(){++this._paused},resume:function(){var f=this,g=f.fn,j=f.scope,e=f.fnArgs,d=f.owner,b,c;if(!--f._paused){if(g){b=Ext.Array.slice(e||f.args);if(e===false){b.shift()}f.fn=null;b.push(f);if(Ext.isFunction(g)){c=g.apply(j,b)}else{if(j&&Ext.isString(g)&&Ext.isFunction(j[g])){c=j[g].apply(j,b)}}if(c===false){return false}}if(!f._paused){return f.owner.fireEventArgs(f.eventName,f.args)}}}},fireEventedAction:function(j,f,c,w,d){var e=this,x=e.eventedBeforeEventNames,g=x[j]||(x[j]="before"+j),v=Ext.apply({owner:e,eventName:j,fn:c,scope:w,fnArgs:d,args:f},e.$eventedController),b;f.push(v);b=e.fireEventArgs(g,f);f.pop();if(b===false){return false}return v.resume()},doFireEvent:function(b,g,c){var e=this,d,f,j=true;do{if(e.eventsSuspended){if((d=e.eventQueue)){d.push([b,g])}return j}else{f=e.events&&e.events[b];if(f&&f!==true){if((j=f.fire.apply(f,g))===false){break}}}}while(c&&(e=e.getBubbleParent()));return j},getBubbleParent:function(){var b=this,c=b.getBubbleTarget&&b.getBubbleTarget();if(c&&c.isObservable){return c}return null},addListener:function(e,C,B,A,g,y){var D=this,d=Ext._namedScopes,j,E,c,b,f;if(typeof e!=="string"){A=e;B=A.scope;E=B&&d[B];c=E&&E.isSelf;f=((D.isComponent||D.isWidget)&&A.element)?D.$elementEventOptions:D.$eventOptions;for(e in A){j=A[e];if(!f[e]){b=j.scope;if(b&&c){E=d[b];if(E&&E.isController){b="self.controller"}}D.doAddListener(e,j.fn||j,b||B,j.fn?j:A,g,y)}}if(A&&A.destroyable){return new p(D,A)}}else{D.doAddListener(e,C,B,A,g,y);if(A&&A.destroyable){return new p(D,e,C,B,A)}}return D},removeListener:function(j,f,g,d){var e=this,b,c;if(typeof j!=="string"){c=j;d=d||e.$eventOptions;for(j in c){if(c.hasOwnProperty(j)){b=c[j];if(!e.$eventOptions[j]){e.doRemoveListener(j,b.fn||b,b.scope||c.scope)}}}}else{e.doRemoveListener(j,f,g)}return e},onBefore:function(d,e,b,c){return this.addListener(d,e,b,c,"before")},onAfter:function(d,e,b,c){return this.addListener(d,e,b,c,"after")},unBefore:function(d,e,b,c){return this.removeListener(d,e,b,c,"before")},unAfter:function(d,e,b,c){return this.removeListener(d,e,b,c,"after")},addBeforeListener:function(){return this.onBefore.apply(this,arguments)},addAfterListener:function(){return this.onAfter.apply(this,arguments)},removeBeforeListener:function(){return this.unBefore.apply(this,arguments)},removeAfterListener:function(){return this.unAfter.apply(this,arguments)},clearListeners:function(){var e=this,b=e.events,d=e.hasListeners,f,c;if(b){for(c in b){if(b.hasOwnProperty(c)){f=b[c];if(f.isEvent){delete d[c];f.clearListeners()}}}e.events=null}e.clearManagedListeners()},clearManagedListeners:function(){var e=this,c=e.managedListeners?e.managedListeners.slice():[],b=0,d=c.length;for(;b<d;b++){e.removeManagedListenerItem(true,c[b])}e.managedListeners=[]},removeManagedListenerItem:function(c,d,e,b,f,g){if(c||(d.item===e&&d.ename===b&&(!f||d.fn===f)&&(!g||d.scope===g))){if(!d.item.destroyed){d.item.doRemoveListener(d.ename,d.fn,d.scope,d.options)}if(!c){Ext.Array.remove(this.managedListeners,d)}}},hasListener:function(b){b=Ext.canonicalEventName(b);return !!this.hasListeners[b]},isSuspended:function(b){var c=this.eventsSuspended>0,d=this.events;if(!c&&b&&d){b=d[b];if(b&&b.isEvent){return b.isSuspended()}}return c},suspendEvents:function(b){++this.eventsSuspended;if(b&&!this.eventQueue){this.eventQueue=[]}},suspendEvent:function(){var e=this,g=e.events,d=arguments.length,b,f,c;for(b=0;b<d;b++){c=arguments[b];c=Ext.canonicalEventName(c);f=g[c];if(!f||!f.isEvent){f=e._initEvent(c)}f.suspend()}},resumeEvent:function(){var f=this.events||0,d=f&&arguments.length,b,e,c;for(b=0;b<d;b++){c=Ext.canonicalEventName(arguments[b]);e=f[c];if(e&&e.resume){e.resume()}}},resumeEvents:function(d){var c=this,e=c.eventQueue,f,b;if(c.eventsSuspended&&!--c.eventsSuspended){delete c.eventQueue;if(!d&&e){f=e.length;for(b=0;b<f;b++){c.fireEventArgs.apply(c,e[b])}}}},relayEvents:function(b,v,g){var c=this,f=v.length,j=0,u,e,d={};if(Ext.isObject(v)){for(j in v){e=v[j];d[j]=c.createRelayer(e)}}else{for(;j<f;j++){u=v[j];d[u]=c.createRelayer(g?g+u:u)}}c.mon(b,d,null,null,undefined);return new p(c,b,d)},createRelayer:function(d,c){var b=this;return function(){return b.fireEventArgs.call(b,d,c?l.apply(arguments,c):arguments)}},enableBubble:function(e){if(e){var g=this,f=(typeof e=="string")?arguments:e,b=g.events,j=b&&f.length,c,s,d;for(d=0;d<j;++d){c=f[d];c=Ext.canonicalEventName(c);s=b[c];if(!s||!s.isEvent){s=g._initEvent(c)}g.hasListeners._incr_(c);s.bubble=true}}},destroy:function(){this.clearListeners();this.callParent();this.destroyObservable(true)},destroyObservable:function(b){var c=this;if(c.$observableDestroyed){return}if(!b){c.clearListeners()}if(c.destroyed){if(c.clearPropertiesOnDestroy){if(!c.clearPrototypeOnDestroy){c.fireEvent=c.fireEventArgs=c.fireAction=c.fireEventedAction=Ext.emptyFn}c.events=c.managedListeners=c.eventedBeforeEventNames=null;c.$observableDestroyed=true}}},privates:{doAddListener:function(f,b,y,x,g,j,e){var c=this,d=false,w,A;g=g||(x&&x.order);if(g){A=(x&&x.priority);if(!A){x=x?Ext.Object.chain(x):{};x.priority=c.$orderToPriority[g]}}f=Ext.canonicalEventName(f);w=(c.events||(c.events={}))[f];if(!w||!w.isEvent){w=c._initEvent(f)}if(b!==n){if(!e&&(y&&y.isObservable&&(y!==c))){e=y}if(w.addListener(b,y,x,j,e)){c.hasListeners._incr_(f);d=true}}return d},doRemoveListener:function(b,g,j){var e=this,d=false,c=e.events,f;b=Ext.canonicalEventName(b);f=c&&c[b];if(f&&f.isEvent){if(f.removeListener(g,j)){e.hasListeners._decr_(b);d=true}}return d},_initEvent:function(b){return(this.events[b]=new Ext.util.Event(this,b))}},deprecated:{"5.0":{methods:{addEvents:null}}}}},1,0,0,0,0,[[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.mixin,"Observable"],function(){var o=this,l=o.prototype,n=function(){},k=function(c){if(!c.HasListeners){var b=c.prototype;b.$observableMixedIn=1;o.prepareClass(c,this);c.onExtended(function(e,d){o.prepareClass(e,null,d)});if(b.onClassMixedIn){Ext.override(c,{onClassMixedIn:function(d){k.call(this,d);this.callParent(arguments)}})}else{b.onClassMixedIn=function(d){k.call(this,d)}}}j.call(this,c)},j=l.onClassMixedIn;n.prototype={_decr_:function(b,c){if(c==null){c=1}if(!(this[b]-=c)){delete this[b]}},_incr_:function(b){if(this.hasOwnProperty(b)){++this[b]}else{this[b]=1}}};l.HasListeners=o.HasListeners=n;o.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener",setListeners:"addListener"});o.observeClass=o.observe;function m(f){var g=(this.methodEvents=this.methodEvents||{})[f],c,d,b,q=this,e;if(!g){this.methodEvents[f]=g={};g.originalFn=this[f];g.methodName=f;g.before=[];g.after=[];e=function(p,u,v){if((d=p.apply(u||q,v))!==undefined){if(typeof d=="object"){if(d.returnValue!==undefined){c=d.returnValue}else{c=d}b=!!d.cancel}else{if(d===false){b=true}else{c=d}}}};this[f]=function(){var v=Array.prototype.slice.call(arguments,0),w,p,x;c=d=undefined;b=false;for(p=0,x=g.before.length;p<x;p++){w=g.before[p];e(w.fn,w.scope,v);if(b){return c}}if((d=g.originalFn.apply(q,v))!==undefined){c=d}for(p=0,x=g.after.length;p<x;p++){w=g.after[p];e(w.fn,w.scope,v);if(b){return c}}return c}}return g}Ext.apply(l,{onClassMixedIn:k,beforeMethod:function(b,c,d){m.call(this,b).before.push({fn:c,scope:d})},afterMethod:function(b,c,d){m.call(this,b).after.push({fn:c,scope:d})},removeMethodListener:function(f,b,c){var g=this.getMethodEvent(f),d,e;for(d=0,e=g.before.length;d<e;d++){if(g.before[d].fn==b&&g.before[d].scope==c){Ext.Array.erase(g.before,d,1);return}}for(d=0,e=g.after.length;d<e;d++){if(g.after[d].fn==b&&g.after[d].scope==c){Ext.Array.erase(g.after,d,1);return}}},toggleEventLogging:function(b){Ext.util.Observable[b?"capture":"releaseCapture"](this,function(c){if(Ext.isDefined(Ext.global.console)){Ext.global.console.log(c,arguments)}})}})}));(Ext.cmd.derive("Ext.util.HashMap",Ext.Base,{generation:0,config:{keyFn:null},constructor:function(e){var f=this,g;f.mixins.observable.constructor.call(f,e);f.clear(true);g=f.getKeyFn();if(g){f.getKey=g}},getCount:function(){return this.length},getData:function(d,e){if(e===undefined){e=d;d=this.getKey(e)}return[d,e]},getKey:function(c){return c.id},add:function(e,f){var g=this;if(arguments.length===1){f=e;e=g.getKey(f)}if(g.containsKey(e)){return g.replace(e,f)}g.map[e]=f;++g.length;g.generation++;if(g.hasListeners.add){g.fireEvent("add",g,e,f)}return f},replace:function(m,k){var l=this,j=l.map,g;if(arguments.length===1){k=m;m=l.getKey(k)}if(!l.containsKey(m)){l.add(m,k)}g=j[m];j[m]=k;l.generation++;if(l.hasListeners.replace){l.fireEvent("replace",l,m,k,g)}return k},remove:function(e){var d=this.findKey(e);if(d!==undefined){return this.removeAtKey(d)}return false},removeAtKey:function(e){var g=this,f;if(g.containsKey(e)){f=g.map[e];delete g.map[e];--g.length;g.generation++;if(g.hasListeners.remove){g.fireEvent("remove",g,e,f)}return true}return false},get:function(d){var e=this.map;return e.hasOwnProperty(d)?e[d]:undefined},clear:function(d){var e=this;if(d||e.generation){e.map={};e.length=0;e.generation=d?0:e.generation+1}if(d!==true&&e.hasListeners.clear){e.fireEvent("clear",e)}return e},containsKey:function(d){var e=this.map;return e.hasOwnProperty(d)&&e[d]!==undefined},contains:function(c){return this.containsKey(this.findKey(c))},getKeys:function(){return this.getArray(true)},getValues:function(){return this.getArray(false)},getArray:function(g){var f=[],k,j=this.map;for(k in j){if(j.hasOwnProperty(k)){f.push(g?k:j[k])}}return f},each:function(k,l){var g=Ext.apply({},this.map),m,j=this.length;l=l||this;for(m in g){if(g.hasOwnProperty(m)){if(k.call(l,m,g[m],j)===false){break}}}return this},clone:function(){var f=new this.self(this.initialConfig),g=this.map,e;f.suspendEvents();for(e in g){if(g.hasOwnProperty(e)){f.add(e,g[e])}}f.resumeEvents();return f},findKey:function(g){var e,f=this.map;for(e in f){if(f.hasOwnProperty(e)&&f[e]===g){return e}}return undefined}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.util,"HashMap"],function(e){var d=e.prototype;d.removeByKey=d.removeAtKey}));(Ext.cmd.derive("Ext.promise.Consequence",Ext.Base,function(c){return{promise:null,deferred:null,onFulfilled:null,onRejected:null,onProgress:null,constructor:function(b,k,g){var j=this;j.onFulfilled=b;j.onRejected=k;j.onProgress=g;j.deferred=new Ext.promise.Deferred();j.promise=j.deferred.promise},trigger:function(b,g){var j=this,k=j.deferred;switch(b){case"fulfill":j.propagate(g,j.onFulfilled,k,k.resolve);break;case"reject":j.propagate(g,j.onRejected,k,k.reject);break}},update:function(b){if(Ext.isFunction(this.onProgress)){b=this.onProgress(b)}this.deferred.update(b)},propagate:function(g,b,k,j){if(Ext.isFunction(b)){this.schedule(function(){try{k.resolve(b(g))}catch(d){k.reject(d)}})}else{j.call(this.deferred,g)}},schedule:function(b){var e=c.queueSize++;c.queue[e]=b;if(!e){Ext.asap(c.dispatch)}},statics:{queue:new Array(10000),queueSize:0,dispatch:function(){var g=c.queue,b,f;for(f=0;f<c.queueSize;++f){b=g[f];g[f]=null;b()}c.queueSize=0}}}},1,0,0,0,0,0,[Ext.promise,"Consequence"],0));(Ext.cmd.derive("Ext.promise.Deferred",Ext.Base,{promise:null,consequences:[],completed:false,completionAction:null,completionValue:null,constructor:function(){var c=this;c.promise=new Ext.promise.Promise(c);c.consequences=[];c.completed=false;c.completionAction=null;c.completionValue=null},then:function(j,g,k){var l=this,m=new Ext.promise.Consequence(j,g,k);if(l.completed){m.trigger(l.completionAction,l.completionValue)}else{l.consequences.push(m)}return m.promise},resolve:function(m){var n=this,j,o;if(n.completed){return}try{if(m===n.promise){throw new TypeError("A Promise cannot be resolved with itself.")}if(m!=null&&(typeof m==="object"||Ext.isFunction(m))&&Ext.isFunction(o=m.then)){j=false;try{o.call(m,function(b){if(!j){j=true;n.resolve(b)}},function(b){if(!j){j=true;n.reject(b)}})}catch(k){if(!j){n.reject(k)}}}else{n.complete("fulfill",m)}}catch(l){n.reject(l)}},reject:function(c){if(this.completed){return}this.complete("reject",c)},update:function(m){var j=this.consequences,k,l,g;if(this.completed){return}for(l=0,g=j.length;l<g;l++){k=j[l];k.update(m)}},complete:function(m,n){var o=this,l=o.consequences,p,q,k;o.completionAction=m;o.completionValue=n;o.completed=true;for(q=0,k=l.length;q<k;q++){p=l[q];p.trigger(o.completionAction,o.completionValue)}o.consequences=null}},1,0,0,0,0,0,[Ext.promise,"Deferred"],0));(Ext.cmd.derive("Ext.promise.Promise",Ext.Base,function(e){var d;return{statics:{CancellationError:Ext.global.CancellationError||Error,_ready:function(){d=Ext.promise.Deferred},all:function(b){return e.when(b).then(function(w){var c=new d(),s=w.length,v=new Array(s),q,x,p,u,r;if(!s){c.resolve(v)}else{p=function(f,g){return e.when(f).then(function(j){v[g]=j;if(!--s){c.resolve(v)}return j},function(j){return c.reject(j)})};for(q=u=0,r=w.length;u<r;q=++u){x=w[q];if(q in w){p(x,q)}else{s--}}}return c.promise})},is:function(b){return b!=null&&(typeof b==="object"||Ext.isFunction(b))&&Ext.isFunction(b.then)},rethrowError:function(b){Ext.asap(function(){throw b})},when:function(b){var c=new Ext.promise.Deferred();c.resolve(b);return c.promise}},owner:null,constructor:function(b){this.owner=b},then:function(b,m,c,l){var k;if(arguments.length===1&&Ext.isObject(arguments[0])){k=arguments[0];b=k.success;m=k.failure;c=k.progress;l=k.scope}if(l){if(b){b=Ext.Function.bind(b,l)}if(m){m=Ext.Function.bind(m,l)}if(c){c=Ext.Function.bind(c,l)}}return this.owner.then(b,m,c)},otherwise:function(g,c){var b;if(arguments.length===1&&Ext.isObject(arguments[0])){b=arguments[0];g=b.fn;c=b.scope}if(c!=null){g=Ext.Function.bind(g,c)}return this.owner.then(null,g)},always:function(g,c){var b;if(arguments.length===1&&Ext.isObject(arguments[0])){b=arguments[0];g=b.fn;c=b.scope}if(c!=null){g=Ext.Function.bind(g,c)}return this.owner.then(function(k){try{g()}catch(f){e.rethrowError(f)}return k},function(f){try{g()}catch(k){e.rethrowError(k)}throw f})},done:function(){this.owner.then(null,e.rethrowError)},cancel:function(b){if(b==null){b=null}this.owner.reject(new this.self.CancellationError(b))},log:function(b){if(b==null){b=""}return this.owner.then(function(c){Ext.log(""+(b||"Promise")+" resolved with value: "+c);return c},function(c){Ext.log(""+(b||"Promise")+" rejected with reason: "+c);throw c})}}},1,0,0,0,0,0,[Ext.promise,"Promise"],function(c){c._ready()}));(Ext.cmd.derive("Ext.Promise",Ext.Base,function(){var c;return{statics:{_ready:function(){c=Ext.promise.Promise},all:function(){return c.all.apply(c,arguments)},race:function(){},reject:function(b){var e=new Ext.promise.Deferred();e.reject(b);return e.promise},resolve:function(b){var e=new Ext.promise.Deferred();e.resolve(b);return e.promise}},constructor:function(b){var e=new Ext.promise.Deferred();b(e.resolve.bind(e),e.reject.bind(e));return e.promise}}},1,0,0,0,0,0,[Ext,"Promise"],function(d){var e=Ext.global.Promise;if(e&&e.resolve){Ext.Promise=e}else{d._ready()}}));(Ext.cmd.derive("Ext.Deferred",Ext.promise.Deferred,function(g){var f,e;return{statics:{_ready:function(){f=Ext.promise.Promise;e=Ext.Promise.resolve},all:function(){return f.all.apply(f,arguments)},any:function(b){return g.some(b,1).then(function(c){return c[0]},function(c){if(c instanceof Error&&c.message==="Too few Promises were resolved."){Ext.raise("No Promises were resolved.")}else{throw c}})},delay:function(d,b){var c;if(arguments.length===1){b=d;d=undefined}b=Math.max(b,0);c=new g();setTimeout(function(){c.resolve(d)},b);return c.promise},map:function(c,b){return g.resolved(c).then(function(y){var d,s,A,v,r,x,w,u;v=y.length;x=new Array(y.length);d=new g();if(!v){d.resolve(x)}else{r=function(j,k){return g.resolved(j).then(function(l){return b(l,k,x)}).then(function(l){x[k]=l;if(!--v){d.resolve(x)}return l},function(l){return d.reject(l)})};for(s=w=0,u=y.length;w<u;s=++w){A=y[s];if(s in y){r(A,s)}else{v--}}}return d.promise})},memoize:function(b,c,k){var d=Ext.Function.memoize(b,c,k);return function(){return g.all(Ext.Array.slice(arguments)).then(function(j){return d.apply(c,j)})}},parallel:function(c,b){if(b==null){b=null}var d=Ext.Array.slice(arguments,2);return g.map(c,function(k){if(!Ext.isFunction(k)){throw new Error("Invalid parameter: expected a function.")}return k.apply(b,d)})},pipeline:function(c,d,b){if(b==null){b=null}return g.reduce(c,function(l,m){if(!Ext.isFunction(m)){throw new Error("Invalid parameter: expected a function.")}return m.call(b,l)},d)},reduce:function(d,c,k){var b=arguments.length===3;return g.resolved(d).then(function(j){var m=[j,function(q,p,l){return g.resolved(q).then(function(n){return g.resolved(p).then(function(o){return c(n,o,l,j)})})}];if(b){m.push(k)}return Ext.Array.reduce.apply(Ext.Array,m)})},rejected:function(b){var c=new Ext.Deferred();c.reject(b);return c.promise},resolved:function(b){var c=new Ext.Deferred();c.resolve(b);return c.promise},sequence:function(c,b){if(b==null){b=null}var d=Ext.Array.slice(arguments,2);return g.reduce(c,function(m,l){if(!Ext.isFunction(l)){throw new Error("Invalid parameter: expected a function.")}return g.resolved(l.apply(b,d)).then(function(j){m.push(j);return m})},[])},some:function(b,c){return g.resolved(b).then(function(B){var E,w,u,d,C,D,y,v,A,x;v=[];y=c;D=(B.length-y)+1;E=new g();if(B.length<c){E.reject(new Error("Too few Promises were resolved."))}else{d=function(j){if(y>0){v.push(j)}y--;if(y===0){E.resolve(v)}return j};u=function(j){D--;if(D===0){E.reject(new Error("Too few Promises were resolved."))}return j};for(w=A=0,x=B.length;A<x;w=++A){C=B[w];if(w in B){g.resolved(C).then(d,u)}}}return E.promise})},timeout:function(k,c){var d=new g(),b;b=setTimeout(function(){if(b){d.reject(new Error("Promise timed out."))}},c);g.resolved(k).then(function(j){clearTimeout(b);b=null;d.resolve(j)},function(j){clearTimeout(b);b=null;d.reject(j)});return d.promise}}}},0,0,0,0,0,0,[Ext,"Deferred"],function(c){c._ready()}));Ext.Factory=function(d){var e=this;e.aliasPrefix=d+".";e.cache={};e.name=d.replace(e.fixNameRe,e.fixNameFn);e.type=d};Ext.Factory.prototype={defaultProperty:"type",instanceProp:"isInstance",create:function(s,q){var n=this,v=Ext.ClassManager,u=n.cache,r,o,p,m;if(s){if(s[n.instanceProp]){return s}if(typeof s==="string"){m=s;s={};s[n.defaultProperty]=m}o=s.xclass;m=s.type}if(q&&q.constructor===Object){s=Ext.apply({},s,q);q=q.type}if(o){if(!(p=v.get(o))){return v.instantiate(o,s)}}else{if(!(m=m||q||n.defaultType)){p=n.defaultClass}if(!p&&!(p=u[m])){r=n.aliasPrefix+m;o=v.getNameByAlias(r);if(!(p=o&&v.get(o))){return v.instantiateByAlias(r,s)}u[m]=p}}return p.isInstance?p:new p(s)},fixNameRe:/\.[a-z]/ig,fixNameFn:function(c){return c.substring(1).toUpperCase()},clearCache:function(){this.cache={}}};Ext.Factory.define=function(k,m){var j=Ext.Factory,o,n,l;if(k.constructor===Object){Ext.Object.each(k,j.define,j)}else{n=new Ext.Factory(k);if(m){if(m.constructor===Object){Ext.apply(n,m);if(typeof(o=n.xclass)==="string"){n.defaultClass=Ext.ClassManager.get(o)}}else{n.defaultType=m}}j[n.name]=l=n.create.bind(n);l.instance=n}return l};(Ext.cmd.derive("Ext.mixin.Factoryable",Ext.Base,{mixinId:"factoryable",onClassMixedIn:function(m){var n=m.prototype,l=n.factoryConfig,o=n.alias,p={},q,k;o=o&&o.length&&o[0];if(o&&(q=o.lastIndexOf("."))>0){p.type=o.substring(0,q);p.defaultType=o.substring(q+1)}if(l){delete n.factoryConfig;Ext.apply(p,l)}k=Ext.Factory.define(p.type,p);if(m.create===Ext.Base.create){m.create=k}}},0,0,0,0,0,0,[Ext.mixin,"Factoryable"],0));(Ext.cmd.derive("Ext.data.request.Base",Ext.Base,{factoryConfig:{type:"request",defaultType:"ajax"},result:null,success:null,timer:null,constructor:function(d){var e=this;Ext.apply(e,d.options||{},d.ownerConfig);e.id=++Ext.data.Connection.requestId;e.owner=d.owner;e.options=d.options;e.requestOptions=d.requestOptions},start:function(){var d=this,e=d.getTimeout();if(e&&d.async){d.timer=Ext.defer(d.onTimeout,e,d)}},abort:function(){var c=this;c.clearTimer();if(!c.timedout){c.aborted=true}c.abort=Ext.emptyFn},createDeferred:function(){return(this.deferred=new Ext.Deferred())},getDeferred:function(){return this.deferred||this.createDeferred()},getPromise:function(){return this.getDeferred().promise},then:function(){var c=this.getPromise();return c.then.apply(c,arguments)},onComplete:function(){var f=this,g=f.deferred,e=f.result;f.clearTimer();if(g){if(f.success){g.resolve(e)}else{g.reject(e)}}},onTimeout:function(){var c=this;c.timedout=true;c.timer=null;c.abort(true)},getTimeout:function(){return this.timeout},clearTimer:function(){var c=this.timer;if(c){clearTimeout(c);this.timer=null}},destroy:function(){var c=this;c.abort();c.owner=c.options=c.requestOptions=c.result=null;c.callParent()},privates:{createException:function(){var e=this,d;d={request:e,requestId:e.id,status:e.aborted?-1:0,statusText:e.aborted?"transaction aborted":"communication failure",getResponseHeader:e._getHeader,getAllResponseHeaders:e._getHeaders};if(e.aborted){d.aborted=true}if(e.timedout){d.timedout=true}return d},_getHeader:function(d){var e=this.headers;return e&&e[d.toLowerCase()]},_getHeaders:function(){return this.headers}}},1,0,0,0,0,[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.request,"Base"],0));(Ext.cmd.derive("Ext.data.flash.BinaryXhr",Ext.Base,{statics:{flashPluginActivated:function(){Ext.data.flash.BinaryXhr.flashPluginActive=true;Ext.data.flash.BinaryXhr.flashPlugin=document.getElementById("ext-flash-polyfill");Ext.GlobalEvents.fireEvent("flashready")},flashPluginActive:false,flashPluginInjected:false,connectionIndex:1,liveConnections:{},flashPlugin:null,onFlashStateChange:function(g,j,k){var f;f=this.liveConnections[Number(g)];if(f){f.onFlashStateChange(j,k)}},registerConnection:function(e){var d=this.connectionIndex;this.conectionIndex=this.connectionIndex+1;this.liveConnections[d]=e;return d},injectFlashPlugin:function(){var g=this,e,f;g.flashPolyfillEl=Ext.getBody().appendChild({id:"ext-flash-polyfill",cn:[{tag:"p",html:"To view this page ensure that Adobe Flash Player version 11.1.0 or greater is installed."},{tag:"a",href:"http://www.adobe.com/go/getflashplayer",cn:[{tag:"img",src:window.location.protocol+"//www.adobe.com/images/shared/download_buttons/get_flash_player.gif",alt:"Get Adobe Flash player"}]}]});e=[Ext.Loader.getPath("Ext.data.Connection"),"../../../plugins/flash/swfobject.js"].join("/");f="/plugins/flash/FlashPlugin.swf";if(Ext.flashPluginPath){f=Ext.flashPluginPath}Ext.Loader.loadScript({url:e,onLoad:function(){var l="11.4.0";var c="playerProductInstall.swf";var m={};var b={};b.quality="high";b.bgcolor="#ffffff";b.allowscriptaccess="sameDomain";b.allowfullscreen="true";var d={};d.id="ext-flash-polyfill";d.name="polyfill";d.align="middle";swfobject.embedSWF(f,"ext-flash-polyfill","0","0",l,c,m,b,d)},onError:function(){},scope:g});Ext.data.flash.BinaryXhr.flashPluginInjected=true}},readyState:0,status:0,statusText:"",responseBytes:null,javascriptId:null,constructor:function(d){if(!Ext.data.flash.BinaryXhr.flashPluginInjected){Ext.data.flash.BinaryXhr.injectFlashPlugin()}var e=this;Ext.apply(e,d);e.requestHeaders={}},abort:function(){var c=this;if(c.readyState==4){return}c.aborted=true;if(!Ext.data.flash.BinaryXhr.flashPluginActive){Ext.GlobalEvents.removeListener("flashready",c.onFlashReady,c);return}Ext.data.flash.BinaryXhr.flashPlugin.abortRequest(c.javascriptId);delete Ext.data.flash.BinaryXhr.liveConnections[c.javascriptId]},getAllResponseHeaders:function(){var c=[];Ext.Object.each(this.responseHeaders,function(e,b){c.push(e+": "+b)});return c.join("\r\n")},getResponseHeader:function(e){var d=this.responseHeaders;return(d&&d[e])||null},open:function(k,n,m,j,o){var l=this;l.method=k;l.url=n;l.async=m!==false;l.user=j;l.password=o},overrideMimeType:function(c){this.mimeType=c},send:function(d){var e=this;e.body=d;if(!Ext.data.flash.BinaryXhr.flashPluginActive){Ext.GlobalEvents.addListener("flashready",e.onFlashReady,e)}else{this.onFlashReady()}},onFlashReady:function(){var f=this,g,e;f.javascriptId=Ext.data.flash.BinaryXhr.registerConnection(f);g={method:f.method,url:f.url,user:f.user,password:f.password,mimeType:f.mimeType,requestHeaders:f.requestHeaders,body:f.body,javascriptId:f.javascriptId};e=Ext.data.flash.BinaryXhr.flashPlugin.postBinary(g)},setReadyState:function(e){var d=this;if(d.readyState!=e){d.readyState=e;d.onreadystatechange()}},setRequestHeader:function(e,d){this.requestHeaders[e]=d},onreadystatechange:Ext.emptyFn,parseData:function(e){var d=this;this.status=e.status||0;d.responseHeaders={};if(d.mimeType){d.responseHeaders["content-type"]=d.mimeType}if(e.reason=="complete"){this.responseBytes=e.data;d.responseHeaders["content-length"]=e.data.length}else{if(e.reason=="error"||e.reason=="securityError"){this.statusText=e.text;d.responseHeaders["content-length"]=0}}},onFlashStateChange:function(f,g){var e=this;if(f==4){e.parseData(g);delete Ext.data.flash.BinaryXhr.liveConnections[e.javascriptId]}e.setReadyState(f)}},1,0,0,0,0,0,[Ext.data.flash,"BinaryXhr"],0));(Ext.cmd.derive("Ext.data.request.Ajax",Ext.data.request.Base,{statics:{parseStatus:function(m,l){var g;if(l){if(l.responseType==="arraybuffer"){g=l.byteLength}else{if(l.responseText){g=l.responseText.length}}}m=m==1223?204:m;var j=(m>=200&&m<300)||m==304||(m==0&&Ext.isNumber(g)),k=false;if(!j){switch(m){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:k=true;break}}return{success:j,isException:k}}},start:function(n){var p=this,q=p.options,k=p.requestOptions,o=p.isXdr,l,m;l=p.xhr=p.openRequest(q,k,p.async,p.username,p.password);if(!o){m=p.setupHeaders(l,q,k.data,k.params)}if(p.async){if(!o){l.onreadystatechange=Ext.Function.bind(p.onStateChange,p)}}if(o){p.processXdrRequest(p,l)}Ext.data.request.Base.prototype.start.call(this,n);l.send(n);if(!p.async){return p.onComplete()}return p},abort:function(k){var e=this,g=e.xhr;if(k||e.isLoading()){try{g.onreadystatechange=null}catch(j){g.onreadystatechange=Ext.emptyFn}g.abort();Ext.data.request.Base.prototype.abort.call(this,k);e.onComplete();e.cleanup()}},cleanup:function(){this.xhr=null;delete this.xhr},isLoading:function(){var f=this,g=f.xhr,k=g&&g.readyState,j=Ext.data.flash&&Ext.data.flash.BinaryXhr;if(!g||f.aborted||f.timedout){return false}if(j&&g instanceof j){return k!==4}return k!==0&&k!==4},openRequest:function(p,k,o,l,q){var n=this,m=n.newRequest(p);if(l){m.open(k.method,k.url,o,l,q)}else{if(n.isXdr){m.open(k.method,k.url)}else{m.open(k.method,k.url,o)}}if(p.binary||n.binary){if(window.Uint8Array){m.responseType="arraybuffer"}else{if(m.overrideMimeType){m.overrideMimeType("text/plain; charset=x-user-defined")}}}if(p.withCredentials||n.withCredentials){m.withCredentials=true}return m},newRequest:function(e){var g=this,f;if(e.binaryData){if(window.Uint8Array){f=g.getXhrInstance()}else{f=new Ext.data.flash.BinaryXhr()}}else{if(g.cors&&Ext.isIE9m){f=g.getXdrInstance();g.isXdr=true}else{f=g.getXhrInstance();g.isXdr=false}}return f},setupHeaders:function(s,e,C,D){var x=this,F=Ext.apply({},e.headers||{},x.defaultHeaders),u=x.defaultPostHeader,w=e.jsonData,G=e.xmlData,y="Content-Type",E=x.useDefaultXhrHeader,v,B;if(!F.hasOwnProperty(y)&&(C||D)){if(C){if(e.rawData){u="text/plain"}else{if(G&&Ext.isDefined(G)){u="text/xml"}else{if(w&&Ext.isDefined(w)){u="application/json"}}}}F[y]=u}if(E&&!F["X-Requested-With"]){F["X-Requested-With"]=x.defaultXhrHeader}if(F[y]===undefined||F[y]===null){delete F[y]}try{for(v in F){if(F.hasOwnProperty(v)){B=F[v];s.setRequestHeader(v,B)}}}catch(A){x.owner.fireEvent("exception",v,B)}return F},getXdrInstance:function(){var c;if(Ext.ieVersion>=8){c=new XDomainRequest()}else{Ext.raise({msg:"Your browser does not support CORS"})}return c},getXhrInstance:(function(){var m=[function(){return new XMLHttpRequest()},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],l=0,e=m.length,j;for(;l<e;++l){try{j=m[l];j();break}catch(k){}}return j}()),processXdrRequest:function(g,f){var e=this;delete g.headers;g.contentType=g.options.contentType||e.defaultXdrContentType;f.onload=Ext.Function.bind(e.onStateChange,e,[true]);f.onerror=f.ontimeout=Ext.Function.bind(e.onStateChange,e,[false])},processXdrResponse:function(d,e){d.getAllResponseHeaders=function(){return[]};d.getResponseHeader=function(){return""};d.contentType=e.contentType||this.defaultXdrContentType},onStateChange:function(k){var j=this,g=j.xhr,f=Ext.GlobalEvents;if((g&&g.readyState==4)||j.isXdr){j.clearTimer();j.onComplete(k);j.cleanup();if(f.hasListeners.idle){f.fireEvent("idle")}}},onComplete:function(p){var s=this,x=s.owner,o=s.options,q=s.xhr,w={success:false,isException:false},e,r,v;if(!q||s.destroyed){return s.result=w}try{e=Ext.data.request.Ajax.parseStatus(q.status,q);if(e.success){e.success=q.readyState===4}}catch(u){e=w}r=s.success=s.isXdr?p:e.success;if(r){v=s.createResponse(q);if(x.hasListeners.requestcomplete){x.fireEvent("requestcomplete",x,v,o)}if(o.success){Ext.callback(o.success,o.scope,[v,o])}}else{if(e.isException||s.aborted||s.timedout){v=s.createException(q)}else{v=s.createResponse(q)}if(x.hasListeners.requestexception){x.fireEvent("requestexception",x,v,o)}if(o.failure){Ext.callback(o.failure,o.scope,[v,o])}}s.result=v;if(o.callback){Ext.callback(o.callback,o.scope,[o,r,v])}x.onRequestComplete(s);Ext.data.request.Base.prototype.onComplete.call(this,p);return v},createResponse:function(q){var s=this,x=s.isXdr,y={},p=x?[]:q.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),v=p.length,o,u,r,w,A;while(v--){o=p[v];u=o.indexOf(":");if(u>=0){r=o.substr(0,u).toLowerCase();if(o.charAt(u+1)==" "){++u}y[r]=o.substr(u+1)}}w={request:s,requestId:s.id,status:q.status,statusText:q.statusText,getResponseHeader:function(b){return y[b.toLowerCase()]},getAllResponseHeaders:function(){return y}};if(x){s.processXdrResponse(w,q)}if(s.binary){w.responseBytes=s.getByteArray(q)}else{w.responseText=q.responseText;w.responseXML=q.responseXML}return w},destroy:function(){this.xhr=null;Ext.data.request.Base.prototype.destroy.call(this)},privates:{getByteArray:function(n){var s=n.response,u=n.responseBody,e=Ext.data.flash&&Ext.data.flash.BinaryXhr,v,o,q,r;if(n instanceof e){v=n.responseBytes}else{if(window.Uint8Array){v=s?new Uint8Array(s):[]}else{if(Ext.isIE9p){try{v=new VBArray(u).toArray()}catch(p){v=[]}}else{if(Ext.isIE){if(!this.self.vbScriptInjected){this.injectVBScript()}getIEByteArray(n.responseBody,v=[])}else{v=[];o=n.responseText;q=o.length;for(r=0;r<q;r++){v.push(o.charCodeAt(r)&255)}}}}}return v},injectVBScript:function(){var c=document.createElement("script");c.type="text/vbscript";c.text=["Function getIEByteArray(byteArray, out)","Dim len, i","len = LenB(byteArray)","For i = 1 to len","out.push(AscB(MidB(byteArray, i, 1)))","Next","End Function"].join("\n");Ext.getHead().dom.appendChild(c);this.self.vbScriptInjected=true}}},0,0,0,0,["request.ajax"],0,[Ext.data.request,"Ajax"],0));(Ext.cmd.derive("Ext.data.request.Form",Ext.data.request.Base,{start:function(g){var j=this,k=j.options,f=j.requestOptions;Ext.data.request.Base.prototype.start.call(this,g);j.form=j.upload(k.form,f.url,f.data,k);return j},abort:function(k){var e=this,g;if(e.isLoading()){try{g=e.frame.dom;if(g.stop){g.stop()}else{g.document.execCommand("Stop")}}catch(j){}}Ext.data.request.Base.prototype.abort.call(this,k);e.onComplete();e.cleanup()},cleanup:function(){var d=this,e=d.frame;if(e){e.un("load",d.onComplete,d);Ext.removeNode(e)}d.frame=d.form=null},isLoading:function(){return !!this.frame},upload:function(R,M,A,N){R=Ext.getDom(R);N=N||{};var C=document.createElement("iframe"),I=Ext.get(C),G=I.id,Q=[],P="multipart/form-data",B={target:R.target,method:R.method,encoding:R.encoding,enctype:R.enctype,action:R.action},S=function(c,b){L=document.createElement("input");Ext.fly(L).set({type:"hidden",value:b,name:c});R.appendChild(L);Q.push(L)},L,J,E,v,F,K,H,D,O;I.set({name:G,cls:"x-hidden-display",src:Ext.SSL_SECURE_URL,tabIndex:-1});document.body.appendChild(C);if(document.frames){document.frames[G].name=G}Ext.fly(R).set({target:G,method:"POST",enctype:P,encoding:P,action:M||B.action});if(A){J=Ext.Object.fromQueryString(A)||{};for(v in J){if(J.hasOwnProperty(v)){E=J[v];if(Ext.isArray(E)){F=E.length;for(K=0;K<F;K++){S(v,E[K])}}else{S(v,E)}}}}this.frame=I;I.on({load:this.onComplete,scope:this,single:!Ext.isOpera});R.submit();Ext.fly(R).set(B);for(H=Q.length,D=0;D<H;D++){Ext.removeNode(Q[D])}return R},getDoc:function(){var c=this.frame.dom;return(c&&(c.contentWindow.document||c.contentDocument))||(window.frames[c.id]||{}).document},getTimeout:function(){return this.options.timeout},onComplete:function(){var r=this,w=r.frame,x=r.owner,e=r.options,p,q,o,u,v;if(!w){return}if(r.aborted||r.timedout){r.result=v=r.createException();v.responseXML=null;v.responseText='{success:false,message:"'+Ext.String.trim(v.statusText)+'"}';v.request=r;p=e.failure;o=false}else{try{q=r.getDoc();r.result=v={responseText:"",responseXML:null,request:r};if(q){if(Ext.isOpera&&q.location==Ext.SSL_SECURE_URL){return}if(q.body){if((u=q.body.firstChild)&&/pre/i.test(u.tagName)){v.responseText=u.textContent||u.innerText}else{if((u=q.getElementsByTagName("textarea")[0])){v.responseText=u.value}else{v.responseText=q.body.textContent||q.body.innerText}}}v.responseXML=q.XMLDocument||q;p=e.success;o=true;v.status=200}else{Ext.raise("Could not acquire a suitable connection for the file upload service.")}}catch(s){r.result=v=r.createException();v.status=400;v.statusText=(s.message||s.description)+"";v.responseText='{success:false,message:"'+Ext.String.trim(v.statusText)+'"}';v.responseXML=null;p=e.failure;o=false}}r.frame=null;r.success=o;x.fireEvent(o?"requestcomplete":"requestexception",x,v,e);Ext.callback(p,e.scope,[v,e]);Ext.callback(e.callback,e.scope,[e,o,v]);x.onRequestComplete(r);Ext.asap(w.destroy,w);Ext.data.request.Base.prototype.onComplete.call(this)},destroy:function(){this.cleanup();Ext.data.request.Base.prototype.destroy.call(this)}},0,0,0,0,["request.form"],0,[Ext.data.request,"Form"],0));(Ext.cmd.derive("Ext.data.Connection",Ext.Base,{statics:{requestId:0},enctypeRe:/multipart\/form-data/i,config:{url:null,async:true,username:"",password:"",disableCaching:true,withCredentials:false,binary:false,cors:false,isXdr:false,defaultXdrContentType:"text/plain",disableCachingParam:"_dc",timeout:30000,extraParams:null,autoAbort:false,method:null,defaultHeaders:null,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:true,defaultXhrHeader:"XMLHttpRequest"},constructor:function(c){this.mixins.observable.constructor.call(this,c);this.requests={}},request:function(k){k=k||{};var g=this,f,j;if(g.fireEvent("beforerequest",g,k)!==false){f=g.setOptions(k,k.scope||Ext.global);j=g.createRequest(k,f);return j.start(f.data)}Ext.callback(k.callback,k.scope,[k,undefined,undefined]);return Ext.Deferred.rejected([k,undefined,undefined])},createRequest:function(m,g){var j=this,l=m.type||g.type,k;if(!l){l=j.isFormUpload(m)?"form":"ajax"}if(m.autoAbort||j.getAutoAbort()){j.abort()}k=Ext.Factory.request({type:l,owner:j,options:m,requestOptions:g,ownerConfig:j.getConfig()});j.requests[k.id]=k;j.latestId=k.id;return k},isFormUpload:function(d){var e=this.getForm(d);if(e){return d.isUpload||this.enctypeRe.test(e.getAttribute("enctype"))}return false},getForm:function(c){return Ext.getDom(c.form)},setOptions:function(p,q){var s=this,x=p.params||{},u=s.getExtraParams(),y=p.urlParams,A=p.url||s.getUrl(),v=p.cors,r=p.jsonData,B,C,w;if(v!==undefined){s.setCors(v)}if(Ext.isFunction(x)){x=x.call(q,p)}if(Ext.isFunction(A)){A=A.call(q,p)}A=this.setupUrl(p,A);w=p.rawData||p.binaryData||p.xmlData||r||null;if(r&&!Ext.isPrimitive(r)){w=Ext.encode(w)}if(p.binaryData){if(s.nativeBinaryPostSupport()){w=(new Uint8Array(p.binaryData));if((Ext.isChrome&&Ext.chromeVersion<22)||Ext.isSafari||Ext.isGecko){w=w.buffer}}}if(Ext.isObject(x)){x=Ext.Object.toQueryString(x)}if(Ext.isObject(u)){u=Ext.Object.toQueryString(u)}x=x+((u)?((x)?"&":"")+u:"");y=Ext.isObject(y)?Ext.Object.toQueryString(y):y;x=this.setupParams(p,x);B=(p.method||s.getMethod()||((x||w)?"POST":"GET")).toUpperCase();this.setupMethod(p,B);C=p.disableCaching!==false?(p.disableCaching||s.getDisableCaching()):false;if(B==="GET"&&C){A=Ext.urlAppend(A,(p.disableCachingParam||s.getDisableCachingParam())+"="+(new Date().getTime()))}if((B=="GET"||w)&&x){A=Ext.urlAppend(A,x);x=null}if(y){A=Ext.urlAppend(A,y)}return{url:A,method:B,data:w||x||null}},setupUrl:function(g,e){var f=this.getForm(g);if(f){e=e||f.action}return e},setupParams:function(f,g){var j=this.getForm(f),k;if(j&&!this.isFormUpload(f)){k=Ext.Element.serializeForm(j);g=g?(g+"&"+k):k}return g},setupMethod:function(d,e){if(this.isFormUpload(d)){return"POST"}return e},isLoading:function(c){if(!c){c=this.getLatest()}return c?c.isLoading():false},abort:function(c){if(!c){c=this.getLatest()}if(c&&c.isLoading()){c.abort()}},abortAll:function(){var e=this.requests,d;for(d in e){this.abort(e[d])}},getLatest:function(){var e=this.latestId,d;if(e){d=this.requests[e]}return d||null},clearTimeout:function(c){if(!c){c=this.getLatest()}if(c){c.clearTimer()}},onRequestComplete:function(c){delete this.requests[c.id]},nativeBinaryPostSupport:function(){return Ext.isChrome||(Ext.isSafari&&Ext.isDefined(window.Uint8Array))||(Ext.isGecko&&Ext.isDefined(window.Uint8Array))}},1,0,0,0,0,[["observable",Ext.mixin.Observable]],[Ext.data,"Connection"],0));Ext.define("Ext.overrides.data.Connection",{override:"Ext.data.Connection",onRequestComplete:function(c){},request:function(d){var e={"Credential-Type":Ext.manifest.appType};if(Ext.manifest.auth){e.Authorization="Bearer "+Ext.manifest.auth}d.headers=e;return arguments.callee.$previous.apply(this,arguments)}});(Ext.cmd.derive("Ext.Ajax",Ext.data.Connection,{singleton:true,autoAbort:false},0,0,0,0,0,0,[Ext,"Ajax"],0));(Ext.cmd.derive("Ext.AnimationQueue",Ext.Base,{singleton:true,constructor:function(){var c=this;c.queue=[];c.taskQueue=[];c.runningQueue=[];c.idleQueue=[];c.isRunning=false;c.isIdle=true;c.run=Ext.Function.bind(c.run,c);if(Ext.os.is.iOS){Ext.interval(c.watch,500,c)}},start:function(j,k,f){var g=this;g.queue.push(arguments);if(!g.isRunning){if(g.hasOwnProperty("idleTimer")){clearTimeout(g.idleTimer);delete g.idleTimer}if(g.hasOwnProperty("idleQueueTimer")){clearTimeout(g.idleQueueTimer);delete g.idleQueueTimer}g.isIdle=false;g.isRunning=true;g.doStart()}},watch:function(){if(this.isRunning&&Ext.now()-this.lastRunTime>=500){this.run()}},run:function(){var j=this;if(!j.isRunning){return}var g=j.runningQueue,m=Ext.now(),l,k;j.lastRunTime=m;j.frameStartTime=m;g.push.apply(g,j.queue);for(l=0,k=g.length;l<k;l++){j.invoke(g[l])}g.length=0;j.doIterate()},doStart:function(){this.animationFrameId=Ext.Function.requestAnimationFrame(this.run);this.lastRunTime=Ext.now()},doIterate:function(){this.animationFrameId=Ext.Function.requestAnimationFrame(this.run)},doStop:function(){Ext.Function.cancelAnimationFrame(this.animationFrameId)},stop:function(p,q,s){var m=this;if(!m.isRunning){return}var l=m.queue,n=l.length,r,o;for(r=0;r<n;r++){o=l[r];if(o[0]===p&&o[1]===q&&o[2]===s){l.splice(r,1);r--;n--}}if(n===0){m.doStop();m.isRunning=false;m.idleTimer=Ext.defer(m.whenIdle,100,m)}},onIdle:function(n,o,k){var p=this.idleQueue,q,m,l;for(q=0,m=p.length;q<m;q++){l=p[q];if(n===l[0]&&o===l[1]&&k===l[2]){return}}p.push(arguments);if(this.isIdle){this.processIdleQueue()}},unIdle:function(n,o,k){var p=this.idleQueue,q,m,l;for(q=0,m=p.length;q<m;q++){l=p[q];if(n===l[0]&&o===l[1]&&k===l[2]){p.splice(q,1);return true}}return false},queueTask:function(f,g,e){this.taskQueue.push(arguments);this.processTaskQueue()},dequeueTask:function(n,o,k){var p=this.taskQueue,q,m,l;for(q=0,m=p.length;q<m;q++){l=p[q];if(n===l[0]&&o===l[1]&&k===l[2]){p.splice(q,1);q--;m--}}},invoke:function(g){var j=g[0],k=g[1],f=g[2];j=(typeof j=="string"?k[j]:j);if(Ext.isArray(f)){j.apply(k,f)}else{j.call(k,f)}},whenIdle:function(){this.isIdle=true;this.processIdleQueue()},processIdleQueue:function(){if(!this.hasOwnProperty("idleQueueTimer")){this.idleQueueTimer=Ext.defer(this.processIdleQueueItem,1,this)}},processIdleQueueItem:function(){delete this.idleQueueTimer;if(!this.isIdle){return}var d=this.idleQueue,e;if(d.length>0){e=d.shift();this.invoke(e);this.processIdleQueue()}},processTaskQueue:function(){if(!this.hasOwnProperty("taskQueueTimer")){this.taskQueueTimer=Ext.defer(this.processTaskQueueItem,15,this)}},processTaskQueueItem:function(){delete this.taskQueueTimer;var d=this.taskQueue,e;if(d.length>0){e=d.shift();this.invoke(e);this.processTaskQueue()}}},1,0,0,0,0,0,[Ext,"AnimationQueue"],0));(Ext.cmd.derive("Ext.ComponentManager",Ext.Base,{alternateClassName:"Ext.ComponentMgr",singleton:true,count:0,typeName:"xtype",constructor:function(d){var e=this;Ext.apply(e,d||{});e.all={};e.references={};e.onAvailableCallbacks={}},create:function(d,e){if(typeof d==="string"){return Ext.widget(d)}if(d.isComponent){return d}if("xclass" in d){return Ext.create(d.xclass,d)}return Ext.widget(d.xtype||e,d)},get:function(c){return this.all[c]},register:function(g){var j=this,k=j.all,l=g.getId(),m=j.onAvailableCallbacks;k[l]=g;if(g.getReference&&g.getReference()){j.references[l]=g}++j.count;if(!j.hasFocusListener){Ext.on("focus",j.onGlobalFocus,j);j.hasFocusListener=true}m=m&&m[l];if(m&&m.length){j.notifyAvailable(g)}},unregister:function(d){var e=d.getId();if(d.getReference&&d.getReference()){this.references[e]=null;delete this.references[e]}this.all[e]=null;delete this.all[e];this.count--},markReferencesDirty:function(){this.referencesDirty=true},fixReferences:function(){var f=this,g=f.references,e;if(f.referencesDirty){for(e in g){if(g.hasOwnProperty(e)){g[e].fixReference()}}f.referencesDirty=false}},onAvailable:function(l,p,q){var m=this,n=m.onAvailableCallbacks,k=m.all,o;if(l in k){o=k[l];p.call(q||o,o)}else{if(l){if(!Ext.isArray(n[l])){n[l]=[]}n[l].push(function(b){p.call(q||b,b)})}}},notifyAvailable:function(e){var d=this.onAvailableCallbacks[e&&e.getId()]||[];while(d.length){(d.shift())(e)}},each:function(e,d){return Ext.Object.each(this.all,e,d)},getCount:function(){return this.count},getAll:function(){return Ext.Object.getValues(this.all)},getActiveComponent:function(){return Ext.Component.fromElement(Ext.dom.Element.getActiveElement())},onGlobalFocus:function(n){var q=this,s=n.toElement,m=n.fromElement,o=Ext.Component.fromElement(s),e=Ext.Component.fromElement(m),r,p;if(o===e){return}r=q.getCommonAncestor(e,o);if(e&&!(e.destroyed||e.destroying)){if(e.handleBlurEvent){e.handleBlurEvent(n)}for(p=e;p&&p!==r;p=p.getRefOwner()){if(!(p.destroyed||p.destroying)){p.onFocusLeave({event:n.event,type:"focusleave",target:m,relatedTarget:s,fromComponent:e,toComponent:o})}}}if(o&&!(o.destroyed||o.destroying)){if(o.handleFocusEvent){o.handleFocusEvent(n)}for(p=o;p&&p!==r;p=p.getRefOwner()){p.onFocusEnter({event:n.event,type:"focusenter",relatedTarget:m,target:s,fromComponent:e,toComponent:o})}}},getCommonAncestor:function(e,d){if(e===d){return e}while(e&&!(e.isAncestor(d)||e===d)){e=e.getRefOwner()}return e},privates:{clearAll:function(){this.all={};this.references={};this.onAvailableCallbacks={}},fromElement:function(u,r,s){var o=Ext.getDom(u),v=this.all,q=0,m,p,n;if(typeof r!=="number"){m=Ext.getDom(r);r=Number.MAX_VALUE}while(o&&o.nodeType===1&&q<r&&o!==m){p=o.getAttribute("data-componentid")||o.id;if(p){n=v[p];if(n&&(!s||Ext.ComponentQuery.is(n,s))){return n}q++}o=o.parentNode}return null}},deprecated:{5:{methods:{isRegistered:null,registerType:null}}}},1,0,0,0,0,0,[Ext,"ComponentManager",Ext,"ComponentMgr"],function(){Ext.getCmp=function(c){return Ext.ComponentManager.get(c)}}));Ext.ns("Ext.util").Operators={"=":function(d,e){return d==e},"!=":function(d,e){return d!=e},"^=":function(d,e){return d&&d.substr(0,e.length)==e},"$=":function(d,e){return d&&d.substr(d.length-e.length)==e},"*=":function(d,e){return d&&d.indexOf(e)!==-1},"%=":function(d,e){return(d%e)===0},"|=":function(d,e){return d&&(d==e||d.substr(0,e.length+1)==e+"-")},"~=":function(d,e){return d&&(" "+d+" ").indexOf(" "+e+" ")!=-1}};(Ext.cmd.derive("Ext.util.LruCache",Ext.util.HashMap,{config:{maxSize:null},add:function(g,j){var k=this,l,m;k.removeAtKey(g);m=k.last;l={prev:m,next:null,key:g,value:j};if(m){m.next=l}else{k.first=l}k.last=l;Ext.util.HashMap.prototype.add.call(this,g,l);k.prune();return j},insertBefore:function(o,k,n){var l=this,j,m;if(n=this.map[this.findKey(n)]){j=l.findKey(k);if(j){l.unlinkEntry(m=l.map[j])}else{m={prev:n.prev,next:n,key:o,value:k}}if(n.prev){m.prev.next=m}else{l.first=m}m.next=n;n.prev=m;l.prune();return k}else{return l.add(o,k)}},get:function(d){var e=this.map[d];if(e){if(e.next){this.moveToEnd(e)}return e.value}},removeAtKey:function(c){this.unlinkEntry(this.map[c]);return Ext.util.HashMap.prototype.removeAtKey.apply(this,arguments)},clear:function(c){this.first=this.last=null;return Ext.util.HashMap.prototype.clear.call(this,c)},unlinkEntry:function(c){if(c){if(c.next){c.next.prev=c.prev}else{this.last=c.prev}if(c.prev){c.prev.next=c.next}else{this.first=c.next}c.prev=c.next=null}},moveToEnd:function(c){this.unlinkEntry(c);if(c.prev=this.last){this.last.next=c}else{this.first=c}this.last=c},getArray:function(f){var e=[],g=this.first;while(g){e.push(f?g.key:g.value);g=g.next}return e},each:function(n,o,j){var k=this,l=j?k.last:k.first,m=k.length;o=o||k;while(l){if(n.call(o,l.key,l.value,m)===false){break}l=j?l.prev:l.next}return k},findKey:function(g){var e,f=this.map;for(e in f){if(f.hasOwnProperty(e)&&f[e].value===g){return e}}return undefined},clone:function(){var e=new this.self(this.initialConfig),f=this.map,g;e.suspendEvents();for(g in f){if(f.hasOwnProperty(g)){e.add(g,f[g].value)}}e.resumeEvents();return e},prune:function(){var g=this,e=g.getMaxSize(),f=e?(g.length-e):0;if(f>0){for(;g.first&&f;f--){g.removeAtKey(g.first.key)}}}},0,0,0,0,0,0,[Ext.util,"LruCache"],0));(Ext.cmd.derive("Ext.ComponentQuery",Ext.Base,{singleton:true},0,0,0,0,0,0,[Ext,"ComponentQuery"],function(){var J=this,w=Ext.util.Operators,F=/(\d*)n\+?(\d*)/,K=/\D/,D=/^(\s)+/,E=/\\(.)/g,C=new Ext.util.LruCache({maxSize:100}),B=["var r = [],","i = 0,","it = items,","l = it.length,","c;","for (; i < l; i++) {","c = it[i];","if (c.{0}) {","r.push(c);","}","}","return r;"].join(""),A=function(b,c){return c.method.apply(this,[b].concat(c.args))},O=function(j,e){var d=[],c=0,f=j.length,g,b=e!==">";for(;c<f;c++){g=j[c];if(g.getRefItems){d=d.concat(g.getRefItems(b))}}return d},I=function(c){var d=[],f=0,e=c.length,b;for(;f<e;f++){b=c[f];while(!!(b=b.getRefOwner())){d.push(b)}}return d},L=function(c,e,f){if(e==="*"){return c.slice()}else{var d=[],j=0,g=c.length,b;for(;j<g;j++){b=c[j];if(b.isXType(e,f)){d.push(b)}}return d}},N=function(o,n,e,f){var g=[],p=0,k=o.length,j,c,m,l,q,b,d;if(n.charAt(0)==="@"){j=true;n=n.substr(1)}if(n.charAt(0)==="?"){j=true;c=true;n=n.substr(1)}for(;p<k;p++){m=o[p];d=m.self&&m.self.getConfigurator&&m.self.$config.configs[n];if(d){l=m[d.names.get]()}else{if(j&&!m.hasOwnProperty(n)){continue}else{l=m[n]}}if(c){g.push(m)}else{if(e==="~="){if(l){if(!Ext.isArray(l)){l=l.split(" ")}for(q=0,b=l.length;q<b;q++){if(w[e](Ext.coerce(l[q],f),f)){g.push(m);break}}}}else{if(e==="/="){if(l!=null&&f.test(l)){g.push(m)}}else{if(!f?!!m[n]:w[e](Ext.coerce(l,f),f)){g.push(m)}}}}}return g},H=function(c,e,k){var d=[],j=0,f=c.length,g,b;for(;j<f;j++){g=c[j];b=k?g.id:g.getItemId();if(b===e){d.push(g)}}return d},x=function(c,b,d){return J.pseudos[b](c,d)},G=/^(\s?([>\^])\s?|\s|$)/,y=/^(#)?((?:\\\.|[\w\-])+|\*)(?:\((true|false)\))?/,M=[{re:/^\.((?:\\\.|[\w\-])+)(?:\((true|false)\))?/,method:L,argTransform:function(b){if(b[1]!==undefined){b[1]=b[1].replace(E,"$1")}return b.slice(1)}},{re:/^(?:\[((?:[@?$])?[\w\-]*)\s*(?:([\^$*~%!\/]?=)\s*(['"])?((?:\\\]|.)*?)\3)?(?!\\)\])/,method:N,argTransform:function(c){var d=c[0],g=c[1],b=c[2],f=c[4],e;if(f!==undefined){f=f.replace(E,"$1")}if(b==="/="){e=C.get(f);if(e){f=e}else{f=C.add(f,new RegExp(f))}}return[g,b,f]}},{re:/^#((?:\\\.|[\w\-])+)/,method:H},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:x,argTransform:function(b){if(b[2]!==undefined){b[2]=b[2].replace(E,"$1")}return b.slice(1)}},{re:/^(?:\{([^\}]+)\})/,method:B}];J.Query=Ext.extend(Object,{constructor:function(b){b=b||{};Ext.apply(this,b)},execute:function(g){var c=this.operations,b=[],e,f,d;for(f=0,d=c.length;f<d;f++){e=c[f];b=b.concat(this._execute(g,e))}return b},_execute:function(c,b){var g=0,e=b.length,f,d;if(!c){d=Ext.ComponentManager.getAll()}else{if(Ext.isIterable(c)){d=c}else{if(c.isMixedCollection){d=c.items}}}for(;g<e;g++){f=b[g];if(f.mode==="^"){d=I(d||[c])}else{if(f.mode){d=O(d||[c],f.mode)}else{d=A(d||O([c]),f)}}if(g===e-1){return d}}return[]},is:function(j,g){var c=this.operations,b=false,d=c.length,e,f;if(d===0){return true}for(f=0;f<d;f++){e=c[f];b=this._is(j,g,e);if(b){return b}}return false},_is:function(m,l,j){var b=j.length,g=[m],f,d,e,c,n,k;for(d=b-1;d>=0;--d){f=j[d];c=f.mode;if(c){if(c==="^"){g=O(g," ")}else{if(c===">"){n=[];for(e=0,b=g.length;e<b;++e){k=g[e].getRefOwner();if(k){n.push(k)}}g=n}else{g=I(g)}}}else{g=A(g,f)}if(g.length===0){return false}}if(l){if(!c){g=I(g)}if(g.length>0){g=A(g,{method:H,args:[l.id,true]})}if(g.length===0){return false}}return true},getMatches:function(c,b){var d=b.length,e;for(e=0;e<d;++e){c=A(c,b[e]);if(c.length===0){break}}return c},isMultiMatch:function(){return this.operations.length>1}});Ext.apply(J,{cache:new Ext.util.LruCache({maxSize:100}),pseudos:{not:function(e,d){var j=0,f=e.length,c=[],g=-1,b;for(;j<f;++j){b=e[j];if(!J.is(b,d)){c[++g]=b}}return c},first:function(b){var c=[];if(b.length>0){c.push(b[0])}return c},last:function(d){var c=d.length,b=[];if(c>0){b.push(d[c-1])}return b},focusable:function(c){var d=c.length,b=[],f=0,e;for(;f<d;f++){e=c[f];if(e.isFocusable&&e.isFocusable()){b.push(e)}}return b},canfocus:function(c,g){var d=c.length,b=[],f=0,e;for(;f<d;f++){e=c[f];if(e.canFocus&&e.canFocus(false,g)){b.push(e)}}return b},"nth-child":function(b,l){var k=[],g=F.exec(l==="even"&&"2n"||l==="odd"&&"2n+1"||!K.test(l)&&"n+"+l||l),d=(g[1]||1)-0,c=g[2]-0,e,j,f;for(e=0;j=b[e];e++){f=e+1;if(d===1){if(c===0||f===c){k.push(j)}}else{if((f+c)%d===0){k.push(j)}}}return k},scrollable:function(c){var d=c.length,b=[],f=0,e;for(;f<d;f++){e=c[f];if(e.scrollable||e._scrollable){b.push(e)}}return b},visible:function(g,c){c=c==="true";var d=g.length,f=[],b=0,e;for(;b<d;b++){e=g[b];if(e.isVisible(c)){f.push(e)}}return f}},query:function(j,l){if(!j){return Ext.ComponentManager.all.getArray()}var f=[],k=[],c={},d=J.cache.get(j),e,b,g;if(!d){d=J.cache.add(j,J.parse(j))}f=d.execute(l);if(d.isMultiMatch()){e=f.length;for(g=0;g<e;g++){b=f[g];if(!c[b.id]){k.push(b);c[b.id]=true}}f=k}return f},visitPreOrder:function(d,f,e,c,b){J._visit(true,d,f,e,c,b)},visitPostOrder:function(d,f,e,c,b){J._visit(false,d,f,e,c,b)},_visit:function(l,g,m,n,k,c){var o=J.cache.get(g),d=[m],j,b=0,e,f;if(!o){o=J.cache.add(g,J.parse(g))}f=o.is(m);if(m.getRefItems){j=m.getRefItems();b=j.length}if(c){Ext.Array.push(d,c)}if(l){if(f){if(n.apply(k||m,d)===false){return false}}}for(e=0;e<b;e++){if(J._visit.call(J,l,g,j[e],n,k,c)===false){return false}}if(!l){if(f){if(n.apply(k||m,d)===false){return false}}}},is:function(e,d,c){if(!d){return true}var b=J.cache.get(d);if(!b){b=J.cache.add(d,J.parse(d))}return b.is(e,c)},parse:function(c){var g=[],f,e,b,d;f=Ext.splitAndUnescape(c,",");for(b=0,d=f.length;b<d;b++){e=Ext.String.trim(f[b]);g.push(J._parse(e))}return new J.Query({operations:g})},_parse:function(b){var l=[],d=Ext.String.trim,j=M.length,n,r,c,k,g,f,e,q,p,m,o;while(b&&n!==b){n=b;r=b.match(y);if(r){k=r[1];c=d(r[2]).replace(E,"$1");if(k==="#"){l.push({method:H,args:[c]})}else{l.push({method:L,args:[c,Boolean(r[3])]})}b=b.replace(r[0],"").replace(D,"$1")}while(!(g=b.match(G))){for(q=0;b&&q<j;q++){p=M[q];f=b.match(p.re);m=p.method;e=p.argTransform;if(f){if(e){o=e(f)}else{o=f.slice(1)}l.push({method:Ext.isString(p.method)?Ext.functionFactory("items",Ext.String.format.apply(Ext.String,[m].concat(f.slice(1)))):p.method,args:o});b=b.replace(f[0],"").replace(D,"$1");break}if(q===(j-1)){Ext.raise('Invalid ComponentQuery selector: "'+arguments[0]+'"')}}}if(g[1]){l.push({mode:g[2]||g[1]});b=b.replace(g[0],"").replace(D,"")}}return l}});Ext.all=function(){return J.query.apply(J,arguments)};Ext.first=function(){var b=J.query.apply(J,arguments);return(b&&b[0])||null}}));(Ext.cmd.derive("Ext.Evented",Ext.Base,{alternateClassName:"Ext.EventedBase",initialized:false,constructor:function(c){this.mixins.observable.constructor.call(this,c);this.initialized=true},onClassExtended:function(o,l){if(!l.hasOwnProperty("eventedConfig")){return}var m=l.config,k=l.eventedConfig,n,j;if(m){Ext.applyIf(m,k)}else{o.addConfig(k)}for(n in k){if(k.hasOwnProperty(n)){j=Ext.Config.get(n);l[j.names.set]=j.eventedSetter||j.getEventedSetter()}}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext,"Evented",Ext,"EventedBase"],0));(Ext.cmd.derive("Ext.util.Positionable",Ext.Base,{mixinId:"positionable",_positionTopLeft:["position","top","left"],clippedCls:"x-clipped",afterSetPosition:Ext.emptyFn,adjustForConstraints:function(f,g){var e=this.getConstrainVector(g,f);if(e){f[0]+=e[0];f[1]+=e[1]}return f},alignTo:function(n,j,k,o){var l=this,m=l.el;return l.setXY(l.getAlignToXY(n,j,k),m.anim&&!!o?m.anim(o):false)},calculateAnchorXY:function(g,j,k,m){var l=this.getRegion();l.setPosition(0,0);l.translateBy(j||0,k||0);if(m){l.setWidth(m.width);l.setHeight(m.height)}return l.getAnchorPoint(g)},convertPositionSpec:function(c){return Ext.util.Region.getAlignInfo(c)},getAlignToXY:function(f,k,g){var j=this.getAlignToRegion(f,k,g);return[j.x,j.y]},getAlignToRegion:function(q,p,l,n){var o=this,k,m;q=Ext.get(q.el||q);if(!q||!q.dom){}p=o.convertPositionSpec(p);if(p.constrain){if(p.constrain==="!"){k=q}else{k=o.constrainTo||o.container||o.el.parent()}k=Ext.get(k.el||k).getConstrainRegion()}m=o.getRegion().alignTo({target:q.getRegion(),inside:k,minHeight:n,offset:l,align:p,axisLock:true});return m},getAnchorXY:function(s,q,r){var o=this,n=o.getRegion(),p=o.el,m=p.dom.nodeName==="BODY"||p.dom.nodeType===9,l=p.getScroll();if(q){n.setPosition(0,0)}else{if(m){n.setPosition(l.left,l.top)}}if(r){n.setWidth(r.width);n.setHeight(r.height)}return n.getAnchorPoint(s)},getBox:function(w,s){var v=this,o=s?v.getLocalXY():v.getXY(),r=o[0],u=o[1],q,y,x,A,p;if(v.el.dom.nodeName==="BODY"||v.el.dom.nodeType===9){q=Ext.Element.getViewportWidth();y=Ext.Element.getViewportHeight()}else{q=v.getWidth();y=v.getHeight()}if(w){x=v.getBorderPadding();A=x.beforeX;p=x.beforeY;r+=A;u+=p;q-=(A+x.afterX);y-=(p+x.afterY)}return{x:r,left:r,0:r,y:u,top:u,1:u,width:q,height:y,right:r+q,bottom:u+y}},calculateConstrainedPosition:function(v,B,q,y){var r=this,A,u=r.floatParent,x=u?u.getTargetEl():null,C,w,s,p=false;if(q&&u){C=x.getXY();w=x.getBorderPadding();C[0]+=w.beforeX;C[1]+=w.beforeY;if(B){s=[B[0]+C[0],B[1]+C[1]]}}else{s=B}v=v||r.constrainTo||x||r.container||r.el.parent();if(q&&s){s=r.reverseTranslateXY(s)}A=((r.constrainHeader&&r.header.rendered)?r.header:r).getConstrainVector(v,s,y);if(A){p=B||r.getPosition(q);p[0]+=A[0];p[1]+=A[1]}return p},getConstrainRegion:function(){var s=this,x=s.el,A=x.dom.nodeName==="BODY",v=x.dom,u=x.getBorders(),r=x.getXY(),w=r[0]+u.beforeX,q=r[1]+u.beforeY,p,y,o;if(A){p=x.getScroll();w=p.left;q=p.top;y=Ext.Element.getViewportWidth();o=Ext.Element.getViewportHeight()}else{y=v.clientWidth;o=v.clientHeight}return new Ext.util.Region(q,w+y,q+o,w)},getConstrainVector:function(o,s,q){var n=this,v=n.getRegion(),r=[0,0],u=(n.shadow&&n.constrainShadow&&!n.shadowDisabled)?n.el.shadow.getShadowSize():undefined,m=false,p=n.constraintInsets;if(!(o instanceof Ext.util.Region)){o=Ext.get(o.el||o);o=o.getConstrainRegion()}if(p){p=Ext.isObject(p)?p:Ext.Element.parseBox(p);o.adjust(p.top,p.right,p.bottom,p.left)}if(s){v.translateBy(s[0]-v.x,s[1]-v.y)}if(q){v.right=v.left+q[0];v.bottom=v.top+q[1]}if(u){o.adjust(u[0],-u[1],-u[2],u[3])}if(v.right>o.right){m=true;r[0]=(o.right-v.right)}if(v.left+r[0]<o.left){m=true;r[0]=(o.left-v.left)}if(v.bottom>o.bottom){m=true;r[1]=(o.bottom-v.bottom)}if(v.top+r[1]<o.top){m=true;r[1]=(o.top-v.top)}return m?r:false},getOffsetsTo:function(e){var f=this.getXY(),g=Ext.fly(e.el||e).getXY();return[f[0]-g[0],f[1]-g[1]]},getRegion:function(d){var e=this.getBox(d);return new Ext.util.Region(e.top,e.right,e.bottom,e.left)},getClientRegion:function(){var k=this,f,j=k.getBox(),g=k.dom;f=g.offsetWidth-g.clientWidth;if(f){if(k.getStyle("direction")==="rtl"){j.left+=f}else{j.right-=f}}f=g.offsetHeight-g.clientHeight;if(f){j.bottom-=f}return new Ext.util.Region(j.top,j.right,j.bottom,j.left)},getViewRegion:function(){var r=this,v=r.el,x=v.dom.nodeName==="BODY",s,o,q,p,u,w,n;if(x){o=v.getScroll();u=o.left;p=o.top;w=Ext.Element.getViewportWidth();n=Ext.Element.getViewportHeight()}else{s=r.getBorderPadding();q=r.getXY();u=q[0]+s.beforeX;p=q[1]+s.beforeY;w=r.getWidth(true);n=r.getHeight(true)}return new Ext.util.Region(p,u+w,p+n,u)},getClientRegion:function(){var p=this.el,m,l,n,o,q,k;m=this.getBorderPadding();l=this.getXY();n=l[0]+m.beforeX;o=l[1]+m.beforeY;q=p.dom.clientWidth;k=p.dom.clientHeight;return new Ext.util.Region(o,n+q,o+k,n)},move:function(s,B,A){var w=this,p=w.getXY(),r=p[0],u=p[1],y=[r-B,u],q=[r+B,u],v=[r,u-B],C=[r,u+B],x={l:y,left:y,r:q,right:q,t:v,top:v,up:v,b:C,bottom:C,down:C};s=s.toLowerCase();w.setXY([x[s][0],x[s][1]],A)},setBox:function(j){var k=this,f,g;if(j.isRegion){j={x:j.left,y:j.top,width:j.right-j.left,height:j.bottom-j.top}}k.constrainBox(j);f=j.x;g=j.y;k.setXY([f,g]);k.setSize(j.width,j.height);k.afterSetPosition(f,g);return k},constrainBox:function(k){var l=this,m,g,j;if(l.constrain||l.constrainHeader){g=("x" in k)?k.x:k.left;j=("y" in k)?k.y:k.top;m=l.calculateConstrainedPosition(null,[g,j],false,[k.width,k.height]);if(m){k.x=m[0];k.y=m[1]}}},translatePoints:function(e,f){var g=this.translateXY(e,f);return{left:g.x,top:g.y}},translateXY:function(o,q){var r=this,u=r.el,n=u.getStyle(r._positionTopLeft),v=n.position==="relative",s=parseFloat(n.left),p=parseFloat(n.top),m=r.getXY();if(Ext.isArray(o)){q=o[1];o=o[0]}if(isNaN(s)){s=v?0:u.dom.offsetLeft}if(isNaN(p)){p=v?0:u.dom.offsetTop}s=(typeof o==="number")?o-m[0]+s:undefined;p=(typeof q==="number")?q-m[1]+p:undefined;return{x:s,y:p}},reverseTranslateXY:function(m){var o=m,s=this.el,r=s.dom,u=r.offsetParent,v,q,n,p;if(u){v=s.isStyle("position","relative"),q=Ext.fly(u).getXY(),n=m[0]+q[0]+u.clientLeft;p=m[1]+q[1]+u.clientTop;if(v){n+=s.getPadding("l");p+=s.getPadding("t")}o=[n,p]}return o},privates:{clipTo:function(s,B){var A,C=this.el,v=C.getRegion(),y,u,x=[],p=this.clippedCls,r,w,q;if(s.isRegion){A=s}else{A=(s.isComponent?s.el:Ext.fly(s)).getConstrainRegion()}if(!B){B=15}if(B&1&&(y=A.top-v.top)>0){x[0]=y;w=true}else{x[0]=-10000}if(B&2&&(y=v.right-A.right)>0){x[1]=Math.max(0,C.getWidth()-y);w=true}else{x[1]=10000}if(B&4&&(y=v.bottom-A.bottom)>0){x[2]=Math.max(0,C.getHeight()-y);w=true}else{x[2]=10000}if(B&8&&(y=A.left-v.left)>0){x[3]=y;w=true}else{x[3]=-10000}r="rect(";for(u=0;u<4;++u){r+=Ext.Element.addUnits(x[u],"px");r+=(u===3)?")":","}C.dom.style.clip=r;C.addCls(p);if((q=C.shadow)&&(C=q.el)&&C.dom){x[2]-=q.offsets.y;x[3]-=q.offsets.x;r="rect(";for(u=0;u<4;++u){r+=Ext.Element.addUnits(x[u],"px");r+=(u===3)?")":","}C.dom.style.clip=r;if(w&&!Ext.supports.CSS3BoxShadow){C.dom.style.display="none"}else{C.dom.style.display="";C.addCls(p)}}},clearClip:function(){var e=this.el,d=this.clippedCls;e.dom.style.clip=Ext.isIE8?"auto":"";e.removeCls(d);if(e.shadow&&e.shadow.el&&e.shadow.el.dom){e.shadow.el.dom.style.clip=Ext.isIE8?"auto":"";if(!Ext.supports.CSS3BoxShadow){e.dom.style.display="";e.removeCls(d)}}}}},0,0,0,0,0,0,[Ext.util,"Positionable"],0));Ext.define("Ext.overrides.util.Positionable",{override:"Ext.util.Positionable",anchorTo:function(q,s,w,x,o,n){var r=this,p=!Ext.isEmpty(o),v=function(){r.mixins.positionable.alignTo.call(r,q,s,w,x);Ext.callback(n,r)},u=r.getAnchor();r.removeAnchor();Ext.apply(u,{fn:v,scroll:p});Ext.on("resize",v,null);if(p){Ext.getWin().on("scroll",v,null,{buffer:!isNaN(o)?o:50})}v();return r},getAnchor:function(){var g=this.el,f,e;if(!g||!g.dom){return}f=g.getData();e=f._anchor;if(!e){e=f._anchor={}}return e},alignTo:function(q,l,n,r){var o=this,p=o.el,s,m;if(o.isComponent&&o.getSizeModel().height.shrinkWrap){if(o.maxHeight){o.setMaxHeight(null)}s=true}m=o.getAlignToRegion(q,l,n,o.minHeight||150);o.setXY([m.x,m.y],p.anim&&!!r?p.anim(r):false);if(s&&(s=m.getHeight())!==o.getHeight()){o.setMaxHeight(s)}return o},removeAnchor:function(){var c=this.getAnchor();if(c&&c.fn){Ext.un("resize",c.fn);if(c.scroll){Ext.getWin().on("scroll",c.fn)}delete c.fn}return this},setBox:function(f,e){var g=this;if(f.isRegion){f={x:f.left,y:f.top,width:f.right-f.left,height:f.bottom-f.top}}if(e){g.constrainBox(f);g.animate(Ext.applyIf({to:f,listeners:{afteranimate:Ext.Function.bind(g.afterSetPosition,g,[f.x,f.y])}},e))}else{arguments.callee.$previous.call(this,f)}return g}});(Ext.cmd.derive("Ext.dom.UnderlayPool",Ext.Base,{constructor:function(c){this.elementConfig=c;this.cache=[]},checkOut:function(){var c=this.cache.shift();if(!c){c=Ext.Element.create(this.elementConfig);c.setVisibilityMode(2)}return c},checkIn:function(c){this.cache.push(c)},reset:function(){var d=this.cache,e=d.length;while(e--){d[e].destroy()}this.cache=[]}},1,0,0,0,0,0,[Ext.dom,"UnderlayPool"],0));(Ext.cmd.derive("Ext.dom.Underlay",Ext.Base,{constructor:function(c){Ext.apply(this,c)},beforeShow:Ext.emptyFn,getInsertionTarget:function(){return this.target},getPool:function(){return this.pool||(this.self.prototype.pool=new Ext.dom.UnderlayPool(this.elementConfig))},hide:function(){var e=this,d=e.el;if(d){d.hide();e.getPool().checkIn(d);e.el=null;e.hidden=true}},realign:function(n,o,v,m){var q=this,u=q.el,r=q.target,s=q.offsets,p=Math.max;if(u){if(n==null){n=r.getX()}if(o==null){o=r.getY()}if(v==null){v=r.getWidth()}if(m==null){m=r.getHeight()}if(s){n=n+s.x;o=o+s.y;v=p(v+s.w,0);m=p(m+s.h,0)}u.setXY([n,o]);u.setSize(v,m)}},setZIndex:function(c){this.zIndex=c;if(this.el){this.el.setStyle("z-index",c)}},show:function(){var o=this,m=o.target,k=o.zIndex,j=o.el,n=o.getInsertionTarget().dom,l;if(!j){j=o.el=o.getPool().checkOut()}o.beforeShow();if(k==null){k=(parseInt(m.getStyle("z-index"),10))}if(k){j.setStyle("z-index",k)}j.setStyle("position",o.fixed?"fixed":"");l=j.dom;if(l.nextSibling!==n){m.dom.parentNode.insertBefore(l,n)}j.show();o.realign();o.hidden=false}},1,0,0,0,0,0,[Ext.dom,"Underlay"],0));(Ext.cmd.derive("Ext.dom.Shadow",Ext.dom.Underlay,{alternateClassName:"Ext.Shadow",mode:"drop",offset:4,cls:"x-"+(!Ext.supports.CSS3BoxShadow?"ie":"css")+"-shadow",constructor:function(o){var m=this,l,n,k,j;Ext.dom.Underlay.prototype.constructor.call(this,o);m.elementConfig={cls:m.cls,role:"presentation"};k=m.offset;j=Math.floor(k/2);m.opacity=50;switch(m.mode.toLowerCase()){case"drop":l={x:0,y:0,w:k,h:k};if(Ext.supports.CSS3BoxShadow){n={x:k,y:k,h:-k,w:-k}}else{n={x:-j,y:-j,h:-j,w:-j}}break;case"sides":l={x:-k,y:0,w:k*2,h:k};if(Ext.supports.CSS3BoxShadow){n={x:0,y:k,h:-k,w:0}}else{n={x:1+j-2*k,y:-(1+j),h:-1,w:j-1}}break;case"frame":l={x:-k,y:-k,w:k*2,h:k*2};if(Ext.supports.CSS3BoxShadow){n={x:0,y:0,h:0,w:0}}else{n={x:1+j-2*k,y:1+j-2*k,h:k-j-1,w:k-j-1}}break;case"bottom":l={x:-k,y:0,w:k*2,h:k};if(Ext.supports.CSS3BoxShadow){n={x:0,y:k,h:-k,w:0}}else{n={x:0,y:k,h:0,w:0}}break}m.offsets=n;m.outerOffsets=l},getShadowSize:function(){var k=this,g=k.el?k.offset:0,f=[g,g,g,g],j=k.mode.toLowerCase();if(k.el&&j!=="frame"){f[0]=0;if(j=="drop"){f[3]=0}}return f},boxShadowProperty:(function(){var e="boxShadow",d=document.documentElement.style;if(!("boxShadow" in d)){if("WebkitBoxShadow" in d){e="WebkitBoxShadow"}else{if("MozBoxShadow" in d){e="MozBoxShadow"}}}return e}()),beforeShow:function(){var g=this,e=g.el.dom.style,f=g.shim;if(Ext.supports.CSS3BoxShadow){e[g.boxShadowProperty]="0 0 "+(g.offset+2)+"px #888"}else{e.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+g.opacity+") progid:DXImageTransform.Microsoft.Blur(pixelradius="+(g.offset)+")"}if(f){f.realign()}},setOpacity:function(d){var e=this.el;if(e){if(Ext.isIE&&!Ext.supports.CSS3BoxShadow){d=Math.floor(d*100/2)/100}this.opacity=d;e.setOpacity(d)}}},1,0,0,0,0,0,[Ext.dom,"Shadow",Ext,"Shadow"],0));(Ext.cmd.derive("Ext.dom.Shim",Ext.dom.Underlay,{cls:"x-shim",constructor:function(c){Ext.dom.Underlay.prototype.constructor.call(this,c);this.elementConfig={tag:"iframe",cls:this.cls,role:"presentation",frameBorder:"0",src:Ext.SSL_SECURE_URL,tabindex:"-1"}},getInsertionTarget:function(){var c=this.shadow;return(c&&c.el)||this.target}},1,0,0,0,0,0,[Ext.dom,"Shim"],0));(Ext.cmd.derive("Ext.dom.ElementEvent",Ext.util.Event,{addListener:function(v,q,p,A,x){var w=this,u=false,C=w.name,r=Ext.event.publisher.Dom.instance.directEvents[C],B,y,s;p=p||{};if(p.delegated===false||r){if(r&&p.delegate){p.capture=true}if(p.capture){s=w.directCaptures||(w.directCaptures=new Ext.util.Event(w.observable,C));u=s.addListener(v,q,p,A,x)}else{y=w.directs||(w.directs=new Ext.util.Event(w.observable,C));u=y.addListener(v,q,p,A,x)}}else{if(p.capture){B=w.captures||(w.captures=new Ext.util.Event(w.observable,C));u=B.addListener(v,q,p,A,x)}else{u=Ext.util.Event.prototype.addListener.call(this,v,q,p,A,x)}}return u},removeListener:function(p,q){var o=this,l=o.captures,r=o.directs,n=o.directCaptures,m=false,s=o.findListener(p,q);if(s!==-1){m=Ext.util.Event.prototype.removeListener.call(this,p,q,s)}else{if(r){s=r.findListener(p,q)}if(s!==-1){m=r.removeListener(p,q,s)}else{if(l){s=l.findListener(p,q)}if(s!==-1){m=l.removeListener(p,q,s)}else{if(n){s=n.findListener(p,q);if(s!==-1){m=n.removeListener(p,q,s)}}}}}return m},clearListeners:function(){var j=this,g=j.directCaptures,k=j.directs,f=j.captures;if(g){g.clearListeners()}if(k){k.clearListeners()}if(f){f.clearListeners()}Ext.util.Event.prototype.clearListeners.call(this)},suspend:function(){var j=this,g=j.directCaptures,k=j.directs,f=j.captures;if(g){g.suspend()}if(k){k.suspend()}if(f){f.suspend()}Ext.util.Event.prototype.suspend.call(this)},resume:function(){var j=this,g=j.directCaptures,k=j.directs,f=j.captures;if(g){g.resume()}if(k){k.resume()}if(f){f.resume()}Ext.util.Event.prototype.resume.call(this)}},0,0,0,0,0,0,[Ext.dom,"ElementEvent"],0));(Ext.cmd.derive("Ext.event.publisher.Publisher",Ext.Base,{isEventPublisher:true,$vetoClearingPrototypeOnDestroy:true,handledEvents:[],statics:{publishers:{},publishersByEvent:{}},constructor:function(){var e=this,d=e.type;e.handles={};e.registerEvents();Ext.event.publisher.Publisher.publishers[d]=e},registerEvents:function(n){var l=this,o=Ext.event.publisher.Publisher.publishersByEvent,q=n||l.handledEvents,m=q.length,k,p;for(p=0;p<m;p++){k=q[p];l.handles[k]=1;o[k]=l}},fire:function(j,f,k){var g;if(j.hasListeners[f]){g=j.events[f];if(g){g.fire.apply(g,k)}}}},1,0,0,0,0,0,[Ext.event.publisher,"Publisher"],0));(Ext.cmd.derive("Ext.util.Offset",Ext.Base,{statics:{fromObject:function(c){if(c instanceof this){return c}if(typeof c==="number"){return new this(c,c)}if(c.length){return new this(c[0],c[1])}return new this(c.x,c.y)}},constructor:function(d,e){this.x=(d!=null&&!isNaN(d))?d:0;this.y=(e!=null&&!isNaN(e))?e:0;return this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(c){this.x=c.x;this.y=c.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(c){return(this.x===c.x&&this.y===c.y)},add:function(c){this.x+=c.x;this.y+=c.y},round:function(e){if(!isNaN(e)){var d=Math.pow(10,e);this.x=Math.round(this.x*d)/d;this.y=Math.round(this.y*d)/d}else{this.x=Math.round(this.x);this.y=Math.round(this.y)}},isZero:function(){return this.x===0&&this.y===0}},3,0,0,0,0,0,[Ext.util,"Offset"],0));(Ext.cmd.derive("Ext.util.Region",Ext.Base,function(){var I=Ext.util,x=/([^\?!]*)(!|\?)?$/,A=/^(?:(?:([trbl])(\d+))|(tl|t|tc|tr|l|c|r|bl|b|bc|br))(?:-(?:(?:([trbl])(\d+))|(tl|t|tc|tr|l|c|r|bl|b|bc|br)))?$/i,E={l:0,r:100,t:0,b:100,c:50},C={l:100,r:0,t:0,b:100,c:50},u={b:0,l:1,t:2,r:3},y={"tl-tr":"l0-r0","tl-r":"l0-r50","bl-r":"l100-r50","bl-br":"l100-r100","tr-tl":"r0-l0","tr-l":"r0-l50","br-l":"r100-l50","br-bl":"r100-l100"},J={"tl-tr":"r0-l0","tl-r":"r0-l50","bl-r":"r100-l50","bl-br":"r100-l100","tr-tl":"l0-r0","tr-l":"l0-r50","br-l":"l100-r50","br-bl":"l100-r100"},B=[],H=new I.Offset(0,0),w=function(c){var j=I.Region,d=typeof c,g,e,f,b;if(c==null){return j.EMPTY}if(c.isRegion){return c}if(c.isElement||c.nodeType===1){return this.getRegion(c)}if(d==="string"){c=c.split(" ");switch(c.length){case 1:c[1]=c[2]=c[3]=c[0];break;case 2:c[2]=c[0];c[3]=c[1];break;case 3:c[3]=c[1]}g=parseInt(c[0],10)||0;e=parseInt(c[1],10)||0;f=parseInt(c[2],10)||0;b=parseInt(c[3],10)||0}else{if(d==="number"){g=e=f=b=c}else{if(typeof c.x==="number"){g=c.y;b=c.x;if(typeof c.right==="number"){e=c.right;f=c.bottom}else{e=b+c.width;f=g+c.height}}}}return new j(g,e,f,b)},F=[-1,1,1,-1],v=function(b,c,d){if(d!=null&&c){B[0]=B[1]=B[2]=B[3]=0;B[d]=c.y*F[d];b=I.Region.from(b);b.adjust.apply(b,B)}return b},D=function(b,f,l,p,j){var g=Math.ceil(p.x/2)+2,n,e,c,d,k,m,o;if(j&&!j.intersect(b)){return}if(l!=null){if(l&1){n=new I.Region(0,0,0,0).setWidth(p.y).setHeight(p.x);e=l===3;m=e?f.right:f.left;c=new I.Region(Math.max(f.top,b.top),m,Math.min(f.bottom,b.bottom),m);if(b.getHeight()>g){d=c.getHeight();if(d<b.width&&d<p.x+4){if(d<g){if(c.getAnchorPoint_c()[1]>b.getAnchorPoint_c()[1]){o=b.bottom-g}else{k=true;o=b.top+g-f.getHeight()}if(j){o=Math.min(Math.max(o,j.top),j.bottom-f.getHeight())}f.setPosition(f.x,o);c=new I.Region(Math.max(f.top,b.top),m,Math.min(f.bottom,b.bottom),m);d=c.getHeight();if(d<g){return}if(k){c.setPosition(m,b.y-p.x/2-2)}}c.setHeight(Math.max(d,p.x+4));if(j&&!j.contains(c)){return}}}f.anchor=n.alignTo({target:c,align:e?"l-r":"r-l",overlap:true});f.anchor.position=e?"right":"left"}else{n=new I.Region(0,0,0,0).setWidth(p.x).setHeight(p.y);e=l===0;o=e?f.bottom:f.top;c=new I.Region(o,Math.min(f.right,b.right),o,Math.max(f.left,b.left));if(b.getWidth()>g){d=c.getWidth();if(d<b.height&&d<p.x+4){if(d<g){if(c.getAnchorPoint_c()[0]>b.getAnchorPoint_c()[0]){m=b.right-g}else{k=true;m=b.left+g-f.getWidth()}if(j){m=Math.min(Math.max(m,j.left),j.right-f.getWidth())}f.setPosition(m,f.y);c=new I.Region(o,Math.min(f.right,b.right),o,Math.max(f.left,b.left));d=c.getWidth();if(d<g){return}if(k){c.setPosition(b.x-p.x/2-2,o)}}c.setWidth(Math.max(d,p.x+4));if(j&&!j.contains(c)){return}}}f.anchor=n.alignTo({target:c,align:e?"t-b":"b-t",overlap:true});f.anchor.position=e?"bottom":"top"}f.anchor.align=l}return f},K=function(b,d,f,e){var c;if(b&&e){if(d.top>=f.bottom&&d.bottom>e.bottom){d.setHeight(Math.max(d.getHeight()+e.bottom-d.bottom,b));d.constrainHeight=true}else{if(d.bottom<=f.top&&d.top<e.top){c=Math.max(d.getHeight()+d.top-e.top,b);d.adjust(d.getHeight()-c);d.constrainHeight=true}else{if(d.getHeight()>e.getHeight()){d.setHeight(Math.max(b,e.getHeight()));d.setPosition(d.x,0);d.constrainHeight=true}}}}},G=function(c,d,f,e){var b;if(c&&e){if(d.left>=f.right&&d.right>e.right){d.setWidth(Math.max(d.getWidth()+e.right-d.right,c));d.constrainWidth=true}else{if(d.right<=f.left&&d.left<e.left){b=Math.max(d.getWidth()+d.left-e.left,c);d.adjust(0,0,0,d.getWidth()-b);d.constrainWidth=true}else{if(d.getWidth()>e.getWidth()){d.setWidth(Math.max(c,e.getWidth()));d.setPosition(0,d.y);d.constrainWidth=true}}}}};return{isRegion:true,statics:{getRegion:function(b){return Ext.fly(b).getRegion()},from:function(b){return new this(b.top,b.right,b.bottom,b.left)},getAlignInfo:function(c,b){if(typeof c==="object"){return c}c=c?((c.indexOf("-")<0)?"tl-"+c:c):"tl-bl";g=x.exec(c);c=g[1];c=(b?J:y)[c]||c;var d=b?C:E,g,e=A.exec(c),f;f={myEdge:e[1],myOffset:e[2],otherEdge:e[4],otherOffset:e[5],constrain:g[2]};if(e[3]){f.myEdge=e[3][0];f.myOffset=d[e[3][1]];if(f.myOffset==null){f.myOffset=50}}if(e[6]){f.otherEdge=e[6][0];f.otherOffset=d[e[6][1]];if(f.otherOffset==null){f.otherOffset=50}}f.position=u[f.myEdge];return f}},constructor:function(f,d,e,b){var c=this;c.y=c.top=c[1]=f;c.right=d;c.bottom=e;c.x=c.left=c[0]=b;c.height=c.bottom-c.top;c.width=c.right-c.left},setPosition:function(c,b){if(arguments.length===1){b=c[1];c=c[0]}return this.translateBy(c-this.x,b-this.y)},contains:function(b){var c=this;return(b.x>=c.x&&(b.right||b.x)<=c.right&&b.y>=c.y&&(b.bottom||b.y)<=c.bottom)},intersect:function(c){var g=this,d=Math.max(g.y,c.y),b=Math.min(g.right,c.right),f=Math.min(g.bottom,c.bottom),e=Math.max(g.x,c.x);if(f>d&&b>e){return new this.self(d,b,f,e)}else{return false}},union:function(c){var g=this,d=Math.min(g.y,c.y),b=Math.max(g.right,c.right),f=Math.max(g.bottom,c.bottom),e=Math.min(g.x,c.x);return new this.self(d,b,f,e)},constrainTo:function(c){var d=this,b=Ext.Number.constrain;d.top=d.y=b(d.top,c.y,c.bottom);d.bottom=b(d.bottom,c.y,c.bottom);d.left=d.x=b(d.left,c.x,c.right);d.right=b(d.right,c.x,c.right);return d},adjust:function(f,d,e,b){var c=this;c.top=c.y+=f||0;c.left=c.x+=b||0;c.right+=d||0;c.bottom+=e||0;return c},getOutOfBoundOffset:function(d,c){if(!Ext.isObject(d)){if(d==="x"){return this.getOutOfBoundOffsetX(c)}else{return this.getOutOfBoundOffsetY(c)}}else{c=d;var b=new I.Offset();b.x=this.getOutOfBoundOffsetX(c.x);b.y=this.getOutOfBoundOffsetY(c.y);return b}},getOutOfBoundOffsetX:function(b){if(b<=this.x){return this.x-b}else{if(b>=this.right){return this.right-b}}return 0},getOutOfBoundOffsetY:function(b){if(b<=this.y){return this.y-b}else{if(b>=this.bottom){return this.bottom-b}}return 0},isOutOfBound:function(c,b){if(!Ext.isObject(c)){if(c==="x"){return this.isOutOfBoundX(b)}else{return this.isOutOfBoundY(b)}}else{b=c;return(this.isOutOfBoundX(b.x)||this.isOutOfBoundY(b.y))}},isOutOfBoundX:function(b){return(b<this.x||b>this.right)},isOutOfBoundY:function(b){return(b<this.y||b>this.bottom)},restrict:function(d,b,e){if(Ext.isObject(d)){var c;e=b;b=d;if(b.copy){c=b.copy()}else{c={x:b.x,y:b.y}}c.x=this.restrictX(b.x,e);c.y=this.restrictY(b.y,e);return c}else{if(d==="x"){return this.restrictX(b,e)}else{return this.restrictY(b,e)}}},restrictX:function(b,c){if(!c){c=1}if(b<=this.x){b-=(b-this.x)*c}else{if(b>=this.right){b-=(b-this.right)*c}}return b},restrictY:function(b,c){if(!c){c=1}if(b<=this.y){b-=(b-this.y)*c}else{if(b>=this.bottom){b-=(b-this.bottom)*c}}return b},alignTo:function(f){var s=this,j=s.self,M=I.Offset,b=w(f.target),p,r=f.rtl,n=f.overlap,c=f.align,d=f.anchorSize,l=f.offset,m=f.inside,e=f.position,o=f.allowXTranslate,g=f.allowYTranslate,q,k;if(l){l=M.fromObject(l)}if(d){d=M.fromObject(d)}if(e){if(e.length===2){e=new I.Point(e[0],e[1])}k=new j().copyFrom(s).setPosition(e.x,e.y)}else{c=s.getAlignInfo(c,r);if(m){if(b.x>=m.right){b.setPosition(m.right-1,b.y);if(c.position!==3){c=s.getAlignInfo("r-l",r)}}else{if(b.right<m.x){b.setPosition(m.x-b.getWidth()+1,b.y);if(c.position!==1){c=s.getAlignInfo("l-r",r)}}}if(b.y>=m.bottom){b.setPosition(b.x,m.bottom-1);if(c.position!==0){c=s.getAlignInfo("b-t",r)}}else{if(b.bottom<m.y){b.setPosition(b.x,m.y-b.getHeight()+1);if(c.position!==2){c=s.getAlignInfo("t-b",r)}}}}p=d?v(b,d,c.position):b;k=j.from(s).translateBy(s.getAlignToVector(p,c));n=!!k.intersect(p);if(l&&(n||!d)){k.translateBy(l)}if(d){D(b,k,c.position,d,m)}}if(m){if(k.left<m.left){k.translateBy(m.left-k.left,0);q=true}if(k.right>m.right&&k.left>m.left){k.translateBy(m.right-k.right,0);q=true}if(k.top<m.top){k.translateBy(0,m.top-k.top);q=true}if(k.bottom>m.bottom&&k.top>m.top){k.translateBy(0,m.bottom-k.bottom);q=true}if(q&&!n){k.anchor=null;if(f.axisLock){if(c.position&1){g=false}else{o=false}}if(e){if(k.contains(e)){e.exclude(k,{inside:m,centerOnSideChange:false})}}else{if(k.intersect(p)){c.position=b.exclude(k,{defaultPosition:c.position,inside:m,minHeight:f.minHeight,minWidth:f.minWidth,allowX:o,allowY:g,offset:l,anchorHeight:d?d.y:0,centerOnSideChange:!!d})}else{if(f.minWidth&&k.getWidth()>m.getWidth()){k.setPosition(0,k.y);k.setWidth(Math.max(m.getWidth(),f.minWidth));k.constrainWidth=true}else{if(f.minHeight&&k.getHeight()>m.getHeight()){k.setPosition(k.x,0);k.setHeight(Math.max(m.getHeight(),f.minHeight));k.constrainHeight=true}}}k.align=c;if(d){D(b,k,c.position,d,m)}}}}return k},exclude:function(S,p){p=p||{};var b=this,d=p.inside,n=p.defaultPosition,r=p.centerOnSideChange,Q=p.minHeight,o=p.minWidth,k=p.allowX!==false,m=p.allowY!==false,c=p.anchorHeight,R=p.offset,l=[],g,q,e,j,f,P,s;if(!R){R=H}if(m){l.push([0,q=b.top-S.bottom-c+R.y,"b-t",0,Math.abs(q)]);l.push([0,q=b.bottom-S.top+c+R.y,"t-b",2,Math.abs(q)])}else{r=false}if(k){l.push([q=b.left-S.right-c+R.x,0,"r-l",3,Math.abs(q)]);l.push([q=b.right-S.left+c+R.x,0,"l-r",1,Math.abs(q)])}else{r=false}Ext.Array.sort(l,function(M,L){var N=M[4]-L[4];if(!N){if(M[3]===n){return -1}if(L[3]===n){return 1}}return N});if(d){for(e=0;e<l.length;e++){q=l[e];g=I.Region.from(S);g.translateBy.apply(g,q);if(d.contains(g)){S.copyFrom(g);s={align:q[2],position:q[3],distance:q[4]};break}if(Q){K(Q,g,b,d);if(d.contains(g)){if(!j||g.getArea()>j.region.getArea()){j={region:g,align:q[2],position:q[3],distance:q[4]}}}}if(o){G(o,g,b,d);if(d.contains(g)){if(!j||g.getArea()>j.region.getArea()){j={region:g,align:q[2],position:q[3],distance:q[4]}}}}P=d.intersect(g);if(P){P=P.getArea();if(!f||(P&&f.area<P)){f={region:g,align:q[2],position:q[3],distance:q[4],area:P}}}}if(!s){if(j){S.copyFrom(j.region);s=j;S.constrainWidth=j.region.constrainWidth;S.constrainHeight=j.region.constrainHeight}else{if(f){S.copyFrom(f.region);s=f}}}if(s){if((s.position&1)!==(n&1)){if(s.distance&&r){q=S.alignTo({align:s.align,target:b,anchorSize:c,offset:R,axisLock:true,inside:d,minHeight:p.minHeight,minWidth:p.minWidth});if(d.contains(q)){S.setPosition(q.x,q.y)}}}return s.position}}else{S.translateBy.apply(S,l[0]);return l[0][3]}return n},getAlignToXY:function(c,b,d){var e=this.getAlignToVector(c,b,d);return[this.x+e[0],this.y+e[1]]},getAnchorPoint:function(b,c){b=(typeof b==="string")?this.getAlignInfo(b+"-tl",c):b;return this["getAnchorPoint_"+b.myEdge](b.myOffset)},getAlignToVector:function(b,f,c){f=(typeof f==="string")?this.getAlignInfo(f,c):f;var e=this["getAnchorPoint_"+f.myEdge](f.myOffset),d=b["getAnchorPoint_"+f.otherEdge](f.otherOffset);return[d[0]-e[0],d[1]-e[1]]},getAnchorPoint_t:function(b){return[this.x+Math.round(this.getWidth()*(b/100)),this.y]},getAnchorPoint_b:function(b){return[this.x+Math.round(this.getWidth()*(b/100)),this.bottom]},getAnchorPoint_l:function(b){return[this.x,this.y+Math.round(this.getHeight()*(b/100))]},getAnchorPoint_r:function(b){return[this.right,this.y+Math.round(this.getHeight()*(b/100))]},getAnchorPoint_c:function(){return[this.x+Math.round(this.getWidth()/2),this.y+Math.round(this.getHeight()/2)]},getHeight:function(){return this.bottom-this.y},getWidth:function(){return this.right-this.x},getArea:function(){return this.getHeight()*this.getWidth()},setHeight:function(b){this.bottom=this.top+b;return this},setWidth:function(b){this.right=this.left+b;return this},getSize:function(){return{width:this.right-this.x,height:this.bottom-this.y}},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(b){var c=this;c.top=c.y=c[1]=b.y;c.right=b.right;c.bottom=b.bottom;c.left=c.x=c[0]=b.x;return this},toString:function(){return"Region["+this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(d,b){if(d.length){b=d[1];d=d[0]}else{if(arguments.length===1){b=d.y;d=d.x}}var c=this;c.top=c.y+=b;c.right+=d;c.bottom+=b;c.left=c.x+=d;return c},round:function(){var b=this;b.top=b.y=Math.round(b.y);b.right=Math.round(b.right);b.bottom=Math.round(b.bottom);b.left=b.x=Math.round(b.x);return b},equals:function(b){return(this.top===b.top&&this.right===b.right&&this.bottom===b.bottom&&this.left===b.left)},getOffsetsTo:function(b){return{x:this.x-b.x,y:this.y-b.y}}}},3,0,0,0,0,0,[Ext.util,"Region"],function(c){c.prototype.getAlignInfo=c.getAlignInfo;c.EMPTY=new c(0,0,0,0)}));(Ext.cmd.derive("Ext.util.Point",Ext.util.Region,{isPoint:true,radianToDegreeConstant:180/Math.PI,origin:{x:0,y:0},statics:{fromEvent:function(g){var e=g.changedTouches,f=(e&&e.length>0)?e[0]:g;return this.fromTouch(f)},fromTouch:function(c){return new this(c.pageX,c.pageY)},from:function(c){if(!c){return new this(0,0)}if(!(c instanceof this)){return new this(c.x,c.y)}return c}},constructor:function(d,e){if(d==null){d=0}if(e==null){e=0}Ext.util.Region.prototype.constructor.call(this,e,d,e,d)},clone:function(){return new this.self(this.x,this.y)},copy:function(){return this.clone.apply(this,arguments)},copyFrom:function(c){this.x=c.x;this.y=c.y;return this},toString:function(){return"Point["+this.x+","+this.y+"]"},equals:function(c){return(this.x===c.x&&this.y===c.y)},isCloseTo:function(n,o){if(typeof o=="number"){return this.getDistanceTo(n)<=o}var j=n.x,k=n.y,l=o.x,m=o.y;return(this.x<=j+l&&this.x>=j-l&&this.y<=k+m&&this.y>=k-m)},isWithin:function(){return this.isCloseTo.apply(this,arguments)},isContainedBy:function(c){if(!(c instanceof Ext.util.Region)){c=Ext.get(c.el||c).getRegion()}return c.contains(this)},roundedEquals:function(c){if(!c||typeof c!=="object"){c=this.origin}return(Math.round(this.x)===Math.round(c.x)&&Math.round(this.y)===Math.round(c.y))},getDistanceTo:function(g){if(!g||typeof g!=="object"){g=this.origin}var f=this.x-g.x,e=this.y-g.y;return Math.sqrt(f*f+e*e)},getAngleTo:function(g){if(!g||typeof g!=="object"){g=this.origin}var f=this.x-g.x,e=this.y-g.y;return Math.atan2(e,f)*this.radianToDegreeConstant}},3,0,0,0,0,0,[Ext.util,"Point"],function(){this.prototype.translate=this.prototype.translateBy}));(Ext.cmd.derive("Ext.event.Event",Ext.Base,{alternateClassName:"Ext.EventObjectImpl",stopped:false,claimed:false,defaultPrevented:false,isEvent:true,statics:{resolveTextNode:function(c){return(c&&c.nodeType===3)?c.parentNode:c},pointerEvents:{pointerdown:1,pointermove:1,pointerup:1,pointercancel:1,pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerDown:1,MSPointerMove:1,MSPointerUp:1,MSPointerOver:1,MSPointerOut:1,MSPointerCancel:1,MSPointerEnter:1,MSPointerLeave:1},mouseEvents:{mousedown:1,mousemove:1,mouseup:1,mouseover:1,mouseout:1,mouseenter:1,mouseleave:1},clickEvents:{click:1,dblclick:1},touchEvents:{touchstart:1,touchmove:1,touchend:1,touchcancel:1},focusEvents:{focus:1,blur:1,focusin:1,focusout:1,focusenter:1,focusleave:1},pointerTypeMap:{2:"touch",3:"pen",4:"mouse",touch:"touch",pen:"pen",mouse:"mouse"},keyFlags:{CTRL:"ctrlKey",CONTROL:"ctrlKey",ALT:"altKey",SHIFT:"shiftKey",CMD:"metaKey",COMMAND:"metaKey",CMDORCTRL:Ext.isMac?"metaKey":"ctrlKey",COMMANDORCONTROL:Ext.isMac?"metaKey":"ctrlKey",META:"metaKey"},modifierGlyphs:{ctrlKey:"",altKey:"",metaKey:Ext.isMac?"":"",shiftKey:""},specialKeyGlyphs:{BACKSPACE:"",TAB:"",ENTER:"",RETURN:"",SPACE:"",PAGE_UP:"",PAGE_DOWN:"",END:"",HOME:"",LEFT:"",UP:"",RIGHT:"",DOWN:"",PRINT_SCREEN:"",INSERT:"",DELETE:"",CONTEXT_MENU:""},getKeyId:function(p){p=p.toUpperCase();var o=this,n=p.split("+"),m=n.length-1,r=n[m],s=[],l,q;for(q=0;q<m;q++){l=o.keyFlags[n[q]];s[l]=true}if(s.ctrlKey){s.push(o.modifierGlyphs.ctrlKey)}if(s.altKey){s.push(o.modifierGlyphs.altKey)}if(s.shiftKey){s.push(o.modifierGlyphs.shiftKey)}if(s.metaKey){s.push(o.modifierGlyphs.metaKey)}s.push(this.specialKeyGlyphs[r]||r);return s.join("")}},constructor:function(w){var q=this,e=q.self,r=q.self.resolveTextNode,o=w.changedTouches,v=o?o[0]:w,p=w.type,x,s;q.timeStamp=q.time=Ext.now();q.pageX=v.pageX;q.pageY=v.pageY;q.clientX=v.clientX;q.clientY=v.clientY;q.target=q.delegatedTarget=r(w.target);s=w.relatedTarget;if(s){if(Ext.isGecko&&p==="dragenter"||p==="dragleave"){try{q.relatedTarget=r(s)}catch(u){q.relatedTarget=null}}else{q.relatedTarget=r(s)}}q.browserEvent=q.event=w;q.type=p;q.button=w.button||0;q.shiftKey=w.shiftKey;q.ctrlKey=w.ctrlKey||w.metaKey||false;q.altKey=w.altKey;q.charCode=w.charCode;q.keyCode=w.keyCode;q.buttons=w.buttons;if(q.button===0&&q.buttons===0){q.buttons=1}if(e.focusEvents[p]){if(e.forwardTab!==undefined){q.forwardTab=e.forwardTab}}else{if(p!=="keydown"){delete e.forwardTab}}if(e.mouseEvents[p]){x="mouse"}else{if(e.clickEvents[p]){x=e.pointerTypeMap[w.pointerType]||"mouse"}else{if(e.pointerEvents[p]){x=e.pointerTypeMap[w.pointerType]}else{if(e.touchEvents[p]){x="touch"}}}}if(x){q.pointerType=x}q.isMultitouch=w.isPrimary===false||(w.touches&&w.touches.length>1)},chain:function(d){var e=Ext.Object.chain(this);e.parentEvent=this;return Ext.apply(e,d)},correctWheelDelta:function(f){var g=this.WHEEL_SCALE,e=Math.round(f/g);if(!e&&f){e=(f<0)?-1:1}return e},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.keyCode||this.charCode},getKeyName:function(){return this.keyCodes[this.keyCode]},getPoint:function(){var g=this,e=g.point,f;if(!e){f=g.getXY();e=g.point=new Ext.util.Point(f[0],f[1])}return e},getRelatedTarget:function(m,j,g){var l=this.relatedTarget,k=null;if(l&&l.nodeType){if(m){k=Ext.fly(l).findParent(m,j,g)}else{k=g?Ext.get(l):l}}return k},getTarget:function(g,f,e){return g?Ext.fly(this.target).findParent(g,f,e):(e?Ext.get(this.target):this.target)},getTime:function(){return this.time},getWheelDelta:function(){var c=this.getWheelDeltas();return c.y},getWheelDeltas:function(){var g=this,j=g.browserEvent,k=0,f=0;if(Ext.isDefined(j.wheelDeltaX)){k=j.wheelDeltaX;f=j.wheelDeltaY}else{if(j.wheelDelta){f=j.wheelDelta}else{if("deltaX" in j){k=j.deltaX;f=-j.deltaY}else{if(j.detail){f=-j.detail;if(f>100){f=3}else{if(f<-100){f=-3}}if(Ext.isDefined(j.axis)&&j.axis===j.HORIZONTAL_AXIS){k=f;f=0}}}}}return{x:g.correctWheelDelta(k),y:g.correctWheelDelta(f)}},getX:function(){return this.getXY()[0]},getXY:function(){var p=this,n=p.xy;if(!n){n=p.xy=[p.pageX,p.pageY];var q=n[0],l,o,m,k;if(!q&&q!==0){l=p.browserEvent;o=document;m=o.documentElement;k=o.body;n[0]=l.clientX+(m&&m.scrollLeft||k&&k.scrollLeft||0)-(m&&m.clientLeft||k&&k.clientLeft||0);n[1]=l.clientY+(m&&m.scrollTop||k&&k.scrollTop||0)-(m&&m.clientTop||k&&k.clientTop||0)}}return n},getY:function(){return this.getXY()[1]},hasModifier:function(){var c=this;return !!(c.ctrlKey||c.altKey||c.shiftKey||c.metaKey)},isNavKeyPress:function(g){var j=this,f=j.keyCode,k=j.type==="keypress";return((!k||Ext.isGecko)&&f>=33&&f<=40)||(!g&&(f===j.RETURN||f===j.TAB||f===j.ESC))},isSpecialKey:function(){var g=this,k=g.keyCode,f=Ext.isGecko,j=g.type==="keypress";return(f&&j&&g.charCode===0)||(this.isNavKeyPress())||(k===g.BACKSPACE)||(k===g.ENTER)||(k>=16&&k<=20)||((!j||f)&&k>=44&&k<=46)},makeUnpreventable:function(){this.browserEvent.preventDefault=Ext.emptyFn},preventDefault:function(){var e=this,d=e.parentEvent;e.defaultPrevented=true;if(d){d.defaultPrevented=true}e.browserEvent.preventDefault();return e},setCurrentTarget:function(c){this.currentTarget=this.delegatedTarget=c},stopEvent:function(){return this.preventDefault().stopPropagation()},stopPropagation:function(){var g=this,f=g.browserEvent,e=g.parentEvent;g.stopped=true;if(e&&!g.isGesture){e.stopped=true}if(!f.stopPropagation){f.cancelBubble=true;return g}f.stopPropagation();return g},claimGesture:function(){var e=this,d=e.parentEvent;e.claimed=true;if(d&&!e.hasOwnProperty("isGesture")){d.claimGesture()}else{e.preventDefault()}return e},within:function(j,g,f){var k;if(j){k=g?this.getRelatedTarget():this.getTarget()}return k?Ext.fly(j).contains(k)||!!(f&&k===Ext.getDom(j)):false},deprecated:{"4.0":{methods:{getPageX:"getX",getPageY:"getY"}}}},1,0,0,0,0,0,[Ext.event,"Event",Ext,"EventObjectImpl"],function(j){var n=j.prototype,m={BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_SCALE:(function(){var b;if(Ext.isGecko){b=3}else{if(Ext.isMac){if(Ext.isSafari&&Ext.webKitVersion>=532){b=120}else{b=12}b*=3}else{b=120}}return b}())},o={},l,k;Ext.apply(j,m);Ext.apply(n,m);delete m.WHEEL_SCALE;delete m.RETURN;for(l in m){k=m[l];o[k]=l}n.keyCodes=o;n.getTrueXY=n.getXY}));Ext.define("Ext.overrides.event.Event",{override:"Ext.event.Event",mousedownEvents:{mousedown:1,pointerdown:1,touchstart:1},injectEvent:(function(){var k,j={},l;if(!Ext.isIE9m&&document.createEvent){k={createHtmlEvent:function(b,d,e,f){var c=b.createEvent("HTMLEvents");c.initEvent(d,e,f);return c},createMouseEvent:function(E,G,e,f,c,y,B,A,D,H,I,d,b){var C=E.createEvent("MouseEvents"),F=E.defaultView||window;if(C.initMouseEvent){C.initMouseEvent(G,e,f,F,c,y,B,y,B,A,D,H,I,d,b)}else{C=E.createEvent("UIEvents");C.initEvent(G,e,f);C.view=F;C.detail=c;C.screenX=y;C.screenY=B;C.clientX=y;C.clientY=B;C.ctrlKey=A;C.altKey=D;C.metaKey=I;C.shiftKey=H;C.button=d;C.relatedTarget=b}return C},createUIEvent:function(p,b,d,e,c){var q=p.createEvent("UIEvents"),f=p.defaultView||window;q.initUIEvent(b,d,e,f,c);return q},fireEvent:function(b,d,c){b.dispatchEvent(c)}}}else{if(document.createEventObject){l={0:1,1:4,2:2};k={createHtmlEvent:function(b,d,e,f){var c=b.createEventObject();c.bubbles=e;c.cancelable=f;return c},createMouseEvent:function(D,E,e,f,c,x,A,y,C,F,G,d,b){var B=D.createEventObject();B.bubbles=e;B.cancelable=f;B.detail=c;B.screenX=x;B.screenY=A;B.clientX=x;B.clientY=A;B.ctrlKey=y;B.altKey=C;B.shiftKey=F;B.metaKey=G;B.button=l[d]||d;B.relatedTarget=b;return B},createUIEvent:function(o,c,e,f,d){var b=o.createEventObject();b.bubbles=e;b.cancelable=f;return b},fireEvent:function(b,d,c){b.fireEvent("on"+d,c)}}}}Ext.Object.each({load:[false,false],unload:[false,false],select:[true,false],change:[true,false],submit:[true,true],reset:[true,false],resize:[true,false],scroll:[true,false]},function(c,b){var d=b[0],e=b[1];j[c]=function(p,f){var q=k.createHtmlEvent(c,d,e);k.fireEvent(p,c,q)}});function m(b,c){var d=(b!=="mousemove");return function(p,f){var q=f.getXY(),e=k.createMouseEvent(p.ownerDocument,b,true,d,c,q[0],q[1],f.ctrlKey,f.altKey,f.shiftKey,f.metaKey,f.button,f.relatedTarget);k.fireEvent(p,b,e)}}Ext.each(["click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout"],function(b){j[b]=m(b,1)});Ext.Object.each({focusin:[true,false],focusout:[true,false],activate:[true,true],focus:[false,false],blur:[false,false]},function(c,b){var d=b[0],e=b[1];j[c]=function(p,f){var q=k.createUIEvent(p.ownerDocument,c,d,e,1);k.fireEvent(p,c,q)}});if(!k){j={};k={}}function g(b,c){}return function(b){var c=this,d=j[c.type]||g,e=b?(b.dom||b):c.getTarget();d(e,c)}}()),preventDefault:function(k){var m=this,n=m.browserEvent,o=m.parentEvent,j,l;if(typeof n.type!=="unknown"){if(!k){m.defaultPrevented=true}if(o){o.defaultPrevented=true}if(n.preventDefault){n.preventDefault()}else{if(n.type==="mousedown"){l=n.target;j=l.getAttribute("unselectable");if(j!=="on"){l.setAttribute("unselectable","on");Ext.defer(function(){l.setAttribute("unselectable",j)},1)}}n.returnValue=false;if(n.ctrlKey||n.keyCode>111&&n.keyCode<124){n.keyCode=-1}}}return m},stopPropagation:function(){var e=this,d=e.browserEvent;if(typeof d.type!=="unknown"){if(e.mousedownEvents[e.type]){Ext.GlobalEvents.fireMouseDown(e)}arguments.callee.$previous.call(this)}return e},deprecated:{"5.0":{methods:{clone:function(){return new this.self(this.browserEvent,this)}}}}},function(){var f=this,g,j=function(b){if(b.keyCode===9){f.forwardTab=!b.shiftKey}},k=function(b){if(b.keyCode===9){delete f.forwardTab}};if(Ext.isIE9m){g={0:0,1:0,4:1,2:2};f.override({statics:{enableIEAsync:function(b){var d,c={};for(d in b){c[d]=b[d]}return c}},constructor:function(c,b,e,m){var d=this;d.callParent([c,b,e,m]);d.button=g[c.button];if(c.type==="contextmenu"){d.button=2}d.toElement=c.toElement;d.fromElement=c.fromElement},mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,enableIEAsync:function(b){this.browserEvent=this.self.enableIEAsync(b)},getRelatedTarget:function(n,b,o){var d=this,e,c;if(!d.relatedTarget){e=d.type;if(d.mouseLeaveRe.test(e)){c=d.toElement}else{if(d.mouseEnterRe.test(e)){c=d.fromElement}}if(c){d.relatedTarget=d.self.resolveTextNode(c)}}return d.callParent([n,b,o])}});document.attachEvent("onkeydown",j);document.attachEvent("onkeyup",k);window.attachEvent("onunload",function(){document.detachEvent("onkeydown",j);document.detachEvent("onkeyup",k)})}else{if(document.addEventListener){document.addEventListener("keydown",j,true);document.addEventListener("keyup",k,true)}}});(Ext.cmd.derive("Ext.event.publisher.Dom",Ext.event.publisher.Publisher,{type:"dom",handledDomEvents:[],reEnterCount:0,captureEvents:{animationstart:1,animationend:1,resize:1,focus:1,blur:1},directEvents:{mouseenter:1,mouseleave:1,pointerenter:1,pointerleave:1,MSPointerEnter:1,MSPointerLeave:1,load:1,unload:1,beforeunload:1,error:1,DOMContentLoaded:1,DOMFrameContentLoaded:1,hashchange:1,scroll:1},blockedPointerEvents:{pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerOver:1,MSPointerOut:1,MSPointerEnter:1,MSPointerLeave:1},blockedCompatibilityMouseEvents:{mouseenter:1,mouseleave:1},constructor:function(){var c=this;c.bubbleSubscribers={};c.captureSubscribers={};c.directSubscribers={};c.directCaptureSubscribers={};c.delegatedListeners={};c.initHandlers();Ext.onInternalReady(c.onReady,c);Ext.event.publisher.Publisher.prototype.constructor.call(this)},registerEvents:function(){var k=this,m=Ext.event.publisher.Publisher.publishersByEvent,j=k.handledDomEvents,l=j.length,n=0,o;for(;n<l;n++){o=j[n];k.handles[o]=1;m[o]=k}Ext.event.publisher.Publisher.prototype.registerEvents.call(this)},onReady:function(){var g=this,f=g.handledDomEvents,j,k;if(f){for(k=0,j=f.length;k<j;k++){g.addDelegatedListener(f[k])}}Ext.getWin().on("unload",g.destroy,g)},initHandlers:function(){var c=this;c.onDelegatedEvent=Ext.bind(c.onDelegatedEvent,c);c.onDirectEvent=Ext.bind(c.onDirectEvent,c);c.onDirectCaptureEvent=Ext.bind(c.onDirectCaptureEvent,c)},addDelegatedListener:function(c){this.delegatedListeners[c]=1;this.target.addEventListener(c,this.onDelegatedEvent,!!this.captureEvents[c])},removeDelegatedListener:function(c){delete this.delegatedListeners[c];this.target.removeEventListener(c,this.onDelegatedEvent,!!this.captureEvents[c])},addDirectListener:function(g,f,e){f.dom.addEventListener(g,e?this.onDirectCaptureEvent:this.onDirectEvent,e)},removeDirectListener:function(g,f,e){f.dom.removeEventListener(g,e?this.onDirectCaptureEvent:this.onDirectEvent,e)},subscribe:function(p,q,m,k){var o=this,n,l;if(m&&!o.directEvents[q]){n=k?o.captureSubscribers:o.bubbleSubscribers;if(!o.handles[q]&&!o.delegatedListeners[q]){o.addDelegatedListener(q)}if(n[q]){++n[q]}else{n[q]=1}}else{n=k?o.directCaptureSubscribers:o.directSubscribers;l=p.id;n=n[q]||(n[q]={});if(n[l]){++n[l]}else{n[l]=1;o.addDirectListener(q,p,k)}}},unsubscribe:function(q,p,u,m){var n=this,o,r,v,s;if(u&&!n.directEvents[p]){o=n.captureSubscribers;r=n.bubbleSubscribers;v=m?o:r;if(v[p]){--v[p]}if(!n.handles[p]&&!r[p]&&!o[p]){this.removeDelegatedListener(p)}}else{v=m?n.directCaptureSubscribers:n.directSubscribers;s=q.id;v=v[p];if(v[s]){--v[s]}if(!v[s]){delete v[s];n.removeDirectListener(p,q,m)}}},getPropagatingTargets:function(g){var j=g,k=[],f;while(j){k.push(j);f=j.parentNode;if(!f){f=j.defaultView}j=f}return k},publish:function(x,A,E){var u=this,w=false,D=false,G,j,y,F,B,v,C,e;E=E||false;if(!A){y=x.target;if(u.captureEvents[x.type]){F=Ext.cache[y.id];A=F?[F]:[]}else{A=u.getPropagatingTargets(y)}}G=Ext.Array.from(x);v=A.length;e=G.length;for(B=0;B<e;B++){j=G[B].type;if(!w&&u.captureSubscribers[j]){w=true}if(!D&&u.bubbleSubscribers[j]){D=true}}if(w){for(B=v;B--;){F=Ext.cache[A[B].id];if(F){for(C=0;C<e;C++){x=G[C];u.fire(F,x.type,x,false,true);if(!E&&x.claimed){E=true;C=u.filterClaimed(G,x);e=G.length}if(x.stopped){G.splice(C,1);C--;e--}}}}}if(D&&!x.stopped){for(B=0;B<v;B++){F=Ext.cache[A[B].id];if(F){for(C=0;C<e;C++){x=G[C];u.fire(F,x.type,x,false,false);if(!E&&x.claimed&&u.filterClaimed){E=true;C=u.filterClaimed(G,x);e=G.length}if(x.stopped){G.splice(C,1);C--;e--}}}}}},publishDelegatedDomEvent:function(c){this.publish(c)},fire:function(n,o,l,k,e){var m;if(n.hasListeners[o]){m=n.events[o];if(m){if(e&&k){m=m.directCaptures}else{if(e){m=m.captures}else{if(k){m=m.directs}}}if(m){l.setCurrentTarget(n.dom);m.fire(l,l.target)}}}},onDelegatedEvent:function(c){if(Ext.elevateFunction){Ext.elevateFunction(this.doDelegatedEvent,this,[c])}else{this.doDelegatedEvent(c)}},doDelegatedEvent:function(f){var g=this,e;f=new Ext.event.Event(f);e=f.time;if(!g.isEventBlocked(f)){g.beforeEvent(f);Ext.frameStartTime=e;g.reEnterCount++;g.publishDelegatedDomEvent(f);g.reEnterCount--;g.afterEvent(f)}},onDirectEvent:function(c){if(Ext.elevateFunction){Ext.elevateFunction(this.doDirectEvent,this,[c,false])}else{this.doDirectEvent(c,false)}},onDirectCaptureEvent:function(c){if(Ext.elevateFunction){Ext.elevateFunction(this.doDirectEvent,this,[c,true])}else{this.doDirectEvent(c,true)}},doDirectEvent:function(k,o){var m=this,l=k.currentTarget,e,n;k=new Ext.event.Event(k);e=k.time;if(m.isEventBlocked(k)){return}m.beforeEvent(k);Ext.frameStartTime=e;n=Ext.cache[l.id];if(n){m.reEnterCount++;m.fire(n,k.type,k,true,o);m.reEnterCount--}m.afterEvent(k)},beforeEvent:function(l){var j=l.browserEvent,e=Ext.event.publisher.Dom,m,k;if(j.type==="touchstart"){m=j.touches;if(m.length===1){k=m[0];e.lastTouchStartX=k.pageX;e.lastTouchStartY=k.pageY}}},afterEvent:function(k){var j=k.browserEvent,l=j.type,m=Ext.event.publisher.Dom,e=Ext.GlobalEvents;if(k.self.pointerEvents[l]&&k.pointerType!=="mouse"){m.lastScreenPointerEventTime=Ext.now()}if(l==="touchend"){m.lastTouchEndTime=Ext.now()}if(!this.reEnterCount&&e.hasListeners.idle&&!e.idleEventMask[l]){e.fireEvent("idle")}},isEventBlocked:function(j){var k=this,l=j.type,e=Ext.event.publisher.Dom,m=Ext.now();if(Ext.isGecko&&j.type==="click"&&j.button===2){return true}return(k.blockedPointerEvents[l]&&j.pointerType!=="mouse")||(k.blockedCompatibilityMouseEvents[l]&&(m-e.lastScreenPointerEventTime<1000))||(Ext.supports.TouchEvents&&j.self.mouseEvents[j.type]&&Math.abs(j.pageX-e.lastTouchStartX)<15&&Math.abs(j.pageY-e.lastTouchStartY)<15&&(Ext.now()-e.lastTouchEndTime)<1000)},destroy:function(){var e=Ext.dom.GarbageCollector,d;for(d in this.delegatedListeners){this.removeDelegatedListener(d)}Ext.Reaper.flush();if(e){e.collect()}this.callParent()},reset:function(){var c=Ext.event.publisher.Dom;c.lastScreenPointerEventTime=c.lastTouchEndTime=c.lastTouchStartX=c.lastTouchStartY=undefined}},1,0,0,0,0,0,[Ext.event.publisher,"Dom"],function(k){var g=document,j=g.defaultView,f=k.prototype;if((Ext.os.is.iOS&&Ext.os.version.getMajor()<5)||Ext.browser.is.AndroidStock||!(j&&j.addEventListener)){f.target=g}else{f.target=j}k.instance=new k()}));Ext.define("Ext.overrides.event.publisher.Dom",{override:"Ext.event.publisher.Dom"},function(k){if(Ext.isIE9m){var o=document.documentElement,l=document.body,m=k.prototype,j,n;m.target=document;m.directBoundListeners={};j=function(b,c,d){b.target=b.srcElement||window;b.currentTarget=this;if(d){c.onDirectCaptureEvent(b)}else{c.onDirectEvent(b)}};n=function(b,c){b.target=b.srcElement||window;b.currentTarget=this;c.onDirectCaptureEvent(b)};k.override({addDelegatedListener:function(b){this.delegatedListeners[b]=1;this.target.attachEvent("on"+b,this.onDelegatedEvent)},removeDelegatedListener:function(b){delete this.delegatedListeners[b];this.target.detachEvent("on"+b,this.onDelegatedEvent)},addDirectListener:function(b,s,c){var g=this,f=s.dom,r=Ext.Function.bind(j,f,[g,c],true),e=g.directBoundListeners,d=e[b]||(e[b]={});d[f.id]=r;if(f.attachEvent){f.attachEvent("on"+b,r)}else{g.callParent([b,s,c])}},removeDirectListener:function(d,c,e){var b=c.dom;if(b.detachEvent){b.detachEvent("on"+d,this.directBoundListeners[d][b.id])}else{this.callParent([d,c,e])}},doDelegatedEvent:function(b){b.target=b.srcElement||window;if(b.type==="focusin"){b.relatedTarget=b.fromElement===l||b.fromElement===o?null:b.fromElement}else{if(b.type==="focusout"){b.relatedTarget=b.toElement===l||b.toElement===o?null:b.toElement}}return this.callParent([b])}});Ext.apply(m.directEvents,m.captureEvents);Ext.apply(m.directEvents,{change:1,input:1,paste:1});m.captureEvents={}}});(Ext.cmd.derive("Ext.event.publisher.Gesture",Ext.event.publisher.Dom,{type:"gesture",isCancelEvent:{touchcancel:1,pointercancel:1,MSPointerCancel:1},handledEvents:[],handledDomEvents:[],constructor:function(s){var o=this,r=o.handledDomEvents,l=Ext.supports,p=l.TouchEvents,n=o.onTouchStart,q=o.onTouchMove,m=o.onTouchEnd;o.handlers={touchstart:n,touchmove:q,touchend:m,touchcancel:m,pointerdown:n,pointermove:q,pointerup:m,pointercancel:m,MSPointerDown:n,MSPointerMove:q,MSPointerUp:m,MSPointerCancel:m,mousedown:n,mousemove:q,mouseup:m};o.activeTouchesMap={};o.activeTouches=[];o.changedTouches=[];o.recognizers=[];o.eventToRecognizer={};o.cancelEvents=[];if(p){o.onTargetTouchMove=o.onTargetTouchMove.bind(o);o.onTargetTouchEnd=o.onTargetTouchEnd.bind(o)}if(l.PointerEvents){r.push("pointerdown","pointermove","pointerup","pointercancel");o.mousePointerType="mouse"}else{if(l.MSPointerEvents){r.push("MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel");o.mousePointerType=4}else{if(p){r.push("touchstart","touchmove","touchend","touchcancel")}}}if(!r.length||(p&&Ext.isWebKit&&Ext.os.is.Desktop)){r.push("mousedown","mousemove","mouseup")}o.initConfig(s);return Ext.event.publisher.Dom.prototype.constructor.call(this)},onReady:function(){Ext.event.publisher.Dom.prototype.onReady.call(this);Ext.Array.sort(this.recognizers,function(b,g){var j=b.priority,k=g.priority;return(j>k)?1:(j<k)?-1:0})},registerRecognizer:function(j){var k=this,n=j.handledEvents,l=n.length,o,m;j.setOnRecognized(k.onRecognized);j.setCallbackScope(k);for(m=0;m<l;m++){o=n[m];k.handledEvents.push(o);k.eventToRecognizer[o]=j}k.registerEvents(n);k.recognizers.push(j)},onRecognized:function(I,C,y,H,A){var v=this,D=y.touches,e=y.changedTouches,x=e.length,J=v.events,E=!J.length,w=v.cancelEvents,K,B,F,G;H=H||{};H.type=C;H.target=e[0].target;H.stopped=false;H.claimed=false;H.isGesture=true;y=y.chain(H);if(!v.gestureTargets){if(x>1){K=[];for(F=0;F<x;F++){G=e[F];K.push(G.targets)}B=v.getCommonTargets(K)}else{B=e[0].targets}v.gestureTargets=B}if(A&&I.isSingleTouch&&(D.length>1)){y.target=D[0].target;w.push(y)}else{J.push(y)}if(E){v.publishGestures()}},getCommonTargets:function(j){var m=j[0],o=j.length;if(o===1){return m}var q=[],p=1,n,s,r;while(true){n=m[m.length-p];if(!n){return q}for(r=1;r<o;r++){s=j[r];if(s[s.length-p]!==n){return q}}q.unshift(n);p++}return q},invokeRecognizers:function(n,k){var o=this.recognizers,l=o.length,m,e;if(n==="onStart"){for(m=0;m<l;m++){o[m].isActive=true}}for(m=0;m<l;m++){e=o[m];if(e.isActive&&e[n].call(e,k)===false){e.isActive=false}}},filterClaimed:function(o,v){var q=this,u=q.eventToRecognizer,p=v.type,x=u[p],n,w,r,s;for(s=o.length;s--;){r=o[s].type;if(r===p){n=s}else{w=u[r];if(!x||(w&&(w!==x))){o.splice(s,1);if(n){n--}}}}q.claimRecognizer(x,o[0]);return n},claimRecognizer:function(e,l){var m=this,p=m.recognizers,o,n,q;for(o=0,n=p.length;o<n;o++){q=p[o];if(q!==e){q.isActive=false;q.cancel(l)}}if(m.events.length){m.publishGestures(true)}},publishGestures:function(k){var l=this,j=l.cancelEvents,g=l.events,m=l.gestureTargets;if(j.length){l.cancelEvents=[];l.publish(j,l.getPropagatingTargets(j[0].target),true)}if(g.length){l.events=[];l.gestureTargets=null;l.publish(g,m||l.getPropagatingTargets(g[0].target),k)}},updateTouches:function(B,H){var w=this,J=B.browserEvent,E=J.changedTouches||[J],I=w.activeTouches,A=w.activeTouchesMap,e=[],x,C,F,D,G,y,K,v;for(G=0,y=E.length;G<y;G++){x=E[G];if("identifier" in x){C=x.identifier}else{if("pointerId" in x){C=x.pointerId}else{C=1}}F=A[C];if(!F){D=Ext.event.Event.resolveTextNode(x.target);F=A[C]={identifier:C,target:D,targets:w.getPropagatingTargets(D)};I.push(F)}if(H){delete A[C];Ext.Array.remove(I,F)}K=x.pageX;v=x.pageY;F.pageX=K;F.pageY=v;F.point=new Ext.util.Point(K,v);e.push(F)}B.touches=Ext.Array.clone(I);B.changedTouches=e},publishDelegatedDomEvent:function(e){var d=this;if(!e.button||e.button<1){d.events=[e];d.handlers[e.type].call(d,e)}else{Ext.event.publisher.Dom.prototype.publishDelegatedDomEvent.call(this,e)}},onTouchStart:function(g){var e=this,j=g.target,k=g.browserEvent.touches;if(g.browserEvent.type==="touchstart"){j.addEventListener("touchmove",e.onTargetTouchMove);j.addEventListener("touchend",e.onTargetTouchEnd);j.addEventListener("touchcancel",e.onTargetTouchEnd)}if(k&&k.length<=e.activeTouches.length){e.removeGhostTouches(k)}e.updateTouches(g);if(!e.isStarted){if(Ext.enableGarbageCollector){Ext.dom.GarbageCollector.pause()}e.isStarted=true;e.invokeRecognizers("onStart",g)}e.invokeRecognizers("onTouchStart",g);e.publishGestures()},onTouchMove:function(f){var g=this,e=g.mousePointerType;if(g.isStarted){if(e&&f.browserEvent.pointerType===e&&f.buttons===0){f.type=Ext.dom.Element.prototype.eventMap.touchend;f.button=0;g.onTouchEnd(f);return}g.updateTouches(f);if(f.changedTouches.length>0){g.invokeRecognizers("onTouchMove",f)}}g.publishGestures()},onTouchEnd:function(f){var g=this,e;if(!g.isStarted){g.publishGestures();return}g.updateTouches(f,true);e=g.activeTouches.length;try{g.invokeRecognizers(g.isCancelEvent[f.type]?"onTouchCancel":"onTouchEnd",f)}finally{if(!e){g.isStarted=false;g.invokeRecognizers("onEnd",f)}g.publishGestures();if(!e){if(Ext.enableGarbageCollector){Ext.dom.GarbageCollector.resume()}}}},onTargetTouchMove:function(c){if(Ext.elevateFunction){Ext.elevateFunction(this.doTargetTouchMove,this,[c])}else{this.doTargetTouchMove(c)}},doTargetTouchMove:function(c){if(!Ext.getBody().contains(c.target)){this.onTouchMove(new Ext.event.Event(c))}},onTargetTouchEnd:function(c){if(Ext.elevateFunction){Ext.elevateFunction(this.doTargetTouchEnd,this,[c])}else{this.doTargetTouchEnd(c)}},doTargetTouchEnd:function(f){var e=this,g=f.target;g.removeEventListener("touchmove",e.onTargetTouchMove);g.removeEventListener("touchend",e.onTargetTouchEnd);g.removeEventListener("touchcancel",e.onTargetTouchEnd);if(!Ext.getBody().contains(g)){e.onTouchEnd(new Ext.event.Event(f))}},reset:function(){var j=this,m=j.recognizers,k=m.length,l,g;j.activeTouchesMap={};j.activeTouches=[];j.changedTouches=[];j.isStarted=false;j.gestureTargets=null;j.events=[];j.cancelEvents=[];for(l=0;l<k;l++){g=m[l];g.reset();g.isActive=false}Ext.event.publisher.Dom.prototype.reset.call(this)},privates:{removeGhostTouches:function(p){var r={},l=p.length,m=this.activeTouches,q=this.activeTouchesMap,s,n,o;for(s=0;s<l;++s){r[p[s].identifier]=true}s=m.length;while(s--){o=m[s];n=o.identifier;if(!p[n]){Ext.Array.remove(m,o);delete q[n]}}}}},1,0,0,0,0,0,[Ext.event.publisher,"Gesture"],function(c){c.instance=Ext.$gesturePublisher=new c()}));Ext.define("Ext.overrides.event.publisher.Gesture",{override:"Ext.event.publisher.Gesture"},function(){if(Ext.isIE9m){this.override({updateTouches:function(j,e){var g=j.browserEvent,k=j.getXY();g.pageX=k[0];g.pageY=k[1];this.callParent([j,e])},doDelegatedEvent:function(c){this.callParent([Ext.event.Event.enableIEAsync(c)])}})}});(Ext.cmd.derive("Ext.mixin.Templatable",Ext.Mixin,{mixinConfig:{id:"templatable"},referenceAttributeName:"reference",referenceSelector:"[reference]",getElementConfig:function(){return{reference:"element"}},getElementTemplate:function(){var c=document.createDocumentFragment();c.appendChild(Ext.Element.create(this.getElementConfig(),true));return c},initElement:function(){var c=this.self.prototype;c.elementTemplate=this.getElementTemplate();c.initElement=c.doInitElement;this.initElement.apply(this,arguments)},linkElement:function(d,e){this.link(d,e)},doInitElement:function(){var l=this.referenceAttributeName,p,o,n,m,q,k;p=this.elementTemplate.cloneNode(true);o=p.querySelectorAll(this.referenceSelector);for(n=0,m=o.length;n<m;n++){q=o[n];k=q.getAttribute(l);q.removeAttribute(l);this.linkElement(k,q)}}},0,0,0,0,0,0,[Ext.mixin,"Templatable"],0));(Ext.cmd.derive("Ext.TaskQueue",Ext.Base,{singleton:true,pending:false,mode:true,constructor:function(){this.readQueue=[];this.writeQueue=[];this.run=Ext.Function.bind(this.run,this);if(Ext.os.is.iOS){Ext.interval(this.watch,500,this)}},requestRead:function(f,g,e){this.request(true);this.readQueue.push(arguments)},requestWrite:function(f,g,e){this.request(false);this.writeQueue.push(arguments)},request:function(c){if(!this.pending){this.pendingTime=Date.now();this.pending=true;this.mode=c;if(c){Ext.defer(this.run,1,this)}else{Ext.Function.requestAnimationFrame(this.run)}}},watch:function(){if(this.pending&&Date.now()-this.pendingTime>=500){this.run()}},run:function(){this.pending=false;var o=this.readQueue,s=this.writeQueue,v=null,r;if(this.mode){r=o;if(s.length>0){v=false}}else{r=s;if(o.length>0){v=true}}var w=r.slice(),u,q,x,p,n;r.length=0;for(u=0,q=w.length;u<q;u++){x=w[u];p=x[0];n=x[1];if(n&&(n.destroying||n.destroyed)){continue}if(typeof p==="string"){p=n[p]}if(x.length>2){p.apply(n,x[2])}else{p.call(n)}}w.length=0;if(v!==null){this.request(v)}}},1,0,0,0,0,0,[Ext,"TaskQueue"],0));(Ext.cmd.derive("Ext.util.sizemonitor.Abstract",Ext.Base,{config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},width:null,height:null,contentWidth:null,contentHeight:null,constructor:function(c){this.refresh=Ext.Function.bind(this.refresh,this);this.info={width:0,height:0,contentWidth:0,contentHeight:0,flag:0};this.initElement();this.initConfig(c);this.bindListeners(true)},bindListeners:Ext.emptyFn,applyElement:function(c){if(c){return Ext.get(c)}},updateElement:function(c){c.append(this.detectorsContainer);c.addCls("x-size-monitored")},applyArgs:function(c){return c.concat([this.info])},refreshMonitors:Ext.emptyFn,forceRefresh:function(){Ext.TaskQueue.requestRead("refresh",this)},getContentBounds:function(){return this.detectorsContainer.getBoundingClientRect()},getContentWidth:function(){return this.detectorsContainer.clientWidth},getContentHeight:function(){return this.detectorsContainer.clientHeight},refreshSize:function(){var u=this.getElement();if(!u||u.destroyed){return false}var w=u.getWidth(),n=u.getHeight(),x=this.getContentWidth(),o=this.getContentHeight(),p=this.contentWidth,r=this.contentHeight,v=this.info,s=false,q=0;this.width=w;this.height=n;this.contentWidth=x;this.contentHeight=o;q=((p!==x?1:0)+(r!==o?2:0));if(q>0){v.width=w;v.height=n;v.contentWidth=x;v.contentHeight=o;v.flag=q;s=true;this.getCallback().apply(this.getScope(),this.getArgs())}return s},refresh:function(c){if(this.destroying||this.destroyed){return}if(this.refreshSize()||c){Ext.TaskQueue.requestWrite("refreshMonitors",this)}},destroy:function(){var e=this,d=e.getElement();e.bindListeners(false);if(d&&!d.destroyed){d.removeCls("x-size-monitored")}delete e._element;e.refresh=null;e.callParent()}},1,0,0,0,0,[[Ext.mixin.Templatable.prototype.mixinId||Ext.mixin.Templatable.$className,Ext.mixin.Templatable]],[Ext.util.sizemonitor,"Abstract"],0));(Ext.cmd.derive("Ext.util.sizemonitor.Scroll",Ext.util.sizemonitor.Abstract,{getElementConfig:function(){return{reference:"detectorsContainer",classList:["x-size-monitors","scroll"],children:[{reference:"expandMonitor",className:"expand"},{reference:"shrinkMonitor",className:"shrink"}]}},constructor:function(c){this.onScroll=Ext.Function.bind(this.onScroll,this);Ext.util.sizemonitor.Abstract.prototype.constructor.apply(this,arguments)},bindListeners:function(e){var d=e?"addEventListener":"removeEventListener";this.expandMonitor[d]("scroll",this.onScroll,true);this.shrinkMonitor[d]("scroll",this.onScroll,true)},forceRefresh:function(){Ext.TaskQueue.requestRead("refresh",this,[true])},onScroll:function(){Ext.TaskQueue.requestRead("refresh",this)},refreshMonitors:function(){var g=this.expandMonitor,f=this.shrinkMonitor,e=1000000;if(g&&!g.destroyed){g.scrollLeft=e;g.scrollTop=e}if(f&&!f.destroyed){f.scrollLeft=e;f.scrollTop=e}},destroy:function(){this.onScroll=null;Ext.util.sizemonitor.Abstract.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.util.sizemonitor,"Scroll"],0));(Ext.cmd.derive("Ext.util.sizemonitor.OverflowChange",Ext.util.sizemonitor.Abstract,{constructor:function(c){this.onExpand=Ext.Function.bind(this.onExpand,this);this.onShrink=Ext.Function.bind(this.onShrink,this);Ext.util.sizemonitor.Abstract.prototype.constructor.apply(this,arguments)},getElementConfig:function(){return{reference:"detectorsContainer",classList:["x-size-monitors","overflowchanged"],children:[{reference:"expandMonitor",className:"expand",children:[{reference:"expandHelper"}]},{reference:"shrinkMonitor",className:"shrink",children:[{reference:"shrinkHelper"}]}]}},bindListeners:function(e){var d=e?"addEventListener":"removeEventListener";this.expandMonitor[d](Ext.browser.is.Firefox?"underflow":"overflowchanged",this.onExpand,true);this.shrinkMonitor[d](Ext.browser.is.Firefox?"overflow":"overflowchanged",this.onShrink,true)},onExpand:function(c){if(Ext.browser.is.Webkit&&c.horizontalOverflow&&c.verticalOverflow){return}Ext.TaskQueue.requestRead("refresh",this)},onShrink:function(c){if(Ext.browser.is.Webkit&&!c.horizontalOverflow&&!c.verticalOverflow){return}Ext.TaskQueue.requestRead("refresh",this)},refreshMonitors:function(){if(this.destroying||this.destroyed){return}var k=this.expandHelper,l=this.shrinkHelper,o=this.getContentBounds(),m=o.width,j=o.height,n;if(k&&!k.destroyed){n=k.style;n.width=(m+1)+"px";n.height=(j+1)+"px"}if(l&&!l.destroyed){n=l.style;n.width=m+"px";n.height=j+"px"}Ext.TaskQueue.requestRead("refresh",this)},destroy:function(){this.onExpand=this.onShrink=null;Ext.util.sizemonitor.Abstract.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.util.sizemonitor,"OverflowChange"],0));(Ext.cmd.derive("Ext.util.SizeMonitor",Ext.Base,{constructor:function(d){var e=Ext.util.sizemonitor;if(Ext.browser.is.Firefox){return new e.OverflowChange(d)}else{return new e.Scroll(d)}}},1,0,0,0,0,0,[Ext.util,"SizeMonitor"],0));(Ext.cmd.derive("Ext.event.publisher.ElementSize",Ext.event.publisher.Publisher,{type:"size",handledEvents:["resize"],constructor:function(){this.monitors={};this.subscribers={};Ext.event.publisher.Publisher.prototype.constructor.apply(this,arguments)},subscribe:function(k){var g=k.id,j=this.subscribers,f=this.monitors;if(j[g]){++j[g]}else{j[g]=1;f[g]=new Ext.util.SizeMonitor({element:k,callback:this.onElementResize,scope:this,args:[k]})}k.on("painted","forceRefresh",f[g]);return true},unsubscribe:function(l){var j=l.id,k=this.subscribers,m=this.monitors,g;if(k[j]&&!--k[j]){delete k[j];g=m[j];l.un("painted","forceRefresh",g);g.destroy();delete m[j]}},onElementResize:function(d,e){Ext.TaskQueue.requestRead("fire",this,[d,"resize",[d,e]])}},1,0,0,0,0,0,[Ext.event.publisher,"ElementSize"],function(c){c.instance=new c()}));(Ext.cmd.derive("Ext.util.paintmonitor.Abstract",Ext.Base,{config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},eventName:"",monitorClass:"",constructor:function(c){this.onElementPainted=Ext.Function.bind(this.onElementPainted,this);this.initConfig(c)},bindListeners:function(c){this.monitorElement[c?"addEventListener":"removeEventListener"](this.eventName,this.onElementPainted,true)},applyElement:function(c){if(c){return Ext.get(c)}},updateElement:function(c){this.monitorElement=Ext.Element.create({classList:["x-paint-monitor",this.monitorClass]},true);c.appendChild(this.monitorElement);c.addCls("x-paint-monitored");this.bindListeners(true)},onElementPainted:function(){},destroy:function(){var g=this,k=g.monitorElement,f=k.parentNode,j=g.getElement();g.bindListeners(false);delete g.monitorElement;if(j&&!j.destroyed){j.removeCls("x-paint-monitored");delete g._element}if(f){f.removeChild(k)}g.callParent()}},1,0,0,0,0,0,[Ext.util.paintmonitor,"Abstract"],0));(Ext.cmd.derive("Ext.util.paintmonitor.CssAnimation",Ext.util.paintmonitor.Abstract,{eventName:Ext.browser.is.WebKit?"webkitAnimationEnd":"animationend",monitorClass:"cssanimation",onElementPainted:function(c){if(c.animationName==="x-paint-monitor-helper"){this.getCallback().apply(this.getScope(),this.getArgs())}}},0,0,0,0,0,0,[Ext.util.paintmonitor,"CssAnimation"],0));(Ext.cmd.derive("Ext.util.PaintMonitor",Ext.Base,{constructor:function(c){return new Ext.util.paintmonitor.CssAnimation(c)}},1,0,0,0,0,0,[Ext.util,"PaintMonitor"],0));(Ext.cmd.derive("Ext.event.publisher.ElementPaint",Ext.event.publisher.Publisher,{type:"paint",handledEvents:["painted"],constructor:function(){this.monitors={};this.subscribers={};Ext.event.publisher.Publisher.prototype.constructor.apply(this,arguments)},subscribe:function(f){var k=this,g=f.id,j=k.subscribers;if(j[g]){++j[g]}else{j[g]=1;k.monitors[g]=new Ext.util.PaintMonitor({element:f,callback:k.onElementPainted,scope:k,args:[f]})}},unsubscribe:function(k){var g=k.id,j=this.subscribers,f=this.monitors;if(j[g]&&!--j[g]){delete j[g];f[g].destroy();delete f[g]}},onElementPainted:function(c){Ext.TaskQueue.requestRead("fire",this,[c,"painted",[c]])}},1,0,0,0,0,0,[Ext.event.publisher,"ElementPaint"],function(c){c.instance=new c()}));(Ext.cmd.derive("Ext.dom.Element",Ext.Base,function(bb){var a4=window,e=document,bn=e.documentElement,a5=a4.top,a7,aI,ax,bi="width",at="height",aO="min-width",bm="min-height",ba="max-width",aM="max-height",a5="top",aG="right",aw="bottom",aE="left",bg="visibility",aL="hidden",bo="display",a2="none",bd="z-index",aX="position",a8="relative",a6="static",aU="-",aY=/\w/g,ay=/\s+/,aK=/[\s]+/,bq=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,aA=/table-row|table-.*-group/,bp=/top/i,a0={t:"border-top-width",r:"border-right-width",b:"border-bottom-width",l:"border-left-width"},aQ={t:"padding-top",r:"padding-right",b:"padding-bottom",l:"padding-left"},be={t:"margin-top",r:"margin-right",b:"margin-bottom",l:"margin-left"},aF=[aQ.l,aQ.r,aQ.t,aQ.b],bk=[a0.l,a0.r,a0.t,a0.b],aT=/\d+$/,bh=/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,ar="px",au=/(-[a-z])/gi,aC=/([a-z0-9\-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*);?/gi,a9=/^\d+(?:\.\d*)?px$/i,aW={},a1="originalDisplay",aZ=function(c,b){return b.charAt(1).toUpperCase()},az=function(g,c){var f,b,d;if(g.nodeType===1){g._extData=null;if(c){f=g.childNodes;for(b=0,d=f.length;b<d;++b){az(f[b],c)}}}},aJ="x-hidden-visibility",aN="x-hidden-display",bf="x-hidden-offsets",br="x-hidden-clip",aP="x-sized",av="x-unsized",aB="x-stretched",bc={style:"style",className:"className",cls:"cls",classList:"classList",text:"text",hidden:"hidden",html:"html",children:"children"},a3=0,aS=0,aR=false,bl=false,aV,aH,bj;try{a7=a5.__elementIdCounter__}catch(aD){a5=a4}a5.__elementIdCounter=a7=(a5.__elementIdCounter__||0)+1;aI="ext-window-"+a7;ax="ext-document-"+a7;return{alternateClassName:["Ext.Element"],observableType:"element",isElement:true,skipGarbageCollection:true,$applyConfigs:true,identifiablePrefix:"ext-element-",styleHooks:{},validIdRe:Ext.validIdRe,blockedEvents:Ext.supports.EmulatedMouseOver?{mouseover:1}:{},longpressEvents:{longpress:1,taphold:1},constructor:function(c){var d=this,b;if(typeof c==="string"){c=e.getElementById(c)}if(!c){return null}d.dom=c;b=c.id;if(b){d.id=b}else{b=c.id=d.getUniqueId()}d.el=d;Ext.cache[b]=d;d.longpressListenerCount=0;d.mixins.observable.constructor.call(d)},inheritableStatics:{cache:Ext.cache={},editableSelector:'input,textarea,[contenteditable="true"]',VISIBILITY:1,DISPLAY:2,OFFSETS:3,CLIP:4,minKeyboardHeight:100,unitRe:bh,useDelegatedEvents:true,validNodeTypes:{1:1,9:1},addUnits:function(b,c){if(typeof b==="number"){return b+(c||ar)}if(b===""||b==="auto"||b==null){return b||""}if(aT.test(b)){return b+(c||ar)}if(!bh.test(b)){return b||""}return b},create:function(f,g){var o=this,j,b,m,k,l,n,c,p,d;f=f||{};if(f.isElement){return g?f.dom:f}else{if("nodeType" in f){return g?f:Ext.get(f)}}if(typeof f==="string"){return e.createTextNode(f)}k=f.tag;if(!k){k="div"}if(f.namespace){b=e.createElementNS(f.namespace,k)}else{b=e.createElement(k)}m=b.style;for(n in f){if(n!=="tag"){l=f[n];switch(n){case bc.style:if(typeof l==="string"){b.setAttribute(n,l)}else{for(c in l){if(l.hasOwnProperty(c)){m[c]=l[c]}}}break;case bc.className:case bc.cls:d=l.split(ay);j=j?j.concat(d):d;break;case bc.classList:j=j?j.concat(l):l;break;case bc.text:b.textContent=l;break;case bc.html:b.innerHTML=l;break;case bc.hidden:if(j){j.push(aN)}else{j=[aN]}break;case bc.children:if(l!=null){for(c=0,p=l.length;c<p;c++){b.appendChild(o.create(l[c],true))}}break;default:if(l!=null){b.setAttribute(n,l)}}}}if(j){b.className=j.join(" ")}if(g){return b}else{return o.get(b)}},detach:function(){var b=this.dom;if(b&&b.parentNode&&b.tagName!=="BODY"){b.parentNode.removeChild(b)}return this},fly:function(b,c){return Ext.fly(b,c)},fromPoint:(function(){var b;if(Ext.isIE){try{b=window.self!==window.top}catch(c){b=true}}return function(j,f,d){var g=null;g=e.elementFromPoint(j,f);if(!g&&b){g=e.elementFromPoint(j,f)}return d?g:Ext.get(g)}})(),fromPagePoint:function(b,f,c){var d=Ext.getDoc().getScroll();return bb.fromPoint(b-d.left,f-d.top,c)},get:function(g){var b=this,l=Ext.cache,d,f,j,k,m,c,n;if(!g){return null}if(g.isFly){g=g.dom}if(typeof g==="string"){j=g;if(l.hasOwnProperty(j)){k=l[j];if(k.skipGarbageCollection||!Ext.isGarbage(k.dom)){return k}else{k.destroy()}}if(j===aI){return bb.get(a4)}else{if(j===ax){return bb.get(e)}}f=Ext.getElementById?Ext.getElementById(j):e.getElementById(j);if(f){return new bb(f)}}d=g.nodeType;if(d){m=(d===9);n=b.validNodeTypes[d]}else{c=(g.window==g)}if(n||c){j=g.id;if(l.hasOwnProperty(j)){k=l[j];if(k.skipGarbageCollection||g===k.dom||!Ext.isGarbage(k.dom)){return k}else{k.destroy()}}if(g===e){g.id=ax}if(g==a4){g.id=aI}g=new bb(g);if(c||m){g.skipGarbageCollection=true}return g}if(g.isElement){return g}if(g.isComposite){return g}if(Ext.isIterable(g)){return b.select(g)}return null},getActiveElement:function(c){var b=e.activeElement;if(!b||!b.focus){b=e.body}return c?Ext.get(b):b},getDocumentHeight:function(){return Math.max(!Ext.isStrict?e.body.scrollHeight:bn.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(!Ext.isStrict?e.body.scrollWidth:bn.scrollWidth,this.getViewportWidth())},getOrientation:function(){if(Ext.supports.OrientationChange){return(a4.orientation==0)?"portrait":"landscape"}return(a4.innerHeight>a4.innerWidth)?"portrait":"landscape"},getViewportHeight:function(){var b=bb._viewportHeight;if(Ext.isIE9m){return e.documentElement.clientHeight}return(b!=null)?b:bn.clientHeight},getViewportWidth:function(){var b=bb._viewportWidth;if(Ext.isIE9m){return e.documentElement.clientWidth}return(b!=null)?b:bn.clientWidth},getViewportScale:function(){var b=a4.top;return((Ext.isiOS||Ext.isAndroid)?1:(b.devicePixelRatio||b.screen.deviceXDPI/b.screen.logicalXDPI))*this.getViewportTouchScale()},getViewportTouchScale:function(b){var f=1,d="hidden",c=a4.top,g;if(!b){g=this._viewportTouchScale;if(g){return g}}if(Ext.isIE10p||Ext.isEdge||Ext.isiOS){f=bn.offsetWidth/a4.innerWidth}else{if(Ext.isChromeMobile){f=c.outerWidth/c.innerWidth}}return f},getViewSize:function(){return{width:bb.getViewportWidth(),height:bb.getViewportHeight()}},maskIframes:function(){var b=document.getElementsByTagName("iframe");Ext.each(b,function(c){var d;d=Ext.fly(c.parentNode).mask();d.setStyle("background-color","transparent")})},normalize:function(b){return aW[b]||(aW[b]=b.replace(au,aZ))},_onWindowFocusChange:function(b){if(Ext.fly(b.target).is(bb.editableSelector)){a3=new Date();aR=(b.type==="focusin"||b.type==="pointerup")}},_onWindowResize:function(){var b=bn.clientWidth,f=bn.clientHeight,g=new Date(),c=1000,j,d;j=b-bb._documentWidth;d=f-bb._documentHeight;bb._windowWidth=b;bb._windowHeight=f;if(((g-a3)<c)||((g-aS)<c)){if(j===0&&(aR&&(d<=-bb.minKeyboardHeight))){bl=true;return}}if(bl&&(j===0)&&(d>=bb.minKeyboardHeight)){bl=false;aS=new Date()}if(bl){return}bb._viewportWidth=b;bb._viewportHeight=f},parseBox:function(b){b=b||0;var d=typeof b,f,c;if(d==="number"){return{top:b,right:b,bottom:b,left:b}}else{if(d!=="string"){return b}}f=b.split(" ");c=f.length;if(c===1){f[1]=f[2]=f[3]=f[0]}else{if(c===2){f[2]=f[0];f[3]=f[1]}else{if(c===3){f[3]=f[1]}}}return{top:parseFloat(f[0])||0,right:parseFloat(f[1])||0,bottom:parseFloat(f[2])||0,left:parseFloat(f[3])||0}},parseStyles:function(c){var d={},b;if(c){aC.lastIndex=0;while((b=aC.exec(c))){d[b[1]]=b[2]||""}}return d},select:function(d,b,c){return Ext.fly(c||e).select(d,b)},query:function(c,d,b){return Ext.fly(b||e).query(c,d)},unitizeBox:function(b,d){var c=this;b=c.parseBox(b);return c.addUnits(b.top,d)+" "+c.addUnits(b.right,d)+" "+c.addUnits(b.bottom,d)+" "+c.addUnits(b.left,d)},unmaskIframes:function(){var b=document.getElementsByTagName("iframe");Ext.each(b,function(c){Ext.fly(c.parentNode).unmask()})},serializeForm:function(g){var d=g.elements||(e.forms[g]||Ext.getDom(g)).elements,l=false,m=encodeURIComponent,s="",b=d.length,r,n,o,f,k,q,c,p,j;for(q=0;q<b;q++){r=d[q];n=r.name;o=r.type;f=r.options;if(!r.disabled&&n){if(/select-(one|multiple)/i.test(o)){p=f.length;for(c=0;c<p;c++){j=f[c];if(j.selected){k=j.hasAttribute("value");s+=Ext.String.format("{0}={1}&",m(n),m(k?j.value:j.text))}}}else{if(!(/file|undefined|reset|button/i.test(o))){if(!(/radio|checkbox/i.test(o)&&!r.checked)&&!(o=="submit"&&l)){s+=m(n)+"="+m(r.value)+"&";l=/submit/i.test(o)}}}}}return s.substr(0,s.length-1)},getCommonAncestor:function(b,c,d){bj=bj||new Ext.dom.Fly();bj.attach(Ext.getDom(b));while(!bj.isAncestor(c)){if(bj.dom.parentNode){bj.attach(bj.dom.parentNode)}else{bj.attach(e.body);break}}return d?bj.dom:Ext.get(bj)}},addCls:function(o,b,l){var m=this,f=m.getData(),k,d,j,g,c,p,n;if(!o){return m}if(!f.isSynchronized){m.synchronize()}d=m.dom;j=f.classMap;g=f.classList;b=b?b+aU:"";l=l?aU+l:"";if(typeof o==="string"){o=o.split(ay)}for(c=0,p=o.length;c<p;c++){n=o[c];if(n){n=b+n+l;if(!j[n]){j[n]=true;g.push(n);k=true}}}if(k){d.className=g.join(" ")}return m},addClsOnClick:function(b,f,c){var j=this,g=j.dom,d=Ext.isFunction(f);j.on("mousedown",function(){if(d&&f.call(c||j,j)===false){return false}Ext.fly(g).addCls(b);var k=Ext.getDoc(),l=function(){Ext.fly(g).removeCls(b);k.removeListener("mouseup",l)};k.on("mouseup",l)});return j},addClsOnFocus:function(b,f,c){var j=this,g=j.dom,d=Ext.isFunction(f);j.on("focus",function(){if(d&&f.call(c||j,j)===false){return false}Ext.fly(g).addCls(b)});j.on("blur",function(){Ext.fly(g).removeCls(b)});return j},addClsOnOver:function(b,f,c){var j=this,g=j.dom,d=Ext.isFunction(f);j.hover(function(){if(d&&f.call(c||j,j)===false){return}Ext.fly(g).addCls(b)},function(){Ext.fly(g).removeCls(b)});return j},addStyles:function(d,f){var b=0,j=(d||"").match(aY),k,g=j.length,l,c=[];if(g===1){b=Math.abs(parseFloat(this.getStyle(f[j[0]]))||0)}else{if(g){for(k=0;k<g;k++){l=j[k];c.push(f[l])}c=this.getStyle(c);for(k=0;k<g;k++){l=j[k];b+=parseFloat(c[f[l]])||0}}}return b},addUnits:function(b,c){return bb.addUnits(b,c)},adjustDirect2DDimension:function(g){var m=this,j=m.dom,c=m.getStyle("display"),d=j.style.display,l=j.style.position,b=g===bi?0:1,k=j.currentStyle,f;if(c==="inline"){j.style.display="inline-block"}j.style.position=c.match(aA)?"absolute":"static";f=(parseFloat(k[g])||parseFloat(k.msTransformOrigin.split(" ")[b])*2)%1;j.style.position=l;if(c==="inline"){j.style.display=d}return f},animate:function(b){b=new Ext.fx.Animation(b);b.setElement(this);this._activeAnimation=b;b.on({animationend:this._onAnimationEnd,scope:this});Ext.Animator.run(b);return b},_onAnimationEnd:function(){this._activeAnimation=null},getActiveAnimation:function(){return this._activeAnimation},append:function(){this.appendChild.apply(this,arguments)},appendChild:function(j,b){var g=this,d,c,f;if(j.nodeType||j.dom||typeof j==="string"){j=Ext.getDom(j);g.dom.appendChild(j);return !b?Ext.get(j):j}else{if(j.length){d=Ext.fly(e.createDocumentFragment());c=j.length;for(f=0;f<c;f++){d.appendChild(j[f],b)}j=Ext.Array.toArray(d.dom.childNodes);g.dom.appendChild(d.dom);return b?j:new Ext.dom.CompositeElementLite(j)}else{return g.createChild(j,null,b)}}},appendTo:function(b){Ext.getDom(b).appendChild(this.dom);return this},applyStyles:function(b){if(b){if(typeof b==="function"){b=b.call()}if(typeof b==="string"){b=bb.parseStyles(b)}if(typeof b==="object"){this.setStyle(b)}}return this},blur:function(){var c=this,d=c.dom;if(d!==e.body){try{d.blur()}catch(b){}return c}else{return c.focus(undefined,d)}},cacheScrollValues:function(){var j=this,g=[],k=[],d,b,c,f;aH=aH||new Ext.dom.Fly();d=j.query("*");for(c=0,f=d.length;c<f;c++){b=d[c];if(b.scrollTop>0||b.scrollLeft!==0){k.push(b);g.push(aH.attach(b).getScroll())}}return function(){var l,n,m;for(n=0,m=k.length;n<m;n++){l=g[n];aH.attach(k[n]);aH.setScrollLeft(l.left);aH.setScrollTop(l.top)}}},center:function(b){return this.alignTo(b||e,"c-c")},child:function(d,c){var b=this,f=Ext.get(b).id;return b.selectNode(Ext.makeIdSelector(f)+" > "+d,!!c)},clone:function(d,c){var b=this.dom.cloneNode(d);if(Ext.supports.CloneNodeCopiesExpando){az(b,d)}return c?b:Ext.get(b)},constrainScrollLeft:function(c){var b=this.dom;return Math.max(Math.min(c,b.scrollWidth-b.clientWidth),0)},constrainScrollTop:function(c){var b=this.dom;return Math.max(Math.min(c,b.scrollHeight-b.clientHeight),0)},createChild:function(c,d,b){c=c||{tag:"div"};if(d){return Ext.DomHelper.insertBefore(d,c,b!==true)}else{return Ext.DomHelper.append(this.dom,c,b!==true)}},contains:function(d){if(!d){return false}var c=this,b=Ext.getDom(d);return(b===c.dom)||c.isAncestor(b)},destroy:function(){var c=this,b=c.dom;if(b&&b.parentNode){b.parentNode.removeChild(b)}c.collect()},detach:function(){var b=this.dom;if(b&&b.parentNode&&b.tagName!=="BODY"){b.parentNode.removeChild(b)}return this},disableShadow:function(){var b=this.shadow;if(b){b.hide();b.disabled=true}},disableShim:function(){var b=this.shim;if(b){b.hide();b.disabled=true}},doReplaceWith:function(c){var b=this.dom;b.parentNode.replaceChild(Ext.getDom(c),b)},doScrollIntoView:function(o,d,k,c,l,p){aH=aH||new Ext.dom.Fly();var n=this,b=n.dom,j=aH.attach(o)[l](),m=o.scrollTop,q=n.getScrollIntoViewXY(o,j,m),f=q.x,g=q.y;if(c){if(k){k=Ext.apply({listeners:{afteranimate:function(){aH.attach(b).highlight()}}},k)}else{aH.attach(b).highlight()}}if(g!==m){aH.attach(o).scrollTo("top",g,k)}if(d!==false&&(f!==j)){aH.attach(o)[p]("left",f,k)}return n},down:function(c,b){return this.selectNode(c,!!b)},enableShadow:function(c,d){var b=this,f=b.shadow||(b.shadow=new Ext.dom.Shadow(Ext.apply({target:b},c))),g=b.shim;if(g){g.offsets=f.outerOffsets;g.shadow=f;f.shim=g}if(d===true||(d!==false&&b.isVisible())){f.show()}else{f.hide()}f.disabled=false},enableShim:function(c,d){var b=this,f=b.shim||(b.shim=new Ext.dom.Shim(Ext.apply({target:b},c))),g=b.shadow;if(g){f.offsets=g.outerOffsets;f.shadow=g;g.shim=f}if(d===true||(d!==false&&b.isVisible())){f.show()}else{f.hide()}f.disabled=false;return f},findParent:function(d,c,g){var k=this,j=k.dom,b=bn,f=0;if(c||c===0){if(typeof c!=="number"){b=Ext.getDom(c);c=Number.MAX_VALUE}}else{c=50}while(j&&j.nodeType===1&&f<c&&j!==b){if(Ext.fly(j).is(d)){return g?Ext.get(j):j}f++;j=j.parentNode}return null},findParentNode:function(f,c,d){var b=Ext.fly(this.dom.parentNode);return b?b.findParent(f,c,d):null},first:function(c,b){return this.matchNode("nextSibling","firstChild",c,b)},focus:function(b,c){var d=this;c=c||d.dom;if(Number(b)){Ext.defer(d.focus,b,d,[null,c])}else{Ext.GlobalEvents.fireEvent("beforefocus",c);c.focus()}return d},collect:function(){var d=this,c=d.dom,f=d.shadow,b=d.shim;if(!d.isFly){d.mixins.observable.destroy.call(d);delete Ext.cache[d.id];d.el=null}if(c){c._extData=d.dom=null}if(f){f.hide();d.shadow=null}if(b){b.hide();d.shim=null}},getAnchorToXY:function(f,d,b,c){return f.getAnchorXY(d,b,c)},getAttribute:function(d,c){var b=this.dom;return c?(b.getAttributeNS(c,d)||b.getAttribute(c+":"+d)):(b.getAttribute(d)||b[d]||null)},getAttributes:function(){var g=this.dom.attributes,b={},c,f,d;for(f=0,d=g.length;f<d;f++){c=g[f];b[c.name]=c.value}return b},getBottom:function(b){return(b?this.getLocalY():this.getY())+this.getHeight()},getById:function(b,d){var c=e.getElementById(b)||this.dom.querySelector(Ext.makeIdSelector(b));return d?c:(c?Ext.get(c):null)},getBorderPadding:function(){var c=this.getStyle(aF),b=this.getStyle(bk);return{beforeX:(parseFloat(b[a0.l])||0)+(parseFloat(c[aQ.l])||0),afterX:(parseFloat(b[a0.r])||0)+(parseFloat(c[aQ.r])||0),beforeY:(parseFloat(b[a0.t])||0)+(parseFloat(c[aQ.t])||0),afterY:(parseFloat(b[a0.b])||0)+(parseFloat(c[aQ.b])||0)}},getBorders:function(){var b=this.getStyle(bk);return{beforeX:(parseFloat(b[a0.l])||0),afterX:(parseFloat(b[a0.r])||0),beforeY:(parseFloat(b[a0.t])||0),afterY:(parseFloat(b[a0.b])||0)}},getBorderWidth:function(b){return this.addStyles(b,a0)},getData:function(d){var b=this.dom,c;if(b){c=b._extData;if(!c&&!d){b._extData=c={}}}return c},getFirstChild:function(){return Ext.get(this.dom.firstElementChild)},getHeight:function(k,c){var b=this,g=b.dom,j=b.isStyle("display","none"),f,d;if(j){return 0}if(g.nodeName==="BODY"){f=bb.getViewportHeight()}else{f=g.offsetHeight;if(f==null){f=g.getBoundingClientRect().height}}if(Ext.supports.Direct2DBug){d=b.adjustDirect2DDimension(at);if(c){f+=d}else{if(d>0&&d<0.5){f++}}}if(k){f-=b.getBorderWidth("tb")+b.getPadding("tb")}return(f<0)?0:f},getHtml:function(){return this.dom?this.dom.innerHTML:""},getLeft:function(b){return b?this.getLocalX():this.getX()},getLocalX:function(){var b=this,c,d=b.getStyle("left");if(!d||d==="auto"){d=0}else{if(a9.test(d)){d=parseFloat(d)}else{d=b.getX();c=b.dom.offsetParent;if(c){d-=Ext.fly(c).getX()}}}return d},getLocalXY:function(){var g=this,b,c=g.getStyle(["left","top"]),d=c.left,f=c.top;if(!d||d==="auto"){d=0}else{if(a9.test(d)){d=parseFloat(d)}else{d=g.getX();b=g.dom.offsetParent;if(b){d-=Ext.fly(b).getX()}}}if(!f||f==="auto"){f=0}else{if(a9.test(f)){f=parseFloat(f)}else{f=g.getY();b=g.dom.offsetParent;if(b){f-=Ext.fly(b).getY()}}}return[d,f]},getLocalY:function(){var c=this,d,b=c.getStyle("top");if(!b||b==="auto"){b=0}else{if(a9.test(b)){b=parseFloat(b)}else{b=c.getY();d=c.dom.offsetParent;if(d){b-=Ext.fly(d).getY()}}}return b},getMargin:(function(){var b={t:"top",l:"left",r:"right",b:"bottom"},c=["margin-top","margin-left","margin-right","margin-bottom"];return function(k){var g=this,j,d,f;if(!k){j=g.getStyle(c);f={};if(j&&typeof j==="object"){f={};for(d in be){f[d]=f[b[d]]=parseFloat(j[be[d]])||0}}}else{f=g.addStyles(k,be)}return f}})(),getPadding:function(b){return this.addStyles(b,aQ)},getParent:function(){return Ext.get(this.dom.parentNode)},getRight:function(b){return(b?this.getLocalX():this.getX())+this.getWidth()},getScroll:function(){var b=this,f=b.dom,c=bn,g,j,d=e.body;if(f===e||f===d){g=c.scrollLeft||(d?d.scrollLeft:0);j=c.scrollTop||(d?d.scrollTop:0)}else{g=f.scrollLeft;j=f.scrollTop}return{left:g,top:j}},getScrollIntoViewXY:function(j,q,r){var m=this.dom,s=Ext.getDom(j),p=this.getOffsetsTo(s),u=m.offsetWidth,c=m.offsetHeight,w=p[0]+q,f=p[1]+r,l=f+c,g=w+u,b=s.clientHeight,o=s.clientWidth,k=q,v=r,n=v+b,d=k+o;if(c>b||f<v){r=f}else{if(l>n){r=l-b}}if(u>o||w<k){q=w}else{if(g>d){q=g-o}}return{x:q,y:r}},getScrollLeft:function(){var b=this.dom;if(b===e||b===e.body){return this.getScroll().left}else{return b.scrollLeft}},getScrollTop:function(){var b=this.dom;if(b===e||b===e.body){return this.getScroll().top}else{return b.scrollTop}},getSize:function(b){return{width:this.getWidth(b),height:this.getHeight(b)}},getStyle:function(m,u){var s=this,f=s.dom,g=typeof m!=="string",l=s.styleHooks,n=m,q=n,b=1,c,k,o,p,j,r,d;if(g){o={};n=q[0];d=0;if(!(b=q.length)){return o}}if(!f||f.documentElement){return o||""}c=f.style;if(u){r=c}else{r=f.ownerDocument.defaultView.getComputedStyle(f,null);if(!r){u=true;r=c}}do{p=l[n];if(!p){l[n]=p={name:bb.normalize(n)}}if(p.get){j=p.get(f,s,u,r)}else{k=p.name;j=r[k]}if(!g){return j}o[n]=j;n=q[++d]}while(d<b);return o},getStyleValue:function(b){return this.dom.style.getPropertyValue(b)},getTop:function(b){return b?this.getLocalY():this.getY()},getTouchAction:function(){return Ext.dom.TouchAction.get(this.dom)},getValue:function(b){var c=this.dom.value;return b?parseInt(c,10):c},getViewSize:function(){var b=this.dom;if(b===e||b===e.body){return{width:bb.getViewportWidth(),height:bb.getViewportHeight()}}else{return{width:b.clientWidth,height:b.clientHeight}}},getVisibilityMode:function(){var d=this,c=d.getData(),b=c.visibilityMode;if(b===undefined){c.visibilityMode=b=bb.DISPLAY}return b},getWidth:function(j,g){var l=this,f=l.dom,k=l.isStyle("display","none"),b,c,d;if(k){return 0}if(Ext.supports.BoundingClientRect){b=f.getBoundingClientRect();c=(l.vertical&&!Ext.supports.RotatedBoundingClientRect)?(b.bottom-b.top):(b.right-b.left);c=g?c:Math.ceil(c)}else{c=f.offsetWidth}if(Ext.supports.Direct2DBug&&!l.vertical){d=l.adjustDirect2DDimension(bi);if(g){c+=d}else{if(d>0&&d<0.5){c++}}}if(j){c-=l.getBorderWidth("lr")+l.getPadding("lr")}return(c<0)?0:c},getX:function(){return this.getXY()[0]},getXY:function(){var b=Math.round,f=this.dom,c=e.body,j=0,d=0,k,g;if(f!==e&&f!==c){try{k=c.getBoundingClientRect();g=f.getBoundingClientRect();j=g.left-k.left;d=g.top-k.top}catch(l){}}return[b(j),b(d)]},getY:function(){return this.getXY()[1]},getZIndex:function(){return parseInt(this.getStyle("z-index"),10)},hasCls:function(c){var b=this.getData();if(!b.isSynchronized){this.synchronize()}return b.classMap.hasOwnProperty(c)},hide:function(){this.setVisible(false);return this},insertAfter:function(b){b=Ext.getDom(b);b.parentNode.insertBefore(this.dom,b.nextSibling);return this},insertBefore:function(b){b=Ext.getDom(b);b.parentNode.insertBefore(this.dom,b);return this},insertFirst:function(b,c){b=b||{};if(b.nodeType||b.dom||typeof b==="string"){b=Ext.getDom(b);this.dom.insertBefore(b,this.dom.firstChild);return !c?Ext.get(b):b}else{return this.createChild(b,this.dom.firstChild,c)}},insertHtml:function(c,b,d){var f=Ext.DomHelper.insertHtml(c,this.dom,b);return d?Ext.get(f):f},insertSibling:function(g,c,m){var n=this,l=Ext.DomHelper,k=(c||"before").toLowerCase()==="after",d,j,f,b;if(Ext.isIterable(g)){f=g.length;j=Ext.fly(e.createDocumentFragment());if(Ext.isArray(g)){for(b=0;b<f;b++){d=j.appendChild(g[b],m)}}else{for(b=0;b<f;b++){j.dom.appendChild(d=g[0])}if(m===false){d=Ext.get(d)}}n.dom.parentNode.insertBefore(j.dom,k?n.dom.nextSibling:n.dom);return d}g=g||{};if(g.nodeType||g.dom){d=n.dom.parentNode.insertBefore(Ext.getDom(g),k?n.dom.nextSibling:n.dom);if(!m){d=Ext.get(d)}}else{if(k&&!n.dom.nextSibling){d=l.append(n.dom.parentNode,g,!m)}else{d=l[k?"insertAfter":"insertBefore"](n.dom,g,!m)}}return d},is:function(d){var b=this.dom,c;if(!d){c=true}else{if(!b.tagName){c=false}else{if(Ext.isFunction(d)){c=d(b)}else{c=b[Ext.supports.matchesSelector](d)}}}return c},isAncestor:function(c){var d=false,b=this.dom,f=Ext.getDom(c);if(b&&f){if(b.contains){return b.contains(f)}else{if(b.compareDocumentPosition){return !!(b.compareDocumentPosition(f)&16)}else{while((f=f.parentNode)){d=f===b||d}}}}return d},isPainted:(function(){return !Ext.browser.is.IE?function(){var b=this.dom;return Boolean(b&&b.offsetParent)}:function(){var b=this.dom;return Boolean(b&&(b.offsetHeight!==0&&b.offsetWidth!==0))}})(),isScrollable:function(){var b=this.dom;return b.scrollHeight>b.clientHeight||b.scrollWidth>b.clientWidth},isStyle:function(c,b){return this.getStyle(c)===b},isVisible:function(c){var b=this.dom,d;if(!b){return false}if(!aV){aV=new Ext.dom.Fly()}for(d=b.ownerDocument.documentElement;b!==d;b=b.parentNode){if(!b||b.nodeType===11||(aV.attach(b)).isStyle(bg,aL)||aV.isStyle(bo,a2)){return false}if(!c){break}}return true},last:function(c,b){return this.matchNode("previousSibling","lastChild",c,b)},matchNode:function(c,f,d,b){var j=this.dom,g;if(!j){return null}g=j[f];while(g){if(g.nodeType===1&&(!d||Ext.fly(g,"_matchNode").is(d))){return !b?Ext.get(g):g}g=g[c]}return null},monitorMouseLeave:function(f,j,b){var g=this,d,c={mouseleave:function(k){if(Ext.isIE9m){k.enableIEAsync()}d=Ext.defer(j,f,b||g,[k])},mouseenter:function(){clearTimeout(d)},destroy:function(){clearTimeout(d);g.un(c)}};g.on(c);return c},next:function(c,b){return this.matchNode("nextSibling","nextSibling",c,b)},parent:function(c,b){return this.matchNode("parentNode","parentNode",c,b)},position:function(f,g,d,b){var c=this;if(c.dom.tagName!=="BODY"){if(!f&&c.isStyle(aX,a6)){c.setStyle(aX,a8)}else{if(f){c.setStyle(aX,f)}}if(g){c.setStyle(bd,g)}if(d||b){c.setXY([d||false,b||false])}}},prev:function(c,b){return this.matchNode("previousSibling","previousSibling",c,b)},query:function(g,k,n){var d=this.dom,b,o,l,j,m,c,f;if(!d){return null}k=(k!==false);g=g.split(",");if(!n){b=[]}for(c=0,o=g.length;c<o;c++){if(typeof g[c]==="string"){if(n){j=d.querySelector(g[c]);return k?j:Ext.get(j)}m=d.querySelectorAll(g[c]);for(f=0,l=m.length;f<l;f++){b.push(k?m[f]:Ext.get(m[f]))}}}return b},radioCls:function(g){var f=this.dom.parentNode.childNodes,c;g=Ext.isArray(g)?g:[g];for(var b=0,d=f.length;b<d;b++){c=f[b];if(c&&c.nodeType===1){Ext.fly(c).removeCls(g)}}return this.addCls(g)},redraw:function(){var b=this.dom,c=b.style;c.display="none";b.offsetHeight;c.display=""},remove:function(){this.destroy()},removeChild:function(b){this.dom.removeChild(Ext.getDom(b));return this},removeCls:function(o,b,l){var m=this,f=m.getData(),k,d,j,g,c,p,n;if(!o){return m}if(!f.isSynchronized){m.synchronize()}d=m.dom;j=f.classMap;g=f.classList;b=b?b+aU:"";l=l?aU+l:"";if(typeof o==="string"){o=o.split(ay)}for(c=0,p=o.length;c<p;c++){n=o[c];if(n){n=b+n+l;if(j[n]){delete j[n];Ext.Array.remove(g,n);k=true}}}if(k){d.className=g.join(" ")}return m},repaint:function(){var b=this;b.addCls("x-repaint");Ext.defer(function(){if(b.dom){Ext.fly(b.dom).removeCls("x-repaint")}},1);return b},replace:function(b,c){b=Ext.getDom(b);var d=b.parentNode,f=b.id,g=this.dom;if(c!==false&&f&&Ext.cache[f]){d.insertBefore(g,b);Ext.get(b).destroy()}else{d.replaceChild(g,b)}return this},replaceCls:function(g,n,q,j){var m=this,c,k,f,b,p,o,d=m.getData(),l;if(!g&&!n){return m}g=g||[];n=n||[];if(!d.isSynchronized){m.synchronize()}if(!j){j=""}c=m.dom;k=d.classMap;f=d.classList;q=q?q+aU:"";j=j?aU+j:"";if(typeof g==="string"){g=g.split(ay)}if(typeof n==="string"){n=n.split(ay)}for(b=0,p=g.length;b<p;b++){o=q+g[b]+j;if(k[o]){delete k[o];l=true}}for(b=0,p=n.length;b<p;b++){o=q+n[b]+j;if(!k[o]){k[o]=true;l=true}}if(l){d.classList=f=Ext.Object.getKeys(k);c.className=f.join(" ")}return m},replaceWith:function(j){var g=this,f=g.dom,b=f.parentNode,d=Ext.cache,c;g.clearListeners();if(j.nodeType||j.dom||typeof j==="string"){j=Ext.get(j);c=b.insertBefore(j.dom,f)}else{c=Ext.DomHelper.insertBefore(f,j)}b.removeChild(f);g.dom=c;if(!g.isFly){delete d[g.id];d[g.id=Ext.id(c)]=g}return g},resolveListenerScope:function(b){var c=this.component;return c?c.resolveListenerScope(b):this},scroll:function(l,k,g){if(!this.isScrollable()){return false}l=l.charAt(0);var m=this,d=m.dom,b=l==="r"||l==="l"?"left":"top",j=false,f,c;if(l==="l"||l==="t"||l==="u"){k=-k}if(b==="left"){f=d.scrollLeft;c=m.constrainScrollLeft(f+k)}else{f=d.scrollTop;c=m.constrainScrollTop(f+k)}if(c!==f){this.scrollTo(b,c,g);j=true}return j},scrollBy:function(c,d,b){var g=this,f=g.dom;if(c.length){b=d;d=c[1];c=c[0]}else{if(typeof c!="number"){b=d;d=c.y;c=c.x}}if(c){g.scrollTo("left",g.constrainScrollLeft(f.scrollLeft+c),b)}if(d){g.scrollTo("top",g.constrainScrollTop(f.scrollTop+d),b)}return g},scrollChildIntoView:function(b,c){Ext.fly(b).scrollIntoView(this,c)},scrollIntoView:function(d,f,b,c){d=Ext.getDom(d)||Ext.getBody().dom;return this.doScrollIntoView(d,f,b,c,"getScrollLeft","scrollTo")},scrollTo:function(b,k,j){var g=bp.test(b),l=this,d=g?"scrollTop":"scrollLeft",f=l.dom,c;if(!j||!l.anim){f[d]=k;f[d]=k}else{c={to:{}};c.to[d]=k;if(Ext.isObject(j)){Ext.applyIf(c,j)}l.animate(c)}return l},select:function(c,f){var d,b;if(typeof c==="string"){b=this.query(c,!f)}else{b=c;d=true}return f?new Ext.CompositeElement(b,!d):new Ext.CompositeElementLite(b,true)},selectNode:function(b,c){return this.query(b,c,true)},set:function(f,c){var j=this,d=j.dom,b,g;for(b in f){if(f.hasOwnProperty(b)){g=f[b];if(b==="style"){j.applyStyles(g)}else{if(b==="cls"){d.className=g}else{if(c!==false){if(g===undefined){d.removeAttribute(b)}else{d.setAttribute(b,g)}}else{d[b]=g}}}}}return j},setBottom:function(b){this.dom.style[aw]=bb.addUnits(b);return this},setCls:function(l){var j=this,b=j.getData(),c,k,g,f,d;if(!b.isSynchronized){j.synchronize()}if(typeof l==="string"){l=l.split(ay)}b.classList=d=l.slice();b.classMap=f={};for(c=0,k=d.length;c<k;c++){f[d[c]]=true}j.dom.className=d.join(" ")},setDisplayed:function(b){var c=this;if(typeof b==="boolean"){b=b?c._getDisplay():a2}c.setStyle(bo,b);if(c.shadow||c.shim){c.setUnderlaysVisible(b!==a2)}return c},setHeight:function(c){var b=this;b.dom.style[at]=bb.addUnits(c);if(b.shadow||b.shim){b.syncUnderlays()}return b},setHtml:function(b){if(this.dom){this.dom.innerHTML=b}return this},setId:function(f){var b=this,d=b.id,c=Ext.cache;if(d){delete c[d]}b.dom.id=f;b.id=f;c[f]=b;return b},setLeft:function(b){var c=this;c.dom.style[aE]=bb.addUnits(b);if(c.shadow||c.shim){c.syncUnderlays()}return c},setLocalX:function(d){var b=this,c=b.dom.style;c.right="auto";c.left=(d===null)?"auto":d+"px";if(b.shadow||b.shim){b.syncUnderlays()}return b},setLocalXY:function(d,f){var b=this,c=b.dom.style;c.right="auto";if(d&&d.length){f=d[1];d=d[0]}if(d===null){c.left="auto"}else{if(d!==undefined){c.left=d+"px"}}if(f===null){c.top="auto"}else{if(f!==undefined){c.top=f+"px"}}if(b.shadow||b.shim){b.syncUnderlays()}return b},setLocalY:function(b){var c=this;c.dom.style.top=(b===null)?"auto":b+"px";if(c.shadow||c.shim){c.syncUnderlays()}return c},setMargin:function(b){var c=this,d=c.dom.style;if(b||b===0){b=c.self.unitizeBox((b===true)?5:b);d.setProperty("margin",b,"important")}else{d.removeProperty("margin-top");d.removeProperty("margin-right");d.removeProperty("margin-bottom");d.removeProperty("margin-left")}},setMaxHeight:function(b){this.dom.style[aM]=bb.addUnits(b);return this},setMaxWidth:function(b){this.dom.style[ba]=bb.addUnits(b);return this},setMinHeight:function(b){this.dom.style[bm]=bb.addUnits(b);return this},setMinWidth:function(b){this.dom.style[aO]=bb.addUnits(b);return this},setOpacity:function(c){var b=this;if(b.dom){b.setStyle("opacity",c)}return b},setPadding:function(b){var c=this,d=c.dom.style;if(b||b===0){b=c.self.unitizeBox((b===true)?5:b);d.setProperty("padding",b,"important")}else{d.removeProperty("padding-top");d.removeProperty("padding-right");d.removeProperty("padding-bottom");d.removeProperty("padding-left")}},setRight:function(b){this.dom.style[aG]=bb.addUnits(b);return this},setScrollLeft:function(b){this.dom.scrollLeft=b;return this},setScrollTop:function(b){this.dom.scrollTop=b;return this},setSize:function(b,d){var f=this,c=f.dom.style;if(Ext.isObject(b)){d=b.height;b=b.width}c.width=bb.addUnits(b);c.height=bb.addUnits(d);if(f.shadow||f.shim){f.syncUnderlays()}return f},setSizeState:function(b){var c=this,f,d;if(b===true){f=aP;d=[av,aB]}else{if(b===false){f=av;d=[aP,aB]}else{if(b===null){f=aB;d=[aP,av]}else{d=[aP,av,aB]}}}if(f){c.addCls(f)}c.removeCls(d);return c},setStyle:function(d,j){var l=this,f=l.dom,g=l.styleHooks,b=f.style,c=d,k;if(typeof c==="string"){k=g[c];if(!k){g[c]=k={name:bb.normalize(c)}}j=(j==null)?"":j;if(k.set){k.set(f,j,l)}else{b[k.name]=j}if(k.afterSet){k.afterSet(f,j,l)}}else{for(c in d){if(d.hasOwnProperty(c)){k=g[c];if(!k){g[c]=k={name:bb.normalize(c)}}j=d[c];j=(j==null)?"":j;if(k.set){k.set(f,j,l)}else{b[k.name]=j}if(k.afterSet){k.afterSet(f,j,l)}}}}return l},setText:function(b){this.dom.textContent=b},setTop:function(b){var c=this;c.dom.style[a5]=bb.addUnits(b);if(c.shadow||c.shim){c.syncUnderlays()}return c},setTouchAction:function(b){Ext.dom.TouchAction.set(this.dom,b)},setUnderlaysVisible:function(d){var b=this.shadow,c=this.shim;if(b&&!b.disabled){if(d){b.show()}else{b.hide()}}if(c&&!c.disabled){if(d){c.show()}else{c.hide()}}},setVisibility:function(c){var b=this.dom.style;if(c){b.removeProperty("visibility")}else{b.setProperty("visibility","hidden","important")}},setVisibilityMode:function(b){this.getData().visibilityMode=b;return this},setVisible:function(b){var d=this,c=d.getVisibilityMode(),f=b?"removeCls":"addCls";switch(c){case bb.DISPLAY:d.removeCls([aJ,bf,br]);d[f](aN);break;case bb.VISIBILITY:d.removeCls([aN,bf,br]);d[f](aJ);break;case bb.OFFSETS:d.removeCls([aJ,aN,br]);d[f](bf);break;case bb.CLIP:d.removeCls([aJ,aN,bf]);d[f](br);break}if(d.shadow||d.shim){d.setUnderlaysVisible(b)}return d},setWidth:function(c){var b=this;b.dom.style[bi]=bb.addUnits(c);if(b.shadow||b.shim){b.syncUnderlays()}return b},setX:function(b){return this.setXY([b,false])},setXY:function(b){var c=this,g=c.translatePoints(b),d=c.dom.style,f;c.position();d.right="auto";for(f in g){if(!isNaN(g[f])){d[f]=g[f]+"px"}}if(c.shadow||c.shim){c.syncUnderlays()}return c},setY:function(b){return this.setXY([false,b])},setZIndex:function(c){var b=this;if(b.shadow){b.shadow.setZIndex(c)}if(b.shim){b.shim.setZIndex(c)}return b.setStyle("z-index",c)},show:function(){this.setVisible(true);return this},swapCls:function(c,d,g,j){if(g===undefined){g=true}var k=this,f=g?c:d,b=g?d:c;if(b){k.removeCls(j?j+"-"+b:b)}if(f){k.addCls(j?j+"-"+f:f)}return k},synchronize:function(){var m=this,f=m.dom,l={},b=f.className,j,d,c,k,g=m.getData();if(b&&b.length>0){j=f.className.split(aK);for(d=0,c=j.length;d<c;d++){k=j[d];l[k]=true}}else{j=[]}g.classList=j;g.classMap=l;g.isSynchronized=true;return m},syncUnderlays:function(){var f=this,m=f.shadow,k=f.shim,j=f.dom,l,c,d,b,g;if(f.isVisible()){l=f.getXY();c=l[0];d=l[1];b=j.offsetWidth;g=j.offsetHeight;if(m&&!m.hidden){m.realign(c,d,b,g)}if(k&&!k.hidden){k.realign(c,d,b,g)}}},toggleCls:function(c,b){if(typeof b!=="boolean"){b=!this.hasCls(c)}return b?this.addCls(c):this.removeCls(c)},toggle:function(){this.setVisible(!this.isVisible());return this},translate:function(){var b="webkitTransform" in e.createElement("div").style?"webkitTransform":"transform";return function(d,f,c){d=Math.round(d);f=Math.round(f);c=Math.round(c);this.dom.style[b]="translate3d("+(d||0)+"px, "+(f||0)+"px, "+(c||0)+"px)"}}(),unwrap:function(){var f=this.dom,c=f.parentNode,l,j=Ext.fly(Ext.Element.getActiveElement()),k,b,d,g;k=Ext.cache[j.id];if(k){j=k}if(this.contains(j)){if(k){k.suspendFocusEvents()}b=true}if(c){l=c.parentNode;if(b){g=l.getAttribute("tabIndex");d=Ext.fly(l);d.set({tabIndex:-1});d.suspendFocusEvents();d.focus()}l.insertBefore(f,c);l.removeChild(c)}else{l=e.createDocumentFragment();l.appendChild(f)}if(b){if(k){k.focus();k.resumeFocusEvents()}else{Ext.fly(j).focus()}if(d){d.resumeFocusEvents();d.set({tabIndex:g})}}return this},up:function(b,d,c){return this.findParentNode(b,d,!c)},update:function(b){return this.setHtml(b)},wrap:function(f,k,b){var l=this,o=l.dom,c=Ext.DomHelper.insertBefore(o,f||{tag:"div"},!k),n=c,g=Ext.Element.getActiveElement(),d,j,m;d=Ext.cache[g.id];if(d){g=d}if(b){n=c.selectNode(b,k)}if(l.contains(g)){if(d){d.suspendFocusEvents()}m=c.dom.getAttribute("tabIndex");c.set({tabIndex:-1});c.suspendFocusEvents();c.focus();j=true}n.appendChild(o);if(j){if(d){d.focus();d.resumeFocusEvents()}else{Ext.fly(g).focus()}c.resumeFocusEvents();c.set({tabIndex:m})}return c},privates:{doAddListener:function(u,o,l,g,f,n,d){var p=this,m=Ext.$gesturePublisher,s=u,k=Ext.supports,r=k.TouchEvents,j=k.PointerEvents,c,b,q;u=Ext.canonicalEventName(u);if(!p.blockedEvents[u]){c=p.mixins.observable.doAddListener;g=g||{};if(bb.useDelegatedEvents===false){g.delegated=g.delegated||false}if(g.translate!==false){b=p.additiveEvents[u];if(b){g.type=u;u=b;c.call(p,u,o,l,g,f,n,d)}q=p.eventMap[u];if(q){g.type=g.type||u;if(d){g.managedName=s}u=q}}if(c.call(p,u,o,l,g,f,n,d)){if(p.longpressEvents[u]&&(++p.longpressListenerCount===1)){p.on("MSHoldVisual","preventMsHoldVisual",p)}}if(d&&q){delete g.managedName}delete g.type}},doRemoveListener:function(d,n,l){var p=this,m=Ext.$gesturePublisher,j=Ext.supports,o=j.TouchEvents,k=j.PointerEvents,g,q,f,b,c;d=Ext.canonicalEventName(d);if(!p.blockedEvents[d]){g=p.mixins.observable.doRemoveListener;f=p.additiveEvents[d];if(f){d=f;g.call(p,d,n,l)}q=p.eventMap[d];if(q){c=g.call(p,q,n,l)}c=g.call(p,d,n,l)||c;if(c){if(p.longpressEvents[d]&&!--p.longpressListenerCount){p.un("MSHoldVisual","preventMsHoldVisual",p)}}}},_initEvent:function(b){return(this.events[b]=new Ext.dom.ElementEvent(this,b))},_getDisplay:function(){var c=this.getData(),b=c[a1];if(b===undefined){c[a1]=b=""}return b},_getPublisher:function(d){var b=Ext.event.publisher.Publisher,c=b.publishersByEvent[d];if(!c||(this.dom===window&&d==="resize")){c=b.publishers.dom}return c},isFocusSuspended:function(){return !!this.getData().suspendFocusEvents},preventMsHoldVisual:function(b){b.preventDefault()},suspendFocusEvents:function(){if(!this.isFly){this.suspendEvent("focus","blur")}this.getData().suspendFocusEvents=true},resumeFocusEvents:function(){function b(){var c;if(!this.destroyed){c=this.getData();if(c){c.suspendFocusEvents=false}if(!this.isFly){this.resumeEvent("focus","blur")}}}if(!this.destroyed&&this.getData().suspendFocusEvents){if(Ext.isIE){Ext.asap(b,this)}else{b.call(this)}}}},deprecated:{"5.0":{methods:{cssTranslate:null,getHTML:"getHtml",getOuterHeight:null,getOuterWidth:null,getPageBox:function(g){var c=this,f=c.dom,o=f.nodeName==="BODY",n=o?bb.getViewportWidth():f.offsetWidth,d=o?bb.getViewportHeight():f.offsetHeight,k=c.getXY(),l=k[1],m=k[0]+n,b=k[1]+d,j=k[0];if(g){return new Ext.util.Region(l,m,b,j)}else{return{left:j,top:l,width:n,height:d,right:m,bottom:b}}},getScrollParent:null,isDescendent:null,isTransparent:function(b){var c=this.getStyle(b);return c?bq.test(c):false},purgeAllListeners:"clearListeners",removeAllListeners:"clearListeners",setHTML:"setHtml",setTopLeft:null}}}}},1,0,0,0,0,[[Ext.util.Positionable.prototype.mixinId||Ext.util.Positionable.$className,Ext.util.Positionable],[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.dom,"Element",Ext,"Element"],function(V){var ap=document,ak=ap.documentElement,ae=V.prototype,aa=Ext.supports,M="pointerdown",am="pointermove",ao="pointerup",an="pointercancel",ai="MSPointerDown",ac="MSPointerMove",U="MSPointerUp",aq="MSPointerCancel",P="mousedown",W="mousemove",N="mouseup",L="mouseover",O="mouseout",Y="mouseenter",al="mouseleave",ab="touchstart",af="touchmove",T="touchend",aj="touchcancel",S="click",ah="dblclick",ad="tap",R="doubletap",ag=ae.eventMap={},Q=ae.additiveEvents={},Z=Ext.id,X;Ext.id=function(e,f){var b=Ext.getDom(e,true),d,c;if(!b){c=Z(e,f)}else{if(!(c=b.id)){c=Z(null,f||V.prototype.identifiablePrefix);if(Ext.isSandboxed){d=Ext.sandboxPrefix||(Ext.sandboxPrefix=Ext.sandboxName.toLowerCase()+"-");c=d+c}b.id=c}}return c};if(aa.PointerEvents){ag[P]=M;ag[W]=am;ag[N]=ao;ag[ab]=M;ag[af]=am;ag[T]=ao;ag[aj]=an;ag[L]="pointerover";ag[O]="pointerout";ag[Y]="pointerenter";if(!Ext.isIE11){ag[al]="pointerleave"}}else{if(aa.MSPointerEvents){ag[M]=ai;ag[am]=ac;ag[ao]=U;ag[an]=aq;ag[P]=ai;ag[W]=ac;ag[N]=U;ag[ab]=ai;ag[af]=ac;ag[T]=U;ag[aj]=aq;ag[L]="MSPointerOver";ag[O]="MSPointerOut"}else{if(aa.TouchEvents){ag[M]=ab;ag[am]=af;ag[ao]=T;ag[an]=aj;ag[P]=ab;ag[W]=af;ag[N]=T;ag[S]=ad;ag[ah]=R;if(Ext.isWebKit&&Ext.os.is.Desktop){ag[ab]=P;ag[af]=W;ag[T]=N;ag[aj]=N;Q[P]=P;Q[W]=W;Q[N]=N;Q[ab]=ab;Q[af]=af;Q[T]=T;Q[aj]=aj;Q[M]=P;Q[am]=W;Q[ao]=N;Q[an]=N}}else{ag[M]=P;ag[am]=W;ag[ao]=N;ag[an]=N;ag[ab]=P;ag[af]=W;ag[T]=N;ag[aj]=N}}}if(Ext.isWebKit){ag.transitionend=Ext.browser.getVendorProperyName("transitionEnd");ag.animationstart=Ext.browser.getVendorProperyName("animationStart");ag.animationend=Ext.browser.getVendorProperyName("animationEnd")}if(!Ext.supports.MouseWheel&&!Ext.isOpera){ag.mousewheel="DOMMouseScroll"}X=ae.$eventOptions=Ext.Object.chain(ae.$eventOptions);X.translate=X.capture=X.delegate=X.delegated=X.stopEvent=X.preventDefault=X.stopPropagation=X.element=1;ae.styleHooks.opacity={name:"opacity",afterSet:function(d,e,b){var c=b.shadow;if(c){c.setOpacity(e)}}};ae.getTrueXY=ae.getXY;Ext.select=V.select;Ext.query=V.query;Ext.apply(Ext,{get:function(b){return V.get(b)},getDom:function(b){if(!b||!ap){return null}return typeof b==="string"?Ext.getElementById(b):"dom" in b?b.dom:b},getBody:function(){if(!Ext._bodyEl){if(!ap.body){throw new Error("[Ext.getBody] document.body does not yet exist")}Ext._bodyEl=Ext.get(ap.body)}return Ext._bodyEl},getHead:function(){if(!Ext._headEl){Ext._headEl=Ext.get(ap.head||ap.getElementsByTagName("head")[0])}return Ext._headEl},getDoc:function(){if(!Ext._docEl){Ext._docEl=Ext.get(ap)}return Ext._docEl},getWin:function(){if(!Ext._winEl){Ext._winEl=Ext.get(window)}return Ext._winEl},removeNode:function(d){d=d.dom||d;var c=d&&d.id,e=Ext.cache[c],b;if(e){e.destroy()}else{if(d&&(d.nodeType===3||d.tagName.toUpperCase()!=="BODY")){b=d.parentNode;if(b){b.removeChild(d)}}}}});Ext.isGarbage=function(b){return b&&b.nodeType===1&&b.tagName!=="BODY"&&b.tagName!=="HTML"&&(!b.parentNode||(b.offsetParent===null&&((Ext.isIE8?ap.all[b.id]:ap.getElementById(b.id))!==b)&&!(Ext.detachedBodyEl&&Ext.detachedBodyEl.isAncestor(b))))};if(Ext.os.is.Android||(Ext.os.is.Windows&&Ext.supports.Touch)){Ext.onReady(function(){var b=Ext.getWin();V._documentWidth=V._viewportWidth=ak.clientWidth;V._documentHeight=V._viewportHeight=ak.clientHeight;b.on({focusin:"_onWindowFocusChange",focusout:"_onWindowFocusChange",pointerup:"_onWindowFocusChange",capture:true,delegated:false,delay:1,scope:V});b.on({resize:"_onWindowResize",priority:2000,scope:V})})}}));(Ext.cmd.derive("Ext.util.Filter",Ext.Base,{isFilter:true,config:{property:null,value:null,filterFn:null,id:null,anyMatch:false,exactMatch:false,caseSensitive:false,disabled:false,disableOnEmpty:false,operator:null,root:null,serializer:null,convert:null},scope:null,$configStrict:false,statics:{createFilterFn:function(c){if(!c){return Ext.returnTrue}return function(k){var o=c.isCollection?c.items:c,b=o.length,n=true,m,l;for(m=0;n&&m<b;m++){l=o[m];if(!l.getDisabled()){n=l.filter(k)}}return n}},isEqual:function(e,d){if(e.getProperty()!==d.getProperty()){return false}if(e.getOperator()!==d.getOperator()){return false}if(e.getValue()===d.getValue()){return true}else{if(Ext.isArray(e)&&Ext.isArray(d)&&Ext.Array.equals(e,d)){return true}}return false},isInvalid:function(c){if(!c.filterFn){if(!c.property){return"A Filter requires either a property or a filterFn to be set"}if(!c.hasOwnProperty("value")&&!c.operator){return"A Filter requires either a property and value, or a filterFn to be set"}}return false}},constructor:function(c){this.initConfig(c)},preventConvert:{"in":1,notin:1},filter:function(m){var g=this,j=g._filterFn||g.getFilterFn(),k=g.getConvert(),l=g._value;g._filterValue=l;g.isDateValue=Ext.isDate(l);if(g.isDateValue){g.dateValue=l.getTime()}if(k&&!g.preventConvert[g.getOperator()]){g._filterValue=k.call(g.scope||g,l)}return j.call(g.scope||g,m)},getId:function(){var c=this._id;if(!c){c=this.getProperty();if(!c){c=Ext.id(null,"ext-filter-")}this._id=c}return c},getFilterFn:function(){var g=this,f=g._filterFn,e;if(!f){e=g.getOperator();if(e){f=g.operatorFns[e]}else{f=g.createRegexFilter()}g._filterFn=f;g.generatedFilterFn=true}return f},createRegexFilter:function(){var m=this,j=!!m.getAnyMatch(),g=!!m.getExactMatch(),l=m.getValue(),k=Ext.String.createRegex(l,!j,!j&&g,!m.getCaseSensitive());return function(c){var b=m.getPropertyValue(c);return k?k.test(b):(b==null)}},getPropertyValue:function(g){var e=this._root,f=(e==null)?g:g[e];return f[this._property]},getState:function(){var f=this.getInitialConfig(),e={},g;for(g in f){if(f.hasOwnProperty(g)){e[g]=f[g]}}delete e.root;e.value=this.getValue();return e},getScope:function(){return this.scope},serialize:function(){var e=this.getState(),g=this.getSerializer(),f;delete e.id;delete e.serializer;if(g){f=g.call(this,e);if(f){e=f}}return e},updateOperator:function(){if(this.generatedFilterFn){this._filterFn=null}},updateValue:function(c){if(this.generatedFilterFn){this._filterFn=null}if(this.getDisableOnEmpty()){this.setDisabled(Ext.isEmpty(c))}},updateFilterFn:function(c){delete this.generatedFilterFn},updateDisableOnEmpty:function(c){if(c){this.setDisabled(Ext.isEmpty(this.getValue()))}},privates:{getCandidateValue:function(n,o,l){var m=this,k=m._convert,j=m.getPropertyValue(n);if(k){j=k.call(m.scope||m,j)}else{if(!l){j=Ext.coerce(j,o)}}return j}}},1,0,0,0,0,0,[Ext.util,"Filter"],function(){var d=this.prototype,e=(d.operatorFns={"<":function(b){var c=this._filterValue;return this.getCandidateValue(b,c)<c},"<=":function(b){var c=this._filterValue;return this.getCandidateValue(b,c)<=c},"=":function(c){var b=this,g=b._filterValue;c=b.getCandidateValue(c,g);if(b.isDateValue&&c instanceof Date){c=c.getTime();g=b.dateValue}return c==g},"===":function(c){var b=this,g=b._filterValue;c=b.getCandidateValue(c,g,true);if(b.isDateValue&&c instanceof Date){c=c.getTime();g=b.dateValue}return c===g},">=":function(b){var c=this._filterValue;return this.getCandidateValue(b,c)>=c},">":function(b){var c=this._filterValue;return this.getCandidateValue(b,c)>c},"!=":function(c){var b=this,g=b._filterValue;c=b.getCandidateValue(c,g);if(b.isDateValue&&c instanceof Date){c=c.getTime();g=b.dateValue}return c!=g},"!==":function(c){var b=this,g=b._filterValue;c=b.getCandidateValue(c,g,true);if(b.isDateValue&&c instanceof Date){c=c.getTime();g=b.dateValue}return c!==g},"in":function(b){var c=this._filterValue;return Ext.Array.contains(c,this.getCandidateValue(b,c))},notin:function(b){var c=this._filterValue;return !Ext.Array.contains(c,this.getCandidateValue(b,c))},like:function(b){var c=this._filterValue;return c&&this.getCandidateValue(b,c).toLowerCase().indexOf(c.toLowerCase())>-1},"/=":function(k){var c=this,l=c._filterValue;k=c.getCandidateValue(k,l);if(l!==c.lastRegExpSource){c.lastRegExpSource=l;try{c.regex=new RegExp(l,"i")}catch(b){c.regex=null}}return c.regex?c.regex.test(k):false}});e["=="]=e["="];e.gt=e[">"];e.ge=e[">="];e.lt=e["<"];e.le=e["<="];e.eq=e["="];e.ne=e["!="]}));(Ext.cmd.derive("Ext.util.Observable",Ext.mixin.Observable,{$applyConfigs:true},0,0,0,0,0,0,[Ext.util,"Observable"],function(d){var e=Ext.mixin.Observable;d.releaseCapture=e.releaseCapture;d.capture=e.capture;d.captureArgs=e.captureArgs;d.observe=d.observeClass=e.observe}));(Ext.cmd.derive("Ext.util.AbstractMixedCollection",Ext.Base,{isMixedCollection:true,generation:0,indexGeneration:0,constructor:function(g,e){var f=this;if(arguments.length===1&&Ext.isObject(g)){f.initialConfig=g;Ext.apply(f,g)}else{f.allowFunctions=g===true;if(e){f.getKey=e}f.initialConfig={allowFunctions:f.allowFunctions,getKey:f.getKey}}f.items=[];f.map={};f.keys=[];f.indexMap={};f.length=0;f.mixins.observable.constructor.call(f)},destroy:function(){var c=this;c.items=c.map=c.keys=c.indexMap=null;c.callParent()},allowFunctions:false,add:function(j,g){var f=this.length,k;if(arguments.length===1){k=this.insert(f,j)}else{k=this.insert(f,j,g)}return k},getKey:function(c){return c.id},replace:function(l,j){var k=this,g,m;if(arguments.length==1){j=arguments[0];l=k.getKey(j)}g=k.map[l];if(typeof l=="undefined"||l===null||typeof g=="undefined"){return k.add(l,j)}k.generation++;m=k.indexOfKey(l);k.items[m]=j;k.map[l]=j;if(k.hasListeners.replace){k.fireEvent("replace",l,g,j)}return j},reorder:function(q){var n=this,s=n.items,r=0,o=s.length,l=[],p=[],m;n.suspendEvents();for(m in q){l[q[m]]=s[m]}for(r=0;r<o;r++){if(q[r]==undefined){p.push(s[r])}}for(r=0;r<o;r++){if(l[r]==undefined){l[r]=p.shift()}}n.clear();n.addAll(l);n.resumeEvents()},updateKey:function(m,l){var o=this,n=o.map,k=o.indexOfKey(m),p=o.indexMap,q;if(k>-1){q=n[m];delete n[m];delete p[m];n[l]=q;p[l]=k;o.keys[k]=l;o.indexGeneration=++o.generation}},addAll:function(f){var g=this,e;if(arguments.length>1||Ext.isArray(f)){g.insert(g.length,arguments.length>1?arguments:f)}else{for(e in f){if(f.hasOwnProperty(e)){if(g.allowFunctions||typeof f[e]!="function"){g.add(e,f[e])}}}}},each:function(l,m){var o=Ext.Array.push([],this.items),n=0,j=o.length,k;for(;n<j;n++){k=o[n];if(l.call(m||k,k,n,j)===false){break}}},eachKey:function(l,m){var k=this.keys,o=this.items,n=0,j=k.length;for(;n<j;n++){l.call(m||window,k[n],o[n],n,j)}},findBy:function(l,m){var k=this.keys,o=this.items,n=0,j=o.length;for(;n<j;n++){if(l.call(m||window,o[n],k[n])){return o[n]}}return null},insert:function(k,j,g){var f;if(Ext.isIterable(j)){f=this.doInsert(k,j,g)}else{if(arguments.length>2){f=this.doInsert(k,[j],[g])}else{f=this.doInsert(k,[j])}f=f[0]}return f},doInsert:function(B,v,w){var y=this,H,G,D,A=v.length,I=A,E=y.hasListeners.add,F,C={},x,s,u;if(w!=null){y.useLinearSearch=true}else{w=v;v=new Array(A);for(D=0;D<A;D++){v[D]=this.getKey(w[D])}}y.suspendEvents();for(D=0;D<A;D++){H=v[D];G=y.indexOfKey(H);if(G!==-1){if(G<B){B--}y.removeAt(G)}if(H!=null){if(C[H]!=null){x=true;I--}C[H]=D}}y.resumeEvents();if(x){s=v;u=w;v=new Array(I);w=new Array(I);D=0;for(H in C){v[D]=s[C[H]];w[D]=u[C[H]];D++}A=I}F=B===y.length&&y.indexGeneration===y.generation;Ext.Array.insert(y.items,B,w);Ext.Array.insert(y.keys,B,v);y.length+=A;y.generation++;if(F){y.indexGeneration=y.generation}for(D=0;D<A;D++,B++){H=v[D];if(H!=null){y.map[H]=w[D];if(F){y.indexMap[H]=B}}if(E){y.fireEvent("add",B,w[D],H)}}return w},remove:function(g){var j=this,k,f;if(!j.useLinearSearch&&(k=j.getKey(g))){f=j.indexOfKey(k)}else{f=Ext.Array.indexOf(j.items,g)}return(f===-1)?false:j.removeAt(f)},removeAll:function(e){var f=this,g;if(e||f.hasListeners.remove){if(e){for(g=e.length-1;g>=0;--g){f.remove(e[g])}}else{while(f.length){f.removeAt(0)}}}else{f.length=f.items.length=f.keys.length=0;f.map={};f.indexMap={};f.generation++;f.indexGeneration=f.generation}},removeAt:function(f){var j=this,g,k;if(f<j.length&&f>=0){j.length--;g=j.items[f];Ext.Array.erase(j.items,f,1);k=j.keys[f];if(typeof k!="undefined"){delete j.map[k]}Ext.Array.erase(j.keys,f,1);if(j.hasListeners.remove){j.fireEvent("remove",g,k)}j.generation++;return g}return false},removeRange:function(o,v){var n=this,u,m,p,q,s,r;if(o<n.length&&o>=0){if(!v){v=1}q=Math.min(o+v,n.length);v=q-o;r=q===n.length;s=r&&n.indexGeneration===n.generation;for(p=o;p<q;p++){m=n.keys[p];if(m!=null){delete n.map[m];if(s){delete n.indexMap[m]}}}u=n.items[p-1];n.length-=v;n.generation++;if(s){n.indexGeneration=n.generation}if(r){n.items.length=n.keys.length=n.length}else{n.items.splice(o,v);n.keys.splice(o,v)}return u}return false},removeAtKey:function(k){var g=this,j=g.keys,f;if(k==null){for(f=j.length-1;f>=0;f--){if(j[f]==null){g.removeAt(f)}}}else{return g.removeAt(g.indexOfKey(k))}},getCount:function(){return this.length},indexOf:function(f){var g=this,e;if(f!=null){if(!g.useLinearSearch&&(e=g.getKey(f))){return this.indexOfKey(e)}return Ext.Array.indexOf(g.items,f)}return -1},indexOfKey:function(c){if(!this.map.hasOwnProperty(c)){return -1}if(this.indexGeneration!==this.generation){this.rebuildIndexMap()}return this.indexMap[c]},rebuildIndexMap:function(){var j=this,k=j.indexMap={},l=j.keys,g=l.length,m;for(m=0;m<g;m++){k[l[m]]=m}j.indexGeneration=j.generation},get:function(k){var g=this,f=g.map[k],j=f!==undefined?f:(typeof k=="number")?g.items[k]:undefined;return typeof j!="function"||g.allowFunctions?j:null},getAt:function(c){return this.items[c]},getByKey:function(c){return this.map[c]},contains:function(f){var g=this,e;if(f!=null){if(!g.useLinearSearch&&(e=g.getKey(f))){return this.map[e]!=null}return Ext.Array.indexOf(this.items,f)!==-1}return false},containsKey:function(c){return this.map.hasOwnProperty(c)},clear:function(){var c=this;if(c.generation){c.length=0;c.items=[];c.keys=[];c.map={};c.indexMap={};c.generation++;c.indexGeneration=c.generation}if(c.hasListeners.clear){c.fireEvent("clear")}},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(n,s,m,l){var r=this.extractValues(n,s),o=r.length,p=0,q;m=m||0;l=(l||l===0)?l:o-1;for(q=m;q<=l;q++){p+=r[q]}return p},collect:function(o,s,q){var n=this.extractValues(o,s),x=n.length,w={},v=[],p,r,u;for(u=0;u<x;u++){p=n[u];r=String(p);if((q||!Ext.isEmpty(p))&&!w[r]){w[r]=true;v.push(p)}}return v},extractValues:function(f,e){var g=this.items;if(e){g=Ext.Array.pluck(g,e)}return Ext.Array.pluck(g,f)},hasRange:function(e,d){return(d<this.length)},getRange:function(m,s){var n=this,q=n.items,r=[],l=q.length,o,p;if(l<1){return r}if(m>s){p=true;o=m;m=s;s=o}if(m<0){m=0}if(s==null||s>=l){s=l-1}r=q.slice(m,s+1);if(p&&r.length){r.reverse()}return r},filter:function(k,l,j,g){var m=[];if(Ext.isString(k)){m.push(new Ext.util.Filter({property:k,value:l,anyMatch:j,caseSensitive:g}))}else{if(Ext.isArray(k)||k instanceof Ext.util.Filter){m=m.concat(k)}}return this.filterBy(Ext.util.Filter.createFilterFn(m))},filterBy:function(p,q){var m=this,l=new m.self(m.initialConfig),n=m.keys,s=m.items,o=s.length,r;l.getKey=m.getKey;for(r=0;r<o;r++){if(p.call(q||m,s[r],n[r])){l.add(n[r],s[r])}}l.useLinearSearch=m.useLinearSearch;return l},findIndex:function(l,m,j,k,g){if(Ext.isEmpty(m,false)){return -1}m=this.createValueMatcher(m,k,g);return this.findIndexBy(function(b){return b&&m.test(b[l])},null,j)},findIndexBy:function(p,q,m){var n=this,o=n.keys,s=n.items,r=m||0,l=s.length;for(;r<l;r++){if(p.call(q||n,s[r],o[r])){return r}}return -1},createValueMatcher:function(l,j,g,m){if(!l.exec){var k=Ext.String.escapeRegex;l=String(l);if(j===true){l=k(l)}else{l="^"+k(l);if(m===true){l+="$"}}l=new RegExp(l,g?"":"i")}return l},clone:function(){var d=this,e=new d.self(d.initialConfig);e.add(d.keys,d.items);e.useLinearSearch=d.useLinearSearch;return e}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.util,"AbstractMixedCollection"],0));(Ext.cmd.derive("Ext.util.Sorter",Ext.Base,{isSorter:true,config:{property:null,sorterFn:null,root:null,transform:null,direction:"ASC",id:undefined},statics:{createComparator:function(e,d){d=d||0;return function(o,b){var m=e.isCollection?e.items:e,c=m.length,n,l;for(l=0;l<c;++l){n=m[l].sort(o,b);if(n){return n}}return d&&d(o,b)}}},multiplier:1,constructor:function(c){this.initConfig(c)},getId:function(){var c=this._id;if(!c){c=this.getProperty();if(!c){c=Ext.id(null,"ext-sorter-")}this._id=c}return c},sort:function(d,e){return this.multiplier*this.sortFn(d,e)},sortFn:function(q,r){var o=this,p=o._transform,s=o._root,n=o._property,l,m;if(s){q=q[s];r=r[s]}l=q[n];m=r[n];if(p){l=p(l);m=p(m)}return(l>m)?1:(l<m?-1:0)},applyDirection:function(c){return c?c:"ASC"},updateDirection:function(c){this.multiplier=(c.toUpperCase()==="DESC")?-1:1},updateProperty:function(c){if(c){delete this.sortFn}},updateSorterFn:function(c){this.sortFn=c},toggle:function(){this.setDirection(Ext.String.toggle(this.getDirection(),"ASC","DESC"))},getState:function(){var e=this,d={root:e.getRoot(),property:e.getProperty(),direction:e.getDirection()};if(e._id){d.id=e._id}return d},serialize:function(){return{property:this.getProperty(),direction:this.getDirection()}}},1,0,0,0,0,0,[Ext.util,"Sorter"],0));(Ext.cmd.derive("Ext.util.Sortable",Ext.Base,{isSortable:true,$configPrefixed:false,$configStrict:false,config:{sorters:null},defaultSortDirection:"ASC",multiSortLimit:3,statics:{createComparator:function(c){return c&&c.length?function(k,l){var m=c[0].sort(k,l),b=c.length,j=1;for(;!m&&j<b;j++){m=c[j].sort.call(c[j],k,l)}return m}:function(){return 0}}},applySorters:function(f){var g=this,e=g.getSorters()||new Ext.util.MixedCollection(false,Ext.returnId);if(f){e.addAll(g.decodeSorters(f))}return e},sort:function(n,o,l,p){var s=this,m,q,r=s.getSorters();if(!r){s.setSorters(null);r=s.getSorters()}if(Ext.isArray(n)){p=l;l=o}else{if(Ext.isObject(n)){n=[n];p=l;l=o}else{if(Ext.isString(n)){m=r.get(n);if(!m){m={property:n,direction:o}}else{if(o==null){m.toggle()}else{m.setDirection(o)}}n=[m]}}}if(n&&n.length){n=s.decodeSorters(n);switch(l){case"multi":r.insert(0,n[0]);q=r.getCount()-s.multiSortLimit;if(q>0){r.removeRange(s.multiSortLimit,q)}break;case"prepend":r.insert(0,n);break;case"append":r.addAll(n);break;case undefined:case null:case"replace":r.clear();r.addAll(n);break;default:}}if(p!==false){s.fireEvent("beforesort",s,n);s.onBeforeSort(n);if(s.getSorterCount()){s.doSort(s.generateComparator())}}return n},getSorterCount:function(){return this.getSorters().items.length},generateComparator:function(){var c=this.getSorters().getRange();return c.length?this.createComparator(c):this.emptyComparator},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,decodeSorters:function(m){if(!Ext.isArray(m)){if(m===undefined){m=[]}else{m=[m]}}var o=m.length,l=Ext.util.Sorter,q=this.getModel?this.getModel():this.model,n,k,p;for(p=0;p<o;p++){k=m[p];if(!(k instanceof l)){if(Ext.isString(k)){k={property:k}}Ext.applyIf(k,{root:this.sortRoot,direction:"ASC"});if(k.fn){k.sorterFn=k.fn}if(typeof k=="function"){k={sorterFn:k}}if(q&&!k.transform){n=q.getField(k.property);k.transform=n&&n.sortType!==Ext.identityFn?n.sortType:undefined}m[p]=new Ext.util.Sorter(k)}}return m},getFirstSorter:function(){var j=this.getSorters().items,f=j.length,k=0,g;for(;k<f;++k){g=j[k];if(!g.isGrouper){return g}}return null}},0,0,0,0,0,0,[Ext.util,"Sortable"],function(){this.prototype.createComparator=this.createComparator}));(Ext.cmd.derive("Ext.util.MixedCollection",Ext.util.AbstractMixedCollection,{constructor:function(){this.initConfig();Ext.util.AbstractMixedCollection.prototype.constructor.apply(this,arguments)},doSort:function(c){this.sortBy(c)},_sort:function(o,y,q){var r=this,w,v,x=String(y).toUpperCase()=="DESC"?-1:1,s=[],c=r.keys,u=r.items,A;q=q||function(b,d){return b-d};for(w=0,v=u.length;w<v;w++){s[s.length]={key:c[w],value:u[w],index:w}}Ext.Array.sort(s,function(b,d){return q(b[o],d[o])*x||(b.index<d.index?-1:1)});for(w=0,v=s.length;w<v;w++){A=s[w];u[w]=A.value;c[w]=A.key;r.indexMap[A.key]=w}r.generation++;r.indexGeneration=r.generation;r.fireEvent("sort",r)},sortBy:function(s){var m=this,l=m.items,n,o=m.keys,q,p=l.length,r;for(r=0;r<p;r++){l[r].$extCollectionIndex=r}Ext.Array.sort(l,function(b,c){return s(b,c)||(b.$extCollectionIndex<c.$extCollectionIndex?-1:1)});for(r=0;r<p;r++){n=l[r];q=m.getKey(n);o[r]=q;m.indexMap[q]=r;delete n.$extCollectionIndex}m.generation++;m.indexGeneration=m.generation;m.fireEvent("sort",m,l,o)},findInsertionIndex:function(p,q){var o=this,s=o.items,m=0,l=s.length-1,r,n;if(!q){q=o.generateComparator()}while(m<=l){r=(m+l)>>1;n=q(p,s[r]);if(n>=0){m=r+1}else{if(n<0){l=r-1}}}return m},reorder:function(c){Ext.util.AbstractMixedCollection.prototype.reorder.call(this,c);this.fireEvent("sort",this)},sortByKey:function(d,e){this._sort("key",d,e||function(j,k){var b=String(j).toUpperCase(),c=String(k).toUpperCase();return b>c?1:(b<c?-1:0)})}},1,0,0,0,0,[["sortable",Ext.util.Sortable]],[Ext.util,"MixedCollection"],0));(Ext.cmd.derive("Ext.util.TaskRunner",Ext.Base,{interval:10,timerId:null,constructor:function(d){var e=this;if(typeof d=="number"){e.interval=d}else{if(d){Ext.apply(e,d)}}e.tasks=[];e.timerFn=Ext.Function.bind(e.onTick,e)},newTask:function(e){var d=new Ext.util.TaskRunner.Task(e);d.manager=this;return d},start:function(e){var f=this,g=Ext.Date.now();if(!e.pending){f.tasks.push(e);e.pending=true}e.stopped=false;e.taskStartTime=g;e.taskRunTime=e.fireOnStart!==false?0:e.taskStartTime;e.taskRunCount=0;if(!f.firing){if(e.fireOnStart!==false){f.startTimer(0,g)}else{f.startTimer(e.interval,g)}}return e},stop:function(c){if(!c.stopped){c.stopped=true;if(c.onStop){c.onStop.call(c.scope||c,c)}}return c},stopAll:function(){Ext.each(this.tasks,this.stop,this)},firing:false,nextExpires:1e+99,onTick:function(){var v=this,E=v.tasks,K=v.fireIdleEvent,J=Ext.Date.now(),u=1e+99,A=E.length,G=Ext.GlobalEvents,H,w,C,I,F,D,x;v.timerId=null;v.firing=true;for(C=0;C<A||C<(A=E.length);++C){I=E[C];if(!(D=I.stopped)){H=I.taskRunTime+I.interval;if(H<=J){F=1;if(I.hasOwnProperty("fireIdleEvent")){K=I.fireIdleEvent}else{K=v.fireIdleEvent}I.taskRunCount++;if(I.args){x=I.addCountToArgs?I.args.concat([I.taskRunCount]):I.args}else{x=[I.taskRunCount]}try{F=I.run.apply(I.scope||I,x)}catch(B){try{if(I.onError){F=I.onError.call(I.scope||I,I,B)}}catch(y){}}I.taskRunTime=J;if(F===false||I.taskRunCount===I.repeat){v.stop(I);D=true}else{D=I.stopped;H=J+I.interval}}if(!D&&I.duration&&I.duration<=(J-I.taskStartTime)){v.stop(I);D=true}}if(D){I.pending=false;if(!w){w=E.slice(0,C)}}else{if(w){w.push(I)}if(u>H){u=H}}}if(w){v.tasks=w}v.firing=false;if(v.tasks.length){v.startTimer(u-J,Ext.Date.now())}if(K!==false&&G.hasListeners.idle){G.fireEvent("idle")}},startTimer:function(j,l){var k=this,m=l+j,g=k.timerId;if(g&&k.nextExpires-m>k.interval){clearTimeout(g);g=null}if(!g){if(j<k.interval){j=k.interval}k.timerId=Ext.defer(k.timerFn,j);k.nextExpires=m}}},1,0,0,0,0,0,[Ext.util,"TaskRunner"],function(){var e=this,d=e.prototype;d.destroy=d.stopAll;e.Task=new Ext.Class({isTask:true,stopped:true,fireOnStart:false,constructor:function(b){Ext.apply(this,b)},restart:function(b){if(b!==undefined){this.interval=b}this.manager.start(this)},start:function(b){if(this.stopped){this.restart(b)}},stop:function(){this.manager.stop(this)}});d=e.Task.prototype;d.destroy=d.stop}));(Ext.cmd.derive("Ext.fx.target.Target",Ext.Base,{isAnimTarget:true,constructor:function(c){this.target=c;this.id=this.getId()},getId:function(){return this.target.id},remove:function(){Ext.destroy(this.target)}},1,0,0,0,0,0,[Ext.fx.target,"Target"],0));(Ext.cmd.derive("Ext.fx.target.Element",Ext.fx.target.Target,{type:"element",getElVal:function(g,e,f){if(f===undefined){if(e==="x"){f=g.getX()}else{if(e==="y"){f=g.getY()}else{if(e==="scrollTop"){f=g.getScroll().top}else{if(e==="scrollLeft"){f=g.getScroll().left}else{if(e==="height"){f=g.getHeight()}else{if(e==="width"){f=g.getWidth()}else{f=g.getStyle(e)}}}}}}}return f},getAttr:function(e,f){var g=this.target;return[[g,this.getElVal(g,e,f)]]},setAttr:function(m){var o=m.length,q,j,n,p,r,s;for(p=0;p<o;p++){q=m[p].attrs;for(j in q){if(q.hasOwnProperty(j)){s=q[j].length;for(r=0;r<s;r++){n=q[j][r];this.setElVal(n[0],j,n[1])}}}}},setElVal:function(g,e,f){if(e==="x"){g.setX(f)}else{if(e==="y"){g.setY(f)}else{if(e==="scrollTop"){g.scrollTo("top",f)}else{if(e==="scrollLeft"){g.scrollTo("left",f)}else{if(e==="width"){g.setWidth(f)}else{if(e==="height"){g.setHeight(f)}else{g.setStyle(e,f)}}}}}}}},0,0,0,0,0,0,[Ext.fx.target,"Element"],0));(Ext.cmd.derive("Ext.fx.target.ElementCSS",Ext.fx.target.Element,{setAttr:function(o,C){var H={attrs:[],duration:[],easing:[]},w=o.length,v=function(){this.setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",null)},j={single:true},B,I,y,x,E,F,A,D,G;for(A=0;A<w;A++){I=o[A];E=I.duration;x=I.easing;I=I.attrs;for(y in I){if(Ext.Array.indexOf(H.attrs,y)==-1){H.attrs.push(y.replace(/[A-Z]/g,function(b){return"-"+b.toLowerCase()}));H.duration.push(E+"ms");H.easing.push(x)}}}B=H.attrs.join(",");E=H.duration.join(",");x=H.easing.join(", ");for(A=0;A<w;A++){I=o[A].attrs;for(y in I){G=I[y].length;for(D=0;D<G;D++){F=I[y][D];F[0].setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",C?"":B);F[0].setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",C?"":E);F[0].setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",C?"":x);F[0].setStyle(y,F[1]);if(C){F=F[0].dom.offsetWidth}else{F[0].on(Ext.supports.CSS3TransitionEnd,v,F[0],j)}}}}}},0,0,0,0,0,0,[Ext.fx.target,"ElementCSS"],0));(Ext.cmd.derive("Ext.fx.target.CompositeElement",Ext.fx.target.Element,{isComposite:true,constructor:function(c){c.id=c.id||Ext.id(null,"ext-composite-");Ext.fx.target.Element.prototype.constructor.call(this,c)},getAttr:function(l,m){var s=[],n=this.target,o=n.elements,p=o.length,r,q;for(r=0;r<p;r++){q=o[r];if(q){q=n.getElement(q);s.push([q,this.getElVal(q,l,m)])}}return s},setAttr:function(u){var w=this.target,v=u.length,D=w.elements,j=D.length,s,B,k,x,C,y,A,E;for(y=0;y<v;y++){k=u[y].attrs;for(x in k){if(k.hasOwnProperty(x)){E=k[x].length;for(A=0;A<E;A++){s=k[x][A][1];for(B=0;B<j;++B){C=D[B];if(C){C=w.getElement(C);this.setElVal(C,x,s)}}}}}}},remove:function(){this.target.destroy()}},1,0,0,0,0,0,[Ext.fx.target,"CompositeElement"],0));(Ext.cmd.derive("Ext.fx.target.CompositeElementCSS",Ext.fx.target.CompositeElement,{setAttr:function(){return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this,arguments)}},0,0,0,0,0,0,[Ext.fx.target,"CompositeElementCSS"],0));(Ext.cmd.derive("Ext.fx.target.Sprite",Ext.fx.target.Target,{type:"draw",getFromPrim:function(g,e){var f;switch(e){case"rotate":case"rotation":f=g.attr.rotation;return{x:f.x||0,y:f.y||0,degrees:f.degrees||0};case"scale":case"scaling":f=g.attr.scaling;return{x:f.x||1,y:f.y||1,cx:f.cx||0,cy:f.cy||0};case"translate":case"translation":f=g.attr.translation;return{x:f.x||0,y:f.y||0};default:return g.attr[e]}},getAttr:function(d,e){return[[this.target,e!==undefined?e:this.getFromPrim(this.target,d)]]},setAttr:function(x){var C=x.length,A=[],G,D,u,I,j,v,w,E,F,y,B,H;for(E=0;E<C;E++){G=x[E].attrs;for(D in G){u=G[D];H=u.length;for(F=0;F<H;F++){j=u[F][0];I=u[F][1];if(D==="translate"||D==="translation"){w={x:I.x,y:I.y}}else{if(D==="rotate"||D==="rotation"){y=I.x;if(isNaN(y)){y=null}B=I.y;if(isNaN(B)){B=null}w={degrees:I.degrees,x:y,y:B}}else{if(D==="scale"||D==="scaling"){y=I.x;if(isNaN(y)){y=null}B=I.y;if(isNaN(B)){B=null}w={x:y,y:B,cx:I.cx,cy:I.cy}}else{if(D==="width"||D==="height"||D==="x"||D==="y"){w=parseFloat(I)}else{w=I}}}}v=Ext.Array.indexOf(A,j);if(v===-1){A.push([j,{}]);v=A.length-1}A[v][1][D]=w}}}C=A.length;for(E=0;E<C;E++){A[E][0].setAttributes(A[E][1])}this.target.redraw()}},0,0,0,0,0,0,[Ext.fx.target,"Sprite"],0));(Ext.cmd.derive("Ext.fx.target.CompositeSprite",Ext.fx.target.Sprite,{getAttr:function(k,l){var q=[],m=[].concat(this.target.items),n=m.length,o,p;for(o=0;o<n;o++){p=m[o];q.push([p,l!==undefined?l:this.getFromPrim(p,k)])}return q}},0,0,0,0,0,0,[Ext.fx.target,"CompositeSprite"],0));(Ext.cmd.derive("Ext.fx.target.Component",Ext.fx.target.Target,{type:"component",getPropMethod:{top:function(){return this.getPosition(true)[1]},left:function(){return this.getPosition(true)[0]},x:function(){return this.getPosition()[0]},y:function(){return this.getPosition()[1]},height:function(){return this.getHeight()},width:function(){return this.getWidth()},opacity:function(){return this.el.getStyle("opacity")}},setMethods:{top:"setPosition",left:"setPosition",x:"setPagePosition",y:"setPagePosition",height:"setSize",width:"setSize",opacity:"setOpacity"},getAttr:function(d,e){return[[this.target,e!==undefined?e:this.getPropMethod[d].call(this.target)]]},setAttr:function(M,D,H){var o=this,w=M.length,J,y,G,C,E,A,F,j,K,B,I={},L;for(C=0;C<w;C++){J=M[C].attrs;for(y in J){A=J[y].length;for(E=0;E<A;E++){G=J[y][E];L=I[o.setMethods[y]]||(I[o.setMethods[y]]={});L.target=G[0];L[y]=G[1]}}if(I.setPosition){G=I.setPosition;F=(G.left===undefined)?undefined:parseFloat(G.left);j=(G.top===undefined)?undefined:parseFloat(G.top);G.target.setPosition(F,j)}if(I.setPagePosition){G=I.setPagePosition;G.target.setPagePosition(G.x,G.y)}if(I.setSize){G=I.setSize;K=(G.width===undefined)?G.target.getWidth():parseFloat(G.width);B=(G.height===undefined)?G.target.getHeight():parseFloat(G.height);G.target.el.setSize(K,B);if(H||o.dynamic){Ext.GlobalEvents.on({idle:Ext.Function.bind(G.target.setSize,G.target,[K,B]),single:true})}}if(I.setOpacity){G=I.setOpacity;G.target.el.setStyle("opacity",G.opacity)}}}},0,0,0,0,0,0,[Ext.fx.target,"Component"],0));(Ext.cmd.derive("Ext.fx.Queue",Ext.Base,{constructor:function(){this.targets=new Ext.util.HashMap();this.fxQueue={}},getFxDefaults:function(d){var e=this.targets.get(d);if(e){return e.fxDefaults}return{}},setFxDefaults:function(e,f){var g=this.targets.get(e);if(g){g.fxDefaults=Ext.apply(g.fxDefaults||{},f)}},stopAnimation:function(n,o){var k=this,j=k.getFxQueue(n),l=j.length,m;while(l){m=j[l-1];if(m){m.end(o)}l--}},getActiveAnimation:function(e){var d=this.getFxQueue(e);return(d&&!!d.length)?d[0]:false},hasFxBlock:function(e){var d=this.getFxQueue(e);return d&&d[0]&&d[0].block},getFxQueue:function(l){if(!l){return false}var k=this,m=k.fxQueue,g=m[l],j=k.targets.get(l);if(!j){return false}if(!g){k.fxQueue[l]=m[l]=[];if(j.type!=="element"){j.target.on("destroy",function(){m[l]=null;delete m[l]})}}return k.fxQueue[l]},queueFx:function(l){var m=this,k=l.target,o=k.getId(),j,n;if(!k){return}j=m.getFxQueue(o);n=j.length;if(n){if(l.concurrent){l.paused=false}else{j[n-1].on("afteranimate",function(){l.paused=false})}}else{l.paused=false}l.on("afteranimate",function(){Ext.Array.remove(j,l);if(j.length===0){m.targets.remove(l.target);m.fxQueue[o]=null;delete m.fxQueue[o]}if(l.remove){if(k.type==="element"){var b=Ext.get(o);if(b){b.destroy()}}}},m,{single:true});j.push(l)}},1,0,0,0,0,0,[Ext.fx,"Queue"],0));(Ext.cmd.derive("Ext.fx.Manager",Ext.Base,{singleton:true,constructor:function(){var c=this;c.items=new Ext.util.MixedCollection();c.targetArr={};c.mixins.queue.constructor.call(c);c.taskRunner=new Ext.util.TaskRunner()},interval:16,forceJS:true,createTarget:function(g){var k=this,j=!k.forceJS&&Ext.supports.Transitions,f;k.useCSS3=j;if(g){if(g.tagName||Ext.isString(g)||g.isFly){g=Ext.get(g);f=new Ext.fx.target["Element"+(j?"CSS":"")](g)}else{if(g.dom){f=new Ext.fx.target["Element"+(j?"CSS":"")](g)}else{if(g.isComposite){f=new Ext.fx.target["CompositeElement"+(j?"CSS":"")](g)}else{if(g.isSprite){f=new Ext.fx.target.Sprite(g)}else{if(g.isCompositeSprite){f=new Ext.fx.target.CompositeSprite(g)}else{if(g.isComponent){f=new Ext.fx.target.Component(g)}else{if(g.isAnimTarget){return g}else{return null}}}}}}}k.targets.add(f);return f}else{return null}},addAnim:function(g){var j=this,k=j.items,f=j.task;k.add(g.id,g);if(!f&&k.length){f=j.task={run:j.runner,interval:j.interval,scope:j};j.taskRunner.start(f)}},removeAnim:function(g){var j=this,k=j.items,f=j.task;k.removeAtKey(g.id);if(f&&!k.length){j.taskRunner.stop(f);delete j.task}},runner:function(){var k=this,m=k.items.getRange(),l=0,g=m.length,j;k.targetArr={};k.timestamp=new Date();for(;l<g;l++){j=m[l];if(j.isReady()){k.startAnim(j)}}for(l=0;l<g;l++){j=m[l];if(j.isRunning()){k.runAnim(j)}}k.applyPendingAttrs();k.targetArr=null},startAnim:function(c){c.start(this.timestamp)},runAnim:function(p,l){if(!p){return}var q=this,n=q.useCSS3&&p.target.type==="element",s=q.timestamp-p.startTime,r=(s>=p.duration),o,m;if(l){s=p.duration;r=true}o=this.collectTargetData(p,s,n,r);if(n){p.target.setAttr(o.anims[p.id].attributes,true);q.collectTargetData(p,p.duration,n,r);p.paused=true;o=p.target.target;if(p.target.isComposite){o=p.target.target.last()}m={};m[Ext.supports.CSS3TransitionEnd]=p.lastFrame;m.scope=p;m.single=true;o.on(m)}return o},jumpToEnd:function(j){var k=this,g,f;if(!k.targetArr){k.targetArr={};f=true}g=k.runAnim(j,true);k.applyAnimAttrs(g,g.anims[j.id]);if(f){k.targetArr=null}},collectTargetData:function(n,j,l,k){var o=n.target.getId(),m=this.targetArr[o];if(!m){m=this.targetArr[o]={id:o,el:n.target,anims:{}}}m.anims[n.id]={id:n.id,anim:n,elapsed:j,isLastFrame:k,attributes:[{duration:n.duration,easing:(l&&n.reverse)?n.easingFn.reverse().toCSS3():n.easing,attrs:n.runAnim(j)}]};return m},applyAnimAttrs:function(f,e){var g=e.anim;if(e.attributes&&g.isRunning()){f.el.setAttr(e.attributes,false,e.isLastFrame);if(e.isLastFrame){g.lastFrame()}}},applyPendingAttrs:function(){var l=this.targetArr,k,n,o,m,j;for(n in l){if(l.hasOwnProperty(n)){k=l[n];for(j in k.anims){if(k.anims.hasOwnProperty(j)){o=k.anims[j];m=o.anim;if(o.attributes&&m.isRunning()){k.el.setAttr(o.attributes,false,o.isLastFrame);if(o.isLastFrame){m.lastFrame()}}}}}}}},1,0,0,0,0,[["queue",Ext.fx.Queue]],[Ext.fx,"Manager"],0));(Ext.cmd.derive("Ext.fx.Animator",Ext.Base,{isAnimator:true,duration:250,delay:0,delayStart:0,dynamic:false,easing:"ease",running:false,paused:false,damper:1,iterations:1,currentIteration:0,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(d){var e=this;d=Ext.apply(e,d||{});e.config=d;e.id=Ext.id(null,"ext-animator-");e.mixins.observable.constructor.call(e,d);e.timeline=[];e.createTimeline(e.keyframes);if(e.target){e.applyAnimator(e.target);Ext.fx.Manager.addAnim(e)}},sorter:function(b,e){return b.pct-e.pct},createTimeline:function(w){var s=this,p=[],r=s.to||{},y=s.duration,o,A,x,u,q,v;for(q in w){if(w.hasOwnProperty(q)&&s.animKeyFramesRE.test(q)){v={attrs:Ext.apply(w[q],r)};if(q==="from"){q=0}else{if(q==="to"){q=100}}v.pct=parseInt(q,10);p.push(v)}}Ext.Array.sort(p,s.sorter);u=p.length;for(x=0;x<u;x++){o=(p[x-1])?y*(p[x-1].pct/100):0;A=y*(p[x].pct/100);s.timeline.push({duration:A-o,attrs:p[x].attrs})}},applyAnimator:function(u){var q=this,p=[],n=q.timeline,r=n.length,w,s,x,o,v;if(q.fireEvent("beforeanimate",q)!==false){for(v=0;v<r;v++){w=n[v];o=w.attrs;s=o.easing||q.easing;x=o.damper||q.damper;delete o.easing;delete o.damper;w=new Ext.fx.Anim({target:u,easing:s,damper:x,duration:w.duration,paused:true,to:o});p.push(w)}q.animations=p;q.target=w.target;for(v=0;v<r-1;v++){w=p[v];w.nextAnim=p[v+1];w.on("afteranimate",function(){this.nextAnim.paused=false});w.on("afteranimate",function(){this.fireEvent("keyframe",this,++this.keyframeStep)},q)}p[r-1].on("afteranimate",function(){this.lastFrame()},q)}},start:function(k){var j=this,l=j.delay,m=j.delayStart,g;if(l){if(!m){j.delayStart=k;return}else{g=k-m;if(g<l){return}else{k=new Date(m.getTime()+l)}}}if(j.fireEvent("beforeanimate",j)!==false){j.startTime=k;j.running=true;j.animations[j.keyframeStep].paused=false}},lastFrame:function(){var f=this,e=f.iterations,g=f.currentIteration;g++;if(g<e){f.startTime=new Date();f.currentIteration=g;f.keyframeStep=0;f.applyAnimator(f.target);f.animations[f.keyframeStep].paused=false}else{f.currentIteration=0;f.end()}},end:function(){var c=this;c.fireEvent("afteranimate",c,c.startTime,new Date()-c.startTime)},isReady:function(){return this.paused===false&&this.running===false&&this.iterations>0},isRunning:function(){return false}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.fx,"Animator"],0));(Ext.cmd.derive("Ext.fx.CubicBezier",Ext.Base,{singleton:true,cubicBezierAtTime:function(u,F,H,v,w,B){var A=3*F,x=3*(v-F)-A,I=1-A-x,C=3*H,y=3*(w-H)-C,s=1-C-y;function D(b){return((I*b+x)*b+A)*b}function G(d,b){var c=E(d,b);return((s*c+y)*c+C)*c}function E(f,g){var k,b,c,e,j,d;for(c=f,d=0;d<8;d++){e=D(c)-f;if(Math.abs(e)<g){return c}j=(3*I*c+2*x)*c+A;if(Math.abs(j)<0.000001){break}c=c-e/j}k=0;b=1;c=f;if(c<k){return k}if(c>b){return b}while(k<b){e=D(c);if(Math.abs(e-f)<g){return c}if(f>e){k=c}else{b=c}c=(b-k)/2+k}return c}return G(u,1/(200*B))},cubicBezier:function(m,j,g,l){var k=function(b){return Ext.fx.CubicBezier.cubicBezierAtTime(b,m,j,g,l,1)};k.toCSS3=function(){return"cubic-bezier("+[m,j,g,l].join(",")+")"};k.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-g,1-l,1-m,1-j)};return k}},0,0,0,0,0,0,[Ext.fx,"CubicBezier"],0));(Ext.cmd.derive("Ext.fx.Easing",Ext.Base,function(){var n=Math,l=n.PI,o=n.pow,q=n.sin,m=n.sqrt,k=n.abs,p=1.70158;return{singleton:true,linear:Ext.identityFn,ease:function(e){var v=0.07813-e/2,b=m(0.0066+v*v),d=b-v,f=o(k(d),1/3)*(d<0?-1:1),g=-b-v,j=o(k(g),1/3)*(g<0?-1:1),c=f+j+0.25;return o(1-c,2)*3*c*0.1+(1-c)*3*c*c+c*c*c},easeIn:function(b){return o(b,1.7)},easeOut:function(b){return o(b,0.48)},easeInOut:function(e){var v=0.48-e/1.04,b=m(0.1734+v*v),d=b-v,f=o(k(d),1/3)*(d<0?-1:1),g=-b-v,j=o(k(g),1/3)*(g<0?-1:1),c=f+j+0.5;return(1-c)*3*c*c+c*c*c},backIn:function(b){return b*b*((p+1)*b-p)},backOut:function(b){b=b-1;return b*b*((p+1)*b+p)+1},elasticIn:function(b){if(b===0||b===1){return b}var c=0.3,d=c/4;return o(2,-10*b)*q((b-d)*(2*l)/c)+1},elasticOut:function(b){return 1-Ext.fx.Easing.elasticIn(1-b)},bounceIn:function(b){return 1-Ext.fx.Easing.bounceOut(1-b)},bounceOut:function(d){var b=7.5625,e=2.75,c;if(d<(1/e)){c=b*d*d}else{if(d<(2/e)){d-=(1.5/e);c=b*d*d+0.75}else{if(d<(2.5/e)){d-=(2.25/e);c=b*d*d+0.9375}else{d-=(2.625/e);c=b*d*d+0.984375}}}return c}}},0,0,0,0,0,0,[Ext.fx,"Easing"],function(g){var f=g.self,e=f.prototype;f.addMembers({"back-in":e.backIn,"back-out":e.backOut,"ease-in":e.easeIn,"ease-out":e.easeOut,"elastic-in":e.elasticIn,"elastic-out":e.elasticOut,"bounce-in":e.bounceIn,"bounce-out":e.bounceOut,"ease-in-out":e.easeInOut})}));(Ext.cmd.derive("Ext.fx.DrawPath",Ext.Base,{singleton:true,pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,is:function(e,d){d=String(d).toLowerCase();return(d=="object"&&e===Object(e))||(d=="undefined"&&typeof e==d)||(d=="null"&&e===null)||(d=="array"&&Array.isArray&&Array.isArray(e))||(Object.prototype.toString.call(e).toLowerCase().slice(8,-1))==d},path2string:function(){return this.join(",").replace(Ext.fx.DrawPath.pathToStringRE,"$1")},pathToString:function(c){return c.join(",").replace(Ext.fx.DrawPath.pathToStringRE,"$1")},parsePathString:function(f){if(!f){return null}var g={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},j=[],k=this;if(k.is(f,"array")&&k.is(f[0],"array")){j=k.pathClone(f)}if(!j.length){String(f).replace(k.pathCommandRE,function(e,m,b){var c=[],d=m.toLowerCase();b.replace(k.pathValuesRE,function(o,l){if(l){c.push(+l)}});if(d=="m"&&c.length>2){j.push([m].concat(Ext.Array.splice(c,0,2)));d="l";m=(m=="m")?"l":"L"}while(c.length>=g[d]){j.push([m].concat(Ext.Array.splice(c,0,g[d])));if(!g[d]){break}}})}j.toString=k.path2string;return j},pathClone:function(k){var n=[],j,l,o,m;if(!this.is(k,"array")||!this.is(k&&k[0],"array")){k=this.parsePathString(k)}for(o=0,m=k.length;o<m;o++){n[o]=[];for(j=0,l=k[o].length;j<l;j++){n[o][j]=k[o][j]}}n.toString=this.path2string;return n},pathToAbsolute:function(A){if(!this.is(A,"array")||!this.is(A&&A[0],"array")){A=this.parsePathString(A)}var u=[],r=0,s=0,j=0,q=0,w=0,v=A.length,B,y,x,C;if(v&&A[0][0]=="M"){r=+A[0][1];s=+A[0][2];j=r;q=s;w++;u[0]=["M",r,s]}for(;w<v;w++){B=u[w]=[];y=A[w];if(y[0]!=y[0].toUpperCase()){B[0]=y[0].toUpperCase();switch(B[0]){case"A":B[1]=y[1];B[2]=y[2];B[3]=y[3];B[4]=y[4];B[5]=y[5];B[6]=+(y[6]+r);B[7]=+(y[7]+s);break;case"V":B[1]=+y[1]+s;break;case"H":B[1]=+y[1]+r;break;case"M":j=+y[1]+r;q=+y[2]+s;default:x=1;C=y.length;for(;x<C;x++){B[x]=+y[x]+((x%2)?r:s)}}}else{x=0;C=y.length;for(;x<C;x++){u[w][x]=y[x]}}switch(B[0]){case"Z":r=j;s=q;break;case"H":r=B[1];break;case"V":s=B[1];break;case"M":y=u[w];C=y.length;j=y[C-2];q=y[C-1];default:y=u[w];C=y.length;r=y[C-2];s=y[C-1]}}u.toString=this.path2string;return u},interpolatePaths:function(I,x){var A=this,E=A.pathToAbsolute(I),w=A.pathToAbsolute(x),v={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},H={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},G=function(d,c){if(d[c].length>7){d[c].shift();var b=d[c];while(b.length){Ext.Array.splice(d,c++,0,["C"].concat(Ext.Array.splice(b,0,6)))}Ext.Array.erase(d,c,1);u=Math.max(E.length,w.length||0)}},F=function(b,c,e,f,d){if(b&&c&&b[d][0]=="M"&&c[d][0]!="M"){Ext.Array.splice(c,d,0,["M",f.x,f.y]);e.bx=0;e.by=0;e.x=b[d][1];e.y=b[d][2];u=Math.max(E.length,w.length||0)}},B,u,C,p,D,y;for(B=0,u=Math.max(E.length,w.length||0);B<u;B++){E[B]=A.command2curve(E[B],v);G(E,B);(w[B]=A.command2curve(w[B],H));G(w,B);F(E,w,v,H,B);F(w,E,H,v,B);C=E[B];p=w[B];D=C.length;y=p.length;v.x=C[D-2];v.y=C[D-1];v.bx=parseFloat(C[D-4])||v.x;v.by=parseFloat(C[D-3])||v.y;H.bx=(parseFloat(p[y-4])||H.x);H.by=(parseFloat(p[y-3])||H.y);H.x=p[y-2];H.y=p[y-1]}return[E,w]},command2curve:function(f,g){var d=this;if(!f){return["C",g.x,g.y,g.x,g.y,g.x,g.y]}if(f[0]!="T"&&f[0]!="Q"){g.qx=g.qy=null}switch(f[0]){case"M":g.X=f[1];g.Y=f[2];break;case"A":f=["C"].concat(d.arc2curve.apply(d,[g.x,g.y].concat(f.slice(1))));break;case"S":f=["C",g.x+(g.x-(g.bx||g.x)),g.y+(g.y-(g.by||g.y))].concat(f.slice(1));break;case"T":g.qx=g.x+(g.x-(g.qx||g.x));g.qy=g.y+(g.y-(g.qy||g.y));f=["C"].concat(d.quadratic2curve(g.x,g.y,g.qx,g.qy,f[1],f[2]));break;case"Q":g.qx=f[1];g.qy=f[2];f=["C"].concat(d.quadratic2curve(g.x,g.y,f[1],f[2],f[3],f[4]));break;case"L":f=["C"].concat(g.x,g.y,f[1],f[2],f[1],f[2]);break;case"H":f=["C"].concat(g.x,g.y,f[1],g.y,f[1],g.y);break;case"V":f=["C"].concat(g.x,g.y,g.x,f[1],g.x,f[1]);break;case"Z":f=["C"].concat(g.x,g.y,g.X,g.Y,g.X,g.Y);break}return f},quadratic2curve:function(s,q,n,p,l,r){var o=1/3,m=2/3;return[o*s+m*n,o*q+m*p,o*l+m*n,o*r+m*p,l,r]},rotate:function(q,l,k){var o=Math.cos(k),p=Math.sin(k),m=q*o-l*p,n=q*p+l*o;return{x:m,y:n}},arc2curve:function(aP,az,aw,ay,aK,aU,aY,aQ,aC,aI){var aN=this,a0=Math.PI,aM=aN.radian,aA=a0*120/180,a2=aM*(+aK||0),aq=[],au=Math,aj=au.cos,a3=au.sin,ah=au.sqrt,aO=au.abs,aT=au.asin,av,ao,ap,aJ,a1,al,ai,aE,aG,aV,aW,aR,aX,aD,aZ,aF,an,ak,am,aH,aL,k,y,ar,x,at,aB,ax,aS;if(!aI){av=aN.rotate(aP,az,-a2);aP=av.x;az=av.y;av=aN.rotate(aQ,aC,-a2);aQ=av.x;aC=av.y;ao=(aP-aQ)/2;ap=(az-aC)/2;aJ=(ao*ao)/(aw*aw)+(ap*ap)/(ay*ay);if(aJ>1){aJ=ah(aJ);aw=aJ*aw;ay=aJ*ay}a1=aw*aw;al=ay*ay;ai=(aU==aY?-1:1)*ah(aO((a1*al-a1*ap*ap-al*ao*ao)/(a1*ap*ap+al*ao*ao)));aE=ai*aw*ap/ay+(aP+aQ)/2;aG=ai*-ay*ao/aw+(az+aC)/2;aV=aT(((az-aG)/ay).toFixed(7));aW=aT(((aC-aG)/ay).toFixed(7));aV=aP<aE?a0-aV:aV;aW=aQ<aE?a0-aW:aW;if(aV<0){aV=a0*2+aV}if(aW<0){aW=a0*2+aW}if(aY&&aV>aW){aV=aV-a0*2}if(!aY&&aW>aV){aW=aW-a0*2}}else{aV=aI[0];aW=aI[1];aE=aI[2];aG=aI[3]}aR=aW-aV;if(aO(aR)>aA){aB=aW;ax=aQ;aS=aC;aW=aV+aA*(aY&&aW>aV?1:-1);aQ=aE+aw*aj(aW);aC=aG+ay*a3(aW);aq=aN.arc2curve(aQ,aC,aw,ay,aK,0,aY,ax,aS,[aW,aB,aE,aG])}aR=aW-aV;aX=aj(aV);aD=a3(aV);aZ=aj(aW);aF=a3(aW);an=au.tan(aR/4);ak=4/3*aw*an;am=4/3*ay*an;aH=[aP,az];aL=[aP+ak*aD,az-am*aX];k=[aQ+ak*aF,aC-am*aZ];y=[aQ,aC];aL[0]=2*aH[0]-aL[0];aL[1]=2*aH[1]-aL[1];if(aI){return[aL,k,y].concat(aq)}else{aq=[aL,k,y].concat(aq).join().split(",");ar=[];at=aq.length;for(x=0;x<at;x++){ar[x]=x%2?aN.rotate(aq[x-1],aq[x],a2).y:aN.rotate(aq[x],aq[x+1],a2).x}return ar}}},0,0,0,0,0,0,[Ext.fx,"DrawPath"],0));(Ext.cmd.derive("Ext.fx.PropertyHandler",Ext.Base,{statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(m,s,v,p,n){v=(typeof v=="number")?v:1;var o=this.unitRE,r=o.exec(m),u,q;if(r){m=r[1];q=r[2];if(!this.scrollRE.test(n)&&!q&&this.pixelDefaultsRE.test(n)){q="px"}}m=+m||0;r=o.exec(s);if(r){s=r[1];q=r[2]||q}s=+s||0;u=(p!=null)?p:m;return{from:m,delta:(s-u)*v,units:q}},get:function(j,B,C,q,u){var r=j.length,y=[],x,v,s,A,w;for(x=0;x<r;x++){if(q){v=q[x][1].from}if(Ext.isArray(j[x][1])&&Ext.isArray(B)){s=[];A=0;w=j[x][1].length;for(;A<w;A++){s.push(this.computeDelta(j[x][1][A],B[A],C,v,u))}y.push([j[x][0],s])}else{y.push([j[x][0],this.computeDelta(j[x][1],B,C,v,u)])}}return y},set:function(j,p){var o=j.length,s=[],r,v,n,q,u;for(r=0;r<o;r++){v=j[r][1];if(Ext.isArray(v)){n=[];u=0;q=v.length;for(;u<q;u++){n.push(v[u].from+v[u].delta*p+(v[u].units||0))}s.push([j[r][0],n])}else{s.push([j[r][0],v.from+v.delta*p+(v.units||0)])}}return s}},stringHandler:{computeDelta:function(j,m,k,l,g){return{from:j,delta:m}},get:function(m,u,v,n,p){var o=m.length,s=[],r,q;for(r=0;r<o;r++){s.push([m[r][0],this.computeDelta(m[r][1],u,v,q,p)])}return s},set:function(j,k){var m=j.length,o=[],n,l;for(n=0;n<m;n++){l=j[n][1];o.push([j[n][0],l.delta])}return o}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(q,v){v=(typeof v=="number")?v:1;var p=false,s=[this.hexRE,this.rgbRE,this.hex3RE],r=s.length,n,u,m,o;for(o=0;o<r;o++){m=s[o];u=(o%2===0)?16:10;n=m.exec(q);if(n&&n.length===4){if(o===2){n[1]+=n[1];n[2]+=n[2];n[3]+=n[3]}p={red:parseInt(n[1],u),green:parseInt(n[2],u),blue:parseInt(n[3],u)};break}}return p||q},computeDelta:function(l,k,n,p){l=this.parseColor(l);k=this.parseColor(k,n);var m=p?p:l,q=typeof m,o=typeof k;if(q==="string"||q==="undefined"||o==="string"||o==="undefined"){return k||m}return{from:l,delta:{red:Math.round((k.red-m.red)*n),green:Math.round((k.green-m.green)*n),blue:Math.round((k.blue-m.blue)*n)}}},get:function(m,l,o,q){var n=m.length,r=[],p,s;for(p=0;p<n;p++){if(q){s=q[p][1].from}r.push([m[p][0],this.computeDelta(m[p][1],l,o,s)])}return r},set:function(m,q){var p=m.length,s=[],r,u,v,o,n;for(r=0;r<p;r++){u=m[r][1];if(u){o=u.from;n=u.delta;u=(typeof u==="object"&&"red" in u)?"rgb("+u.red+", "+u.green+", "+u.blue+")":u;u=(typeof u==="object"&&u.length)?u[0]:u;if(typeof u==="undefined"){return[]}v=typeof u==="string"?u:"rgb("+[(o.red+Math.round(n.red*q))%256,(o.green+Math.round(n.green*q))%256,(o.blue+Math.round(n.blue*q))%256].join(",")+")";s.push([m[r][0],v])}}return s}},object:{interpolate:function(g,k){k=(typeof k==="number")?k:1;var f={},j;for(j in g){f[j]=parseFloat(g[j])*k}return f},computeDelta:function(l,k,p,q){l=this.interpolate(l);k=this.interpolate(k,p);var m=q?q:l,n={},o;for(o in k){n[o]=k[o]-m[o]}return{from:l,delta:n}},get:function(m,l,o,q){var n=m.length,r=[],p,s;for(p=0;p<n;p++){if(q){s=q[p][1].from}r.push([m[p][0],this.computeDelta(m[p][1],l,o,s)])}return r},set:function(n,r){var q=n.length,v=[],s={},u,p,o,w,x;for(u=0;u<q;u++){w=n[u][1];p=w.from;o=w.delta;for(x in p){s[x]=p[x]+o[x]*r}v.push([n[u][0],s])}return v}},path:{computeDelta:function(j,g,l,m){l=(typeof l==="number")?l:1;var k;j=+j||0;g=+g||0;k=(m!=null)?m:j;return{from:j,delta:(g-k)*l}},forcePath:function(c){if(!Ext.isArray(c)&&!Ext.isArray(c[0])){c=Ext.fx.DrawPath.parsePathString(c)}return c},get:function(G,A,H,j){var F=this.forcePath(A),x=[],J=G.length,E,B,w,C,k,y,D,I,K;for(w=0;w<J;w++){K=this.forcePath(G[w][1]);C=Ext.fx.DrawPath.interpolatePaths(K,F);K=C[0];F=C[1];E=K.length;I=[];for(y=0;y<E;y++){C=[K[y][0]];B=K[y].length;for(D=1;D<B;D++){k=j&&j[0][1][y][D].from;C.push(this.computeDelta(K[y][D],F[y][D],H,k))}I.push(C)}x.push([G[w][0],I])}return x},set:function(j,r){var k=j.length,x=[],v,w,y,u,s,A,C,B;for(v=0;v<k;v++){A=j[v][1];u=[];C=A.length;for(w=0;w<C;w++){s=[A[w][0]];B=A[w].length;for(y=1;y<B;y++){s.push(A[w][y].from+A[w][y].delta*r)}u.push(s.join(","))}x.push([j[v][0],u.join(",")])}return x}}}},0,0,0,0,0,0,[Ext.fx,"PropertyHandler"],function(){var k=["outlineColor","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fill","stroke"],j=k.length,f=0,g;for(;f<j;f++){g=k[f];this[g]=this.color}k=["cursor"];j=k.length;f=0;for(;f<j;f++){g=k[f];this[g]=this.stringHandler}}));(Ext.cmd.derive("Ext.fx.Anim",Ext.Base,{isAnimation:true,duration:250,delay:0,delayStart:0,dynamic:false,easing:"ease",damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:false,running:false,paused:false,iterations:1,autoEnd:false,alternate:false,currentIteration:0,startTime:0,frameCount:0,constructor:function(e){var g=this,f;e=e||{};if(e.keyframes){return new Ext.fx.Animator(e)}Ext.apply(g,e);if(g.from===undefined){g.from={}}g.propHandlers={};g.config=e;g.target=Ext.fx.Manager.createTarget(g.target);g.easingFn=Ext.fx.Easing[g.easing];g.target.dynamic=g.dynamic;if(!g.easingFn){g.easingFn=String(g.easing).match(g.bezierRE);if(g.easingFn&&g.easingFn.length===5){f=g.easingFn;g.easingFn=Ext.fx.CubicBezier.cubicBezier(+f[1],+f[2],+f[3],+f[4])}}g.id=Ext.id(null,"ext-anim-");g.mixins.observable.constructor.call(g);Ext.fx.Manager.addAnim(g);if(e.autoEnd){g.running=true;g.jumpToEnd()}},setAttr:function(d,e){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,d,e)},initAttrs:function(){var q=this,o=q.from,n=q.to,p=q.initialFrom||{},s={},v,u,m,r;for(r in n){if(n.hasOwnProperty(r)){v=q.target.getAttr(r,o[r]);u=n[r];if(!Ext.fx.PropertyHandler[r]){if(Ext.isObject(u)){m=q.propHandlers[r]=Ext.fx.PropertyHandler.object}else{m=q.propHandlers[r]=Ext.fx.PropertyHandler.defaultHandler}}else{m=q.propHandlers[r]=Ext.fx.PropertyHandler[r]}s[r]=m.get(v,u,q.damper,p[r],r)}}q.currentAttrs=s},start:function(k){var j=this,l=j.delay,m=j.delayStart,g;if(l){if(!m){j.delayStart=k;return}else{g=k-m;if(g<l){return}else{k=new Date(m.getTime()+l)}}}if(j.fireEvent("beforeanimate",j)!==false){j.startTime=k;if(!j.paused&&!j.currentAttrs){j.initAttrs()}j.running=true;j.frameCount=0}},jumpToEnd:function(){var c=this;if(!c.endWasCalled){if(!c.currentAttrs){c.initAttrs()}Ext.fx.Manager.jumpToEnd(c);c.end()}},runAnim:function(o){var r=this,p=r.currentAttrs,w=r.duration,x=r.easingFn,y=r.propHandlers,u={},s,q,v,A;if(o>=w){o=w;A=true}if(r.reverse){o=w-o}for(v in p){if(p.hasOwnProperty(v)){q=p[v];s=A?1:x(o/w);u[v]=y[v].set(q,s)}}r.frameCount++;return u},lastFrame:function(){var f=this,e=f.iterations,g=f.currentIteration;g++;if(g<e){if(f.alternate){f.reverse=!f.reverse}f.startTime=new Date();f.currentIteration=g;f.paused=false}else{f.currentIteration=0;f.end();f.fireEvent("lastframe",f,f.startTime)}},endWasCalled:0,end:function(d){var e=this;if(e.endWasCalled++){return}e.startTime=0;e.paused=false;e.running=false;Ext.fx.Manager.removeAnim(e);if(!d){e.fireEvent("afteranimate",e,e.startTime);Ext.callback(e.callback,e.scope,[e,e.startTime])}if(e.remove){e.target.destroy()}},isReady:function(){return this.paused===false&&this.running===false&&this.iterations>0},isRunning:function(){return this.paused===false&&this.running===true&&this.isAnimator!==true}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.fx,"Anim"],0));Ext.enableFx=true;(Ext.cmd.derive("Ext.util.Animate",Ext.Base,{mixinId:"animate",isAnimate:true,animate:function(d){var e=this;if(Ext.fx.Manager.hasFxBlock(e.id)){return e}Ext.fx.Manager.queueFx(new Ext.fx.Anim(e.anim(d)));return this},anim:function(d){if(!Ext.isObject(d)){return(d)?{}:false}var e=this;if(d.stopAnimation){e.stopAnimation()}Ext.applyIf(d,Ext.fx.Manager.getFxDefaults(e.id));return Ext.apply({target:e,paused:true},d)},getAnimationProps:function(){var e=this,d=e.layout;return d&&d.animate?d.animate:{}},stopFx:Ext.Function.alias(Ext.util.Animate,"stopAnimation"),stopAnimation:function(c){Ext.fx.Manager.stopAnimation(this.id,c);return this},syncFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:true});return this},sequenceFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:false});return this},hasActiveFx:Ext.Function.alias(Ext.util.Animate,"getActiveAnimation"),getActiveAnimation:function(){return Ext.fx.Manager.getActiveAnimation(this.id)}},0,0,0,0,0,0,[Ext.util,"Animate"],0));(Ext.cmd.derive("Ext.dom.Fly",Ext.dom.Element,{alternateClassName:"Ext.dom.Element.Fly",validNodeTypes:{1:1,9:1,11:1},isFly:true,constructor:function(c){this.dom=c;this.el=this},attach:function(e){var d=this;if(!e){return d.detach()}d.dom=e;if(!Ext.cache[e.id]){d.getData().isSynchronized=false}return d},detach:function(){this.dom=null},addListener:null,removeListener:null},1,0,0,0,0,0,[Ext.dom,"Fly",Ext.dom.Element,"Fly"],function(e){var g={},f;e.cache=g;Ext.fly=function(b,n){var d=null,m=Ext.fly,o,c;n=n||(m.caller&&m.caller.$name)||"_global";b=Ext.getDom(b);if(b){o=b.nodeType;if(e.prototype.validNodeTypes[o]||(!o&&(b.window==b))){d=Ext.cache[b.id];if(!d||d.dom!==b){d=g[n]||(g[n]=new e());d.dom=b;c=d.getData(true);if(c){c.isSynchronized=false}}}}return d};Ext.getDetachedBody=function(){if(!f){Ext.detachedBodyEl=f=new e(document.createElement("div"));f.isDetachedBody=true}return f}}));(Ext.cmd.derive("Ext.dom.CompositeElementLite",Ext.Base,{alternateClassName:["Ext.CompositeElementLite"],isComposite:true,isLite:true,statics:{importElementMethods:function(){var d=Ext.dom.Element,e=this.prototype;Ext.Object.each(d.prototype,function(c,b){if(typeof b==="function"&&!e[c]){e[c]=function(){return this.invoke(c,arguments)}}})}},constructor:function(e,d){if(d){this.elements=e||[]}else{this.elements=[];this.add(e)}},getElement:function(e){var d=this._fly||(this._fly=new Ext.dom.Fly());return d.attach(e)},transformElement:function(c){return Ext.getDom(c)},getCount:function(){return this.elements.length},add:function(l,g){var j=this.elements,m,k;if(!l){return this}if(typeof l=="string"){l=Ext.fly(g||document).query(l)}else{if(l.isComposite){l=l.elements}else{if(!Ext.isIterable(l)){l=[l]}}}for(m=0,k=l.length;m<k;++m){j.push(this.transformElement(l[m]))}return this},invoke:function(p,s){var n=this,m=n.elements,o=m.length,l,q,r;if(r!==0){l=(n.isLite?Ext.dom.Fly:Ext.dom.Element).prototype;for(r=0;r<o;r++){q=m[r];if(q){l[p].apply(n.getElement(q),s)}}}return n},item:function(g){var f=this.elements[g],e=null;if(f){e=this.getElement(f)}return e},slice:function(e,d){return Ext.Array.slice(this.elements,e,d)},each:function(n,o){var m=this,p=m.elements,e=p.length,q,l;for(q=0;q<e;q++){l=p[q];if(l){l=this.getElement(l);if(n.call(o||l,l,m,q)===false){break}}}return m},fill:function(d){var e=this;e.elements=[];e.add(d);return e},insert:function(e,d){Ext.Array.insert(this.elements,e,d)},filter:function(u){var o=this,s=o.elements,p=s.length,r=[],q=0,n=typeof u=="function",m,v;for(;q<p;q++){v=s[q];m=false;if(v){v=o.getElement(v);if(n){m=u.call(v,v,o,q)!==false}else{m=v.is(u)}if(m){r.push(o.transformElement(v))}}}o.elements=r;return o},indexOf:function(c){return Ext.Array.indexOf(this.elements,this.transformElement(c))},replaceElement:function(k,l,d){var m=!isNaN(k)?k:this.indexOf(k),j;if(m>-1){l=Ext.getDom(l);if(d){j=this.elements[m];j.parentNode.insertBefore(l,j);Ext.removeNode(j)}Ext.Array.splice(this.elements,m,1,l)}return this},clear:function(g){var j=this,k=j.elements,f=k.length-1;if(g){for(;f>=0;f--){Ext.removeNode(k[f])}}this.elements=[]},addElements:function(k,m){if(!k){return this}if(typeof k==="string"){k=Ext.dom.Element.selectorFunction(k,m)}var l=this.elements,e=k.length,j;for(j=0;j<e;j++){l.push(Ext.get(k[j]))}return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(c){return this.indexOf(c)!=-1},removeElement:function(p,m){p=[].concat(p);var q=this,o=q.elements,r=p.length,n,s,k;for(k=0;k<r;k++){n=p[k];if((s=(o[n]||o[n=q.indexOf(n)]))){if(m){if(s.dom){s.destroy()}else{Ext.removeNode(s)}}Ext.Array.erase(o,n,1)}}return q},destroy:function(){return this.invoke("destroy",arguments);this.callParent()}},1,0,0,0,0,0,[Ext.dom,"CompositeElementLite",Ext,"CompositeElementLite"],function(e){var d=e.prototype;e.importElementMethods();d.on=d.addListener}));Ext.define("Ext.overrides.dom.Element",(function(){var aB,az=window,af=document,X="hidden",au="isClipped",Z="overflow",ap="overflow-x",aq="overflow-y",am="originalClip",ah="height",aF="width",aE="visibility",aJ="display",ad="none",V="offsets",aH="clip",ay="originalDisplay",ac="visibilityMode",al="isVisible",aA="x-hidden-offsets",av="x-hidden-clip",U=['<div class="{0}-tl" role="presentation">','<div class="{0}-tr" role="presentation">','<div class="{0}-tc" role="presentation"></div>',"</div>","</div>",'<div class="{0}-ml" role="presentation">','<div class="{0}-mr" role="presentation">','<div class="{0}-mc" role="presentation"></div>',"</div>","</div>",'<div class="{0}-bl" role="presentation">','<div class="{0}-br" role="presentation">','<div class="{0}-bc" role="presentation"></div>',"</div>","</div>"].join(""),aa=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig,ag=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,aI=/\ssrc=([\'\"])(.*?)\1/i,aw=/\S/,aC=/\stype=([\'\"])(.*?)\1/i,aj=/^-ms-/,ai=/(-[a-z])/gi,ab=function(c,b){return b.charAt(1).toUpperCase()},ax="x-masked",ak="x-masked-relative",ao="x-mask-msg",ar=/^body/i,at={},an=function(c){var b=c.getData(),d=b[ac];if(d===undefined){b[ac]=d=aB.VISIBILITY}return d},W=af.createRange?af.createRange():null,ae={INPUT:true,TEXTAREA:true};if(Ext.isIE8){var aD=af.createElement("div"),Y=[],aG=Ext.Function.createBuffered(function(){var c=Y.length,b;for(b=0;b<c;b++){aD.appendChild(Y[b])}aD.innerHTML="";Y.length=0},10)}return{override:"Ext.dom.Element",mixins:[Ext.util.Animate],skipGarbageCollection:false,_init:function(b){aB=b;b.tabbableSelector+=",["+b.tabbableSavedCounterAttribute+"]"},statics:{selectableCls:"x-selectable",unselectableCls:"x-unselectable",tabbableSelector:Ext.supports.CSS3NegationSelector?'a[href],button,iframe,input,select,textarea,[tabindex]:not([tabindex="-1"]),[contenteditable="true"]':'a[href],button,iframe,input,select,textarea,[tabindex],[contenteditable="true"]',naturallyFocusableTags:{BUTTON:true,IFRAME:true,EMBED:true,INPUT:true,OBJECT:true,SELECT:true,TEXTAREA:true,HTML:Ext.isIE?true:false,BODY:Ext.isIE?false:true},naturallyTabbableTags:{BUTTON:true,IFRAME:true,INPUT:true,SELECT:true,TEXTAREA:true,OBJECT:Ext.isIE8m?true:false},tabbableSavedCounterAttribute:"data-tabindex-counter",tabbableSavedValueAttribute:"data-tabindex-value",normalize:function(b){if(b==="float"){b=Ext.supports.Float?"cssFloat":"styleFloat"}return at[b]||(at[b]=b.replace(aj,"ms-").replace(ai,ab))}},addKeyListener:function(c,e,b){var d;if(typeof c!=="object"||Ext.isArray(c)){d={target:this,key:c,fn:e,scope:b}}else{d={target:this,key:c.key,shift:c.shift,ctrl:c.ctrl,alt:c.alt,fn:e,scope:b}}return new Ext.util.KeyMap(d)},addKeyMap:function(b){return new Ext.util.KeyMap(Ext.apply({target:this},b))},afterAnimate:function(){var b=this.shadow;if(b&&!b.disabled&&!b.animate){b.show()}},anchorAnimX:function(c){var b=(c==="l")?"right":"left";this.dom.style[b]="0px"},anim:function(d){if(!Ext.isObject(d)){return(d)?{}:false}var c=this,b=d.duration||Ext.fx.Anim.prototype.duration,e=d.easing||"ease",f;if(d.stopAnimation){c.stopAnimation()}Ext.applyIf(d,Ext.fx.Manager.getFxDefaults(c.id));Ext.fx.Manager.setFxDefaults(c.id,{delay:0});f={target:c.dom,remove:d.remove,alternate:d.alternate||false,duration:b,easing:e,callback:d.callback,listeners:d.listeners,iterations:d.iterations||1,scope:d.scope,block:d.block,concurrent:d.concurrent,delay:d.delay||0,paused:true,keyframes:d.keyframes,from:d.from||{},to:Ext.apply({},d),userConfig:d};Ext.apply(f.to,d.to);delete f.to.to;delete f.to.from;delete f.to.remove;delete f.to.alternate;delete f.to.keyframes;delete f.to.iterations;delete f.to.listeners;delete f.to.target;delete f.to.paused;delete f.to.callback;delete f.to.scope;delete f.to.duration;delete f.to.easing;delete f.to.concurrent;delete f.to.block;delete f.to.stopAnimation;delete f.to.delay;return f},animate:function(b){this.addAnimation(b);return this},addAnimation:function(b){var f=this,c=f.dom.id||Ext.id(f.dom),g,e,d;if(!Ext.fx.Manager.hasFxBlock(c)){if(b.listeners){g=b.listeners;delete b.listeners}if(b.internalListeners){b.listeners=b.internalListeners;delete b.internalListeners}d=b.autoEnd;delete b.autoEnd;e=new Ext.fx.Anim(f.anim(b));e.on({afteranimate:"afterAnimate",beforeanimate:"beforeAnimate",scope:f,single:true});if(g){e.on(g)}Ext.fx.Manager.queueFx(e);if(d){e.jumpToEnd()}}return e},beforeAnimate:function(){var b=this.shadow;if(b&&!b.disabled&&!b.animate){b.hide()}},boxWrap:function(c){c=c||"x-box";var b=Ext.get(this.insertHtml("beforeBegin","<div class='"+c+"' role='presentation'>"+Ext.String.format(U,c)+"</div>"));b.selectNode("."+c+"-mc").appendChild(this.dom);return b},clean:function(c){var j=this,f=j.dom,g=j.getData(),e=f.firstChild,b=-1,d;if(g.isCleaned&&c!==true){return j}while(e){d=e.nextSibling;if(e.nodeType===3){if(!(aw.test(e.nodeValue))){f.removeChild(e)}else{if(d&&d.nodeType===3){e.appendData(Ext.String.trim(d.data));f.removeChild(d);d=e.nextSibling;e.nodeIndex=++b}}}else{Ext.fly(e,"_clean").clean();e.nodeIndex=++b}e=d}g.isCleaned=true;return j},empty:W?function(){var b=this.dom;if(b.firstChild){W.setStartBefore(b.firstChild);W.setEndAfter(b.lastChild);W.deleteContents()}}:function(){var b=this.dom;while(b.lastChild){b.removeChild(b.lastChild)}},clearListeners:function(){this.removeAnchor();arguments.callee.$previous.call(this)},clearPositioning:function(b){b=b||"";return this.setStyle({left:b,right:b,top:b,bottom:b,"z-index":"",position:"static"})},createProxy:function(d,e,f){d=(typeof d==="object")?d:{tag:"div",role:"presentation",cls:d};var b=this,c=e?Ext.DomHelper.append(e,d,true):Ext.DomHelper.insertBefore(b.dom,d,true);c.setVisibilityMode(aB.DISPLAY);c.hide();if(f&&b.setBox&&b.getBox){c.setBox(b.getBox())}return c},clearOpacity:function(){return this.setOpacity("")},clip:function(){var c=this,b=c.getData(),d;if(!b[au]){b[au]=true;d=c.getStyle([Z,ap,aq]);b[am]={o:d[Z],x:d[ap],y:d[aq]};c.setStyle(Z,X);c.setStyle(ap,X);c.setStyle(aq,X)}return c},destroy:function(){var b=this,e=b.dom,f=b.getData(),c,d;if(e){if(b.isAnimate){b.stopAnimation()}b.removeAnchor()}arguments.callee.$previous.call(this);if(e&&Ext.isIE8&&(e.window!=e)&&(e.nodeType!==9)&&(e.tagName!=="BODY")&&(e.tagName!=="HTML")){Y[Y.length]=e;aG()}if(f){c=f.maskEl;d=f.maskMsg;if(c){c.destroy()}if(d){d.destroy()}}},enableDisplayMode:function(b){var c=this;c.setVisibilityMode(aB.DISPLAY);if(b!==undefined){c.getData()[ay]=b}return c},fadeIn:function(b){var d=this,c=d.dom;d.animate(Ext.apply({},b,{opacity:1,internalListeners:{beforeanimate:function(e){var f=Ext.fly(c,"_anim");if(f.isStyle("display","none")){f.setDisplayed("")}else{f.show()}}}}));return this},fadeOut:function(b){var d=this,c=d.dom;b=Ext.apply({opacity:0,internalListeners:{afteranimate:function(e){if(c&&e.to.opacity===0){var f=Ext.fly(c,"_anim");if(b.useDisplay){f.setDisplayed(false)}else{f.hide()}}}}},b);d.animate(b);return d},fixDisplay:function(){var b=this;if(b.isStyle(aJ,ad)){b.setStyle(aE,X);b.setStyle(aJ,b._getDisplay());if(b.isStyle(aJ,ad)){b.setStyle(aJ,"block")}}},frame:function(d,g,f){var b=this,e=b.dom,c;d=d||"#C3DAF9";g=g||1;f=f||{};c=function(){var k=Ext.fly(e,"_anim"),l=this,j,m,n;k.show();j=k.getBox();m=Ext.getBody().createChild({role:"presentation",id:k.dom.id+"-anim-proxy",style:{position:"absolute","pointer-events":"none","z-index":35000,border:"0px solid "+d}});n=new Ext.fx.Anim({target:m,duration:f.duration||1000,iterations:g,from:{top:j.y,left:j.x,borderWidth:0,opacity:1,height:j.height,width:j.width},to:{top:j.y-20,left:j.x-20,borderWidth:10,opacity:0,height:j.height+40,width:j.width+40}});n.on("afteranimate",function(){m.destroy();l.end()})};b.animate({duration:(Math.max(f.duration,500)*2)||2000,listeners:{beforeanimate:{fn:c}},callback:f.callback,scope:f.scope});return b},getColor:function(c,b,e){var j=this.getStyle(c),k=e||e===""?e:"#",g,d,f=0;if(!j||(/transparent|inherit/.test(j))){return b}if(/^r/.test(j)){j=j.slice(4,j.length-1).split(",");d=j.length;for(;f<d;f++){g=parseInt(j[f],10);k+=(g<16?"0":"")+g.toString(16)}}else{j=j.replace("#","");k+=j.length===3?j.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):j}return(k.length>5?k.toLowerCase():b)},getLoader:function(){var c=this,b=c.getData(),d=b.loader;if(!d){b.loader=d=new Ext.ElementLoader({target:c})}return d},getPositioning:function(c){var d=this.getStyle(["left","top","position","z-index"]),b=this.dom;if(c){if(d.left==="auto"){d.left=b.offsetLeft+"px"}if(d.top==="auto"){d.top=b.offsetTop+"px"}}return d},ghost:function(d,f){var b=this,e=b.dom,c;d=d||"b";c=function(){var k=Ext.fly(e,"_anim"),l=k.getWidth(),n=k.getHeight(),j=k.getXY(),m=k.getPositioning(),g={opacity:0};switch(d){case"t":g.y=j[1]-n;break;case"l":g.x=j[0]-l;break;case"r":g.x=j[0]+l;break;case"b":g.y=j[1]+n;break;case"tl":g.x=j[0]-l;g.y=j[1]-n;break;case"bl":g.x=j[0]-l;g.y=j[1]+n;break;case"br":g.x=j[0]+l;g.y=j[1]+n;break;case"tr":g.x=j[0]+l;g.y=j[1]-n;break}this.to=g;this.on("afteranimate",function(){var o=Ext.fly(e,"_anim");if(o){o.hide();o.clearOpacity();o.setPositioning(m)}})};b.animate(Ext.applyIf(f||{},{duration:500,easing:"ease-out",listeners:{beforeanimate:c}}));return b},hide:function(b){if(typeof b==="string"){this.setVisible(false,b);return this}this.setVisible(false,this.anim(b));return this},highlight:function(e,g){var n=this,d=n.dom,l={},b,k,c,f,j,m;g=g||{};f=g.listeners||{};c=g.attr||"backgroundColor";l[c]=e||"ffff9c";if(!g.to){k={};k[c]=g.endColor||n.getColor(c,"ffffff","")}else{k=g.to}g.listeners=Ext.apply(Ext.apply({},f),{beforeanimate:function(){b=d.style[c];var o=Ext.fly(d,"_anim");o.clearOpacity();o.show();j=f.beforeanimate;if(j){m=j.fn||j;return m.apply(j.scope||f.scope||az,arguments)}},afteranimate:function(){if(d){d.style[c]=b}j=f.afteranimate;if(j){m=j.fn||j;m.apply(j.scope||f.scope||az,arguments)}}});n.animate(Ext.apply({},g,{duration:1000,easing:"ease-in",from:l,to:k}));return n},hover:function(c,d,f,b){var e=this;e.on("mouseenter",c,f||e.dom,b);e.on("mouseleave",d,f||e.dom,b);return e},initDD:function(b,c,e){var d=new Ext.dd.DD(Ext.id(this.dom),b,c);return Ext.apply(d,e)},initDDProxy:function(b,c,e){var d=new Ext.dd.DDProxy(Ext.id(this.dom),b,c);return Ext.apply(d,e)},initDDTarget:function(b,c,e){var d=new Ext.dd.DDTarget(Ext.id(this.dom),b,c);return Ext.apply(d,e)},isFocusable:function(){var c=this.dom,d=false,b;if(c&&!c.disabled){b=c.nodeName;d=!!Ext.Element.naturallyFocusableTags[b]||((b==="A"||b==="LINK")&&!!c.href)||c.getAttribute("tabIndex")!=null||c.contentEditable==="true";if(Ext.isIE8&&b==="INPUT"&&c.type==="hidden"){d=false}d=d&&this.isVisible(true)}return d},isInputField:function(){var b=this.dom,c=b.contentEditable;if((ae[b.tagName]&&b.type!=="button")||(c===""||c==="true")){return true}return false},isTabbable:function(b){var g=this.dom,e=false,f,c,d;if(g&&!g.disabled){f=g.nodeName;d=g.getAttribute("tabIndex");c=d!=null;d-=0;if(f==="A"||f==="LINK"){if(g.href){e=c&&d<0?false:true}else{if(g.contentEditable==="true"){e=!c||(c&&d>=0)?true:false}else{e=c&&d>=0?true:false}}}else{if(g.contentEditable==="true"||Ext.Element.naturallyTabbableTags[f]){e=c&&d<0?false:true}else{if(c&&d>=0){e=true}}}if(Ext.isIE8&&f==="INPUT"&&g.type==="hidden"){e=false}e=e&&(b||((!this.component||this.component.isVisible(true))&&this.isVisible(true)))}return e},isMasked:function(d){var g=this,f=g.getData(),j=f.maskEl,c=f.maskMsg,e=false,b;if(j&&j.isVisible()){if(c){c.center(g)}e=true}else{if(d){b=g.findParentNode();if(b){return Ext.fly(b).isMasked(d)}}}return e},load:function(b){this.getLoader().load(b);return this},mask:function(e,g,d){var k=this,f=k.dom,j=k.getData(),b=j.maskEl,c;if(!(ar.test(f.tagName)&&k.getStyle("position")==="static")){k.addCls(ak)}if(b){b.destroy()}b=Ext.DomHelper.append(f,{role:"presentation",cls:"x-mask x-border-box",children:{role:"presentation",cls:g?ao+" "+g:ao,cn:{tag:"div",role:"presentation",cls:"x-mask-msg-inner",cn:{tag:"div",role:"presentation",cls:"x-mask-msg-text",html:e||""}}}},true);c=Ext.get(b.dom.firstChild);j.maskEl=b;k.addCls(ax);b.setDisplayed(true);if(typeof e==="string"){c.setDisplayed(true);c.center(k)}else{c.setDisplayed(false)}if(f===af.body){b.addCls("x-mask-fixed")}k.saveTabbableState({skipSelf:f===af.body});if(Ext.isIE9m&&f!==af.body&&k.isStyle("height","auto")){b.setSize(undefined,d||k.getHeight())}return b},puff:function(f){var g=this,e=g.dom,c,b=g.getBox(),d=g.getStyle(["width","height","left","right","top","bottom","position","z-index","font-size","opacity"],true);f=Ext.applyIf(f||{},{easing:"ease-out",duration:500,useDisplay:false});c=function(){var j=Ext.fly(e,"_anim");j.clearOpacity();j.show();this.to={width:b.width*2,height:b.height*2,x:b.x-(b.width/2),y:b.y-(b.height/2),opacity:0,fontSize:"200%"};this.on("afteranimate",function(){var k=Ext.fly(e,"_anim");if(k){if(f.useDisplay){k.setDisplayed(false)}else{k.hide()}k.setStyle(d);Ext.callback(f.callback,f.scope)}})};g.animate({duration:f.duration,easing:f.easing,listeners:{beforeanimate:{fn:c}}});return g},selectable:function(){var b=this;b.dom.unselectable="";b.removeCls(aB.unselectableCls);b.addCls(aB.selectableCls);return b},setCapture:function(){var b=this.dom;if(Ext.isIE9m&&b.setCapture){b.setCapture()}},setHeight:function(d,c){var b=this;if(!c||!b.anim){arguments.callee.$previous.apply(this,arguments)}else{if(!Ext.isObject(c)){c={}}b.animate(Ext.applyIf({to:{height:d}},c))}return b},setHorizontal:function(){var b=this,c=b.verticalCls;delete b.vertical;if(c){delete b.verticalCls;b.removeCls(c)}delete b.setWidth;delete b.setHeight;if(!Ext.isIE8){delete b.getWidth;delete b.getHeight}delete b.styleHooks},updateText:function(e){var d=this,b,c;if(b){c=b.firstChild;if(!c||(c.nodeType!==3||c.nextSibling)){c=af.createTextNode();d.empty();b.appendChild(c)}if(e){c.data=e}}},setHtml:function(b,c,e,k){var j=this,g,f,d;if(!j.dom){return j}b=b||"";f=j.dom;if(c!==true){f.innerHTML=b;Ext.callback(e,j);return j}g=Ext.id();b+='<span id="'+g+'" role="presentation"></span>';d=Ext.interval(function(){var l,o,p,q,r,m,n;if(!(m=af.getElementById(g))){return false}clearInterval(d);Ext.removeNode(m);l=Ext.getHead().dom;while((o=aa.exec(b))){p=o[1];q=p?p.match(aI):false;if(q&&q[2]){n=af.createElement("script");n.src=q[2];r=p.match(aC);if(r&&r[2]){n.type=r[2]}l.appendChild(n)}else{if(o[2]&&o[2].length>0){if(k){Ext.functionFactory(o[2]).call(k)}else{Ext.globalEval(o[2])}}}}Ext.callback(e,k||j)},20);f.innerHTML=b.replace(ag,"");return j},setOpacity:function(c,d){var b=this;if(!b.dom){return b}if(!d||!b.anim){b.setStyle("opacity",c)}else{if(typeof d!="object"){d={duration:350,easing:"ease-in"}}b.animate(Ext.applyIf({to:{opacity:c}},d))}return b},setPositioning:function(b){return this.setStyle(b)},setVertical:function(e,d){var b=this,c=aB.prototype;b.vertical=true;if(d){b.addCls(b.verticalCls=d)}b.setWidth=c.setHeight;b.setHeight=c.setWidth;if(!Ext.isIE8){b.getWidth=c.getHeight;b.getHeight=c.getWidth}b.styleHooks=(e===270)?c.verticalStyleHooks270:c.verticalStyleHooks90},setSize:function(b,d,c){var e=this;if(Ext.isObject(b)){c=d;d=b.height;b=b.width}if(!c||!e.anim){e.dom.style.width=aB.addUnits(b);e.dom.style.height=aB.addUnits(d);if(e.shadow||e.shim){e.syncUnderlays()}}else{if(c===true){c={}}e.animate(Ext.applyIf({to:{width:b,height:d}},c))}return e},setVisible:function(e,d){var b=this,f=b.dom,c=an(b);if(typeof d==="string"){switch(d){case aJ:c=aB.DISPLAY;break;case aE:c=aB.VISIBILITY;break;case V:c=aB.OFFSETS;break;case aH:c=aB.CLIP;break}b.setVisibilityMode(c);d=false}if(!d||!b.anim){if(c===aB.DISPLAY){return b.setDisplayed(e)}else{if(c===aB.OFFSETS){b[e?"removeCls":"addCls"](aA)}else{if(c===aB.CLIP){b[e?"removeCls":"addCls"](av)}else{if(c===aB.VISIBILITY){b.fixDisplay();f.style.visibility=e?"":X}}}}}else{if(e){b.setOpacity(0.01);b.setVisible(true)}if(!Ext.isObject(d)){d={duration:350,easing:"ease-in"}}b.animate(Ext.applyIf({callback:function(){if(!e){Ext.fly(f).setVisible(false).setOpacity(1)}},to:{opacity:(e)?1:0}},d))}b.getData()[al]=e;if(b.shadow||b.shim){b.setUnderlaysVisible(e)}return b},setWidth:function(c,d){var b=this;if(!d||!b.anim){arguments.callee.$previous.apply(this,arguments)}else{if(!Ext.isObject(d)){d={}}b.animate(Ext.applyIf({to:{width:c}},d))}return b},setX:function(c,b){return this.setXY([c,this.getY()],b)},setXY:function(b,d){var c=this;if(!d||!c.anim){arguments.callee.$previous.call(this,b)}else{if(!Ext.isObject(d)){d={}}c.animate(Ext.applyIf({to:{x:b[0],y:b[1]}},d))}return this},setY:function(b,c){return this.setXY([this.getX(),b],c)},show:function(b){if(typeof b==="string"){this.setVisible(true,b);return this}this.setVisible(true,this.anim(b));return this},slideIn:function(e,f,d){var b=this,g=b.dom,k=g.style,l,j,c,m;e=e||"t";f=f||{};l=function(){var n=this,o=f.listeners,p=Ext.fly(g,"_anim"),u,r,s,q;if(!d){p.fixDisplay()}u=p.getBox();if((e=="t"||e=="b")&&u.height===0){u.height=g.scrollHeight}else{if((e=="l"||e=="r")&&u.width===0){u.width=g.scrollWidth}}r=p.getStyle(["width","height","left","right","top","bottom","position","z-index"],true);p.setSize(u.width,u.height);if(f.preserveScroll){c=p.cacheScrollValues()}q=p.wrap({role:"presentation",id:Ext.id()+"-anim-wrap-for-"+p.dom.id,style:{visibility:d?"visible":"hidden"}});m=q.dom.parentNode;q.setPositioning(p.getPositioning());if(q.isStyle("position","static")){q.position("relative")}p.clearPositioning("auto");q.clip();if(c){c()}p.setStyle({visibility:"",position:"absolute"});if(d){q.setSize(u.width,u.height)}switch(e){case"t":s={from:{width:u.width+"px",height:"0px"},to:{width:u.width+"px",height:u.height+"px"}};k.bottom="0px";break;case"l":s={from:{width:"0px",height:u.height+"px"},to:{width:u.width+"px",height:u.height+"px"}};b.anchorAnimX(e);break;case"r":s={from:{x:u.x+u.width,width:"0px",height:u.height+"px"},to:{x:u.x,width:u.width+"px",height:u.height+"px"}};b.anchorAnimX(e);break;case"b":s={from:{y:u.y+u.height,width:u.width+"px",height:"0px"},to:{y:u.y,width:u.width+"px",height:u.height+"px"}};break;case"tl":s={from:{x:u.x,y:u.y,width:"0px",height:"0px"},to:{width:u.width+"px",height:u.height+"px"}};k.bottom="0px";b.anchorAnimX("l");break;case"bl":s={from:{y:u.y+u.height,width:"0px",height:"0px"},to:{y:u.y,width:u.width+"px",height:u.height+"px"}};b.anchorAnimX("l");break;case"br":s={from:{x:u.x+u.width,y:u.y+u.height,width:"0px",height:"0px"},to:{x:u.x,y:u.y,width:u.width+"px",height:u.height+"px"}};b.anchorAnimX("r");break;case"tr":s={from:{x:u.x+u.width,width:"0px",height:"0px"},to:{x:u.x,width:u.width+"px",height:u.height+"px"}};k.bottom="0px";b.anchorAnimX("r");break}q.show();j=Ext.apply({},f);delete j.listeners;j=new Ext.fx.Anim(Ext.applyIf(j,{target:q,duration:500,easing:"ease-out",from:d?s.to:s.from,to:d?s.from:s.to}));j.on("afteranimate",function(){var v=Ext.fly(g,"_anim");v.setStyle(r);if(d){if(f.useDisplay){v.setDisplayed(false)}else{v.hide()}}if(q.dom){if(q.dom.parentNode){q.dom.parentNode.insertBefore(v.dom,q.dom)}else{m.appendChild(v.dom)}q.destroy()}if(c){c()}n.end()});if(o){j.on(o)}};b.animate({duration:f.duration?Math.max(f.duration,500)*2:1000,listeners:{beforeanimate:l}});return b},slideOut:function(b,c){return this.slideIn(b,c,true)},swallowEvent:function(c,b){var f=this,e,d,g=function(j){j.stopPropagation();if(b){j.preventDefault()}};if(Ext.isArray(c)){d=c.length;for(e=0;e<d;e++){f.on(c[e],g)}return f}f.on(c,g);return f},switchOff:function(d){var b=this,e=b.dom,c;d=Ext.applyIf(d||{},{easing:"ease-in",duration:500,remove:false,useDisplay:false});c=function(){var g=Ext.fly(e,"_anim"),j=this,l=g.getSize(),f=g.getXY(),k,m;g.clearOpacity();g.clip();m=g.getPositioning();k=new Ext.fx.Animator({target:e,duration:d.duration,easing:d.easing,keyframes:{33:{opacity:0.3},66:{height:1,y:f[1]+l.height/2},100:{width:1,x:f[0]+l.width/2}}});k.on("afteranimate",function(){var n=Ext.fly(e,"_anim");if(d.useDisplay){n.setDisplayed(false)}else{n.hide()}n.clearOpacity();n.setPositioning(m);n.setSize(l);j.end()})};b.animate({duration:(Math.max(d.duration,500)*2),listeners:{beforeanimate:{fn:c}},callback:d.callback,scope:d.scope});return b},syncContent:function(g){g=Ext.getDom(g);var f=g.childNodes,k=f.length,m=this.dom,l=m.childNodes,o=l.length,q,n,d,b,e,j,p,c=m._extData;if(Ext.isIE9m&&m.mergeAttributes){m.mergeAttributes(g,true);m.src=g.src}else{e=g.attributes;j=e.length;for(q=0;q<j;q++){p=e[q].name;if(p!=="id"){m.setAttribute(p,e[q].value)}}}if(c){c.isSynchronized=false}if(k!==o){m.innerHTML=g.innerHTML;return}for(q=0;q<k;q++){d=f[q];n=l[q];b=d.nodeType;if(b!==n.nodeType||(b===1&&d.tagName!==n.tagName)){m.innerHTML=g.innerHTML;return}if(b===3){n.data=d.data}else{if(d.id&&n.id!==d.id){n.id=d.id}n.style.cssText=d.style.cssText;n.className=d.className;Ext.fly(n,"_syncContent").syncContent(d)}}},toggle:function(c){var b=this;b.setVisible(!b.isVisible(),b.anim(c));return b},unmask:function(){var b=this,e=b.getData(),c=e.maskEl,d;if(c){d=c.dom.style;if(d.clearExpression){d.clearExpression("width");d.clearExpression("height")}if(c){c.destroy();delete e.maskEl}b.removeCls([ax,ak])}b.restoreTabbableState(b.dom===af.body)},unclip:function(){var c=this,b=c.getData(),d;if(b[au]){b[au]=false;d=b[am];if(d.o){c.setStyle(Z,d.o)}if(d.x){c.setStyle(ap,d.x)}if(d.y){c.setStyle(aq,d.y)}}return c},translate:function(d,b,c){if(Ext.supports.CssTransforms&&!Ext.isIE9m){arguments.callee.$previous.apply(this,arguments)}else{if(d!=null){this.dom.style.left=d+"px"}if(b!=null){this.dom.style.top=b+"px"}}},unselectable:function(){var b=this;if(Ext.isOpera){b.dom.unselectable="on"}b.removeCls(aB.selectableCls);b.addCls(aB.unselectableCls);return b},privates:{findTabbableElements:function(k){var j,p,n,d,c,r=this.dom,s=Ext.Element.tabbableSavedCounterAttribute,l=[],m=0,g,e,b,q,o,f;if(!r){return l}if(k){j=k.skipSelf;p=k.skipChildren;n=k.excludeRoot;d=k.includeSaved;c=k.includeHidden}n=n&&Ext.getDom(n);if(n&&n.contains(r)){return l}if(!j&&((d&&r.hasAttribute(s))||this.isTabbable(c))){l[m++]=r}if(p){return l}g=r.querySelectorAll(Ext.Element.tabbableSelector);o=g.length;if(!o){return l}b=new Ext.dom.Fly();for(q=0;q<o;q++){e=g[q];f=+e.getAttribute("tabIndex");if(((d&&e.hasAttribute(s))||(!(f<0)&&b.attach(e).isTabbable(c)))&&!(n&&(n===e||n.contains(e)))){l[m++]=e}}return l},saveTabbableState:function(j){var e=Ext.Element.tabbableSavedCounterAttribute,k=Ext.Element.tabbableSavedValueAttribute,c,b,g,f,d;if(!j||j.includeSaved==null){j=Ext.Object.chain(j||null);j.includeSaved=true}b=this.findTabbableElements(j);for(f=0,d=b.length;f<d;f++){g=b[f];c=+g.getAttribute(e);if(c>0){g.setAttribute(e,++c)}else{if(g.hasAttribute("tabIndex")){g.setAttribute(k,g.getAttribute("tabIndex"))}else{g.setAttribute(k,"none")}g.setAttribute("tabIndex","-1");g.setAttribute(e,"1")}}return b},restoreTabbableState:function(j,b){var d=this.dom,m=Ext.Element.tabbableSavedCounterAttribute,l=Ext.Element.tabbableSavedValueAttribute,f=[],k,g,f,e,c,n;if(!d){return this}if(!b){f=Ext.Array.from(d.querySelectorAll("["+m+"]"))}if(!j){f.unshift(d)}for(c=0,n=f.length;c<n;c++){e=f[c];if(!e.hasAttribute(m)||!e.hasAttribute(l)){continue}g=+e.getAttribute(m);if(g>1){e.setAttribute(m,--g);continue}k=e.getAttribute(l);if(k==="none"){e.removeAttribute("tabIndex")}else{e.setAttribute("tabIndex",k)}e.removeAttribute(l);e.removeAttribute(m)}return f}},deprecated:{"4.0":{methods:{pause:function(c){var b=this;Ext.fx.Manager.setFxDefaults(b.id,{delay:c});return b},scale:function(d,c,b){this.animate(Ext.apply({},b,{width:d,height:c}));return this},shift:function(b){this.animate(b);return this}}},"4.2":{methods:{moveTo:function(d,b,c){return this.setXY([d,b],c)},setBounds:function(c,e,f,d,b){return this.setBox({x:c,y:e,width:f,height:d},b)},setLeftTop:function(e,b){var c=this,d=c.dom.style;d.left=aB.addUnits(e);d.top=aB.addUnits(b);if(c.shadow||c.shim){c.syncUnderlays()}return c},setLocation:function(d,b,c){return this.setXY([d,b],c)}}},"5.0":{methods:{getAttributeNS:function(b,c){return this.getAttribute(c,b)},getCenterXY:function(){return this.getAlignToXY(af,"c-c")},getComputedHeight:function(){return Math.max(this.dom.offsetHeight,this.dom.clientHeight)||parseFloat(this.getStyle(ah))||0},getComputedWidth:function(){return Math.max(this.dom.offsetWidth,this.dom.clientWidth)||parseFloat(this.getStyle(aF))||0},getStyleSize:function(){var f=this,e=this.dom,c=(e===af||e===af.body),g,d,b;if(c){return{width:aB.getViewportWidth(),height:aB.getViewportHeight()}}g=f.getStyle(["height","width"],true);if(g.width&&g.width!=="auto"){d=parseFloat(g.width)}if(g.height&&g.height!=="auto"){b=parseFloat(g.height)}return{width:d||f.getWidth(true),height:b||f.getHeight(true)}},isBorderBox:function(){return true},isDisplayed:function(){return !this.isStyle("display","none")},focusable:"isFocusable"}}}}})(),function(){var H=Ext.dom.Element,J=H.prototype,N=!Ext.isIE8,X=document,O=X.defaultView,k=/alpha\(opacity=(.*)\)/i,S=/^\s+|\s+$/g,K=J.styleHooks,E=Ext.supports,U,L,V,F,T,I,W;J._init(H);delete J._init;Ext.plainTableCls="x-table-plain";Ext.plainListCls="x-list-plain";if(Ext.CompositeElementLite){Ext.CompositeElementLite.importElementMethods()}if(!E.Opacity&&Ext.isIE){Ext.apply(K.opacity,{get:function(c){var d=c.style.filter,e,b;if(d.match){e=d.match(k);if(e){b=parseFloat(e[1]);if(!isNaN(b)){return b?b/100:0}}}return 1},set:function(c,e){var b=c.style,d=b.filter.replace(k,"").replace(S,"");b.zoom=1;if(typeof(e)==="number"&&e>=0&&e<1){e*=100;b.filter=d+(d.length?" ":"")+"alpha(opacity="+e+")"}else{b.filter=d}}})}if(!E.matchesSelector){var Q=/^([a-z]+|\*)?(?:\.([a-z][a-z\-_0-9]*))?$/i,P=/\-/g,Y,D=function(b,d){var c=new RegExp("(?:^|\\s+)"+d.replace(P,"\\-")+"(?:\\s+|$)");if(b&&b!=="*"){b=b.toUpperCase();return function(e){return e.tagName===b&&c.test(e.className)}}return function(e){return c.test(e.className)}},G=function(b){b=b.toUpperCase();return function(c){return c.tagName===b}},M={};J.matcherCache=M;J.is=function(c){if(!c){return true}var b=this.dom,e,l,f,g,j,m,d;if(b.nodeType!==1){return false}if(!(f=Ext.isFunction(c)?c:M[c])){if(!(l=c.match(Q))){g=b.parentNode;if(!g){j=true;g=Y||(Y=X.createDocumentFragment());Y.appendChild(b)}m=Ext.Array.indexOf(Ext.fly(g,"_is").query(c),b)!==-1;if(j){Y.removeChild(b)}return m}d=l[1];e=l[2];M[c]=f=e?D(d,e):G(d)}return f(b)}}if(!O||!O.getComputedStyle){J.getStyle=function(f,n){var m=this,r=m.dom,d=typeof f!=="string",v=f,l=v,o=1,u=n,b=m.styleHooks,e,p,g,j,s,c,q;if(d){g={};v=l[0];q=0;if(!(o=l.length)){return g}}if(!r||r.documentElement){return g||""}p=r.style;if(n){c=p}else{c=r.currentStyle;if(!c){u=true;c=p}}do{j=b[v];if(!j){b[v]=j={name:H.normalize(v)}}if(j.get){s=j.get(r,m,u,c)}else{e=j.name;s=c[e]}if(!d){return s}g[v]=s;v=l[++q]}while(q<o);return g}}if(Ext.isIE8){W=function(c,e,d,b){if(b[this.styleName]==="none"){return"0px"}return b[this.name]};V=["Top","Right","Bottom","Left"];F=V.length;while(F--){T=V[F];I="border"+T+"Width";K["border-"+T.toLowerCase()+"-width"]=K[I]={name:I,styleName:"border"+T+"Style",get:W}}var R="x-sync-repaint";J.syncRepaint=function(){this.addCls(R);this.getWidth();this.removeCls(R)}}if(Ext.isIE10m){Ext.override(H,{focus:function(c,d){var e=this,f;d=d||e.dom;if(Number(c)){Ext.defer(e.focus,c,e,[null,d])}else{Ext.GlobalEvents.fireEvent("beforefocus",d);if(d&&(d.tagName==="INPUT"||d.tagname==="TEXTAREA")){Ext.synchronouslyFocusing=document.activeElement}try{d.focus()}catch(b){f=b}if(Ext.synchronouslyFocusing&&document.activeElement!==d&&!f){d.focus()}Ext.synchronouslyFocusing=null}return e}})}Ext.apply(Ext,{enableGarbageCollector:true,isBorderBox:true,useShims:false,getElementById:function(c){var d=X.getElementById(c),b;if(!d&&(b=Ext.detachedBodyEl)){d=b.dom.querySelector(Ext.makeIdSelector(c))}return d},addBehaviors:function(c){if(!Ext.isReady){Ext.onInternalReady(function(){Ext.addBehaviors(c)})}else{var f={},d,b,e;for(b in c){if((d=b.split("@"))[1]){e=d[0];if(!f[e]){f[e]=Ext.fly(document).select(e,true)}f[e].on(d[1],c[b])}}f=null}}});if(Ext.isIE9m){Ext.getElementById=function(c){var d=X.getElementById(c),b;if(!d&&(b=Ext.detachedBodyEl)){d=b.dom.all[c]}return d};J.getById=function(c,b){var d=this.dom,g=null,e,f;if(d){f=(N&&X.getElementById(c))||d.all[c];if(f){if(b){g=f}else{e=Ext.cache[c];if(e){if(e.skipGarbageCollection||!Ext.isGarbage(e.dom)){g=e}else{e.destroy()}}g=g||new Ext.Element(f)}}}return g}}else{if(!X.querySelector){Ext.getDetachedBody=Ext.getBody;Ext.getElementById=function(b){return X.getElementById(b)};J.getById=function(c,b){var d=X.getElementById(c);return b?d:(d?Ext.get(d):null)}}}if(Ext.isIE&&!(Ext.isIE9p&&X.documentMode>=9)){J.getAttribute=function(b,d){var c=this.dom,e;if(d){e=typeof c[d+":"+b];if(e!=="undefined"&&e!=="unknown"){return c[d+":"+b]||null}return null}if(b==="for"){b="htmlFor"}return c[b]||null}}Ext.onInternalReady(function(){var r=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,b=[],m=J.setWidth,l=J.setHeight,e=J.setSize,d=/^\d+(?:\.\d*)?px$/i,n,p,c,f;if(E.FixedTableWidthBug){K.width={name:"width",set:function(u,v,x){var y=u.style,A=x._needsTableWidthFix,w=y.display;if(A){y.display="none"}y.width=v;if(A){u.scrollWidth;y.display=w}}};J.setWidth=function(w,y){var u=this,B=u.dom,x=B.style,A=u._needsTableWidthFix,v=x.display;if(A&&!y){x.display="none"}m.call(u,w,y);if(A&&!y){B.scrollWidth;x.display=v}return u};J.setSize=function(v,y,x){var C=this,B=C.dom,w=B.style,A=C._needsTableWidthFix,u=w.display;if(A&&!x){w.display="none"}e.call(C,v,y,x);if(A&&!x){B.scrollWidth;w.display=u}return C}}if(Ext.isIE8){K.height={name:"height",set:function(u,v,x){var y=x.component,w,A;if(y&&y._syncFrameHeight&&x===y.el){A=y.frameBody.dom.style;if(d.test(v)){w=y.getFrameInfo();if(w){A.height=(parseInt(v,10)-w.height)+"px"}}else{if(!v||v==="auto"){A.height=""}}}u.style.height=v}};J.setHeight=function(y,w){var v=this.component,u,x;if(v&&v._syncFrameHeight&&this===v.el){x=v.frameBody.dom.style;if(!y||y==="auto"){x.height=""}else{u=v.getFrameInfo();if(u){x.height=(y-u.height)+"px"}}}return l.call(this,y,w)};J.setSize=function(v,A,x){var w=this.component,u,y;if(w&&w._syncFrameHeight&&this===w.el){y=w.frameBody.dom.style;if(!A||A==="auto"){y.height=""}else{u=w.getFrameInfo();if(u){y.height=(A-u.height)+"px"}}}return e.call(this,v,A,x)}}Ext.getDoc().on("selectstart",function(v,u){var w=H.selectableCls,x=H.unselectableCls,A=u&&u.tagName;A=A&&A.toLowerCase();if(A==="input"||A==="textarea"){return}while(u&&u.nodeType===1&&u!==X.documentElement){var y=Ext.fly(u);if(y.hasCls(w)){return}if(y.hasCls(x)){v.stopEvent();return}u=u.parentNode}});function o(u,x,v,y){var w=y[this.name]||"";return r.test(w)?"transparent":w}function g(v,u,w){return function(){v.selectionStart=u;v.selectionEnd=w}}function j(v){var x=E.DisplayChangeInputSelectionBug,w=E.DisplayChangeTextAreaSelectionBug,u,A,B,y;if(x||w){u=H.getActiveElement();A=u&&u.tagName;if((w&&A==="TEXTAREA")||(x&&A==="INPUT"&&u.type==="text")){if(Ext.fly(v).isAncestor(u)){B=u.selectionStart;y=u.selectionEnd;if(Ext.isNumber(B)&&Ext.isNumber(y)){return g(u,B,y)}}}}return Ext.emptyFn}function q(B,w,u,x){var A=x.marginRight,y,v;if(A!=="0px"){y=B.style;v=y.display;y.display="inline-block";A=(u?x:B.ownerDocument.defaultView.getComputedStyle(B,null)).marginRight;y.display=v}return A}function s(B,v,C,w){var A=w.marginRight,x,y,u;if(A!=="0px"){x=B.style;y=j(B);u=x.display;x.display="inline-block";A=(C?w:B.ownerDocument.defaultView.getComputedStyle(B,"")).marginRight;x.display=u;y()}return A}if(!E.RightMargin){K.marginRight=K["margin-right"]={name:"marginRight",get:(E.DisplayChangeInputSelectionBug||E.DisplayChangeTextAreaSelectionBug)?s:q}}if(!E.TransparentColor){n=["background-color","border-color","color","outline-color"];for(p=n.length;p--;){c=n[p];f=H.normalize(c);K[c]=K[f]={name:f,get:o}}}J.verticalStyleHooks90=U=Ext.Object.chain(K);J.verticalStyleHooks270=L=Ext.Object.chain(K);U.width=K.height||{name:"height"};U.height=K.width||{name:"width"};U["margin-top"]={name:"marginLeft"};U["margin-right"]={name:"marginTop"};U["margin-bottom"]={name:"marginRight"};U["margin-left"]={name:"marginBottom"};U["padding-top"]={name:"paddingLeft"};U["padding-right"]={name:"paddingTop"};U["padding-bottom"]={name:"paddingRight"};U["padding-left"]={name:"paddingBottom"};U["border-top"]={name:"borderLeft"};U["border-right"]={name:"borderTop"};U["border-bottom"]={name:"borderRight"};U["border-left"]={name:"borderBottom"};L.width=K.height||{name:"height"};L.height=K.width||{name:"width"};L["margin-top"]={name:"marginRight"};L["margin-right"]={name:"marginBottom"};L["margin-bottom"]={name:"marginLeft"};L["margin-left"]={name:"marginTop"};L["padding-top"]={name:"paddingRight"};L["padding-right"]={name:"paddingBottom"};L["padding-bottom"]={name:"paddingLeft"};L["padding-left"]={name:"paddingTop"};L["border-top"]={name:"borderRight"};L["border-right"]={name:"borderBottom"};L["border-bottom"]={name:"borderLeft"};L["border-left"]={name:"borderTop"};if(!Ext.scopeCss){b.push("x-body")}if(E.Touch){b.push("x-touch")}if(Ext.isIE&&Ext.isIE9m){b.push("x-ie","x-ie9m");b.push("x-ie8p");if(Ext.isIE8){b.push("x-ie8")}else{b.push("x-ie9","x-ie9p")}if(Ext.isIE8m){b.push("x-ie8m")}}if(Ext.isIE10){b.push("x-ie10")}if(Ext.isIE10p){b.push("x-ie10p")}if(Ext.isIE11){b.push("x-ie11")}if(Ext.isEdge){b.push("x-edge")}if(Ext.isGecko){b.push("x-gecko")}if(Ext.isOpera){b.push("x-opera")}if(Ext.isOpera12m){b.push("x-opera12m")}if(Ext.isWebKit){b.push("x-webkit")}if(Ext.isSafari){b.push("x-safari")}if(Ext.isChrome){b.push("x-chrome")}if(Ext.isMac){b.push("x-mac")}if(Ext.isLinux){b.push("x-linux")}if(!E.CSS3BorderRadius){b.push("x-nbr")}if(!E.CSS3LinearGradient){b.push("x-nlg")}if(E.Touch){b.push("x-touch")}if(Ext.os.deviceType){b.push("x-"+Ext.os.deviceType.toLowerCase())}Ext.getBody().addCls(b)},null,{priority:1500})});(Ext.cmd.derive("Ext.GlobalEvents",Ext.mixin.Observable,{alternateClassName:"Ext.globalEvents",observableType:"global",singleton:true,resizeBuffer:100,idleEventMask:{mousemove:1,touchmove:1,pointermove:1,MSPointerMove:1,unload:1},constructor:function(){var c=this;c.callParent();Ext.onInternalReady(function(){c.attachListeners()})},attachListeners:function(){Ext.get(window).on("resize",this.fireResize,this,{buffer:this.resizeBuffer});Ext.getDoc().on("mousedown",this.fireMouseDown,this)},fireMouseDown:function(c){this.fireEvent("mousedown",c)},fireResize:function(){var g=this,k=Ext.Element,f=k.getViewportWidth(),j=k.getViewportHeight();if(g.curHeight!==j||g.curWidth!==f){g.curHeight=j;g.curWidth=f;g.fireEvent("resize",f,j)}}},1,0,0,0,0,0,[Ext,"GlobalEvents",Ext,"globalEvents"],function(c){Ext.on=function(){return c.addListener.apply(c,arguments)};Ext.un=function(){return c.removeListener.apply(c,arguments)};Ext.fireEvent=function(){return c.fireEvent.apply(c,arguments)}}));Ext.define("Ext.overrides.GlobalEvents",{override:"Ext.GlobalEvents",deprecated:{5:{methods:{addListener:function(r,o,n,m,s,u,q){var v,p;if(r==="ready"){p=o}else{if(typeof r!=="string"){for(v in r){if(v==="ready"){p=r[v]}}}}if(p){Ext.onReady(p)}this.callParent([r,o,n,m,s,u,q])}}}}});(Ext.cmd.derive("Ext.Glyph",Ext.Base,{isGlyph:true,constructor:function(c){c&&this.setGlyph(c)},setGlyph:function(e){var d;this.glyphConfig=e;if(typeof e==="string"){d=e.split("@");if(isNaN(e=isNaN(d[0])?parseInt("0"+d[0],16):parseInt(d[0],10))||!e){e=d[0].charCodeAt(0)}this.fontFamily=d[1]||Ext._glyphFontFamily}else{this.fontFamily=Ext._glyphFontFamily}this.codepoint=e;this.character=Ext.String.fromCodePoint(this.codepoint);return this},getStyle:function(){return{"font-family":this.fontFamily}},isEqual:function(c){return c&&c.isGlyph&&c.codepoint===this.codepoint&&c.fontFamily===this.fontFamily},statics:(function(){var c;return{fly:function(b){return b.isGlyph?b:(c||(c=new Ext.Glyph())).setGlyph(b)}}})()},1,0,0,0,0,0,[Ext,"Glyph"],0));Ext.USE_NATIVE_JSON=false;Ext.JSON=(new (function(){var me=this,hasNative=window.JSON&&JSON.toString()==="[object JSON]",useHasOwn=!!{}.hasOwnProperty,pad=function(n){return n<10?"0"+n:n},doDecode=function(json){return eval("("+json+")")},doEncode=function(o,newline){if(o===null||o===undefined){return"null"}else{if(Ext.isDate(o)){return me.encodeDate(o)}else{if(Ext.isString(o)){if(Ext.isMSDate(o)){return me.encodeMSDate(o)}else{return me.encodeString(o)}}else{if(typeof o==="number"){return isFinite(o)?String(o):"null"}else{if(Ext.isBoolean(o)){return String(o)}else{if(o.toJSON){return o.toJSON()}else{if(Ext.isArray(o)){return encodeArray(o,newline)}else{if(Ext.isObject(o)){return encodeObject(o,newline)}else{if(typeof o==="function"){return"null"}}}}}}}}}return"undefined"},m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","\v":"\\u000b"},charToReplace=/[\\\"\x00-\x1f\x7f-\uffff]/g,encodeString=function(s){return'"'+s.replace(charToReplace,function(a){var c=m[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"'},encodeMSDate=function(o){return'"'+o+'"'},encodeArrayPretty=function(o,newline){var len=o.length,cnewline=newline+"   ",sep=","+cnewline,a=["[",cnewline],i;for(i=0;i<len;i+=1){a.push(me.encodeValue(o[i],cnewline),sep)}a[a.length-1]=newline+"]";return a.join("")},encodeObjectPretty=function(o,newline){var cnewline=newline+"   ",sep=","+cnewline,a=["{",cnewline],i,val;for(i in o){val=o[i];if(!useHasOwn||o.hasOwnProperty(i)){if(typeof val==="function"||val===undefined){continue}a.push(me.encodeValue(i)+": "+me.encodeValue(val,cnewline),sep)}}a[a.length-1]=newline+"}";return a.join("")},encodeArray=function(o,newline){if(newline){return encodeArrayPretty(o,newline)}var a=["[",""],len=o.length,i;for(i=0;i<len;i+=1){a.push(me.encodeValue(o[i]),",")}a[a.length-1]="]";return a.join("")},encodeObject=function(o,newline){if(newline){return encodeObjectPretty(o,newline)}var a=["{",""],i,val;for(i in o){val=o[i];if(!useHasOwn||o.hasOwnProperty(i)){if(typeof val==="function"||val===undefined){continue}a.push(me.encodeValue(i),":",me.encodeValue(val),",")}}a[a.length-1]="}";return a.join("")};me.encodeString=encodeString;me.encodeValue=doEncode;me.encodeDate=function(o){return'"'+o.getFullYear()+"-"+pad(o.getMonth()+1)+"-"+pad(o.getDate())+"T"+pad(o.getHours())+":"+pad(o.getMinutes())+":"+pad(o.getSeconds())+'"'};me.encode=function(o){if(hasNative&&Ext.USE_NATIVE_JSON){return JSON.stringify(o)}return me.encodeValue(o)};me.decode=function(json,safe){try{if(hasNative&&Ext.USE_NATIVE_JSON){return JSON.parse(json)}return doDecode(json)}catch(e){if(safe){return null}Ext.raise({sourceClass:"Ext.JSON",sourceMethod:"decode",msg:"You're trying to decode an invalid JSON String: "+json})}};me.encodeMSDate=encodeMSDate;if(!Ext.util){Ext.util={}}Ext.util.JSON=me;Ext.encode=me.encode;Ext.decode=me.decode})());(Ext.cmd.derive("Ext.mixin.Inheritable",Ext.Mixin,{mixinConfig:{id:"inheritable"},getInherited:function(m){var q=this,o=(m&&q.inheritedStateInner)||q.inheritedState,u=q.getRefOwner(),v=q.isContainer,n,s,r,p;if(!o||o.invalid){n=q.getRefOwner();p=q.ownerLayout;if(u){r=p?p===u.layout:true}q.inheritedState=o=Ext.Object.chain(n?n.getInherited(r):Ext.rootInheritedState);if(v){q.inheritedStateInner=s=Ext.Object.chain(o)}q.initInheritedState(o,s);o=(v&&m)?q.inheritedStateInner:q.inheritedState}return o},getInheritedConfig:function(j,g){var k=this.inheritedState,m,l;if(!k||k.invalid){k=this.getInherited()}l=k[j];if(g&&k.hasOwnProperty(j)){m=l;delete k[j];l=k[j];k[j]=m}return l},resolveListenerScope:function(k,j){var m=this,l=(typeof j==="boolean"),n=Ext._namedScopes[k],o;if(!n){o=m.getInheritedConfig("defaultListenerScope",l?j:true)||k||m}else{if(n.isController){o=m.getInheritedConfig("controller",l?j:!n.isSelf)}else{if(n.isSelf){o=m.getInheritedConfig("defaultListenerScope",l&&j)||m}else{if(n.isThis){o=m}}}}return o||null},resolveSatelliteListenerScope:function(l,j){var k=this,m=Ext._namedScopes[j],g;if(!m){g=k.getInheritedConfig("defaultListenerScope")||j||k}else{if(m.isController){g=k.getInheritedConfig("controller")}else{if(m.isSelf){g=k.getInheritedConfig("defaultListenerScope")||l}else{if(m.isThis){g=l}}}}return g||null},lookupReferenceHolder:function(c){return this.getInheritedConfig("referenceHolder",c!==false)||null},getRefOwner:function(){var c=this;return c.ownerCt||c.parent||c.$initParent||c.ownerCmp||c.floatParent},invalidateInheritedState:function(){var c=this.inheritedState;if(c){c.invalid=true;delete this.inheritedState}},privates:{fixReference:function(){var d=this,e;if(d.getReference()){e=d.lookupReferenceHolder();if(e){e.attachReference(d)}}},onInheritedAdd:function(g,e){var f=this;if(f.inheritedState&&e){f.invalidateInheritedState()}if(f.getReference()){Ext.ComponentManager.markReferencesDirty()}},onInheritedRemove:function(g){var e=this,f;if(e.getReference()){f=e.lookupReferenceHolder();if(f){f.clearReference(e)}}if(e.inheritedState&&!g){e.invalidateInheritedState()}}}},0,0,0,0,0,0,[Ext.mixin,"Inheritable"],function(){Ext.rootInheritedState={}}));(Ext.cmd.derive("Ext.mixin.Bindable",Ext.Base,{mixinId:"bindable",config:{bind:{$value:null,lazy:true},controller:null,defaultListenerScope:false,publishes:{$value:null,lazy:true,merge:function(e,d){return this.mergeSets(e,d)}},reference:null,session:{$value:null,lazy:true},twoWayBindable:{$value:null,lazy:true,merge:function(e,d){return this.mergeSets(e,d)}},viewModel:{$value:null,lazy:true}},defaultBindProperty:null,validRefRe:/^[a-z_][a-z0-9_]*$/i,initInheritedState:function(o){var n=this,k=n.getReference(),q=n.getController(),p=n.getConfig("viewModel",true),l=n.getConfig("session",true),m=n.getDefaultListenerScope();if(q){o.controller=q}if(m){o.defaultListenerScope=n}else{if(q){o.defaultListenerScope=q}}if(p){if(!p.isViewModel){p=n}o.viewModel=p}if(l){if(!l.isSession){l=n}o.session=l}if(k){n.referenceKey=(o.referencePath||"")+k;n.viewModelKey=(o.viewModelPath||"")+k}},lookupController:function(c){return this.getInheritedConfig("controller",c)||null},lookupSession:function(d){var e=d?null:this.getSession();if(!e){e=this.getInheritedConfig("session",d);if(e&&!e.isSession){e=e.getInherited().session=e.getSession()}}return e||null},lookupViewModel:function(d){var e=d?null:this.getViewModel();if(!e){e=this.getInheritedConfig("viewModel",d);if(e&&!e.isViewModel){e=e.getInherited().viewModel=e.getViewModel()}}return e||null},publishState:function(p,q){var r=this,y=r.publishedState,v=r.getBind(),s=v&&p&&v[p],u=0,x,A,w,o;if(s&&!s.syncing&&!s.isReadOnly()){if(!(s.calls===0&&(q==null||q===r.getInitialConfig()[p]))){s.setValue(q)}}if(!(A=r.getPublishes())){return}if(!(w=r.lookupViewModel())){return}if(!(o=r.viewModelKey)){return}if(p&&y){if(!A[p]){return}if(!(q&&q.constructor===Object)&&!(q instanceof Array)){if(y[p]===q){return}}o+=".";o+=p}else{y=y||(r.publishedState={});for(x in A){++u;if(x===p){y[x]=q}else{y[x]=r[x]}}if(!u){return}q=y}w.set(o,q)},privates:{addBindableUpdater:function(l){var m=this,k=m.self.$config.configs,g=k[l],j;if(g&&!m.hasOwnProperty(j=g.names.update)){m[j]=g.bindableUpdater||(g.root.bindableUpdater=m.makeBindableUpdater(g))}},applyBind:function(v,b){if(!v){return v}var s=this,p=s.lookupViewModel(),u=s.getTwoWayBindable(),x=s._getBindTemplateScope,r,o,w,q;s.$hasBinds=true;if(!b||typeof b==="string"){b={}}if(Ext.isString(v)){r=v;v={};v[s.defaultBindProperty]=r}for(o in v){w=v[o];r=b[o];if(r&&typeof r!=="string"){r.destroy();r=null;q=true}if(w){r=p.bind(w,s.onBindNotify,s);r._config=Ext.Config.get(o);r.getTemplateScope=x}if(q){delete b[o]}else{b[o]=r}if(u&&u[o]){if(q){s.clearBindableUpdater(o)}else{if(!r.isReadOnly()){s.addBindableUpdater(o)}}}}return b},applyController:function(c){if(c){c=Ext.Factory.controller(c);c.setView(this)}return c},applyPublishes:function(d){if(this.lookupViewModel()){for(var e in d){this.addBindableUpdater(e)}}return d},applySession:function(f){if(!f){return null}if(!f.isSession){var g=this.lookupSession(true),e=(f===true)?{}:f;if(g){f=g.spawn(e)}else{f=new Ext.data.Session(e)}}return f},applyViewModel:function(k){var j=this,f,g;if(!k){return null}if(!k.isViewModel){f={parent:j.lookupViewModel(true),view:j};f.session=j.getSession();if(!g&&!f.parent){f.session=j.lookupSession()}if(k){if(k.constructor===Object){Ext.apply(f,k)}else{if(typeof k==="string"){f.type=k}}}k=Ext.Factory.viewModel(f)}return k},_getBindTemplateScope:function(){return this.scope.resolveListenerScope()},clearBindableUpdater:function(l){var m=this,k=m.self.$config.configs,g=k[l],j;if(g&&m.hasOwnProperty(j=g.names.update)){if(m[j].$bindableUpdater){delete m[j]}}},destroyBindable:function(){var j=this,k=j.getConfig("viewModel",true),g=j.getConfig("session",true),f=j.getController();if(k&&k.isViewModel){k.destroy();j.setViewModel(null)}if(g&&g.isSession){if(g.getAutoDestroy()){g.destroy()}j.setSession(null)}if(f){j.setController(null);f.destroy()}},initBindable:function(){this.initBindable=Ext.emptyFn;this.getBind();this.getPublishes()},makeBindableUpdater:function(e){var f=e.names.update,g=function(c,k){var d=this,b=d.self.prototype[f];if(b){b.call(d,c,k)}d.publishState(e.name,c)};g.$bindableUpdater=true;return g},isSyncing:function(k){var g=this.getBind(),f=false,j;if(g){j=g[k];if(j){f=j.syncing>0}}return f},onBindNotify:function(g,e,f){f.syncing=(f.syncing+1)||1;this[f._config.names.set](g);--f.syncing},removeBindings:function(){var k=this,g,f,j;if(k.$hasBinds){g=k.getBind();if(g&&typeof g!=="string"){for(f in g){j=g[f];j.destroy();j._config=j.getTemplateScope=null}}}k.setBind(null)},updateSession:function(e){var d=this.getInherited();if(e){d.session=e}else{delete d.session}},updateViewModel:function(g){var f=this.getInherited(),e=this.getController();if(g){f.viewModel=g;g.setView(this);if(e){e.initViewModel(g)}}else{delete f.viewModel}}}},0,0,0,0,0,0,[Ext.mixin,"Bindable"],0));(Ext.cmd.derive("Ext.mixin.ComponentDelegation",Ext.Mixin,{mixinConfig:{id:"componentDelegation"},privates:{addDelegatedListener:function(u,r,p,o,w,x,v){var s=this,y,A,q;u=Ext.canonicalEventName(u);w=w||o.order;if(w){q=(o&&o.priority);if(!q){o=o?Ext.Object.chain(o):{};o.priority=s.$orderToPriority[w]}}y=s.$delegatedEvents||(s.$delegatedEvents={});A=y[u]||(y[u]=new Ext.util.Event(s,u));if(A.addListener(r,p,o,x,v)){s.$hasDelegatedListeners._incr_(u)}},clearDelegatedListeners:function(){var k=this,m=k.$delegatedEvents,g,l,j;if(m){for(g in m){l=m[g];j=l.listeners.length;l.clearListeners();k.$hasDelegatedListeners._decr_(g,j);delete m[g]}}},doFireDelegatedEvent:function(q,o){var l=this,p=true,k,n,m;if(l.$hasDelegatedListeners[q]){k=l.getRefOwner();while(k){n=k.$delegatedEvents;if(n){m=n[q];if(m){p=m.fireDelegated(l,o);if(p===false){break}}}k=k.getRefOwner()}}return p},removeDelegatedListener:function(j,m,n){var k=this,o=k.$delegatedEvents,l;if(o){l=o[j];if(l&&l.removeListener(m,n)){k.$hasDelegatedListeners._decr_(j);if(l.listeners.length===0){delete o[j]}}}},destroyComponentDelegation:function(){if(this.clearPropertiesOnDestroy){this.$delegatedEvents=null}}},onClassMixedIn:function(d){function e(){}d.prototype.HasListeners=d.HasListeners=e;e.prototype=d.hasListeners=new Ext.mixin.ComponentDelegation.HasDelegatedListeners()}},0,0,0,0,0,0,[Ext.mixin,"ComponentDelegation"],function(e){function d(){}e.HasDelegatedListeners=d;d.prototype=e.prototype.$hasDelegatedListeners=new Ext.mixin.Observable.HasListeners()}));(Ext.cmd.derive("Ext.mixin.Pluggable",Ext.Base,function(e){var d=[];return{config:{plugins:null},addPlugin:function(b){var c=this,g=c.getPlugins();if(g){b=c.createPlugin(b);b.init(c);g.push(b)}else{c.setPlugins(b)}return b},destroyPlugin:function(b){return this.removePlugin(b,true)},findPlugin:function(l){var o=this.getPlugins(),b=o&&o.length,m,c,n;for(m=0;m<b&&!n;m++){c=o[m];if(c.type===l||c.ptype===l){n=c}}return n||null},getPlugin:function(b){var o=this.getPlugins(),c=o&&o.length,m,l,n;for(m=0;m<c&&!n;m++){l=o[m];if(l.id===b||l.pluginId===b){n=l}}return n||null},removePlugin:function(c,k){var m=this.getPlugins(),l=m&&m.length||0,b;while(l-->0){b=m[l];if(b===c||b.id===c){m.splice(l,1);if(k){if(b.destroy){b.destroy()}}else{if(b.detachCmp){b.detachCmp();if(b.setCmp){b.setCmp(null)}}}break}b=null}return b},privates:{statics:{idSeed:0},activatePlugin:function(m){var c=this,o=c.initialConfig,q=o&&o.plugins,p=null,n,b;if(q){q=d.concat(q);for(n=q.length;n-->0;){b=q[n];if(b===m||b.type===m){c.initialConfig=o=Ext.apply({},o);o.plugins=q;q[n]=p=c.createPlugin(b);break}}}return p},applyPlugins:function(p,q){var b=this,o=q&&q.length||0,c,n,m;p=p?d.concat(p):null;c=p&&p.length||0;for(n=0;n<o;++n){q[n].$dead=true}for(n=0;n<c;++n){p[n]=b.createPlugin(p[n])}for(n=0;n<c;++n){m=p[n];if(m.$dead){delete m.$dead}else{m.init(b)}}for(n=0;n<o;++n){if((m=q[n]).$dead){delete m.$dead;Ext.destroy(m)}}return p},createPlugin:function(b){if(typeof b==="string"){b={type:b}}var c=b;if(!b.isInstance){b.cmp=this;c=Ext.factory(b,null,null,"plugin");delete b.cmp}if(!c.id){c.id=++e.idSeed}if(c.setCmp){c.setCmp(this)}return c}}}},0,0,0,0,0,0,[Ext.mixin,"Pluggable"],0));(Ext.cmd.derive("Ext.Widget",Ext.Evented,{alternateClassName:"Ext.Gadget",isWidget:true,element:{reference:"element"},observableType:"component",cachedConfig:{baseCls:true,cls:null,style:null,border:null,touchAction:null},config:{ui:null,userCls:null},eventedConfig:{width:null,height:null,hidden:null},template:[],classCls:null,classClsRoot:true,clearPropertiesOnDestroy:"async",noBorderCls:"x-noborder-trbl",constructor:function(g){var f=this,e;f.initId(g);f.initElement();f.mixins.observable.constructor.call(f,g);Ext.ComponentManager.register(f);e=f.getController();if(e){e.init(f)}},afterCachedConfig:function(){var p=this,o=p.self.prototype,n=p.referenceList,v=p.renderElement,r,u,s,q,w,x;o.renderTemplate=r=document.createDocumentFragment();r.appendChild(v.clone(true,true));x=r.querySelectorAll("[id]");for(s=0,q=x.length;s<q;s++){u=x[s];u.removeAttribute("id")}for(s=0,q=n.length;s<q;s++){w=n[s];p[w].dom.removeAttribute("reference")}},addCls:function(c){this.el.addCls(c)},applyBaseCls:function(e){var g="x-",f=this.xtype;if(e===true){e=this.classCls||(g+f)}else{if(!e){e=g+f}}return e},applyCls:function(c){if(typeof c=="string"){c=[c]}if(!c||!c.length){c=null}return c},applyHidden:function(c){return !!c},applyTouchAction:function(d,e){if(e!=null){d=Ext.merge({},e,d)}return d},applyWidth:function(c){return this.filterLengthValue(c)},applyHeight:function(c){return this.filterLengthValue(c)},updateBorder:function(c){c=c||c===null;this.el.toggleCls(this.noBorderCls,!c)},clearListeners:function(){var c=this;c.mixins.observable.clearListeners.call(c);c.mixins.componentDelegation.clearDelegatedListeners.call(c)},destroy:function(){var c=this;c.isDestroying=c.destroying=true;c.doDestroy();c.clearListeners();c.isDestroying=c.destroying=false;c.mixins.componentDelegation.destroyComponentDelegation.call(c);Ext.Evented.prototype.destroy.call(this)},doDestroy:function(){var j=this,m=j.referenceList,l,k,g;for(l=0,k=m.length;l<k;l++){g=m[l];if(j.hasOwnProperty(g)){j[g].destroy();j[g]=null}}j.destroyBindable();Ext.ComponentManager.unregister(j)},doFireEvent:function(m,k,g){var j=this,l=j.mixins.observable.doFireEvent.call(j,m,k,g);if(l!==false){l=j.mixins.componentDelegation.doFireDelegatedEvent.call(j,m,k)}return l},getBubbleTarget:function(){return this.getRefOwner()},getElementConfig:function(){var e=this,d=e.element;if(!("children" in d)){d=Ext.apply({children:e.getTemplate()},d)}return d},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getTemplate:function(){return this.template},getClassCls:function(){var l=this.self.prototype,j=l,n,k,o,m;while(j){k=j.classCls;if(k){if(k instanceof Array){for(o=0,m=k.length;o<m;o++){(n||(n=[])).push(k[o])}}else{(n||(n=[])).push(k)}}if(j.classClsRoot&&j.hasOwnProperty("classClsRoot")){break}j=j.superclass}if(n){l.classClsList=n}return n},hide:function(){this.setHidden(true)},initElement:function(){var v=this,u=v.self.prototype,I=v.getId(),s=v.referenceList=v.referenceList=[],G=true,y=!u.hasOwnProperty("renderTemplate"),B,E,C,H,D,w,x,F,A;if(y){G=false;B=document.createDocumentFragment();E=Ext.Element.create(v.processElementConfig.call(u),true);B.appendChild(E)}else{B=v.renderTemplate.cloneNode(true);E=B.firstChild}H=B.querySelectorAll("[reference]");for(D=0,w=H.length;D<w;D++){x=H[D];F=x.getAttribute("reference");if(G){x.removeAttribute("reference")}if(F==="element"){x.id=I;C=v.el=v.addElementReference(F,x);C.dom.setAttribute("data-componentid",I);if(y){A=v.getClassCls();if(A){C.addCls(A)}}}else{v.addElementReferenceOnDemand(F,x)}s.push(F)}if(E===C.dom){v.renderElement=C}else{v.addElementReferenceOnDemand("renderElement",E)}},is:function(c){return Ext.ComponentQuery.is(this,c)},isHidden:function(g){var f=!!this.getHidden(),e;if(!f&&g){e=this.getRefOwner();while(e&&e!==g){f=!!e.getHidden();if(f){break}e=e.getRefOwner()}}return f},isVisible:function(c){return !this.isHidden(c)},isXType:function(e,d){return d?(Ext.Array.indexOf(this.xtypes,e)!==-1):!!this.xtypesMap[e]},lookupTpl:function(c){return Ext.XTemplate.getTpl(this,c)},removeCls:function(c){this.el.removeCls(c)},toggleCls:function(d,e){this.element.toggleCls(d,e)},resolveListenerScope:function(e,d){return this.mixins.inheritable.resolveListenerScope.call(this,e,d)},setSize:function(e,d){if(e&&typeof e==="object"){return this.setSize(e.width,e.height)}if(e!==undefined){this.setWidth(e)}if(d!==undefined){this.setHeight(d)}},show:function(){this.setHidden(false)},updateBaseCls:function(f,k){var g=this,j=g.element;if(k){j.removeCls(k)}if(f){j.addCls(f)}if(!g.isConfiguring){g.syncUiCls()}},updateCls:function(e,d){this.element.replaceCls(d,e)},updateHidden:function(e){var d=this.renderElement;if(d&&!d.destroyed){if(e){d.hide()}else{d.show()}}},applyStyle:function(e,d){if(d&&e===d&&Ext.isObject(d)){e=Ext.apply({},e)}return e},updateStyle:function(c){this.element.applyStyles(c)},updateTouchAction:function(j){var m,g,l,k;for(m in j){g=this[m];l=j[m];if(g&&g.isElement){g.setTouchAction(l)}else{k=true}}if(k){this.el.setTouchAction(j)}},updateUi:function(){this.syncUiCls()},updateWidth:function(c){this.element.setWidth(c)},updateHeight:function(c){this.element.setHeight(c)},up:function(o,n){var p=this.getRefOwner(),q=typeof n==="string",l=typeof n==="number",k=n&&n.isComponent,m=0;if(o){for(;p;p=p.getRefOwner()){m++;if(o.isComponent||o.isWidget){if(p===o){return p}}else{if(Ext.ComponentQuery.is(p,o)){return p}}if(q&&p.is(n)){return}if(l&&m===n){return}if(k&&p===n){return}}}return p},updateLayout:Ext.emptyFn,onFocusEnter:Ext.emptyFn,onFocusLeave:Ext.emptyFn,isAncestor:function(){return false},privates:{addElementReferenceOnDemand:function(d,e){if(this._elementListeners[d]){this.addElementReference(d,e)}else{Ext.Object.defineProperty(this,d,{get:function(){delete this[d];return this.addElementReference(d,e)},configurable:true})}},addElementReference:function(p,n){var m=this,q=m[p]=Ext.get(n),o=m._elementListeners[p],k,l;q.skipGarbageCollection=true;q.component=m;if(o){o=Ext.clone(o);for(k in o){l=o[k];if(typeof l==="object"){l.scope=m}}o.scope=m;q.on(o)}return q},detachFromBody:function(){Ext.getDetachedBody().appendChild(this.element);this.isDetached=true},doAddListener:function(E,u,s,q,C,D,A){var v=this,r=q&&q.element,w=q&&q.delegate,x,B,y;if(r){x={};x[E]=u;if(s){x.scope=s}B=Ext.Element.prototype.$eventOptions;for(y in q){if(B[y]){x[y]=q[y]}}v.mon(v[r],x);return}else{if(w){v.mixins.componentDelegation.addDelegatedListener.call(v,E,u,s,q,C,D,A);return}}Ext.Evented.prototype.doAddListener.call(this,E,u,s,q,C,D,A)},doRemoveListener:function(f,j,k){var g=this;g.mixins.observable.doRemoveListener.call(g,f,j,k);g.mixins.componentDelegation.removeDelegatedListener.call(g,f,j,k)},filterLengthValue:function(c){if(c==="auto"||(!c&&c!==0)){return null}return c},getFocusEl:function(){return this.element},initElementListeners:function(o){var p=this,w=p.self.superclass,x=w._elementListeners,v=o.reference,A=o.children,s,q,y,r,u;if(p.hasOwnProperty("_elementListeners")){s=p._elementListeners}else{s=p._elementListeners=(x?Ext.Object.chain(x):{})}if(v){q=o.listeners;if(q){if(x){y=x[v];if(y){q=Ext.Object.chain(y);Ext.apply(q,o.listeners)}}s[v]=q;o.listeners=null}}if(A){for(u=0,r=A.length;u<r;u++){p.initElementListeners(A[u])}}},initId:function(k){var j=this,f=j.config,g=(k&&k.id)||(f&&f.id);if(g){j.setId(g);j.id=g}else{j.getId()}},processElementConfig:function(){var e=this,f=e.self.superclass,g;if(e.hasOwnProperty("_elementConfig")){g=e._elementConfig}else{g=e._elementConfig=e.getElementConfig();if(f.isWidget){e.processElementConfig.call(f)}e.initElementListeners(g)}return g},reattachToBody:function(){this.isDetached=false},addUi:function(k){var m=this,l=m.getUi(),n,o,j;if(k){k=k.split(" ");j=k.length;l=(l&&l.split(" "))||[];for(n=0;n<j;n++){o=k[n];if(l.indexOf(o)===-1){l.push(o)}}m.setUi(l.join(" "))}},removeUi:function(l){var n=this,m=n.getUi(),o,q,p,k;if(l){l=l.split(" ");k=l.length;m=(m&&m.split(" "))||[];for(o=0;o<k;o++){q=l[o];p=m.indexOf(q);if(p!==-1){m.splice(p,1)}}n.setUi(m.join(" "))}},syncUiCls:function(){var r=this,q=r.getUi(),w=r.currentUiCls,x=r.element,v=r.getBaseCls(),j=r.classClsList,y=[],C,A,u,B,s;if(w){x.removeCls(w)}if(q){q=q.split(" ");for(A=0,u=q.length;A<u;A++){C="-"+q[A];if(v&&(v!==r.classCls)){y.push(v+C)}if(j){for(B=0,s=j.length;B<s;B++){y.push(j[B]+C)}}}x.addCls(y);r.currentUiCls=y}},updateUserCls:function(e,d){this.element.replaceCls(d,e)}}},1,["widget"],["widget"],{widget:true},["widget.widget"],[[Ext.mixin.Inheritable.prototype.mixinId||Ext.mixin.Inheritable.$className,Ext.mixin.Inheritable],[Ext.mixin.Bindable.prototype.mixinId||Ext.mixin.Bindable.$className,Ext.mixin.Bindable],[Ext.mixin.ComponentDelegation.prototype.mixinId||Ext.mixin.ComponentDelegation.$className,Ext.mixin.ComponentDelegation],[Ext.mixin.Pluggable.prototype.mixinId||Ext.mixin.Pluggable.$className,Ext.mixin.Pluggable]],[Ext,"Widget",Ext,"Gadget"],function(e){var d=e.prototype;(d.$elementEventOptions=Ext.Object.chain(Ext.Element.prototype.$eventOptions)).element=1;(d.$eventOptions=Ext.Object.chain(d.$eventOptions)).delegate=1}));Ext.define("Ext.overrides.Widget",{override:"Ext.Widget",$configStrict:false,isComponent:true,liquidLayout:true,rendered:true,rendering:true,config:{renderTo:null},constructor:function(e){var g=this,f;(arguments.callee.$previous||Ext.Evented.prototype.constructor).call(this,e);g.getComponentLayout();f=g.getRenderTo();if(f){g.render(f)}},addClsWithUI:function(c){this.el.addCls(c)},afterComponentLayout:Ext.emptyFn,updateLayout:function(){var c=this.getRefOwner();if(c){c.updateLayout()}},destroy:function(){var e=this,d=e.ownerCt;if(d&&d.remove){d.remove(e,false)}(arguments.callee.$previous||Ext.Evented.prototype.destroy).call(this)},finishRender:function(){this.rendering=false;this.initBindable()},getAnimationProps:function(){return{}},getComponentLayout:function(){var e=this,d=e.componentLayout;if(!d){d=e.componentLayout=new Ext.layout.component.Auto();d.setOwner(e)}return d},getEl:function(){return this.element},getTdCls:function(){return"x-"+this.getTdType()+"-"+(this.ui||"default")+"-cell"},getTdType:function(){return this.xtype},getItemId:function(){return this.itemId||this.id},getSizeModel:function(){return Ext.Component.prototype.getSizeModel.apply(this,arguments)},onAdded:function(k,g,f){var j=this;j.ownerCt=k;j.onInheritedAdd(j,f)},onRemoved:function(e){var d=this;if(!e){d.removeBindings()}d.onInheritedRemove(e);d.ownerCt=d.ownerLayout=null},parseBox:function(c){return Ext.Element.parseBox(c)},removeClsWithUI:function(c){this.el.removeCls(c)},render:function(o,j){var l=this,n=l.element,m=Ext.Component.prototype,k;if(!l.ownerCt||l.floating){if(Ext.scopeCss){n.addCls(m.rootCls)}n.addCls(m.borderBoxCls)}if(j){k=o.childNodes[j];if(k){Ext.fly(o).insertBefore(n,k);return}}Ext.fly(o).appendChild(n)},setPosition:function(d,e){this.el.setLocalXY(d,e)},up:function(){return Ext.Component.prototype.up.apply(this,arguments)},isAncestor:function(){return Ext.Component.prototype.isAncestor.apply(this,arguments)},onFocusEnter:function(){return Ext.Component.prototype.onFocusEnter.apply(this,arguments)},onFocusLeave:function(){return Ext.Component.prototype.onFocusLeave.apply(this,arguments)},isLayoutChild:function(e){var d=this.ownerCt;return d?(d===e||d.isLayoutChild(e)):false},privates:{doAddListener:function(o,l,m,p,k,q,n){if(o=="painted"||o=="resize"){this.element.doAddListener(o,l,m||this,p,k)}(arguments.callee.$previous||Ext.Evented.prototype.doAddListener).call(this,o,l,m,p,k,q,n)},doRemoveListener:function(e,f,g){if(e=="painted"||e=="resize"){this.element.doRemoveListener(e,f,g)}(arguments.callee.$previous||Ext.Evented.prototype.doRemoveListener).call(this,e,f,g)}}},function(e){var d=e.prototype;if(Ext.isIE9m){d.addElementReferenceOnDemand=d.addElementReference}});(Ext.cmd.derive("Ext.ProgressBase",Ext.Base,{mixinId:"progressbase",config:{value:0,textTpl:null},applyTextTpl:function(c){if(!c.isTemplate){c=new Ext.XTemplate(c)}return c},applyValue:function(c){return c||0}},0,0,0,0,0,0,[Ext,"ProgressBase"],0));(Ext.cmd.derive("Ext.util.Format",Ext.Base,function(){var c;return{singleton:true,defaultDateFormat:"m/d/Y",thousandSeparator:",",decimalSeparator:".",currencyPrecision:2,currencySign:"$",currencySpacer:"",percentSign:"%",currencyAtEnd:false,stripTagsRe:/<\/?[^>]+>/gi,stripScriptsRe:/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,nl2brRe:/\r?\n/g,hashRe:/#+$/,allHashes:/^#+$/,formatPattern:/[\d,\.#]+/,formatCleanRe:/[^\d\.#]/g,I18NFormatCleanRe:null,formatFns:{},constructor:function(){c=this},nbsp:function(b,e){e=e!==false;if(e?b===""||b==null:!b){b="\xa0"}return b},undef:function(b){return b!==undefined?b:""},defaultValue:function(b,e){return b!==undefined&&b!==""?b:e},substr:"ab".substr(-1)!="b"?function(j,b,k){var g=String(j);return(b<0)?g.substr(Math.max(g.length+b,0),k):g.substr(b,k)}:function(f,b,g){return String(f).substr(b,g)},lowercase:function(b){return String(b).toLowerCase()},uppercase:function(b){return String(b).toUpperCase()},usMoney:function(b){return c.currency(b,"$",2)},currency:function(q,o,r,s,b){var m="",n=",0",p=0;q=q-0;if(q<0){q=-q;m="-"}r=Ext.isDefined(r)?r:c.currencyPrecision;n+=(r>0?".":"");for(;p<r;p++){n+="0"}q=c.number(q,n);if(b==null){b=c.currencySpacer}if((s||c.currencyAtEnd)===true){return Ext.String.format("{0}{1}{2}{3}",m,q,b,o||c.currencySign)}else{return Ext.String.format("{0}{1}{2}{3}",m,o||c.currencySign,b,q)}},date:function(e,b){if(!e){return""}if(!Ext.isDate(e)){e=new Date(Date.parse(e))}return Ext.Date.dateFormat(e,b||Ext.Date.defaultFormat)},dateRenderer:function(b){return function(e){return c.date(e,b)}},hex:function(b,f){var g=parseInt(b||0,10).toString(16);if(f){if(f<0){f=-f;if(g.length>f){g=g.substring(g.length-f)}}while(g.length<f){g="0"+g}}return g},or:function(b,e){return b||e},pick:function(g,j,b){if(Ext.isNumber(g)){var k=arguments[g+1];if(k){return k}}return g?b:j},lessThanElse:function(m,r,b,s,n){var q=Ext.Number.from(m,0),o=Ext.Number.from(r,0),p=!Ext.isDefined(n);return q<o?b:(q>o?s:(p?s:n))},sign:function(b,j,k,g){if(g===undefined){g=k}return c.lessThanElse(b,0,j,k,g)},stripTags:function(b){return !b?b:String(b).replace(c.stripTagsRe,"")},stripScripts:function(b){return !b?b:String(b).replace(c.stripScriptsRe,"")},fileSize:(function(){var g=1024,f=1048576,b=1073741824;return function(d){var e;if(d<g){if(d===1){e="1 byte"}else{e=d+" bytes"}}else{if(d<f){e=(Math.round(((d*10)/g))/10)+" KB"}else{if(d<b){e=(Math.round(((d*10)/f))/10)+" MB"}else{e=(Math.round(((d*10)/b))/10)+" GB"}}}return e}})(),math:(function(){var b={};return function(f,g){if(!b[g]){b[g]=Ext.functionFactory("v","return v "+g+";")}return b[g](f)}}()),round:function(b,f){var g=Number(b);if(typeof f==="number"){f=Math.pow(10,f);g=Math.round(b*f)/f}else{if(f===undefined){g=Math.round(g)}}return g},number:function(v,C){if(!C){return v}if(isNaN(v)){return""}var D=c.formatFns[C];if(!D){var y=C,b=c.thousandSeparator,u=c.decimalSeparator,B=0,E="",F,x,w,s,G,A;if(C.substr(C.length-2)==="/i"){if(!c.I18NFormatCleanRe||c.lastDecimalSeparator!==u){c.I18NFormatCleanRe=new RegExp("[^\\d\\"+u+"#]","g");c.lastDecimalSeparator=u}C=C.substr(0,C.length-2);F=C.indexOf(b)!==-1;x=C.replace(c.I18NFormatCleanRe,"").split(u)}else{F=C.indexOf(",")!==-1;x=C.replace(c.formatCleanRe,"").split(".")}w=C.replace(c.formatPattern,"");if(x.length>2){}else{if(x.length===2){B=x[1].length;s=x[1].match(c.hashRe);if(s){A=s[0].length;E='trailingZeroes=new RegExp(Ext.String.escapeRegex(utilFormat.decimalSeparator) + "*0{0,'+A+'}$")'}}}G=["var utilFormat=Ext.util.Format,extNumber=Ext.Number,neg,absVal,fnum,parts"+(F?",thousandSeparator,thousands=[],j,n,i":"")+(w?',formatString="'+C+'",formatPattern=/[\\d,\\.#]+/':"")+',trailingZeroes;return function(v){if(typeof v!=="number"&&isNaN(v=extNumber.from(v,NaN)))return"";neg=v<0;',"absVal=Math.abs(v);","fnum=Ext.Number.toFixed(absVal, "+B+");",E,";"];if(F){if(B){G[G.length]='parts=fnum.split(".");';G[G.length]="fnum=parts[0];"}G[G.length]="if(absVal>=1000) {";G[G.length]="thousandSeparator=utilFormat.thousandSeparator;thousands.length=0;j=fnum.length;n=fnum.length%3||3;for(i=0;i<j;i+=n){if(i!==0){n=3;}thousands[thousands.length]=fnum.substr(i,n);}fnum=thousands.join(thousandSeparator);}";if(B){G[G.length]="fnum += utilFormat.decimalSeparator+parts[1];"}}else{if(B){G[G.length]='if(utilFormat.decimalSeparator!=="."){parts=fnum.split(".");fnum=parts[0]+utilFormat.decimalSeparator+parts[1];}'}}G[G.length]='if(neg&&fnum!=="'+(B?"0."+Ext.String.repeat("0",B):"0")+'") { fnum="-"+fnum; }';if(s){G[G.length]='fnum=fnum.replace(trailingZeroes,"");'}G[G.length]="return ";if(w){G[G.length]="formatString.replace(formatPattern, fnum);"}else{G[G.length]="fnum;"}G[G.length]="};";D=c.formatFns[y]=Ext.functionFactory("Ext",G.join(""))(Ext)}return D(v)},numberRenderer:function(b){return function(e){return c.number(e,b)}},percent:function(b,e){return c.number(b*100,e||"0")+c.percentSign},attributes:function(f){if(typeof f==="object"){var g=[],b;for(b in f){if(f.hasOwnProperty(b)){g.push(b,'="',b==="style"?Ext.DomHelper.generateStyles(f[b],null,true):Ext.htmlEncode(f[b]),'" ')}}f=g.join("")}return f||""},plural:function(b,f,g){return b+" "+(b===1?f:(g?g:f+"s"))},nl2br:function(b){return Ext.isEmpty(b)?"":b.replace(c.nl2brRe,"<br/>")},capitalize:Ext.String.capitalize,uncapitalize:Ext.String.uncapitalize,ellipsis:Ext.String.ellipsis,escape:Ext.String.escape,escapeRegex:Ext.String.escapeRegex,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,toggle:Ext.String.toggle,trim:Ext.String.trim,parseBox:function(f){f=f||0;if(typeof f==="number"){return{top:f,right:f,bottom:f,left:f}}var b=f.split(" "),g=b.length;if(g===1){b[1]=b[2]=b[3]=b[0]}else{if(g===2){b[2]=b[0];b[3]=b[1]}else{if(g===3){b[3]=b[1]}}}return{top:parseInt(b[0],10)||0,right:parseInt(b[1],10)||0,bottom:parseInt(b[2],10)||0,left:parseInt(b[3],10)||0}},uri:function(b){return encodeURI(b)},uriCmp:function(b){return encodeURIComponent(b)},wordBreakRe:/[\W\s]+/,word:function(j,l,m){var k=m?(typeof m==="string"?new RegExp(m):m):c.wordBreakRe,b=(j||"").split(k);return b[l||0]||""}}},1,0,0,0,0,0,[Ext.util,"Format"],0));(Ext.cmd.derive("Ext.Template",Ext.Base,{inheritableStatics:{from:function(e,d){e=Ext.getDom(e);return new this(e.value||e.innerHTML,d||"")}},useEval:Ext.isGecko,constructor:function(o){var m=this,q=arguments,k=[],p,n=q.length,l;m.initialConfig={};if(n===1&&Ext.isArray(o)){q=o;n=q.length}if(n>1){for(p=0;p<n;p++){l=q[p];if(typeof l==="object"){Ext.apply(m.initialConfig,l);Ext.apply(m,l)}else{k.push(l)}}}else{k.push(o)}m.html=k.join("")},isTemplate:true,disableFormats:false,tokenRe:/\{(?:(?:(\d+)|([a-z_][\w\-]*))(?::([a-z_\.]+)(?:\(([^\)]*?)?\))?)?)\}/gi,apply:function(d){var e=this;if(e.compiled){if(!e.fn){e.compile()}return e.fn(d).join("")}return e.evaluate(d)},evaluate:function(j){var k=this,n=!k.disableFormats,l=Ext.util.Format,o=k;function m(b,c,d,f,e){if(d==null||d===""){d=c}if(f&&n){if(e){e=[j[d]].concat(Ext.functionFactory("return ["+e+"];")())}else{e=[j[d]]}if(f.substr(0,5)==="this."){return o[f.substr(5)].apply(o,e)}else{if(l[f]){return l[f].apply(l,e)}else{return b}}}else{return j[d]!==undefined?j[d]:""}}return k.html.replace(k.tokenRe,m)},applyOut:function(e,g){var f=this;if(f.compiled){if(!f.fn){f.compile()}g.push.apply(g,f.fn(e))}else{g.push(f.apply(e))}return g},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(e,f){var g=this;g.html=e;g.compiled=!!f;g.fn=null;return g},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var e=this,d;d=e.html.replace(e.compileARe,"\\\\").replace(e.compileBRe,"\\n").replace(e.compileCRe,"\\'").replace(e.tokenRe,e.regexReplaceFn.bind(e));d=(this.disableFormats!==true?"var fm=Ext.util.Format;":"")+(e.useEval?"$=":"return")+" function(v){return ['"+d+"'];};";e.fn=e.useEval?e.evalCompiled(d):(new Function("Ext",d))(Ext);e.compiled=true;return e},evalCompiled:function($){eval($);return $},regexReplaceFn:function(k,l,m,j,g){if(l==null||l===""){l='"'+m+'"'}else{if(this.stringFormat){l=parseInt(l)+1}}if(j&&this.disableFormats!==true){g=g?","+g:"";if(j.substr(0,5)==="this."){j=j+"("}else{if(Ext.util.Format[j]){j="fm."+j+"("}else{return k}}return"',"+j+"v["+l+"]"+g+"),'"}else{return"',v["+l+"] == undefined ? '' : v["+l+"],'"}},insertFirst:function(g,e,f){return this.doInsert("afterBegin",g,e,f)},insertBefore:function(g,e,f){return this.doInsert("beforeBegin",g,e,f)},insertAfter:function(g,e,f){return this.doInsert("afterEnd",g,e,f)},append:function(g,e,f){return this.doInsert("beforeEnd",g,e,f)},doInsert:function(m,k,g,j){var l=Ext.DomHelper.insertHtml(m,Ext.getDom(k),this.apply(g));return j?Ext.get(l):l},overwrite:function(j,f,g){var k=Ext.DomHelper.overwrite(Ext.getDom(j),this.apply(f));return g?Ext.get(k):k}},1,0,0,0,0,0,[Ext,"Template"],function(k){var l=/\{\d+\}/,g=function(b){if(l.test(b)){b=new k(b,m);return function(){return b.apply(arguments)}}else{return function(){return b}}},m={useFormat:false,compiled:true,stringFormat:true},j={};Ext.String.format=Ext.util.Format.format=function(b){var c=j[b]||(j[b]=g(b));return c.apply(this,arguments)};Ext.String.formatEncode=function(){return Ext.String.htmlEncode(Ext.String.format.apply(this,arguments))}}));(Ext.cmd.derive("Ext.util.XTemplateParser",Ext.Base,{constructor:function(c){Ext.apply(this,c)},doTpl:Ext.emptyFn,parse:function(F){var m=this,C=F.length,D={elseif:"elif"},B=m.topRe,O=m.actionsRe,M,N,I,E,K,H,J,s,A,P,L,Q,G;m.level=0;m.stack=N=[];for(M=0;M<C;M=P){B.lastIndex=M;E=B.exec(F);if(!E){m.doText(F.substring(M,C));break}A=E.index;P=B.lastIndex;if(M<A){I=F.substring(M,A);if(!(G&&Ext.String.trim(I)==="")){m.doText(I)}}G=false;if(E[1]){P=F.indexOf("%}",A+2);m.doEval(F.substring(A+2,P));P+=2}else{if(E[2]){P=F.indexOf("]}",A+2);m.doExpr(F.substring(A+2,P));P+=2}else{if(E[3]){m.doTag(E[3])}else{if(E[4]){L=null;while((s=O.exec(E[4]))!==null){I=s[2]||s[3];if(I){I=Ext.String.htmlDecode(I);K=s[1];K=D[K]||K;L=L||{};H=L[K];if(typeof H=="string"){L[K]=[H,I]}else{if(H){L[K].push(I)}else{L[K]=I}}}}if(!L){if(m.elseRe.test(E[4])){m.doElse()}else{if(m.defaultRe.test(E[4])){m.doDefault()}else{m.doTpl();N.push({type:"tpl"})}}}else{if(L["if"]){m.doIf(L["if"],L);N.push({type:"if"})}else{if(L["switch"]){m.doSwitch(L["switch"],L);N.push({type:"switch"});G=true}else{if(L["case"]){m.doCase(L["case"],L)}else{if(L.elif){m.doElseIf(L.elif,L)}else{if(L["for"]){++m.level;if(Q=m.propRe.exec(E[4])){L.propName=Q[1]||Q[2]}m.doFor(L["for"],L);N.push({type:"for",actions:L})}else{if(L.foreach){++m.level;if(Q=m.propRe.exec(E[4])){L.propName=Q[1]||Q[2]}m.doForEach(L.foreach,L);N.push({type:"foreach",actions:L})}else{if(L.exec){m.doExec(L.exec,L);N.push({type:"exec",actions:L})}}}}}}}}}else{if(E[0].length===5){N.push({type:"tpl"})}else{J=N.pop();m.doEnd(J.type,J.actions);if(J.type=="for"||J.type=="foreach"){--m.level}}}}}}}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]+)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|foreach|exec|switch|case|eval|between)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/},1,0,0,0,0,0,[Ext.util,"XTemplateParser"],0));(Ext.cmd.derive("Ext.util.XTemplateCompiler",Ext.util.XTemplateParser,{useEval:Ext.isGecko,useIndex:Ext.isIE8m,useFormat:true,propNameRe:/^[\w\d\$]*$/,compile:function(e){var f=this,g=f.generate(e);return f.useEval?f.evalTpl(g):(new Function("Ext",g))(Ext)},generate:function(f){var g=this,k="var fm=Ext.util.Format,ts=Object.prototype.toString;",j;g.maxLevel=0;g.body=["var c0=values, a0="+g.createArrayTest(0)+", p0=parent, n0=xcount, i0=xindex, k0, v;\n"];if(g.definitions){if(typeof g.definitions==="string"){g.definitions=[g.definitions,k]}else{g.definitions.push(k)}}else{g.definitions=[k]}g.switches=[];g.parse(f);g.definitions.push((g.useEval?"$=":"return")+" function ("+g.fnArgs+") {",g.body.join(""),"}");j=g.definitions.join("\n");g.definitions.length=g.body.length=g.switches.length=0;delete g.definitions;delete g.body;delete g.switches;return j},doText:function(f){var g=this,e=g.body;f=f.replace(g.aposRe,"\\'").replace(g.newLineRe,"\\n");if(g.useIndex){e.push("out[out.length]='",f,"'\n")}else{e.push("out.push('",f,"')\n")}},doExpr:function(e){var d=this.body;d.push("if ((v="+e+") != null) out");if(this.useIndex){d.push("[out.length]=v+''\n")}else{d.push(".push(v+'')\n")}},doTag:function(d){var e=this.parseTag(d);if(e){this.doExpr(e)}else{this.doText("{"+d+"}")}},doElse:function(){this.body.push("} else {\n")},doEval:function(c){this.body.push(c,"\n")},doIf:function(g,f){var e=this;if(g==="."){e.body.push("if (values) {\n")}else{if(e.propNameRe.test(g)){e.body.push("if (",e.parseTag(g),") {\n")}else{e.body.push("if (",e.addFn(g),e.callFn,") {\n")}}if(f.exec){e.doExec(f.exec)}},doElseIf:function(g,f){var e=this;if(g==="."){e.body.push("else if (values) {\n")}else{if(e.propNameRe.test(g)){e.body.push("} else if (",e.parseTag(g),") {\n")}else{e.body.push("} else if (",e.addFn(g),e.callFn,") {\n")}}if(f.exec){e.doExec(f.exec)}},doSwitch:function(f){var g=this,e;if(f==="."||f==="#"){e=f==="."?"values":"xindex";g.body.push("switch (",e,") {\n")}else{if(g.propNameRe.test(f)){g.body.push("switch (",g.parseTag(f),") {\n")}else{g.body.push("switch (",g.addFn(f),g.callFn,") {\n")}}g.switches.push(0)},doCase:function(l){var m=this,n=Ext.isArray(l)?l:[l],k=m.switches.length-1,j,o;if(m.switches[k]){m.body.push("break;\n")}else{m.switches[k]++}for(o=0,k=n.length;o<k;++o){j=m.intRe.exec(n[o]);n[o]=j?j[1]:("'"+n[o].replace(m.aposRe,"\\'")+"'")}m.body.push("case ",n.join(": case "),":\n")},doDefault:function(){var d=this,e=d.switches.length-1;if(d.switches[e]){d.body.push("break;\n")}else{d.switches[e]++}d.body.push("default:\n")},doEnd:function(k,g){var j=this,f=j.level-1;if(k=="for"||k=="foreach"){if(g.exec){j.doExec(g.exec)}j.body.push("}\n");j.body.push("parent=p",f,";values=r",f+1,";xcount=n"+f+";xindex=i",f,"+1;xkey=k",f,";\n")}else{if(k=="if"||k=="switch"){j.body.push("}\n")}}},doFor:function(n,l){var o=this,p,q=o.level,k=q-1,m;if(n==="."){p="values"}else{if(o.propNameRe.test(n)){p=o.parseTag(n)}else{p=o.addFn(n)+o.callFn}}if(o.maxLevel<q){o.maxLevel=q;o.body.push("var ")}if(n=="."){m="c"+q}else{m="a"+k+"?c"+k+"[i"+k+"]:c"+k}o.body.push("i",q,"=0,n",q,"=0,c",q,"=",p,",a",q,"=",o.createArrayTest(q),",r",q,"=values,p",q,",k",q,";\n","p",q,"=parent=",m,"\n","if (c",q,"){if(a",q,"){n",q,"=c",q,".length;}else if (c",q,".isMixedCollection){c",q,"=c",q,".items;n",q,"=c",q,".length;}else if(c",q,".isStore){c",q,"=c",q,".data.items;n",q,"=c",q,".length;}else{c",q,"=[c",q,"];n",q,"=1;}}\n","for (xcount=n",q,";i",q,"<n"+q+";++i",q,"){\n","values=c",q,"[i",q,"]");if(l.propName){o.body.push(".",l.propName)}o.body.push("\n","xindex=i",q,"+1\n");if(l.between){o.body.push('if(xindex>1){ out.push("',l.between,'"); } \n')}},doForEach:function(n,l){var o=this,p,q=o.level,k=q-1,m;if(n==="."){p="values"}else{if(o.propNameRe.test(n)){p=o.parseTag(n)}else{p=o.addFn(n)+o.callFn}}if(o.maxLevel<q){o.maxLevel=q;o.body.push("var ")}if(n=="."){m="c"+q}else{m="a"+k+"?c"+k+"[i"+k+"]:c"+k}o.body.push("i",q,"=-1,n",q,"=0,c",q,"=",p,",a",q,"=",o.createArrayTest(q),",r",q,"=values,p",q,",k",q,";\n","p",q,"=parent=",m,"\n","for(k",q," in c",q,"){\n","xindex=++i",q,"+1;\n","xkey=k",q,";\n","values=c",q,"[k",q,"];");if(l.propName){o.body.push(".",l.propName)}if(l.between){o.body.push('if(xindex>1){ out.push("',l.between,'"); } \n')}},createArrayTest:("isArray" in Array)?function(c){return"Array.isArray(c"+c+")"}:function(c){return"ts.call(c"+c+')==="[object Array]"'},doExec:function(k,j){var l=this,g="f"+l.definitions.length,m=l.guards[l.strict?0:1];l.definitions.push("function "+g+"("+l.fnArgs+") {",m.doTry," var $v = values; with($v) {","  "+k," }",m.doCatch,"}");l.body.push(g+l.callFn+"\n")},guards:[{doTry:"",doCatch:""},{doTry:"try { ",doCatch:" } catch(e) {\n}"}],addFn:function(f){var g=this,k="f"+g.definitions.length,j=g.guards[g.strict?0:1];if(f==="."){g.definitions.push("function "+k+"("+g.fnArgs+") {"," return values","}")}else{if(f===".."){g.definitions.push("function "+k+"("+g.fnArgs+") {"," return parent","}")}else{g.definitions.push("function "+k+"("+g.fnArgs+") {",j.doTry," var $v = values; with($v) {","  return("+f+")"," }",j.doCatch,"}")}}return k},parseTag:function(s){var n=this,l=n.tagRe.exec(s),p,m,q,o,r;if(!l){return null}p=l[1];m=l[2];q=l[3];o=l[4];if(p=="."){if(!n.validTypes){n.definitions.push("var validTypes={string:1,number:1,boolean:1};");n.validTypes=true}r='validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'}else{if(p=="#"){r="xindex"}else{if(p=="$"){r="xkey"}else{if(p.substr(0,7)=="parent."){r=p}else{if(isNaN(p)&&p.indexOf("-")==-1&&p.indexOf(".")!=-1){r="values."+p}else{r="values['"+p+"']"}}}}}if(o){r="("+r+o+")"}if(m&&n.useFormat){q=q?","+q:"";if(m.substr(0,5)!="this."){m="fm."+m+"("}else{m+="("}}else{return r}return m+r+q+")"},evalTpl:function($){eval($);return $},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/^([\w-\.\#\$]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?$/},0,0,0,0,0,0,[Ext.util,"XTemplateCompiler"],function(){var c=this.prototype;c.fnArgs="out,values,parent,xindex,xcount,xkey";c.callFn=".call(this,"+c.fnArgs+")"}));(Ext.cmd.derive("Ext.XTemplate",Ext.Template,{isXTemplate:true,emptyObj:{},fn:null,strict:false,apply:function(f,k,j,g){return this.applyOut(f,[],k,j,g).join("")},applyOut:function(e,s,q,o,m){var p=this,r;if(!p.fn){r=new Ext.util.XTemplateCompiler({useFormat:p.disableFormats!==true,definitions:p.definitions,strict:p.strict});p.fn=r.compile(p.html)}o=o||1;m=m||1;if(p.strict){p.fn(s,e,q||p.emptyObj,o,m)}else{try{p.fn(s,e,q||p.emptyObj,o,m)}catch(n){}}return s},compile:function(){return this},statics:{getTpl:function(k,g){var j=k[g],f;if(j&&!j.isTemplate){j=Ext.ClassManager.dynInstantiate("Ext.XTemplate",j);if(k.hasOwnProperty(g)){f=k}else{for(f=k.self.prototype;f&&!f.hasOwnProperty(g);f=f.superclass){}}f[g]=j;j.owner=f}return j||null}}},0,0,0,0,0,0,[Ext,"XTemplate"],0));(Ext.cmd.derive("Ext.app.EventDomain",Ext.Base,{statics:{instances:{}},isEventDomain:true,isInstance:false,constructor:function(){var c=this;if(!c.isInstance){Ext.app.EventDomain.instances[c.type]=c}c.bus={};c.monitoredClasses=[]},dispatch:function(y,u,w){u=Ext.canonicalEventName(u);var v=this,x=v.bus,s=x[u],C,E,F,D,r,A,B,G;if(!s){return true}for(C in s){if(s.hasOwnProperty(C)&&v.match(y,C,v.controller)){E=s[C];for(F in E){if(E.hasOwnProperty(F)){D=E[F];if(D.controller.isActive()){r=D.list;A=r.length;for(B=0;B<A;B++){G=r[B];if(G.fire.apply(G,w)===false){return false}}}}}}}return true},listen:function(R,J){var A=this,K=A.bus,O=A.idProperty,N=A.monitoredClasses,Q=N.length,L=J.getId(),B=(A.type==="component"),G=B?J.getRefMap():null,E,M,D,F,T,S,U,H,I,C,P;for(F in R){I=R[F];if(B){F=G[F]||F}if(I){if(O){F=F==="*"?F:F.substring(1)}for(C in I){T=null;S=I[C];U=J;C=Ext.canonicalEventName(C);H=new Ext.util.Event(J,C);if(Ext.isObject(S)){T=S;S=T.fn;U=T.scope||J;delete T.fn;delete T.scope}if(typeof S==="string"){S=U[S]}H.addListener(S,U,T);for(E=0;E<Q;++E){P=N[E].hasListeners;if(P){P._incr_(C)}}M=K[C]||(K[C]={});M=M[F]||(M[F]={});D=M[L]||(M[L]={controller:J,list:[]});D.list.push(H)}}}},match:function(f,e){var g=this.idProperty;if(g){return e==="*"||f[g]===e}return false},monitor:function(j){var k=this,f=j.isInstance?j:j.prototype,g=f.doFireEvent;k.monitoredClasses.push(j);f.doFireEvent=function(b,d){var c=this,e;e=g.apply(c,arguments);if(e!==false&&!c.destroyed&&!c.isSuspended(b)){e=k.dispatch(c,b,d)}return e}},unlisten:function(F){var x=this.bus,I=F,K=this.monitoredClasses,A=K.length,H,w,J,y,j,E,v,B,C,G,D;if(F.isController){I=F.getId()}for(w in x){w=Ext.canonicalEventName(w);if(x.hasOwnProperty(w)&&(v=x[w])){for(E in v){H=v[E];G=H[I];if(G){J=G.list;if(J){for(B=0,y=J.length;B<y;++B){j=J[B];j.clearListeners();for(C=0;C<A;++C){D=K[C].hasListeners;if(D){D._decr_(j.name)}}}delete H[I]}}}}}},destroy:function(){this.monitoredClasses=this.bus=null;this.callParent()}},1,0,0,0,0,0,[Ext.app,"EventDomain"],0));(Ext.cmd.derive("Ext.app.domain.Component",Ext.app.EventDomain,{singleton:true,type:"component",constructor:function(){this.callParent();this.monitor(Ext.Widget)},dispatch:function(k,m,n){var o=k.lookupController(false),l,j;while(o){l=o.compDomain;if(l){if(l.dispatch(k,m,n)===false){return false}}j=o.getView();o=j?j.lookupController(true):null}return this.callParent(arguments)},match:function(e,d){return e.is(d)}},1,0,0,0,0,0,[Ext.app.domain,"Component"],0));(Ext.cmd.derive("Ext.util.ProtoElement",Ext.Base,function(){var e=Ext.String.splitWords,d=Ext.Array.toMap;return{isProtoEl:true,clsProp:"cls",styleProp:"style",removedProp:"removed",styleIsText:false,constructor:function(j){var b=this,k,c;if(j){Ext.apply(b,j);k=b.cls;c=b.style;delete b.cls}b.classList=k?e(k):[];b.classMap=k?d(b.classList):{};if(c){if(typeof c==="string"){b.style=Ext.Element.parseStyles(c)}else{if(Ext.isFunction(c)){b.styleFn=c;delete b.style}else{b.style=Ext.apply({},c)}}}},flush:function(){this.flushClassList=[];this.removedClasses={};delete this.style;delete this.unselectableAttr},addCls:function(b){if(!b){return this}var o=this,c=(typeof b==="string")?e(b):b,u=c.length,q=o.classList,v=o.classMap,s=o.flushClassList,r=0,p;for(;r<u;++r){p=c[r];if(!v[p]){v[p]=true;q.push(p);if(s){s.push(p);delete o.removedClasses[p]}}}return o},hasCls:function(b){return b in this.classMap},removeCls:function(b){var c=this,q=c.classList,v=(c.classList=[]),s=d(e(b)),w=q.length,x=c.classMap,r=c.removedClasses,u,p;for(u=0;u<w;++u){p=q[u];if(s[p]){if(r){if(x[p]){r[p]=true;Ext.Array.remove(c.flushClassList,p)}}delete x[p]}else{v.push(p)}}return c},setStyle:function(b,c){var j=this,k=j.style||(j.style={});if(typeof b==="string"){if(arguments.length===1){j.setStyle(Ext.Element.parseStyles(b))}else{k[b]=c}}else{Ext.apply(k,b)}return j},unselectable:function(){this.addCls(Ext.dom.Element.unselectableCls);if(Ext.isOpera){this.unselectableAttr=true}},writeTo:function(b){var k=this,c=k.flushClassList||k.classList,l=k.removedClasses,m;if(k.styleFn){m=Ext.apply({},k.styleFn());Ext.apply(m,k.style)}else{m=k.style}b[k.clsProp]=c.join(" ");if(m){b[k.styleProp]=k.styleIsText?Ext.DomHelper.generateStyles(m,null,true):m}if(l){l=Ext.Object.getKeys(l);if(l.length){b[k.removedProp]=l.join(" ")}}if(k.unselectableAttr){b.unselectable="on"}return b}}},1,0,0,0,0,0,[Ext.util,"ProtoElement"],0));(Ext.cmd.derive("Ext.dom.CompositeElement",Ext.dom.CompositeElementLite,{alternateClassName:"Ext.CompositeElement",isLite:false,getElement:function(c){return c},transformElement:function(c){return Ext.get(c)}},0,0,0,0,0,0,[Ext.dom,"CompositeElement",Ext,"CompositeElement"],0));(Ext.cmd.derive("Ext.util.CSS",Ext.Base,function(){var l,j=null,k=document,m=/(-[a-z])/gi,g=function(c,b){return b.charAt(1).toUpperCase()};return{singleton:true,rules:j,initialized:false,constructor:function(){l=this},createStyleSheet:function(d,b){var e,f=k.getElementsByTagName("head")[0],c=k.createElement("style");c.setAttribute("type","text/css");if(b){c.setAttribute("id",b)}e=c.styleSheet;if(e){f.appendChild(c);e.cssText=d}else{c.appendChild(k.createTextNode(d));f.appendChild(c);e=c.sheet}l.cacheStyleSheet(e);return e},removeStyleSheet:function(c){var b=(typeof c==="string")?k.getElementById(c):c.ownerNode;if(b){b.parentNode.removeChild(b)}},swapStyleSheet:function(b,d){var c;l.removeStyleSheet(b);c=k.createElement("link");c.setAttribute("rel","stylesheet");c.setAttribute("type","text/css");c.setAttribute("id",b);c.setAttribute("href",d);k.getElementsByTagName("head")[0].appendChild(c)},cacheStyleSheet:function(u){if(!j){j=l.rules={}}try{var f=u.cssRules||u.rules,b=f.length-1,d=u.imports,e=d?d.length:0,r,c;for(c=0;c<e;++c){l.cacheStyleSheet(d[c])}for(;b>=0;--b){r=f[b];if(r.styleSheet){l.cacheStyleSheet(r.styleSheet)}l.cacheRule(r,u)}}catch(s){}},cacheRule:function(d,f){if(d.styleSheet){return l.cacheStyleSheet(d.styleSheet)}var b=d.selectorText,c,e;if(b){b=b.split(",");c=b.length;for(e=0;e<c;e++){j[Ext.String.trim(b[e]).toLowerCase()]={parentStyleSheet:f,cssRule:d}}}},getRules:function(b){var c={},d;if(j===null||b){l.refreshCache()}for(d in j){c[d]=j[d].cssRule}return c},refreshCache:function(){var c=k.styleSheets,d=0,e=c.length;j=l.rules={};for(;d<e;d++){try{if(!c[d].disabled){l.cacheStyleSheet(c[d])}}catch(b){}}},getRule:function(e,c,d){var b,f;if(!j||c){l.refreshCache()}if(!Ext.isArray(e)){f=j[e.toLowerCase()];if(f&&!d){f=f.cssRule}return f||null}for(b=0;b<e.length;b++){if(j[e[b]]){return d?j[e[b].toLowerCase()]:j[e[b].toLowerCase()].cssRule}}return null},createRule:function(o,e,c){var f,b=o.cssRules||o.rules,d=b.length;if(o.insertRule){o.insertRule(e+" {"+c+"}",d)}else{o.addRule(e,c||" ")}l.cacheRule(f=b[d],o);return f},updateRule:function(f,b,c){var o,e,d;if(!Ext.isArray(f)){o=l.getRule(f);if(o){if(arguments.length===2){d=Ext.Element.parseStyles(b);for(b in d){o.style[b.replace(m,g)]=d[b]}}else{o.style[b.replace(m,g)]=c}return true}}else{for(e=0;e<f.length;e++){if(l.updateRule(f[e],b,c)){return true}}}return false},deleteRule:function(e){var c=l.getRule(e,false,true),b,d;if(c){b=c.parentStyleSheet;d=Ext.Array.indexOf(b.cssRules||b.rules,c.cssRule);if(b.deleteRule){b.deleteRule(d)}else{b.removeRule(d)}delete j[e]}}}},1,0,0,0,0,0,[Ext.util,"CSS"],0));(Ext.cmd.derive("Ext.fx.easing.Abstract",Ext.Base,{config:{startTime:0,startValue:0},isEasing:true,isEnded:false,constructor:function(c){this.initConfig(c);return this},applyStartTime:function(c){if(!c){c=Ext.Date.now()}return c},updateStartTime:function(c){this.reset()},reset:function(){this.isEnded=false},getValue:Ext.emptyFn},1,0,0,0,0,0,[Ext.fx.easing,"Abstract"],0));(Ext.cmd.derive("Ext.fx.easing.Linear",Ext.fx.easing.Abstract,{config:{duration:0,endValue:0},updateStartValue:function(c){this.distance=this.getEndValue()-c},updateEndValue:function(c){this.distance=c-this.getStartValue()},getValue:function(){var d=Ext.Date.now()-this.getStartTime(),e=this.getDuration();if(d>e){this.isEnded=true;return this.getEndValue()}else{return this.getStartValue()+((d/e)*this.distance)}}},0,0,0,0,["easing.linear"],0,[Ext.fx.easing,"Linear"],0));(Ext.cmd.derive("Ext.util.translatable.Abstract",Ext.Evented,{config:{useWrapper:null,easing:null,easingX:{duration:300},easingY:{duration:300}},x:0,y:0,activeEasingX:null,activeEasingY:null,isAnimating:false,isTranslatable:true,constructor:function(c){this.mixins.observable.constructor.call(this,c);this.position={x:0,y:0}},factoryEasing:function(c){return Ext.factory(c,Ext.fx.easing.Linear,null,"easing")},applyEasing:function(c){if(!this.getEasingX()){this.setEasingX(this.factoryEasing(c))}if(!this.getEasingY()){this.setEasingY(this.factoryEasing(c))}},applyEasingX:function(c){return this.factoryEasing(c)},applyEasingY:function(c){return this.factoryEasing(c)},doTranslate:function(d,e){if(this.hasListeners.translate){this.fireEvent("translate",this,d,e)}},translate:function(e,f,g){if(g){return this.translateAnimated(e,f,g)}if(this.isAnimating){this.stopAnimation()}if(!isNaN(e)&&typeof e=="number"){this.x=e}if(!isNaN(f)&&typeof f=="number"){this.y=f}this.doTranslate(e,f)},translateAxis:function(m,k,l){var g,j;if(m=="x"){g=k}else{j=k}return this.translate(g,j,l)},getPosition:function(){var e=this,d=e.position;d.x=-e.x;d.y=-e.y;return d},animate:function(e,d){this.activeEasingX=e;this.activeEasingY=d;this.isAnimating=true;this.lastX=null;this.lastY=null;Ext.AnimationQueue.start(this.doAnimationFrame,this);this.fireEvent("animationstart",this,this.x,this.y);return this},translateAnimated:function(s,m,o){var p=this;if(!Ext.isObject(o)){o={}}if(p.isAnimating){p.stopAnimation()}p.callback=o.callback;p.callbackScope=o.scope;var q=Ext.Date.now(),n=o.easing,r=(typeof s=="number")?(o.easingX||n||p.getEasingX()||true):null,l=(typeof m=="number")?(o.easingY||n||p.getEasingY()||true):null;if(r){r=p.factoryEasing(r);r.setStartTime(q);r.setStartValue(p.x);r.setEndValue(s);if("duration" in o){r.setDuration(o.duration)}}if(l){l=p.factoryEasing(l);l.setStartTime(q);l.setStartValue(p.y);l.setEndValue(m);if("duration" in o){l.setDuration(o.duration)}}return p.animate(r,l)},doAnimationFrame:function(){var l=this,n=l.activeEasingX,o=l.activeEasingY,m=Date.now(),j,k;if(!l.isAnimating){return}l.lastRun=m;if(n===null&&o===null){l.stopAnimation();return}if(n!==null){l.x=j=Math.round(n.getValue());if(n.isEnded){l.activeEasingX=null;l.fireEvent("axisanimationend",l,"x",j)}}else{j=l.x}if(o!==null){l.y=k=Math.round(o.getValue());if(o.isEnded){l.activeEasingY=null;l.fireEvent("axisanimationend",l,"y",k)}}else{k=l.y}if(l.lastX!==j||l.lastY!==k){l.doTranslate(j,k);l.lastX=j;l.lastY=k}l.fireEvent("animationframe",l,j,k)},stopAnimation:function(){var c=this;if(!c.isAnimating){return}c.activeEasingX=null;c.activeEasingY=null;c.isAnimating=false;Ext.AnimationQueue.stop(c.doAnimationFrame,c);if(!c.destroying){c.fireEvent("animationend",c,c.x,c.y);if(c.callback){c.callback.call(c.callbackScope);c.callback=null}}},refresh:function(){this.translate(this.x,this.y)},destroy:function(){var c=this;c.destroying=true;if(c.isAnimating){c.stopAnimation()}Ext.Evented.prototype.destroy.call(this);c.destroying=false;c.destroyed=true}},1,0,0,0,0,0,[Ext.util.translatable,"Abstract"],0));(Ext.cmd.derive("Ext.util.translatable.Dom",Ext.util.translatable.Abstract,{config:{element:null},applyElement:function(c){if(!c){return}return Ext.get(c)},updateElement:function(){this.refresh()}},0,0,0,0,0,0,[Ext.util.translatable,"Dom"],0));(Ext.cmd.derive("Ext.util.translatable.ScrollPosition",Ext.util.translatable.Dom,{type:"scrollposition",constructor:function(c){if(c&&c.element){this.x=c.element.getScrollLeft();this.y=c.element.getScrollTop()}Ext.util.translatable.Dom.prototype.constructor.call(this,c)},translateAnimated:function(){var c=this.getElement();this.x=c.getScrollLeft();this.y=c.getScrollTop();Ext.util.translatable.Dom.prototype.translateAnimated.apply(this,arguments)},doTranslate:function(e,f){var g=this.getElement();g.setScrollLeft(Math.round(e));g.setScrollTop(Math.round(f))},getPosition:function(){var f=this,e=f.position,g=f.getElement();e.x=g.getScrollLeft();e.y=g.getScrollTop();return e}},1,0,0,0,0,0,[Ext.util.translatable,"ScrollPosition"],0));(Ext.cmd.derive("Ext.scroll.Scroller",Ext.Evented,{factoryConfig:{defaultType:"scroller"},isScroller:true,config:{direction:undefined,element:undefined,scrollbars:null,snapSelector:null,snapOffset:null,msSnapInterval:null,x:true,y:true,scrollElement:null,size:null,spacerXY:null},snappableCls:"x-scroller-snappable",elementCls:"x-scroller",spacerCls:"x-scroller-spacer",noScrollbarsCls:"x-no-scrollbars",statics:{create:function(d,e){return Ext.Factory.scroller(d,e)},getScrollingElement:function(){var j=document,g=this.$standardScrollElement,k=j.scrollingElement,l,m;if(k){return k}if(g===undefined){l=document.createElement("iframe");l.style.height="1px";document.body.appendChild(l);m=l.contentWindow.document;m.write('<!DOCTYPE html><div style="height:9999em">x</div>');m.close();g=m.documentElement.scrollHeight>m.body.scrollHeight;l.parentNode.removeChild(l);this.$standardScrollElement=g}return g?j.documentElement:j.body}},constructor:function(d){var e=this;e.position={x:0,y:0};Ext.Evented.prototype.constructor.call(this,d);e.onDomScrollEnd=Ext.Function.createBuffered(e.onDomScrollEnd,100,e)},destroy:function(){var c=this;c.setX(Ext.emptyString);c.setY(Ext.emptyString);c.setElement(null);c.setScrollElement(null);c.onDomScrollEnd=c._partners=c.component=null;if(c._translatable){c._translatable.destroy();c._translatable=null}c.removeSnapStylesheet();Ext.Evented.prototype.destroy.call(this)},addPartner:function(k,m){var l=this,j=l._partners||(l._partners={}),g=k._partners||(k._partners={});j[k.getId()]={scroller:k,axis:m};g[l.getId()]={scroller:l,axis:m}},applyElement:function(o,j){var m=this,n,l,k;if(j){m.scrollListener.destroy()}if(o){if(o.isElement){n=o}else{n=Ext.get(o)}if(n.dom===document.documentElement||n.dom===document.body){l=Ext.getWin();k=Ext.scroll.Scroller.getScrollingElement()}else{k=l=n}m.setScrollElement(Ext.get(k));m.scrollListener=l.on({scroll:m.onDomScroll,scope:m,destroyable:true});return n}},applySize:function(k,j){var f,g;if(k===null||typeof k==="number"){f=g=k}else{if(k){f=k.x;g=k.y}}if(f===null){f=0}else{if(f===undefined){f=(j?j.x:0)}}if(g===null){g=0}else{if(g===undefined){g=(j?j.y:0)}}return{x:f,y:g}},getClientSize:function(){var c=this.getElement().dom;return{x:c.clientWidth,y:c.clientHeight}},getScrollbarSize:function(){var r=this,w=0,n=0,s=r.getElement(),u,o,p,q,v,x;if(s&&!s.destroyed){o=r.getX();p=r.getY();u=s.dom;if(o||p){x=Ext.getScrollbarSize()}if(o==="scroll"){q=true}else{if(o){q=u.scrollWidth>u.clientWidth}}if(p==="scroll"){v=true}else{if(p){v=u.scrollHeight>u.clientHeight}}if(q){n=x.height}if(v){w=x.width}}return{width:w,height:n}},getPosition:function(){var c=this;if(c.positionDirty){c.updateDomScrollPosition()}return c.position},getSize:function(){var g=this.getElement(),e,f;if(g&&!g.destroyed){f=g.dom;e={x:f.scrollWidth,y:f.scrollHeight}}else{e={x:0,y:0}}return e},getMaxPosition:function(){var k=this.getElement(),f=0,g=0,j;if(k&&!k.destroyed){j=k.dom;f=j.scrollWidth-j.clientWidth;g=j.scrollHeight-j.clientHeight}return{x:f,y:g}},getMaxUserPosition:function(){var l=this,m=l.getElement(),g=0,j=0,k;if(m&&!m.destroyed){k=m.dom;if(l.getX()){g=k.scrollWidth-k.clientWidth}if(l.getY()){j=k.scrollHeight-k.clientHeight}}return{x:g,y:j}},refresh:function(){this.positionDirty=true;this.fireEvent("refresh",this);return this},removePartner:function(g){var f=this._partners,e=g._partners;if(f){delete f[g.getId()]}if(e){delete (e[this.getId()])}},scrollBy:function(j,k,g){var f=this.getPosition();if(j){if(j.length){g=k;k=j[1];j=j[0]}else{if(typeof j!=="number"){g=k;k=j.y;j=j.x}}}j=(typeof j==="number")?j+f.x:null;k=(typeof k==="number")?k+f.y:null;return this.doScrollTo(j,k,g)},scrollIntoView:function(u,s,w,q){var o=this,p=o.getPosition(),r,x,n,v=o.getElement();if(u){r=Ext.fly(u).getScrollIntoViewXY(v,p.x,p.y);x=(s===false)?p.x:r.x;n=r.y;if(n!==p.y||x!==p.x){if(q){o.on({scrollend:"doHighlight",scope:o,single:true,args:[u,q]})}o.doScrollTo(x,n,w)}else{if(q){o.doHighlight(u,q)}}}},isInView:function(c){return this.doIsInView(c)},scrollTo:function(f,g,k){var j;if(f){if(f.length){k=g;g=f[1];f=f[0]}else{if(typeof f!=="number"){k=g;g=f.y;f=f.x}}}if(f<0||g<0){j=this.getMaxPosition();if(f<0){f+=j.x}if(g<0){g+=j.y}}this.doScrollTo(f,g,k)},updateDirection:function(j){var k=this,f,g;if(!j){f=k.getX();g=k.getY();if(f&&g){j=(g==="scroll"&&f==="scroll")?"both":"auto"}else{if(g){j="vertical"}else{if(f){j="horizontal"}}}k._direction=j}else{if(j==="auto"){f=true;g=true}else{if(j==="vertical"){f=false;g=true}else{if(j==="horizontal"){f=true;g=false}else{if(j==="both"){f="scroll";g="scroll"}}}}k.setX(f);k.setY(g)}},updateScrollbars:function(d,e){this.syncScrollbarCls()},updateSize:function(m){var l=this,n=l.getElement(),j=m.x,k=m.y,o;if(n){l.positionDirty=true;o=l.getSpacer();if(!j&&!k){o.hide()}else{if(j>0){j-=1}if(k>0){k-=1}l.setSpacerXY({x:j,y:k});o.show()}}},updateMsSnapInterval:function(){this.initMsSnapInterval()},updateSnapSelector:function(){this.initSnap()},updateSnapOffset:function(){this.initSnap()},updateElement:function(d){var e=this;e.initXStyle();e.initYStyle();d.addCls(e.elementCls);e.initSnap();e.initMsSnapInterval();e.syncScrollbarCls()},updateX:function(c){this.initXStyle()},updateY:function(c){this.initYStyle()},deprecated:{"5":{methods:{getScroller:function(){return this}}},"5.1.0":{methods:{scrollToTop:function(c){return this.scrollTo(0,0,c)},scrollToEnd:function(c){return this.scrollTo(Infinity,Infinity,c)}}}},privates:{getSpacer:function(){var f=this,e=f._spacer,g;if(!e){g=f.getElement();e=f._spacer=g.createChild({cls:f.spacerCls,role:"presentation"},g.dom.firstChild);e.setVisibilityMode(2);e.hide();g.position()}return e},applySpacerXY:function(e,d){if(d&&e.x===d.x&&e.y===d.y){e=undefined}return e},updateSpacerXY:function(k){var n=this,j=n.getSpacer(),l=j.dom.style,o=k.y,m;l.marginTop="";n.translateSpacer(k.x,n.constrainScrollRange(o));l.lineHeight=Number(!parseInt(l.lineHeight,10))+"px";m=o-n.getElement().dom.scrollHeight;if(m>0){l.marginTop=Math.min(m,n.maxSpacerMargin||0)+"px"}},translateSpacer:function(d,e){this.getSpacer().translate(d,e)},doIsInView:function(r,p){var q=this,m=q.component,c={x:false,y:false},o,n=q.getElement(),s;if(r&&(p||(n.contains(r)||(m&&m.owns(r))))){s=n.getRegion();o=Ext.fly(r).getRegion();c.x=o.right>s.left&&o.left<s.right;c.y=o.bottom>s.top&&o.top<s.bottom}return c},constrainScrollRange:function(p){if(p<1000000){return p}if(!this.maxSpacerTranslate){var q=Math.pow(2,32),l=q,n=500,k=Ext.getBody().createChild({style:{position:"absolute",left:"-10000px",top:"0",width:"500px",height:"500px"},cn:{cls:this.spacerCls}},null,true),o=Ext.get(k.firstChild),m=o.dom.style;o.translate(0,q-1);m.lineHeight=Number(!parseInt(m.lineHeight,10))+"px";while(l!==n+1){o.translate(0,(q=n+Math.floor((l-n)/2)));m.lineHeight=Number(!parseInt(m.lineHeight,10))+"px";if(k.scrollHeight<q){l=q}else{n=q}}o.translate(0,Ext.scroll.Scroller.prototype.maxSpacerTranslate=n);l=n*2;while(l!==n+1){o.dom.style.marginTop=((q=n+Math.floor((l-n)/2)))+"px";m.lineHeight=Number(!parseInt(m.lineHeight,10))+"px";if(k.scrollHeight<q){l=q}else{n=q}}Ext.fly(k).destroy();Ext.scroll.Scroller.prototype.maxSpacerMargin=n-Ext.scroll.Scroller.prototype.maxSpacerTranslate}return Math.min(p,this.maxSpacerTranslate)},convertX:function(c){return c},doHighlight:function(e,d){if(d!==true){Ext.fly(e).highlight(d)}else{Ext.fly(e).highlight()}},doScrollTo:function(o,p,x){var q=this,u=q.getScrollElement(),s,w,n,r,v;if(u&&!u.destroyed){w=u.dom;n=(o===Infinity);r=(p===Infinity);if(n||r){s=q.getMaxPosition();if(n){o=s.x}if(r){p=s.y}}o=q.convertX(o);if(x){if(!this._translatable){this._translatable=new Ext.util.translatable.ScrollPosition({element:u})}this._translatable.translate(o,p,x)}else{if(p!=null){w.scrollTop=p}if(o!=null){w.scrollLeft=o;if(Ext.isIE8){v=w.scrollLeft;w.scrollLeft=o}}}q.positionDirty=true}},fireScrollStart:function(f,g){var j=this,k=j.component;j.invokePartners("onPartnerScrollStart",f,g);if(j.hasListeners.scrollstart){j.fireEvent("scrollstart",j,f,g)}if(k&&k.onScrollStart){k.onScrollStart(f,g)}Ext.GlobalEvents.fireEvent("scrollstart",j,f,g)},fireScroll:function(f,g){var j=this,k=j.component;j.invokePartners("onPartnerScroll",f,g);if(j.hasListeners.scroll){j.fireEvent("scroll",j,f,g)}if(k&&k.onScrollMove){k.onScrollMove(f,g)}Ext.GlobalEvents.fireEvent("scroll",j,f,g)},fireScrollEnd:function(f,g){var j=this,k=j.component;j.invokePartners("onPartnerScrollEnd",f,g);if(j.hasListeners.scrollend){j.fireEvent("scrollend",j,f,g)}if(k&&k.onScrollEnd){k.onScrollEnd(f,g)}Ext.GlobalEvents.fireEvent("scrollend",j,f,g)},getElementScroll:function(c){return c.getScroll()},initSnap:function(){var o=this,l=o.getSnapOffset(),n=o.getSnapSelector(),p=o.getElement(),k,m,q;if(p&&n){p.addCls(o.snappableCls);o.removeSnapStylesheet();if(l){k=l.x||0;m=l.y||0;if(k){k=-k+"px"}if(m){m=-m+"px"}}q=k+" "+m+";";o.snapStylesheet=Ext.util.CSS.createStyleSheet("#"+p.id+" "+n+"{-webkit-scroll-snap-coordinate:"+q+"scroll-snap-coordinate:"+q+"}")}},initMsSnapInterval:function(){var l=this.getElement(),m,g,j,k;if(l){m=this.getMsSnapInterval();if(m){g=m.x;j=m.y;k=l.dom.style;if(g){k["-ms-scroll-snap-points-x"]="snapInterval(0px, "+g+"px)"}if(j){k["-ms-scroll-snap-points-y"]="snapInterval(0px, "+j+"px)"}}}},initXStyle:function(){var e=this.getElement(),d=this.getX();if(e&&e.dom){if(!d){d="hidden"}else{if(d===true){d="auto"}}e.setStyle("overflow-x",d)}},initYStyle:function(){var d=this.getElement(),e=this.getY();if(d&&d.dom){if(!e){e="hidden"}else{if(e===true){e="auto"}}d.setStyle("overflow-y",e)}},invokePartners:function(m,l,n){var r=this,p=r._partners,s,o,q=m==="onPartnerScrollEnd";if(!r.suspendSync&!r.isReflecting){for(o in p){s=p[o].scroller;s.isReflecting=true;s[m](r,l,n);if(q){s.isReflecting=false}}}},clearReflecting:function(){this.isReflecting=false},suspendPartnerSync:function(){this.suspendSync=(this.suspendSync||0)+1},resumePartnerSync:function(f){var g=this,e;if(g.suspendSync){g.suspendSync--}if(!g.suspendSync&&f){e=g.getPosition();g.invokePartners("onPartnerScroll",e.x,e.y);g.invokePartners("onPartnerScrollEnd",e.x,e.y)}},updateDomScrollPosition:function(){var g=this,j=g.getScrollElement(),k,f=g.position;if(j&&!j.destroyed){k=g.getElementScroll(j);f.x=k.left;f.y=k.top}g.positionDirty=false;return f},syncWithPartners:function(){var l=this,k=l._partners,j,m,g;l.isReflecting=true;for(j in k){m=k[j].scroller;g=m.getPosition();l.onPartnerScroll(m,g.x,g.y)}l.isReflecting=false},syncScrollbarCls:function(){var c=this.getElement();if(c){c.toggleCls(this.noScrollbarsCls,this.getScrollbars()===false)}},onDomScroll:function(){var j=this,k,f,g;k=j.updateDomScrollPosition();if(j.restoring){return}f=k.x;g=k.y;if(!j.isScrolling){j.isScrolling=Ext.isScrolling=true;j.fireScrollStart(f,g)}j.fireScroll(f,g);j.onDomScrollEnd()},onDomScrollEnd:function(){var j=this,k,f,g;if(j.destroying||j.destroyed){return}k=j.getPosition();f=k.x;g=k.y;j.isScrolling=Ext.isScrolling=false;j.trackingScrollLeft=f;j.trackingScrollTop=g;j.fireScrollEnd(f,g)},onPartnerScroll:function(j,f,g){var k=j._partners[this.getId()].axis;if(k){if(k==="x"){g=null}else{if(k==="y"){f=null}}}this.doScrollTo(f,g,false,true)},onPartnerScrollStart:Ext.privateFn,onPartnerScrollEnd:Ext.privateFn,removeSnapStylesheet:function(){var c=this.snapStylesheet;if(c){Ext.util.CSS.removeStyleSheet(c);this.snapStylesheet=null}},restoreState:function(){var e=this,d=e.getScrollElement();if(d){if(e.trackingScrollTop!==undefined){e.restoring=true;Ext.defer(function(){e.restoring=false},50);e.doScrollTo(e.trackingScrollLeft,e.trackingScrollTop,false)}}}}},1,0,0,0,["scroller.scroller"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.scroll,"Scroller"],function(c){Ext.getViewportScroller=function(){return c.viewport||(c.viewport=new c())};Ext.setViewportScroller=function(b){if(c.viewport!==b){Ext.destroy(c.viewport);c.viewport=b.isScroller?b:new c(b)}};Ext.onReady(function(){Ext.defer(function(){var b=Ext.getViewportScroller();if(!b.getElement()){b.setElement(Ext.getBody())}},100)})}));(Ext.cmd.derive("Ext.util.Floating",Ext.Base,{mixinId:"floating",focusOnToFront:true,shadow:"sides",animateShadow:false,constrain:false,alignOnScroll:true,config:{activeCounter:0,alwaysOnTop:false},preventDefaultAlign:false,_visModeMap:{visibility:1,display:2,offsets:3},constructor:function(){var k=this,l=k.el,j=k.shadow,g,m;if(j){m={mode:(j===true)?"sides":j};g=k.shadowOffset;if(g){m.offset=g}m.animate=k.animateShadow;m.fixed=k.fixed;l.enableShadow(m,false)}if(k.shim||Ext.useShims){l.enableShim({fixed:k.fixed},false)}l.setVisibilityMode(k._visModeMap[k.hideMode]);k.el.on({mousedown:k.onMouseDown,scope:k,capture:true});k.registerWithOwnerCt();k.initHierarchyEvents()},alignTo:function(A,w,B,C,s){var u=this,p,q,x,y,r,v;if(A.isComponent){p=A.el;q=A.destroyed}else{p=A=Ext.get(A);x=p.dom;q=!x||Ext.isGarbage(x)}if(q){u._lastAlignTarget=null;if(u.alignListeners){u.alignListeners.destroy()}return}u.mixins.positionable.alignTo.call(u,p,w,B,C,s!==false);y=u.getXY();r=A.getXY();u.alignVector=[y[0]-r[0],y[1]-r[1]];u._lastAlignTarget=A;u._lastAlignToPos=w;u._lastAlignToOffsets=B;u._topAlignTarget=u.getTopAlignTarget();u.clearClip();if(!u.alignListeners){v={resize:{fn:u.alignOnResize,buffer:100},scope:u,destroyable:true};if(u.alignOnScroll&&!p.contains(u.el)){v.scroll=u.doRealign}u.alignListeners=Ext.on(v)}},initFloatConstrain:function(){var d=this,e=d.floatParent;if((d.constrain||d.constrainHeader)&&!d.constrainTo){d.constrainTo=e?e.getTargetEl():d.container}},initHierarchyEvents:function(){var e=this,d=this.syncHidden;if(!e.hasHierarchyEventListeners){e.mon(Ext.GlobalEvents,{hide:d,collapse:d,show:d,expand:d,added:d,scope:e});e.hasHierarchyEventListeners=true}},registerWithOwnerCt:function(){var f=this,g=f.ownerCt,e=f.zIndexParent;if(e){e.unregisterFloatingItem(f)}e=f.zIndexParent=f.up("[floating]");f.floatParent=g||e;f.initFloatConstrain();delete f.ownerCt;if(e){e.registerFloatingItem(f)}else{Ext.WindowManager.register(f)}},onMouseDown:function(o){var r=this,s=r.focusTask,e=r.getRefOwner(),q=o.pointerType==="touch",p,n,m;if(r.floating&&(!s||!s.id)){if(r.owns(Ext.Element.getActiveElement())){q=true}p=o.target;n=r.el.dom;while(!q&&p&&p!==n){if(Ext.fly(p).isFocusable()){q=true}p=p.parentNode}m=Ext.WindowManager.getActive()===r&&(p===n||q);if(!m){r.toFront(q)}if(!q&&e&&e.containsFocus){o.preventDefault()}}},onBeforeFloatLayout:function(){this.el.preventSync=true},onAfterFloatLayout:function(){var c=this.el;if(c.shadow||c.shim){c.setUnderlaysVisible(true);c.syncUnderlays()}},syncHidden:function(){var j=this,g=j.hidden||!j.rendered,f=j.hierarchicallyHidden=j.isHierarchicallyHidden(),k=j.pendingShow;if(g!==f){if(f){j.hide();j.pendingShow=true}else{if(k){delete j.pendingShow;if(k.length){j.show.apply(j,k)}else{j.show()}}}}},setZIndex:function(d){var e=this;e.el.setZIndex(d);d+=10;if(e.floatingDescendants){d=Math.floor(e.floatingDescendants.setBase(d)/100)*100+10000}return d},doConstrain:function(e){var g=this,f=g.calculateConstrainedPosition(e,null,true);if(f){g.setPosition(f)}},updateActiveCounter:function(e){var g=this,f=g.zIndexParent;if(f&&f!==f.zIndexManager.front&&g.bringParentToFront!==false){f.setActiveCounter(++Ext.ZIndexManager.activeCounter)}f=g.zIndexManager;if(f){f.onComponentUpdate(g)}},updateAlwaysOnTop:function(d){var e=this.zIndexManager;if(e){e.onComponentUpdate(this)}},toFront:function(e){var d=this;if(d.zIndexManager.bringToFront(d,e||!d.focusOnToFront)){if(d.hasListeners.tofront){d.fireEvent("tofront",d,d.el.getZIndex())}}return d},setActive:function(g,k){var j=this,f;if(g){if(j.el.shadow&&j.el.getData().isVisible!==false&&!j.maximized){j.el.enableShadow(null,true)}if(k){f=Ext.ComponentManager.getActiveComponent();if(!f||!f.up(j)){j.focus()}}j.fireEvent("activate",j)}else{j.fireEvent("deactivate",j)}},toBack:function(){this.zIndexManager.sendToBack(this);return this},center:function(){var d=this,e;if(d.isVisible()){e=d.getAlignToXY(d.container,"c-c");d.setPagePosition(e)}else{d.needsCenter=true}return d},onFloatShow:function(){var c=this;if(c.needsCenter){c.center()}else{if(c._lastAlignTarget){c.alignTo(c._lastAlignTarget,c._lastAlignToPos,c._lastAlignToOffsets,false,!c.fixed)}}c.needsCenter=false},fitContainer:function(n){var k=this,l=k.floatParent,o=l?l.getTargetEl():k.container,j=o.getViewSize(),m=l||(o.dom!==document.body)?[0,0]:o.getXY();j.x=m[0];j.y=m[1];k.setBox(j,n)},privates:{onFloatDestroy:function(){this.clearAlignEl()},getTopAlignTarget:function(){var e=this._lastAlignTarget,d=e;while(e&&(d=e)&&e.isComponent){if(d.isFloating()){e=d._lastAlignTarget}else{e=d.up("{isFloating()}");e=e&&e._lastAlignTarget}}return d},clearAlignEl:function(){var c=this;if(c._lastAlignTarget){c.alignListeners=Ext.destroy(c.alignListeners);Ext.un("scroll",c.doRealign,c);c._lastAlignToPos=c._lastAlignTarget=c._lastAlignToOffsets=c._topAlignTarget=null}},alignOnResize:function(){this.doRealign()},doRealign:function(k){var n=this,p=n._lastAlignTarget.el,o,m,l,q;if(p&&n.isVisible()){if(p.isComponent){o=p.destroyed}else{m=p.dom;o=!m||Ext.isGarbage(m)}if(o){n.clearAlignEl()}else{if(!k||(k.getElement().contains(n._topAlignTarget.el)&&!k.getElement().contains(n.el))){l=p.getXY();q=[l[0]+n.alignVector[0],l[1]+n.alignVector[1]];n.setXY(q);if(k){n.clipToScroller(k)}}}}},clipToScroller:function(g){var k=this,j=k._topAlignTarget.getBox(),m=g.getElement().getConstrainRegion(),l=0;if(j.top<m.top){l=1}if(j.right>m.right){l=l|2}if(j.bottom>m.bottom){l=l|4}if(j.left<m.left){l=l|8}if(l){k.clipTo(m,l)}else{k.clearClip()}}}},1,0,0,0,0,0,[Ext.util,"Floating"],0));(Ext.cmd.derive("Ext.util.ElementContainer",Ext.Base,{mixinId:"elementCt",config:{childEls:{$value:{},cached:true,lazy:true,merge:function(m,k,n,o){var p=k?Ext.Object.chain(k):{},q,l;if(m instanceof Array){for(q=m.length;q--;){l=m[q];if(!o||!(l in p)){if(typeof l==="string"){p[l]={name:l,itemId:l}}else{p[l.name]=l}}}}else{if(m){if(m.constructor===Object){for(q in m){if(!o||!(q in p)){l=m[q];if(l===true){p[q]={itemId:q}}else{if(typeof l==="string"){p[q]={itemId:l}}else{p[q]=l;if(!("itemId" in l)){l.itemId=q}}}p[q].name=q}}}else{if(!o||!(m in p)){p[m]={name:m,itemId:m}}}}}return p}}},destroy:function(){var j=this,k=j.getChildEls(),g,f;for(f in k){g=j[f];if(g){if(g.destroy){g.component=null;g.destroy()}j[f]=null}}},privates:{addChildEl:function(e){var f=this,g=f.getChildEls();if(!f.hasOwnProperty("childEls")){f.childEls=g=Ext.Object.chain(g)}if(typeof e==="string"){e={name:e,itemId:e}}g[e.name]=e},afterClassMixedIn:function(f){var g=f.prototype,e=g.childEls;if(e){delete g.childEls;f.getConfigurator().add({childEls:e})}},attachChildEls:function(D,E){var y=this,x=y.getChildEls(),A=E||y,s=A.id+"-",u=!A.frame,k,G,v,B,C,w,F;for(k in x){v=x[k];if(u&&v.frame){continue}C=v.select;if(C){w=D.select(C,true)}else{if(!(C=v.selectNode)){if(!(F=v.id)){F=s+v.itemId;w=Ext.cache[F]}else{w=Ext.cache[F]||D.getById(F)}}else{w=D.selectNode(C,false)}}if(w){if(w.isElement){w.component=A}else{if(w.isComposite&&!w.isLite){G=w.elements;for(B=G.length;B--;){G[B].component=A}}}}y[k]=w||null}}}},0,0,0,0,0,0,[Ext.util,"ElementContainer"],0));(Ext.cmd.derive("Ext.util.Renderable",Ext.Base,{mixinId:"renderable",frameCls:"x-frame",frameIdRegex:/[\-]frame\d+[TMB][LCR]$/,frameElNames:["TL","TC","TR","ML","MC","MR","BL","BC","BR","Table"],frameTpl:["<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'before'); %}</tpl>",'<tpl if="top">','<tpl if="left"><div id="{fgid}TL" data-ref="frameTL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}TR" data-ref="frameTR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}TC" data-ref="frameTC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>",'<tpl if="left"><div id="{fgid}ML" data-ref="frameML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}MR" data-ref="frameMR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}Body" data-ref="frameBody" class="{frameBodyCls} {frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</div>",'<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','<tpl if="bottom">','<tpl if="left"><div id="{fgid}BL" data-ref="frameBL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}BR" data-ref="frameBR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}BC" data-ref="frameBC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>","<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'after'); %}</tpl>"],frameTableTpl:["<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'before'); %}</tpl>",'<table id="{fgid}Table" data-ref="frameTable" class="{frameCls} ','x-table-plain" cellpadding="0" role="presentation">','<tpl if="top">','<tr role="presentation">','<tpl if="left"><td id="{fgid}TL" data-ref="frameTL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}TC" data-ref="frameTC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}TR" data-ref="frameTR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>",'<tr role="presentation">','<tpl if="left"><td id="{fgid}ML" data-ref="frameML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}Body" data-ref="frameBody" class="{frameBodyCls} {frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" style="{mcStyle}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</td>",'<tpl if="right"><td id="{fgid}MR" data-ref="frameMR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>",'<tpl if="bottom">','<tr role="presentation">','<tpl if="left"><td id="{fgid}BL" data-ref="frameBL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}BC" data-ref="frameBC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}BR" data-ref="frameBR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>","</table>","<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'after'); %}</tpl>"],_renderState:0,ariaEl:"el",_layerCls:"x-layer",_fixedLayerCls:"x-fixed-layer",ariaStaticRoles:{presentation:true,article:true,definition:true,directory:true,document:true,img:true,heading:true,math:true,note:true,banner:true,complementary:true,contentinfo:true,navigation:true,search:true,"undefined":true,"null":true},statics:{makeRenderSetter:function(e,f){var g=e.name;return function(d){var k=this,b=(k.renderConfigs||(k.renderConfigs={})),c=b[f];if(k._renderState>=f){(e.setter||e.getSetter()).call(k,d)}else{if(!c){b[f]=c={}}if(!(g in c)){c[g]=k[g]}k[g]=d}return k}},processRenderConfig:function(C,q,A){var v=this.prototype,x=this.getConfigurator(),p=Ext.util.Renderable,r=p.makeRenderSetter,y=C[q],u,s,B,w;for(B in y){s=Ext.Config.get(B);if(!v[w=s.names.set]){u=(s.renderSetter||(s.renderSetter={}));v[w]=u[A]||(u[A]=r(s,A))}}delete C[q];x.add(y)}},onClassMixedIn:function(l){var g=l.override,j=this.processRenderConfig,k=function(b){if(b.beforeRenderConfig){this.processRenderConfig(b,"beforeRenderConfig",1)}if(b.renderConfig){this.processRenderConfig(b,"renderConfig",3)}g.call(this,b)},m=function(b,c){b.override=k;b.processRenderConfig=j;if(c.beforeRenderConfig){b.processRenderConfig(c,"beforeRenderConfig",1)}if(c.renderConfig){b.processRenderConfig(c,"renderConfig",3)}};m(l,l.prototype);l.onExtended(m)},afterRender:function(){var n=this,r={},u=n.protoEl,o=n.el,q,m,s,p,v;n.finishRenderChildren();n._renderState=4;if(n.contentEl){s="x-";p=s+"hidden-";v=n.contentEl=Ext.get(n.contentEl);v.component=n;v.removeCls([s+"hidden",p+"display",p+"offsets"]);n.getContentTarget().appendChild(v.dom)}u.writeTo(r);m=r.removed;if(m){o.removeCls(m)}m=r.cls;if(m.length){o.addCls(m)}m=r.style;if(r.style){o.setStyle(m)}n.protoEl=null;if(!n.ownerCt&&!n.skipLayout){n.updateLayout()}if(!(n.x&&n.y)&&(n.pageX||n.pageY)){n.setPagePosition(n.pageX,n.pageY)}if(n.disableOnRender){n.onDisable()}q=n.controller;if(q&&q.afterRender){q.afterRender(n)}},afterFirstLayout:function(y,q){var w=this,r=w.x,u=w.y,s=w.defaultAlign,B=w.alignOffset,x,A,C,v,p;if(!w.ownerLayout){A=r!==undefined;C=u!==undefined}if(w.floating&&!w.preventDefaultAlign&&(!A||!C)){if(w.floatParent){v=w.floatParent.getTargetEl().getViewRegion();p=w.el.getAlignToXY(w.alignTarget||w.floatParent.getTargetEl(),s,B);v.x=p[0]-v.x;v.y=p[1]-v.y}else{p=w.el.getAlignToXY(w.alignTarget||w.container,s,B);v=w.el.translateXY(p[0],p[1])}r=A?r:v.x;u=C?u:v.y;A=C=true}if(A||C){w.setPosition(r,u)}w.onBoxReady(y,q);x=w.controller;if(x&&x.boxReady){x.boxReady(w,y,q)}},beforeRender:function(){var k=this,j=k.floating,l=k.getComponentLayout(),m=k.userCls,g;k._renderState=1;k.ariaUsesMainElement=k.ariaEl==="el";g=k.controller;if(g&&g.beforeRender){g.beforeRender(k)}k.initBindable();if(k.renderConfigs){k.flushRenderConfigs()}if(k.reference){k.publishState()}if(m){k.addCls(m)}if(j){k.addCls(k.fixed?k._fixedLayerCls:k._layerCls);m=j.cls;if(m){k.addCls(m)}}k.frame=k.frame||k.alwaysFramed;if(!l.initialized){l.initLayout()}k.initOverflow();k.setUI(k.ui)},doApplyRenderTpl:function(j,f){var g=f.$comp,k;if(!g.rendered){k=g.initRenderTpl();k.applyOut(f.renderData,j)}},getElConfig:function(){var p=this,n=p.autoEl,q=p.getFrameInfo(),s={tag:"div",tpl:q?p.initFramingTpl(q.table):p.initRenderTpl()},m=p.layoutTargetCls,o=p.protoEl,l=p.ariaRole,r;p.initStyles(o);if(m&&!q){o.addCls(m)}o.writeTo(s);o.flush();if(n){if(Ext.isString(n)){s.tag=n}else{Ext.apply(s,n)}}if(l&&p.ariaUsesMainElement){s.role=l;if(!p.ariaStaticRoles[l]){s["aria-hidden"]=!!p.hidden;s["aria-disabled"]=!!p.disabled;if(p.ariaLabel&&!p.ariaLabelledBy){s["aria-label"]=p.ariaLabel}if(p.collapsible){s["aria-expanded"]=!p.collapsed}if(p.ariaRenderAttributes){Ext.apply(s,p.ariaRenderAttributes)}if(p.config.ariaAttributes){Ext.apply(s,p.getAriaAttributes())}}}s.id=p.id;if(s.tpl){if(q){s.tplData=r=p.getFrameRenderData();r.renderData=p.initRenderData()}else{s.tplData=p.initRenderData()}}p.ariaRenderAttributes=null;return s},getInsertPosition:function(c){if(c!==undefined){if(Ext.isNumber(c)){c=this.container.dom.childNodes[c]}else{c=Ext.getDom(c)}}return c},getRenderTree:function(){var e=this,d=null;if(!e.hasListeners.beforerender||e.fireEvent("beforerender",e)!==false){e._renderState=1;e.beforeRender();e.rendering=true;e._renderState=2;d=e.getElConfig();if(e.el){d.id=e.$pid=Ext.id(null,e.el.identifiablePrefix)}}return d},initRenderData:function(){var j=this,f=j.ariaRole,g,k;g=Ext.apply({$comp:j,id:j.id,ui:j.ui,uiCls:j.uiCls,baseCls:j.baseCls,componentCls:j.componentCls,frame:j.frame,hasTabGuard:!!j.tabGuard,scrollerCls:j.scrollerCls,childElCls:"",ariaEl:j.ariaEl},j.renderData);if(f&&!j.ariaUsesMainElement){k={role:f};if(!j.ariaStaticRoles[f]){k["aria-hidden"]=!!j.hidden;k["aria-disabled"]=!!j.disabled;if(j.ariaLabel&&!j.ariaLabelledBy){k["aria-label"]=j.ariaLabel}if(j.collapsible){k["aria-expanded"]=!j.collapsed}if(j.ariaRenderAttributes){Ext.apply(k,j.ariaRenderAttributes)}if(j.config.ariaAttributes){Ext.apply(k,j.getAriaAttributes())}}g.ariaAttributes=k}return g},onRender:function(u,s){var q=this,o=q.x,p=q.y,v=null,w=q.el,r=q.scrollable,x,n;q.applyRenderSelectors();if(r&&r.isScroller){r.setElement(q.getOverflowEl());if(Ext.isIE){q.showListenerIE=Ext.on("show",q.onGlobalShow,q,{destroyable:true})}}q.rendering=null;q.rendered=true;q._renderState=3;if(q.renderConfigs){q.flushRenderConfigs()}if(o!=null){v={x:o}}if(p!=null){(v=v||{}).y=p}if(!q.getFrameInfo()){x=q.width;n=q.height;if(typeof x==="number"){v=v||{};v.width=x}if(typeof n==="number"){v=v||{};v.height=n}}q.lastBox=w.lastBox=v},render:function(r,s){var p=this,q=p.el,m=p.ownerLayout,n,l,o;if(q&&!q.isElement){p.wrapPrimaryEl(q);q=p.el}if(!p.skipLayout){Ext.suspendLayouts()}r=p.initContainer(r);o=p.getInsertPosition(s);if(!q){l=p.getRenderTree();if(m&&m.transformItemRenderTree){l=m.transformItemRenderTree(l)}if(l){if(o){q=Ext.DomHelper.insertBefore(o,l)}else{q=Ext.DomHelper.append(r,l)}p.wrapPrimaryEl(q);p.cacheRefEls(q)}}else{if(!p.hasListeners.beforerender||p.fireEvent("beforerender",p)!==false){p.beforeRender();p.needsRenderTpl=p.rendering=true;p._renderState=2;p.initStyles(q);if(p.allowDomMove!==false){if(o){r.dom.insertBefore(q.dom,o)}else{r.dom.appendChild(q.dom)}}}else{n=true}}if(q&&!n){p.finishRender(s)}if(!p.skipLayout){Ext.resumeLayouts(!p.hidden&&!r.isDetachedBody)}},ensureAttachedToBody:function(f){var g=this,e;while(g.ownerCt){g=g.ownerCt}if(g.container.isDetachedBody){g.container=e=Ext.getBody();e.appendChild(g.el.dom);if(f){g.updateLayout()}if(typeof g.x==="number"||typeof g.y==="number"){g.setPosition(g.x,g.y)}}},privates:{applyRenderSelectors:function(){var k=this,m=k.renderSelectors,l=k.el,j,g;k.attachChildEls(l);k.ariaEl=k[k.ariaEl]||k.el;if(m){for(g in m){j=m[g];if(j){k[g]=l.selectNode(j,false)}}}},cacheRefEls:function(p){p=p||this.el;var r=Ext.cache,n=Ext.dom.Element,m=p.isElement?p.dom:p,s=m.querySelectorAll("[data-ref]"),l=s.length,o,q;for(q=0;q<l;q++){o=s[q];if(!r[o.id]){new n(o)}}},doAutoRender:function(){var c=this;if(!c.rendered){if(c.floating){c.render(c.renderTo||document.body)}else{c.render(Ext.isBoolean(c.autoRender)?Ext.getBody():c.autoRender)}}},doRenderContent:function(f,g){var k=g.$comp,j=k.data;if(k.html){Ext.DomHelper.generateMarkup(k.html,f);delete k.html}if(k.tpl){if(!k.tpl.isTemplate){k.tpl=new Ext.XTemplate(k.tpl)}if(j){k.data=j=j.isEntity?j.getData(true):j;k.tpl.applyOut(j,f)}}},doRenderFramingTabGuard:function(k,g,f){var j=g.$comp.layout;g.renderData.$skipTabGuards=true;if(j&&j.doRenderTabGuard){j.doRenderTabGuard.call(this,k,g,f)}},flushRenderConfigs:function(){var q=this,n=q.renderConfigs,o=q._renderState,m,r,s,l,p;if(n){for(r=0;r<=o;++r){m=n[r];if(m){n[r]=null;for(s in m){p=m[s];(l||(l={}))[s]=q[s];q[s]=p}}}if(l){q.setConfig(l)}}},finishRender:function(q){var n=this,x=Ext.cache,o,r,w,p,s,u,v;if(!n.el||n.$pid){if(n.container){v=x[n.id];u=v?v.dom:n.container.getById(n.id,true)}else{w=n.$pid||n.id;v=x[w];u=v?v.dom:Ext.getDom(w)}if(!n.el){n.wrapPrimaryEl(u)}else{delete n.$pid;if(!n.el.dom){n.wrapPrimaryEl(n.el)}u.parentNode.insertBefore(n.el.dom,u);o=u;u=n.el.dom;r=u.firstChild;while(o.firstChild){u.insertBefore(o.firstChild,r)}n.el.addCls(o.className);Ext.removeNode(o)}}else{if(n.needsRenderTpl){p=n.initRenderTpl();if(p){s=n.initRenderData();p.insertFirst(n.getTargetEl(),s)}n.cacheRefEls()}}n.el.component=n;if(!n.container){n.container=Ext.get(n.el.dom.parentNode)}if(n.ctCls){n.container.addCls(n.ctCls)}n.onRender(n.container,q);if(!n.overflowInited){n.initOverflow()}n.el.setVisibilityMode(Ext.Element[n.hideMode.toUpperCase()]);if(n.overCls){n.el.hover(n.addOverCls,n.removeOverCls,n)}if(n.hasListeners.render){n.fireEvent("render",n)}n.afterRender();if(n.hasListeners.afterrender){n.fireEvent("afterrender",n)}n.initEvents();if(n.hidden){n.el.hide()}},finishRenderChildren:function(){var c=this.getComponentLayout();c.finishRender()},getFrameRenderData:function(){var f=this,g=f.frameSize,e="";if(f._syncFrameHeight&&f.height){e="height:"+(f.height-g.height)+"px"}return{$comp:f,id:f.id,fgid:f.id+"-frame",ui:f.ui,uiCls:f.uiCls,frameCls:f.frameCls,frameBodyCls:f.layoutTargetCls||"",baseCls:f.baseCls,hasTabGuard:f.tabGuard,top:!!g.top,left:!!g.left,right:!!g.right,bottom:!!g.bottom,mcStyle:e,frameElCls:""}},getFrameInfo:function(){if(Ext.supports.CSS3BorderRadius||!this.frame){return false}var A=this,G=A.frameInfoCache,M=A.getFramingInfoCls()+"-frameInfo",y=G[M],H,E,I,x,L,K,F,w,B,N,D,O,J,C;if(y==null){H=Ext.fly(A.getStyleProxy(M),"frame-style-el");E=H.getStyle("font-family");if(E){E=E.split("-");I=parseInt(E[1],10);x=parseInt(E[2],10);L=parseInt(E[3],10);K=parseInt(E[4],10);F=parseInt(E[5],10);w=parseInt(E[6],10);B=parseInt(E[7],10);N=parseInt(E[8],10);D=parseInt(E[9],10);O=parseInt(E[10],10);J=parseInt(E[11],10);C=parseInt(E[12],10);y={table:E[0].charAt(0)==="t",vertical:E[0].charAt(1)==="v",top:I,right:x,bottom:L,left:K,width:K+x,height:I+L,border:{top:F,right:w,bottom:B,left:N,width:N+w,height:F+B},padding:{top:D,right:O,bottom:J,left:C,width:C+O,height:D+J}}}else{y=false}G[M]=y}A.frame=!!y;A.frameSize=y;return y},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui},getStyleProxy:function(e){var d=this.styleProxyEl||(Ext.Component.prototype.styleProxyEl=Ext.getBody().createChild({role:"presentation",style:{position:"absolute",top:"-10000px"}},null,true));d.className=e;return d},getFrameTpl:function(c){return this.lookupTpl(c?"frameTableTpl":"frameTpl")},initContainer:function(d){var e=this;if(!d&&e.el){d=e.el.dom.parentNode;e.allowDomMove=false}e.container=d.dom?d:Ext.get(d);return e.container},initOverflow:function(){var l=this,g=l.getOverflowStyle(),j=l.scrollFlags,k=l.getOverflowEl(),m=(j.y||j.x);if(!m||!k||!k.isElement){return}l.overflowInited=true;k.setStyle(g)},initFramingTpl:function(e){var d=this.getFrameTpl(e);if(d&&!d.applyRenderTpl){this.setupFramingTpl(d)}return d},initRenderTpl:function(){var c=this.lookupTpl("renderTpl");if(c&&!c.renderContent){this.setupRenderTpl(c)}return c},setupFramingTpl:function(c){c.applyRenderTpl=this.doApplyRenderTpl;c.renderTabGuard=this.doRenderFramingTabGuard},setupRenderTpl:function(c){c.renderBody=c.renderContent=this.doRenderContent},updateFrame:function(){if(Ext.supports.CSS3BorderRadius||!this.frame){return}var y=this,E=y.el.dom,A=y.frameTable,I=y.frameBody,w=I.dom,B=y.getFrameInfo(),v,F,J,G,C,M,L,H,D,K,x;J=document.createElement("div");M=y.getFrameRenderData();M.hasTabGuard=false;H=y.getFrameTpl(B.table);H.insertFirst(J,M);x=J.querySelectorAll("[data-ref]");K=J.querySelector('[data-ref="frameBody"]');for(C=w;C.parentNode!==E;){C=C.parentNode}while(J.firstChild){E.insertBefore(J.firstChild,C)}K.parentNode.replaceChild(w,K);w.className=K.className;I.setSize();v=y.getChildEls();if(A){A.destroy();y.frameTable=null}for(F in v){if(v[F].frame){G=y[F];if(G&&G!==I){G.destroy();y[F]=null}}}for(D=x.length;D--;){F=(L=x[D]).getAttribute("data-ref");if(F!=="frameBody"){y[F]=new Ext.dom.Element(L)}}},frameInfoCache:{}}},0,0,0,0,0,0,[Ext.util,"Renderable"],0));(Ext.cmd.derive("Ext.state.Provider",Ext.Base,{prefix:"ext-",constructor:function(d){var e=this;Ext.apply(e,d);e.state={};e.mixins.observable.constructor.call(e)},get:function(f,e){var g=this.state[f];return g===undefined?e:g},clear:function(d){var e=this;delete e.state[d];e.fireEvent("statechange",e,d,null)},set:function(e,f){var g=this;g.state[e]=f;g.fireEvent("statechange",g,e,f)},decodeValue:function(r){var v=this,n=/^(a|n|d|b|s|o|e)\:(.*)$/,w=n.exec(unescape(r)),q,u,x,o,s,p;if(!w||!w[1]){return}u=w[1];r=w[2];switch(u){case"e":return null;case"n":return parseFloat(r);case"d":return new Date(Date.parse(r));case"b":return(r==="1");case"a":q=[];if(r){o=r.split("^");s=o.length;for(p=0;p<s;p++){r=o[p];q.push(v.decodeValue(r))}}return q;case"o":q={};if(r){o=r.split("^");s=o.length;for(p=0;p<s;p++){r=o[p];x=r.split("=");q[x[0]]=v.decodeValue(x[1])}}return q;default:return r}},encodeValue:function(l){var k="",m=0,o,j,n;if(l==null){return"e:1"}else{if(typeof l==="number"){o="n:"+l}else{if(typeof l==="boolean"){o="b:"+(l?"1":"0")}else{if(Ext.isDate(l)){o="d:"+l.toUTCString()}else{if(Ext.isArray(l)){for(j=l.length;m<j;m++){k+=this.encodeValue(l[m]);if(m!==j-1){k+="^"}}o="a:"+k}else{if(typeof l==="object"){for(n in l){if(typeof l[n]!=="function"&&l[n]!==undefined){k+=n+"="+this.encodeValue(l[n])+"^"}}o="o:"+k.substring(0,k.length-1)}else{o="s:"+l}}}}}}return escape(o)}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.state,"Provider"],0));(Ext.cmd.derive("Ext.state.Manager",Ext.Base,{singleton:true,constructor:function(){this.provider=new Ext.state.Provider()},setProvider:function(c){this.provider=c},get:function(e,d){return this.provider.get(e,d)},set:function(d,e){this.provider.set(d,e)},clear:function(c){this.provider.clear(c)},getProvider:function(){return this.provider}},1,0,0,0,0,0,[Ext.state,"Manager"],0));(Ext.cmd.derive("Ext.state.Stateful",Ext.Base,{mixinId:"state",config:{stateful:null},saveDelay:100,constructor:function(){var c=this;if(!c.stateEvents){c.stateEvents=[]}if(c.stateful){c.addStateEvents(c.stateEvents);c.initState()}},addStateEvents:function(m){var k=this,n,l,o,j;if(k.stateful&&k.getStateId()){j=(typeof m==="string")?arguments:m;o=k.stateEventsByName||(k.stateEventsByName={});for(n=j.length;n--;){l=j[n];if(l&&!o[l]){o[l]=1;k.on(l,k.onStateChange,k)}}}},onStateChange:function(){var j=this,f=j.saveDelay,g,k;if(!j.stateful){return}if(f){if(!j.stateTask){g=Ext.state.Stateful;k=g.runner||(g.runner=new Ext.util.TaskRunner());j.stateTask=k.newTask({run:j.saveState,scope:j,interval:f,repeat:1,fireIdleEvent:false})}j.stateTask.start()}else{j.saveState()}},saveState:function(){var q=this,A=q.getStateful(),B=A&&q.getStateId(),r=q.hasListeners,u,s,y,w,x,v,C,p;if(B){C=q.getState()||{};if(Ext.isObject(A)){s=q.self.getConfigurator();s=s.configs;for(x in A){if(A[x]){if(!(x in C)){u=s[x];C[x]=u?q[u.get]():q[x]}}else{delete C[x]}}}y=q.getPlugins()||[];for(x=0,v=y.length;x<v;x++){w=y[x];if(w&&w.getState){p=w.getState(C);if(p&&!C[w.ptype]){C[w.ptype]=p}}}if(!r.beforestatesave||q.fireEvent("beforestatesave",q,C)!==false){Ext.state.Manager.set(B,C);if(r.statesave){q.fireEvent("statesave",q,C)}}}},getState:function(){return null},applyState:function(c){if(c){Ext.apply(this,c)}},getStateId:function(){var c=this;return c.stateId||(c.autoGenId?null:c.id)},initState:function(){var o=this,w=o.stateful&&o.getStateId(),p=o.hasListeners,x,n,s,q,u,r,v;if(w){n=Ext.state.Manager.get(w);if(n){x=Ext.apply({},n);if(!p.beforestaterestore||o.fireEvent("beforestaterestore",o,n)!==false){u=o.getPlugins()||[];for(s=0,q=u.length;s<q;s++){r=u[s];if(r){v=r.ptype;if(r.applyState){r.applyState(x[v],n)}delete x[v]}}o.applyState(x);if(p.staterestore){o.fireEvent("staterestore",o,n)}}}}},savePropToState:function(k,l,m){var o=this,n=o[k],j=o.initialConfig;if(o.hasOwnProperty(k)){if(!j||j[k]!==n){if(l){l[m||k]=n}return true}}return false},savePropsToState:function(j,l){var m=this,g,k;if(typeof j==="string"){m.savePropToState(j,l)}else{for(g=0,k=j.length;g<k;++g){m.savePropToState(j[g],l)}}return l},destroy:function(){var c=this.stateTask;if(c){c.destroy();this.stateTask=null}}},1,0,0,0,0,0,[Ext.state,"Stateful"],0));(Ext.cmd.derive("Ext.util.Focusable",Ext.Base,{mixinId:"focusable",hasFocus:false,focusable:false,focusCls:"focus",initFocusable:Ext.emptyFn,initFocusableEvents:function(){this.initFocusableElement()},getFocusClsEl:function(){return this.getFocusEl()},getFocusEl:function(){return this.element||this.el},destroyFocusable:function(){var c=this;Ext.destroy(c.focusListeners);c.focusListeners=c.focusEnterEvent=c.focusTask=null;c.focusEl=c.ariaEl=null},enableFocusable:Ext.emptyFn,disableFocusable:function(){var g=this,k,j=g.focusCls,f;if(g.hasFocus){k=g.findFocusTarget();if(k){k.focus()}}f=g.getFocusClsEl();if(j&&f){f.removeCls(g.removeClsWithUI(j,true))}},isFocusable:function(e){var f=this,g;if(!f.focusable&&(!f.isContainer||!e)){return false}g=f.getFocusEl();if(g&&f.canFocus()){return g.isFocusable(e)}return false},canFocus:function(k,g){var j=this,f;f=(j.isContainer||j.focusable)&&j.rendered&&!j.destroying&&!j.destroyed&&!j.disabled&&(k||j.isVisible(true));return f||(g&&!!j.findFocusTarget())},focus:function(o,r,m,q){var p=this,l,n,s;if((!p.focusable&&!p.isContainer)||p.destroyed||p.destroying){return}if(r){p.getFocusTask().delay(Ext.isNumber(r)?r:10,p.focus,p,[o,false,m,q]);return p}p.cancelFocus();if(p.canFocus()){if(l=p.getFocusEl()){if(l.isComponent){return l.focus(o,r,m,q)}n=l.dom;if(n){if(p.floating){s=p.container.dom.scrollTop}l.focus();if(o){if(Ext.isArray(o)){if(p.selectText){p.selectText.apply(p,o)}}else{if(n.select){n.select()}else{if(p.selectText){p.selectText()}}}}Ext.callback(m,q)}if(p.floating){if(s!==undefined){p.container.dom.scrollTop=s}}}}else{l=p.findFocusTarget();if(l){return l.focus(o,r,m,q)}}return p},cancelFocus:function(){var c=this.getFocusTask();if(c){c.cancel()}},beforeBlur:Ext.emptyFn,onBlur:function(j){var k=this,m=k.focusableContainer,l=k.focusCls,e;if(!k.focusable||k.destroying){return}k.hasFocus=false;k.beforeBlur(j);if(m){m.beforeFocusableChildBlur(k,j)}e=k.getFocusClsEl();if(l&&e){e.removeCls(k.removeClsWithUI(l,true))}k.fireEvent("blur",k,j);k.postBlur(j);if(m){m.afterFocusableChildBlur(k,j)}},postBlur:Ext.emptyFn,beforeFocus:Ext.emptyFn,onFocus:function(j){var k=this,m=k.focusableContainer,l=k.focusCls,e;if(!k.focusable){return}if(k.canFocus()){k.beforeFocus(j);if(m){m.beforeFocusableChildFocus(k,j)}e=k.getFocusClsEl();if(l&&e){e.addCls(k.addClsWithUI(l,true))}if(!k.hasFocus){k.hasFocus=true;k.fireEvent("focus",k,j)}k.postFocus(j);if(m){m.afterFocusableChildFocus(k,j)}}},postFocus:Ext.emptyFn,getTabIndex:function(){var f=this,g,e;if(!f.focusable){return}g=f.rendered&&f.getFocusEl();if(g){if(g.isComponent){e=g.getTabIndex()}else{if(g.isElement){e=g.getAttribute("tabIndex")}else{return}}f.tabIndex=e}else{e=f.tabIndex}return e-0},setTabIndex:function(g,f){var j=this,k;if(!j.focusable){return}j.tabIndex=g;if(!j.rendered){return}k=f||j.getFocusEl();if(k){if(k.isComponent){k.setTabIndex(g)}else{if(k.isElement){k.set({tabIndex:g})}}}},onFocusEnter:function(e){var d=this;if(d.destroying||d.destroyed){return}if(d.floating&&d!==d.zIndexManager.getActive()){d.toFront(true)}d.focusEnterEvent=e;d.containsFocus=true;d.fireEvent("focusenter",d,e)},onFocusLeave:function(e){var d=this;if(d.destroying||d.destroyed){return}d.focusEnterEvent=null;d.containsFocus=false;d.fireEvent("focusleave",d,e)},privates:{revertFocus:function(){var f=this,g=f.focusEnterEvent,e;if(f.preventRefocus||!f.el.contains(Ext.Element.getActiveElement())||!g){return}e=g&&g.relatedTarget;if(Ext.getDoc().contains(e)&&Ext.fly(e).isFocusable()){e.focus()}else{if(g.fromComponent&&g.fromComponent.focus){g.fromComponent.focus()}}},findFocusTarget:function(){var k=this,f,j,g;for(f=k.up(":visible(true):not([disabled]):not([destroying])");f;f=f.up(":visible(true):not([disabled]):not([destroying])")){j=Ext.ComponentQuery.query(":canfocus()",f);if(j.length){g=Ext.Array.indexOf(j,Ext.ComponentManager.getActiveComponent());return j[g+1]||j[g-1]||j[0]}if(f.isFocusable&&f.isFocusable()){return f}}},initFocusableElement:function(){var f=this,e=f.tabIndex,g=f.getFocusEl();if(g&&!g.isComponent){f.focusEl=g;if(e!=null&&f.canFocus(true)){f.setTabIndex(e,g)}g.dom.setAttribute("data-componentid",f.id)}},getFocusTask:function(){if(!this.focusTask){this.focusTask=Ext.focusTask}return this.focusTask},handleFocusEvent:function(e){var d;if(this.isFocusing(e)){d=new Ext.event.Event(e.event);d.type="focus";d.relatedTarget=e.fromElement;d.target=e.toElement;this.onFocus(d)}},handleBlurEvent:function(e){var d;if(this.isBlurring(e)){d=new Ext.event.Event(e.event);d.type="blur";d.target=e.fromElement;d.relatedTarget=e.toElement;this.onBlur(d)}},isFocusing:function(e){var d;if(this.focusable){d=this.getFocusEl();if(d){if(d.isComponent){return d.isFocusing(e)}else{return e.toElement===d.dom&&e.fromElement!==e.toElement}}}return false},isBlurring:function(e){var d;if(this.focusable){d=this.getFocusEl();if(d){if(d.isComponent){return d.isBlurring(e)}else{return e.fromElement===d.dom&&e.fromElement!==e.toElement}}}return false},blur:function(){var e=this,d;if(!e.focusable||!e.canFocus()){return}d=e.getFocusEl();if(d){e.blurring=true;d.blur();delete e.blurring}return e},disableTabbing:function(){var f=this,g=f.el,e;if(g){g.saveTabbableState()}e=f.getFocusEl();if(e){if(e.isComponent){e.disableTabbing()}else{if(e.isElement&&g&&!g.contains(e)){e.saveTabbableState()}}}},enableTabbing:function(){var f=this,g=f.el,e;e=f.getFocusEl();if(e){if(e.isComponent){e.enableTabbing()}else{if(e.isElement&&g&&!g.contains(e)){e.restoreTabbableState()}}}if(g){g.restoreTabbableState()}},updateMaskState:function(j,g){var l=this,m=l.ariaEl.dom,k;if(j){l.disableTabbing();l.setMasked(true);if(m){m.setAttribute("aria-busy","true");k=m.getAttribute("aria-describedby");if(k){l._savedAriaDescribedBy=k}m.setAttribute("aria-describedby",g.ariaEl.id)}}else{l.enableTabbing();l.setMasked(false);if(m){m.removeAttribute("aria-busy");k=m.getAttribute("aria-describedby");m.removeAttribute("aria-describedby");if(k===g.ariaEl.id&&l._savedAriaDescribedBy){m.setAttribute("aria-describedby",l._savedAriaDescribedBy);delete l._savedAriaDescribedBy}}}}}},0,0,0,0,0,0,[Ext.util,"Focusable"],function(){if(!Ext.focusTask){Ext.focusTask=new Ext.util.DelayedTask()}}));(Ext.cmd.derive("Ext.mixin.Accessible",Ext.Mixin,{mixinConfig:{id:"accessible"},config:{ariaAttributes:{$value:null,lazy:true}},privates:{getAriaLabelEl:function(p){var n=[],l,o,q,m,k;if(p){if(Ext.isFunction(p)){return p.call(this)}else{if(!Ext.isArray(p)){p=[p]}l=this.lookupReferenceHolder();if(l){for(o=0,q=p.length;o<q;o++){m=l.lookupReference(p[o]);if(m){n.push(m.ariaEl.id)}}}}}return n.length?n.join(" "):null}}},0,0,0,0,0,0,[Ext.mixin,"Accessible"],0));(Ext.cmd.derive("Ext.mixin.Keyboard",Ext.Mixin,function(c){return{mixinConfig:{id:"keyboard"},config:{keyMap:{$value:null,cached:true,merge:function(s,v,b,o){if(s===null){return s}var u=v?Ext.Object.chain(v):{},r,p,q,n;for(r in s){if(r!=="scope"){p=r.toUpperCase();if(!o||u[p]===undefined){q=s[r];if(q){if(typeof q==="string"||typeof q==="function"){q={handler:q}}else{q=Ext.apply({handler:q.fn},q)}n=q.scope||s.scope||"self";q.scope=(n==="controller")?"self.controller":n}u[p]=q}}}return u}},keyMapEnabled:null},keyMapTarget:"el",applyKeyMap:function(b,m){var n=this,l,o,p,q;if(b){if(m&&n.isConfiguring){m=Ext.apply({},m)}l=b.scope||"controller";for(p in b){if(p==="scope"){continue}if(!(q=b[p])){if(!m){continue}}else{if(typeof q==="string"||typeof q==="function"){q={handler:q,scope:l}}else{if(q){q=Ext.apply({handler:q.fn,scope:l},q)}}m=m||{}}if(c.parseEntry(p,o=q||{})){m[o.name]=q}}}else{m=null}if(n._keyMapReady){n.setKeyMapListener(m&&n.getKeyMapEnabled())}return m||null},initKeyMap:function(){var b=this,e=b.getKeyMapEnabled();b._keyMapReady=true;if(e===null){b.setKeyMapEnabled(true)}else{b.setKeyMapListener(e&&b.getKeyMap())}},updateKeyMapEnabled:function(b){this.setKeyMapListener(b&&this._keyMapReady&&this.getKeyMap())},privates:{_keyMapReady:false,callKeyMapEntry:function(e,b){return e&&Ext.callback(e.handler,e.scope,[b,this],0,this)},findKeyMapEntry:function(e){var k=this,b=k.getKeyMap(),m,l;if(b){for(m in b){if(c.matchEntry(m,l=b[m],e)){return l}}}return null},onKeyMapEvent:function(b){var e=this,g=e.getKeyMapEnabled()?e.findKeyMapEntry(b):null;return e.callKeyMapEntry(g,b)},setKeyMapListener:function(k){var j=this,b=j._keyMapListener,g;if(b){b.destroy();b=null}if(k){g=j[j.keyMapTarget];if(typeof g==="function"){g=g.call(j)}b=g.on({destroyable:true,scope:j,keydown:"onKeyMapEvent",keypress:"onKeyMapEvent"})}j._keyMapListener=b||null},statics:{_charCodeRe:/^#([\d]+)$/,_hyphenRe:/^[a-z]+\-/i,_keyMapEvents:{charCode:"keypress",keyCode:"keydown"},matchEntry:function(m,e,b){var k=b.browserEvent,l;if(b.type!==e.event){return false}if(!(l=e.charCode)){if(e.keyCode!==b.keyCode||!e.shiftKey!==!k.shiftKey){return false}}else{if(b.getCharCode()!==l){return false}}return !e.ctrlKey===!k.ctrlKey&&!e.altKey===!k.altKey&&!e.metaKey===!k.metaKey},parseEntry:function(G,b){G=G.toUpperCase();var v=this,F=Ext.event.Event,k=F.keyFlags,C=v._hyphenRe.test(G)?"-":"+",n=(G===C)?[C]:G.split(C),B=n.length-1,A=n[B],E=A,w="keyCode",D,y,x;for(y=0;y<B;y++){b[k[n[y]]]=true}if(B){E=b.ctrlKey?"CTRL+":"";E+=b.altKey?"ALT+":"";E+=b.metaKey?"META+":"";E+=b.shiftKey?"SHIFT+":"";E+=A}b.name=E;if(isNaN(D=F[A])){if(!(x=v._charCodeRe.exec(A))){if(A.length===1){D=A.charCodeAt(0)}}else{D=+x[1]}if(D){w="charCode"}else{D=+A}}b.event=b.event||v._keyMapEvents[w];return !isNaN(D)&&(b[w]=D)}}}}},0,0,0,0,0,0,[Ext.mixin,"Keyboard"],0));(Ext.cmd.derive("Ext.Component",Ext.Base,{alternateClassName:"Ext.AbstractComponent",statics:{AUTO_ID:1000,pendingLayouts:null,layoutSuspendCount:0,DIRECTION_TOP:"top",DIRECTION_RIGHT:"right",DIRECTION_BOTTOM:"bottom",DIRECTION_LEFT:"left",VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,INVALID_ID_CHARS_Re:/[\.,\s]/g,ariaHighContrastModeCls:"x-aria-highcontrast",cancelLayout:function(e,f){var g=this.runningLayoutContext||this.pendingLayouts;if(g){g.cancelComponent(e,false,f)}},fromElement:function(f,g,e){return Ext.ComponentManager.fromElement(f,g,e)},flushLayouts:function(){var e=this,d=e.pendingLayouts;if(d&&d.invalidQueue.length){e.pendingLayouts=null;e.runningLayoutContext=d;Ext.override(d,{runComplete:function(){e.runningLayoutContext=null;var b=Ext.scroll.Scroller,c=Ext.GlobalEvents,g;if(b.viewport){b.viewport.restoreState()}g=this.callParent();if(c.hasListeners.afterlayout){c.fireEvent("afterlayout")}return g}});d.run()}},resumeLayouts:function(c){if(this.layoutSuspendCount&&!--this.layoutSuspendCount){if(c){this.flushLayouts()}if(Ext.GlobalEvents.hasListeners.resumelayouts){Ext.GlobalEvents.fireEvent("resumelayouts")}}},suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(m,j){var l=this,g=l.runningLayoutContext,k;if(g){g.queueInvalidate(m)}else{k=l.pendingLayouts||(l.pendingLayouts=new Ext.layout.Context());k.queueInvalidate(m);if(!j&&!l.layoutSuspendCount&&!m.isLayoutSuspended()){l.flushLayouts()}}}},$configPrefixed:false,$configStrict:false,clearPropertiesOnDestroy:"async",manageLayoutScroll:true,config:{data:null,maxHeight:null,maxWidth:null,minHeight:null,minWidth:null,scrollable:null},renderConfig:{touchAction:null},defaultBindProperty:"html",alignTarget:null,autoRender:false,autoShow:false,baseCls:"x-component",childEls:{frameTable:{frame:true},frameTL:{frame:"tl"},frameTC:{frame:"tc"},frameTR:{frame:"tr"},frameML:{frame:"ml"},frameBody:{frame:"mc"},frameMR:{frame:"mr"},frameBL:{frame:"bl"},frameBC:{frame:"bc"},frameBR:{frame:"br"}},componentLayout:"autocomponent",defaultAlign:"c-c",disabled:false,disabledRe:/^(?:button|input|select|textarea|optgroup|option|fieldset)$/i,nonMaskableRe:(function(){var c=["input","select","textarea","optgroup","option","table"];if(Ext.isIE9m&&!(Ext.isIE9&&!Ext.isIEQuirks)){c.push("p")}return new RegExp("^(?:"+c.join("|")+")$","i")}()),disabledCls:"x-item-disabled",draggable:false,floating:false,hidden:false,hideMode:"display",maskElement:null,renderTpl:"{%this.renderContent(out,values)%}",resizeHandles:"all",shrinkWrap:2,toFrontOnShow:true,synthetic:false,tplWriteMode:"overwrite",ui:"default",uiCls:[],userCls:null,weight:null,allowDomMove:true,autoGenId:false,borderBoxCls:"x-border-box",componentLayoutCounter:0,contentPaddingProperty:"padding",deferLayouts:false,frameSize:null,horizontalPosProp:"left",isComponent:true,_isLayoutRoot:false,layoutSuspendCount:0,liquidLayout:false,maskOnDisable:true,rendered:false,rootCls:"x-body",scrollerCls:"x-scroll-scroller",_scrollFlags:{auto:{auto:{overflowX:"auto",overflowY:"auto",x:true,y:true,both:true},"false":{overflowX:"auto",overflowY:"hidden",x:true,y:false,both:false},scroll:{overflowX:"auto",overflowY:"scroll",x:true,y:true,both:true}},"false":{auto:{overflowX:"hidden",overflowY:"auto",x:false,y:true,both:false},"false":{overflowX:"hidden",overflowY:"hidden",x:false,y:false,both:false},scroll:{overflowX:"hidden",overflowY:"scroll",x:false,y:true,both:false}},scroll:{auto:{overflowX:"scroll",overflowY:"auto",x:true,y:true,both:true},"false":{overflowX:"scroll",overflowY:"hidden",x:true,y:false,both:false},scroll:{overflowX:"scroll",overflowY:"scroll",x:true,y:true,both:true}},none:{overflowX:"",overflowY:"",x:false,y:false,both:false}},_scrollableCfg:{x:{x:true,y:false},y:{x:false,y:true},horizontal:{x:true,y:false},vertical:{x:false,y:true},both:{x:true,y:true},"true":{x:true,y:true}},validIdRe:Ext.validIdRe,constructor:function(x){var q=this,v,r,p,s,n,u,w,o;x=x||{};if(x.initialConfig){if(x.isAction){q.baseAction=x}x=x.initialConfig}else{if(x.tagName||x.dom||Ext.isString(x)){x={applyTo:x,id:x.id||x}}}q.initialConfig=x;q.getId();q.protoEl=new Ext.util.ProtoElement();q.initConfig(x);if(q.scrollable==null){n=q.autoScroll;if(n){o=!!n}else{u=q.overflowX;w=q.overflowY;if(u||w){o={x:(u&&u!=="hidden")?u:false,y:(w&&w!=="hidden")?w:false}}}if(o){q.setScrollable(o)}}p=q.xhooks;if(p){delete q.xhooks;Ext.override(q,p)}q.mixins.elementCt.constructor.call(q);q.setupProtoEl();if(q.cls){q.initialCls=q.cls;q.protoEl.addCls(q.cls)}if(q.style){q.initialStyle=q.style;q.protoEl.setStyle(q.style)}q.renderData=q.renderData||{};q.initComponent();if(!q.preventRegister){Ext.ComponentManager.register(q)}q.mixins.state.constructor.call(q);q.addStateEvents("resize");s=q.getController();if(s){s.init(q)}if(q.plugins){for(v=0,r=q.plugins.length;v<r;v++){q.plugins[v]=q.initPlugin(q.plugins[v])}}q.loader=q.getLoader();if(q.disabled){q.disabled=false;q.disable(true)}if(q.renderTo){q.render(q.renderTo)}if(q.autoShow&&!q.$initParent){q.show()}if(q.baseAction){q.baseAction.addComponent(q)}},beforeInitConfig:function(){this.mixins.observable.constructor.call(this)},addCls:function(e){var f=this,g=f.rendered?f.el:f.protoEl;g.addCls.apply(g,arguments);return f},addClsWithUI:function(s,n){var o=this,p=[],q=0,r=o.uiCls=Ext.Array.clone(o.uiCls),u=o.activeUI,v,m;if(typeof s==="string"){s=(s.indexOf(" ")<0)?[s]:Ext.String.splitWords(s)}v=s.length;for(;q<v;q++){m=s[q];if(m&&!o.hasUICls(m)){r.push(m);if(u){p=p.concat(o.addUIClsToElement(m))}}}if(n!==true&&u){o.addCls(p)}return p},afterComponentLayout:function(m,o,n,k){var l=this,j=l.scrollable;if(++l.componentLayoutCounter===1){l.afterFirstLayout(m,o)}else{if(l.manageLayoutScroll&&j){j.restoreState()}}if(m!==n||o!==k){l.onResize(m,o,n,k)}if(l.floating){l.onAfterFloatLayout()}},addPlugin:function(e){var d=this;e=d.constructPlugin(e);if(d.plugins){d.plugins.push(e)}else{d.plugins=[e]}if(d.pluginsInitialized){d.initPlugin(e)}return e},addPropertyToState:function(j,k,l){var m=this,g=arguments.length;if(g===3||m.hasOwnProperty(k)){if(g<3){l=m[k]}if(l!==m.initialConfig[k]){(j||(j={}))[k]=l}}return j},addUIClsToElement:function(m){var p=this,s=p.baseCls+"-"+p.ui+"-"+m,l=["x-"+m,p.baseCls+"-"+m,s],q,n,r,o;if(p.rendered&&p.frame&&!Ext.supports.CSS3BorderRadius){s+="-";q=p.getChildEls();for(n in q){o=q[n].frame;if(o&&o!==true){r=p[n];if(r){r.addCls(s+o)}}}}return l},removeUIClsFromElement:function(m){var p=this,s=p.baseCls+"-"+p.ui+"-"+m,l=["x-"+m,p.baseCls+"-"+m,s],q,n,r,o;if(p.rendered&&p.frame&&!Ext.supports.CSS3BorderRadius){s+="-";q=p.getChildEls();for(n in q){o=q[n].frame;if(o&&o!==true){r=p[n];if(r){r.removeCls(s+o)}}}}return l},adjustPosition:function(f,g){var k=this,j;if(k.isContainedFloater()){j=k.floatParent.getTargetEl().getViewRegion();f+=j.left;g+=j.top}return{x:f,y:g}},afterHide:function(g,k){var j=this,f=j.focusableContainer;delete j.getInherited().topmostFocusEvent;j.hiddenByLayout=null;if(j.ownerLayout){j.updateLayout({isRoot:false})}if(f){f.onFocusableChildHide(j)}j.fireHierarchyEvent("hide");j.fireEvent("hide",j);Ext.callback(g,k||j)},afterSetPosition:function(e,f){var g=this;g.onPosition(e,f);if(g.hasListeners.move){g.fireEvent("move",g,e,f)}},afterShow:function(o,m,q){var p=this,n=p.el,l,s,r;o=p.getAnimateTarget(o);if(!p.ghost){o=null}if(o){s={x:n.getX(),y:n.getY(),width:n.dom.offsetWidth,height:n.dom.offsetHeight};l={x:o.getX(),y:o.getY(),width:o.dom.offsetWidth,height:o.dom.offsetHeight};p.fireHierarchyEvent("show");r=p.ghost();r.el.stopAnimation();r.setX(-10000);p.ghostBox=s;r.el.animate({from:l,to:s,listeners:{afteranimate:function(){if(!p.destroying){r.componentLayout.lastComponentSize=null;p.unghost();p.ghostBox=null;p.onShowComplete(m,q)}}}})}else{p.onShowComplete(m,q);p.fireHierarchyEvent("show")}},animate:function(M){var w=this,J,F,G,O,L,N,x,B,E,K,A,D,I,C,y,H;M=M||{};L=M.to||{};if(Ext.fx.Manager.hasFxBlock(w.id)){return w}J=Ext.isDefined(L.width);if(J){O=Ext.Number.constrain(L.width,w.minWidth,w.maxWidth)}F=Ext.isDefined(L.height);if(F){G=Ext.Number.constrain(L.height,w.minHeight,w.maxHeight)}if(!M.dynamic&&(J||F)){B=(M.from?M.from.width:undefined)||w.getWidth();E=B;K=(M.from?M.from.height:undefined)||w.getHeight();A=K;D=false;if(F&&G>K){A=G;D=true}if(J&&O>B){E=O;D=true}if(F||J){H=w.el.getStyle("overflow");if(H!=="hidden"){w.el.setStyle("overflow","hidden")}}if(D){N=!Ext.isNumber(w.width);x=!Ext.isNumber(w.height);w.setSize(E,A);w.el.setSize(B,K);if(N){delete w.width}if(x){delete w.height}}if(J){L.width=O}if(F){L.height=G}}I=w.constrain;C=w.constrainHeader;if(I||C){w.constrain=w.constrainHeader=false;y=M.callback;M.callback=function(){w.constrain=I;w.constrainHeader=C;if(y){y.call(M.scope||w,arguments)}if(H!=="hidden"){w.el.setStyle("overflow",H)}}}return w.mixins.animate.animate.apply(w,arguments)},applyScrollable:function(m,l){var g=this,j=g.rendered,k;if(m){if(m===true||typeof m==="string"){k=g._scrollableCfg[m];m=k}if(l){l.setConfig(m);m=l}else{m=Ext.Object.chain(m);if(j){m.element=g.getOverflowEl()}m=Ext.scroll.Scroller.create(m,g.scrollableType);m.component=g}}else{if(l){m=l;l.setConfig({x:false,y:false})}}if(g.rendered&&!g.destroying&&!g.destroyed){if(m){g.getOverflowStyle()}else{g.scrollFlags=g._scrollFlags.none}g.updateLayout()}return m},applyTouchAction:function(d,e){if(e!=null){d=Ext.merge({},e,d)}return d},beforeDestroy:Ext.emptyFn,beforeLayout:function(){if(this.floating){this.onBeforeFloatLayout()}},beforeSetPosition:function(m,o,u){var p=this,n=null,r,s,v,q;if(m){if(Ext.isNumber(r=m[0])){u=o;o=m[1];m=r}else{if((r=m.x)!==undefined){u=o;o=m.y;m=r}}}if(p.constrain||p.constrainHeader){n=p.calculateConstrainedPosition(null,[m,o],true);if(n){m=n[0];o=n[1]}}s=(m!==undefined);v=(o!==undefined);if(s||v){p.x=m;p.y=o;q=p.adjustPosition(m,o);n={x:q.x,y:q.y,anim:u,hasX:s,hasY:v}}return n},beforeShow:Ext.emptyFn,bubble:function(j,k,f){var g=this;while(g){if(j.apply(k||g,f||[g])===false){break}g=g.getBubbleTarget()}return this},clearListeners:function(){var c=this;c.mixins.observable.clearListeners.call(c);c.mixins.componentDelegation.clearDelegatedListeners.call(c)},cloneConfig:function(j){j=j||{};var g=j.id||Ext.id(),f=Ext.applyIf(j,this.initialConfig),k;f.id=g;k=Ext.getClass(this);return new k(f)},destroy:function(){var c=this;if(!c.hasListeners.beforedestroy||c.fireEvent("beforedestroy",c)!==false){c.isDestroying=c.destroying=true;c.doDestroy();c.clearListeners();c.isDestroying=c.destroying=false;c.callParent();c.mixins.componentDelegation.destroyComponentDelegation.call(c);c.mixins.observable.destroyObservable.call(c,true)}},doDestroy:function(){var k=this,o=k.focusableContainer,n=k.renderSelectors,j,l,m;l=k.floatParent||k.ownerCt;if(k.floating){delete k.floatParent;if(k.zIndexManager&&!k.zIndexManager.destroyed){k.zIndexManager.unregister(k)}k.floating=true}k.removeBindings();if(!k.beforeDestroy.$emptyFn){k.beforeDestroy()}k.destroyBindable();if(l&&l.remove){l.remove(k,false)}k.stopAnimation();if(k.rendered){Ext.destroy(k.loadMask,k.dd,k.resizer,k.proxy,k.proxyWrap,k.resizerComponent,k.scrollable,k.contentEl)}if(o){o.onFocusableChildDestroy(k)}if(k.focusable){k.destroyFocusable()}Ext.destroy(k.componentLayout,k.loadMask,k.floatingDescendants);if(!k.onDestroy.$emptyFn){k.onDestroy()}Ext.destroy(k.plugins);if(k.rendered){Ext.Component.cancelLayout(k,true)}k.componentLayout=null;if(k.hasListeners.destroy){k.fireEvent("destroy",k)}if(!k.preventRegister){Ext.ComponentManager.unregister(k)}k.mixins.state.destroy.call(k);if(k.floating){k.onFloatDestroy()}if(k.rendered){if(k.showListenerIE){k.showListenerIE.destroy();k.showListenerIE=null}if(!k.preserveElOnDestroy){k.el.destroy()}k.el.component=null;k.mixins.elementCt.destroy.call(k);if(n){for(j in n){if(n.hasOwnProperty(j)){m=k[j];if(m){delete k[j];m.destroy()}}}}k.rendered=false}},disable:function(l,j){var k=this,m=k.focusableContainer,g=k.getInherited();if(!j){g.disabled=true;k.savedDisabled=true}if(k.maskOnDisable){g.disableMask=true}if(!k.disabled){if(m){m.beforeFocusableChildDisable(k)}k.addCls(k.disabledCls);if(k.rendered){k.onDisable()}else{k.disableOnRender=true}k.disabled=true;if(l!==true){k.fireEvent("disable",k)}if(m){m.onFocusableChildDisable(k)}}return k},doFireEvent:function(m,k,g){var j=this,l;l=j.mixins.observable.doFireEvent.call(j,m,k,g);if(l!==false&&!j.destroyed){l=j.mixins.componentDelegation.doFireDelegatedEvent.call(j,m,k)}return l},enable:function(l,j){var k=this,m=k.focusableContainer,g=k.getInherited();if(!j){delete k.getInherited().disabled;k.savedDisabled=false}if(k.maskOnDisable){delete g.disableMask}if(k.disabled){if(!(j&&g.hasOwnProperty("disabled"))){if(m){m.beforeFocusableChildEnable(k)}k.disableOnRender=false;k.removeCls(k.disabledCls);if(k.rendered){k.onEnable()}k.disabled=false;if(l!==true){k.fireEvent("enable",k)}if(m){m.onFocusableChildEnable(k)}}}return k},findParentBy:function(d){var e;for(e=this.getRefOwner();e&&!d(e,this);e=e.getRefOwner()){}return e||null},findParentByType:function(c){return Ext.isFunction(c)?this.findParentBy(function(b){return b.self===c||b.constructor===c}):this.up(c)},findPlugin:function(g){var k,f=this.plugins,j=f&&f.length;for(k=0;k<j;k++){if(f[k].ptype===g){return f[k]}}},getAnimateTarget:function(c){c=c||this.animateTarget;if(c){c=c.isComponent?c.getEl():Ext.get(c)}return c||null},getBubbleTarget:function(){return this.getRefOwner()},getComponentLayout:function(){var c=this;if(!c.componentLayout||!c.componentLayout.isLayout){c.setComponentLayout(Ext.layout.Layout.create(c.componentLayout,"autocomponent"))}return c.componentLayout},getEl:function(){return this.el},getHeight:function(){return this.el.getHeight()},initInheritedState:function(e){var f=this,g=f.componentLayout;if(f.hidden){e.hidden=true}if(f.collapseImmune){e.collapseImmune=true}if(f.modelValidation!==undefined){e.modelValidation=f.modelValidation}if(f.savedDisabled){e.disabled=true}f.mixins.bindable.initInheritedState.call(f,e);if(g&&g.initInheritedState){g.initInheritedState(e)}},getId:function(){var d=this,e;if(!(d.id||(d.id=d.initialConfig.id))){e=d.getXType();if(e){e=e.replace(Ext.Component.INVALID_ID_CHARS_Re,"-")}else{e=Ext.name.toLowerCase()+"-comp"}d.id=e+"-"+d.getAutoId()}return d.id},getItemId:function(){return this.itemId||this.id},getLoader:function(){var e=this,d=e.loader;if(d){if(!d.isLoader){e.loader=new Ext.ComponentLoader(Ext.apply({target:e},d))}else{d.setTarget(e)}return e.loader}return null},getMaskTarget:function(){return this.maskElement?this[this.maskElement]:null},getPlugin:function(j){var m,g=this.plugins,k=g&&g.length,l;for(m=0;m<k;m++){l=g[m];if(l.id===j||l.pluginId===j){return l}}return null},getPosition:function(g){var m=this,k,l=m.isContainedFloater(),j;if((g===true)&&!l){return[m.getLocalX(),m.getLocalY()]}k=m.getXY();if((g===true)&&l){j=m.floatParent.getTargetEl().getViewRegion();k[0]-=j.left;k[1]-=j.top}return k},getScrollX:function(){var c=this.getScrollable();return c?c.getPosition().x:0},getScrollY:function(){var c=this.getScrollable();return c?c.getPosition().y:0},getSize:function(c){return this.el.getSize(c)},getSizeModel:function(B){var w=this,K=Ext.layout.SizeModel,H=w.componentLayout.ownerContext,J=w.width,M=w.height,L,I,E,F,D,v,y,x,A,C,G=w.floating||w.floated;if(H){C=H.widthModel;D=H.heightModel}if(!C||!D){E=((L=typeof J)==="number");F=((I=typeof M)==="number");A=G||!(v=w.ownerLayout);if(A){y=Ext.layout.Layout.prototype.autoSizePolicy;x=G?3:w.shrinkWrap;if(E){C=K.configured}if(F){D=K.configured}}else{y=v.getItemSizePolicy(w,B);x=v.isItemShrinkWrap(w)}if(H){H.ownerSizePolicy=y}x=(x===true)?3:(x||0);if(A&&x){if(J&&L==="string"){x&=2}if(M&&I==="string"){x&=1}}if(x!==3){if(!B){B=w.ownerCt&&w.ownerCt.getSizeModel()}if(B){x|=(B.width.shrinkWrap?1:0)|(B.height.shrinkWrap?2:0)}}if(!C){if(!y.setsWidth){if(E){C=K.configured}else{C=(x&1)?K.shrinkWrap:K.natural}}else{if(y.readsWidth){if(E){C=K.calculatedFromConfigured}else{C=(x&1)?K.calculatedFromShrinkWrap:K.calculatedFromNatural}}else{C=K.calculated}}}if(!D){if(!y.setsHeight){if(F){D=K.configured}else{D=(x&2)?K.shrinkWrap:K.natural}}else{if(y.readsHeight){if(F){D=K.calculatedFromConfigured}else{D=(x&2)?K.calculatedFromShrinkWrap:K.calculatedFromNatural}}else{D=K.calculated}}}}return C.pairsByHeightOrdinal[D.ordinal]},getState:function(){var g=this,f=null,e=g.getSizeModel();if(e.width.configured){f=g.addPropertyToState(f,"width")}if(e.height.configured){f=g.addPropertyToState(f,"height")}return f},getUserCls:function(){return this.userCls},setUserCls:function(e){var g=this,f=g.userCls;if(e!==f){g.userCls=e;if(g.rendered){g.el.replaceCls(f,e)}}return f},getWidth:function(){return this.el.getWidth()},getXType:function(){return this.self.xtype},getXTypes:function(){var j=this.self,g,k,f;if(!j.xtypes){g=[];k=this;while(k){f=k.xtypes;if(f!==undefined){g.unshift.apply(g,f)}k=k.superclass}j.xtypeChain=g;j.xtypes=g.join("/")}return j.xtypes},hasCls:function(e){var d=this.rendered?this.el:this.protoEl;return d.hasCls.apply(d,arguments)},hasUICls:function(e){var g=this,f=g.uiCls||[];return Ext.Array.contains(f,e)},hide:function(k,j,m){var l=this,g=l.focusableContainer;if(l.pendingShow){l.pendingShow=false}if(!(l.rendered&&!l.isVisible())){if(!l.hasListeners.beforehide||l.fireEvent("beforehide",l)!==false||l.hierarchicallyHidden){l.getInherited().hidden=l.hidden=true;if(g){g.beforeFocusableChildHide(l)}l.fireHierarchyEvent("beforehide");if(l.rendered){l.onHide.apply(l,arguments)}}}return l},initComponent:function(){var f=this,g=f.width,e=f.height;if(f.plugins&&!f.plugins.processed){f.plugins=f.constructPlugins()}f.pluginsInitialized=true;if(g!=null||e!=null){f.setSize(g,e)}if(f.listeners){f.on(f.listeners);f.listeners=null}if(f.focusable){f.initFocusable()}},initEvents:function(){var n=this,l=n.afterRenderEvents,q,o,m,p,k;if(l){for(m in l){o=n[m];if(o&&o.on){q=l[m];for(p=0,k=q.length;p<k;++p){n.mon(o,q[p])}}}}if(n.focusable){n.initFocusableEvents()}n.initKeyMap()},is:function(c){return Ext.ComponentQuery.is(this,c)},isDescendantOf:function(d){var e;for(e=this.getRefOwner();e&&e!==d;e=e.getRefOwner()){}return e||null},isAncestor:function(c){while(c){if(c.getRefOwner()===this){return true}c=c.getRefOwner()}},isDisabled:function(){return this.disabled},isDraggable:function(){return !!this.draggable},isDroppable:function(){return !!this.droppable},isFloating:function(){return this.floating},isHidden:function(){return this.hidden},isHierarchicallyHidden:function(){var g=this,j=false,f,k;for(;(f=g.ownerCt||g.floatParent);g=f){k=f.getInherited();if(k.hidden){j=true;break}if(g.getInherited().collapseImmune){if(f.collapsed&&!g.collapseImmune){j=true;break}}else{j=!!k.collapsed;break}}return j},isLayoutChild:function(c){return !this.floating&&!!this.up(c)},isLayoutRoot:function(){var d=this,e=d.ownerLayout;if(!e||d._isLayoutRoot||d.floating){return true}return e.isItemLayoutRoot(d)},isLayoutSuspended:function(){var d=this,e;while(d){if(d.layoutSuspendCount||d.suspendLayout){return true}e=d.ownerLayout;if(!e){break}d=e.owner}return false},isVisible:function(e){var g=this,f;if(g.hidden||!g.rendered||g.destroyed){f=true}else{if(e){f=g.isHierarchicallyHidden()}}return !f},isXType:function(e,d){return d?(Ext.Array.indexOf(this.xtypes,e)!==-1):!!this.xtypesMap[e]},isMasked:function(d){var e=this;return !!(e.masked||(e.loadMask&&e.loadMask.isVisible())||(d&&e.getInherited().masked))},lookupTpl:function(c){return Ext.XTemplate.getTpl(this,c)},setMasked:function(f){var g=this,e=g.focusableContainer;if(f){g.masked=true;g.getInherited().masked=f}else{g.masked=false;delete g.getInherited().masked}if(e){e.onFocusableChildMasked(g,f)}return g},mask:function(j,l,g){var m=this.lastBox,k=this.getMaskTarget()||this.el;if(m){g=m.height}k.mask(j,l,g);this.setMasked(true)},nextNode:function(r,n){var u=this,s=u.ownerCt,m,q,o,p,v;if(n&&u.is(r)){return u}if(s){for(q=s.items.items,p=Ext.Array.indexOf(q,u)+1,o=q.length;p<o;p++){v=q[p];if(v.is(r)){return v}if(v.down){m=v.down(r);if(m){return m}}}return s.nextNode(r)}return null},nextSibling:function(o){var l=this.ownerCt,n,m,c,k;if(l){n=l.items;c=n.indexOf(this)+1;if(c){if(o){for(m=n.getCount();c<m;c++){if((k=n.getAt(c)).is(o)){return k}}}else{if(c<n.getCount()){return n.getAt(c)}}}}return null},onAdded:function(k,g,f){var j=this;j.ownerCt=k;j.onInheritedAdd(j,f);if(j.hasListeners&&j.hasListeners.added){j.fireEvent("added",j,k,g)}if(Ext.GlobalEvents.hasListeners.added){j.fireHierarchyEvent("added")}},onRemoved:function(j){var k=this,g,f;if(!k.isLayoutMoving&&k.el&&k.el.contains(Ext.Element.getActiveElement())){f=k.findFocusTarget();if(f){f.focus()}}if(Ext.GlobalEvents.hasListeners.removed){k.fireHierarchyEvent("removed")}if(k.hasListeners.removed){k.fireEvent("removed",k,k.ownerCt)}if(!j){k.removeBindings()}k.onInheritedRemove(j);k.ownerCt=k.ownerLayout=null},onBoxReady:function(j,f){var g=this,k;if(g.ariaLabelledBy||g.ariaDescribedBy){if(g.ariaLabelledBy){k=g.getAriaLabelEl(g.ariaLabelledBy);if(k){g.ariaEl.dom.setAttribute("aria-labelledby",k)}}if(g.ariaDescribedBy){k=g.getAriaLabelEl(g.ariaDescribedBy);if(k){g.ariaEl.dom.setAttribute("aria-describedby",k)}}}if(g.resizable){g.initResizable(g.resizable)}if(g.draggable){g.initDraggable()}if(g.hasListeners.boxready){g.fireEvent("boxready",g,j,f)}},onDestroy:Ext.emptyFn,onDisable:function(){var e=this,g,f;if(e.focusable){e.disableFocusable()}if(!e.ariaStaticRoles[e.ariaRole]){e.ariaEl.dom.setAttribute("aria-disabled",true)}if(e.maskOnDisable&&!e.getInheritedConfig("disableMask",true)){g=e.el.dom;f=g.nodeName;if(e.disabledRe.test(f)){g.disabled=true}if(!e.nonMaskableRe.test(f)){e.mask()}}},onEnable:function(){var e=this,g,f;if(e.focusable){e.enableFocusable()}if(!e.ariaStaticRoles[e.ariaRole]){e.ariaEl.dom.setAttribute("aria-disabled",false)}if(e.maskOnDisable&&e.getInherited().hasOwnProperty("masked")){g=e.el.dom;f=g.nodeName;if(e.disabledRe.test(f)){g.disabled=false}if(!e.nonMaskableRe.test(f)){e.unmask()}}},onGlobalShow:function(c){if(this.up(c)){this.getScrollable().restoreState()}},onHide:function(l,k,n){var m=this,p,o,q;if(!m.ariaStaticRoles[m.ariaRole]&&!m.destroying&&!m.destroyed){m.ariaEl.dom.setAttribute("aria-hidden",true)}m.revertFocus();l=m.getAnimateTarget(l);if(!m.ghost){l=null}if(l){q={x:l.getX(),y:l.getY(),width:l.dom.offsetWidth,height:l.dom.offsetHeight};p=m.ghost();p.el.stopAnimation();o=m.getSize();p.el.animate({to:q,listeners:{afteranimate:function(){if(!m.destroying){p.componentLayout.lastComponentSize=null;m.unghost(false);p.el.setSize(o);m.afterHide(k,n)}}}})}else{m.el.hide()}if(!l){m.afterHide(k,n)}},onPosition:Ext.emptyFn,onResize:function(l,g,m,j){var k=this;if(k.floating&&k.constrain){k.doConstrain()}if(k.hasListeners.resize){k.fireEvent("resize",k,l,g,m,j)}},onShow:function(){var c=this;if(!c.ariaStaticRoles[c.ariaRole]){c.ariaEl.dom.setAttribute("aria-hidden",false)}c.el.show();c.updateLayout({isRoot:false,context:c._showContext});if(c.floating){if(c.maximized){c.fitContainer()}else{if(c.constrain){c.doConstrain()}}}},_showContext:{show:true},onShowComplete:function(f,j){var g=this,k=g.focusableContainer;if(g.floating){g.onFloatShow()}Ext.callback(f,j||g);g.fireEvent("show",g);if(k){k.onFocusableChildShow(g)}delete g.hiddenByLayout},onShowVeto:Ext.emptyFn,previousNode:function(s,q){var m=this,n=m.ownerCt,l,o,p,r;if(q&&m.is(s)){return m}if(n){for(o=n.items.items,p=Ext.Array.indexOf(o,m)-1;p>-1;p--){r=o[p];if(r.query){l=r.query(s);l=l[l.length-1];if(l){return l}}if(r.is(s)){return r}}return n.previousNode(s,true)}return null},previousSibling:function(m){var k=this.ownerCt,l,c,j;if(k){l=k.items;c=l.indexOf(this);if(c!==-1){if(m){for(--c;c>=0;c--){if((j=l.getAt(c)).is(m)){return j}}}else{if(c){return l.getAt(--c)}}}}return null},registerFloatingItem:function(e){var d=this;if(!d.floatingDescendants){d.floatingDescendants=new Ext.ZIndexManager(d)}d.floatingDescendants.register(e)},removeCls:function(e){var f=this,g=f.rendered?f.el:f.protoEl;g.removeCls.apply(g,arguments);return f},removeClsWithUI:function(w,p){var q=this,r=[],u=0,A=Ext.Array,s=A.remove,v=q.uiCls=A.clone(q.uiCls),x=q.activeUI,y,o;if(typeof w==="string"){w=(w.indexOf(" ")<0)?[w]:Ext.String.splitWords(w)}y=w.length;for(u=0;u<y;u++){o=w[u];if(o&&q.hasUICls(o)){s(v,o);if(x){r=r.concat(q.removeUIClsFromElement(o))}}}if(p!==true&&x){q.removeCls(r)}return r},resumeLayouts:function(e){var d=this;if(!d.rendered){return}if(d.layoutSuspendCount&&!--d.layoutSuspendCount){d.suspendLayout=false;if(e&&!d.isLayoutSuspended()){d.updateLayout(e)}}},scrollBy:function(j,k,g){var f=this.getScrollable();if(f){f.scrollBy(j,k,g)}},scrollTo:function(k,g,j){var f=this.getScrollable();if(f){f.scrollTo(k,g,j)}},setAutoScroll:function(c){this.setScrollable(!!c);return this},setBorder:function(k,g){var j=this,f=!!g;if(j.rendered||f){if(!f){g=j.el}if(!k){k=0}else{if(k===true){k="1px"}else{k=this.unitizeBox(k)}}g.setStyle("border-width",k);if(!f){j.updateLayout()}}j.border=k},setDock:function(f){var g=this,e=g.ownerCt;if(f!==g.dock){if(e&&e.moveDocked){e.moveDocked(g,f)}else{g.dock=f}}return g},setDisabled:function(c){return this[c?"disable":"enable"]()},setFlex:function(c){this.flex=c},setHeight:function(c){return this.setSize(undefined,c)},setLoading:function(j,g){var k=this,f={target:k};if(k.rendered){if(j!==false){if(Ext.isString(j)){f.msg=j}else{Ext.apply(f,j)}if(!k.loadMask||!k.loadMask.isLoadMask){if(g&&f.useTargetEl==null){f.useTargetEl=true}k.loadMask=new Ext.LoadMask(f)}else{Ext.apply(k.loadMask,f)}if(k.loadMask.isVisible()){k.loadMask.syncMaskState()}else{k.loadMask.show()}}else{if(k.loadMask&&k.loadMask.isLoadMask){k.loadMask.hide()}}}return k.loadMask},setMargin:function(f,g){var e=this;if(e.rendered){if(!f&&f!==0){f=""}else{if(f===true){f=5}f=this.unitizeBox(f)}e.margin=f;e.margin$=null;e.getEl().setStyle("margin",f);if(!g){e.updateLayout(e._notAsLayoutRoot)}}else{e.margin=f}},setOverflowXY:function(e,d){this.setScrollable({x:(e&&e!=="hidden")?e:false,y:(d&&d!=="hidden")?d:false});return this},setPagePosition:function(j,k,o){var n=this,m,l;if(Ext.isArray(j)){k=j[1];j=j[0]}n.pageX=j;n.pageY=k;if(n.floating){if(n.isContainedFloater()){l=n.floatParent.getTargetEl().getViewRegion();if(Ext.isNumber(j)&&Ext.isNumber(l.left)){j-=l.left}if(Ext.isNumber(k)&&Ext.isNumber(l.top)){k-=l.top}}else{m=n.el.translateXY(j,k);j=m.x;k=m.y}n.setPosition(j,k,o)}else{m=n.el.translateXY(j,k);n.setPosition(m.x,m.y,o)}return n},setPosition:function(g,j,m){var l=this,k=l.beforeSetPosition.apply(l,arguments);if(k&&l.rendered){g=k.x;j=k.y;if(m){if(g!==l.getLocalX()||j!==l.getLocalY()){l.stopAnimation();l.animate(Ext.apply({duration:1000,listeners:{afteranimate:Ext.Function.bind(l.afterSetPosition,l,[g,j])},to:{left:g,top:j}},m))}}else{l.setLocalXY(g,j);l.afterSetPosition(g,j)}}return l},setScrollX:function(g,f){var e=this.getScrollable();if(e){e.scrollTo(g,null,f)}},setScrollY:function(f,g){var e=this.getScrollable();if(e){e.scrollTo(null,f,g)}},setSize:function(o,k){var n=this,q=n.width,l=n.height,m,p;if(o&&typeof o==="object"){k=o.height;o=o.width}if(typeof o==="number"){n.width=Ext.Number.constrain(o,n.minWidth,n.maxWidth)}else{if(o===null){delete n.width}else{if(typeof o==="string"){m=true;n.width=o}}}if(typeof k==="number"){n.height=Ext.Number.constrain(k,n.minHeight,n.maxHeight)}else{if(k===null){delete n.height}else{if(typeof k==="string"){p=true;n.height=k}}}if(n.rendered&&n.isVisible()){if(q!==n.width||l!==n.height){if(n.liquidLayout||m||p){n.el.setSize(n.width,n.height)}n.updateLayout(n._notAsLayoutRoot)}}return n},setStyle:function(f,g){var e=this.el||this.protoEl;e.setStyle(f,g);return this},setUI:function(l){var m=this,j=m.uiCls,k=m.activeUI,g;if(l===k){return}if(k){g=m.removeClsWithUI(j,true);if(g.length){m.removeCls(g)}m.removeUIFromElement()}else{m.uiCls=[]}m.ui=l;m.activeUI=l;m.addUIToElement();g=m.addClsWithUI(j,true);if(g.length){m.addCls(g)}if(m.rendered){m.updateLayout()}},setVisible:function(c){return this[c?"show":"hide"]()},setHidden:function(c){return this.setVisible(!c)},setWidth:function(c){return this.setSize(c)},show:function(l,j,n){var m=this,k=m.rendered,o=m.focusableContainer;if(m.hierarchicallyHidden||(m.floating&&!k&&m.isHierarchicallyHidden())){if(!k){m.initHierarchyEvents()}if(arguments.length>1){arguments[0]=null;m.pendingShow=arguments}else{m.pendingShow=true}}else{if(k&&m.isVisible()){if(m.floating){m.onFloatShow()}}else{if(m.fireEvent("beforeshow",m)!==false){m.hidden=false;delete this.getInherited().hidden;if(o){o.beforeFocusableChildShow(m)}Ext.suspendLayouts();if(!k&&(m.autoRender||m.floating)){m.doAutoRender();k=m.rendered}if(k){m.beforeShow();Ext.resumeLayouts();m.onShow.apply(m,arguments);m.afterShow.apply(m,arguments)}else{Ext.resumeLayouts(true)}}else{m.onShowVeto()}}}return m},showAt:function(f,g,k){var j=this;if(!j.rendered&&(j.autoRender||j.floating)){j.x=f;j.y=g;return j.show()}if(j.floating){j.setPosition(f,g,k)}else{j.setPagePosition(f,g,k)}return j.show()},showBy:function(k,g,j){var f=this;if(f.floating&&k){f._lastAlignTarget=k;f._lastAlignToPos=g||f.defaultAlign;f._lastAlignToOffsets=j||f.alignOffset;f.show()}return f},suspendLayouts:function(){var c=this;if(!c.rendered){return}if(++c.layoutSuspendCount===1){c.suspendLayout=true}},toggleCls:function(d,e){if(e===undefined){e=!this.hasCls(d)}return this[e?"addCls":"removeCls"](d)},unitizeBox:function(c){return Ext.Element.unitizeBox(c)},unmask:function(){(this.getMaskTarget()||this.el).unmask();this.setMasked(false)},unregisterFloatingItem:function(e){var d=this;if(d.floatingDescendants){d.floatingDescendants.unregister(e)}},up:function(o,n){var p=this.getRefOwner(),q=typeof n==="string",l=typeof n==="number",k=n&&n.isComponent,m=0;if(o){for(;p&&!p.destroyed;p=p.getRefOwner()){m++;if(o.isComponent){if(p===o){return p}}else{if(Ext.ComponentQuery.is(p,o)){return p}}if(q&&p.is(n)){return}if(l&&m===n){return}if(k&&p===n){return}}}return p},update:function(u,q,o,w){var p=this,n=(p.tpl&&!Ext.isString(u)),v=p.focusableContainer,r,x,s;if(n){p.data=(u&&u.isEntity)?u.getData(true):u}else{p.html=Ext.isObject(u)?Ext.DomHelper.markup(u):u}if(p.rendered){r=p.getSizeModel();x=r.width.shrinkWrap||r.height.shrinkWrap;if(p.isContainer){s=p.layout.getRenderTarget();x=x||p.items.items.length>0}else{s=p.getTargetEl()}if(n){p.tpl[p.tplWriteMode](s,p.data||{})}else{s.setHtml(p.html,q,o,w||p)}if(x){p.updateLayout()}if(v){v.onFocusableChildUpdate(p)}}},setHtml:function(g,e,f){this.update(g,e,null,f)},applyData:function(c){this.update(c)},updateBox:function(c){this.setSize(c.width,c.height);this.setPagePosition(c.x,c.y);return this},_asLayoutRoot:{isRoot:true},_notAsLayoutRoot:{isRoot:false},updateLayout:function(n){var l=this,k,o=l.lastBox,j=n&&n.isRoot,m=n&&n.context;if(o){o.invalid=true}if(!l.rendered||l.layoutSuspendCount||l.suspendLayout){return}if(l.hidden){Ext.Component.cancelLayout(l)}else{if(typeof j!=="boolean"){j=l.isLayoutRoot()}}if(j||!l.ownerLayout||!l.ownerLayout.onContentChange(l,m)){if(!l.isLayoutSuspended()){k=(n&&n.hasOwnProperty("defer"))?n.defer:l.deferLayouts;Ext.Component.updateLayout(l,k)}}},updateMaxHeight:function(e,d){this.changeConstraint(e,d,"min","max-height","height")},updateMaxWidth:function(e,d){this.changeConstraint(e,d,"min","max-width","width")},updateMinHeight:function(e,d){this.changeConstraint(e,d,"max","min-height","height")},updateMinWidth:function(d,e){this.changeConstraint(d,e,"max","min-width","width")},updateTouchAction:function(j){var m,g,l,k;for(m in j){g=this[m];l=j[m];if(g&&g.isElement){g.setTouchAction(l)}else{k=true}}if(k){this.el.setTouchAction(j)}},getAnchorToXY:function(g,f,j,k){return g.getAnchorXY(f,j,k)},getBorderPadding:function(){return this.el.getBorderPadding()},getLocalX:function(){return this.el.getLocalX()},getLocalXY:function(){return this.el.getLocalXY()},getLocalY:function(){return this.el.getLocalY()},getX:function(){return this.el.getX()},getXY:function(){return this.el.getXY()},getY:function(){return this.el.getY()},setLocalX:function(c){this.el.setLocalX(c)},setLocalXY:function(d,e){this.el.setLocalXY(d,e)},setLocalY:function(c){this.el.setLocalY(c)},setX:function(d,e){this.el.setX(d,e)},setXY:function(e,d){this.el.setXY(e,d)},setY:function(e,d){this.el.setY(e,d)},privates:{addOverCls:function(){var c=this;if(!c.disabled){c.el.addCls(c.overCls)}},addUIToElement:function(){var m=this,j=m.baseCls+"-"+m.ui,n,k,o,l;m.addCls(j);if(m.rendered&&m.frame&&!Ext.supports.CSS3BorderRadius){j+="-";n=m.getChildEls();for(k in n){l=n[k].frame;if(l&&l!==true){o=m[k];if(o){o.addCls(j+l)}}}}},changeConstraint:function(l,p,k,n,q){var m=this,o=m[q];if(l!=null&&typeof o==="number"){m[q]=Math[k](o,l)}if(m.liquidLayout){if(l!=null){m.setStyle(n,l+"px")}else{if(p){m.setStyle(n,"")}}}if(m.rendered){m.updateLayout()}},constructPlugin:function(e){var d=this;if(typeof e==="string"){e=Ext.PluginManager.create({},e,d)}else{e=Ext.PluginManager.create(e,null,d)}return e},constructPlugins:function(){var j=this,l=j.plugins,m,k,g;if(l){m=[];m.processed=true;if(!Ext.isArray(l)){l=[l]}for(k=0,g=l.length;k<g;k++){m[k]=j.constructPlugin(l[k])}}j.pluginsInitialized=true;return m},detachFromBody:function(){Ext.getDetachedBody().appendChild(this.el);Ext.Component.cancelLayout(this);this.isDetached=true},doAddListener:function(D,v,u,r,F,G,C){var w=this,x,A,E,s,B,y;if(Ext.isObject(v)||(r&&r.element)){if(r.element){s=r.element;x={};x[D]=v;if(u){x.scope=u}E=w.$elementEventOptions;for(A in r){if(E[A]){x[A]=r[A]}}}else{x=v;s=D}B=w[s];if(B&&B.isObservable){w.mon(B,x)}else{w.afterRenderEvents=w.afterRenderEvents||{};if(!w.afterRenderEvents[s]){w.afterRenderEvents[s]=[]}w.afterRenderEvents[s].push(x)}return}if(r){y=r.delegate;if(y){w.mixins.componentDelegation.addDelegatedListener.call(w,D,v,u,r,F,G,C);return}}w.mixins.observable.doAddListener.call(w,D,v,u,r,F,G,C)},doRemoveListener:function(f,j,k){var g=this;g.mixins.observable.doRemoveListener.call(g,f,j,k);g.mixins.componentDelegation.removeDelegatedListener.call(g,f,j,k)},fireHierarchyEvent:function(e){var d=Ext.GlobalEvents;if(d.hasListeners[e]){d.fireEvent(e,this)}},getActionEl:function(){return this.el},getAutoId:function(){this.autoGenId=true;return ++Ext.Component.AUTO_ID},getContentTarget:function(){return this.el},getDragEl:function(){return this.el},getOverflowEl:function(){return this.getTargetEl()},getOverflowStyle:function(){var m=this,o=m.getScrollable(),n=m._scrollFlags,j,k,l;if(o){j=o.getX();if(j===true){j="auto"}k=o.getY();if(k===true){k="auto"}l=n[j][k]}else{l=n.none}m.scrollFlags=l;return{overflowX:l.overflowX,overflowY:l.overflowY}},getPlugins:function(){var c=this.plugins;c=(c&&c.processed)?c:this.constructPlugins();return c||null},getProxy:function(){var d=this,e;if(!d.proxy){e=Ext.getBody();d.proxy=d.el.createProxy("x-proxy-el",e,true)}return d.proxy},getTargetEl:function(){return this.frameBody||this.el},getTdCls:function(){return"x-"+this.getTdType()+"-"+this.ui+"-cell"},getTdType:function(){return this.xtype},getTpl:function(c){return this.lookupTpl(c)},initCls:function(){var g=this,e=[g.baseCls],f=g.getComponentLayout().targetCls;if(f){e.push(f)}if(g.componentCls){e.push(g.componentCls)}else{g.componentCls=g.baseCls}return e},initDraggable:function(){var f=this,e=(f.resizer&&f.resizer.el!==f.el)?f.resizerComponent=new Ext.Component({el:f.resizer.el,rendered:true,container:f.container}):f,g=Ext.applyIf({el:e.getDragEl(),constrainTo:(f.constrain||f.draggable.constrain)?(f.constrainTo||(f.floatParent?f.floatParent.getTargetEl():f.container)):undefined},f.draggable);if(f.constrain||f.constrainDelegate){g.constrain=f.constrain;g.constrainDelegate=f.constrainDelegate}f.dd=new Ext.util.ComponentDragger(e,g)},initPadding:function(f){var e=this,g=e.padding;if(g!=null){if(e.layout&&e.layout.managePadding&&e.contentPaddingProperty==="padding"){f.setStyle("padding",0)}else{f.setStyle("padding",this.unitizeBox((g===true)?5:g))}}},initPlugin:function(c){c.init(this);return c},initResizable:function(d){var e=this;d=Ext.apply({target:e,dynamic:false,constrainTo:(e.constrain||(d&&d.constrain))?(e.constrainTo||(e.floatParent?e.floatParent.getTargetEl():e.container)):undefined,handles:e.resizeHandles},d);d.target=e;e.resizer=new Ext.resizer.Resizer(d)},initStyles:function(p){var u=this,w=u.margin,v=u.border,o=u.cls,A=u.style,r=u.x,s=u.y,x=u.liquidLayout,y,q;u.initPadding(p);if(w!=null){p.setStyle("margin",this.unitizeBox((w===true)?5:w))}if(v!=null){u.setBorder(v,p)}if(o&&o!==u.initialCls){p.addCls(o);u.cls=u.initialCls=null}if(A&&A!==u.initialStyle){p.setStyle(A);u.style=u.initialStyle=null}if(r!=null){p.setStyle(u.horizontalPosProp,(typeof r==="number")?(r+"px"):r)}if(s!=null){p.setStyle("top",(typeof s==="number")?(s+"px"):s)}if(!u.ownerCt||u.floating){if(Ext.scopeCss){p.addCls(u.rootCls)}p.addCls(u.borderBoxCls)}if(x||!u.getFrameInfo()){y=u.width;q=u.height;if(y!=null){if(typeof y==="number"){p.setStyle("width",y+"px")}else{p.setStyle("width",y)}}if(q!=null){if(typeof q==="number"){p.setStyle("height",q+"px")}else{p.setStyle("height",q)}}}},isContainedFloater:function(){return(this.floating&&this.floatParent)},isDescendant:function(c){if(c.isContainer){for(var e=this.ownerCt;e;e=e.ownerCt){if(e===c){return true}}}return false},owns:function(g){var e=false,f;if(g.isEvent){g=g.target}else{if(g.isElement){g=g.dom}}f=Ext.Component.fromElement(g);if(f){e=(f===this)||(!!f.up(this))}return e},parseBox:function(c){return Ext.Element.parseBox(c)},reattachToBody:function(){this.isDetached=false},removeManagedListenerItem:function(s,l,m,q,o,p){var n=this,r=l.options?l.options.element:null;if(r){r=n[r];if(r&&r.un){if(s||(l.item===m&&l.ename===q&&(!o||l.fn===o)&&(!p||l.scope===p))){r.un(l.ename,l.fn,l.scope);if(!s){Ext.Array.remove(n.managedListeners,l)}}}}else{return n.mixins.observable.removeManagedListenerItem.apply(n,arguments)}},removeOverCls:function(){this.el.removeCls(this.overCls)},removePlugin:function(c){Ext.Array.remove(this.plugins,c);c.destroy()},removeUIFromElement:function(){var m=this,j=m.baseCls+"-"+m.ui,n,k,o,l;m.removeCls(j);if(m.rendered&&m.frame&&!Ext.supports.CSS3BorderRadius){j+="-";n=m.getChildEls();for(k in n){l=n[k].frame;if(l&&l!==true){o=m[k];if(o){o.removeCls(j+l)}}}}},setComponentLayout:function(e){var d=this.componentLayout;if(d&&d.isLayout&&d!==e){d.setOwner(null)}this.componentLayout=e;e.setOwner(this)},setHiddenState:function(g){var j=this,k=j.getInherited(),f=j.zIndexManager;j.hidden=g;if(g){k.hidden=true}else{delete k.hidden}if(f){f.onComponentShowHide(j)}},setupProtoEl:function(){var c=this.initCls();this.protoEl.addCls(c)},wrapPrimaryEl:function(f){var g=this,e=g.el;if(!e||!e.isElement){g.el=Ext.get(f)}if(g.floating){this.mixins.floating.constructor.call(this)}}},deprecated:{5:{methods:{addClass:"addCls",doComponentLayout:function(){this.updateLayout();return this},removeClass:"removeCls",forceComponentLayout:"updateLayout",setDocked:"setDock"}}}},1,["component","box"],["component","box"],{component:true,box:true},["widget.box","widget.component"],[[Ext.mixin.Inheritable.prototype.mixinId||Ext.mixin.Inheritable.$className,Ext.mixin.Inheritable],[Ext.util.Floating.prototype.mixinId||Ext.util.Floating.$className,Ext.util.Floating],[Ext.util.Positionable.prototype.mixinId||Ext.util.Positionable.$className,Ext.util.Positionable],[Ext.util.Observable.prototype.mixinId||Ext.util.Observable.$className,Ext.util.Observable],[Ext.mixin.ComponentDelegation.prototype.mixinId||Ext.mixin.ComponentDelegation.$className,Ext.mixin.ComponentDelegation],[Ext.mixin.Bindable.prototype.mixinId||Ext.mixin.Bindable.$className,Ext.mixin.Bindable],[Ext.util.Animate.prototype.mixinId||Ext.util.Animate.$className,Ext.util.Animate],[Ext.util.ElementContainer.prototype.mixinId||Ext.util.ElementContainer.$className,Ext.util.ElementContainer],[Ext.util.Renderable.prototype.mixinId||Ext.util.Renderable.$className,Ext.util.Renderable],[Ext.state.Stateful.prototype.mixinId||Ext.state.Stateful.$className,Ext.state.Stateful],[Ext.util.Focusable.prototype.mixinId||Ext.util.Focusable.$className,Ext.util.Focusable],[Ext.mixin.Accessible.prototype.mixinId||Ext.mixin.Accessible.$className,Ext.mixin.Accessible],[Ext.mixin.Keyboard.prototype.mixinId||Ext.mixin.Keyboard.$className,Ext.mixin.Keyboard]],[Ext,"Component",Ext,"AbstractComponent"],function(e){var d=e.prototype;(d.$elementEventOptions=Ext.Object.chain(Ext.Element.prototype.$eventOptions)).element=1;(d.$eventOptions=Ext.Object.chain(d.$eventOptions)).delegate=1;e.createAlias({on:"addListener",prev:"previousSibling",next:"nextSibling"});Ext.resumeLayouts=function(b){e.resumeLayouts(b)};Ext.suspendLayouts=function(){e.suspendLayouts()};Ext.batchLayouts=function(b,c){e.suspendLayouts();try{b.call(c)}finally{e.resumeLayouts(true)}};Ext.setGlyphFontFamily=function(b){Ext._glyphFontFamily=b};e.hierarchyEventSource=d.hierarchyEventSource=Ext.GlobalEvents;Ext.onReady(function(){if(Ext.supports.HighContrastMode){Ext.getBody().addCls(e.ariaHighContrastModeCls)}})}));Ext.define("Ext.layout.container.border.Region",{override:"Ext.Component",initBorderRegion:function(){var c=this;if(!c._borderRegionInited){c._borderRegionInited=true;c.addStateEvents(["changeregion","changeweight"]);Ext.override(c,{getState:function(){var b=c.callParent();b=c.addPropertyToState(b,"region");b=c.addPropertyToState(b,"weight");return b}})}},getOwningBorderContainer:function(){var c=this.getOwningBorderLayout();return c&&c.owner},getOwningBorderLayout:function(){var c=this.ownerLayout;return(c&&c.isBorderLayout)?c:null},setRegion:function(u){var v=this,C,B=v.region;if(u!==B){C=v.getOwningBorderLayout();if(C){var y=C.regionFlags[u],s=v.placeholder,E=v.splitter,D=C.owner,q=C.regionMeta,A=v.collapsed||v.floated,r,w,x;if(v.fireEventArgs("beforechangeregion",[v,u])===false){return B}Ext.suspendLayouts();v.region=u;Ext.apply(v,y);if(v.updateCollapseTool){v.updateCollapseTool()}if(E){Ext.apply(E,y);E.updateOrientation();w=D.items;x=w.indexOf(v);if(x>=0){r=q[u].splitterDelta;if(w.getAt(x+r)!==E){w.remove(E);x=w.indexOf(v);if(r>0){++x}w.insert(x,E)}}}if(s){if(A){v.expand(false)}D.remove(s);v.placeholder=null;if(A){v.collapse(null,false)}}D.updateLayout();Ext.resumeLayouts(true);v.fireEventArgs("changeregion",[v,B])}else{v.region=u}}return B},setWeight:function(k){var l=this,m=l.getOwningBorderContainer(),j=l.placeholder,g=l.weight;if(k!==g){if(l.fireEventArgs("beforechangeweight",[l,k])!==false){l.weight=k;if(j){j.weight=k}if(m){m.updateLayout()}l.fireEventArgs("changeweight",[l,g])}}return g}},function(d){var e=d.prototype;e.setBorderRegion=e.setRegion;e.setRegionWeight=e.setWeight});Ext.define("Ext.theme.neptune.Component",{override:"Ext.Component",initComponent:function(){arguments.callee.$previous.call(this);if(this.dock&&this.border===undefined){this.border=false}},privates:{initStyles:function(){var f=this,g=f.hasOwnProperty("border"),e=f.border;if(f.dock){f.border=null}arguments.callee.$previous.apply(this,arguments);if(g){f.border=e}else{delete f.border}}}},function(){Ext.namespace("Ext.theme.is").Neptune=true;Ext.theme.name="Neptune"});Ext.define("Ext.theme.triton.Component",{override:"Ext.Component"},function(){Ext.namespace("Ext.theme.is").Triton=true;Ext.theme.name="Triton"});Ext.define("Ext.overrides.app.domain.Component",{override:"Ext.app.domain.Component"},function(c){c.monitor(Ext.Component)});(Ext.cmd.derive("Ext.app.EventBus",Ext.Base,{singleton:true,constructor:function(){var e=this,d=Ext.app.EventDomain.instances;e.callParent();e.domains=d;e.bus=d.component.bus},control:function(e,d){return this.domains.component.listen(e,d)},listen:function(g,k){var f=this.domains,j;for(j in g){if(g.hasOwnProperty(j)){f[j].listen(g[j],k)}}},unlisten:function(f){var e=Ext.app.EventDomain.instances,g;for(g in e){e[g].unlisten(f)}}},1,0,0,0,0,0,[Ext.app,"EventBus"],0));(Ext.cmd.derive("Ext.app.domain.Global",Ext.app.EventDomain,{singleton:true,type:"global",constructor:function(){var c=this;c.callParent();c.monitor(Ext.GlobalEvents)},listen:function(e,d){this.callParent([{global:e},d])},match:Ext.returnTrue},1,0,0,0,0,0,[Ext.app.domain,"Global"],0));(Ext.cmd.derive("Ext.app.BaseController",Ext.Base,{isController:true,config:{id:undefined,control:null,listen:null,routes:null,before:null},constructor:function(d){var e=this;Ext.apply(e,d);delete e.control;delete e.listen;e.eventbus=Ext.app.EventBus;e.mixins.observable.constructor.call(e,d)},updateId:function(c){this.id=c},applyListen:function(c){if(Ext.isObject(c)){c=Ext.clone(c)}return c},applyControl:function(c){if(Ext.isObject(c)){c=Ext.clone(c)}return c},updateControl:function(c){this.getId();if(c){this.control(c)}},updateListen:function(c){this.getId();if(c){this.listen(c)}},updateRoutes:function(q){if(q){var n=this,m=n.getBefore()||{},k=Ext.app.route.Router,o,p,l;for(o in q){p=q[o];if(Ext.isString(p)){p={action:p}}l=p.action;if(!p.before){p.before=m[l]}k.connect(o,p,n)}}},isActive:function(){return true},control:function(o,n,j){var m=this,l=j,k;if(Ext.isString(o)){k={};k[o]=n}else{k=o;l=n}m.eventbus.control(k,l||m)},listen:function(e,d){this.eventbus.listen(e,d||this)},destroy:function(){var e=this,d=e.eventbus;Ext.app.route.Router.disconnectAll(e);if(d){d.unlisten(e);e.eventbus=null}e.callParent()},redirectTo:function(j,g){if(j.isModel){j=j.toUrl()}var f=Ext.util.History.getToken()===j,k=false;if(!f){k=true;Ext.util.History.add(j)}else{if(g){k=true;Ext.app.route.Router.onStateChange(j)}}return k}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.app,"BaseController"],0));Ext.define("Ext.overrides.app.BaseController",{override:"Ext.app.BaseController",onHistoryBack:function(){history.back()},notFullscreen:function(){var c=this;if(document.exitFullscreen){document.exitFullscreen();c.fullscreenState="not"}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen();c.fullscreenState="not"}else{if(document.webkitCancelFullScreen){document.webkitCancelFullScreen();c.fullscreenState="not"}else{if(document.msExitFullscreen){document.msExitFullscreen();c.fullscreenState="not"}}}}},yepFullscreen:function(){var e=this;var d=document.documentElement;if(d.requestFullscreen){d.requestFullscreen();e.fullscreenState="yep"}else{if(d.mozRequestFullScreen){d.mozRequestFullScreen();e.fullscreenState="yep"}else{if(d.webkitRequestFullScreen){d.webkitRequestFullScreen();e.fullscreenState="yep"}else{if(d.msRequestFullscreen){d.msRequestFullscreen();e.fullscreenState="yep"}}}}},togglesFullscreen:function(){var c=this;if(c.fullscreenState=="yep"){c.notFullscreen()}else{c.yepFullscreen()}}});(Ext.cmd.derive("Ext.app.Util",Ext.Base,{},0,0,0,0,0,0,[Ext.app,"Util"],function(){Ext.apply(Ext.app,{namespaces:{Ext:{}},addNamespaces:function(j){var g=Ext.app.namespaces,k,f;if(!Ext.isArray(j)){j=[j]}for(k=0,f=j.length;k<f;k++){g[j[k]]=true}},clearNamespaces:function(){Ext.app.namespaces={}},getNamespace:function(k){var g=Ext.apply({},Ext.ClassManager.paths,Ext.app.namespaces),f="",j;for(j in g){if(g.hasOwnProperty(j)&&j.length>f.length&&(j+"."===k.substring(0,j.length+1))){f=j}}return f===""?undefined:f},setupPaths:function(g,m,j){var k=Ext.manifest,l;if(g&&m!==null){k=k&&k.paths;if(!k||m!==undefined){Ext.Loader.setPath(g,(m===undefined)?"app":m)}}if(j){for(l in j){if(j.hasOwnProperty(l)){Ext.Loader.setPath(l,j[l])}}}}});Ext.getNamespace=Ext.app.getNamespace}));(Ext.cmd.derive("Ext.util.CollectionKey",Ext.Base,{isCollectionKey:true,observerPriority:-200,config:{collection:null,keyFn:null,property:null,rootProperty:null,unique:true},generation:0,map:null,mapRebuilds:0,constructor:function(c){this.initConfig(c)},get:function(d){var e=this.map||this.getMap();return e[d]||null},clear:function(){this.map=null},getRootProperty:function(){var e=this,d=(arguments.callee.$previous||Ext.Base.prototype.getRootProperty).call(this);return d!==null?d:e.getCollection().getRootProperty()},indexOf:function(o,s){var x=this.map||this.getMap(),n=x[o],r=this.getCollection(),w=r.length,u,q,p,v;if(!n){return -1}if(s===undefined){s=-1}if(n instanceof Array){p=n;q=w;for(v=p.length;v-->0;){u=r.indexOf(p[v]);if(u<q&&u>s){q=u}}if(q===w){return -1}}else{q=r.indexOf(n)}return(q>s)?q:-1},updateKey:function(n,l){var o=this,m=o.map,k,j;if(m){k=m[l];if(k instanceof Array){j=Ext.Array.indexOf(k,n);if(j>=0){if(k.length>2){k.splice(j,1)}else{m[l]=k[1-j]}}}else{if(k){delete m[l]}}o.add([n])}},onCollectionAdd:function(e,d){if(this.map){this.add(d.items)}},onCollectionItemChange:function(e,d){this.map=null},onCollectionRefresh:function(){this.map=null},onCollectionRemove:function(q,r){var o=this,v=o.map,p=r.items,u=p.length,s,m,n;if(v){if(o.getUnique()&&u<q.length/2){for(s=0;s<u;++s){n=o.getKey(m=p[s]);delete v[n]}}else{o.map=null}}},add:function(p){var o=this,v=o.map,u,q,m,n,s,r;s=p.length;r=o.getUnique();for(q=0;q<s;++q){n=o.getKey(m=p[q]);if(r||!(n in v)){v[n]=m}else{if(!((u=v[n]) instanceof Array)){v[n]=u=[u]}u.push(m)}}},applyKeyFn:function(c){if(Ext.isString(c)){this.getKey=function(b){return b[c]()}}else{this.getKey=c}},updateProperty:function(e){var d=this.getRootProperty();this.getKey=function(b){return(d?b[d]:b)[e]}},getMap:function(){var d=this,e=d.map;if(!e){d.map=e={};d.keysByItemKey={};++d.mapRebuilds;d.add(d.getCollection().items)}return e},updateCollection:function(c){c.addObserver(this)},clone:function(){return new Ext.util.CollectionKey(this.getCurrentConfig())}},1,0,0,0,0,[[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.util,"CollectionKey"],0));(Ext.cmd.derive("Ext.util.Grouper",Ext.util.Sorter,{isGrouper:true,config:{groupFn:null,sortProperty:null},constructor:function(c){Ext.util.Sorter.prototype.constructor.apply(this,arguments)},getGroupString:function(d){var e=this._groupFn(d);return(e!=null)?String(e):""},sortFn:function(r,s){var p=this,u=p._groupFn(r),q=p._groupFn(s),m=p._sortProperty,n=p._root,o=p._sorterFn,v=p._transform;if(u===q){return 0}if(m||o){if(o){return o.call(this,r,s)}if(n){r=r[n];s=s[n]}u=r[m];q=s[m];if(v){u=v(u);q=v(q)}}return(u>q)?1:(u<q?-1:0)},standardGroupFn:function(e){var d=this._root;return(d?e[d]:e)[this._property]},updateSorterFn:function(){},updateProperty:function(){if(!this.getGroupFn()){this.setGroupFn(this.standardGroupFn)}}},1,0,0,0,0,0,[Ext.util,"Grouper"],0));(Ext.cmd.derive("Ext.util.Collection",Ext.Base,{isCollection:true,config:{autoFilter:true,autoSort:true,autoGroup:true,decoder:null,extraKeys:null,filters:null,grouper:null,groups:null,rootProperty:null,sorters:null,multiSortLimit:3,defaultSortDirection:"ASC",source:null,trackGroups:true},generation:0,indices:null,indexRebuilds:0,updating:0,grouped:false,sorted:false,filtered:false,$endUpdatePriority:1001,manageSorters:true,constructor:function(d){var e=this;e.items=[];e.map={};e.length=0;if(d&&d.keyFn){e.getKey=d.keyFn}e.mixins.observable.constructor.call(e,d)},destroy:function(){var j=this,k=j._filters,g=j._sorters,f=j._groups;if(k){k.destroy();j._filters=null}if(g){j.grouped=j.sorted=false;j.setSorters(null);if(j.manageSorters){g.destroy()}}if(f){f.destroy();j._groups=null}j.setSource(null);j.observers=j.items=j.map=null;j.callParent()},add:function(g){var j=this,f=j.decodeItems(arguments,0),k=f;if(f.length){j.splice(j.length,0,f);k=(f.length===1)?f[0]:f}return k},replaceAll:function(){var f=this,g,e;e=f.decodeItems(arguments,0);g=e;if(e.length){f.splice(0,f.length,e);g=(e.length===1)?e[0]:e}else{f.removeAll()}return g},aggregate:function(l,q,n,k,o){var m=this,p=Ext.Array.slice(arguments);p.unshift(m.items);return m.aggregateItems.apply(m,p)},aggregateByGroup:function(g,k,j){var f=this.getGroups();return this.aggregateGroups(f,g,k,j)},aggregateItems:function(A,K,F,I,E,J){var y=this,B=Ext.Number.clipIndices(A.length,[I,E]),H=(I!==0&&E!==A.length),C,D,G,x,v,j,w;I=B[0];E=B[1];if(!Ext.isFunction(F)){F=y._aggregators[F];return F.call(y,A,I,E,K,y.getRootProperty())}x=y.getRootProperty();j=new Array(G);w=H?new Array(G):A;for(C=I,D=0;C<E;++C,D++){if(H){w[D]=v=A[C]}j[D]=(x?v[x]:v)[K]}return F.call(J||y,A,j,0)},aggregateGroups:function(A,q,x,p){var s=A.items,u=s.length,y=!Ext.isFunction(x),w={},v,r,o;for(v=0;v<u;++v){r=s[v];if(!y){o=this.aggregateItems(r.items,q,x,null,null,p)}else{o=r[x](q)}w[r.getGroupKey()]=o}return w},beginUpdate:function(){if(!this.updating++){this.notify("beginupdate")}},clear:function(){var l=this,k=l.generation,g=k?l.items:[],m,j;if(k){l.items=[];l.length=0;l.map={};l.indices={};l.generation++;m=l.getExtraKeys();if(m){for(j in m){m[j].clear()}}}return g},clone:function(){var d=this,e=new d.self(d.initialConfig);e.add(d.items);return e},collect:function(n,r,p){var s=this.items,w=s.length,x={},u=[],v,q,o;for(v=0;v<w;++v){o=s[v];o=(r?o[r]:o)[n];q=String(o);if((p||!Ext.isEmpty(o))&&!x[q]){x[q]=1;u.push(o)}}return u},contains:function(f){var e=false,g;if(f!=null){g=this.getKey(f);e=this.map[g]===f}return e},containsKey:function(c){return c in this.map},createFiltered:function(s,u,C,x,D){var y=this,B=new y.self(y.initialConfig),v=y.getRootProperty(),A=y.items,F,E,G,w,r;if(Ext.isFunction(s)){w=s;r=u}else{if(Ext.isString(s)){G=[new Ext.util.Filter({property:s,value:u,root:v,anyMatch:C,caseSensitive:x,exactMatch:D})]}else{if(s instanceof Ext.util.Filter){G=[s];s.setRoot(v)}else{if(Ext.isArray(s)){G=s.slice(0);for(E=0,F=G.length;E<F;++E){G[E].setRoot(v)}}}}w=Ext.util.Filter.createFilterFn(G)}r=r||y;for(E=0,F=A.length;E<F;E++){if(w.call(r,A[E])){B.add(A[E])}}return B},filterBy:function(e,d){return this.createFiltered(e,d)},each:function(k,l){var o=this.items,j=o.length,m,n;if(j){l=l||this;o=o.slice(0);for(m=0;m<j;m++){n=k.call(l,o[m],m,j);if(n===false){break}}}return n},eachKey:function(p,m){var q=this,r=q.items,u=r.length,v,n,o,s;if(u){m=m||q;r=r.slice(0);for(v=0;v<u;v++){o=q.getKey(n=r[v]);s=p.call(m,o,n,v,u);if(s===false){break}}}return s},endUpdate:function(){if(!--this.updating){this.notify("endupdate")}},find:function(n,o,m,q,r,s){if(Ext.isEmpty(o,false)){return null}var p=Ext.String.createRegex(o,q,r,s),l=this.getRootProperty();return this.findBy(function(b){return b&&p.test((l?b[l]:b)[n])},null,m)},findBy:function(p,m,v){var q=this,r=q.items,s=r.length,u,n,o;m=m||q;for(u=v||0;u<s;u++){o=q.getKey(n=r[u]);if(p.call(m,n,o)){return r[u]}}return null},findIndex:function(m,n,l,p,q,k){var o=this.find(m,n,l,p,q,k);return o?this.indexOf(o):-1},findIndexBy:function(k,f,g){var j=this.findBy(k,f,g);return j?this.indexOf(j):-1},first:function(e){var d=e?this.getGroups():undefined;return d?this.aggregateGroups(d,null,"first"):this.items[0]},last:function(e){var d=e?this.getGroups():undefined;return d?this.aggregateGroups(d,null,"last"):this.items[this.length-1]},get:function(c){return this.map[c]},getAt:function(c){return this.items[c]},getByKey:function(c){return this.map[c]},getCount:function(){return this.length},getKey:function(d){var e=d.id;return(e===0||e)?e:((e=d._id)===0||e)?e:d.getId()},getRange:function(k,g){var l=this.items,j=l.length,m;if(!j){m=[]}else{m=Ext.Number.clipIndices(j,[k,g]);m=l.slice(m[0],m[1])}return m},getValues:function(m,o,v,u){var p=this.items,r=Ext.Number.clipIndices(p.length,[v,u]),q=[],s,n;for(s=r[0],u=r[1];s<u;++s){n=p[s];n=(o?n[o]:n)[m];q.push(n)}return q},indexOf:function(e){if(!e){return -1}var d=this.getKey(e);return this.indexOfKey(d)},indexOfKey:function(e){var g=this,f=g.indices;if(e in g.map){if(!f){f=g.getIndices()}return f[e]}return -1},insert:function(l,j){var k=this,g=k.decodeItems(arguments,1),m=g;if(g.length){k.splice(l,0,g);m=(g.length===1)?g[0]:g}return m},itemChanged:function(C,P,L,K){var B=this,U=L===0||!!L,O=B.filtered&&B.getAutoFilter(),S=false,T=0,H=B.items,M=B.length-1,W=B.sorted&&M>0&&B.getAutoSort(),F=B.getSource(),G=0,N=false,I=false,D,E,R,J,Q,V;if(F&&!F.updating){F.itemChanged(C,P,L,K)}else{E=B.getKey(C);if(O){Q=B.indexOfKey(U?L:E);I=(Q<0);N=B.isItemFiltered(C);S=(I!==N)}if(S){if(N){G=[C];V=-1}else{J=[C];V=B.length}}else{if(W&&!N){if(!O){Q=B.indexOfKey(U?L:E)}R=B.getSortFn();if(Q!==-1){if(Q&&R(H[Q-1],H[Q])>0){T=-1;V=Ext.Array.binarySearch(H,C,0,Q,R)}else{if(Q<M&&R(H[Q],H[Q+1])>0){T=1;V=Ext.Array.binarySearch(H,C,Q+1,R)}}if(T){J=[C]}}}}D={item:C,key:E,index:V,filterChanged:S,keyChanged:U,indexChanged:!!T,filtered:N,oldIndex:Q,newIndex:V,wasFiltered:I,meta:K};if(U){D.oldKey=L}if(P){D.modified=P}B.beginUpdate();B.notify("beforeitemchange",[D]);if(U){B.updateKey(C,L)}if(J||G){B.splice(V,G,J)}if(T>0){D.newIndex--}else{if(T<0){D.oldIndex++}}B.notify(N?"filtereditemchange":"itemchange",[D]);B.endUpdate()}},remove:function(g){var j=this,f=j.decodeRemoveItems(arguments,0),k=j.length;j.splice(0,f);return k-j.length},removeAll:function(){var e=this,d=e.length;if(e.generation&&d){e.splice(0,d)}return e},removeAt:function(p,q){var o=this,w=o.length,s=Ext.Number,u=s.clipIndices(w,[p,(q===undefined)?1:q],s.Clip.COUNT),v=u[0],x=u[1]-v,n=(x===1)&&o.getAt(v),r;o.splice(v,x);r=o.length-w;return(n&&r)?n:r},removeByKey:function(d){var e=this.getByKey(d);if(!e||!this.remove(e)){return false}return e},replace:function(e){var d=this.indexOf(e);if(d===-1){this.add(e)}else{this.insert(d,e)}},splice:function(ac,at,ae){var au=this,aA=au.sorted&&au.getAutoSort(),ag=au.map,ao=au.items,aq=au.length,ak=(at instanceof Array)?au.decodeRemoveItems(at):null,aj=!ak,ab=Ext.Number,az=ab.clipIndices(aq,[ac,aj?at:0],ab.Clip.COUNT),ax=az[0],av=az[1],V=av-ax,am=au.decodeItems(arguments,2),W=am?am.length:0,ad,ai,al,aB=ax,aC=au.indices||((W||ak)?au.getIndices():null),ap=null,aw=V?[ax]:null,ay=null,an=au.getSource(),aD,Z,Y,T,af,aa,U,ar,ah,X,k,n;if(an&&!an.updating){if(aj){ak=[];for(T=0;T<V;++T){ak.push(ao[ax+T])}}if(ax<aq){T=an.indexOf(ao[ax])}else{T=an.length}au.requestedIndex=ac;an.splice(T,ak,am);delete au.requestedIndex;return au}if(W){ad=am;ay=[];ai={};if(aA){n=au.getSorters();if(W>1){if(!ad.$cloned){am=ad=ad.slice(0)}au.sortData(ad)}}for(T=0;T<W;++T){ar=au.getKey(af=am[T]);if((U=ai[ar])!==undefined){(k||(k={}))[U]=1}else{aa=aC[ar];if(aa<ax||av<=aa){(aw||(aw=[])).push(aa)}}ai[ar]=T;ay.push(ar)}if(k){ah=ay;ad=[];ay=[];ad.$cloned=true;for(T=0;T<W;++T){if(!k[T]){af=am[T];ad.push(af);ay.push(ah[T])}}W=ad.length}ap={items:ad,keys:ay}}for(T=ak?ak.length:0;T-->0;){ar=au.getKey(ak[T]);if((aa=aC[ar])!==undefined){(aw||(aw=[])).push(aa)}}if(!ap&&!aw){return au}au.beginUpdate();if(aw){aD=null;Y=[];al={};if(aw.length>1){aw.sort(Ext.Array.numericSortFn)}for(T=0,X=aw.length;T<X;++T){ar=au.getKey(af=ao[aa=aw[T]]);if(!(ar in ag)){continue}delete ag[ar];if(!aD||aa>(aD.at+Z.length)){Y.push(aD={at:aa,items:(Z=[]),keys:(ah=[]),map:al,next:aD,replacement:ap});if(ap){ap.replaced=aD}}Z.push(al[ar]=af);ah.push(ar);if(aa<aB-1){--aB}if(V>1&&aa===ax){--V;aw[T--]=++ax}}if(ap){ap.at=aB}for(U=Y.length;U-->0;){aD=Y[U];T=aD.at;X=aD.items.length;if(T+X<aq){au.indices=aC=null}au.length=aq-=X;ao.splice(T,X);if(aC){ah=aD.keys;for(T=0;T<X;++T){delete aC[ah[T]]}}++au.generation;au.notify("remove",[aD])}}if(ap){if(aA&&W>1&&aq){au.spliceMerge(ad,ay)}else{if(aA){if(W>1){aB=0;au.indices=aC=null}else{aB=n.findInsertionIndex(ap.items[0],ao,au.getSortFn(),ac)}}if(aB===aq){av=aB;for(T=ad.length-1;T>=0;--T){ao[av+T]=ad[T]}aC=au.indices;if(aC){for(T=0;T<W;++T){aC[ay[T]]=aB+T}}}else{au.indices=null;Ext.Array.insert(ao,aB,ad)}for(T=0;T<W;++T){ag[ay[T]]=ad[T]}au.length+=W;ap.at=aB;ap.atItem=aB===0?null:ao[aB-1];++au.generation;au.notify("add",[ap])}}au.endUpdate();return au},update:function(k,e){var j=this;j.beginUpdate();try{return k.call(e||j,j)}catch(g){throw g}finally{j.endUpdate()}},updateKey:function(q,n){var k=this,o=k.map,l=k.indices,p=k.getSource(),m;if(p&&!p.updating){p.updateKey(q,n)}else{if((m=k.getKey(q))!==n){if(o[n]===q&&!(m in o)){delete o[n];k.updating++;k.generation++;o[m]=q;if(l){l[m]=l[n];delete l[n]}k.notify("updatekey",[{item:q,newKey:m,oldKey:n}]);k.updating--}}}},findInsertIndex:function(m){var l=this.getSource(),k=l.items,o=l.indexOf(m)-1,n,j;while(o>-1){n=k[o];j=this.indexOf(n);if(j>-1){return j+1}--o}return 0},onCollectionAdd:function(C,B){var r=this,n=B.atItem,s=B.items,w=r.requestedIndex,u,v,A,x,q,y;if(!r.sorted){if(w!==undefined){v=w}else{if(n){v=r.indexOf(n);if(v===-1){v=r.findInsertIndex(s[0])}else{++v}}else{v=0}}}if(r.getAutoFilter()&&r.filtered){for(x=0,y=s.length;x<y;++x){q=s[x];if(r.isItemFiltered(q)){if(!A){A=s.slice(0,x)}if(!u){u=[]}u.push(q)}else{if(A){A.push(q)}}}}r.splice((v<0)?r.length:v,0,A||s);if(u){r.notify("filteradd",[u])}},onCollectionBeforeItemChange:function(e,d){this.onCollectionUpdateKey=null},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(e,d){delete this.onCollectionUpdateKey;this.itemChanged(d.item,d.modified,d.oldKey,d.meta)},onCollectionFilteredItemChange:null,onCollectionRefresh:function(v){var p=this,u={},n={},r,m,q,o,s;q=v.items;q=p.filtered&&p.getAutoFilter()?Ext.Array.filter(q,p.getFilterFn()):q.slice(0);if(p.sorted){p.sortData(q)}p.items=q;p.length=s=q.length;p.map=u;p.indices=n;for(r=0;r<s;++r){o=p.getKey(m=q[r]);u[o]=m;n[o]=r}p.notify("refresh")},onCollectionRemove:function(e,d){this.splice(0,d.items)},onCollectionUpdateKey:function(e,d){this.updateKey(d.item,d.oldKey)},_aggregators:{average:function(n,m,o,l,j){var k=o-m;return k&&this._aggregators.sum.call(this,n,m,o,l,j)/k},bounds:function(q,v,u,m,p){for(var n,o,s,r=v;r<u;++r){n=q[r];n=(p?n[p]:n)[m];if(!(n<o)){o=n}if(!(n>s)){s=n}}return[s,o]},count:function(c){return c.length},extremes:function(w,C,A,q,s){var v=null,B=null,x,p,u,y,r;for(x=C;x<A;++x){p=w[x];r=(s?p[s]:p)[q];if(!(r<u)){u=r;v=p}if(!(r>y)){y=r;B=p}}return[B,v]},max:function(l,k,m,b,n){var o=this._aggregators.bounds.call(this,l,k,m,b,n);return o[1]},maxItem:function(l,k,m,b,n){var o=this._aggregators.extremes.call(this,l,k,m,b,n);return o[1]},min:function(l,k,m,b,n){var o=this._aggregators.bounds.call(this,l,k,m,b,n);return o[0]},minItem:function(l,k,m,b,n){var o=this._aggregators.extremes.call(this,l,k,m,b,n);return o[0]},sum:function(r,o,s,m,l){for(var n,p=0,q=o;q<s;++q){n=r[q];n=(l?n[l]:n)[m];p+=n}return p}},_eventToMethodMap:{add:"onCollectionAdd",beforeitemchange:"onCollectionBeforeItemChange",beginupdate:"onCollectionBeginUpdate",endupdate:"onCollectionEndUpdate",itemchange:"onCollectionItemChange",filtereditemchange:"onCollectionFilteredItemChange",refresh:"onCollectionRefresh",remove:"onCollectionRemove",beforesort:"beforeCollectionSort",sort:"onCollectionSort",filter:"onCollectionFilter",filteradd:"onCollectionFilterAdd",updatekey:"onCollectionUpdateKey"},addObserver:function(e){var g=this,f=g.observers;if(!f){g.observers=f=[]}if(g.notifying){g.observers=f=f.slice(0)}f.push(e);if(f.length>1){Ext.Array.sort(f,g.prioritySortFn)}},prioritySortFn:function(b,g){var j=b.observerPriority||0,k=g.observerPriority||0;return j-k},applyExtraKeys:function(n,k){var m=this,o=k||{},p,q,l;for(q in n){l=n[q];if(!l.isCollectionKey){p={collection:m};if(Ext.isString(l)){p.property=l}else{p=Ext.apply(p,l)}l=new Ext.util.CollectionKey(p)}else{l.setCollection(m)}o[q]=m[q]=l;l.name=q}return o},applyGrouper:function(c){if(c){c=this.getSorters().decodeSorter(c,"Ext.util.Grouper")}return c},decodeItems:function(o,p){var m=this,q=(p===undefined)?o:o[p],k,l,n;if(!q||!q.$cloned){k=o.length>p+1||!Ext.isIterable(q);if(k){q=Ext.Array.slice(o,p);if(q.length===1&&q[0]===undefined){q.length=0}}l=m.getDecoder();if(l){if(!k){q=q.slice(0);k=true}for(n=q.length;n-->0;){if((q[n]=l.call(m,q[n]))===false){q.splice(n,1)}}}if(k){q.$cloned=true}}return q},getIndices:function(){var m=this,l=m.indices,j=m.items,k=j.length,n,o;if(!l){m.indices=l={};++m.indexRebuilds;for(n=0;n<k;++n){o=m.getKey(j[n]);l[o]=n}}return l},notify:function(u,q){var p=this,v=p.observers,n=p._eventToMethodMap[u],o=0,s,w,x,r;q=q||[];if(v&&n){p.notifying=true;for(s=0,w=v.length;s<w;++s){x=(r=v[s])[n];if(x){if(!o++){q.unshift(p)}x.apply(r,q)}}p.notifying=false}if(!p.hasListeners){return}if(p.hasListeners[u]){if(!o){q.unshift(p)}p.fireEventArgs(u,q)}},getFilterFn:function(){return this.getFilters().getFilterFn()},getFilters:function(e){var d=this._filters;if(!d&&e!==false){d=new Ext.util.FilterCollection();this.setFilters(d)}return d},isItemFiltered:function(c){return !this.getFilters().filterFn(c)},onFilterChange:function(l){var m=this,k=m.getSource(),n,o,j;if(!k){n=m.getExtraKeys();if(n){o={};for(j in n){o[j]=n[j].clone(m)}}k=new Ext.util.Collection({keyFn:m.getKey,extraKeys:o,rootProperty:m.getRootProperty()});if(m.length){k.add(m.items)}m.setSource(k);m.autoSource=k}else{if(k.length||m.length){m.onCollectionRefresh(k)}}m.notify("filter")},applyFilters:function(d,e){if(!d||d.isFilterCollection){return d}if(d){if(!e){e=this.getFilters()}e.splice(0,e.length,d)}return e},updateFilters:function(e,g){var f=this;if(g){g.un("endupdate","onEndUpdateFilters",f)}if(e){e.on({endupdate:"onEndUpdateFilters",scope:f,priority:f.$endUpdatePriority});e.$filterable=f}f.onEndUpdateFilters(e)},onEndUpdateFilters:function(j){var k=this,g=k.filtered,f=!!j&&(j.length>0);if(g||f){k.filtered=f;k.onFilterChange(j)}},getSortFn:function(){return this._sortFn||this.createSortFn()},getSorters:function(e){var d=this._sorters;if(!d&&e!==false){d=new Ext.util.SorterCollection();this.setSorters(d)}return d},onSortChange:function(){if(this.sorted){this.sortItems()}},sort:function(f,j,g){var k=this.getSorters();k.addSort.apply(k,arguments);return this},sortData:function(c){Ext.Array.sort(c,this.getSortFn());return c},sortItems:function(e){var d=this;if(d.sorted){e=d.getSortFn()}d.indices=null;d.notify("beforesort",[d.getSorters(false)]);if(d.length){Ext.Array.sort(d.items,e)}d.notify("sort")},sortBy:function(c){return this.sortItems(c)},findInsertionIndex:function(m,q,n,o){var l,p,k;q=q||this.items;n=n||this.getSortFn();k=q.length;if(o<k){l=o>0?n(q[o-1],m):0;p=o<k-1?n(m,q[o]):0;if(l<1&&p<1){return o}}return Ext.Array.binarySearch(q,m,n)},applySorters:function(d,e){if(!d||d.isSorterCollection){return d}if(d){if(!e){e=this.getSorters()}e.splice(0,e.length,d)}return e},createSortFn:function(){var j=this,f=j.getGrouper(),g=j.getSorters(false),k=g?g.getSortFn():null;if(!f){return k}return function(d,b){var c=f.sort(d,b);if(!c&&k){c=k(d,b)}return c}},updateGrouper:function(m){var l=this,g=l.getGroups(),j=l.getSorters(),k;l.onSorterChange();l.grouped=!!m;if(m){if(l.getTrackGroups()){if(!g){g=new Ext.util.GroupCollection({itemRoot:l.getRootProperty()});g.$groupable=l;l.setGroups(g)}g.setGrouper(m);k=true}}else{if(g){l.removeObserver(g);g.destroy()}l.setGroups(null)}if(!j.updating){l.onEndUpdateSorters(j)}if(k){g.onCollectionRefresh(l)}},updateSorters:function(e,g){var f=this;if(g&&!g.destroyed){g.un("endupdate","onEndUpdateSorters",f)}if(e){e.on({endupdate:"onEndUpdateSorters",scope:f,priority:f.$endUpdatePriority});e.$sortable=f}f.onSorterChange();f.onEndUpdateSorters(e)},onSorterChange:function(){this._sortFn=null},onEndUpdateSorters:function(j){var k=this,g=k.sorted,f=(k.grouped&&k.getAutoGroup())||(j&&j.length>0);if(g||f){k.sorted=!!f;k.onSortChange(j)}},removeObserver:function(d){var e=this.observers;if(e){Ext.Array.remove(e,d)}},spliceMerge:function(G,x){var y=this,A=y.map,J=G.length,M=0,F=y.items,w=F.length,H=[],I=0,D=[],L=y.getSortFn(),E,N,C,K,B,O;y.items=D;for(O=0;O<J;O=N){K=G[O];for(;M<w;++M){if(L(K,B=F[M])<0){break}D.push(B)}if(M===w){H[I++]={at:D.length,itemAt:D[D.length-1],items:(E=[])};if(I>1){H[I-2].next=H[I-1]}for(;O<J;++O){E.push(K=G[O]);D.push(K)}break}H[I++]={at:D.length,itemAt:D[D.length-1],items:(E=[K])};if(I>1){H[I-2].next=H[I-1]}D.push(K);for(N=O+1;N<J;++N){if(L(K=G[N],B)>=0){break}D.push(K);E.push(K)}}for(;M<w;++M){D.push(F[M])}for(C=0;C<J;++C){A[x[C]]=G[C]}y.length=D.length;++y.generation;y.indices=null;for(C=0;C<I;++C){y.notify("add",[H[C]])}},getGroups:function(){return(arguments.callee.$previous||Ext.Base.prototype.getGroups).call(this)||null},updateAutoGroup:function(e){var d=this.getGroups();if(d){d.setAutoGroup(e)}this.onEndUpdateSorters(this._sorters)},updateGroups:function(d,e){if(e){this.removeObserver(e)}if(d){this.addObserver(d)}},updateSource:function(g,e){var f=this.autoSource;if(e){if(!e.destroyed){e.removeObserver(this)}if(e===f){f.destroy();this.autoSource=null}}if(g){g.addObserver(this);if(g.length||this.length){this.onCollectionRefresh(g)}}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.util,"Collection"],function(){var c=this.prototype;c.removeAtKey=c.removeByKey;c.decodeRemoveItems=c.decodeItems;Ext.Object.each(c._aggregators,function(b){c[b]=function(g,j,k){return this.aggregate(g,b,j,k)};c[b+"ByGroup"]=function(e){return this.aggregateByGroup(e,b)}})}));(Ext.cmd.derive("Ext.util.ObjectTemplate",Ext.Base,{isObjectTemplate:true,excludeProperties:{},valueRe:/^[{][a-z\.]+[}]$/i,statics:{create:function(e,d){return e.isObjectTemplate?e:new Ext.util.ObjectTemplate(e,d)}},constructor:function(e,d){Ext.apply(this,d);this.template=e},apply:function(d){var e=this;delete e.apply;e.apply=e.compile(e.template);return e.apply(d)},privates:{compile:function(n){var m=this,q=m.excludeProperties,l,p,k,o;if(Ext.isString(n)){if(n.indexOf("{")<0){o=function(){return n}}else{if(m.valueRe.test(n)){n=n.substring(1,n.length-1).split(".");o=function(b){for(var d=b,c=0;d&&c<n.length;++c){d=d[n[c]]}return d}}else{n=new Ext.XTemplate(n);o=function(b){return n.apply(b)}}}}else{if(!n||Ext.isPrimitive(n)||Ext.isFunction(n)){o=function(){return n}}else{if(n instanceof Array){l=[];for(p=0,k=n.length;p<k;++p){l[p]=m.compile(n[p])}o=function(b){var d=[],c;for(c=0;c<k;++c){d[c]=l[c](b)}return d}}else{l={};for(p in n){if(!q[p]){l[p]=m.compile(n[p])}}o=function(e){var c={},b,d;for(b in n){d=q[b]?n[b]:l[b](e);if(d!==undefined){c[b]=d}}return c}}}}return o}}},1,0,0,0,0,0,[Ext.util,"ObjectTemplate"],0));(Ext.cmd.derive("Ext.data.schema.Role",Ext.Base,{isRole:true,left:true,owner:false,side:"left",isMany:false,defaultReaderType:"json",_internalReadOptions:{recordsOnly:true,asRoot:true},constructor:function(k,j){var g=this,f=j.extra;Ext.apply(g,j);if(f){f=Ext.apply({},f);delete f.type;Ext.apply(g,f);delete g.extra}g.association=k;if(k.owner===g.side){k.owner=g;g.owner=true}},processUpdate:function(){Ext.raise('Only the "many" for an association may be processed. "'+this.role+'" is not valid.')},processLoad:function(k,j,f,g){return f},checkMembership:Ext.emptyFn,adoptAssociated:function(g,f){var e=this.getAssociatedItem(g);if(e){f.adopt(e)}},$roleFilterId:"$associationRoleFilter",createAssociationStore:function(w,q,x,p){var u=this,y=u.association,v=y.getFieldName(),s=y.isManyToMany,B=u.storeConfig,C=q.getId(),A={asynchronousLoad:false,model:u.cls,role:u,session:w,associatedEntity:q,disableMetaChangeEvent:true,pageSize:null,remoteFilter:true,trackRemoved:!w},r;if(s){A.filters=[{id:u.$roleFilterId,property:u.inverse.field,value:C,exactMatch:true}]}else{if(v){A.filters=[{id:u.$roleFilterId,property:v,value:C,exactMatch:true}];A.foreignKeyName=v}}if(B){Ext.apply(A,B)}r=Ext.Factory.store(A);u.onStoreCreate(r,w,C);if(v||(s&&w)){r.on({scope:u,add:"onAddToMany",remove:"onRemoveFromMany",clear:"onRemoveFromMany"})}if(x){r.loadData(x)}r.complete=!!p;return r},onStoreCreate:Ext.emptyFn,getAssociatedStore:function(G,Q,T,E,C){var A=this,I=A.getStoreName(),P=G[I],U=G.session,L=Q&&Q.reload,H=G.$source,O=false,K=false,M,S,F,D,J,N,R,B;if(!P){if(U){if(H){K=H.phantom}if(!E&&H){R=H[I];if(R&&!R.isLoading()){E=[];J=R.getData().items;for(F=0,D=J.length;F<D;++F){N=J[F];E.push(U.getRecord(N.self,N.id))}O=!!R.complete;M=true}}if(!M){B=!!E;E=A.findRecords(U,G,E,C);if(!B&&(!E||!E.length)){E=null}O=K||B}}else{O=!!E}P=A.createAssociationStore(U,G,E,O||G.phantom);P.$source=R;if(!E&&(A.autoLoad||Q)){L=true}G[I]=P}if(Q){if(L||P.isLoading()){P.on("load",function(d,e,c,b){S=[d,b];T=T||Q.scope||G;if(c){Ext.callback(Q.success,T,S)}else{Ext.callback(Q.failure,T,S)}S.push(c);Ext.callback(Q,T,S);Ext.callback(Q.callback,T,S)},null,{single:true})}else{S=[P,null];T=T||Q.scope||G;Ext.callback(Q.success,T,S);S.push(true);Ext.callback(Q,T,S);Ext.callback(Q.callback,T,S)}}if(L&&!P.isLoading()){P.load()}return P},getAssociatedItem:function(e){var d=this.isMany?this.getStoreName():this.getInstanceName();return e[d]||null},onDrop:Ext.emptyFn,onIdChanged:Ext.emptyFn,getReaderRoot:function(){var c=this;return c.associationKey||(c.associationKey=c.association.schema.getNamer().readerRoot(c.role))},getReader:function(){var l=this,g=l.reader,k=l.cls,j=!l.associationKey,m=this.getReaderRoot();if(g&&!g.isReader){if(Ext.isString(g)){g={type:g}}Ext.applyIf(g,{model:k,rootProperty:m,useSimpleAccessors:j,type:l.defaultReaderType});g=l.reader=Ext.createByAlias("reader."+g.type,g)}return g},getInstanceName:function(){var c=this;return c.instanceName||(c.instanceName=c.association.schema.getNamer().instanceName(c.role))},getOldInstanceName:function(){return this.oldInstanceName||(this.oldInstanceName="$old"+this.getInstanceName())},getStoreName:function(){var c=this;return c.storeName||(c.storeName=c.association.schema.getNamer().storeName(c.role))},constructReader:function(p){var o=this,l=o.getReader(),n=o.cls,m=!o.associationKey,s=o.getReaderRoot(),r,q;if(!l){q=n.getProxy();if(q){r=q.getReader();l=new r.self();l.copyFrom(r);l.setRootProperty(s)}else{l=new p.self({model:n,useSimpleAccessors:m,rootProperty:s})}o.reader=l}return l},read:function(n,k,m,l){var j=this.constructReader(m),o=j.getRoot(k);if(o){return j.readRecords(o,l,this._internalReadOptions)}},getCallbackOptions:function(e,g,f){if(typeof e==="function"){e={callback:e,scope:g||f}}else{if(e){e=Ext.apply({},e);e.scope=g||e.scope||f}}return e},doGetFK:function(D,q,s){var w=this,r=w.cls,A=w.association.getFieldName(),u=w.getInstanceName(),v=D[u],E=q&&q.reload,B=v!==undefined&&!E,x=D.session,C,y;if(!B){if(x){C=D.get(A);if(C||C===0){B=x.peekRecord(r,C,true)&&!E;v=x.getRecord(r,C,false)}else{B=true;D[u]=v=null}}else{if(A){C=D.get(A);if(!C&&C!==0){B=true;D[u]=v=null}else{if(!v){v=r.createWithId(C)}}}else{B=true;v=null}}}else{if(v){B=!v.isLoading()}}if(B){if(q){y=[v,null];s=s||q.scope||D;Ext.callback(q.success,s,y);y.push(true);Ext.callback(q,s,y);Ext.callback(q.callback,s,y)}}else{D[u]=v;q=w.getCallbackOptions(q,s,D);v.load(q)}return v},doSetFK:function(E,v,q,r){var w=this,y=w.association.getFieldName(),u=w.getInstanceName(),A=E[u],C=w.inverse,B=C.setterName,x=E.session,s,D;if(v&&v.isEntity){if(A!==v){D=w.getOldInstanceName();E[D]=A;E[u]=v;if(A&&A.isEntity){A[C.getInstanceName()]=undefined}if(y){E.set(y,v.getId())}delete E[D];E.onAssociatedRecordSet(v,w);if(B){v[B](E)}}}else{s=(E.changingKey&&!C.isMany)||E.set(y,v);if(s&&A&&A.isEntity&&!A.isEqual(A.getId(),v)){E[u]=undefined;if(!C.isMany){A[C.getInstanceName()]=undefined}}}if(q){if(Ext.isFunction(q)){q={callback:q,scope:r||E}}return E.save(q)}}},1,0,0,0,0,0,[Ext.data.schema,"Role"],0));(Ext.cmd.derive("Ext.data.schema.Association",Ext.Base,{isOneToOne:false,isManyToOne:false,isManyToMany:false,owner:null,field:null,constructor:function(f){var j=this,g,k;Ext.apply(j,f);j.left=g=new j.Left(j,j.left);j.right=k=new j.Right(j,j.right);g.inverse=k;k.inverse=g},hasField:function(){return !!this.field},getFieldName:function(){var c=this.field;return c?c.name:""}},1,0,0,0,0,0,[Ext.data.schema,"Association"],0));(Ext.cmd.derive("Ext.data.schema.OneToOne",Ext.data.schema.Association,{isOneToOne:true,isToOne:true,kind:"one-to-one",Left:Ext.define(null,{extend:"Ext.data.schema.Role",onDrop:function(e,g){var f=this.getAssociatedItem(e);e[this.getInstanceName()]=null;if(f){f[this.inverse.getInstanceName()]=null}},onIdChanged:function(g,l,m){var j=this.getAssociatedItem(g),k=this.association.getFieldName();if(!g.session&&j&&k){j.set(k,m)}},createGetter:function(){var c=this;return function(){return c.doGet(this)}},createSetter:function(){var c=this;return function(b){return c.doSet(this,b)}},doGet:function(f){var k=this.getInstanceName(),j=f[k],g=f.session;if(!j&&g){}return j||null},doSet:function(g,j){var m=this.getInstanceName(),k=g[m],l=this.inverse.setterName;if(k!==j){g[m]=j;if(l){j[l](g)}g.onAssociatedRecordSet(j,this)}return k},read:function(k,o,q,n){var p=this,m=p.callParent([k,o,q,n]),l;if(m){l=m[0];if(l){l[p.inverse.getInstanceName()]=k;k[p.getInstanceName()]=l;delete k.data[p.role]}}}}),Right:Ext.define(null,{extend:"Ext.data.schema.Role",left:false,side:"right",createGetter:function(){var c=this;return function(e,b){return c.doGetFK(this,e,b)}},createSetter:function(){var c=this;return function(b,g,f){return c.doSetFK(this,b,g,f)}},onDrop:function(k,m){var o=this,n=o.association.field,j=o.getAssociatedItem(k),l;if(o.inverse.owner){if(m&&n){l=k.get(n.name);if(l||l===0){j=m.getEntry(o.cls,l).record;if(j){j.drop()}}}else{if(j){j.drop()}}}if(n){k.set(n.name,null)}k[o.getInstanceName()]=null;if(j){j[o.inverse.getInstanceName()]=null}},onValueChange:function(m,n,o){var p=this,l=m[p.getOldInstanceName()]||p.getAssociatedItem(m),q=o||o===0,r=p.getInstanceName(),s=p.cls;m.changingKey=true;p.doSetFK(m,o);if(!q){m[r]=null}else{if(n&&s){m[r]=n.peekRecord(s,o)||undefined}}if(p.inverse.owner&&l){p.association.schema.queueKeyCheck(l,p)}m.changingKey=false},checkKeyForDrop:function(d){var e=this.inverse.getAssociatedItem(d);if(!e){d.drop()}},read:function(F,E,s,D){var A=this,v=A.callParent([F,E,s,D]),y,w,u,B,x,H,G,I,C;if(v){y=v[0];w=A.association.field;if(w){u=w.name}B=F.session;C=F.data;if(y){if(B){x=B.getRefs(y,this.inverse,true);I=(x&&x[F.id])||(C[u]===undefined)}else{I=true}if(I){if(w){G=C[u];H=y.id;if(G!==H){C[u]=H;if(B){B.updateReference(F,w,H,G)}}}y[A.inverse.getInstanceName()]=F;F[A.getInstanceName()]=y}delete C[A.role]}}}})},0,0,0,0,0,0,[Ext.data.schema,"OneToOne"],0));(Ext.cmd.derive("Ext.data.schema.ManyToOne",Ext.data.schema.Association,{isManyToOne:true,isToOne:true,kind:"many-to-one",Left:Ext.define(null,{extend:"Ext.data.schema.Role",isMany:true,onDrop:function(o,q){var p=this,m=p.getAssociatedItem(o),u,r,s,n,v;if(m){u=m.removeAll();if(u&&p.inverse.owner){for(s=0,r=u.length;s<r;++s){u[s].drop()}}m.destroy();o[p.getStoreName()]=null}else{if(q){u=q.getRefs(o,p);if(u){for(v in u){u[v].drop()}}}}},onIdChanged:function(o,u,s){var m=this.association.getFieldName(),n=this.getAssociatedItem(o),r,q,p,v;if(n){v=n.getFilters().get(this.$roleFilterId);if(v){v.setValue(s)}if(!o.session&&m){r=n.getDataSource().items;for(q=0,p=r.length;q<p;++q){r[q].set(m,s)}}}},processUpdate:function(p,u){var o=this,r=o.inverse.cls,q=u.R,v,n,m,s;if(q){for(v in q){n=p.peekRecord(r,v);if(n){s=p.getEntityList(o.cls,q[v]);m=o.getAssociatedItem(n);if(m){m.loadData(s);m.complete=true}else{n[o.getterName](null,null,s)}}else{p.onInvalidAssociationEntity(r,v)}}}},findRecords:function(w,v,B,q){var x=B,u=w.getRefs(v,this,true),s=this.association.field,r,C,D,A,y,E;if(s&&(u||q)){r=s.name;x=[];if(B){E={};for(A=0,y=B.length;A<y;++A){C=B[A];D=C.id;if(u&&u[D]){x.push(C)}else{if(q&&C.data[r]===undefined){x.push(C);C.data[r]=v.id;w.updateReference(C,s,v.id,undefined)}}E[D]=true}}if(u){for(D in u){if(!E||!E[D]){x.push(u[D])}}}}return x},processLoad:function(m,g,j,k){var l=j;if(k){l=this.findRecords(k,g,j,true)}this.onLoadMany(g,l,k);return l},adoptAssociated:function(o,k){var n=this.getAssociatedItem(o),l,m,j;if(n){n.setSession(k);l=n.getData().items;for(m=0,j=l.length;m<j;++m){k.adopt(l[m])}}},createGetter:function(){var c=this;return function(g,f,b){return c.getAssociatedStore(this,g,f,b,true)}},createSetter:null,onAddToMany:function(d,e){this.syncFK(e,d.getAssociatedEntity(),false)},onLoadMany:function(r,x,s){var p=this.inverse.getInstanceName(),B=r.getId(),q=this.association.field,v,u,y,A,w,C;if(q){for(v=0,u=x.length;v<u;++v){y=x[v];y[p]=r;if(q){C=q.name;w=y.data;A=w[C];if(A!==B){w[C]=B;if(s){s.updateReference(y,q,B,A)}}}}}},onRemoveFromMany:function(d,e){this.syncFK(e,d.getAssociatedEntity(),true)},read:function(q,x,n,v){var r=this,o=r.inverse.getInstanceName(),w=r.callParent([q,x,n,v]),p,s,u;if(w){p=q[r.getterName](null,null,w);delete q.data[r.role];w=p.getData().items;for(u=0,s=w.length;u<s;++u){w[u][o]=q}}},syncFK:function(x,r,q){var s=this.association.getFieldName(),v=this.inverse,w=v.setterName,p=v.getInstanceName(),u=x.length,B=r.getId(),C,y,A;while(u-->0){y=x[u];C=!y.isEqual(B,y.get(s));A=q?null:r;if(C!==q){y.changingKey=true;y[w](A);y.changingKey=false}else{y[p]=A}}}}),Right:Ext.define(null,{extend:"Ext.data.schema.Role",left:false,side:"right",onDrop:function(f,g){var e=this.association.field;if(e){f.set(e.name,null)}f[this.getInstanceName()]=null},createGetter:function(){var c=this;return function(e,b){return c.doGetFK(this,e,b)}},createSetter:function(){var c=this;return function(g,f,b){return c.doSetFK(this,g,f,b)}},checkMembership:function(j,g){var k=this.association.field,f;if(k){f=this.getSessionStore(j,g.get(k.name));if(f&&!f.contains(g)){f.add(g)}}},onValueChange:function(B,x,D,E){var w=this,s=w.getInstanceName(),q=w.cls,C,r,u,A,v,y;if(!B.changingKey){C=D||D===0;if(!C){B[s]=null}if(x){u=w.getSessionStore(x,E);if(u){u.remove(B)}if(C){u=w.getSessionStore(x,D);if(u&&!u.isLoading()){u.add(B)}if(q){y=x.peekRecord(q,D)}B[s]=y||undefined}}else{r=B.joined;if(r){for(A=r.length-1;A>=0;A--){u=r[A];if(u.isStore){v=u.getAssociatedEntity();if(v&&v.self===w.cls&&v.getId()===E){u.remove(B)}}}}}}if(w.owner&&D===null){w.association.schema.queueKeyCheck(B,w)}},checkKeyForDrop:function(e){var d=this.association.field;if(e.get(d.name)===null){e.drop()}},getSessionStore:function(j,k){var f=this.cls,g;if(f){g=j.peekRecord(f,k);if(g){return this.inverse.getAssociatedItem(g)}}},read:function(k,n,o,l){var m=this.callParent([k,n,o,l]),j;if(m){j=m[0];if(j){k[this.getInstanceName()]=j;delete k.data[this.role]}}}})},0,0,0,0,0,0,[Ext.data.schema,"ManyToOne"],0));(Ext.cmd.derive("Ext.data.schema.ManyToMany",Ext.data.schema.Association,{isManyToMany:true,isToMany:true,kind:"many-to-many",Left:Ext.define(null,{extend:"Ext.data.schema.Role",isMany:true,digitRe:/^\d+$/,findRecords:function(u,s,B){var r=u.getMatrixSlice(this.inverse,s.id),A=r.members,v=[],q=this.cls,E,x,w,D,y,C;if(B){E={};for(x=0,w=B.length;x<w;++x){C=B[x];D=C.id;y=A[D];if(!(y&&y[2]===-1)){v.push(C)}E[D]=true}}for(D in A){y=A[D];if(!E||!E[D]&&(y&&y[2]!==-1)){C=u.peekRecord(q,D);if(C){v.push(C)}}}return v},onIdChanged:function(f,g,j){var k=this.getAssociatedItem(f);if(k){k.getFilters().get(this.$roleFilterId).setValue(j)}},processLoad:function(m,g,j,k){var l=j;if(k){l=this.findRecords(k,g,j);this.onAddToMany(m,l,true)}return l},processUpdate:function(p,u){var o=this,r=o.inverse.cls,q=u.R,v,n,m,s;if(q){for(v in q){n=p.peekRecord(r,v);if(n){s=p.getEntityList(o.cls,q[v]);m=o.getAssociatedItem(n);if(m){m.loadData(s);m.complete=true}else{n[o.getterName](null,null,s)}}else{p.onInvalidAssociationEntity(r,v)}}}o.processMatrixBlock(p,u.C,1);o.processMatrixBlock(p,u.D,-1)},checkMembership:function(w,v){var u=w.getMatrix(this.association,true),x,B,A,r,q,E,C,y,D,s;if(!u){return}x=this.left?u.right:u.left;B=x.inverse.role.cls;A=this.inverse;q=x.slices;if(q){r=q[v.id];if(r){C=r.members;for(E in C){y=C[E];if(y[2]!==-1){D=w.peekRecord(B,E);if(D){s=A.getAssociatedItem(D);if(s){s.matrixUpdate=1;s.add(v);s.matrixUpdate=0}}}}}}},onStoreCreate:function(m,k,j){var l=this,g;if(k){g=k.getMatrixSlice(l.inverse,j);g.attach(m);g.notify=l.onMatrixUpdate;g.scope=l}},processMatrixBlock:function(n,o,p){var k=this.inverse,q=this.digitRe,m,l;if(o){for(l in o){if(q.test(l)){l=parseInt(l,10)}m=n.getMatrixSlice(k,l);m.update(o[l],p)}}},createGetter:function(){var c=this;return function(g,f,b){return c.getAssociatedStore(this,g,f,b,false)}},onAddToMany:function(e,f,g){if(!e.matrixUpdate){e.matrixUpdate=1;e.matrix.update(f,g===true?0:1);e.matrixUpdate=0}},onRemoveFromMany:function(e,d){if(!e.matrixUpdate){e.matrixUpdate=1;e.matrix.update(d,-1);e.matrixUpdate=0}},read:function(j,m,o,l){var n=this,k=n.callParent([j,m,o,l]);if(k){j[n.getterName](null,null,k);delete j.data[n.role]}},onMatrixUpdate:function(n,l,o){var k=n.store,q,m,p;if(k&&!k.loading&&!k.matrixUpdate){k.matrixUpdate=1;q=k.indexOfId(l);if(o<0){if(q>=0){k.remove([q])}}else{if(q<0){p=k.getSession().getEntry(this.type,l);m=p&&p.record;if(m){k.add(m)}}}k.matrixUpdate=0}},adoptAssociated:function(o,k){var m=this.getAssociatedItem(o),n,l,j;if(m){m.setSession(k);this.onStoreCreate(m,k,o.getId());n=m.getData().items;for(l=0,j=n.length;l<j;++l){k.adopt(n[l])}}}},function(){var c=this;Ext.ClassManager.onCreated(function(){Ext.data.schema.ManyToMany.prototype.Right=Ext.define(null,{extend:c,left:false,side:"right"})},null,"Ext.data.schema.ManyToMany")})},0,0,0,0,0,0,[Ext.data.schema,"ManyToMany"],0));(Ext.cmd.derive("Ext.util.Inflector",Ext.Base,{singleton:true,plurals:[[(/(quiz)$/i),"$1zes"],[(/^(ox)$/i),"$1en"],[(/([m|l])ouse$/i),"$1ice"],[(/(matr|vert|ind)ix|ex$/i),"$1ices"],[(/(x|ch|ss|sh)$/i),"$1es"],[(/([^aeiouy]|qu)y$/i),"$1ies"],[(/(hive)$/i),"$1s"],[(/(?:([^f])fe|([lr])f)$/i),"$1$2ves"],[(/sis$/i),"ses"],[(/([ti])um$/i),"$1a"],[(/(buffal|tomat|potat)o$/i),"$1oes"],[(/(bu)s$/i),"$1ses"],[(/(alias|status|sex)$/i),"$1es"],[(/(octop|vir)us$/i),"$1i"],[(/(ax|test)is$/i),"$1es"],[(/^(p)erson$/i),"$1eople"],[(/^(m)an$/i),"$1en"],[(/(.*)(child)(ren)?$/i),"$1$2ren"],[(/s$/i),"s"],[(/$/),"s"]],singulars:[[(/(address)$/i),"$1"],[(/(quiz)zes$/i),"$1"],[(/(matr)ices$/i),"$1ix"],[(/(vert|ind)ices$/i),"$1ex"],[(/^(ox)en/i),"$1"],[(/(alias|status)es$/i),"$1"],[(/(octop|vir)i$/i),"$1us"],[(/(cris|ax|test)es$/i),"$1is"],[(/(shoe)s$/i),"$1"],[(/(o)es$/i),"$1"],[(/(bus)es$/i),"$1"],[(/([m|l])ice$/i),"$1ouse"],[(/(x|ch|ss|sh)es$/i),"$1"],[(/(m)ovies$/i),"$1ovie"],[(/(s)eries$/i),"$1eries"],[(/([^aeiouy]|qu)ies$/i),"$1y"],[(/([lr])ves$/i),"$1f"],[(/(tive)s$/i),"$1"],[(/(hive)s$/i),"$1"],[(/([^f])ves$/i),"$1fe"],[(/(^analy)ses$/i),"$1sis"],[(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i),"$1$2sis"],[(/([ti])a$/i),"$1um"],[(/(n)ews$/i),"$1ews"],[(/(p)eople$/i),"$1erson"],[(/s$/i),""]],uncountable:["sheep","fish","series","species","money","rice","information","equipment","grass","mud","offspring","deer","means"],singular:function(e,d){this.singulars.unshift([e,d])},plural:function(e,d){this.plurals.unshift([e,d])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(c){return Ext.Array.indexOf(this.uncountable,c)!=-1},pluralize:function(k){if(this.isTransnumeral(k)){return k}var l=this.plurals,m=l.length,j,n,o;for(o=0;o<m;o++){j=l[o];n=j[0];if(n==k||(n.test&&n.test(k))){return k.replace(n,j[1])}}return k},singularize:function(k){if(this.isTransnumeral(k)){return k}var l=this.singulars,m=l.length,j,n,o;for(o=0;o<m;o++){j=l[o];n=j[0];if(n==k||(n.test&&n.test(k))){return k.replace(n,j[1])}}return k},classify:function(c){return Ext.String.capitalize(this.singularize(c))},ordinalize:function(g){var k=parseInt(g,10),j=k%10,f=k%100;if(11<=f&&f<=13){return g+"th"}else{switch(j){case 1:return g+"st";case 2:return g+"nd";case 3:return g+"rd";default:return g+"th"}}}},0,0,0,0,0,0,[Ext.util,"Inflector"],function(){var e={alumnus:"alumni",cactus:"cacti",focus:"foci",nucleus:"nuclei",radius:"radii",stimulus:"stimuli",ellipsis:"ellipses",paralysis:"paralyses",oasis:"oases",appendix:"appendices",index:"indexes",beau:"beaux",bureau:"bureaux",tableau:"tableaux",woman:"women",child:"children",man:"men",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",memorandum:"memoranda",phenomenon:"phenomena",foot:"feet",goose:"geese",tooth:"teeth",antenna:"antennae",formula:"formulae",nebula:"nebulae",vertebra:"vertebrae",vita:"vitae"},d;for(d in e){if(e.hasOwnProperty(d)){this.plural(d,e[d]);this.singular(e[d],d)}}}));(Ext.cmd.derive("Ext.data.schema.Namer",Ext.Base,{isNamer:true,capitalize:function(c){return Ext.String.capitalize(c)},fieldRole:function(e){var d=e.match(this.endsWithIdRe,"");if(d){e=e.substr(0,e.length-(d[1]||d[2]).length)}return this.apply("uncapitalize",e)},idField:function(c){return this.apply("uncapitalize,singularize",c)+"Id"},instanceName:function(c){return this.apply("underscore",c)},multiRole:function(c){return this.apply("undotted,uncapitalize,pluralize",c)},pluralize:function(c){return Ext.util.Inflector.pluralize(c)},readerRoot:function(c){return this.apply("uncapitalize",c)},singularize:function(c){return Ext.util.Inflector.singularize(c)},storeName:function(c){return this.apply("underscore",c)},uncapitalize:function(c){return Ext.String.uncapitalize(c)},underscore:function(c){return"_"+c},uniRole:function(c){return this.apply("undotted,uncapitalize,singularize",c)},undotted:function(g){if(g.indexOf(".")<0){return g}var f=g.split("."),e=f.length;while(e-->1){f[e]=this.apply("capitalize",f[e])}return f.join("")},getterName:function(e){var d=e.role;if(e&&e.isMany){return d}return"get"+this.apply("capitalize",d)},inverseFieldRole:function(n,m,p,s){var o=this,l=o.apply(m?"uniRole":"multiRole",n),q=o.apply("pluralize",p),r=o.apply("undotted,pluralize",s);if(q.toLowerCase()!==r.toLowerCase()){l=p+o.apply("capitalize",l)}return l},manyToMany:function(j,k,g){var l=this,m=l.apply("undotted,capitalize,singularize",k)+l.apply("undotted,capitalize,pluralize",g);if(j){m=l.apply("capitalize",j+m)}return m},manyToOne:function(g,k,f,j){return this.apply("capitalize,singularize",f)+this.apply("capitalize",k)},matrixRole:function(f,g){var e=this.apply(f?"multiRole,capitalize":"multiRole",g);return f?f+e:e},oneToOne:function(g,k,f,j){return this.apply("undotted,capitalize,singularize",f)+this.apply("capitalize",k)},setterName:function(c){return"set"+this.apply("capitalize",c.role)},endsWithIdRe:/(?:(_id)|[^A-Z](Id))$/,cache:{},apply:function(q,s){var n=this,u=n.cache,m=u[s]||(u[s]={}),o=m[q],p,r,v;if(!o){if(q.indexOf(",")<0){o=n[q](s)}else{r=(v=q.split(",")).length;o=s;for(p=0;p<r;++p){o=n.apply(v[p],o)}}m[q]=o}return o}},0,0,0,0,["namer.default"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.schema,"Namer"],0));(Ext.cmd.derive("Ext.data.schema.Schema",Ext.Base,{aliasPrefix:"schema.",isSchema:true,type:"default",statics:{instances:{},get:function(o){var m=this,p=m.instances,l="default",q=o&&Ext.isString(o),k,n;if(o){if(o.isSchema){return o}l=q?o:(o.id||l)}if(!(k=p[l])){p[l]=k=m.create(o);k.id=l}else{if(o&&!q){n=Ext.merge({},k.config);Ext.merge(n,o);k.setConfig(n);k.config=n}}return k},lookupEntity:function(j){var m=null,k=this.instances,n,o,l;if(j){if(j.isEntity){m=j.self}else{if(Ext.isFunction(j)){m=j}else{if(Ext.isString(j)){m=Ext.ClassManager.get(j);if(m&&(!m.prototype||!m.prototype.isEntity)){m=null}if(!m){for(o in k){l=k[o];n=l.getEntity(j);if(n){if(m){Ext.raise('Ambiguous entity name "'+j+'". Defined by schema "'+m.schema.type+'" and "'+o+'"')}m=n}}}if(!m){Ext.raise('No such Entity "'+j+'".')}}}}}return m}},assocCount:0,entityCount:0,config:{defaultIdentifier:null,keyCheckDelay:10,namer:"default",namespace:null,proxy:{type:"ajax",url:"{prefix}/{entityName}"},urlPrefix:""},onClassExtended:function(e,f){var g=f.alias;if(g&&!f.type){if(!Ext.isString(g)){g=g[0]}e.prototype.type=g.substring(this.prototype.aliasPrefix.length)}},constructor:function(c){this.initConfig(c);this.clear()},applyDefaultIdentifier:function(c){return c&&Ext.Factory.dataIdentifier(c)},applyNamer:function(e){var d=Ext.data.schema.Namer.create(e);d.schema=this;return d},applyNamespace:function(e){if(e){var d=e.length-1;if(e.charAt(d)!=="."){e+="."}}return e},applyProxy:function(c){return Ext.util.ObjectTemplate.create(c)},eachAssociation:function(g,j){var k=this.associations,f;for(f in k){if(k.hasOwnProperty(f)){if(g.call(j,f,k[f])===false){break}}}},eachEntity:function(j,k){var g=this.entities,f;for(f in g){if(g.hasOwnProperty(f)){if(j.call(k,f,g[f].cls)===false){break}}}},getAssociation:function(d){var e=this.associations[d];return e||null},getEntity:function(d){var e=this.entityClasses[d]||this.entities[d];return(e&&e.cls)||null},getEntityName:function(f){var g=this.getNamespace(),j,k;if(typeof f==="string"){k=f}else{k=f.$className||null}if(k){if(g){j=g.length;if(k.substring(0,j)!==g){return k}}if(j){k=k.substring(j)}}return k},hasAssociations:function(c){c=c.entityName||c;return !!this.associationEntityMap[c]},hasEntity:function(d){var e=this.getEntityName(d);return !!(this.entities[e]||this.entityClasses[e])},addMatrix:function(C,I,L,M,x){var w=this,E=w.getNamer(),A=w.associations,O=w.entities,J=M.type,y=x.type,K=M.field||E.apply("idField",J),G=x.field||E.apply("idField",y),N=M.role||E.matrixRole(L,J),D=x.role||E.matrixRole(L,y),B,H,F;H=O[J]||(O[J]={cls:null,name:J,associations:{}});F=O[y]||(O[y]={cls:null,name:y,associations:{}});++w.assocCount;A[I]=B=new Ext.data.schema.ManyToMany({name:I,schema:w,definedBy:C,left:{cls:H.cls,type:J,role:N,field:K,associationKey:M.associationKey},right:{cls:F.cls,type:y,role:D,field:G,associationKey:x.associationKey}});H.associations[B.right.role]=B.right;F.associations[B.left.role]=B.left;if(H.cls){w.associationEntityMap[H.cls.entityName]=true}if(F.cls){w.associationEntityMap[F.cls.entityName]=true}w.decorateModel(B)},addReference:function(D,S,E,R,C){var y=this,G=y.getNamer(),P=y.entities,B=y.associations,H=D.entityName,O=E.association,K=E.child,I=E.parent,F=E.role,A=E.type||I||K,J=E.inverse,L=Ext.isString(J)?{role:J}:J,M=L&&L.role,Q,N;if(!F){if(!S||E.legacy){F=G.apply("uncapitalize",A)}else{F=G.apply("fieldRole",S.name)}}if(!M){M=G.inverseFieldRole(H,R,F,A)}if(!O){if(R){O=G.oneToOne(D,M,A,F)}else{O=G.manyToOne(D,M,A,F)}}if(C&&O in B){if(C(B[O],O,M,F)!==false){return}}Q=P[A]||(P[A]={cls:null,name:A,associations:{}});N=R?Ext.data.schema.OneToOne:Ext.data.schema.ManyToOne;O=new N({name:O,owner:K?"left":(I?"right":null),definedBy:D,schema:y,field:S,nullable:S?!!S.allowBlank:true,left:{cls:D,type:H,role:M,extra:L},right:{cls:Q.cls,type:A,role:F,extra:E},meta:E});D.associations[F]=O.right;Q.associations[M]=O.left;if(S){S.reference=O.right;D.references.push(S)}++y.assocCount;y.associationEntityMap[H]=true;if(Q.cls){y.associationEntityMap[Q.cls.entityName]=true}B[O.name]=O;if(O.right.cls){y.decorateModel(O)}},privates:{addEntity:function(w){var r=this,s=r.entities,p=w.entityName,o=s[p],u=w.fields,x,q,v,y,A;if(!o){s[p]=o={name:p,associations:{}}}else{x=o.associations;for(A in x){x[A].inverse.cls=w;r.associationEntityMap[p]=true;r.decorateModel(x[A].association)}}o.cls=w;w.prototype.associations=w.associations=o.associations;r.entityClasses[w.$className]=o;++r.entityCount;for(v=0,y=u.length;v<y;++v){q=u[v];if(q.reference){r.addReferenceDescr(w,q)}}},addMatrices:function(k,j){var l=this,o,m,n;if(Ext.isString(j)){l.addMatrixDescr(k,null,j)}else{if(j[0]){for(o=0,m=j.length;o<m;++o){l.addMatrixDescr(k,null,j[o])}}else{for(n in j){l.addMatrixDescr(k,n,j[n])}}}},addMatrixDescr:function(v,A,u){var s=this,q=v.entityName,w=s.associations,r=s.getNamer(),x=u.left,o=u.right,p,y;if(Ext.isString(u)){if(u.charAt(0)==="#"){x={type:q};o={type:u.substring(1)}}else{if(u.charAt(p=u.length-1)==="#"){x={type:u.substring(0,p)};o={type:q}}else{if(r.apply("multiRole",q)<r.apply("multiRole",u)){x={type:q};o={type:u}}else{x={type:u};o={type:q}}}}}else{y=u.relation;if(x||(!o&&r.apply("multiRole",q)<r.apply("multiRole",u.type))){if(!x||x===true){x={type:q}}else{x=Ext.apply({type:q},x)}o=u}else{if(!o||o===true){o={type:q}}else{o=Ext.apply({type:q},o)}x=u}}if(!A){A=r.manyToMany(y,x.type,o.type)}if(!(A in w)){s.addMatrix(v,A,y,x,o)}},addReferenceDescr:function(k,g){var f=this,j=g.$reference;if(Ext.isString(j)){j={type:j}}else{j=Ext.apply({},j)}f.addReference(k,g,j,g.unique)},addBelongsTo:function(d,e){this.addKeylessSingle(d,e,false)},addHasOne:function(d,e){this.addKeylessSingle(d,e,true)},addKeylessSingle:function(m,j,k){var g,l;j=Ext.apply({},this.checkLegacyAssociation(m,j));j.type=this.getEntityName(j.child||j.parent||j.type);g=j.foreignKey||(j.type.toLowerCase()+"_id");l=m.getField(g);j.fromSingle=true;if(l){l.$reference=j;l.unique=true;j.legacy=true}this.addReference(m,l,j,k)},addHasMany:function(A,u){var s=this,x=s.entities,D=s.pending,q,E,r,v,w,y,C,B;u=Ext.apply({},this.checkLegacyAssociation(A,u));u.type=this.getEntityName(u.child||u.parent||u.type);E=u.type;v=x[E];q=v&&v.cls;if(q){E=A.entityName;w=u.foreignKey||(E.toLowerCase()+"_id");delete u.foreignKey;B=Ext.apply({},u.inverse);delete u.inverse;y=Ext.apply({},u);delete y.type;u=Ext.apply({type:E,inverse:y},B);C=y.child;if(C){delete y.child;u.parent=E}r=q.getField(w);if(r){r.$reference=u;u.legacy=true}s.addReference(q,r,u,false)}else{if(!D[E]){D[E]=[]}D[E].push([A,u])}},checkLegacyAssociation:function(g,f){if(Ext.isString(f)){f={type:f}}else{f=Ext.apply({},f)}if(f.model){f.type=f.model;delete f.model}var e=f.associatedName||f.name;if(e){delete f.associatedName;delete f.name;f.role=e}return f},afterKeylessAssociations:function(o){var k=this.pending,n=o.entityName,l=k[n],m,j;if(l){for(m=0,j=l.length;m<j;++m){this.addHasMany.apply(this,l[m])}delete k[n]}},clear:function(g){var e=this,f=e.timer;delete e.setConfig;if(f){window.clearTimeout(f);e.timer=null}e.associations={};e.associationEntityMap={};e.entities={};e.entityClasses={};e.pending={};e.assocCount=e.entityCount=0;if(g){e.setNamespace(null)}},constructProxy:function(g){var k=this,j=Ext.Object.chain(g),f=k.getProxy();j.schema=k;j.prefix=k.getUrlPrefix();return f.apply(j)},applyDecoration:function(l){var n=this,k=l.inverse.cls,m=n.getNamer(),p,q,o;if(k&&!l.decorated){l.decorated=true;o=k.prototype;if(!(p=l.getterName)){l.getterName=p=m.getterName(l)}o[p]=l.createGetter();if(l.createSetter){if(!(q=l.setterName)){l.setterName=q=m.setterName(l)}o[q]=l.createSetter()}}},decorateModel:function(c){this.applyDecoration(c.left);this.applyDecoration(c.right)},processKeyChecks:function(o){var m=this,q=m.keyCheckQueue,l=m.timer,k,p,n;if(l){window.clearTimeout(l);m.timer=null}if(!q){return}do{q=m.keyCheckQueue;m.keyCheckQueue=[];for(p=0,k=q.length;p<k;++p){n=q[p];n.role.checkKeyForDrop(n.record)}}while(o&&m.keyCheckQueue.length)},queueKeyCheck:function(g,j){var l=this,m=l.keyCheckQueue,k=l.timer;if(!m){l.keyCheckQueue=m=[]}m.push({record:g,role:j});if(!k){l.timer=k=Ext.Function.defer(l.processKeyChecks,l.getKeyCheckDelay(),l)}},rankEntities:function(){var l=this,k=l.entities,j=Ext.Object.getKeys(k),m=j.length,n,o;l.nextRank=1;j.sort();for(o=0;o<m;++o){n=k[j[o]].cls;if(!n.rank){l.rankEntity(n)}}},rankEntity:function(l){var m=l.associations,j,k,g;for(g in m){k=m[g];if(!k.left&&k.association.field){j=k.cls;if(!j.rank){this.rankEntity(j)}}}l.rank=this.nextRank++}}},1,0,0,0,["schema.default"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.schema,"Schema"],0));(Ext.cmd.derive("Ext.data.AbstractStore",Ext.Base,{factoryConfig:{defaultType:"store",type:"store"},$configPrefixed:false,$configStrict:false,config:{filters:null,autoDestroy:undefined,storeId:null,statefulFilters:false,sorters:null,remoteSort:{lazy:true,$value:false},remoteFilter:{lazy:true,$value:false},groupField:undefined,groupDir:"ASC",grouper:null,pageSize:25,autoSort:null},currentPage:1,loading:false,isStore:true,updating:0,constructor:function(g){var f=this,e;f.isInitializing=true;f.mixins.observable.constructor.call(f,g);f.isInitializing=false;e=f.getStoreId();if(!e&&(g&&g.id)){f.setStoreId(e=g.id)}if(e){Ext.data.StoreManager.register(f)}},getCount:function(){var c=this.getData();return c?c.getCount():0},rangeCached:function(e,d){return this.getData().getCount()>=Math.max(e,d)},find:function(o,p,n,m,l,q){var r=!m,s=!!(r&&q);return this.getData().findIndex(o,p,n,r,s,!l)},findRecord:function(){var e=this,d=e.find.apply(e,arguments);return d!==-1?e.getAt(d):null},findExact:function(f,e,g){return this.getData().findIndexBy(function(b){return b.isEqual(b.get(f),e)},this,g)},findBy:function(g,e,f){return this.getData().findIndexBy(g,e,f)},getAt:function(c){return this.getData().getAt(c)||null},getRange:function(g,k,j){var f=this.getData().getRange(g,Ext.isNumber(k)?k+1:k);if(j&&j.callback){j.callback.call(j.scope||this,f,g,k,j)}return f},getFilters:function(e){var d=(arguments.callee.$previous||Ext.Base.prototype.getFilters).call(this);if(!d&&e!==false){this.setFilters([]);d=(arguments.callee.$previous||Ext.Base.prototype.getFilters).call(this)}return d},applyFilters:function(g,e){var f;if(!e){e=this.createFiltersCollection();f=true}e.add(g);if(f){this.onRemoteFilterSet(e,this.getRemoteFilter())}return e},getSorters:function(e){var d=(arguments.callee.$previous||Ext.Base.prototype.getSorters).call(this);if(!d&&e!==false){this.setSorters([]);d=(arguments.callee.$previous||Ext.Base.prototype.getSorters).call(this)}return d},applySorters:function(g,e){var f;if(!e){e=this.createSortersCollection();f=true}e.add(g);if(f){this.onRemoteSortSet(e,this.getRemoteSort())}return e},filter:function(g,f,e){if(Ext.isString(g)){g={property:g,value:f}}this.suppressNextFilter=!!e;this.getFilters().add(g);this.suppressNextFilter=false},removeFilter:function(k,f){var g=this,j=g.getFilters();g.suppressNextFilter=!!f;if(k instanceof Ext.util.Filter){j.remove(k)}else{j.removeByKey(k)}g.suppressNextFilter=false},updateAutoSort:function(c){this.getData().setAutoSort(c)},updateRemoteSort:function(c){this.onRemoteSortSet(this.getSorters(false),c)},updateRemoteFilter:function(c){this.onRemoteFilterSet(this.getFilters(false),c)},addFilter:function(e,d){this.suppressNextFilter=!!d;this.getFilters().add(e);this.suppressNextFilter=false},filterBy:function(e,d){this.getFilters().add({filterFn:e,scope:d||this})},clearFilter:function(e){var f=this,g=f.getFilters(false);if(!g||g.getCount()===0){return}f.suppressNextFilter=!!e;g.removeAll();f.suppressNextFilter=false},isFiltered:function(){return this.getFilters().getCount()>0},isSorted:function(){var c=this.getSorters(false);return !!(c&&c.length>0)||this.isGrouped()},addFieldTransform:function(j){if(j.getTransform()){return}var k=j.getProperty(),l=this.getModel(),g,m;if(l){g=l.getField(k);m=g?g.getSortType():null}if(m&&m!==Ext.identityFn){j.setTransform(m)}},beginUpdate:function(){if(!this.updating++){this.fireEvent("beginupdate")}},endUpdate:function(){if(this.updating&&!--this.updating){this.fireEvent("endupdate");this.onEndUpdate()}},getState:function(){var n=this,m=[],o=n.getFilters(),q=n.getGrouper(),l,p,k;n.getSorters().each(function(b){m[m.length]=b.getState();p=true});if(n.statefulFilters&&n.saveStatefulFilters){p=true;l=[];o.each(function(b){l[l.length]=b.getState()})}if(q){p=true}if(p){k={};if(m.length){k.sorters=m}if(l){k.filters=l}if(q){k.grouper=q.getState()}}return k},applyState:function(j){var l=this,m=j.sorters,g=j.filters,k=j.grouper;if(m){l.getSorters().replaceAll(m)}if(g){l.saveStatefulFilters=true;l.getFilters().replaceAll(g)}if(k){l.setGrouper(k)}},hasPendingLoad:Ext.emptyFn,isLoaded:Ext.emptyFn,isLoading:Ext.emptyFn,destroy:function(){var c=this;if(c.hasListeners.beforedestroy){c.fireEvent("beforedestroy",c)}c.destroying=true;if(c.getStoreId()){Ext.data.StoreManager.unregister(c)}c.doDestroy();if(c.hasListeners.destroy){c.fireEvent("destroy",c)}c.destroying=false;c.callParent()},doDestroy:Ext.emptyFn,sort:function(j,k,g){var f=this;if(arguments.length===0){if(f.getRemoteSort()){f.load()}else{f.forceLocalSort()}}else{f.getSorters().addSort(j,k,g)}},onBeforeCollectionSort:function(d,e){if(e){this.fireEvent("beforesort",this,e.getRange())}},onSorterEndUpdate:function(){var d=this,e;e=d.getSorters(false);if(d.settingGroups||!e){return}e=e.getRange();if(e.length){if(d.getRemoteSort()){d.load({callback:function(){d.fireEvent("sort",d,e)}})}else{d.fireEvent("datachanged",d);d.fireEvent("refresh",d);d.fireEvent("sort",d,e)}}else{d.fireEvent("sort",d,e)}},onFilterEndUpdate:function(){var f=this,g=f.suppressNextFilter,e=f.getFilters(false);if(!e){return}if(f.getRemoteFilter()){f.currentPage=1;if(!g){f.load()}}else{if(!g){f.fireEvent("datachanged",f);f.fireEvent("refresh",f)}}if(f.trackStateChanges){f.saveStatefulFilters=true}f.fireEvent("filterchange",f,f.getFilters().getRange())},updateGroupField:function(c){if(c){this.setGrouper({property:c,direction:this.getGroupDir()})}else{this.setGrouper(null)}},getGrouper:function(){return this.getData().getGrouper()},group:function(g,k){var m=this,l=m.getSorters(false),j=g||(l&&l.length);if(g&&typeof g==="string"){g={property:g,direction:k||m.getGroupDir()}}m.settingGroups=true;m.getData().setGrouper(g);delete m.settingGroups;if(j){if(m.getRemoteSort()){m.load({scope:m,callback:m.fireGroupChange})}else{m.fireEvent("datachanged",m);m.fireEvent("refresh",m);m.fireGroupChange()}}else{m.fireGroupChange()}},fireGroupChange:function(){if(!this.destroyed){this.fireEvent("groupchange",this,this.getGrouper())}},clearGrouping:function(){this.group(null)},getGroupField:function(){var d=this.getGrouper(),e="";if(d){e=d.getProperty()}return e},isGrouped:function(){return !!this.getGrouper()},applyGrouper:function(c){this.group(c);return this.getData().getGrouper()},getGroups:function(){return this.getData().getGroups()},onEndUpdate:Ext.emptyFn,privates:{loadsSynchronously:Ext.privateFn,onRemoteFilterSet:function(d,e){if(d){d[e?"on":"un"]("endupdate",this.onFilterEndUpdate,this)}},onRemoteSortSet:function(g,f){var e=this;if(g){g[f?"on":"un"]("endupdate",e.onSorterEndUpdate,e);e.getData()[f?"un":"on"]("beforesort",e.onBeforeCollectionSort,e)}}},deprecated:{5:{methods:{destroyStore:function(){this.destroy()}}}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable],[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data,"AbstractStore"],0));(Ext.cmd.derive("Ext.data.Error",Ext.Base,{isError:true,$configPrefixed:false,config:{field:null,message:""},constructor:function(c){this.initConfig(c);this.msg=this.message}},1,0,0,0,0,0,[Ext.data,"Error"],0));(Ext.cmd.derive("Ext.data.ErrorCollection",Ext.util.MixedCollection,{alternateClassName:"Ext.data.Errors",init:function(w){var s=this,v=w.fields,y=w.data,q,r,p,x,u,A,B,C;for(x=0,u=v.length;x<u;++x){r=v[x];C=r.name;B=y[C];if(r.validate&&!r.validate.$nullFn){q=s.length;A=r.validate(B,null,s,w);if(q===s.length&&A!==true){s.add(C,A)}}}return s},add:function(o,m){var n=this,j=Ext.data.field.Field.defaultInvalidMessage,k=o,l;if(Ext.isString(o)){k=new Ext.data.Error({field:o,message:m||j})}else{if(!(k.isError)){k=new Ext.data.Error({field:k.field||k.name,message:k.error||k.message||k.msg||j})}o=k.field}l=n.get(o);if(l){if(Ext.isArray(l)){l.push(k);return l}n.removeAtKey(o);k=[l,k];k.field=o;k=[k]}return Ext.util.MixedCollection.prototype.add.call(this,k)},getKey:function(c){return c.field},isValid:function(){return this.length===0},getByField:function(e){var d=this.get(e);if(d&&!Ext.isArray(d)){d=[d]}return d||[]}},0,0,0,0,0,0,[Ext.data,"ErrorCollection",Ext.data,"Errors"],0));(Ext.cmd.derive("Ext.data.operation.Operation",Ext.Base,{alternateClassName:"Ext.data.Operation",isOperation:true,config:{synchronous:false,url:"",params:undefined,callback:undefined,scope:undefined,resultSet:null,response:null,request:null,records:null,id:undefined,proxy:null,batch:null,recordCreator:null,internalCallback:null,internalScope:null},order:0,foreignKeyDirection:1,started:false,running:false,complete:false,success:undefined,exception:false,error:undefined,idPrefix:"ext-operation-",constructor:function(d){var e=d&&d.scope;this.initConfig(d);if(d){d.scope=e}if(e){this.setScope(e);this.initialConfig.scope=e}this._internalId=Ext.id(this,this.idPrefix)},getAction:function(){return this.action},execute:function(){var e=this,d;delete e.error;delete e.success;e.complete=e.exception=false;e.setStarted();e.request=d=e.doExecute();if(d){d.setOperation(e)}return d},doExecute:Ext.emptyFn,abort:function(){var e=this,d=e.request;if(e.running&&d){e.getProxy().abort(d);e.request=null}},process:function(m,k,g,j){var l=this;j=j!==false;l.setResponse(g);l.setResultSet(m);if(m.getSuccess()){l.doProcess(m,k,g);l.setSuccessful(j)}else{if(j){l.setException(m.getMessage())}}},_commitSetOptions:{convert:true,commit:true},doProcess:function(u,B,C){var w=this,D=w._commitSetOptions,G=w.getRecords(),E=G.length,s=G[0].clientIdProperty,r=u.getRecords(),x=r?r.length:0,v,y,F,A;if(x&&s){v=Ext.Array.toValueMap(G,"id");for(A=0;A<x;++A){y=r[A];F=v[y[s]];if(F){delete v[F.id];delete y[s];F.set(y,D)}}for(A in v){v[A].commit()}}else{for(A=0;A<E;++A){F=G[A];if(x===0||!(y=r[A])){F.commit()}else{F.set(y,D)}}}},setStarted:function(){this.started=this.running=true},setCompleted:function(){var e=this,d=e.getProxy();e.complete=true;e.running=false;e.triggerCallbacks();if(d){d.completeOperation(e)}},setSuccessful:function(c){this.success=true;if(c){this.setCompleted()}},setException:function(d){var e=this;e.exception=true;e.success=e.running=false;e.error=d;e.setCompleted()},triggerCallbacks:function(){var d=this,e=d.getInternalCallback();if(e){e.call(d.getInternalScope()||d,d);d.setInternalCallback(null);d.setInternalScope(null)}if(e=d.getCallback()){e.call(d.getScope()||d,d.getRecords(),d,d.wasSuccessful());d.setCallback(null);d.setScope(null)}},hasException:function(){return this.exception},getError:function(){return this.error},getRecords:function(){var c;return this._records||((c=this.getResultSet())?c.getRecords():null)},isStarted:function(){return this.started},isRunning:function(){return this.running},isComplete:function(){return this.complete},wasSuccessful:function(){return this.isComplete()&&this.success===true},allowWrite:function(){return true}},1,0,0,0,0,0,[Ext.data.operation,"Operation",Ext.data,"Operation"],0));(Ext.cmd.derive("Ext.data.operation.Create",Ext.data.operation.Operation,{action:"create",isCreateOperation:true,order:10,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().create(this)}},0,0,0,0,["data.operation.create"],0,[Ext.data.operation,"Create"],0));(Ext.cmd.derive("Ext.data.operation.Destroy",Ext.data.operation.Operation,{action:"destroy",isDestroyOperation:true,order:30,foreignKeyDirection:-1,doProcess:function(){var f=this.getRecords(),e=f.length,g;for(g=0;g<e;++g){f[g].setErased()}},doExecute:function(){return this.getProxy().erase(this)},getRecordData:function(g,l){var j={},k=g.idField,m=this.getNameProperty()||"name";j[k[m]]=g.id;return j}},0,0,0,0,["data.operation.destroy"],0,[Ext.data.operation,"Destroy"],0));(Ext.cmd.derive("Ext.data.operation.Read",Ext.data.operation.Operation,{action:"read",isReadOperation:true,config:{filters:undefined,sorters:undefined,grouper:undefined,start:undefined,limit:undefined,page:undefined,addRecords:false},doExecute:function(){return this.getProxy().read(this)},doProcess:Ext.emptyFn,allowWrite:function(){return false}},0,0,0,0,["data.operation.read"],0,[Ext.data.operation,"Read"],0));(Ext.cmd.derive("Ext.data.operation.Update",Ext.data.operation.Operation,{action:"update",isUpdateOperation:true,order:20,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().update(this)}},0,0,0,0,["data.operation.update"],0,[Ext.data.operation,"Update"],0));(Ext.cmd.derive("Ext.data.SortTypes",Ext.Base,{singleton:true,none:Ext.identityFn,stripCommasRe:/,/g,stripTagsRE:/<\/?[^>]+>/gi,asText:function(c){return(c!=null)?String(c).replace(this.stripTagsRe,""):"\x00"},asUCText:function(c){return(c!=null)?String(c).toUpperCase().replace(this.stripTagsRe,""):"\x00"},asUCString:function(c){return(c!=null)?String(c).toUpperCase():"\x00"},asDate:function(c){if(!c){return 0}if(Ext.isDate(c)){return c.getTime()}return Date.parse(String(c))},asFloat:function(d){var e=parseFloat(String(d).replace(this.stripCommasRe,""));return isNaN(e)?0:e},asInt:function(d){var e=parseInt(String(d).replace(this.stripCommasRe,""),10);return isNaN(e)?0:e}},0,0,0,0,0,0,[Ext.data,"SortTypes"],0));(Ext.cmd.derive("Ext.data.validator.Validator",Ext.Base,{isValidator:true,type:"base",statics:{all:{},register:function(g,e){var f=this.all;f[g.toUpperCase()]=f[g.toLowerCase()]=f[g]=e.prototype}},onClassExtended:function(d,e){if(e.type){Ext.data.validator.Validator.register(e.type,d)}},constructor:function(c){if(typeof c==="function"){this.fnOnly=true;this.validate=c}else{this.initConfig(c)}},validate:function(){return true},clone:function(){var c=this;if(c.fnOnly){return new Ext.data.validator.Validator(c.validate)}return new c.self(c.getCurrentConfig())}},1,0,0,0,["data.validator.base"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.validator,"Validator"],function(){this.register(this.prototype.type,this)}));(Ext.cmd.derive("Ext.data.field.Field",Ext.Base,{alternateClassName:"Ext.data.Field",aliasPrefix:"data.field.",type:"auto",factoryConfig:{defaultProperty:"name"},isDataField:true,isField:true,allowBlank:true,allowNull:false,critical:false,defaultInvalidMessage:"This field is invalid",defaultValue:undefined,definedBy:null,depends:null,dependents:null,mapping:null,name:null,ordinal:undefined,persist:null,reference:null,unique:false,rank:null,stripRe:/[\$,%]/g,calculated:false,evil:false,identifier:false,onClassExtended:function(n,l){var k=l.sortType,m=n.prototype,j=m.validators,o=l.validators;if(k&&Ext.isString(k)){m.sortType=Ext.data.SortTypes[k]}if(o){if(!Ext.isArray(o)){o=[o]}delete l.validators;if(j){o=j.concat(o)}m.validators=o}},argumentNamesRe:/^function\s*\(\s*([^,\)\s]+)/,calculateRe:/[^\.a-z0-9_]([a-z_][a-z_0-9]*)\.([a-z_][a-z_0-9]*)/gi,constructor:function(D){var v=this,s=v.calculateRe,A,r,u,y,E,G,x,F,w,C,B;if(D){if(Ext.isString(D)){v.name=D}else{B=D.validators;if(B){delete D.validators;v.instanceValidators=B}Ext.apply(v,D)}}if(!v.allowNull){v.allowNull=!!v.reference}A=v.calculate;E=v.depends;if(A){v.convert=v.doCalculate;if(!E){if(!(E=A.$depends)){G={};w=A.toString();A.$depends=E=[];x=v.argumentNamesRe.exec(w);F=x?x[1]:"data";while((x=s.exec(w))){if(F===x[1]&&!G[C=x[2]]){G[C]=1;E.push(C)}}}v.depends=E}}u=v.defaultValue;if(v.convert){v.calculated=r=v.convert.length>1;v.evil=r&&!E}if(v.persist===null){v.persist=!A}y=v.sortType;if(!v.sortType){v.sortType=Ext.data.SortTypes.none}else{if(Ext.isString(y)){v.sortType=Ext.data.SortTypes[y]}}if(E&&typeof E==="string"){v.depends=[E]}v.cloneDefaultValue=u!==undefined&&(Ext.isDate(u)||Ext.isArray(u)||Ext.isObject(u))},setModelValidators:function(c){this._validators=null;this.modelValidators=c},compileValidators:function(){var c=this;c._validators=[];c.constructValidators(c.validators);c.constructValidators(c.modelValidators);c.constructValidators(c.instanceValidators)},constructValidators:function(g){if(g){if(!(g instanceof Array)){g=[g]}var j=g.length,l=this._validators,m,k;for(m=0;m<j;++m){k=g[m];if(k.fn){k=k.fn}l.push(Ext.Factory.dataValidator(k))}}},collate:function(l,m){var k=this,g=l,j=m;if(k.sortType){g=k.sortType(g);j=k.sortType(j)}return(g===j)?0:((g<j)?-1:1)},compare:function(e,d){return(e===d)?0:((e<d)?-1:1)},isEqual:function(e,d){return this.compare(e,d)===0},convert:null,serialize:null,validate:function(p,v,q,u){var r=this,s="",o,A,x,y,w;if(!r._validators){r.compileValidators()}x=r._validators;for(w=0,y=x.length;w<y;++w){A=x[w];o=A.validate(p,u);if(o!==true){o=o||r.defaultInvalidMessage;if(q){q.add(r.name,o);s=s||o}else{if(v){if(s){s+=v}s+=o}else{s=o;break}}}}return s||true},doCalculate:function(d,e){return e?this.calculate(e.data):d},getName:function(){return this.name},getAllowBlank:function(){return this.allowBlank},getAllowNull:function(){return this.allowNull},getConvert:function(){return this.convert},getDefaultValue:function(){return this.defaultValue},getDepends:function(){return this.depends},getMapping:function(){return this.mapping},hasMapping:function(){var c=this.mapping;return !!(c||c===0)},getPersist:function(){return this.persist},getSortType:function(){return this.sortType},getType:function(){return"auto"},deprecated:{5.1:{methods:{getSortDir:function(){return this.sortDir}}}}},1,0,0,0,["data.field.auto"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.field,"Field",Ext.data,"Field"],0));(Ext.cmd.derive("Ext.data.field.Boolean",Ext.data.field.Field,{isBooleanField:true,trueRe:/^\s*(?:true|yes|on|1)\s*$/i,convert:function(c){if(typeof c==="boolean"){return c}if(this.allowNull&&(c===undefined||c===null||c==="")){return null}return this.trueRe.test(String(c))},getType:function(){return"bool"}},0,0,0,0,["data.field.bool","data.field.boolean"],0,[Ext.data.field,"Boolean"],0));Ext.define("Ext.overrides.data.field.Boolean",{override:"Ext.data.field.Boolean",defaultValue:0});(Ext.cmd.derive("Ext.data.field.Date",Ext.data.field.Field,{sortType:"asDate",isDateField:true,dateFormat:null,dateReadFormat:null,dateWriteFormat:null,compare:function(m,j){var k=m instanceof Date,l=j instanceof Date,g;if(l&&k){g=m.getTime()-j.getTime();if(g===0){g=0}else{g=g<0?-1:1}}else{if(k===l){g=0}else{g=k?1:-1}}return g},convert:function(f){if(!f){return null}if(f instanceof Date){return f}var e=this.dateReadFormat||this.dateFormat,g;if(e){return Ext.Date.parse(f,e,this.useStrict)}g=Date.parse(f);return g?new Date(g):null},serialize:function(g){var e=null,f;if(Ext.isDate(g)){f=this.getDateWriteFormat();e=f?Ext.Date.format(g,f):g}return e},getDateFormat:function(){return this.dateFormat},getDateReadFormat:function(){return this.dateReadFormat},getDateWriteFormat:function(){var c=this;if(c.hasOwnProperty("dateWriteFormat")){return c.dateWriteFormat}if(c.hasOwnProperty("dateFormat")){return c.dateFormat}return c.dateWriteFormat||c.dateFormat||"timestamp"},getType:function(){return"date"}},0,0,0,0,["data.field.date"],0,[Ext.data.field,"Date"],0));Ext.define("Ext.overrides.data.field.Date",{override:"Ext.data.field.Date",dateReadFormat:"d/m/Y",dateWriteFormat:"Y-m-d",convert:function(c){return Ext.util.Format.date(Ext.Date.parse(c,"Y-m-d"),"d/m/Y")}});(Ext.cmd.derive("Ext.data.field.Integer",Ext.data.field.Field,{isNumeric:true,isIntegerField:true,numericType:"int",convert:function(k){if(typeof k==="number"){return this.getNumber(k)}var g=k===undefined||k===null||k==="",f=this.allowNull,j;if(g){j=f?null:0}else{j=this.parse(k);if(f&&isNaN(j)){j=null}}return j},getNumber:function(c){return parseInt(c,10)},getType:function(){return this.numericType},parse:function(c){return parseInt(String(c).replace(this.stripRe,""),10)},sortType:function(c){if(c==null){c=Infinity}return c}},0,0,0,0,["data.field.int","data.field.integer"],0,[Ext.data.field,"Integer"],0));Ext.define("Ext.overrides.data.field.Integer",{override:"Ext.data.field.Integer",convert:null,defaultValue:null});(Ext.cmd.derive("Ext.data.field.Number",Ext.data.field.Integer,{isIntegerField:false,isNumberField:true,numericType:"float",getNumber:Ext.identityFn,parse:function(c){return parseFloat(String(c).replace(this.stripRe,""))}},0,0,0,0,["data.field.float","data.field.number"],0,[Ext.data.field,"Number"],0));(Ext.cmd.derive("Ext.data.field.String",Ext.data.field.Field,{sortType:"asUCString",isStringField:true,convert:function(e){var d=this.allowNull?null:"";return(e===undefined||e===null)?d:String(e)},getType:function(){return"string"}},0,0,0,0,["data.field.string"],0,[Ext.data.field,"String"],0));(Ext.cmd.derive("Ext.data.identifier.Generator",Ext.Base,{"abstract":true,factoryConfig:{defaultType:"sequential"},isGenerator:true,config:{id:null},constructor:function(e){var g=this,f;g.initConfig(e);f=g.getId();if(f){Ext.data.identifier.Generator.all[f]=g}},privates:{clone:function(e){var d=this.getInitialConfig();d=e?Ext.apply({},e,d):d;return new this.self(d)},statics:{all:{}}}},1,0,0,0,["data.identifier.default"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.identifier,"Generator"],function(){var f=this,e=Ext.Factory,g=e.dataIdentifier;e.dataIdentifier=function(d){var b=Ext.isString(d)?d:(d&&d.id),c=b&&f.all[b];return c||g(d)}}));(Ext.cmd.derive("Ext.data.identifier.Sequential",Ext.data.identifier.Generator,{config:{increment:1,prefix:null,seed:1},generate:function(){var g=this,e=g._seed,f=g._prefix;g._seed+=g._increment;return(f!==null)?f+e:e}},0,0,0,0,["data.identifier.sequential"],0,[Ext.data.identifier,"Sequential"],0));(Ext.cmd.derive("Ext.data.Model",Ext.Base,{alternateClassName:"Ext.data.Record",isEntity:true,isModel:true,validIdRe:null,erasing:false,observableType:"record",crudState:"R",crudStateWas:null,constructor:function(E,x){var w=this,s=w.self,y=s.identifier,G=Ext.data.Model,v=G.identifier,u=w.idField.name,A,I,H,B,C,F,D;w.data=w.data=E||(E={});w.session=x||null;w.internalId=B=v.generate();if((A=E) instanceof Array){w.data=E={};D=w.getFields();C=Math.min(D.length,A.length);for(F=0;F<C;++F){E[D[F].name]=A[F]}}if(!(H=s.initializeFn)){s.initializeFn=H=G.makeInitializeFn(s)}if(!H.$nullFn){s.initializeFn(w)}if(!(w.id=I=E[u])&&I!==0){if(x){y=x.getIdentifier(s);I=y.generate()}else{if(v===y){I=B}else{I=y.generate()}}E[u]=w.id=I;w.phantom=true;w.crudState="C"}if(x){x.add(w)}if(w.init&&Ext.isFunction(w.init)){w.init()}},editing:false,dirty:false,session:null,dropped:false,erased:false,clientIdProperty:null,evented:false,phantom:false,idProperty:"id",manyToMany:null,identifier:null,previousValues:undefined,proxy:undefined,schema:"default",versionProperty:null,generation:1,validationSeparator:null,convertOnSet:true,beginEdit:function(){var f=this,g=f.modified,e=f.previousValues;if(!f.editing){f.editing=true;f.editMemento={dirty:f.dirty,data:Ext.apply({},f.data),generation:f.generation,modified:g&&Ext.apply({},g),previousValues:e&&Ext.apply({},e)}}},cancelEdit:function(){var e=this,d=e.editMemento;if(d){e.editing=false;Ext.apply(e,d);e.editMemento=null}},endEdit:function(k,g){var j=this,f=j.editMemento;if(f){j.editing=false;j.editMemento=null;j.previousValues=f.previousValues;if(!k){if(!g){g=j.getModifiedFieldNames(f.data)}if(j.dirty||(g&&g.length)){j.callJoined("afterEdit",[g])}}}},getField:function(c){return this.self.getField(c)},getFields:function(){return this.self.getFields()},getFieldsMap:function(){return this.fieldsMap},getIdProperty:function(){return this.idProperty},getId:function(){return this.id},getObservableId:function(){return this.internalId},setId:function(e,d){this.set(this.idProperty,e,d)},getPrevious:function(e){var d=this.previousValues;return d&&d[e]},isModified:function(e){var d=this.modified;return !!(d&&d.hasOwnProperty(e))},getModified:function(e){var d;if(this.isModified(e)){d=this.modified[e]}return d},get:function(c){return this.data[c]},_singleProp:{},_rejectOptions:{convert:false,silent:true},set:function(ai,V,ag){var ap=this,az=ap.self,R=ap.data,am=ap.modified,ae=ap.previousValues,ac=ap.session,ad=Ext.isString(ai),al=(ad?ag:V),aa=al?al.convert!==false:ap.convertOnSet,Z=ap.fieldsMap,ax=al&&al.silent,aq=al&&al.commit,Y=!(al&&al.refs===false)&&ac,ak=!(al&&al.dirty===false&&!aq),an=null,au=0,ay=ap.associations,av,aw,aA,ao,ar,af,ah,at,T,S,W,ab,U,aB,X,Q,aj;if(ad){Q=ap._singleProp;Q[ai]=V}else{Q=ai}if(!(U=az.rankedFields)){U=az.rankFields()}W=U.length;do{for(ar in Q){X=Q[ar];av=R[ar];ah=ap;aw=Z[ar];if(aw){if(aa&&aw.convert){X=aw.convert(X,ap)}ah=aw;aB=aw.reference}else{aB=null}if(ah.isEqual(av,X)){continue}R[ar]=X;(an||(an=[])).push(ar);(ae||(ap.previousValues=ae={}))[ar]=av;if(aB&&aB.cls){if(Y){ac.updateReference(ap,aw,X,av)}aB.onValueChange(ap,ac,X,av)}S=(T=aw&&aw.dependents)&&T.length;while(S-->0){(at=T[S]).dirty=true;au=au?Math.min(au,at.rank):at.rank}if(!aw||aw.persist){if(am&&am.hasOwnProperty(ar)){if(!ak||ah.isEqual(am[ar],X)){delete am[ar];ap.dirty=-1}}else{if(ak){if(!am){ap.modified=am={}}ap.dirty=true;am[ar]=av}}}if(ar===ap.idField.name){aA=true;af=av;ab=X}}if(!au){break}aw=U[au-1];aw.dirty=false;if(ad){delete Q[ai]}else{Q=ap._singleProp;ad=true}ai=aw.name;Q[ai]=R[ai];aa=true;for(;au<W;++au){if(U[au].dirty){break}}if(au<W){++au}else{au=0}}while(1);if(ap.dirty<0){ap.dirty=false;for(ao in am){if(am.hasOwnProperty(ao)){ap.dirty=true;break}}}if(ad){delete Q[ai]}++ap.generation;if(aA){ap.id=ab;ap.onIdChanged(ab,af);ap.callJoined("onIdChanged",[af,ab]);if(ay){for(aj in ay){ay[aj].onIdChanged(ap,af,ab)}}}if(aq){ap.commit(ax,an)}else{if(!ax&&!ap.editing&&an){ap.callJoined("afterEdit",[an])}}return an},reject:function(e){var f=this,g=f.modified;if(g){f.set(g,f._rejectOptions)}f.dropped=false;f.clearState();if(!e){f.callJoined("afterReject")}},commit:function(o,m){var n=this,k=n.versionProperty,l=n.data,j;n.clearState();if(k&&!n.phantom&&!isNaN(l[k])){++l[k]}n.phantom=false;if(n.dropped){n.erased=j=true}if(!o){if(j){n.callJoined("afterErase")}else{n.callJoined("afterCommit",[m])}}},clearState:function(){var c=this;c.dirty=c.editing=false;c.editMemento=c.modified=null},drop:function(m){var k=this,l=k.associations,j=k.session,g;if(k.erased||k.dropped){return}k.dropped=true;if(l&&m!==false){for(g in l){l[g].onDrop(k,j)}}k.callJoined("afterDrop");if(k.phantom){k.setErased()}},join:function(g){var e=this,f=e.joined;if(!f){f=e.joined=[g]}else{if(!f.length){f[0]=g}else{Ext.Array.include(f,g)}}if(g.isStore&&!e.store){e.store=g}},unjoin:function(l){var m=this,k=m.joined,j=k&&k.length,o=m.store,n;if(l===m.session){m.session=null}else{if(j===1&&k[0]===l){k.length=0}else{if(j){Ext.Array.remove(k,l)}}if(o===l){o=null;if(k){for(n=0,j=k.length;n<j;++n){l=k[n];if(l.isStore){o=l;break}}}m.store=o}}},clone:function(g){var j=this,k=j.modified,f=j.copy(j.id,g);if(k){f.modified=Ext.apply({},k)}f.dirty=j.dirty;f.dropped=j.dropped;f.phantom=j.phantom;return f},copy:function(n,k){var m=this,l=Ext.apply({},m.data),o=m.idProperty,j=m.self;if(n||n===0){l[o]=n}else{if(n===null){delete l[o]}}return new j(l,k)},getProxy:function(){return this.self.getProxy()},getValidation:function(g){var f=this,e=f.validation;if(!e){f.validation=e=new Ext.data.Validation();e.attach(f)}if(g===true||(g!==false&&e.syncGeneration!==f.generation)){e.refresh(g)}return e},validate:function(){return new Ext.data.ErrorCollection().init(this)},isValid:function(){return this.getValidation().isValid()},toUrl:function(){var e=this.$className.split("."),d=e[e.length-1].toLowerCase();return d+"/"+this.getId()},erase:function(d){var e=this;e.erasing=true;e.drop();e.erasing=false;return e.save(d)},setErased:function(){this.erased=true;this.callJoined("afterErase")},getChanges:function(){return this.getData(this._getChangesOptions)},getCriticalFields:function(){var d=this.self,e=d.criticalFields;if(!e){d.rankFields();e=d.criticalFields}return e},getAssociatedData:function(K,u){var y=this,H=y.associations,w,D,v,A,G,I,B,E,F,J,C,x;K=K||{};y.$gathering=1;if(u){u=Ext.Object.chain(u)}for(F in H){E=H[F];v=E.getAssociatedItem(y);if(!v||v.$gathering){continue}if(v.isStore){v.$gathering=1;A=v.getData().items;I=A.length;G=[];for(D=0;D<I;++D){B=A[D];w=!B.$gathering;B.$gathering=1;if(u){x=u.associated;if(x===undefined){u.associated=w;C=true}else{if(!w){u.associated=false;C=true}}J=u}else{J=w?y._getAssociatedOptions:y._getNotAssociatedOptions}G.push(B.getData(J));if(C){u.associated=x;C=false}delete B.$gathering}delete v.$gathering}else{J=u||y._getAssociatedOptions;if(u&&u.associated===undefined){J.associated=true}G=v.getData(J)}K[F]=G}delete y.$gathering;return K},getData:function(K){var A=this,B={},J=(K===true)?A._getAssociatedOptions:(K||B),F=A.data,y=J.associated,n=J.changes,w=n&&J.critical,C=n?A.modified:F,D=A.fieldsMap,E=J.persist,L=J.serialize,H,x,G,I,M;if(C){for(I in C){M=F[I];x=D[I];if(x){if(E&&!x.persist){continue}if(L&&x.serialize){M=x.serialize(M,A)}}B[I]=M}}if(w){H=A.self.criticalFields||A.getCriticalFields();for(G=H.length;G-->0;){I=(x=H[G]).name;if(!(I in B)){M=F[I];if(L&&x.serialize){M=x.serialize(M,A)}B[I]=M}}}if(y){A.getAssociatedData(B,J)}return B},getTransientFields:function(){var d=this.self,e=d.transientFields;if(!e){d.rankFields();e=d.transientFields}return e},isLoading:function(){return !!this.loadOperation},abort:function(){var c=this.loadOperation;if(c){c.abort()}},load:function(s){s=Ext.apply({},s);var o=this,p=s.scope||o,r=o.getProxy(),m=s.callback,l=o.loadOperation,n=o.getId(),q;if(l){q=l.extraCalls;if(!q){q=l.extraCalls=[]}q.push(s);return l}s.id=n;s.recordCreator=function(e,c,b){var d=o.session;if(b){b.recordCreator=d?d.recordCreator:null}o.set(e,o._commitOptions);return o};s.internalCallback=function(k){var e=k.wasSuccessful()&&k.getRecords().length>0,d=o.loadOperation,g=d.extraCalls,b=[o,k],f=[o,k,e],j,c;o.loadOperation=null;if(e){Ext.callback(s.success,p,b)}else{Ext.callback(s.failure,p,b)}Ext.callback(m,p,f);if(g){for(j=0,c=g.length;j<c;++j){s=g[j];if(e){Ext.callback(s.success,p,b)}else{Ext.callback(s.failure,p,b)}Ext.callback(s.callback,p,f)}}o.callJoined("afterLoad")};delete s.callback;o.loadOperation=l=r.createOperation("read",s);l.execute();return l},save:function(m){m=Ext.apply({},m);var p=this,r=p.phantom,v=p.dropped,s=v?"destroy":(r?"create":"update"),n=m.scope||p,o=m.callback,q=p.getProxy(),u;m.records=[p];m.internalCallback=function(b){var d=[p,b],c=b.wasSuccessful();if(c){Ext.callback(m.success,n,d)}else{Ext.callback(m.failure,n,d)}d.push(c);Ext.callback(o,n,d)};delete m.callback;u=q.createOperation(s,m);if(v&&r){u.setResultSet(Ext.data.reader.Reader.prototype.nullResultSet);p.setErased();u.setSuccessful(true)}else{u.execute()}return u},inheritableStatics:{addFields:function(c){this.replaceFields(c)},replaceFields:function(u,x){var s=this,C=s.prototype,y=Ext.data.field.Field,B=s.fields,v=s.fieldsMap,E=s.fieldOrdinals,r,D,F,A,G,w;if(x===true){B.length=0;s.fieldsMap=v={};s.fieldOrdinals=E={}}else{if(x){for(D=x.length;D-->0;){G=x[D];if(G in E){delete E[G];delete v[G]}}for(D=0,A=B.length;D<A;++D){G=(r=B[D]).name;if(G in E){E[G]=D}else{B.splice(D,1);--D;--A}}}}for(D=0,A=u?u.length:0;D<A;D++){G=(r=u[D]).name;if(!(G in E)){E[G]=w=B.length;B.push(r=y.create(r));v[G]=r;r.ordinal=w;r.definedBy=r.owner=this}}s.idField=C.idField=F=v[C.idProperty];F.allowNull=F.critical=F.identifier=true;F.defaultValue=null;s.initializeFn=s.rankedFields=s.transientFields=s.criticalFields=null},removeFields:function(c){this.replaceFields(null,c)},getIdFromData:function(j){var k=this,f=k.idField,g=f.calculated?(new k(j)).id:j[f.name];return g},createWithId:function(j,m,l){var k=m,d=this;if(j||j===0){k={};if(m){Ext.apply(k,m)}k[d.idField.name]=j}return new d(k,l)},getFields:function(){return this.fields},getFieldsMap:function(){return this.fieldsMap},getField:function(c){return this.fieldsMap[c]||null},getProxy:function(){var k=this,f=k.proxy,g=k.defaultProxy,j;if(!f){f=k.proxyConfig;if(!f&&g){f=g}if(!f||!f.isProxy){if(typeof f==="string"){f={type:f}}j=k.schema.constructProxy(k);f=f?Ext.merge(j,f):j}f=k.setProxy(f)}return f},setProxy:function(g){var f=this,e;if(g){if(!g.isProxy){g=Ext.Factory.proxy(g)}else{e=g.getModel();if(e&&e!==f){g=g.clone()}}g.setModel(f)}return(f.prototype.proxy=f.proxy=g)},load:function(j,g,l){var m={},k;m[this.prototype.idProperty]=j;k=new this(m,l);k.load(g);return k}},deprecated:{5:{methods:{hasId:null,markDirty:null,setDirty:null,eachStore:function(k,m){var l=this,o=l.stores,j=o.length,n;for(n=0;n<j;++n){k.call(m,o[n])}},join:function(j){var k=this,f=k.stores,g=k.joined;if(!g){g=k.joined=[j]}else{g.push(j)}if(j.isStore){k.store=k.store||j;if(!f){f=k.stores=[]}f.push(j)}},unjoin:function(j){var k=this,f=k.stores,g=k.joined;if(g.length===1){g.length=0}else{Ext.Array.remove(g,j)}if(j.isStore){Ext.Array.remove(f,j);k.store=f[0]||null}}},properties:{persistenceProperty:null},inheritableStatics:{methods:{setFields:null}}}},privates:{_commitOptions:{commit:true},_getChangesOptions:{changes:true},_getAssociatedOptions:{associated:true},_getNotAssociatedOptions:{associated:false},copyFrom:function(u){var v=this,x=v.fields,q=x.length,B=[],s,A=0,w,y,p=v.idProperty,C,r;if(u){w=v.data;y=u.data;for(;A<q;A++){s=x[A];C=s.name;if(C!==p){r=y[C];if(r!==undefined&&!v.isEqual(w[C],r)){w[C]=r;B.push(C)}}}if(v.phantom&&!u.phantom){v.beginEdit();v.setId(u.getId());v.endEdit(true);v.commit(true)}}return B},callJoined:function(s,u){var q=this,o=q.joined,r=q.session,x=q.dropped?"D":(q.phantom?"C":(q.dirty?"U":"R")),w,v,p,n;q.crudState=x;if(o||r){if(u){u.unshift(q)}else{u=[q]}if(o){for(w=0,v=o.length;w<v;++w){n=o[w];if(n&&(p=n[s])){p.apply(n,u)}}}p=r&&r[s];if(p){p.apply(r,u)}}q.crudStateWas=x},onAssociatedRecordSet:function(d,e){this.callJoined("afterAssociatedRecordSet",[d,e])},onIdChanged:Ext.privateFn,setSession:function(c){this.session=c;if(c){c.add(this)}},getModifiedFieldNames:function(j){var m=this,l=m.data,o=[],k=j||m.editMemento.data,n;for(n in l){if(l.hasOwnProperty(n)){if(!m.isEqual(l[n],k[n],n)){o.push(n)}}}return o},isEqual:function(f,g,j){var k;if(j){k=j.isField?j:this.fieldsMap[j];if(k){return k.isEqual(f,g)}}if(f instanceof Date&&g instanceof Date){return f.getTime()===g.getTime()}return f===g},statics:{EDIT:"edit",REJECT:"reject",COMMIT:"commit",defaultProxy:"memory",rankFields:function(){var o=this,p=o.prototype,u=o.fields,w=u.length,r=[],x=[],s=[],n,q,v;o.rankedFields=p.rankedFields=r;o.criticalFields=p.criticalFields=x;o.transientFields=p.transientFields=s;for(v=0;v<w;++v){q=u[v];if(q.critical){x.push(q)}if(!q.persist){s.push(q)}if(q.evil){(n||(n=[])).push(q)}else{if(!q.depends){r.push(q);q.rank=r.length}}}for(v=0;v<w;++v){if(!(q=u[v]).rank&&!q.evil){o.topoAdd(q)}}if(n){for(v=0,w=n.length;v<w;++v){r.push(q=n[v]);q.rank=r.length}}return r},topoAdd:function(l){var q=this,m=l.depends,k=m?m.length:0,o=q.rankedFields,p,n;for(p=0;p<k;++p){n=q.fieldsMap[m[p]];(n.dependents||(n.dependents=[])).push(l);if(!n.rank){q.topoAdd(n)}}o.push(l);l.rank=o.length},initFields:function(B,V,I){var O=Ext.data.field.Field,T=B.fields,H=[],N={},R={},W=[],C=I.fields,M=B.versionProperty||I.versionProperty,L=V.idProperty,Q,U,E,S,K,F,P,D,G,J;V.fields=I.fields=H;V.fieldOrdinals=I.fieldOrdinals=N;V.fieldsMap=I.fieldsMap=R;V.references=I.references=W;if(C){for(E=0,S=C.length;E<S;++E){H[E]=U=Ext.Object.chain(C[E]);U.dependents=null;U.owner=V;N[K=U.name]=E;R[K]=U;U.rank=null;if(U.generated){D=U;G=U.name}}}if(T){delete B.fields;for(E=0,S=T.length;E<S;++E){U=T[E];P=U.reference;if(P&&typeof P!=="string"){P=Ext.merge({},P)}U.$reference=P;U=O.create(T[E]);K=U.name;F=N[K];if(F===undefined){N[K]=F=H.length}R[K]=U;H[F]=U;U.definedBy=U.owner=V;U.ordinal=F;if(K===L){J=U}}}Q=R[L];if(!Q){if(D&&D.generated){F=D.ordinal}else{F=H.length}delete R[G];delete N[G];Q=new O(L);H[F]=Q;N[L]=F;R[L]=Q;Q.definedBy=V;Q.ordinal=F;Q.generated=true}else{if(J&&D&&D.generated){Ext.Array.remove(H,D);delete R[G];delete N[G];R[L]=J;for(E=0,S=H.length;E<S;++E){U=H[E];H.ordinal=E;N[U.name]=E}}}Q.allowNull=Q.critical=Q.identifier=true;Q.defaultValue=null;V.idField=I.idField=Q;if(M){U=R[M];if(!U){F=H.length;U=new O({name:M,type:"int"});H[F]=U;N[M]=F;R[M]=U;U.definedBy=V;U.ordinal=F;U.generated=true}U.defaultValue=1;U.critical=true}},initValidators:function(A,r,x){var u=x.validators,C,v,E,w,B,D,y,F,G,s;if(u){C={};for(v in u){C[v]=Ext.Array.clone(u[v])}}w=A.validators||A.validations;if(w){delete A.validators;C=C||{};if(Ext.isArray(w)){E={};for(B=0,D=w.length;B<D;++B){s=w[B];F=s.field;if(!E[F]){E[F]=[]}s=s.fn||s;E[F].push(s)}w=E}for(F in w){y=w[F];if(!Ext.isArray(y)){y=[y]}G=C[F];if(C[F]){Ext.Array.push(G,y)}else{C[F]=y}}}if(C){for(F in C){v=r.getField(F);if(v){v.setModelValidators(C[F])}}}r.validators=x.validators=C},initAssociations:function(y,v,q){var A=v.associations,x=v.belongsTo,s=v.hasMany,o=v.hasOne,r=v.manyToMany,w,B,u,C;delete v.associations;delete v.belongsTo;delete v.hasMany;delete v.hasOne;delete v.manyToMany;if(r){y.addMatrices(q,r)}if(A){A=Ext.isArray(A)?A:[A];for(w=0,B=A.length;w<B;++w){u=A[w];C=Ext.apply({},u);delete C.type;switch(u.type){case"belongsTo":y.addBelongsTo(q,C);break;case"hasMany":y.addHasMany(q,C);break;case"hasOne":y.addHasOne(q,C);break}}}if(x){x=Ext.isArray(x)?x:[x];for(w=0,B=x.length;w<B;++w){y.addBelongsTo(q,x[w])}}if(s){s=Ext.isArray(s)?s:[s];for(w=0,B=s.length;w<B;++w){y.addHasMany(q,s[w])}}if(o){o=Ext.isArray(o)?o:[o];for(w=0,B=o.length;w<B;++w){y.addHasOne(q,o[w])}}y.afterKeylessAssociations(q)},initIdentifier:function(k,j,l){var o=k.identifier||k.idgen,m=l.identifier||j.schema._defaultIdentifier,n;if(o){delete k.identifier;delete k.idgen;o=Ext.Factory.dataIdentifier(o)}else{if(m){if(m.clone&&!m.getId()){o=m.clone()}else{if(m.isGenerator){o=m}else{o=Ext.Factory.dataIdentifier(m)}}}}j.identifier=l.identifier=o;if(!o){n=j.entityName;if(!n){n=Ext.id(null,"extModel")}j.identifier=Ext.Factory.dataIdentifier({type:"sequential",prefix:n+"-"})}},findValidator:function(r,q,s){var o=s.type||s,m=r[q],l,p,n;if(m){for(p=0,l=m.length;p<l;++p){n=m[p];if(n.type===o){return n}}}return null},makeInitializeFn:function(s){var I=["var "],C=["\nreturn function (e) {\n    var data = e.data, v;\n"],w=0,A,B,y,u,F,x,D,E,v,G,H;if(!(D=s.rankedFields)){D=s.rankFields()}for(G=0,H=D.length;G<H;++G){x=D[G];E="f"+G;y=x.convert;if(G){I.push(",  \n    ")}I.push(E," = $fields["+G+"]");if((v=(x.defaultValue!==undefined))||y){u='data["'+x.name+'"]';++w;A=B="";if(x.cloneDefaultValue){A="Ext.clone(";B=")"}C.push("\n");if(y&&v){C.push("    v = ",u,";\n    if (v !== undefined) {\n        v = ",E,".convert(v, e);\n    }\n    if (v === undefined) {\n        v = ",A,E,".defaultValue",B,";\n    }\n    ",u," = v;")}else{if(y){C.push("    v = ",E,".convert(",u,",e);\n    if (v !== undefined) {\n        ",u," = v;\n    }\n")}else{if(v){C.push("    if (",u," === undefined) {\n        ",u," = ",A,E,".defaultValue",B,";\n    }\n")}}}}}if(!w){return Ext.emptyFn}I.push(";\n");I.push.apply(I,C);I.push("}");I=I.join("");F=new Function("$fields","Ext",I);return F(D,Ext)}}}},1,0,0,0,0,0,[Ext.data,"Model",Ext.data,"Record"],function(){var g=this,j=g.prototype,k=Ext.data.schema.Schema,f;g.proxyConfig=j.proxy;delete j.proxy;g.fields=[];g.fieldsMap=j.fieldsMap={};g.schema=j.schema=k.get(j.schema);j.idField=new Ext.data.field.Field(j.idProperty);g.identifier=new Ext.data.identifier.Sequential();g.onExtended(function(q,b){var c=q.prototype,r=b.schema,s=c.superclass.self,d,e,p;q.idProperty=b.idProperty||c.idProperty;if(r){delete b.schema;d=k.get(r)}else{if(!(d=c.schema)){d=f||(f=k.get("default"))}}q.rankFields=g.rankFields;q.topoAdd=g.topoAdd;c.schema=q.schema=d;if(!(e=b.entityName)){c.entityName=e=d.getEntityName(q)}q.entityName=e;q.fieldExtractors={};g.initIdentifier(b,q,c);g.initFields(b,q,c);g.initValidators(b,q,c);q.fields.items=q.fields;if(e){d.addEntity(q);g.initAssociations(d,b,q)}p=b.proxy;if(p){delete b.proxy}else{if(s!==g){p=s.proxyConfig||s.proxy}}q.proxyConfig=p})}));(Ext.cmd.derive("Ext.data.ResultSet",Ext.Base,{isResultSet:true,$configPrefixed:false,config:{loaded:true,count:null,total:null,success:false,records:null,message:null,metadata:null},constructor:function(c){this.initConfig(c)},getCount:function(){var e=(arguments.callee.$previous||Ext.Base.prototype.getCount).call(this),d;if(!e){d=this.getRecords();if(d){e=d.length}}return e}},1,0,0,0,0,0,[Ext.data,"ResultSet"],0));(Ext.cmd.derive("Ext.data.reader.Reader",Ext.Base,{alternateClassName:["Ext.data.Reader","Ext.data.DataReader"],factoryConfig:{defaultType:null},config:{totalProperty:"total",successProperty:"success",rootProperty:"",messageProperty:"",typeProperty:"",implicitIncludes:true,readRecordsOnFailure:true,model:null,proxy:null,transform:null,keepRawData:null},isReader:true,constructor:function(d){if(d&&d.hasOwnProperty("root")){d=Ext.apply({},d);d.rootProperty=d.root;delete d.root}var e=this;e.duringInit=1;e.mixins.observable.constructor.call(e,d);--e.duringInit;e.buildExtractors()},applyModel:function(c){return Ext.data.schema.Schema.lookupEntity(c)},applyTransform:function(c){if(c){if(Ext.isFunction(c)){c={fn:c}}else{if(c.charAt){c={fn:this[c]}}}return c.fn.bind(c.scope||this)}return c},forceBuildExtractors:function(){if(!this.duringInit){this.buildExtractors(true)}},updateTotalProperty:function(){this.forceBuildExtractors()},updateMessageProperty:function(){this.forceBuildExtractors()},updateSuccessProperty:function(){this.forceBuildExtractors()},read:function(m,j){var k,g,l;if(m){l=m.responseText;if(l){g=this.getResponseData(m);if(g&&g.__$isError){return new Ext.data.ResultSet({total:0,count:0,records:[],success:false,message:g.msg})}else{k=this.readRecords(g,j)}}else{if(l!==""){k=this.readRecords(m,j)}}}return k||this.nullResultSet},getNullResultSet:function(){return this.nullResultSet},createReadError:function(c){return{__$isError:true,msg:c}},readRecords:function(E,G,C){var B=this,D=C&&C.recordsOnly,w=C&&C.asRoot,v,F,H,y,A,x,s,I,u;u=B.getMeta?B.getMeta(E):E.metaData;if(u){B.onMetaChange(u)}I=B.getTransform();if(I){E=I(E)}B.buildExtractors();if(B.getKeepRawData()){B.rawData=E}if(B.hasListeners.rawdata){B.fireEventArgs("rawdata",[E])}E=B.getData(E);v=true;F=0;H=[];if(B.getSuccessProperty()){x=B.getSuccess(E);if(x===false||x==="false"){v=false}}if(B.getMessageProperty()){s=B.getMessage(E)}if(v||B.getReadRecordsOnFailure()){y=(w||Ext.isArray(E))?E:B.getRoot(E);if(y){A=y.length}if(B.getTotalProperty()){x=parseInt(B.getTotal(E),10);if(!isNaN(x)){A=x}}if(y){H=B.extractData(y,G);F=H.length}}return D?H:new Ext.data.ResultSet({total:A||F,metadata:u,count:F,records:H,success:v,message:s})},extractData:function(u,D){var w=this,C=D&&D.model?Ext.data.schema.Schema.lookupEntity(D.model):w.getModel(),F=C.schema,s=F.hasAssociations(C)&&w.getImplicitIncludes(),v=w.getFieldExtractorInfo(C.fieldExtractors),I=u.length,G=new Array(I),y=w.getTypeProperty(),x,H,E,A,B;if(!I&&Ext.isObject(u)){u=[u];I=1}for(B=0;B<I;B++){A=u[B];if(!A.isModel){H=A;if(y&&(E=w.getChildType(F,H,y))){x=E.getProxy().getReader();A=x.extractRecord(H,D,E,F.hasAssociations(E)&&x.getImplicitIncludes(),x.getFieldExtractorInfo(E.fieldExtractors))}else{A=w.extractRecord(H,D,C,s,v)}if(A.isModel&&A.isNode){A.raw=H}}if(A.onLoad){A.onLoad()}G[B]=A}return G},getChildType:function(k,j,g){var f;switch(typeof g){case"string":return k.getEntity(j[g]);case"object":f=g.namespace;return k.getEntity((f?f+".":"")+j[g.name]);case"function":return k.getEntity(g(j))}},extractRecordData:function(j,g){var k=g&&g.model?Ext.data.schema.Schema.lookupEntity(g.model):this.getModel(),f=this.getFieldExtractorInfo(k.fieldExtractors);return this.extractRecord(j,g,k,false,f)},extractRecord:function(v,u,s,m,o){var p=this,q=(u&&u.recordCreator)||p.defaultRecordCreator,n,r;n=p.extractModelData(v,o);r=q.call(p,n,s||p.getModel(),u);if(m&&r.isModel){p.readAssociated(r,v,u)}return r},getFieldExtractorInfo:function(f){if(!f){return}var e=this.$className,g=f[e];if(g===undefined){f[e]=g=this.buildFieldExtractors()}return g},buildFieldExtractors:function(){var q=this.getFields(),p=q.length,s=[],n=[],u=null,w=0,o,x,r,v;for(r=0;r<p;++r){o=q[r];v=this.createFieldAccessor(o);if(v){x=o.name;s.push("val = extractors["+w+"](raw); if (val !== undefined) { data['"+x+"'] = val; }");n.push(v);++w}}if(s.length){u={extractors:n,fn:new Function("raw","data","extractors","var val;"+s.join(""))}}return u},defaultRecordCreator:function(g,f){var e=new f(g);e.phantom=false;return e},getModelData:function(c){return{}},extractModelData:function(k,f){var g=this.getModelData(k),j;if(f){j=f.fn;j(k,g,f.extractors)}return g},readAssociated:function(j,l,m){var n=j.associations,o,k;for(o in n){if(n.hasOwnProperty(o)){k=n[o];if(k.cls){k.read(j,l,this,m)}}}},getFields:function(){return this.getModel().fields},getData:Ext.identityFn,getRoot:Ext.identityFn,getResponseData:function(c){},onMetaChange:function(l){var m=this,q=l.fields,p,n,k,o;m.metaData=l;if(l.root){m.setRootProperty(l.root)}if(l.totalProperty){m.setTotalProperty(l.totalProperty)}if(l.successProperty){m.setSuccessProperty(l.successProperty)}if(l.messageProperty){m.setMessageProperty(l.messageProperty)}k=l.clientIdProperty;if(q){n=Ext.define(null,{extend:"Ext.data.Model",fields:q,clientIdProperty:k});m.setModel(n);o=m.getProxy();if(o){o.setModel(n)}}else{if(k){p=m.getModel();if(p){p.self.prototype.clientIdProperty=k}}}},buildExtractors:function(k){var m=this,l,g,j;if(k||!m.hasExtractors){l=m.getTotalProperty();g=m.getSuccessProperty();j=m.getMessageProperty();if(l){m.getTotal=m.getAccessor(l)}if(g){m.getSuccess=m.getAccessor(g)}if(j){m.getMessage=m.getAccessor(j)}m.hasExtractors=true;return true}},getAccessor:function(j){var k=this,g=k.extractorCache,m,l;if(typeof j==="string"){l=k.getAccessorKey(j);m=g.get(l);if(!m){m=k.createAccessor(j);g.add(l,m)}}else{m=k.createAccessor(j)}return m},getAccessorKey:function(c){return this.$className+c},createAccessor:Ext.emptyFn,createFieldAccessor:Ext.emptyFn,destroy:function(){var c=this;c.model=c.getTotal=c.getSuccess=c.getMessage=c.rawData=null;c.onMetaChange=null;c.transform=null;c.callParent()},privates:{copyFrom:function(d){var e=this;d.buildExtractors();e.getTotal=d.getTotal;e.getSuccess=d.getSuccess;e.getMessage=d.getMessage;++e.duringInit;e.setConfig(d.getConfig());--e.duringInit;e.hasExtractors=true}}},1,0,0,0,["reader.base"],[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable],[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.reader,"Reader",Ext.data,"Reader",Ext.data,"DataReader"],function(e){var d=e.prototype;Ext.apply(d,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:true,message:""})});d.extractorCache=new Ext.util.LruCache()}));(Ext.cmd.derive("Ext.data.writer.Writer",Ext.Base,{factoryConfig:{defaultType:null},alternateClassName:["Ext.data.DataWriter","Ext.data.Writer"],config:{clientIdProperty:null,allDataOptions:{persist:true},partialDataOptions:{changes:true,critical:true},writeAllFields:false,dateFormat:null,nameProperty:"name",writeRecordId:true,transform:null},isWriter:true,constructor:function(c){this.initConfig(c)},applyTransform:function(c){if(c){if(Ext.isFunction(c)){c={fn:c}}return c.fn.bind(c.scope||this)}return c},write:function(l){var n=l.getOperation(),o=n.getRecords()||[],j=o.length,k=[],m;for(m=0;m<j;m++){k.push(this.getRecordData(o[m],n))}return this.writeRecords(l,k)},writeRecords:Ext.emptyFn,getRecordData:function(C,E){var y=this,G=y.getNameProperty(),K=G!=="name",I=C.self.idField,M=I[G]||I.name,v=C.id,H=y.getWriteAllFields(),A,J,F,L,w,B,D,x;if(I.serialize){v=I.serialize(v)}if(!H&&E&&E.isDestroyOperation){A={};A[M]=v}else{J=y.getDateFormat();F=C.phantom;L=(F||H)?y.getAllDataOptions():y.getPartialDataOptions();w=F&&y.getClientIdProperty();B=C.getFieldsMap();L.serialize=false;D=C.getData(L);A=K?{}:D;if(w){A[w]=v;delete D[M]}else{if(!y.getWriteRecordId()){delete D[M]}}for(M in D){v=D[M];if(!(x=B[M])){if(K){A[M]=v}}else{if(x.isDateField&&J&&Ext.isDate(v)){v=Ext.Date.format(v,J)}else{if(x.serialize){v=x.serialize(v,C)}}if(K){M=x[G]||M}A[M]=v}}}return A}},1,0,0,0,["writer.base"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.writer,"Writer",Ext.data,"DataWriter",Ext.data,"Writer"],0));(Ext.cmd.derive("Ext.data.proxy.Proxy",Ext.Base,{$configPrefixed:false,alternateClassName:["Ext.data.DataProxy","Ext.data.Proxy"],config:{batchOrder:"create,update,destroy",batchActions:true,model:undefined,reader:{type:"json"},writer:{type:"json"}},isProxy:true,isSynchronous:false,constructor:function(c){this.mixins.observable.constructor.call(this,c);this.pendingOperations={}},applyModel:function(c){return Ext.data.schema.Schema.lookupEntity(c)},updateModel:function(e){if(e){var d=this.getReader();if(d&&!d.getModel()){d.setModel(e)}}},applyReader:function(c){if(this.isSynchronous){c=c||{};c.keepRawData=true}return Ext.Factory.reader(c)},updateReader:function(e){if(e){var f=this,g=f.getModel();if(!g){g=e.getModel();if(g){f.setModel(g)}}else{e.setModel(g)}}},applyWriter:function(e){var d=this.getReader();e=Ext.Factory.writer(e);if(e.getRecord&&!e.getRecord()&&d&&d.getRecord){d=d.getRecord();if(d){e.setRecord(d)}}return e},abort:Ext.emptyFn,onMetaChange:function(c){this.fireEvent("metachange",this,c)},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,erase:Ext.emptyFn,batch:function(q,u){var v=this,w=v.getBatchActions(),y,D,A,C,B,s,E,r,x;if(q.operations===undefined){q={operations:q,listeners:u}}if(q.batch){if(Ext.isDefined(q.batch.runOperation)){y=Ext.applyIf(q.batch,{proxy:v,listeners:{}})}}else{q.batch={proxy:v,listeners:q.listeners||{}}}if(!y){y=new Ext.data.Batch(q.batch)}y.on("complete",Ext.bind(v.onBatchComplete,v,[q],0));A=v.getBatchOrder().split(",");C=A.length;for(s=0;s<C;s++){B=A[s];D=q.operations[B];if(D){if(w){y.add(v.createOperation(B,{records:D,params:q.params}))}else{r=D.length;for(E=0;E<r;E++){x=D[E];y.add(v.createOperation(B,{records:[x],params:q.params}))}}}}y.start();return y},onBatchComplete:function(e,g){var f=e.scope||this;if(g.hasException()){if(Ext.isFunction(e.failure)){Ext.callback(e.failure,f,[g,e])}}else{if(Ext.isFunction(e.success)){Ext.callback(e.success,f,[g,e])}}if(Ext.isFunction(e.callback)){Ext.callback(e.callback,f,[g,e])}},createOperation:function(f,g){var e=Ext.createByAlias("data.operation."+f,g);e.setProxy(this);this.pendingOperations[e._internalId]=e;return e},completeOperation:function(c){delete this.pendingOperations[c._internalId]},clone:function(){return new this.self(this.getInitialConfig())},destroy:function(){var g=this.pendingOperations,e,f;for(e in g){f=g[e];if(f&&f.isRunning()){f.abort()}}this.pendingOperations=null;this.callParent()}},1,0,0,0,["proxy.proxy"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable],[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.data.proxy,"Proxy",Ext.data,"DataProxy",Ext.data,"Proxy"],0));(Ext.cmd.derive("Ext.data.proxy.Client",Ext.data.proxy.Proxy,{alternateClassName:"Ext.data.ClientProxy",isSynchronous:true,clear:function(){}},0,0,0,0,0,0,[Ext.data.proxy,"Client",Ext.data,"ClientProxy"],0));(Ext.cmd.derive("Ext.data.proxy.Memory",Ext.data.proxy.Client,{alternateClassName:"Ext.data.MemoryProxy",isMemoryProxy:true,config:{enablePaging:false,data:{$value:null,merge:function(g,f,j,k){if(Ext.isArray(g)){return Ext.Array.clone(g)}else{return Ext.clone(g)}}}},finishOperation:function(k){var j=0,g=k.getRecords(),f=g.length;for(j;j<f;j++){g[j].dropped=!!k.isDestroyOperation;g[j].commit()}k.setSuccessful(true)},create:function(c){this.finishOperation(c)},update:function(c){this.finishOperation(c)},erase:function(c){this.finishOperation(c)},read:function(r){var p=this,o=p.getReader().read(p.getData()),u=o.getRecords(),q=r.getSorters(),x=r.getGrouper(),v=r.getFilters(),w=r.getStart(),s=r.getLimit(),n;if(r.process(o,null,null,false)!==false){if(v&&v.length){o.setRecords(u=Ext.Array.filter(u,Ext.util.Filter.createFilterFn(v)));o.setTotal(u.length)}if(x){q=q?q.concat(x):q}if(q&&q.length){o.setRecords(u=Ext.Array.sort(u,Ext.util.Sortable.createComparator(q)))}if(p.getEnablePaging()&&w!==undefined&&s!==undefined){if(w>=o.getTotal()){o.setConfig({success:false,records:[],total:0})}else{o.setRecords(Ext.Array.slice(u,w,w+s))}}r.setCompleted();if(n=o.getMetadata()){p.onMetaChange(n)}}},clear:Ext.emptyFn},0,0,0,0,["proxy.memory"],0,[Ext.data.proxy,"Memory",Ext.data,"MemoryProxy"],0));(Ext.cmd.derive("Ext.data.ProxyStore",Ext.data.AbstractStore,{config:{model:undefined,fields:null,proxy:undefined,autoLoad:undefined,autoSync:false,batchUpdateMode:"operation",sortOnLoad:true,trackRemoved:true,asynchronousLoad:undefined},onClassExtended:function(m,k,g){var l=k.model,j;if(typeof l==="string"){j=g.onBeforeCreated;g.onBeforeCreated=function(){var b=this,c=arguments;Ext.require(l,function(){j.apply(b,c)})}}},implicitModel:"Ext.data.Model",autoSyncSuspended:0,constructor:function(d){var e=this;e.removed=[];Ext.data.AbstractStore.prototype.constructor.apply(this,arguments);if(e.getAsynchronousLoad()===false){e.flushLoad()}},applyAsynchronousLoad:function(c){if(c==null){c=!this.loadsSynchronously()}return c},updateAutoLoad:function(c){this.getData();if(c){this.load(Ext.isObject(c)?c:undefined)}},getTotalCount:function(){return this.totalCount||0},applyFields:function(c){if(c){this.createImplicitModel(c)}},applyModel:function(c){if(c){c=Ext.data.schema.Schema.lookupEntity(c)}else{if(!this.destroying){this.getFields();c=this.getModel()||this.createImplicitModel()}}return c},applyProxy:function(e){var d=this.getModel();if(e!==null){if(e){if(e.isProxy){e.setModel(d)}else{if(Ext.isString(e)){e={type:e,model:d}}else{if(!e.model){e=Ext.apply({model:d},e)}}e=Ext.createByAlias("proxy."+e.type,e);e.autoCreated=true}}else{if(d){e=d.getProxy();this.useModelProxy=true}}if(!e){e=Ext.createByAlias("proxy.memory");e.autoCreated=true}}return e},applyState:function(e){var d=this;Ext.data.AbstractStore.prototype.applyState.call(this,e);if(d.getAutoLoad()||d.isLoaded()){d.load()}},updateProxy:function(e,d){this.proxyListeners=Ext.destroy(this.proxyListeners)},updateTrackRemoved:function(c){this.cleanRemoved();this.removed=c?[]:null},onMetaChange:function(d,e){this.fireEvent("metachange",this,e)},create:function(l,n){var m=this,k=m.getModel(),j=new k(l),o;n=Ext.apply({},n);if(!n.records){n.records=[j]}n.internalScope=m;n.internalCallback=m.onProxyWrite;o=m.createOperation("create",n);return o.execute()},read:function(){return this.load.apply(this,arguments)},update:function(g){var f=this,e;g=Ext.apply({},g);if(!g.records){g.records=f.getUpdatedRecords()}g.internalScope=f;g.internalCallback=f.onProxyWrite;e=f.createOperation("update",g);return e.execute()},onProxyWrite:function(k){var j=this,g=k.wasSuccessful(),f=k.getRecords();switch(k.getAction()){case"create":j.onCreateRecords(f,k,g);break;case"update":j.onUpdateRecords(f,k,g);break;case"destroy":j.onDestroyRecords(f,k,g);break}if(g){j.fireEvent("write",j,k);j.fireEvent("datachanged",j)}},onCreateRecords:Ext.emptyFn,onUpdateRecords:Ext.emptyFn,onDestroyRecords:function(g,e,f){if(f){this.cleanRemoved()}},erase:function(g){var f=this,e;g=Ext.apply({},g);if(!g.records){g.records=f.getRemovedRecords()}g.internalScope=f;g.internalCallback=f.onProxyWrite;e=f.createOperation("destroy",g);return e.execute()},onBatchOperationComplete:function(e,d){return this.onProxyWrite(d)},onBatchComplete:function(n,j){var k=this,o=n.operations,l=o.length,m;if(k.batchUpdateMode!=="operation"){k.suspendEvents();for(m=0;m<l;m++){k.onProxyWrite(o[m])}k.resumeEvents()}k.isSyncing=false;k.fireEvent("datachanged",k)},onBatchException:function(e,d){},filterNew:function(c){return c.phantom===true&&c.isValid()},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},getModifiedRecords:function(){return[].concat(this.getNewRecords(),this.getUpdatedRecords())},filterUpdated:function(c){return c.dirty===true&&c.phantom!==true&&c.isValid()},getRemovedRecords:function(){var c=this.getRawRemovedRecords();return c?Ext.Array.clone(c):[]},sync:function(p){var n=this,q={},m=n.getNewRecords(),o=n.getUpdatedRecords(),k=n.getRemovedRecords(),l=false;n.needsSync=false;if(m.length>0){q.create=m;l=true}if(o.length>0){q.update=o;l=true}if(k.length>0){q.destroy=k;l=true}if(l&&n.fireEvent("beforesync",q)!==false){n.isSyncing=true;p=p||{};n.proxy.batch(Ext.apply(p,{operations:q,listeners:n.getBatchListeners()}))}return n},getBatchListeners:function(){var e=this,d={scope:e,exception:e.onBatchException,complete:e.onBatchComplete};if(e.batchUpdateMode==="operation"){d.operationcomplete=e.onBatchOperationComplete}return d},save:function(){return this.sync.apply(this,arguments)},load:function(d){var e=this;if(typeof d==="function"){d={callback:d}}else{d=d?Ext.Object.chain(d):{}}e.pendingLoadOptions=d;if(e.getAsynchronousLoad()){if(!e.loadTimer){e.loadTimer=Ext.asap(e.flushLoad,e)}}else{e.flushLoad()}return e},flushLoad:function(){var f=this,g=f.pendingLoadOptions,e;f.clearLoadTask();if(!g){return}f.setLoadOptions(g);if(f.getRemoteSort()&&g.sorters){f.fireEvent("beforesort",f,g.sorters)}e=Ext.apply({internalScope:f,internalCallback:f.onProxyLoad,scope:f},g);f.lastOptions=e;e=f.createOperation("read",e);if(f.fireEvent("beforeload",f,e)!==false){f.onBeforeLoad(e);f.loading=true;e.execute()}},reload:function(c){return this.load(Ext.apply({},c,this.lastOptions))},onEndUpdate:function(){var c=this;if(c.needsSync&&c.autoSync&&!c.autoSyncSuspended){c.sync()}},afterReject:function(d){var e=this;if(e.contains(d)){e.onUpdate(d,Ext.data.Model.REJECT,null);e.fireEvent("update",e,d,Ext.data.Model.REJECT,null)}},afterCommit:function(e,f){var g=this;if(!f){f=null}if(g.contains(e)){g.onUpdate(e,Ext.data.Model.COMMIT,f);g.fireEvent("update",g,e,Ext.data.Model.COMMIT,f)}},afterErase:function(c){this.onErase(c)},onErase:Ext.emptyFn,onUpdate:Ext.emptyFn,doDestroy:function(){var e=this,d=e.getProxy();e.clearLoadTask();e.getData().destroy();e.data=null;e.setProxy(null);if(d.autoCreated){d.destroy()}e.setModel(null);Ext.data.AbstractStore.prototype.doDestroy.call(this)},hasPendingLoad:function(){return !!this.pendingLoadOptions||this.isLoading()},isLoading:function(){return !!this.loading},isLoaded:function(){return this.loadCount>0},suspendAutoSync:function(){++this.autoSyncSuspended},resumeAutoSync:function(e){var d=this;if(d.autoSyncSuspended&&!--d.autoSyncSuspended){if(e){d.sync()}}},removeAll:Ext.emptyFn,clearData:Ext.emptyFn,privates:{getRawRemovedRecords:function(){return this.removed},onExtraParamsChanged:function(){},clearLoadTask:function(){if(this.loadTimer){Ext.asapCancel(this.loadTimer)}this.pendingLoadOptions=this.loadTimer=null},cleanRemoved:function(){var f=this.getRawRemovedRecords(),e,g;if(f){for(g=0,e=f.length;g<e;++g){f[g].unjoin(this)}f.length=0}},createOperation:function(k,g){var j=this,m=j.getProxy(),l;if(!j.proxyListeners){l={scope:j,destroyable:true,beginprocessresponse:j.beginUpdate,endprocessresponse:j.endUpdate};if(!j.disableMetaChangeEvent){l.metachange=j.onMetaChange}j.proxyListeners=m.on(l)}return m.createOperation(k,g)},createImplicitModel:function(g){var j=this,m={extend:j.implicitModel,statics:{defaultProxy:"memory"}},k,l;if(g){m.fields=g}l=Ext.define(null,m);j.setModel(l);k=j.getProxy();if(k){l.setProxy(k)}else{j.setProxy(l.getProxy())}},loadsSynchronously:function(){return this.getProxy().isSynchronous},onBeforeLoad:Ext.privateFn,removeFromRemoved:function(d){var e=this.getRawRemovedRecords();if(e){Ext.Array.remove(e,d);d.unjoin(this)}},setLoadOptions:function(f){var j=this,k,g;if(j.getRemoteFilter()){k=j.getFilters(false);if(k&&k.getCount()){f.filters=k.getRange()}}if(j.getRemoteSort()){g=j.getSorters(false);if(g&&g.getCount()){f.sorters=g.getRange()}}}}},1,0,0,0,0,0,[Ext.data,"ProxyStore"],0));(Ext.cmd.derive("Ext.data.LocalStore",Ext.Mixin,{mixinConfig:{id:"localstore"},config:{extraKeys:null},applyExtraKeys:function(e){var f,g=this.getData();g.setExtraKeys(e);e=g.getExtraKeys();for(f in e){this[f]=e[f]}},add:function(c){return this.insert(this.getCount(),arguments.length===1?c:arguments)},constructDataCollection:function(){var c=new Ext.util.Collection({rootProperty:"data"});c.addObserver(this);return c},createModel:function(e){var g=this.getSession(),f;if(!e.isModel){f=this.getModel();e=new f(e,g)}return e},createFiltersCollection:function(){return this.getData().getFilters()},createSortersCollection:function(){var c=this.getData().getSorters();c.setSorterConfigure(this.addFieldTransform,this);return c},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionSort:function(){this.onSorterEndUpdate()},onCollectionFilter:function(){this.onFilterEndUpdate()},notifySorterChange:function(){this.getData().onSorterChange()},forceLocalSort:function(){this.getData().onSortChange()},contains:function(c){return this.indexOf(c)>-1},each:function(n,o,l){var m=this.getData(),k,q,p;if(typeof l==="object"){l=l.filtered}if(l===true&&m.filtered){m=m.getSource()}m=m.items.slice(0);k=m.length;for(p=0;p<k;++p){q=m[p];if(n.call(o||q,q,p,k)===false){break}}},collect:function(m,g,j){var l=this,k=l.getData();if(typeof g==="object"){j=g.filtered;g=g.allowNull}if(j===true&&k.filtered){k=k.getSource()}return k.collect(m,"data",g)},getById:function(e){var d=this.getData();if(d.filtered){d=d.getSource()}return d.get(e)||null},getByInternalId:function(e){var f=this.getData(),g;if(f.filtered){if(!f.$hasExtraKeys){g=this.makeInternalKeyCfg();f.setExtraKeys(g);f.$hasExtraKeys=true}f=f.getSource()}if(!f.$hasExtraKeys){f.setExtraKeys(g||this.makeInternalKeyCfg());f.$hasExtraKeys=true}return f.byInternalId.get(e)||null},getDataSource:function(){var c=this.getData();return c.getSource()||c},indexOf:function(c){return this.getData().indexOf(c)},indexOfId:function(c){return this.indexOf(this.getById(c))},insert:function(l,m){var j=this,g,k;if(m){if(!Ext.isIterable(m)){m=[m]}else{m=Ext.Array.clone(m)}g=m.length}if(!g){return[]}for(k=0;k<g;++k){m[k]=j.createModel(m[k])}j.getData().insert(l,m);return m},queryBy:function(g,e){var f=this.getData();return(f.getSource()||f).createFiltered(g,e)},query:function(l,m,k,j,o){var n=this.getData();return(n.getSource()||n).createFiltered(l,m,k,j,o)},first:function(c){return this.getData().first(c)||null},last:function(c){return this.getData().last(c)||null},sum:function(f,e){var g=this.getData();return(e&&this.isGrouped())?g.sumByGroup(f):g.sum(f)},count:function(d){var e=this.getData();return(d&&this.isGrouped())?e.countByGroup():e.count()},min:function(f,e){var g=this.getData();return(e&&this.isGrouped())?g.minByGroup(f):g.min(f)},max:function(f,e){var g=this.getData();return(e&&this.isGrouped())?g.maxByGroup(f):g.max(f)},average:function(f,e){var g=this.getData();return(e&&this.isGrouped())?g.averageByGroup(f):g.average(f)},aggregate:function(q,n,s,p){var r=this,x,u,w,o,v;if(s&&r.isGrouped()){x=r.getGroups().items;u=x.length;w={};for(v=0;v<u;++v){o=x[v];w[o.getGroupKey()]=r.getAggregate(q,n||r,o.items,p)}return w}else{return r.getAggregate(q,n,r.getData().items,p)}},getAggregate:function(m,n,p,l){var q=[],k=p.length,o;for(o=0;o<k;++o){q[o]=p[o].get(l)}return m.call(n||this,p,q)},addObserver:function(d){var e=this.observers;if(!e){this.observers=e=new Ext.util.Collection()}e.add(d)},removeObserver:function(d){var e=this.observers;if(e){e.remove(d)}},callObservers:function(n,q){var m=this.observers,l,r,p,s,o;if(m){r=m.items;if(q){q.unshift(this)}else{q=[this]}for(p=0,l=r.length;p<l;++p){o=r[p];s="onSource"+n;if(o[s]){o[s].apply(o,q)}}}},queryRecordsBy:function(n,o){var l=this.getData(),m=[],k,p,q;l=(l.getSource()||l).items;o=o||this;for(p=0,k=l.length;p<k;++p){q=l[p];if(n.call(o,q)===true){m.push(q)}}return m},queryRecords:function(l,m){var n=this.getData(),o=[],k,p,q;n=(n.getSource()||n).items;for(p=0,k=n.length;p<k;++p){q=n[p];if(q.get(l)===m){o.push(q)}}return o},privates:{isLast:function(c){return c===this.last()},makeInternalKeyCfg:function(){return{byInternalId:{property:"internalId",rootProperty:""}}}}},0,0,0,0,0,0,[Ext.data,"LocalStore"],0));(Ext.cmd.derive("Ext.data.proxy.Server",Ext.data.proxy.Proxy,{alternateClassName:"Ext.data.ServerProxy",isRemote:true,config:{url:"",pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",groupDirectionParam:"groupDir",sortParam:"sort",filterParam:"filter",directionParam:"dir",idParam:"id",simpleSortMode:false,simpleGroupMode:false,noCache:true,cacheString:"_dc",timeout:30000,api:{create:undefined,read:undefined,update:undefined,destroy:undefined},extraParams:{}},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},erase:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(e,g){var f=this.getExtraParams();f[e]=g;this.fireEvent("extraparamschanged",f)},updateExtraParams:function(e,d){this.fireEvent("extraparamschanged",e)},buildRequest:function(k){var m=this,q=Ext.apply({},k.getParams()),l=Ext.applyIf(q,m.getExtraParams()||{}),n,o,p;Ext.applyIf(l,m.getParams(k));o=k.getId();p=m.getIdParam();if(o!==undefined&&l[p]===undefined){l[p]=o}n=new Ext.data.Request({params:l,action:k.getAction(),records:k.getRecords(),url:k.getUrl(),operation:k,proxy:m});n.setUrl(m.buildUrl(n));k.setRequest(n);return n},processResponse:function(n,u,r,s){var p=this,v,q,o,m;if(p.destroying||p.destroyed){return}p.fireEvent("beginprocessresponse",p,s,u);if(n===true){q=p.getReader();if(s.status===204){o=q.getNullResultSet()}else{o=q.read(p.extractResponseData(s),{recordCreator:u.getRecordCreator()})}u.process(o,r,s);v=!u.wasSuccessful()}else{p.setException(u,s);v=true}if(v){p.fireEvent("exception",p,s,u)}else{m=o.getMetadata();if(m){p.onMetaChange(m)}}p.afterRequest(r,n);p.fireEvent("endprocessresponse",p,s,u)},setException:function(e,d){e.setException({status:d.status,statusText:d.statusText,response:d})},extractResponseData:Ext.identityFn,applyEncoding:function(c){return Ext.encode(c)},encodeSorters:function(j,l){var g=[],k=j.length,m;for(m=0;m<k;m++){g[m]=j[m].serialize()}return this.applyEncoding(l?g[0]:g)},encodeFilters:function(j){var g=[],k=j.length,m,l;for(m=0;m<k;m++){l=j[m];l.getFilterFn();if(l.generatedFilterFn){g.push(l.serialize())}}return this.applyEncoding(g)},getParams:function(G){if(!G.isReadOperation){return{}}var A=this,B={},D=G.getGrouper(),U=G.getSorters(),I=G.getFilters(),N=G.getPage(),O=G.getStart(),C=G.getLimit(),K=A.getSimpleSortMode(),R=A.getSimpleGroupMode(),E=A.getPageParam(),Q=A.getStartParam(),T=A.getLimitParam(),S=A.getGroupParam(),J=A.getGroupDirectionParam(),P=A.getSortParam(),F=A.getFilterParam(),H=A.getDirectionParam(),L,M;if(E&&N){B[E]=N}if(Q&&(O||O===0)){B[Q]=O}if(T&&C){B[T]=C}L=S&&D;if(L){if(R){B[S]=D.getProperty();B[J]=D.getDirection()}else{B[S]=A.encodeSorters([D],true)}}if(P&&U&&U.length>0){if(K){M=0;if(U.length>1&&L){M=1}B[P]=U[M].getProperty();B[H]=U[M].getDirection()}else{B[P]=A.encodeSorters(U)}}if(F&&I&&I.length>0){B[F]=A.encodeFilters(I)}return B},buildUrl:function(f){var g=this,e=g.getUrl(f);if(g.getNoCache()){e=Ext.urlAppend(e,Ext.String.format("{0}={1}",g.getCacheString(),Ext.Date.now()))}return e},getUrl:function(e){var d;if(e){d=e.getUrl()||this.getApi()[e.getAction()]}return d?d:(arguments.callee.$previous||Ext.data.proxy.Proxy.prototype.getUrl).call(this)},doRequest:function(c){},afterRequest:Ext.emptyFn,destroy:function(){var c=this;c.destroying=true;c.reader=c.writer=Ext.destroy(c.reader,c.writer);Ext.data.proxy.Proxy.prototype.destroy.call(this);c.destroying=false;c.destroyed=true}},0,0,0,0,["proxy.server"],0,[Ext.data.proxy,"Server",Ext.data,"ServerProxy"],0));(Ext.cmd.derive("Ext.data.proxy.Ajax",Ext.data.proxy.Server,{alternateClassName:["Ext.data.HttpProxy","Ext.data.AjaxProxy"],isAjaxProxy:true,defaultActionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},config:{binary:false,headers:undefined,paramsAsJson:false,withCredentials:false,useDefaultXhrHeader:true,username:null,password:null,actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"}},doRequest:function(k){var o=this,n=o.getWriter(),p=o.buildRequest(k),l=o.getMethod(p),q,m;if(n&&k.allowWrite()){p=n.write(p)}p.setConfig({binary:o.getBinary(),headers:o.getHeaders(),timeout:o.getTimeout(),scope:o,callback:o.createRequestCallback(p,k),method:l,useDefaultXhrHeader:o.getUseDefaultXhrHeader(),disableCaching:false});if(l.toUpperCase()!=="GET"&&o.getParamsAsJson()){m=p.getParams();if(m){q=p.getJsonData();if(q){q=Ext.Object.merge({},q,m)}else{q=m}p.setJsonData(q);p.setParams(undefined)}}if(o.getWithCredentials()){p.setWithCredentials(true);p.setUsername(o.getUsername());p.setPassword(o.getPassword())}return o.sendRequest(p)},sendRequest:function(c){c.setRawRequest(Ext.Ajax.request(c.getCurrentConfig()));this.lastRequest=c;return c},abort:function(c){c=c||this.lastRequest;if(c){Ext.Ajax.abort(c.getRawRequest())}},getMethod:function(f){var j=this.getActionMethods(),k=f.getAction(),g;if(j){g=j[k]}return g||this.defaultActionMethods[k]},createRequestCallback:function(f,e){var g=this;return function(c,b,d){if(f===g.lastRequest){g.lastRequest=null}g.processResponse(b,e,f,d)}},destroy:function(){this.lastRequest=null;Ext.data.proxy.Server.prototype.destroy.call(this)}},0,0,0,0,["proxy.ajax"],0,[Ext.data.proxy,"Ajax",Ext.data,"HttpProxy",Ext.data,"AjaxProxy"],0));(Ext.cmd.derive("Ext.data.reader.Json",Ext.data.reader.Reader,{alternateClassName:"Ext.data.JsonReader",config:{record:null,metaProperty:"metaData",useSimpleAccessors:false,preserveRawData:false},updateRootProperty:function(){this.forceBuildExtractors()},updateMetaProperty:function(){this.forceBuildExtractors()},getResponseData:function(e){var g;try{return Ext.decode(e.responseText)}catch(f){g=this.createReadError(f.message);Ext.Logger.warn("Unable to parse the JSON returned by the server");this.fireEvent("exception",this,e,g);return g}},buildExtractors:function(){var f=this,e,g;if(Ext.data.reader.Reader.prototype.buildExtractors.apply(this,arguments)){e=f.getMetaProperty();g=f.getRootProperty();if(g){f.getRoot=f.getAccessor(g)}else{f.getRoot=Ext.identityFn}if(e){f.getMeta=f.getAccessor(e)}}},extractData:function(j,l){var k=this.getRecord(),m=[],n,o;if(k){n=j.length;if(!n&&Ext.isObject(j)){n=1;j=[j]}for(o=0;o<n;o++){m[o]=j[o][k]}}else{m=j}return Ext.data.reader.Reader.prototype.extractData.call(this,m,l)},getModelData:function(c){return this.getPreserveRawData()?Ext.apply({},c):c},createAccessor:(function(){var c=/[\[\.]/;return function(N){var A=this,J=A.getUseSimpleAccessors(),H,K,D,G,I,b,L,x,y,C,B,F,M,E;if(!(N||N===0)){return}if(typeof N==="function"){return N}if(!J){H=String(N).search(c)}if(J===true||H<0){K=function(d){return d[N]}}else{D="raw";G=[];I="";b=0;E=N.length;for(F=0;F<=E;++F){B=N[F];L=B===".";x=B==="[";y=B==="]";C=L||x||y||!B;if(!C||b>1||(b&&!y)){I+=B}else{if(C){M=false;if(x){++b}else{if(y){--b;M=true}}if(I){if(M){I="["+I+"]"}else{I="."+I}D+=I;G.push(""+D);I=""}}}}K=G.join(" && ");K=Ext.functionFactory("raw","return "+K)}return K}}()),createFieldAccessor:function(j){var m=this,g=j.mapping,l=g||g===0,k=l?g:j.name;if(l){if(typeof k==="function"){return function(b){return j.mapping(b,m)}}else{return m.createAccessor(k)}}},getAccessorKey:function(e){var d=this.getUseSimpleAccessors()?"simple":"";return this.$className+d+e},privates:{copyFrom:function(c){Ext.data.reader.Reader.prototype.copyFrom.call(this,c);this.getRoot=c.getRoot}}},0,0,0,0,["reader.json"],0,[Ext.data.reader,"Json",Ext.data,"JsonReader"],0));(Ext.cmd.derive("Ext.data.writer.Json",Ext.data.writer.Writer,{alternateClassName:"Ext.data.JsonWriter",config:{rootProperty:undefined,encode:false,allowSingle:true,expandData:false},getExpandedData:function(r){var u=r.length,q=0,n,v,p,s,o,j=function(b,d){var c={};c[b]=d;return c};for(;q<u;q++){n=r[q];for(v in n){if(n.hasOwnProperty(v)){p=v.split(".");s=p.length-1;if(s>0){o=n[v];for(;s>0;s--){o=j(p[s],o)}n[p[0]]=n[p[0]]||{};Ext.Object.merge(n[p[0]],o);delete n[v]}}}}return r},writeRecords:function(n,m){var o=this,k=o.getRootProperty(),p,l,q;if(o.getExpandData()){m=o.getExpandedData(m)}if(o.getAllowSingle()&&m.length===1){m=m[0];l=true}q=this.getTransform();if(q){m=q(m,n)}if(o.getEncode()){if(k){n.setParam(k,Ext.encode(m))}else{}}else{if(l||(m&&m.length)){p=n.getJsonData()||{};if(k){p[k]=m}else{p=m}n.setJsonData(p)}}return n}},0,0,0,0,["writer.json"],0,[Ext.data.writer,"Json",Ext.data,"JsonWriter"],0));(Ext.cmd.derive("Ext.util.Group",Ext.util.Collection,{config:{groupKey:null},$endUpdatePriority:2001,manageSorters:false},0,0,0,0,0,0,[Ext.util,"Group"],0));(Ext.cmd.derive("Ext.util.SorterCollection",Ext.util.Collection,{isSorterCollection:true,$sortable:null,sortFn:null,config:{sorterOptionsFn:null,sorterOptionsScope:null},constructor:function(d){var e=this;e.sortFn=Ext.util.Sorter.createComparator(e);Ext.util.Collection.prototype.constructor.call(this,d);e.setDecoder(e.decodeSorter)},addSort:function(q,r,x){var s=this,w,v,y,o,A,p,u;if(!q){s.beginUpdate();s.endUpdate()}else{o=s.getOptions();if(q instanceof Array){u=q;x=r;r=null}else{if(Ext.isString(q)){if(!(p=s.get(q))){u=[{property:q,direction:r||o.getDefaultSortDirection()}]}else{u=[p]}}else{if(Ext.isFunction(q)){u=[{sorterFn:q,direction:r||o.getDefaultSortDirection()}]}else{u=[q];x=r;r=null}}}x=s._sortModes[x||"replace"];A=s.getAt(0);w=s.length;v=x.append?w:0;s.beginUpdate();s.splice(v,x.replace?w:0,u);if(x.multi){w=s.length;y=o.getMultiSortLimit();if(w>y){s.removeAt(y,w)}}if(p&&r){p.setDirection(r)}else{if(v===0&&A&&A===s.getAt(0)){A.toggle()}}s.endUpdate()}},clear:function(){this.beginUpdate();Ext.util.Collection.prototype.clear.call(this);this.endUpdate(this.items)},getSortFn:function(){return this.sortFn},getByProperty:function(j){var m=this.items,g=m.length,l,k;for(l=0;l<g;++l){k=m[l];if(k.getProperty()===j){return k}}return null},_sortModes:{append:{append:1},multi:{multi:1},prepend:{prepend:1},replace:{replace:1}},decodeSorter:function(n,v){var p=this,m=p.getOptions(),o=m.getRootProperty(),u=p.getSorterOptionsFn(),s,q,r;if(n.isSorter){if(!n.getRoot()){n.setRoot(o)}}else{q={direction:m.getDefaultSortDirection(),root:o};r=typeof n;if(r==="string"){s=p.get(n);if(s){return s}q.property=n}else{if(r==="function"){q.sorterFn=n}else{q=Ext.apply(q,n);if(q.fn){q.sorterFn=q.fn;delete q.fn}}}n=Ext.create(v||"Ext.util.Sorter",q)}if(u){u.call(p.getSorterOptionsScope()||p,n)}return n},setSorterConfigure:function(e,d){this.setSorterOptionsFn(e);this.setSorterOptionsScope(d)},decodeRemoveItems:function(v,y){var s=this,x=(y===undefined)?v:v[y];if(!x||!x.$cloned){if(v.length>y+1||!Ext.isIterable(x)){x=Ext.Array.slice(v,y)}var r=s.items,w=x.length,A=[],B,q,C,n,u;for(B=0;B<w;B++){n=x[B];if(n&&n.isSorter){A.push(n)}else{u=typeof n;if(u==="string"){n=s.get(n);if(n){A.push(n)}}else{if(u==="function"){for(C=r.length;C-->0;){q=r[C];if(q.getSorterFn()===n){A.push(q)}}}}}}x=A;x.$cloned=true}return x},getOptions:function(){return this.$sortable||this}},1,0,0,0,0,0,[Ext.util,"SorterCollection"],0));(Ext.cmd.derive("Ext.util.FilterCollection",Ext.util.Collection,{isFilterCollection:true,$filterable:null,filterFn:null,constructor:function(d){var e=this;e.filterFn=Ext.util.Filter.createFilterFn(e);Ext.util.Collection.prototype.constructor.call(this,d);e.setDecoder(e.decodeFilter)},filterData:function(c){return this.filtered?Ext.Array.filter(c,this.filterFn):c},getFilterFn:function(){return this.filterFn},isItemFiltered:function(c){return !this.filterFn(c)},decodeFilter:function(j){var k=this.getOptions(),f=k.getRootProperty(),g;if(j.isFilter){if(!j.getRoot()){j.setRoot(f)}}else{g={root:f};if(Ext.isFunction(j)){g.filterFn=j}else{g=Ext.apply(g,j);if(g.fn){g.filterFn=g.fn;delete g.fn}if(Ext.util.Filter.isInvalid(g)){return false}}j=new Ext.util.Filter(g)}return j},decodeRemoveItems:function(v,A){var K=this,y=(A===undefined)?v:v[A];if(!y.$cloned){if(v.length>A+1||!Ext.isIterable(y)){y=Ext.Array.slice(v,A)}var E=K.items,w=y.length,C=[],H,D,G,x,I,J,B,F,n;for(D=0;D<w;D++){H=y[D];if(H&&H.isFilter){C.push(H)}else{n=typeof H;G=n==="function";x=H.property!==undefined&&H.value!==undefined;I=n==="string";for(F=E.length;F-->0;){J=E[F];B=false;if(I){B=J.getProperty()===H}else{if(G){B=J.getFilterFn()===H}else{if(x){B=J.getProperty()===H.property&&J.getValue()===H.value}}}if(B){C.push(J)}}}}y=C;y.$cloned=true}return y},getOptions:function(){return this.$filterable||this}},1,0,0,0,0,0,[Ext.util,"FilterCollection"],0));(Ext.cmd.derive("Ext.util.GroupCollection",Ext.util.Collection,{isGroupCollection:true,config:{grouper:null,itemRoot:null},observerPriority:-100,constructor:function(c){Ext.util.Collection.prototype.constructor.call(this,c);this.on("remove","onGroupRemove",this)},onCollectionAdd:function(e,d){this.addItemsToGroups(e,d.items,d.at)},onCollectionBeforeItemChange:function(e,d){this.changeDetails=d},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(f,e){var g=e.item;if(!e.indexChanged){this.syncItemGrouping(f,g,f.getKey(g),e.oldKey,e.oldIndex)}this.changeDetails=null},onCollectionRefresh:function(c){this.removeAll();this.addItemsToGroups(c,c.items)},onCollectionRemove:function(A,y){var s=this,p=s.changeDetails,u,r,q,v,x,w,n;if(p){n=p.item;q=s.findGroupForItem(n);u=[];if(q){u.push({group:q,items:[n]})}}else{u=s.groupItems(A,y.items,false)}for(v=0,x=u.length;v<x;++v){q=(r=u[v]).group;if(q){q.remove(r.items);if(!q.length){(w||(w=[])).push(q)}}}if(w){s.remove(w)}},onCollectionSort:function(n){var o=this,l=n.getSorters(false),k,p,q,m;if(l){k=o.items;p=o.length;for(q=0;q<p;++q){m=k[q];if(m.getSorters()!==l){m.setSorters(l)}}}},onCollectionUpdateKey:function(g,k){var f=k.index,j=k.item;if(!k.indexChanged){f=g.indexOf(j);this.syncItemGrouping(g,j,k.newKey,k.oldKey,f)}},addItemsToGroups:function(f,g,e){this.groupItems(f,g,true,e)},groupItems:function(G,I,D,J){var x=this,F={},K=[],H=G.getGrouper(),O=x.itemGroupKeys,M,N,L,B,E,y,A,C,w;for(E=0,C=I.length;E<C;++E){B=H.getGroupString(y=I[E]);A=G.getKey(y);if(D){(O||(x.itemGroupKeys=O={}))[A]=B}else{if(O){delete O[A]}}if(!(N=F[B])){if(!(L=x.getByKey(B))&&D){(w||(w=[])).push(L=x.createGroup(G,B))}K.push(F[B]=N={group:L,items:[]})}N.items.push(y)}if(D&&x.length>1&&J){M=G.indexOf(K[0].group.getAt(0));J=Math.max(J-M,0)}for(E=0,C=K.length;E<C;++E){N=K[E];N.group.insert(J!=null?J:L.items.length,N.items)}if(w){x.add(w)}return K},syncItemGrouping:function(K,M,F,C,J){var x=this,B=x.itemGroupKeys||(x.itemGroupKeys={}),I=K.getGrouper(),L=I.getGroupString(M),E=0,y=-1,w=F,A,v,G,D,H;if(C||C===0){D=B[C];delete B[C];w=C}else{D=B[F]}B[F]=L;if(!(v=x.get(L))){v=x.createGroup(K,L);A=[v]}if(v.get(w)!==M){if(v.getCount()>0&&K.getSorters().getCount()===0){H=K.indexOf(v.items[0]);if(J<H){y=0}else{y=J-H}}if(y===-1){v.add(M)}else{v.insert(y,M)}}else{v.itemChanged(M,null,C)}if(L!==D&&(D===0||D)){G=x.get(D);if(G){G.remove(M);if(!G.length){E=[G]}}}if(A){x.splice(0,E,A)}else{if(E){x.splice(0,E)}}},createGroup:function(g,e){var f=new Ext.util.Group({groupKey:e,rootProperty:this.getItemRoot(),sorters:g.getSorters()});return f},getKey:function(c){return c.getGroupKey()},createSortFn:function(){var f=this,e=f.getGrouper(),g=f.getSorters().getSortFn();if(!e){return g}return function(c,b){return e.sort(c.items[0],b.items[0])||g(c,b)}},updateGrouper:function(d){var e=this;e.grouped=!!(d&&e.$groupable.getAutoGroup());e.onSorterChange();e.onEndUpdateSorters(e.getSorters())},destroy:function(){this.$groupable=null;this.destroyGroups(this.items);Ext.util.Collection.prototype.destroy.call(this)},privates:{destroyGroups:function(g){var e=g.length,f;for(f=0;f<e;++f){g[f].destroy()}},findGroupForItem:function(k){var m=this.items,g=m.length,l,j;for(l=0;l<g;++l){j=m[l];if(j.contains(k)){return j}}},onGroupRemove:function(e,d){this.destroyGroups(d.items)}}},1,0,0,0,0,0,[Ext.util,"GroupCollection"],0));(Ext.cmd.derive("Ext.data.Store",Ext.data.ProxyStore,{config:{data:0,clearRemovedOnLoad:true,clearOnPageLoad:true,associatedEntity:null,role:null,session:null},addRecordsOptions:{addRecords:true},loadCount:0,complete:false,moveMapCount:0,constructor:function(e){var g=this,f;if(e){if(e.buffered){return new Ext.data.BufferedStore(e)}}Ext.data.ProxyStore.prototype.constructor.call(this,e);f=g.inlineData;if(f){delete g.inlineData;g.loadInlineData(f)}},applyData:function(f,e){var g=this;g.getFields();g.getModel();if(f&&f.isCollection){e=f}else{if(!e){e=g.constructDataCollection()}if(f){if(g.isInitializing){g.inlineData=f}else{g.loadData(f)}}}return e},loadInlineData:function(f){var g=this,e=g.getProxy();if(e&&e.isMemoryProxy){e.setData(f);g.suspendEvents();g.read();g.resumeEvents()}else{g.removeAll(true);g.suspendEvents();g.loadData(f);g.resumeEvents()}},onCollectionAdd:function(e,d){this.onCollectionAddItems(e,d.items,d)},onCollectionFilterAdd:function(e,d){this.onCollectionAddItems(e,d)},onCollectionAddItems:function(B,F,G){var w=this,y=F.length,u=G?!G.next:false,A=w.removed,C=w.ignoreCollectionAdd,x=w.getSession(),r=G&&G.replaced,E,v,D,s;for(E=0;E<y;++E){D=F[E];if(x){x.adopt(D)}if(!C){D.join(w);if(A&&A.length){Ext.Array.remove(A,D)}v=v||D.phantom||D.dirty}}if(C){return}if(r){s=[];do{Ext.Array.push(s,r.items);r=r.next}while(r);w.setMoving(s,true)}if(G){if(G.replaced){if(u){w.fireEvent("refresh",w)}}else{w.fireEvent("add",w,F,G.at);if(u){w.fireEvent("datachanged",w)}}}if(s){w.setMoving(s,false)}w.needsSync=w.needsSync||v},onCollectionBeforeItemChange:function(j,k){var g=k.item,l=k.modified||null,m=k.meta;this.fireEvent("beforeupdate",this,g,m,l,k)},onCollectionFilteredItemChange:function(){this.onCollectionItemChange.apply(this,arguments)},onCollectionItemChange:function(k,l){var m=this,j=l.item,n=l.modified||null,o=l.meta;if(m.fireChangeEvent(j)){m.onUpdate(j,o,n,l);m.fireEvent("update",m,j,o,n,l)}},afterChange:function(e,f,g){this.getData().itemChanged(e,f||null,undefined,g)},afterCommit:function(d,e){this.afterChange(d,e,Ext.data.Model.COMMIT)},afterEdit:function(d,e){this.needsSync=this.needsSync||d.dirty;this.afterChange(d,e,Ext.data.Model.EDIT)},afterReject:function(c){this.afterChange(c,null,Ext.data.Model.REJECT)},afterDrop:function(c){this.getData().remove(c)},afterErase:function(c){this.removeFromRemoved(c)},addSorted:function(g){var l=this,j=l.getRemoteSort(),k=l.getData(),m;if(j){k.setSorters(l.getSorters())}m=k.findInsertionIndex(g);if(j){k.setSorters(null)}return l.insert(m,g)},remove:function(u,m,o){var n=this,s=n.getDataSource(),p,r,v,q;if(u){if(u.isModel){if(s.indexOf(u)>-1){v=[u];p=1}else{p=0}}else{v=[];for(r=0,p=u.length;r<p;++r){q=u[r];if(q&&q.isEntity){if(!s.contains(q)){continue}}else{if(!(q=s.getAt(q))){continue}}v.push(q)}p=v.length}}if(!p){return[]}n.removeIsMove=m===true;n.removeIsSilent=o;s.remove(v);n.removeIsSilent=false;return v},onCollectionRemove:function(A,G){var u=this,y=u.removed,E=G.items,w=E.length,x=G.at,F=G.replacement,r=u.removeIsMove||(F&&Ext.Array.equals(E,F.items)),v=u.removeIsSilent,s=!G.next,C=u.getDataSource(),D,B;if(u.ignoreCollectionRemove){return}if(F){u.setMoving(F.items,true)}for(D=0;D<w;++D){B=E[D];if(!C.contains(B)){if(y&&!r&&!B.phantom&&!B.erasing){B.removedFrom=x+D;y.push(B);u.needsSync=true}else{B.unjoin(u)}}}if(!v){if(!F||!F.items.length){u.fireEvent("remove",u,E,x,r);if(s){u.fireEvent("datachanged",u)}}}if(F){u.setMoving(F.items,false)}},onFilterEndUpdate:function(){var c=this;if(c.destroying||c.destroyed){return}Ext.data.ProxyStore.prototype.onFilterEndUpdate.apply(this,arguments);c.callObservers("Filter")},removeAt:function(e,g){var f=this.getData();e=Math.max(e,0);if(e<f.length){if(arguments.length===1){g=1}else{if(!g){return}}f.removeAt(e,g)}},removeAll:function(m){var l=this,k=l.getData(),j=l.hasListeners.clear,g=k.getRange();if(k.length){l.removeIsSilent=true;l.callObservers("BeforeRemoveAll");k.removeAll();l.removeIsSilent=false;if(!m){l.fireEvent("clear",l,g);l.fireEvent("datachanged",l)}l.callObservers("AfterRemoveAll",[!!m])}return g},setRecords:function(d){var e=this.getCount();++this.loadCount;if(e){this.getData().splice(0,e,d)}else{this.add(d)}},splice:function(e,f,g){return this.getData().splice(e,f,g)},onProxyLoad:function(m){var k=this,l=m.getResultSet(),g=m.getRecords(),j=m.wasSuccessful();if(k.destroyed){return}if(l){k.totalCount=l.getTotal()}if(j){g=k.processAssociation(g);k.loadRecords(g,m.getAddRecords()?{addRecords:true}:undefined)}else{k.loading=false}if(k.hasListeners.load){k.fireEvent("load",k,g,j,m)}k.callObservers("AfterLoad",[g,j,m])},filterDataSource:function(l){var k=this.getDataSource(),o=k.items,j=o.length,n=[],m;for(m=0;m<j;m++){if(l.call(k,o[m])){n.push(o[m])}}return n},getNewRecords:function(){return this.filterDataSource(this.filterNew)},getRejectRecords:function(){return this.filterDataSource(this.filterRejects)},getUpdatedRecords:function(){return this.filterDataSource(this.filterUpdated)},loadData:function(k,j){var l=this,m=k.length,n=[],o;for(o=0;o<m;o++){n.push(l.createModel(k[o]))}n=l.processAssociation(n);l.loadRecords(n,j?l.addRecordsOptions:undefined)},loadRawData:function(n,q){var o=this,m=o.getSession(),k=o.getProxy().getReader().read(n,m?{recordCreator:m.recordCreator}:undefined),p=k.getRecords(),l=k.getSuccess();if(l){o.totalCount=k.getTotal();o.loadRecords(p,q?o.addRecordsOptions:undefined)}return l},loadRecords:function(l,r){var n=this,o=l.length,m=n.getData(),p,q,s;if(r){p=r.addRecords}if(!n.getRemoteSort()&&!n.getSortOnLoad()){s=true;m.setAutoSort(false)}if(!p){n.clearData(true)}n.loading=false;n.ignoreCollectionAdd=true;n.callObservers("BeforePopulate");m.add(l);n.ignoreCollectionAdd=false;if(s){m.setAutoSort(true)}for(q=0;q<o;q++){l[q].join(n)}++n.loadCount;n.complete=true;if(n.hasListeners.datachanged){n.fireEvent("datachanged",n)}if(n.hasListeners.refresh){n.fireEvent("refresh",n)}n.callObservers("AfterPopulate")},loadPage:function(g,f){var j=this,k=j.getPageSize();j.currentPage=g;f=Ext.apply({page:g,start:(g-1)*k,limit:k,addRecords:!j.getClearOnPageLoad()},f);j.read(f)},nextPage:function(c){this.loadPage(this.currentPage+1,c)},previousPage:function(c){this.loadPage(this.currentPage-1,c)},clearData:function(v){var o=this,q=o.removed,u=o.getDataSource(),p=o.getClearRemovedOnLoad(),n=q&&v&&!p,x,s,w,r;if(u){x=u.items;for(w=0,r=x.length;w<r;++w){s=x[w];if(n&&Ext.Array.contains(q,s)){continue}s.unjoin(o)}o.ignoreCollectionRemove=true;o.callObservers("BeforeClear");u.removeAll();o.ignoreCollectionRemove=false;o.callObservers("AfterClear")}if(q&&(!v||p)){q.length=0}},onIdChanged:function(f,g,e){this.getData().updateKey(f,g);this.fireEvent("idchanged",this,f,g,e)},commitChanges:function(){var j=this,g=j.getModifiedRecords(),f=g.length,k=0;Ext.suspendLayouts();j.beginUpdate();for(;k<f;k++){g[k].commit()}j.cleanRemoved();j.endUpdate();Ext.resumeLayouts(true)},filterNewOnly:function(c){return c.phantom===true},filterRejects:function(c){return c.phantom||c.dirty},rejectChanges:function(){var n=this,m=n.getRejectRecords(),p=m.length,r,u,v,o,s,q;Ext.suspendLayouts();n.beginUpdate();for(r=0;r<p;r++){u=m[r];if(u.phantom){v=v||[];v.push(u)}else{u.reject()}}if(v){n.remove(v);for(r=0,p=v.length;r<p;++r){v[r].reject()}}m=n.getRawRemovedRecords();if(m){p=m.length;o=!n.getRemoteSort()&&n.isSorted();if(o){s=n.getData();q=s.getAutoSort();s.setAutoSort(false)}for(r=p-1;r>=0;r--){u=m[r];u.reject();if(!o){n.insert(u.removedFrom||0,u)}}if(o){s.setAutoSort(q);n.add(m)}m.length=0}n.endUpdate();Ext.resumeLayouts(true)},doDestroy:function(){var k=this,f=k.loadTask,g=k.getData(),j=g.getSource();k.clearData();k.setSession(null);k.observers=null;if(f){f.cancel();k.loadTask=null}if(j){j.destroy()}Ext.data.ProxyStore.prototype.doDestroy.call(this)},privates:{fetch:function(e){e=Ext.apply({},e);this.setLoadOptions(e);var d=this.createOperation("read",e);d.execute()},fireChangeEvent:function(c){return this.getDataSource().contains(c)},onBeforeLoad:function(c){this.callObservers("BeforeLoad",[c])},onRemoteFilterSet:function(d,e){if(d){this.getData().setFilters(e?null:d)}Ext.data.ProxyStore.prototype.onRemoteFilterSet.call(this,d,e)},onRemoteSortSet:function(g,f){var e=this.getData();if(g){e.setSorters(f?null:g)}e.setAutoGroup(!f);Ext.data.ProxyStore.prototype.onRemoteSortSet.call(this,g,f)},isMoving:function(n,l){var k=this.moveMap,o=0,j,m;if(k){if(n){if(Ext.isArray(n)){for(m=0,j=n.length;m<j;++m){o+=k[n[m].id]?1:0}}else{if(k[n.id]){++o}}}else{o=l?k:this.moveMapCount}}return o},setLoadOptions:function(l){var k=this,g=k.getPageSize(),j,m;if(k.getRemoteSort()&&!l.grouper){m=k.getGrouper();if(m){l.grouper=m}}if(g||"start" in l||"limit" in l||"page" in l){l.page=l.page!=null?l.page:k.currentPage;l.start=(l.start!==undefined)?l.start:(l.page-1)*g;l.limit=l.limit!=null?l.limit:g;k.currentPage=l.page}l.addRecords=l.addRecords||false;if(!l.recordCreator){j=k.getSession();if(j){l.recordCreator=j.recordCreator}}Ext.data.ProxyStore.prototype.setLoadOptions.call(this,l)},setMoving:function(q,m){var o=this,n=o.moveMap||(o.moveMap={}),k=q.length,p,l;for(p=0;p<k;++p){l=q[p].id;if(m){if(n[l]){++n[l]}else{n[l]=1;++o.moveMapCount}}else{if(--n[l]===0){delete n[l];--o.moveMapCount}}}if(o.moveMapCount===0){o.moveMap=null}},processAssociation:function(e){var f=this,g=f.getAssociatedEntity();if(g){e=f.getRole().processLoad(f,g,e,f.getSession())}return e}}},1,0,0,0,["store.store"],[[Ext.data.LocalStore.prototype.mixinId||Ext.data.LocalStore.$className,Ext.data.LocalStore]],[Ext.data,"Store"],0));Ext.define("Ext.overrides.data.Store",{override:"Ext.data.Store",autoLoad:false,config:{extraParams:{}},setParams:function(g){var e=this,f=e.getExtraParams();e.setExtraParams(Ext.Object.merge(f,g));return e}});(Ext.cmd.derive("Ext.data.reader.Array",Ext.data.reader.Json,{alternateClassName:"Ext.data.ArrayReader",config:{totalProperty:undefined,successProperty:undefined},createFieldAccessor:function(g){var k=g.mapping,j=g.hasMapping()?k:g.ordinal,f;g.mapping=j;f=Ext.data.reader.Json.prototype.createFieldAccessor.apply(this,arguments);g.mapping=k;return f},getModelData:function(c){return{}}},0,0,0,0,["reader.array"],0,[Ext.data.reader,"Array",Ext.data,"ArrayReader"],0));(Ext.cmd.derive("Ext.data.ArrayStore",Ext.data.Store,{alternateClassName:["Ext.data.SimpleStore"],config:{proxy:{type:"memory",reader:"array"}},loadData:function(j,g){if(this.expandData){var k=[],m=0,l=j.length;for(;m<l;m++){k[k.length]=[j[m]]}j=k}Ext.data.Store.prototype.loadData.call(this,j,g)}},0,0,0,0,["store.array"],0,[Ext.data,"ArrayStore",Ext.data,"SimpleStore"],0));(Ext.cmd.derive("Ext.data.StoreManager",Ext.util.MixedCollection,{alternateClassName:["Ext.StoreMgr","Ext.data.StoreMgr","Ext.StoreManager"],singleton:true,register:function(){for(var d=0,e;(e=arguments[d]);d++){this.add(e)}},unregister:function(){for(var d=0,e;(e=arguments[d]);d++){this.remove(this.lookup(e))}},lookup:function(p,l){if(Ext.isArray(p)){var q=["field1"],n=!Ext.isArray(p[0]),m=p,o,k;if(n){m=[];for(o=0,k=p.length;o<k;++o){m.push([p[o]])}}else{for(o=2,k=p[0].length;o<=k;++o){q.push("field"+o)}}return new Ext.data.ArrayStore({data:m,fields:q,autoDestroy:true,autoCreated:true,expanded:n})}if(Ext.isString(p)){return this.get(p)}else{return Ext.Factory.store(p,l)}},getKey:function(c){return c.storeId},addEmptyStore:function(){var c=Ext.regStore("ext-empty-store",{proxy:"memory",useModelWarning:false});c.isEmptyStore=true;this.add(c)},clear:function(){this.callParent();this.addEmptyStore()}},0,0,0,0,0,0,[Ext.data,"StoreManager",Ext,"StoreMgr",Ext.data,"StoreMgr",Ext,"StoreManager"],function(){Ext.regStore=function(f,g){var e;if(Ext.isObject(f)){g=f}else{if(Ext.data.StoreManager.containsKey(f)){return Ext.data.StoreManager.lookup(f)}g.storeId=f}if(g instanceof Ext.data.Store){e=g}else{e=new Ext.data.Store(g)}Ext.data.StoreManager.register(e);return e};Ext.getStore=function(c){return Ext.data.StoreManager.lookup(c)};Ext.data.StoreManager.addEmptyStore()}));(Ext.cmd.derive("Ext.app.domain.Store",Ext.app.EventDomain,{singleton:true,type:"store",prefix:"store.",idMatchRe:/^\#/,constructor:function(){var c=this;c.callParent();c.monitor(Ext.data.AbstractStore)},match:function(g,k){var f=false,j=g.alias;if(k==="*"){f=true}else{if(this.idMatchRe.test(k)){f=g.getStoreId()===k.substring(1)}else{if(j){f=Ext.Array.indexOf(j,this.prefix+k)>-1}}}return f}},1,0,0,0,0,0,[Ext.app.domain,"Store"],0));(Ext.cmd.derive("Ext.app.route.Queue",Ext.Base,{queue:null,token:null,constructor:function(c){Ext.apply(this,c);this.queue=new Ext.util.MixedCollection()},queueAction:function(d,e){this.queue.add({route:d,args:e})},clearQueue:function(){this.queue.removeAll()},runQueue:function(){var e=this.queue,f=e.removeAt(0),g;if(f){g=f&&f.route;g.execute(this.token,f.args,this.onActionExecute,this)}},onActionExecute:function(c){if(c){this.clearQueue()}else{this.runQueue()}}},1,0,0,0,0,0,[Ext.app.route,"Queue"],0));(Ext.cmd.derive("Ext.app.route.Route",Ext.Base,{action:null,conditions:null,controller:null,allowInactive:false,url:null,before:null,caseInsensitive:false,matcherRegex:null,paramMatchingRegex:null,paramsInMatchString:null,constructor:function(g){var f=this,e;Ext.apply(f,g,{conditions:{}});e=f.url;f.paramMatchingRegex=new RegExp(/:([0-9A-Za-z\_]*)/g);f.paramsInMatchString=e.match(f.paramMatchingRegex)||[];f.matcherRegex=f.createMatcherRegex(e)},recognize:function(l){var k=this,g=k.controller,j,m;if((k.allowInactive||g.isActive())&&k.recognizes(l)){j=k.matchesFor(l);m=l.match(k.matcherRegex);m.shift();return Ext.applyIf(j,{controller:g,action:k.action,historyUrl:l,args:m})}return false},recognizes:function(c){return this.matcherRegex.test(c)},execute:function(r,n,m,q){var s=n.args||[],o=this.before,l=this.controller,p=this.createCallback(n,m,q);if(o){s.push(p);if(Ext.isString(o)){o=this.before=l[o]}if(o){o.apply(l,s)}}else{p.resume()}},matchesFor:function(n){var k={},l=this.paramsInMatchString,o=n.match(this.matcherRegex),m=0,j=l.length;o.shift();for(;m<j;m++){k[l[m].replace(":","")]=o[m]}return k},createMatcherRegex:function(x){var v=this.paramsInMatchString,p=this.conditions,u=0,r=v.length,o=Ext.util.Format.format,n=this.caseInsensitive?"i":"",w,q,s;for(;u<r;u++){w=v[u];q=p[w];s=o("{0}",q||"([%a-zA-Z0-9\\-\\_\\s,]+)");x=x.replace(new RegExp(w),s)}return new RegExp("^"+x+"$",n)},createCallback:function(f,g,k){var j=this;k=k||j;return{resume:function(){var d=j.controller,b=j.action,c;if(Ext.isString(b)){b=d[b]}f=f&&f.args?f.args:[];c=f.pop();if(c&&!Ext.isObject(c)){f.push(c)}if(b){j.action=b;b.apply(d,f)}if(g){g.call(k)}},stop:function(b){if(g){g.call(k,b)}}}}},1,0,0,0,0,0,[Ext.app.route,"Route"],0));(Ext.cmd.derive("Ext.util.History",Ext.Base,{singleton:true,alternateClassName:"Ext.History",useTopWindow:false,constructor:function(){var c=this;c.hiddenField=null;c.ready=false;c.currentToken=null;c.mixins.observable.constructor.call(c)},getHash:function(){return this.win.location.hash.substr(1)},setHash:function(e){try{this.win.location.hash=e;this.currentToken=e}catch(d){}},handleStateChange:function(c){this.currentToken=c;this.fireEvent("change",c)},startUp:function(){var c=this;c.currentToken=c.getHash();if(Ext.supports.Hashchange){Ext.get(c.win).on("hashchange",c.onHashChange,c)}else{Ext.TaskManager.start({fireIdleEvent:false,run:c.onHashChange,interval:50,scope:c})}c.ready=true;c.fireEvent("ready",c)},onHashChange:function(){var e=this,d=e.getHash();if(d!==e.hash){e.hash=d;e.handleStateChange(d)}},init:function(f,e){var g=this;if(g.ready){Ext.callback(f,e,[g]);return}if(!Ext.isReady){Ext.onInternalReady(function(){g.init(f,e)});return}g.win=g.useTopWindow?window.top:window;g.hash=g.getHash();if(f){g.on("ready",f,e,{single:true})}g.startUp()},add:function(f,k){var j=this,g=false;if(k===false||j.getToken()!==f){j.setHash(f);g=true}return g},back:function(){var c=this.useTopWindow?window.top:window;c.history.go(-1)},forward:function(){var c=this.useTopWindow?window.top:window;c.history.go(1)},getToken:function(){return this.ready?this.currentToken:this.getHash()}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.util,"History",Ext,"History"],0));(Ext.cmd.derive("Ext.app.route.Router",Ext.Base,{singleton:true,multipleToken:"|",queueRoutes:true,constructor:function(){var c=Ext.util.History;if(!c.ready){c.init()}c.on("change",this.onStateChange,this);this.clear()},onStateChange:function(D){var w=this,E=w.application,u=w.routes,A=u.length,r=w.queueRoutes,x=D.split(w.multipleToken),s=0,F=x.length,C,B,v,y,G;for(;s<F;s++){D=x[s];G=false;if(r){B=new Ext.app.route.Queue({token:D})}for(C=0;C<A;C++){v=u[C];y=v.recognize(D);if(y){G=true;if(r){B.queueAction(v,y)}else{v.execute(D,y)}}}if(r){B.runQueue()}if(!G&&E){E.fireEvent("unmatchedroute",D)}}},connect:function(j,g,f){var k={url:j,action:g,controller:f};if(Ext.isObject(g)){Ext.merge(k,g)}this.routes.push(new Ext.app.route.Route(k))},disconnectAll:function(n){var o=this.routes,j=o.length,l=[],k,m;for(k=0;k<j;++k){m=o[k];if(m.controller!==n){l.push(m)}}this.routes=l},recognize:function(l){var o=this.routes||[],k=0,j=o.length,n,m;for(;k<j;k++){n=o[k];m=n.recognize(l);if(m){return{route:n,args:m}}}return false},draw:function(c){c.call(this,this)},clear:function(){this.routes=[]}},1,0,0,0,0,0,[Ext.app.route,"Router"],0));(Ext.cmd.derive("Ext.app.Controller",Ext.app.BaseController,{statics:{strings:{model:{getter:"getModel",upper:"Model"},view:{getter:"getView",upper:"View"},controller:{getter:"getController",upper:"Controller"},store:{getter:"getStore",upper:"Store"},profile:{getter:"getProfile",upper:"Profiles"}},controllerRegex:/^(.*)\.controller\./,profileRegex:/^(.*)\.profile\./,createGetter:function(d,e){return function(){return this[d](e)}},getGetterName:function(n,j){var m="get",l=n.split("."),k=l.length,o;for(o=0;o<k;o++){m+=Ext.String.capitalize(l[o])}m+=j;return m},resolveNamespace:function(k,m){var l=Ext.app.Controller,n=k.prototype.isProfile?l.profileRegex:l.controllerRegex,o,p,q;o=Ext.getClassName(k);p=m.$namespace||m.namespace||Ext.app.getNamespace(o)||((q=n.exec(o))&&q[1]);return p},processDependencies:function(J,I,E,D,y,G){if(!y||!y.length){return}var x=this,K=x.strings[D],F,j,o,H,C,B,w,A;if(!Ext.isArray(y)){y=[y]}for(C=0,B=y.length;C<B;C++){H=y[C];F=x.getFullName(H,D,E,G);y[C]=j=F.absoluteName;o=F.shortName;I.push(j);w=x.getGetterName(o,K.upper);if(!J[w]){J[w]=A=x.createGetter(K.getter,H)}if(A&&D!=="controller"){A["Ext.app.getter"]=true}}},getFullName:function(p,m,n,o){var k=p,q,l;if((q=p.indexOf("@"))>0){k=p.substring(0,q);l=p.substring(q+1)+"."+k}else{if(p.indexOf(".")>0&&(Ext.ClassManager.isCreated(p)||this.hasRegisteredPrefix(p))){l=p;k=p.replace(n+"."+m+".","")}else{if(n){l=n+"."+m+"."+(o?o+"."+p:p);k=p}else{l=p}}}return{absoluteName:l,shortName:k}},hasRegisteredPrefix:function(e){var f=Ext.ClassManager,g=f.getPrefix(e);return g&&g!==e}},models:null,views:null,stores:null,controllers:null,config:{application:null,refs:null,active:true,moduleClassName:null},onClassExtended:function(k,j,f){var g=f.onBeforeCreated;f.onBeforeCreated=function(o,c){var b=Ext.app.Controller,e=[],n,d;d=o.prototype;n=b.resolveNamespace(o,c);if(n){d.$namespace=n}b.processDependencies(d,e,n,"model",c.models);b.processDependencies(d,e,n,"view",c.views);b.processDependencies(d,e,n,"store",c.stores);b.processDependencies(d,e,n,"controller",c.controllers);Ext.require(e,Ext.Function.pass(g,arguments,this))}},constructor:function(c){this.initAutoGetters();Ext.app.BaseController.prototype.constructor.call(this,c)},normalizeRefs:function(g){var f=this,e=[];if(g){if(Ext.isObject(g)){Ext.Object.each(g,function(c,b){if(Ext.isString(b)){b={selector:b}}b.ref=c;e.push(b)})}else{if(Ext.isArray(g)){e=Ext.Array.merge(e,g)}}}g=f.refs;if(g){f.refs=null;g=f.normalizeRefs(g);if(g){e=Ext.Array.merge(e,g)}}return e},getRefMap:function(){var k=this,n=k._refMap,j,l,m,o;if(!n){j=k.getRefs();n=k._refMap={};if(j){for(o=0,m=j.length;o<m;o++){l=j[o];n[l.ref]=l.selector}}}return n},applyId:function(c){return c||Ext.app.Controller.getFullName(this.$className,"controller",this.$namespace).shortName},applyRefs:function(c){return this.normalizeRefs(Ext.clone(c))},updateRefs:function(c){if(c){this.ref(c)}},initAutoGetters:function(){var g=this.self.prototype,f,e;for(f in g){e=g[f];if(e&&e["Ext.app.getter"]){e.call(this)}}},doInit:function(e){var d=this;if(!d._initialized){d.init(e);d._initialized=true}},finishInit:function(k){var m=this,l=m.controllers,o,n,j;if(m._initialized&&l&&l.length){for(n=0,j=l.length;n<j;n++){o=m.getController(l[n]);o.finishInit(k)}}},init:Ext.emptyFn,onLaunch:Ext.emptyFn,activate:function(){this.setActive(true)},deactivate:function(){this.setActive(false)},isActive:function(){return this.getActive()},ref:function(k){var m=this,q=0,n=k.length,l,o,p;k=Ext.Array.from(k);m.references=m.references||[];for(;q<n;q++){l=k[q];o=l.ref;p="get"+Ext.String.capitalize(o);if(!m[p]){m[p]=Ext.Function.pass(m.getRef,[o,l],m)}m.references.push(o.toLowerCase())}},addRef:function(c){this.ref(c)},getRef:function(m,k,j){var n=this,l=n.refCache||(n.refCache={}),o=l[m];k=k||{};j=j||{};Ext.apply(k,j);if(k.forceCreate){return Ext.ComponentManager.create(k,"component")}if(!o){if(k.selector){l[m]=o=Ext.ComponentQuery.query(k.selector)[0]}if(!o&&k.autoCreate){l[m]=o=Ext.ComponentManager.create(k,"component")}if(o){o.on("destroy",function(){l[m]=null})}}return o},hasRef:function(e){var d=this.references;return d&&Ext.Array.indexOf(d,e.toLowerCase())!==-1},getController:function(e){var d=this.getApplication();if(e===this.getId()){return this}return d&&d.getController(e)},getStore:function(f){var e,g;e=(f.indexOf("@")===-1)?f:f.split("@")[0];g=Ext.StoreManager.get(e);if(!g){f=Ext.app.Controller.getFullName(f,"store",this.$namespace);if(f){g=Ext.create(f.absoluteName,{id:e})}}return g},getModel:function(f){var g=Ext.app.Controller.getFullName(f,"model",this.$namespace),e=Ext.ClassManager.get(g.absoluteName);if(!e){e=Ext.data.schema.Schema.lookupEntity(f)}return e},getProfile:function(c){c=Ext.app.Controller.getFullName(c,"profile",this.$namespace);return c},getView:function(d){var e=Ext.app.Controller.getFullName(d,"view",this.$namespace);return e&&Ext.ClassManager.get(e.absoluteName)},destroy:function(j,o){var m=this,k=m.application,l,n;if(!o&&k){k.unregister(m)}m.application=null;if(j){l=m.refCache;for(n in l){if(l.hasOwnProperty(n)){Ext.destroy(l[n])}}}Ext.app.BaseController.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.app,"Controller"],0));(Ext.cmd.derive("Ext.app.Application",Ext.app.Controller,{isApplication:true,scope:undefined,namespaces:[],paths:null,config:{name:"",appProperty:"app",profiles:[],currentProfile:null,mainView:{$value:null,lazy:true},defaultToken:null,glyphFontFamily:null,quickTips:true},onClassExtended:function(p,v,q){var w=Ext.app.Controller,u=p.prototype,n=[],s,o,x,r;x=v.name||p.superclass.name;if(x){v.$namespace=x;Ext.app.addNamespaces(x)}if(v.namespaces){Ext.app.addNamespaces(v.namespaces)}if(v["paths processed"]){delete v["paths processed"]}else{Ext.app.setupPaths(x,("appFolder" in v)?v.appFolder:p.superclass.appFolder,v.paths)}w.processDependencies(u,n,x,"profile",v.profiles);u.getDependencies(p,v,n);if(n.length){s=q.onBeforeCreated;q.onBeforeCreated=function(d,b){var c=Ext.Array.clone(arguments);Ext.require(n,function(){return s.apply(this,c)})}}},getDependencies:Ext.emptyFn,constructor:function(d){var e=this;Ext.app.route.Router.application=e;Ext.app.Controller.prototype.constructor.call(this,d);e.doInit(e);e.initNamespace();Ext.on("appupdate",e.onAppUpdate,e,{single:true});this.onProfilesReady()},applyId:function(c){return c||this.$className},onAppUpdate:Ext.emptyFn,onProfilesReady:function(){var l=this,o=l.getProfiles(),m=o.length,k,n,j;for(n=0;n<m;n++){j=Ext.create(o[n],{application:l});if(j.isActive()&&!k){k=j;l.setCurrentProfile(k)}}if(k){k.init()}l.initControllers();l.onBeforeLaunch();l.finishInitControllers()},initNamespace:function(){var f=this,e=f.getAppProperty(),g;g=Ext.namespace(f.getName());if(g){g.getApplication=function(){return f};if(e){if(!g[e]){g[e]=f}}}},initControllers:function(){var k=this,j=Ext.Array.from(k.controllers),m=k.getCurrentProfile(),g,l;k.controllers=new Ext.util.MixedCollection();for(g=0,l=j.length;g<l;g++){k.getController(j[g])}if(m){j=m.getControllers();for(g=0,l=j.length;g<l;g++){k.getController(j[g])}}},finishInitControllers:function(){var j=this,g,k,f;g=j.controllers.getRange();for(k=0,f=g.length;k<f;k++){g[k].finishInit(j)}},launch:Ext.emptyFn,onBeforeLaunch:function(){var n=this,r=Ext.util.History,v=n.getDefaultToken(),p=n.getCurrentProfile(),u,o,c,q,s;n.initMainView();if(p){p.launch()}n.launch.call(n.scope||n);n.launched=true;n.fireEvent("launch",n);u=n.controllers.items;c=u.length;for(o=0;o<c;o++){q=u[o];q.onLaunch(n)}if(!r.ready){r.init()}s=r.getToken();if(s||s===v){Ext.app.route.Router.onStateChange(s)}else{if(v){r.add(v)}}if(Ext.Microloader&&Ext.Microloader.appUpdate&&Ext.Microloader.appUpdate.updated){Ext.Microloader.fireAppUpdate()}Ext.defer(Ext.ClassManager.clearNamespaceCache,2000,Ext.ClassManager)},getModuleClassName:function(d,e){return Ext.app.Controller.getFullName(d,e,this.getName()).absoluteName},initMainView:function(){var f=this,g=f.getCurrentProfile(),e;if(g){e=g.getMainView()}if(e){f.setMainView(e)}else{f.getMainView()}},applyMainView:function(e){var d=this.getView(e);return d.create({$initParent:this.viewport})},createController:function(c){return this.getController(c)},destroyController:function(c){if(typeof c==="string"){c=this.getController(c,true)}Ext.destroy(c)},getController:function(w,x){var o=this,v=o.controllers,q,s,r,u,p,c;s=v.get(w);if(!s){c=v.items;for(u=0,r=c.length;u<r;++u){p=c[u];q=p.getModuleClassName();if(q&&q===w){s=p;break}}}if(!s&&!x){q=o.getModuleClassName(w,"controller");s=Ext.create(q,{application:o,moduleClassName:q});v.add(s);if(o._initialized){s.doInit(o)}}return s},unregister:function(c){this.controllers.remove(c)},getApplication:function(){return this},destroy:function(g){var l=this,j=l.controllers,m=Ext.namespace(l.getName()),k=l.getAppProperty();Ext.un("appupdate",l.onAppUpdate,l);Ext.destroy(l.viewport);if(j){j.each(function(b){b.destroy(g,true)})}l.controllers=null;Ext.app.Controller.prototype.destroy.call(this,g,true);if(m&&m[k]===l){delete m[k]}if(Ext.app.route.Router.application===l){Ext.app.route.Router.application=null}if(Ext.app.Application.instance===l){Ext.app.Application.instance=null}},updateGlyphFontFamily:function(c){Ext.setGlyphFontFamily(c)},applyProfiles:function(d){var e=this;return Ext.Array.map(d,function(b){return e.getModuleClassName(b,"profile")})}},1,0,0,0,0,0,[Ext.app,"Application"],0));Ext.application=function(d){var e=function(b){Ext.onReady(function(){var c=Ext.viewport;c=c&&c.Viewport;if(c&&c.setup){c.setup(b.prototype.config.viewport)}Ext.app.Application.instance=new b()})};if(typeof d==="string"){Ext.require(d,function(){e(Ext.ClassManager.get(d))})}else{d=Ext.apply({extend:"Ext.app.Application"},d);Ext.app.setupPaths(d.name,d.appFolder,d.paths);d["paths processed"]=true;Ext.define(d.name+".$application",d,function(){e(this)})}};Ext.define("Ext.overrides.app.Application",{override:"Ext.app.Application",autoCreateViewport:false,config:{enableQuickTips:null},quickTips:true,updateEnableQuickTips:function(c){this.setQuickTips(c)},applyMainView:function(j){var m,k,l,g;if(typeof j==="string"){m=this.getView(j)}else{m=Ext.ClassManager.getByConfig(j)}k=m.prototype;if(!k.isViewport){g=k.plugins;g=["viewport"].concat(g?Ext.Array.from(g,true):[]);l={plugins:g}}return m.create(l)},getDependencies:function(k,m,o){var l=Ext.app.Controller,n=k.prototype,p=m.$namespace,q=m.autoCreateViewport;if(q){if(q===true){q="Viewport"}else{o.push("Ext.plugin.Viewport")}l.processDependencies(n,o,p,"view",q)}},onBeforeLaunch:function(){var e=this,d=e.autoCreateViewport;if(e.getQuickTips()){e.initQuickTips()}if(d){e.initViewport()}this.callParent(arguments)},getViewportName:function(){var d=null,e=this.autoCreateViewport;if(e){d=(e===true)?"Viewport":e}return d},initViewport:function(){this.setMainView(this.getViewportName())},initQuickTips:function(){Ext.tip.QuickTipManager.init()}});Ext.define("Ext.overrides.app.Application",{override:"Ext.app.Application",onAppUpdate:function(){Ext.Msg.confirm("Application Update","This application has an update, reload?",function(c){if(c==="yes"){window.location.reload()}})}});(Ext.cmd.derive("Ext.util.Bag",Ext.Base,{isBag:true,constructor:function(){this.items=[];this.map={}},generation:0,length:0,beginUpdate:Ext.emptyFn,endUpdate:Ext.emptyFn,add:function(n){var r=this,s=r.items,C=r.map,y=1,x,v,q,A,w,u,B;if(Ext.isArray(n)){x=u=[];y=n.length}for(v=0;v<y;v++){A=r.getKey(w=x?n[v]:n);q=C[A];if(q===undefined){s.push(w);C[A]=r.length++;if(x){x.push(w)}else{u=w}}else{B=s[q];if(x){x.push(B)}else{u=B}s[q]=w}}++r.generation;return u},clear:function(){var f=this,g=f.generation||f.length,e=g?f.items:[];if(g){f.items=[];f.length=0;f.map={};++f.generation}return e},clone:function(){var f=this,g=new f.self(),e=f.length;if(e){Ext.apply(g.map,f.map);g.items=f.items.slice();g.length=f.length}return g},contains:function(j){var f=false,g=this.map,k;if(j!=null){k=this.getKey(j);if(k in g){f=this.items[g[k]]===j}}return f},containsKey:function(c){return c in this.map},destroy:function(){this.items=this.map=null;this.callParent()},each:function(k,l){var o=this.items,j=o.length,m,n;if(j){l=l||this;o=o.slice(0);for(m=0;m<j;m++){n=k.call(l,o[m],m,j);if(n===false){break}}}return n},getAt:function(e){var d=null;if(e<this.length){d=this.items[e]}return d},get:function(c){return this.getByKey(c)},getByKey:function(g){var f=this.map,e=(g in f)?this.items[f[g]]:null;return e},indexOfKey:function(g){var f=this.map,e=(g in f)?f[g]:-1;return e},last:function(){return this.items[this.length-1]},updateKey:function(m,k){var g=this,l=g.map,j;if(!m||!k){return}if((j=g.getKey(m))!==k){if(g.getAt(l[k])===m&&!(j in l)){g.generation++;l[j]=l[k];delete l[k]}}},getCount:function(){return this.length},getKey:function(c){return c.id||c.getId()},getRange:function(k,g){var l=this.items,j=l.length,m;if(!j){m=[]}else{m=Ext.Number.clipIndices(j,[k,g]);m=l.slice(m[0],m[1])}return m},remove:function(n){var u=this,E=u.map,v=u.items,w=null,B=1,x,A,y,s,C,r,D;if(Ext.isArray(n)){B=n.length;A=w=[]}if(u.length){for(y=0;y<B;y++){s=E[C=u.getKey(A?n[y]:n)];if(s!==undefined){delete E[C];D=v[s];if(A){A.push(D)}else{w=D}r=v.pop();if(s<--u.length){v[s]=r;E[u.getKey(r)]=s}x=true}}if(x){++u.generation}}return w},removeByKey:function(d){var e=this.getByKey(d);if(e){this.remove(e)}return e||null},replace:function(c){this.add(c);return c},sort:function(m){var k=this,g=k.items,j=g.length,l;if(j){Ext.Array.sort(g,m);k.map={};while(j-->0){l=g[j];k.map[k.getKey(l)]=j}++k.generation}}},1,0,0,0,0,0,[Ext.util,"Bag"],0));(Ext.cmd.derive("Ext.data.Batch",Ext.Base,{config:{pauseOnException:false},current:-1,total:0,running:false,complete:false,exception:false,constructor:function(d){var e=this;e.mixins.observable.constructor.call(e,d);e.operations=[];e.exceptions=[]},add:function(k){var g=this,j,f;if(Ext.isArray(k)){for(j=0,f=k.length;j<f;++j){g.add(k[j])}}else{g.total++;k.setBatch(g);g.operations.push(k)}return g},sort:function(){this.operations.sort(this.sortFn)},sortFn:function(n,j){var o=n.order-j.order;if(o){return o}var k=n.entityType,m=j.entityType,l;if(!k||!m){return 0}if(!(l=k.rank)){k.schema.rankEntities();l=k.rank}return(l-m.rank)*n.foreignKeyDirection},start:function(d){var e=this;if(!e.operations.length||e.running){return e}e.exceptions.length=0;e.exception=false;e.running=true;return e.runOperation(Ext.isDefined(d)?d:e.current+1)},retry:function(){return this.start(this.current)},runNextOperation:function(){var c=this;if(c.running){c.runOperation(c.current+1)}return c},pause:function(){this.running=false;return this},getOperations:function(){return this.operations},getExceptions:function(){return this.exceptions},getCurrent:function(){var d=null,e=this.current;if(!(e===-1||this.complete)){d=this.operations[e]}return d},getTotal:function(){return this.total},isRunning:function(){return this.running},isComplete:function(){return this.complete},hasException:function(){return this.exception},runOperation:function(j){var g=this,k=g.operations,f=k[j];if(f===undefined){g.running=false;g.complete=true;g.fireEvent("complete",g,k[k.length-1])}else{g.current=j;f.setInternalCallback(g.onOperationComplete);f.setInternalScope(g);f.execute()}return g},onOperationComplete:function(e){var f=this,g=e.hasException();if(g){f.exception=true;f.exceptions.push(e);f.fireEvent("exception",f,e)}if(g&&f.getPauseOnException()){f.pause()}else{f.fireEvent("operationcomplete",f,e);f.runNextOperation()}}},1,0,0,0,0,[["observable",Ext.mixin.Observable]],[Ext.data,"Batch"],0));(Ext.cmd.derive("Ext.util.Fly",Ext.Base,{inheritableStatics:{flyPoolSize:2,fly:function(){var f=this,g=f.flyweights||(f.flyweights=[]),e=g.length?g.pop():new f();e.reset.apply(e,arguments);return e}},release:function(){var f=this,g=f.self,e=g.flyweights||(g.flyweights=[]);f.reset();if(e.length<g.flyPoolSize){e.push(f)}},reset:Ext.emptyFn},0,0,0,0,0,0,[Ext.util,"Fly"],0));(Ext.cmd.derive("Ext.parse.Tokenizer",Ext.util.Fly,function(m){var n=(m.flyweights=[]),r={literal:true,"boolean":true},p={error:true},v={ident:true},u={literal:true},q={literal:true,nil:true},s={literal:true,number:true},o={literal:true,string:true};return{isTokenizer:true,statics:{BOOLEAN:r,ERROR:p,IDENT:v,LITERAL:u,NULL:q,NUMBER:s,STRING:o},config:{keywords:{"null":{type:"literal",is:q,value:null},"false":{type:"literal",is:r,value:false},"true":{type:"literal",is:r,value:true}},operators:{"+":"plus","-":"minus","*":"multiply","/":"divide","!":"bang",",":"comma",":":"colon","[":"arrayOpen","]":"arrayClose","{":"curlyOpen","}":"curlyClose","(":"parenOpen",")":"parenClose"}},error:null,index:-1,constructor:function(b){this.operators={};this.initConfig(b)},next:function(){var b=this.peek();this.head=undefined;return b},peek:function(){var c=this,b=c.error,d=c.head;if(b){return b}if(d===undefined){c.head=d=c.advance()}return d},release:function(){this.reset();if(n.length<m.flyPoolSize){n.push(this)}},reset:function(d,c,b){var e=this;e.error=null;e.head=undefined;e.index=-1;e.text=d||null;e.pos=c||0;e.end=(d&&b==null)?d.length:b;return e},privates:{digitRe:/[0-9]/,identFirstRe:/[a-z_$]/i,identRe:/[0-9a-z_$]/i,spaceRe:/[ \t]/,end:0,head:undefined,pos:0,text:null,applyOperators:function(e){var c=this.operators,d,j,f,b,k,g,l;for(l in e){d=c;g=e[l];k=l.length;for(b=0;b<k;++b){j=l.charAt(b);d=d[j]||(d[j]={})}if(g){d.token=f={type:"operator",value:l,is:{operator:true}};f.is[g]=true}else{d.token=null}}},advance:function(){var e=this,b=e.spaceRe,d=e.text,f=e.end,c;while(e.pos<f){c=d.charAt(e.pos);if(b.test(c)){++e.pos;continue}e.index=e.pos;return e.parse(c)}return null},parse:function(c){var e=this,g=e.digitRe,d=e.text,f=e.end,b;if(c==="."&&e.pos+1<f){if(g.test(d.charAt(e.pos+1))){b=e.parseNumber()}}if(!b&&e.operators[c]){b=e.parseOperator(c)}if(!b){if(c==='"'||c==="'"){b=e.parseString()}else{if(g.test(c)){b=e.parseNumber()}else{if(e.identFirstRe.test(c)){b=e.parseIdent()}else{b=e.syntaxError("Unexpected character")}}}}return b},parseIdent:function(){var l=this,c=l.identRe,b=l.getKeywords(),A=!l.operators["."],j=l.text,g=l.pos,d=g,f=l.end,e=0,y,k;while(d<f){y=j.charAt(d);if(A&&y==="."){if(e==="."){return l.syntaxError(d,"Unexpected dot operator")}++d}else{if(c.test(y)){++d}else{break}}e=y}if(e==="."){return l.syntaxError(d-1,"Unexpected dot operator")}k=j.substring(g,l.pos=d);return(b&&b[k])||{type:"ident",is:v,value:k}},parseNumber:function(){var k=this,c=k.digitRe,j=k.text,g=k.pos,f=k.end,l,b,d,e;while(k.pos<f){l=j.charAt(k.pos);if(l==="-"||l==="+"){if(k.pos!==g){return k.syntaxError(g,"Invalid number")}++k.pos}else{if(l==="."){if(b){break}b=true;++k.pos}else{if(l==="e"||l==="E"){if(d){break}b=d=true;l=j.charAt(++k.pos);if(l==="-"||l==="+"){++k.pos}}else{if(c.test(l)){++k.pos}else{break}}}}}e={type:"literal",is:s,value:+j.substring(g,k.pos)};if(!isFinite(e.value)){e=k.syntaxError(g,"Invalid number")}return e},parseOperator:function(l){var k=this,e=k.operators,j=k.text,g=k.end,d=k.pos,b,c,f;while(e[l]){e=e[l];f=e.token;++d;if(f){b=f;c=d}if(d<g){l=j.charAt(d)}else{break}}if(b){k.pos=c}return b},parseString:function(){var l=this,j=l.text,k=l.pos,f=k,e=l.end,b="",c,d,g;g=j.charAt(k++);while(k<e){c=j.charAt(k++);if(c===g){d=true;break}if(c==="\\"&&k<e){c=j.charAt(k++)}b+=c}l.pos=k;if(!d){return l.syntaxError(f,"Unterminated string")}return{type:"literal",is:o,value:b}},syntaxError:function(b,d){if(typeof b==="string"){d=b;b=this.pos}var c=(b==null)?"":(" (at index "+b+")"),e=new Error(d+c);e.type="error";e.is=p;if(c){e.at=b}return this.error=e}}}},1,0,0,0,0,0,[Ext.parse,"Tokenizer"],0));(Ext.cmd.derive("Ext.parse.Symbol",Ext.Base,{priority:0,constructor:function(g,f){var k=this,j=k.defaultProperty;if(f&&typeof f==="object"){Ext.apply(k,f)}else{if(f!==undefined&&j){k[j]=f}}k.id=g},led:function(){this.parser.syntaxError(this.at,"Missing operator")},nud:function(){this.parser.syntaxError(this.at,"Undefined")},update:function(m){if(m&&typeof m==="object"){var k=this,l=m.priority,j=m.led,g=m.nud;if(k.priority<=l){k.priority=l}if(j){k.led=j}if(g){k.nud=g}}}},1,0,0,0,0,0,[Ext.parse,"Symbol"],0));(Ext.cmd.derive("Ext.parse.symbol.Constant",Ext.parse.Symbol,{arity:"literal",isLiteral:true,defaultProperty:"value",constructor:function(e,d){Ext.parse.Symbol.prototype.constructor.call(this,e,d);this._value=this.value},nud:function(){var c=this;c.value=c._value;c.arity="literal";c.isLiteral=true;return c}},1,0,0,0,0,0,[Ext.parse.symbol,"Constant"],0));(Ext.cmd.derive("Ext.parse.symbol.Infix",Ext.parse.Symbol,{arity:"binary",isBinary:true,defaultProperty:"priority",led:function(e){var d=this;d.lhs=e;d.rhs=d.parser.parseExpression(d.priority);d.arity="binary";d.isBinary=true;return d}},0,0,0,0,0,0,[Ext.parse.symbol,"Infix"],0));(Ext.cmd.derive("Ext.parse.symbol.InfixRight",Ext.parse.symbol.Infix,{led:function(e){var d=this;d.lhs=e;d.rhs=d.parser.parseExpression(d.priority-1);d.arity="binary";d.isBinary=true;return d}},0,0,0,0,0,0,[Ext.parse.symbol,"InfixRight"],0));(Ext.cmd.derive("Ext.parse.symbol.Paren",Ext.parse.Symbol,{arity:"binary",isBinary:true,priority:80,led:function(m){var n=this,j=[],k=n.parser,l=m.id,o=m.arity;if(l!=="."&&l!=="["){if((o!=="unary"||l!=="function")&&o!=="ident"&&l!=="("&&l!=="&&"&&l!=="||"&&l!=="?"){k.syntaxError(m.at,"Expected a variable name.")}}n.arity="invoke";n.isInvoke=true;n.operand=m;n.args=j;while(k.token.id!==")"){if(j.length){k.advance(",")}j.push(k.parseExpression())}k.advance(")");return n},nud:function(){var e=this.parser,d=e.parseExpression();e.advance(")");return d}},0,0,0,0,0,0,[Ext.parse.symbol,"Paren"],0));(Ext.cmd.derive("Ext.parse.symbol.Prefix",Ext.parse.Symbol,{arity:"unary",isUnary:true,priority:70,nud:function(){var c=this;c.operand=c.parser.parseExpression(c.priority);c.arity="unary";c.isUnary=true;return c}},0,0,0,0,0,0,[Ext.parse.symbol,"Prefix"],0));(Ext.cmd.derive("Ext.parse.Parser",Ext.util.Fly,function(){var c=function(){return this};return{isParser:true,config:{constants:{"null":null,"false":false,"true":true},infix:{"+":50,"-":50,"*":60,"/":60},infixRight:{"&&":30,"||":30},prefix:{"!":0,"-":0,"+":0},symbols:{":":0,",":0,")":0,"[":0,"]":0,"{":0,"}":0,"(end)":0,"(ident)":{arity:"ident",isIdent:true,nud:c},"(literal)":{arity:"literal",isLiteral:true,nud:c},"(":{xclass:"Ext.parse.symbol.Paren"}},tokenizer:{keywords:null}},token:null,constructor:function(b){this.symbols={};this.initConfig(b)},advance:function(q){var o=this,b=o.tokenizer,s=b.peek(),v=o.symbols,p=b.index,r,u,n;if(o.error){throw o.error}if(q){o.expect(q)}if(!s){return o.token=v["(end)"]}b.next();r=s.is;n=s.value;if(r.ident){u=v[n]||v["(ident)"]}else{if(r.operator){if(!(u=v[n])){o.syntaxError(s.at,'Unknown operator "'+n+'"')}}else{if(r.literal){u=v["(literal)"]}else{o.syntaxError(s.at,"Unexpected token")}}}o.token=u=Ext.Object.chain(u);u.at=p;u.value=n;if(!u.arity){u.arity=s.type}return u},expect:function(b){var e=this.token;if(b!==e.id){this.syntaxError(e.at,'Expected "'+b+'"')}return this},parseExpression:function(k){var g=this,j=g.token,b;k=k||0;g.advance();b=j.nud();while(k<(j=g.token).priority){g.advance();b=j.led(b)}return b},reset:function(g,b,k){var j=this;j.error=j.token=null;j.tokenizer.reset(g,b,k);j.advance();return j},syntaxError:function(k,g){if(typeof k==="string"){g=k;k=this.pos}var b=(k==null)?"":(" (at index "+k+")"),j=new Error(g+b);j.type="error";if(b){j.at=k}throw this.error=j},privates:{error:null,addSymbol:function(v,r,b,p){var u=this.symbols,q=u[v],n,s,o;if(q){if(typeof r==="object"){n=r}else{if(p&&b){p=Ext.Array.from(p);s=p.length;n={};for(o=0;o<s;o++){n[p[o]]=b.prototype[p[o]]}}else{return q}}q.update(n)}else{if(r&&r.xclass){b=Ext.ClassManager.get(r.xclass)}else{b=b||Ext.parse.Symbol}u[v]=q=new b(v,r);q.parser=this}return q},addSymbols:function(k,j,b){for(var g in k){this.addSymbol(g,k[g],j,b)}},applyConstants:function(b){this.addSymbols(b,Ext.parse.symbol.Constant,"nud")},applyInfix:function(b){this.addSymbols(b,Ext.parse.symbol.Infix,"led")},applyInfixRight:function(b){this.addSymbols(b,Ext.parse.symbol.InfixRight,"led")},applyPrefix:function(b){this.addSymbols(b,Ext.parse.symbol.Prefix,"nud")},applySymbols:function(b){this.addSymbols(b)},applyTokenizer:function(b){var e=b;if(b&&!b.isTokenizer){e=new Ext.parse.Tokenizer(b)}this.tokenizer=e}}}},1,0,0,0,0,0,[Ext.parse,"Parser"],0));(Ext.cmd.derive("Ext.app.bind.Parser",Ext.parse.Parser,{infix:{":":{priority:70,led:function(e){var d=this;d.arity="formatter";d.operand=e;d.fmt=d.parser.parseFmt();return d}},"?":{priority:20,led:function(k){var m=this,j=m.parser,l=j.symbols[":"],g;m.condition=k;g=l.priority;l.priority=0;m.tv=j.parseExpression(0);m.parser.advance(":");l.priority=g;m.fv=j.parseExpression(0);m.arity="ternary";return m}},"===":40,"!==":40,"==":40,"!=":40,"<":40,"<=":40,">":40,">=":40},symbols:{"(":{nud:function(){var g=this.parser,j=g.symbols[":"],k,f;f=j.priority;j.priority=70;k=g.parseExpression();g.advance(")");j.priority=f;return k}}},prefix:{"@":0},tokenizer:{operators:{"@":"at","?":"qmark","===":"feq","!==":"fneq","==":"eq","!=":"neq","<":"lt","<=":"lte",">":"gt",">=":"gte","&&":"and","||":"or"}},compileExpression:function(j,k){var l=this,g,m;l.tokens=j;l.tokensMap=k;m=l.parseSlot(l.parseExpression(),g);l.tokens=l.tokensMap=null;return m},compileFormat:function(){var c;c=this.parseSlot({arity:"formatter",fmt:this.parseFmt(),operand:{arity:"ident",value:"dummy"}});this.expect("(end)");return c},privates:{useEval:Ext.isGecko,escapeRe:/("|'|\\)/g,parseFmt:function(){var j=this,f=[],k=j.symbols[":"].priority,g;do{if(f.length){j.advance()}g=j.parseExpression(k);if(g.isIdent||g.isInvoke){f.push(g)}else{j.syntaxError(g.at,"Expected formatter name")}}while(j.token.id===":");return f},parseSlot:function(p,A){var r=this,w=[],u=[],s=r.tokens||[],q,y,v,x,o;r.definitions=w;r.body=u;u.push("return "+r.compile(p)+";");x=s.length;y="var fm = Ext.util.Format,\nme,";o="var a = Ext.Array.from(values);\nme = scope;\n";if(s.length){for(v=0;v<x;v++){y+="v"+v+((v==x-1)?";":",");o+="v"+v+" = a["+v+"]; "}}else{y+="v0;";o+="v0 = a[0];"}w=Ext.Array.insert(w,0,[y]);u=Ext.Array.insert(u,0,[o]);u=u.join("\n");w.push((r.useEval?"$=":"return")+" function (values, scope) {",u,"}");y=w.join("\n");q=r.useEval?r.evalFn(y):(new Function("Ext",y))(Ext);r.definitions=r.body=null;return q},compile:function(f){var g=this,e;switch(f.arity){case"ident":return g.addToken(f.value);case"literal":e=f.value;return(typeof e==="string")?'"'+String(e).replace(g.escapeRe,"\\$1")+'"':e;case"unary":return g.compileUnary(f);case"binary":return g.compileBinary(f);case"ternary":return g.compileTernary(f);case"formatter":return g.compileFormatter(f)}return this.syntaxError(f.at,"Compile error! Unknown symbol")},compileUnary:function(g){var e=g.value,f=g.operand;if(e==="!"||e==="-"||e==="+"){return e+"("+this.compile(f)+")"}else{if(e==="@"){if(!f.isIdent){return this.syntaxError(g.at,"Compile error! Unexpected symbol")}return f.value}}return""},compileBinary:function(c){return"("+this.compile(c.lhs)+" "+c.value+" "+this.compile(c.rhs)+")"},compileTernary:function(c){return"("+this.compile(c.condition)+" ? "+this.compile(c.tv)+" : "+this.compile(c.fv)+")"},compileFormatter:function(k){var l=this,o=k.fmt,m=o.length,j=["var ret;"],n;if(o.length){j.push("ret = "+l.compileFormatFn(o[0],l.compile(k.operand))+";");for(n=1;n<m;n++){j.push("ret = "+l.compileFormatFn(o[n],"ret")+";")}}j.push("return ret;");return l.addFn(j.join("\n"))},compileFormatFn:function(l,m){var k,q=[],n="",o,p;if(l.isIdent){k=l.value}else{if(l.isInvoke){k=l.operand.value;q=l.args}}if(k.substring(0,5)==="this."){k="me."+k.substring(5)}else{if(!(k in Ext.util.Format)){return this.syntaxError(l.at,'Compile error! Invalid format specified "'+k+'"')}k="fm."+k}n+=m;o=q.length;for(p=0;p<o;p++){n+=", "+this.compile(q[p])}return k+"("+n+")"},addFn:function(g){var e=this.definitions,f="f"+e.length;e.push("function "+f+"() {",g,"}");return f+"()"},evalFn:function($){eval($);return $},addToken:function(f){var k=this.tokensMap,j=this.tokens,g=0;if(k&&j){if(f in k){g=k[f]}else{k[f]=g=j.length;j.push(f)}}return"v"+g}}},0,0,0,0,0,0,[Ext.app.bind,"Parser"],0));(Ext.cmd.derive("Ext.app.domain.Controller",Ext.app.EventDomain,{singleton:true,type:"controller",prefix:"controller.",idMatchRe:/^\#/,constructor:function(){var c=this;c.callParent();c.monitor(Ext.app.BaseController)},match:function(g,k){var f=false,j=g.alias;if(k==="*"){f=true}else{if(k==="#"){f=!!g.isApplication}else{if(this.idMatchRe.test(k)){f=g.getId()===k.substring(1)}else{if(j){f=Ext.Array.indexOf(j,this.prefix+k)>-1}}}}return f}},1,0,0,0,0,0,[Ext.app.domain,"Controller"],0));(Ext.cmd.derive("Ext.data.PageMap",Ext.util.LruCache,{config:{store:null,pageSize:0,rootProperty:""},clear:function(d){var e=this;e.pageMapGeneration=(e.pageMapGeneration||0)+1;e.indexMap={};Ext.util.LruCache.prototype.clear.call(this,d)},forEach:function(q,j){var s=this,w=Ext.Object.getKeys(s.map),A=w.length,r=s.getPageSize(),x,y,p,u,v;for(x=0;x<A;x++){w[x]=+w[x]}Ext.Array.sort(w,Ext.Array.numericSortFn);j=j||s;for(x=0;x<A;x++){p=w[x];u=s.getPage(p);v=u.length;for(y=0;y<v;y++){if(q.call(j,u[y],(p-1)*r+y)===false){return}}}},findBy:function(j,k){var g=this,f=null;k=k||g;g.forEach(function(b,c){if(j.call(k,b,c)){f=b;return false}});return f},findIndexBy:function(j,k){var g=this,f=-1;k=k||g;g.forEach(function(b,c){if(j.call(k,b)){f=c;return false}});return f},find:function(n,o,m,q,r,s){if(Ext.isEmpty(o,false)){return null}var p=Ext.String.createRegex(o,q,r,s),l=this.getRootProperty();return this.findBy(function(b){return b&&p.test((l?b[l]:b)[n])},null,m)},findIndex:function(n,o,m,q,r,s){if(Ext.isEmpty(o,false)){return null}var p=Ext.String.createRegex(o,q,r,s),l=this.getRootProperty();return this.findIndexBy(function(b){return b&&p.test((l?b[l]:b)[n])},null,m)},getPageFromRecordIndex:function(c){return Math.floor(c/this.getPageSize())+1},addAll:function(c){this.addPage(1,c)},addPage:function(o,A){var q=this,p=q.getPageSize(),x=o+Math.floor((A.length-1)/p),r=(o-1)*p,u=q.indexMap,v,y,w,s;for(s=0;o<=x;o++,s+=p){v=Ext.Array.slice(A,s,s+p);for(y=0,w=v.length;y<w;y++){u[v[y].internalId]=r++}q.add(o,v);q.fireEvent("pageadd",q,o,v)}},getCount:function(){var c=Ext.util.LruCache.prototype.getCount.call(this);if(c){c=(c-1)*this.getPageSize()+this.last.value.length}return c},getByInternalId:function(d){var e=this.indexMap[d];if(e!=null){return this.getAt(e)}},indexOf:function(e){var d=-1;if(e){d=this.indexMap[e.internalId];if(d==null){d=-1}}return d},insert:function(){},remove:function(){},removeAt:function(){},removeAtKey:function(k){var l=this,n=l.getPage(k),o,m,j;if(n){if(l.fireEvent("beforepageremove",l,k,n)!==false){o=n.length;for(m=0;m<o;m++){delete l.indexMap[n[m].internalId]}j=Ext.util.LruCache.prototype.removeAtKey.apply(this,arguments);l.fireEvent("pageremove",l,k,n);n.length=0}}return j},getPage:function(c){return this.get(c)},hasRange:function(j,m){var l=this,g=l.getPageFromRecordIndex(j),k=l.getPageFromRecordIndex(m);for(;g<=k;g++){if(!l.hasPage(g)){return false}}return(k-1)*l._pageSize+l.getPage(k).length>m},hasPage:function(c){return !!this.get(c)},peekPage:function(c){return this.map[c]},getAt:function(c){return this.getRange(c,c+1)[0]},getRange:function(G,F){F--;if(!this.hasRange(G,F)){Ext.raise("PageMap asked for range which it does not have")}var A=this,D=Ext.Array,y=A.getPageSize(),v=A.getPageFromRecordIndex(G),C=A.getPageFromRecordIndex(F),E=(v-1)*y,s=(C*y)-1,x=v,r=[],u,B,w;for(;x<=C;x++){if(x===v){u=G-E;w=u>0}else{u=0;w=false}if(x===C){B=y-(s-F);w=w||B<y}if(w){D.push(r,D.slice(A.getPage(x),u,B))}else{D.push(r,A.getPage(x))}}return r}},0,0,0,0,0,0,[Ext.data,"PageMap"],0));(Ext.cmd.derive("Ext.data.BufferedStore",Ext.data.ProxyStore,{isBufferedStore:true,buffered:true,config:{data:0,pageSize:25,remoteSort:true,remoteFilter:true,sortOnLoad:false,purgePageCount:5,trailingBufferZone:25,leadingBufferZone:200,defaultViewSize:100,viewSize:0,trackRemoved:false},applyData:function(e){var d=this.data||(this.data=this.createDataCollection());return d},applyProxy:function(c){c=Ext.data.ProxyStore.prototype.applyProxy.call(this,c);if(c&&c.setEnablePaging){c.setEnablePaging(true)}return c},applyAutoSort:function(){},createFiltersCollection:function(){return new Ext.util.FilterCollection()},createSortersCollection:function(){return new Ext.util.SorterCollection()},updateGroupField:function(c){this.group(c)},getGrouper:function(){return this.grouper},isGrouped:function(){return !!this.grouper},createDataCollection:function(){var e=this,d=new Ext.data.PageMap({store:e,rootProperty:"data",pageSize:e.getPageSize(),maxSize:e.getPurgePageCount(),listeners:{clear:e.onPageMapClear,scope:e}});e.relayEvents(d,["beforepageremove","pageadd","pageremove"]);e.pageRequests={};return d},removeAll:function(e){var g=this,f=g.getData();if(f){if(e){g.suspendEvent("clear")}f.clear();if(e){g.resumeEvent("clear")}}},flushLoad:function(){var e=this,d=e.pendingLoadOptions;e.clearLoadTask();if(!d){return}e.getData().clear();d.page=1;d.start=0;d.limit=e.getViewSize()||e.getDefaultViewSize();d.loadCallback=d.callback;d.callback=null;return e.loadToPrefetch(d)},reload:function(p){var v=this,x=v.getData(),s=Number.MAX_VALUE,u,B,w,q,y,C,r,A;if(!p){p={}}if(v.loading||v.fireEvent("beforeload",v,p)===false){return}C=function(){var b=v.totalCount,c=B-u;if(B>=b){B=b-1;u=Math.max(B-c,0)}if(v.rangeCached(u,B,false)){v.loadCount=(v.loadCount||0)+1;v.loading=false;x.un("pageadd",C);A=x.getRange(u,B);v.fireEvent("load",v,A,true);v.fireEvent("refresh",v)}};r=Math.ceil((v.getLeadingBufferZone()+v.getTrailingBufferZone())/2);if(v.lastRequestStart&&v.preserveScrollOnReload){u=v.lastRequestStart;B=v.lastRequestEnd;s=v.getTotalCount()}else{u=p.start||0;B=u+(p.count||v.getPageSize())-1}x.clear(true);delete v.totalCount;u=Math.max(u-r,0);B=Math.min(B+r,s);u=u===0?0:u-1;B=B===s?B:B+1;w=v.getPageFromRecordIndex(u);q=v.getPageFromRecordIndex(B);v.loading=true;p.waitForReload=C;x.on("pageadd",C);for(y=w;y<=q;y++){v.prefetchPage(y,p)}},filter:function(){Ext.data.ProxyStore.prototype.filter.apply(this,arguments)},filterBy:function(e,d){},loadData:function(e,d){},loadPage:function(f,e){var g=this;e=e||{};e.page=g.currentPage=f;e.start=(f-1)*g.getPageSize();e.limit=g.getViewSize()||g.getDefaultViewSize();e.loadCallback=e.callback;e.callback=null;return g.loadToPrefetch(e)},clearData:function(f){var e=this,g=e.getData();if(g){g.clear()}},getCount:function(){return this.totalCount||0},getRange:function(B,x,r){var s=this,A=s.totalCount-1,y=s.lastRequestStart,q=[],w=s.getData(),C,u,D,E,v;r=Ext.apply({prefetchStart:B,prefetchEnd:x},r);x=(x>=s.totalCount)?A:x;if(r.forRender!==false){u=B===0?0:B-1;D=x===A?x:x+1}else{u=B;D=x}s.lastRequestStart=B;s.lastRequestEnd=x;if(s.rangeCached(B,x,r.forRender)){s.onRangeAvailable(r);q=w.getRange(B,x+1)}else{s.fireEvent("cachemiss",s,B,x);E=s.getPageFromRecordIndex(u);v=s.getPageFromRecordIndex(D);C=function(d,b,c){if(b>=E&&b<=v&&s.rangeCached(B,x)){s.fireEvent("cachefilled",s,B,x);w.un("pageadd",C);s.onRangeAvailable(r)}};w.on("pageadd",C);s.prefetchRange(B,x)}s.primeCache(B,x,B<y?-1:1);return q},getById:function(e){var d=this.data.findBy(function(b){return b.getId()===e});return d},getAt:function(d){var e=this.getData();if(e.hasRange(d,d)){return e.getAt(d)}},getByInternalId:function(c){return this.data.getByInternalId(c)},contains:function(c){return this.indexOf(c)>-1},indexOf:function(c){return this.getData().indexOf(c)},indexOfId:function(c){return this.indexOf(this.getById(c))},group:function(k,g){var j=this,f;if(k&&typeof k==="string"){f=j.grouper;if(f&&g!==undefined){f.setDirection(g)}else{j.grouper=new Ext.util.Grouper({property:k,direction:g||"ASC",root:"data"})}}else{j.grouper=k?j.getSorters().decodeSorter(k,"Ext.util.Grouper"):null}j.getData().clear();j.loadPage(1,{callback:function(){j.fireEvent("groupchange",j,j.getGrouper())}})},getPageFromRecordIndex:function(c){return Math.floor(c/this.getPageSize())+1},calculatePageCacheSize:function(e){var f=this,g=f.getPurgePageCount();return g?Math.max(f.getData().getMaxSize()||0,Math.ceil((e+f.getTrailingBufferZone()+f.getLeadingBufferZone())/f.getPageSize())*2+g):0},loadToPrefetch:function(L){var A=this,I=L,E,J,x,y=L.start,K=L.start+L.limit-1,M=(A.getViewSize()||L.limit),D=Math.min(K,L.start+M-1),C=A.getPageFromRecordIndex(Math.max(y-A.getTrailingBufferZone(),0)),v=A.getPageFromRecordIndex(K+A.getLeadingBufferZone()),F=A.getData(),B=function(){J=J||[];if(L.loadCallback){L.loadCallback.call(L.scope||A,J,G,true)}if(L.callback){L.callback.call(L.scope||A,J,y||0,K||0,L)}},w=function(){A.loadCount=(A.loadCount||0)+1;A.fireEvent("datachanged",A);A.fireEvent("refresh",A);A.fireEvent("load",A,J,true)},H=function(){if(A.rangeCached(y,D)){A.loading=false;J=F.getRange(y,D+1);F.un("pageadd",H);if(A.hasListeners.guaranteedrange){A.guaranteeRange(y,D,L.callback,L.scope)}B();w()}},G;F.setMaxSize(A.calculatePageCacheSize(M));if(A.fireEvent("beforeload",A,L)!==false){delete A.totalCount;A.loading=true;if(L.callback){I=Ext.apply({},L);delete I.callback}A.on("prefetch",function(c,d,e,b){G=b;if(e){if((x=A.getTotalCount())){F.on("pageadd",H);D=Math.min(D,x-1);v=A.getPageFromRecordIndex(Math.min(D+A.getLeadingBufferZone(),x-1));for(E=C+1;E<=v;++E){A.prefetchPage(E,I)}}else{B();w()}}else{A.loading=false;B();A.fireEvent("load",A,d,false)}},null,{single:true});A.prefetchPage(C,I)}},prefetch:function(m){var l=this,o=l.getPageSize(),k=l.getData(),n,j;if(o){if(l.lastPageSize&&o!=l.lastPageSize){Ext.raise("pageSize cannot be dynamically altered")}if(!k.getPageSize()){k.setPageSize(o)}}else{l.pageSize=k.setPageSize(o=m.limit)}l.lastPageSize=o;if(!m.page){m.page=l.getPageFromRecordIndex(m.start);m.start=(m.page-1)*o;m.limit=Math.ceil(m.limit/o)*o}j=l.pageRequests[m.page];if(!j||j.getOperation().pageMapGeneration!==k.pageMapGeneration){m=Ext.apply({action:"read",filters:l.getFilters().items,sorters:l.getSorters().items,grouper:l.getGrouper(),internalCallback:l.onProxyPrefetch,internalScope:l},m);n=l.createOperation("read",m);n.pageMapGeneration=k.pageMapGeneration;if(l.fireEvent("beforeprefetch",l,n)!==false){l.pageRequests[m.page]=n.execute();if(l.getProxy().isSynchronous){delete l.pageRequests[m.page]}}}return l},onPageMapClear:function(){var l=this,m=l.wasLoading,g=l.pageRequests,j=l.getData(),k;j.clearListeners();j.on("clear",l.onPageMapClear,l);l.relayEvents(j,["beforepageremove","pageadd","pageremove"]);l.loading=true;l.totalCount=0;for(k in g){if(g.hasOwnProperty(k)){g[k].getOperation().abort()}}l.fireEvent("clear",l);l.loading=m},prefetchPage:function(l,o){var m=this,j=m.getPageSize(),k=(l-1)*j,n=m.totalCount;if(n!==undefined&&m.data.getCount()===n){return}m.prefetch(Ext.applyIf({page:l,start:k,limit:j},o))},onProxyPrefetch:function(w){if(this.destroying||this.destroyed){return}var r=this,q=w.getResultSet(),x=w.getRecords(),u=w.wasSuccessful(),s=w.getPage(),y=w.waitForReload,o=r.totalCount,A=r.pageRequests,p,v;if(w.pageMapGeneration===r.getData().pageMapGeneration){if(q){r.totalCount=q.getTotal();if(r.totalCount!==o){r.fireEvent("totalcountchange",r.totalCount)}}if(s!==undefined){delete r.pageRequests[s]}r.loading=false;r.fireEvent("prefetch",r,x,u,w);if(u){if(r.totalCount===0){if(y){for(p in A){v=A[p].getOperation();if(v.waitForReload===y){delete v.waitForReload}}r.getData().un("pageadd",y);r.fireEvent("load",r,[],true);r.fireEvent("refresh",r)}}else{r.cachePage(x,w.getPage())}}Ext.callback(w.getCallback(),w.getScope()||r,[x,w,u])}},cachePage:function(m,j){var k=this,g=m.length,l;if(!Ext.isDefined(k.totalCount)){k.totalCount=m.length;k.fireEvent("totalcountchange",k.totalCount)}for(l=0;l<g;l++){m[l].join(k)}k.getData().addPage(j,m)},rangeCached:function(j,g,k){var l=j,m=g;if(k!==false){l=j===0?0:j-1,m=g===this.totalCount-1?g:g+1}return this.getData().hasRange(l,m)},pageCached:function(c){return this.getData().hasPage(c)},pagePending:function(c){return !!this.pageRequests[c]},rangeSatisfied:function(e,d){return this.rangeCached(e,d)},onRangeAvailable:function(m){var l=this,o=l.getTotalCount(),k=m.prefetchStart,j=(m.prefetchEnd>o-1)?o-1:m.prefetchEnd,n;j=Math.max(0,j);n=l.getData().getRange(k,j+1);if(m.fireEvent!==false){l.fireEvent("guaranteedrange",n,k,j,m)}if(m.callback){m.callback.call(m.scope||l,n,k,j,m)}},guaranteeRange:function(j,g,k,l,m){m=Ext.apply({callback:k,scope:l},m);this.getRange(j,g+1,m)},prefetchRange:function(l,q){var o=this,p,k,m,n=o.getData();if(!o.rangeCached(l,q)){p=o.getPageFromRecordIndex(l);k=o.getPageFromRecordIndex(q);n.setMaxSize(o.calculatePageCacheSize(q-l+1));for(m=p;m<=k;m++){if(!o.pageCached(m)){o.prefetchPage(m)}}}},primeCache:function(m,r,n){var o=this,p=o.getLeadingBufferZone(),q=o.getTrailingBufferZone(),s=o.getPageSize(),l=o.totalCount;if(n===-1){m=Math.max(m-p,0);r=Math.min(r+q,l-1)}else{if(n===1){m=Math.max(Math.min(m-q,l-s),0);r=Math.min(r+p,l-1)}else{m=Math.min(Math.max(Math.floor(m-((p+q)/2)),0),l-o.pageSize);r=Math.min(Math.max(Math.ceil(r+((p+q)/2)),0),l-1)}}o.prefetchRange(m,r)},sort:function(g,e,f){if(arguments.length===0){this.clearAndLoad()}else{this.getSorters().addSort(g,e,f)}},onSorterEndUpdate:function(){var d=this,e=d.getSorters().getRange();if(e.length){d.fireEvent("beforesort",d,e);d.clearAndLoad({callback:function(){d.fireEvent("sort",d,e)}})}else{d.fireEvent("sort",d,e)}},clearAndLoad:function(d){var e=this;e.clearing=true;e.getData().clear();e.clearing=false;e.loadPage(1,d)},privates:{isLast:function(c){return this.indexOf(c)===this.getTotalCount()-1},isMoving:function(){return false}}},0,0,0,0,["store.buffered"],0,[Ext.data,"BufferedStore"],0));(Ext.cmd.derive("Ext.mixin.Queryable",Ext.Base,{mixinId:"queryable",isQueryable:true,query:function(c){c=c||"*";return Ext.ComponentQuery.query(c,this.getQueryRoot())},queryBy:function(m,n){var p=[],q=this.getQueryRoot().getRefItems(true),o=0,k=q.length,l;for(;o<k;++o){l=q[o];if(m.call(n||l,l)!==false){p.push(l)}}return p},queryById:function(c){return this.down(Ext.makeIdSelector(c))},child:function(d){var e=this.getQueryRoot().getRefItems();if(d&&d.isComponent){return this.matchById(e,d.getItemId())}if(d){e=Ext.ComponentQuery.query(d,e)}if(e.length){return e[0]}return null},down:function(c){if(c&&c.isComponent){return this.matchById(this.getRefItems(true),c.getItemId())}c=c||"";return this.query(c)[0]||null},visitPreOrder:function(f,g,j,k){Ext.ComponentQuery._visit(true,f,this.getQueryRoot(),g,j,k)},visitPostOrder:function(f,g,j,k){Ext.ComponentQuery._visit(false,f,this.getQueryRoot(),g,j,k)},getRefItems:function(){return[]},getQueryRoot:function(){return this},privates:{matchById:function(m,j){var g=m.length,l,k;for(l=0;l<g;++l){k=m[l];if(k.getItemId()===j){return k}}return null}}},0,0,0,0,0,0,[Ext.mixin,"Queryable"],0));(Ext.cmd.derive("Ext.data.Request",Ext.Base,{isDataRequest:true,config:{action:undefined,params:undefined,method:"GET",url:null,operation:null,proxy:null,disableCaching:false,headers:{},callbackKey:null,rawRequest:null,jsonData:undefined,xmlData:undefined,withCredentials:false,username:null,password:null,binary:false,callback:null,scope:null,timeout:30000,records:null,directFn:null,args:null,useDefaultXhrHeader:null},constructor:function(c){this.initConfig(c)},getParam:function(e){var f=this.getParams(),g;if(f){return f[e]}return g},setParam:function(e,g){var f=this.getParams()||{};f[e]=g;this.setParams(f)}},1,0,0,0,0,0,[Ext.data,"Request"],0));(Ext.cmd.derive("Ext.data.Validation",Ext.data.Model,{isValidation:true,syncGeneration:0,attach:function(c){this.record=c;this.isBase=c.self===Ext.data.Model;delete this.data.id},getValidation:function(){return null},isValid:function(){var c=this;if(c.syncGeneration!==c.record.generation){c.refresh()}return !c.dirty},refresh:function(T){if(this.isBase){return}var C=this,B=C.data,R=C.record,M=R.fields,J=R.generation,D=R.data,N=R.validationSeparator,S=null,Q,O,L,U,F,H,K,E,G,P,I,j;if(T||C.syncGeneration!==J){C.syncGeneration=J;for(H=0,G=M.length;H<G;++H){U=M[H];j=U.name;I=D[j];Q=U.defaultInvalidMessage;L=0;if(!(j in B)){B[j]=O=true}else{O=B[j]}if(U.validate!==Ext.emptyFn){P=U.validate(I,N,null,R);if(P!==true){L=P||Q}}if(!L){L=true}if(L!==O){(S||(S={}))[j]=L}}if(S){C.set(S)}}}},0,0,0,0,0,0,[Ext.data,"Validation"],0));(Ext.cmd.derive("Ext.dom.Helper",Ext.Base,function(){var l="afterbegin",o="afterend",n="beforebegin",q="beforeend",m=["BeforeBegin","previousSibling"],p=["AfterEnd","nextSibling"],r={beforebegin:m,afterend:p},s={beforebegin:m,afterend:p,afterbegin:["AfterBegin","firstChild"],beforeend:["BeforeEnd","lastChild"]};return{singleton:true,alternateClassName:["Ext.DomHelper","Ext.core.DomHelper"],emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/^(?:tag|children|cn|html|tpl|tplData)$/i,endRe:/end/i,attributeTransform:{cls:"class",htmlFor:"for"},closeTags:{},detachedDiv:document.createElement("div"),decamelizeName:function(){var d=/([a-z])([A-Z])/g,b={};function c(g,e,f){return e+"-"+f.toLowerCase()}return function(e){return b[e]||(b[e]=e.replace(d,c))}}(),generateMarkup:function(v,g){var b=this,c=typeof v,d,j,k,e,f;if(c==="string"||c==="number"){g.push(v)}else{if(Ext.isArray(v)){for(e=0;e<v.length;e++){if(v[e]){b.generateMarkup(v[e],g)}}}else{k=v.tag||"div";g.push("<",k);for(d in v){if(v.hasOwnProperty(d)){j=v[d];if(j!==undefined&&!b.confRe.test(d)){if(j&&j.join){j=j.join(" ")}if(typeof j==="object"){g.push(" ",d,'="');b.generateStyles(j,g,true).push('"')}else{g.push(" ",b.attributeTransform[d]||d,'="',j,'"')}}}}if(b.emptyTags.test(k)){g.push("/>")}else{g.push(">");if((j=v.tpl)){j.applyOut(v.tplData,g)}if((j=v.html)){g.push(j)}if((j=v.cn||v.children)){b.generateMarkup(j,g)}f=b.closeTags;g.push(f[k]||(f[k]="</"+k+">"))}}}return g},generateStyles:function(e,b,f){var c=b||[],g,d;for(g in e){if(e.hasOwnProperty(g)){d=e[g];g=this.decamelizeName(g);if(f&&Ext.String.hasHtmlCharacters(d)){d=Ext.String.htmlEncode(d)}c.push(g,":",d,";")}}return b||c.join("")},markup:function(c){if(typeof c==="string"){return c}var b=this.generateMarkup(c,[]);return b.join("")},applyStyles:function(c,b){Ext.fly(c).applyStyles(b)},createContextualFragment:function(b){var d=this.detachedDiv,c=document.createDocumentFragment(),f,e;d.innerHTML=b;e=d.childNodes;f=e.length;while(f--){c.appendChild(e[0])}return c},createDom:function(f,c){var g=this,b=g.markup(f),d=g.detachedDiv,e;d.innerHTML=b;e=d.firstChild;return Ext.supports.ChildContentClearedWhenSettingInnerHTML?e.cloneNode(true):e},insertHtml:function(e,j,d){var w=this,g,c,f,x,k;e=e.toLowerCase();if(j.insertAdjacentHTML){if(w.ieInsertHtml){k=w.ieInsertHtml(e,j,d);if(k){return k}}g=s[e];if(g){j.insertAdjacentHTML(g[0],d);return j[g[1]]}}else{if(j.nodeType===3){e=e===l?n:e;e=e===q?o:e}c=Ext.supports.CreateContextualFragment?j.ownerDocument.createRange():undefined;x="setStart"+(this.endRe.test(e)?"After":"Before");if(r[e]){if(c){c[x](j);k=c.createContextualFragment(d)}else{k=this.createContextualFragment(d)}j.parentNode.insertBefore(k,e===n?j:j.nextSibling);return j[(e===n?"previous":"next")+"Sibling"]}else{f=(e===l?"first":"last")+"Child";if(j.firstChild){if(c){try{c[x](j[f]);k=c.createContextualFragment(d)}catch(b){k=this.createContextualFragment(d)}}else{k=this.createContextualFragment(d)}if(e===l){j.insertBefore(k,j.firstChild)}else{j.appendChild(k)}}else{j.innerHTML=d}return j[f]}}},insertBefore:function(c,d,b){return this.doInsert(c,d,b,n)},insertAfter:function(c,d,b){return this.doInsert(c,d,b,o)},insertFirst:function(c,d,b){return this.doInsert(c,d,b,l)},append:function(c,d,b){return this.doInsert(c,d,b,q)},overwrite:function(f,b,d){var e=this,c;f=Ext.getDom(f);b=e.markup(b);if(e.ieOverwrite){c=e.ieOverwrite(f,b)}if(!c){f.innerHTML=b;c=f.firstChild}return d?Ext.get(c):c},doInsert:function(g,d,e,c){var f=this,b;g=g.dom||Ext.getDom(g);if("innerHTML" in g){b=f.insertHtml(c,g,f.markup(d))}else{b=f.createDom(d,null);if(g.nodeType===3){c=c===l?n:c;c=c===q?o:c}if(r[c]){g.parentNode.insertBefore(b,c===n?g:g.nextSibling)}else{if(g.firstChild&&c===l){g.insertBefore(b,g.firstChild)}else{g.appendChild(b)}}}return e?Ext.get(b):b},createTemplate:function(b){var c=this.markup(b);return new Ext.Template(c)},createHtml:function(b){return this.markup(b)}}},0,0,0,0,0,0,[Ext.dom,"Helper",Ext,"DomHelper",Ext.core,"DomHelper"],0));Ext.define("Ext.overrides.dom.Helper",(function(){var r=/^(?:table|thead|tbody|tr|td)$/i,n=/td|tr|tbody|thead/i,o="<table>",m="</table>",s=o+"<tbody>",p="</tbody>"+m,l=s+"<tr>",q="</tr>"+p;return{override:"Ext.dom.Helper",ieInsertHtml:function(c,e,b){var d=null;if(Ext.isIE9m&&r.test(e.tagName)){d=this.insertIntoTable(e.tagName.toLowerCase(),c,e,b)}return d},ieOverwrite:function(b,c){if(Ext.isIE9m&&r.test(b.tagName)){while(b.firstChild){b.removeChild(b.firstChild)}if(c){return this.insertHtml("afterbegin",b,c)}}},ieTable:function(e,b,d,f){var k=-1,g=this.detachedDiv,j,c;g.innerHTML=[b,d,f].join("");while(++k<e){g=g.firstChild}j=g.nextSibling;if(j){j=g;g=document.createDocumentFragment();while(j){c=j.nextSibling;g.appendChild(j);j=c}}return g},insertIntoTable:function(k,f,g,e){var j,b,c=f==="beforebegin",w=f==="afterbegin",d=f==="beforeend",x=f==="afterend";if(k==="td"&&(w||d)||!n.test(k)&&(c||x)){return null}b=c?g:x?g.nextSibling:w?g.firstChild:null;if(c||x){g=g.parentNode}if(k==="td"||(k==="tr"&&(d||w))){j=this.ieTable(4,l,e,q)}else{if(((k==="tbody"||k==="thead")&&(d||w))||(k==="tr"&&(c||x))){j=this.ieTable(3,s,e,p)}else{j=this.ieTable(2,o,e,m)}}g.insertBefore(j,b);return j}}})());(Ext.cmd.derive("Ext.data.proxy.Rest",Ext.data.proxy.Ajax,{alternateClassName:"Ext.data.RestProxy",defaultActionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"},slashRe:/\/$/,periodRe:/\.$/,config:{appendId:true,format:null,batchActions:false,actionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"}},buildUrl:function(p){var n=this,q=p.getOperation(),s=q.getRecords(),o=s?s[0]:null,m=n.getFormat(),v=n.getUrl(p),u,r;if(o&&!o.phantom){u=o.getId()}else{u=q.getId()}if(n.getAppendId()&&n.isValidId(u)){if(!v.match(n.slashRe)){v+="/"}v+=encodeURIComponent(u);r=p.getParams();if(r){delete r[n.getIdParam()]}}if(m){if(!v.match(n.periodRe)){v+="."}v+=m}p.setUrl(v);return Ext.data.proxy.Ajax.prototype.buildUrl.call(this,p)},isValidId:function(c){return c||c===0}},0,0,0,0,["proxy.rest"],0,[Ext.data.proxy,"Rest",Ext.data,"RestProxy"],0));(Ext.cmd.derive("Ext.dom.GarbageCollector",Ext.Base,{singleton:true,interval:30000,constructor:function(){var c=this;c.lastTime=Ext.now();c.onTick=c.onTick.bind(c);c.resume()},collect:function(){var n=this,v=Ext.cache,u,q,s,e,p,r;for(u in v){if(!v.hasOwnProperty(u)){continue}s=v[u];if(s.skipGarbageCollection){continue}q=s.dom;try{p=Ext.isGarbage(q)}catch(o){delete v[u];continue}if(p){if(s&&s.dom){s.collect()}}}if(Ext.isIE9m){e={};for(u in v){if(v.hasOwnProperty(u)){e[u]=v[u]}}Ext.cache=Ext.dom.Element.cache=e}n.lastTime=Ext.now()},onTick:function(){this.timerId=null;if(Ext.enableGarbageCollector){this.collect()}this.resume()},pause:function(){var c=this.timerId;if(c){this.timerId=null;clearTimeout(c)}},resume:function(){var d=this,e=d.lastTime;if(Ext.enableGarbageCollector&&(Ext.now()-e)>d.interval){d.collect()}if(!d.timerId){d.timerId=Ext.defer(d.onTick,d.interval)}}},1,0,0,0,0,0,[Ext.dom,"GarbageCollector"],0));(Ext.cmd.derive("Ext.dom.TouchAction",Ext.Base,{singleton:true,lastTouchStartTime:0,minMoveDistance:8,spaceRe:/\s+/,preventSingle:null,preventMulti:null,disabledOverflowDom:null,panXCls:"x-touch-action-pan-x",panYCls:"x-touch-action-pan-y",cssValues:["none","pan-x","pan-y","pan-x pan-y","pinch-zoom","pan-x pinch-zoom","pan-y pinch-zoom","manipulation","double-tap-zoom","pan-x double-tap-zoom","pan-y double-tap-zoom","pan-x pan-y double-tap-zoom","pinch-zoom double-tap-zoom","pan-x pinch-zoom double-tap-zoom","pan-y pinch-zoom double-tap-zoom",""],objectValues:[{panX:false,panY:false,pinchZoom:false,doubleTapZoom:false},{panX:true,panY:false,pinchZoom:false,doubleTapZoom:false},{panX:false,panY:true,pinchZoom:false,doubleTapZoom:false},{panX:true,panY:true,pinchZoom:false,doubleTapZoom:false},{panX:false,panY:false,pinchZoom:true,doubleTapZoom:false},{panX:true,panY:false,pinchZoom:true,doubleTapZoom:false},{panX:false,panY:true,pinchZoom:true,doubleTapZoom:false},{panX:true,panY:true,pinchZoom:true,doubleTapZoom:false},{panX:false,panY:false,pinchZoom:false,doubleTapZoom:true},{panX:true,panY:false,pinchZoom:false,doubleTapZoom:true},{panX:false,panY:true,pinchZoom:false,doubleTapZoom:true},{panX:true,panY:true,pinchZoom:false,doubleTapZoom:true},{panX:false,panY:false,pinchZoom:true,doubleTapZoom:true},{panX:true,panY:false,pinchZoom:true,doubleTapZoom:true},{panX:false,panY:true,pinchZoom:true,doubleTapZoom:true},{panX:true,panY:true,pinchZoom:true,doubleTapZoom:true}],attributeName:"data-extTouchAction",constructor:function(){var e=this,d=Ext.supports;if(d.PointerEvents){e.cssProp="touch-action"}else{if(d.MSPointerEvents){e.cssProp="-ms-touch-action"}else{if(d.TouchEvents){Ext.getWin().on({touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",scope:e,translate:false,capture:true,priority:5000});Ext.on({scroll:"onScroll",scope:e,destroyable:true})}}}},containsTargets:function(k,l){var o=true,m=l.type==="touchend"?l.changedTouches:l.touches,e,n;for(e=0,n=m.length;e<n;e++){if(!k.contains(m[e].target)){o=false;break}}return o},disableOverflow:function(l,n){var m=this,k=n?"overflow-y":"overflow-x",j,o;if(!m.disabledOverflowDom&&!Ext.isiOS&&!Ext.getScrollbarSize().width){m.disabledOverflowDom=l;o=n?m.panXCls:m.panYCls;while(l){j=Ext.fly(l).getStyle(k);if(j==="auto"||j==="scroll"){Ext.fly(l).addCls(o)}l=l.parentNode}}},get:function(f){var e=f.getAttribute(this.attributeName),g=null;if(e!=null){g=this.objectValues[e]}return g},getFlags:function(e){var d;if(typeof e==="number"){d=e}else{d=0;if(e.panX!==false){d|=1}if(e.panY!==false){d|=2}if(e.pinchZoom!==false){d|=4}if(e.doubleTapZoom!==false){d|=8}}return d},lookupFlags:function(c){return c.getAttribute&&c.getAttribute(this.attributeName)},onScroll:function(){this.scrollOccurred=true;this.isDoubleTap=false},onTouchEnd:function(l){var m=this,k=l.target,e,o,n;e=l.touches.length;if(e===0){if(m.isDoubleTap){while(k){o=m.lookupFlags(k);if(o!=null){n=o&8;if(!n){l.preventDefault()}}k=k.parentNode}}m.isDoubleTap=false;m.preventSingle=null;m.preventMulti=null;m.resetOverflow()}},onTouchMove:function(y){var x=this,v=null,B=y.target,G,w,K,e,J,H,E,I,C,D,A,F;A=x.preventSingle;F=x.preventMulti;w=y.touches.length;if((w===1&&(A===false))||(F===false)){return}if((w>1&&(F===true))||(w===1&&(A===true))){v=true}else{while(B){G=x.lookupFlags(B);if(G!=null){if(!G){v=true}else{if(w===1){K=!!(G&1);e=!!(G&2);if(K&&e){v=false}else{if(!K&&!e){v=true}else{J=y.getPoint();H=x.startPoint;E=Ext.Element.getViewportScale();I=Math.abs(J.getDistanceTo(x.startPoint)*E);if(I>=x.minMoveDistance){C=Math.abs(J.x-H.x);D=Math.abs(J.y-H.y);v=!!((K&&(D>C))||(e&&(C>D)))}}}}else{if(x.containsTargets(B,y)){v=!(G&4)}else{v=false}}}if(v){break}}B=B.parentNode}}if(w===1){x.preventSingle=v}else{if(w>1){x.preventMulti=v}}if(v){y.preventDefault()}},onTouchStart:function(m){var o=this,n,p,l,q,e;if(m.touches.length===1){n=m.time;if(!o.scrollOccurred&&((n-o.lastTouchStartTime)<=500)){o.isDoubleTap=true}o.lastTouchStartTime=n;o.scrollOccurred=false;o.startPoint=m.getPoint();l=m.target;while(l){p=o.lookupFlags(l);if(p!=null){q=!!(p&1);e=!!(p&2);if(q!==e){o.disableOverflow(l,q);break}}l=l.parentNode}}else{o.isDoubleTap=false}},resetOverflow:function(){var d=this,e=d.disabledOverflowDom;while(e){Ext.fly(e).removeCls([d.panXCls,d.panYCls]);e=e.parentNode}d.disabledOverflowDom=null},set:function(k,l){var m=this,n=m.cssProp,j=m.getFlags(l),o=m.attributeName;if(n){Ext.fly(k).setStyle(n,m.cssValues[j])}if(j===15){k.removeAttribute(o)}else{k.setAttribute(o,j)}}},1,0,0,0,0,0,[Ext.dom,"TouchAction"],0));(Ext.cmd.derive("Ext.event.gesture.Recognizer",Ext.Base,{priority:0,handledEvents:[],isStarted:false,config:{onRecognized:Ext.emptyFn,callbackScope:null},constructor:function(c){this.initConfig(c);Ext.event.publisher.Gesture.instance.registerRecognizer(this)},onStart:Ext.emptyFn,onEnd:Ext.emptyFn,onTouchStart:Ext.emptyFn,onTouchMove:Ext.emptyFn,onTouchEnd:function(){return this.reset()},onTouchCancel:function(c){return this.cancel(c)},fire:function(e,g,j,k){this.getOnRecognized().call(this.getCallbackScope(),this,e,g,j,k)},cancel:function(c){if(this.isStarted){this.onCancel(c)}return this.reset()},onCancel:Ext.emptyFn,reset:function(){this.isStarted=false;return false}},1,0,0,0,0,[[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.event.gesture,"Recognizer"],0));(Ext.cmd.derive("Ext.event.gesture.SingleTouch",Ext.event.gesture.Recognizer,{isSingleTouch:true,onTouchStart:function(c){if(c.touches.length>1){return this.cancel(c)}}},0,0,0,0,0,0,[Ext.event.gesture,"SingleTouch"],0));(Ext.cmd.derive("Ext.event.gesture.DoubleTap",Ext.event.gesture.SingleTouch,{priority:300,config:{moveDistance:8,tapDistance:24,maxDuration:300},handledEvents:["singletap","doubletap"],singleTapTimer:null,startTime:0,lastTapTime:0,onTouchStart:function(g){var j=this,k=Ext.event.gesture.SingleTouch.prototype.onTouchStart.call(this,g),e;if(k!==false){j.isStarted=true;e=j.lastStartPoint=g.changedTouches[0].point;j.startPoint=j.startPoint||e;j.startTime=g.time;clearTimeout(j.singleTapTimer)}return k},onTouchMove:function(l){var m=this,e=l.changedTouches[0].point,k=Ext.Element.getViewportScale(),j=Math.round(Math.abs(e.getDistanceTo(m.lastStartPoint)*k));if(j>=m.getMoveDistance()){return m.cancel(l)}},onTouchEnd:function(s){var q=this,u=q.getMaxDuration(),y=s.time,r=s.target,p=q.lastTapTime,w=q.lastTarget,e=s.changedTouches[0].point,v,x,A;q.lastTapTime=y;q.lastTarget=r;if(p){v=y-p;if(v<=u){x=Ext.Element.getViewportScale();A=Math.round(Math.abs(e.getDistanceTo(q.startPoint)*x));if(A<=q.getTapDistance()){if(r!==w){return q.cancel(s)}q.lastTarget=null;q.lastTapTime=0;q.fire("doubletap",s,{touch:s.changedTouches[0],duration:v});return Ext.event.gesture.SingleTouch.prototype.onTouchEnd.call(this,s)}}}if(y-q.startTime>u){q.fire("singletap",s);q.reset()}else{q.setSingleTapTimer(s)}},setSingleTapTimer:function(e){var d=this;d.singleTapTimer=Ext.defer(function(){d.fire("singletap",e);d.reset()},d.getMaxDuration())},reset:function(){var c=this;clearTimeout(c.singleTapTimer);c.startTime=c.lastTapTime=0;c.lastStartPoint=c.startPoint=c.singleTapTimer=null;return Ext.event.gesture.SingleTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,"DoubleTap"],function(d){var e=Ext.manifest.gestures;d.instance=new d(e&&e.doubleTap)}));(Ext.cmd.derive("Ext.event.gesture.Drag",Ext.event.gesture.SingleTouch,{priority:100,startPoint:null,previousPoint:null,lastPoint:null,handledEvents:["dragstart","drag","dragend","dragcancel"],config:{minDistance:8},constructor:function(){Ext.event.gesture.SingleTouch.prototype.constructor.apply(this,arguments);this.initInfo()},initInfo:function(){this.info={touch:null,previous:{x:0,y:0},x:0,y:0,delta:{x:0,y:0},absDelta:{x:0,y:0},flick:{velocity:{x:0,y:0}},direction:{x:0,y:0},time:0,previousTime:{x:0,y:0},longpress:false}},onTouchStart:function(f){var g=this,e=Ext.event.gesture.SingleTouch.prototype.onTouchStart.call(this,f);if(e!==false){g.startTime=f.time;g.startPoint=f.changedTouches[0].point}return e},tryDragStart:function(n){var o=this,e=n.changedTouches[0].point,l=o.getMinDistance(),m=Ext.Element.getViewportScale(),k=Math.round(Math.abs(e.getDistanceTo(o.startPoint)*m));if(k>=l){o.doDragStart(n)}},doDragStart:function(m,q){var p=this,l=m.changedTouches[0],e=l.point,n=p.info,o;if(q){o=Ext.now();p.startTime=o;p.startPoint=e;n.longpress=true}else{o=m.time}p.isStarted=true;p.previousPoint=p.lastPoint=e;p.resetInfo("x",m,l);p.resetInfo("y",m,l);n.time=o;p.fire("dragstart",m,n)},onTouchMove:function(j){var k=this,g,e;if(!k.startPoint){return}if(!k.isStarted){k.tryDragStart(j)}if(!k.isStarted){return}g=j.changedTouches[0];e=g.point;if(k.lastPoint){k.previousPoint=k.lastPoint}k.lastPoint=e;k.lastMoveEvent=j;k.updateInfo("x",j,g);k.updateInfo("y",j,g);k.info.time=j.time;k.fire("drag",j,k.info)},onAxisDragEnd:function(e,f){var g=f.time-f.previousTime[e];if(g>0){f.flick.velocity[e]=(f[e]-f.previous[e])/g}},resetInfo:function(s,p,q){var o=this,n=o.lastPoint[s],v=o.startPoint[s],e=n-v,r=s.toUpperCase(),u=o.info;u.touch=q;u.delta[s]=e;u.absDelta[s]=Math.abs(e);u.previousTime[s]=o.startTime;u.previous[s]=v;u[s]=n;u.direction[s]=0;u["start"+r]=o.startPoint[s];u["previous"+r]=u.previous[s];u["page"+r]=u[s];u["delta"+r]=u.delta[s];u["absDelta"+r]=u.absDelta[s];u["previousDelta"+r]=0;u.startTime=o.startTime},updateInfo:function(y,u,v){var s=this,q=s.lastPoint[y],x=s.previousPoint[y],C=s.startPoint[y],e=q-C,A=s.info,r=A.direction,w=y.toUpperCase(),B=A.previous[y];A.touch=v;A.delta[y]=e;A.absDelta[y]=Math.abs(e);if(q!==B&&q!==A[y]){A.previous[y]=A[y];A.previousTime[y]=A.time}A[y]=q;if(q>x){r[y]=1}else{if(q<x){r[y]=-1}}A["start"+w]=C;A["previous"+w]=A.previous[y];A["page"+w]=A[y];A["delta"+w]=A.delta[y];A["absDelta"+w]=A.absDelta[y];A["previousDelta"+w]=A.previous[y]-C;A.startTime=s.startTime},onTouchEnd:function(k){var m=this,j,e,l;if(m.isStarted){j=k.changedTouches[0];e=j.point;l=m.info;m.lastPoint=e;m.updateInfo("x",k,j);m.updateInfo("y",k,j);l.time=k.time;m.onAxisDragEnd("x",l);m.onAxisDragEnd("y",l);m.fire("dragend",k,l)}return Ext.event.gesture.SingleTouch.prototype.onTouchEnd.call(this,k)},onCancel:function(j){var e=this,g=j.changedTouches[0],k=e.info;if(!j.touches.length){e.lastPoint=g.point}e.updateInfo("x",j,g);e.updateInfo("y",j,g);k.time=j.time;e.fire("dragcancel",j,k,true)},reset:function(){var c=this;c.lastPoint=c.startPoint=c.previousPoint=c.lastPoint=c.lastMoveEvent=null;c.initInfo();return Ext.event.gesture.SingleTouch.prototype.reset.call(this)}},1,0,0,0,0,0,[Ext.event.gesture,"Drag"],function(d){var e=Ext.manifest.gestures;d.instance=new d(e&&e.drag)}));(Ext.cmd.derive("Ext.event.gesture.Swipe",Ext.event.gesture.SingleTouch,{priority:600,handledEvents:["swipestart","swipe","swipecancel"],config:{minDistance:80,maxOffset:35,maxDuration:1000},onTouchStart:function(j){var k=this,e=Ext.event.gesture.SingleTouch.prototype.onTouchStart.call(this,j),g;if(e!==false){g=j.changedTouches[0];k.startTime=j.time;k.isHorizontal=true;k.isVertical=true;k.startX=g.pageX;k.startY=g.pageY}return e},onTouchMove:function(w){var v=this,x=w.changedTouches[0],r=x.pageX,u=x.pageY,y=r-v.startX,A=u-v.startY,C=Math.abs(r-v.startX),D=Math.abs(u-v.startY),B=w.time-v.startTime,e,s,E;if((C===0&&D===0)||(B>v.getMaxDuration())){return v.cancel(w)}if(v.isHorizontal&&D>v.getMaxOffset()){v.isHorizontal=false}if(v.isVertical&&C>v.getMaxOffset()){v.isVertical=false}if(!v.isVertical||!v.isHorizontal){e=v.getMinDistance();if(v.isHorizontal&&C<e){s=(y<0)?"left":"right";E=C}else{if(v.isVertical&&D<e){s=(A<0)?"up":"down";E=D}}}if(!v.isHorizontal&&!v.isVertical){return v.cancel(w)}if(s&&!v.isStarted){v.isStarted=true;v.fire("swipestart",w,{touch:x,direction:s,distance:E,duration:B})}},onTouchEnd:function(w){var v=this,x,r,u,y,A,C,D,e,B,s,E;if(v.onTouchMove(w)!==false){x=w.changedTouches[0];r=x.pageX;u=x.pageY;y=r-v.startX;A=u-v.startY;C=Math.abs(y);D=Math.abs(A);e=v.getMinDistance();B=w.time-v.startTime;if(v.isVertical&&D<e){v.isVertical=false}if(v.isHorizontal&&C<e){v.isHorizontal=false}if(v.isHorizontal){s=(y<0)?"left":"right";E=C}else{if(v.isVertical){s=(A<0)?"up":"down";E=D}}v.fire("swipe",w,{touch:x,direction:s,distance:E,duration:B})}return Ext.event.gesture.SingleTouch.prototype.onTouchEnd.call(this,w)},onCancel:function(c){this.fire("swipecancel",c,null,true)},reset:function(){var c=this;c.startTime=c.isHorizontal=c.isVertical=c.startX=c.startY=null;return Ext.event.gesture.SingleTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,"Swipe"],function(d){var e=Ext.manifest.gestures;d.instance=new d(e&&e.swipe)}));(Ext.cmd.derive("Ext.event.gesture.EdgeSwipe",Ext.event.gesture.Swipe,{priority:500,handledEvents:["edgeswipe","edgeswipestart","edgeswipeend","edgeswipecancel"],config:{minDistance:60},onTouchStart:function(j){var k=this,e=Ext.event.gesture.Swipe.prototype.onTouchStart.call(this,j),g;if(e!==false){g=j.changedTouches[0];k.direction=null;k.isHorizontal=true;k.isVertical=true;k.startX=g.pageX;k.startY=g.pageY}return e},onTouchMove:function(y){var x=this,B=y.changedTouches[0],K=B.pageX,w=B.pageY,C=K-x.startX,D=w-x.startY,H=Math.abs(w-x.startY),G=Math.abs(K-x.startX),J=x.getMinDistance(),E=x.getMaxOffset(),F=y.time-x.startTime,e=Ext.Viewport&&Ext.Element.getViewportWidth(),A=Ext.Viewport&&Ext.Element.getViewportHeight(),v,I;if(x.isVertical&&G>E){x.isVertical=false}if(x.isHorizontal&&H>E){x.isHorizontal=false}if(x.isVertical&&x.isHorizontal){if(H>G){x.isHorizontal=false}else{x.isVertical=false}}if(x.isHorizontal){v=(C<0)?"left":"right";I=C}else{if(x.isVertical){v=(D<0)?"up":"down";I=D}}v=x.direction||(x.direction=v);if(v==="up"){I=D*-1}else{if(v==="left"){I=C*-1}}x.distance=I;if(!I){return x.cancel(y)}if(!x.isStarted){if((v==="right"&&x.startX>J)||(v==="down"&&x.startY>J)||(v==="left"&&(e-x.startX)>J)||(v==="up"&&(A-x.startY)>J)){return x.cancel(y)}x.isStarted=true;x.startTime=y.time;x.fire("edgeswipestart",y,{touch:B,direction:v,distance:I,duration:F})}else{x.fire("edgeswipe",y,{touch:B,direction:v,distance:I,duration:F})}},onTouchEnd:function(f){var e=this,g;if(e.onTouchMove(f)!==false){g=f.time-e.startTime;e.fire("edgeswipeend",f,{touch:f.changedTouches[0],direction:e.direction,distance:e.distance,duration:g})}return this.reset()},onCancel:function(c){this.fire("edgeswipecancel",c,{touch:c.changedTouches[0]},true)},reset:function(){var c=this;c.direction=c.isHorizontal=c.isVertical=c.startX=c.startY=c.startTime=c.distance=null;return Ext.event.gesture.Swipe.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,"EdgeSwipe"],function(d){var e=Ext.manifest.gestures;d.instance=new d(e&&e.edgeSwipe)}));(Ext.cmd.derive("Ext.event.gesture.LongPress",Ext.event.gesture.SingleTouch,{priority:400,config:{moveDistance:8,minDuration:1000},handledEvents:["longpress","taphold"],onTouchStart:function(f){var g=this,e=Ext.event.gesture.SingleTouch.prototype.onTouchStart.call(this,f);if(e!==false){g.startPoint=f.changedTouches[0].point;g.setLongPressTimer(f)}return e},setLongPressTimer:function(e){var d=this;d.timer=Ext.defer(d.fireLongPress,d.getMinDuration(),d,[e])},onTouchMove:function(l){var m=this,e=l.changedTouches[0].point,k=Ext.Element.getViewportScale(),j=Math.round(Math.abs(e.getDistanceTo(m.startPoint)*k));if(j>=m.getMoveDistance()){return m.cancel(l)}},reset:function(){var c=this;clearTimeout(c.timer);c.timer=c.startPoint=null;return Ext.event.gesture.SingleTouch.prototype.reset.call(this)},fireLongPress:function(f){var e=this,g={touch:f.changedTouches[0],duration:e.getMinDuration(),startDrag:e.startDrag};this.fire("taphold",f,g);this.fire("longpress",f,g);this.reset()},startDrag:function(){var e=Ext.event.gesture.Drag.instance,d=this.parentEvent;e.doDragStart(d,true);Ext.event.publisher.Gesture.instance.claimRecognizer(e,d)}},0,0,0,0,0,0,[Ext.event.gesture,"LongPress"],function(d){var e=Ext.manifest.gestures;d.instance=new d(e&&e.longPress)}));(Ext.cmd.derive("Ext.event.gesture.MultiTouch",Ext.event.gesture.Recognizer,{requiredTouchesCount:2,isTracking:false,isMultiTouch:true,onTouchStart:function(j){var m=this,e=m.requiredTouchesCount,k=j.touches,l=k.length;if(l===e){m.isTracking=true}else{if(l>e){return m.cancel(j)}}},reset:function(){this.isTracking=false;return Ext.event.gesture.Recognizer.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,"MultiTouch"],0));(Ext.cmd.derive("Ext.event.gesture.Pinch",Ext.event.gesture.MultiTouch,{priority:700,handledEvents:["pinchstart","pinch","pinchend","pinchcancel"],startDistance:0,lastTouches:null,onTouchMove:function(m){var o=this,n,l,e,k;if(o.isTracking){n=m.touches;l=n[0].point;e=n[1].point;k=l.getDistanceTo(e);if(k===0){return}if(!o.isStarted){o.isStarted=true;o.startDistance=k;o.fire("pinchstart",m,{touches:n,distance:k,scale:1})}else{o.fire("pinch",m,{touches:n,distance:k,scale:k/o.startDistance})}}},onTouchEnd:function(c){if(this.isStarted){this.fire("pinchend",c)}return Ext.event.gesture.MultiTouch.prototype.onTouchEnd.call(this,c)},onCancel:function(c){this.fire("pinchcancel",c,null,true)},reset:function(){this.lastTouches=null;this.startDistance=0;return Ext.event.gesture.MultiTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,"Pinch"],function(d){var e=Ext.manifest.gestures;d.instance=new d(e&&e.pinch)}));(Ext.cmd.derive("Ext.event.gesture.Rotate",Ext.event.gesture.MultiTouch,{priority:800,handledEvents:["rotatestart","rotate","rotateend","rotatecancel"],startAngle:0,lastTouches:null,lastAngle:null,onTouchMove:function(q){var p=this,r,w,u,s,v,x,o,e;if(p.isTracking){r=q.touches;w=p.lastAngle;u=r[0].point;s=r[1].point;v=u.getAngleTo(s);if(w!==null){e=Math.abs(w-v);x=v+360;o=v-360;if(Math.abs(x-w)<e){v=x}else{if(Math.abs(o-w)<e){v=o}}}p.lastAngle=v;if(!p.isStarted){p.isStarted=true;p.startAngle=v;p.fire("rotatestart",q,{touches:r,angle:v,rotation:0})}else{p.fire("rotate",q,{touches:r,angle:v,rotation:v-p.startAngle})}p.lastTouches=Ext.Array.clone(r)}},onTouchEnd:function(c){if(this.isStarted){this.fire("rotateend",c)}return Ext.event.gesture.MultiTouch.prototype.onTouchEnd.call(this,c)},onCancel:function(c){this.fire("rotatecancel",c,null,true)},reset:function(){var c=this;c.lastTouches=c.lastAngle=c.startAngle=null;return Ext.event.gesture.MultiTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,"Rotate"],function(d){var e=Ext.manifest.gestures;d.instance=new d(e&&e.rotate)}));(Ext.cmd.derive("Ext.event.gesture.Tap",Ext.event.gesture.SingleTouch,{priority:200,handledEvents:["tap","tapcancel"],config:{moveDistance:8},onTouchStart:function(f){var g=this,e=Ext.event.gesture.SingleTouch.prototype.onTouchStart.call(this,f);if(e!==false){g.isStarted=true;g.startPoint=f.changedTouches[0].point}return e},onTouchMove:function(l){var m=this,e=l.changedTouches[0].point,k=Ext.Element.getViewportScale(),j=Math.round(Math.abs(e.getDistanceTo(m.startPoint)*k));if(j>=m.getMoveDistance()){return m.cancel(l)}},onTouchEnd:function(c){this.fire("tap",c,{touch:c.changedTouches[0]});return Ext.event.gesture.SingleTouch.prototype.onTouchEnd.call(this,c)},onCancel:function(c){this.fire("tapcancel",c,{touch:c.changedTouches[0]},true)},reset:function(){this.startPoint=null;return Ext.event.gesture.SingleTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,"Tap"],function(e){var d=Ext.manifest.gestures;e.instance=new e(d&&d.tap)}));(Ext.cmd.derive("Ext.event.publisher.Focus",Ext.event.publisher.Dom,{type:"focus",handledEvents:["focusenter","focusleave","focusmove"],handledDomEvents:["focusin","focusout"],publishDelegatedDomEvent:function(f){var g=this,e=f.relatedTarget;if(f.type==="focusout"){if(e==null){g.processFocusIn(f,f.target,document.body)}}else{if(e==null||!e.tagName){e=document.body}g.processFocusIn(f,e,f.target)}},processFocusIn:function(r,q,x){var p=this,e,y,s=[],A,u,v,w;v=Ext.fly(q);w=Ext.fly(x);if((v&&v.isFocusSuspended())||(w&&w.isFocusSuspended())){return}for(y=q,e=Ext.dom.Element.getCommonAncestor(x,q,true);y&&y!==e;y=y.parentNode){s.push(y)}if(s.length){A=p.createSyntheticEvent("focusleave",r,q,x);p.publish(A,s);if(A.stopped){return}}s.length=0;for(y=x;y&&y!==e;y=y.parentNode){s.push(y)}u=p.createSyntheticEvent("focusenter",r,x,q);if(s.length){p.publish(u,s);if(u.stopped){return}}s=p.getPropagatingTargets(e);if(s.length){A=p.createSyntheticEvent("focusmove",r,x,q);p.publish(A,s);if(A.stopped){return}}Ext.GlobalEvents.fireEvent("focus",{event:u,toElement:x,fromElement:q})},createSyntheticEvent:function(m,j,k,g){var l=new Ext.event.Event(j);l.type=m;l.relatedTarget=g;l.target=k;return l}},0,0,0,0,0,0,[Ext.event.publisher,"Focus"],function(e){var d;e.instance=new e();if(!Ext.supports.FocusinFocusoutEvents){this.override({handledDomEvents:["focus","blur"],publishDelegatedDomEvent:function(c){var j=this,b;j.callSuper([c]);b=c.target!==window&&c.target!==document;if(c.type==="blur"){if(!b){if(c.explicitOriginalTarget===e.previousActiveElement){if(c.target===window){clearTimeout(d);d=0;j.processFocusIn(c,e.previousActiveElement,document.body);e.previousActiveElement=null}}}else{d=setTimeout(function(){d=0;j.processFocusIn(c,c.target,document.body);e.previousActiveElement=null},0)}e.previousActiveElement=b?c.target:null}else{clearTimeout(d);d=0;j.processFocusIn(c,e.previousActiveElement||document.body,b?c.target:document.body)}}})}}));(Ext.cmd.derive("Ext.fx.State",Ext.Base,{isAnimatable:{"background-color":true,"background-image":true,"background-position":true,"border-bottom-color":true,"border-bottom-width":true,"border-color":true,"border-left-color":true,"border-left-width":true,"border-right-color":true,"border-right-width":true,"border-spacing":true,"border-top-color":true,"border-top-width":true,"border-width":true,bottom:true,color:true,crop:true,"font-size":true,"font-weight":true,height:true,left:true,"letter-spacing":true,"line-height":true,"margin-bottom":true,"margin-left":true,"margin-right":true,"margin-top":true,"max-height":true,"max-width":true,"min-height":true,"min-width":true,opacity:true,"outline-color":true,"outline-offset":true,"outline-width":true,"padding-bottom":true,"padding-left":true,"padding-right":true,"padding-top":true,right:true,"text-indent":true,"text-shadow":true,top:true,"vertical-align":true,visibility:true,width:true,"word-spacing":true,"z-index":true,zoom:true,transform:true},constructor:function(c){this.data={};this.set(c)},setConfig:function(c){this.set(c);return this},setRaw:function(c){this.data=c;return this},clear:function(){return this.setRaw({})},setTransform:function(p,l){var m=this.data,k=Ext.isArray(l),q=m.transform,n,o;if(!q){q=m.transform={translateX:0,translateY:0,translateZ:0,scaleX:1,scaleY:1,scaleZ:1,rotate:0,rotateX:0,rotateY:0,rotateZ:0,skewX:0,skewY:0}}if(typeof p=="string"){switch(p){case"translate":if(k){n=l.length;if(n==0){break}q.translateX=l[0];if(n==1){break}q.translateY=l[1];if(n==2){break}q.translateZ=l[2]}else{q.translateX=l}break;case"rotate":if(k){n=l.length;if(n==0){break}q.rotateX=l[0];if(n==1){break}q.rotateY=l[1];if(n==2){break}q.rotateZ=l[2]}else{q.rotate=l}break;case"scale":if(k){n=l.length;if(n==0){break}q.scaleX=l[0];if(n==1){break}q.scaleY=l[1];if(n==2){break}q.scaleZ=l[2]}else{q.scaleX=l;q.scaleY=l}break;case"skew":if(k){n=l.length;if(n==0){break}q.skewX=l[0];if(n==1){break}q.skewY=l[1]}else{q.skewX=l}break;default:q[p]=l}}else{for(o in p){if(p.hasOwnProperty(o)){l=p[o];this.setTransform(o,l)}}}},set:function(f,g){var j=this.data,k;if(typeof f!="string"){for(k in f){g=f[k];if(k==="transform"){this.setTransform(g)}else{j[k]=g}}}else{if(f==="transform"){this.setTransform(g)}else{j[f]=g}}return this},unset:function(d){var e=this.data;if(e.hasOwnProperty(d)){delete e[d]}return this},getData:function(){return this.data}},1,0,0,0,0,0,[Ext.fx,"State"],0));(Ext.cmd.derive("Ext.fx.animation.Abstract",Ext.Evented,{isAnimation:true,config:{name:"",element:null,before:null,from:{},to:{},after:null,states:{},duration:300,easing:"linear",iteration:1,direction:"normal",delay:0,onBeforeStart:null,callback:null,onEnd:null,onBeforeEnd:null,scope:null,reverse:null,preserveEndState:false,replacePrevious:true},STATE_FROM:"0%",STATE_TO:"100%",DIRECTION_UP:"up",DIRECTION_DOWN:"down",DIRECTION_LEFT:"left",DIRECTION_RIGHT:"right",stateNameRegex:/^(?:[\d\.]+)%$/,constructor:function(){this.states={};Ext.Evented.prototype.constructor.apply(this,arguments);return this},applyElement:function(c){return Ext.get(c)},applyBefore:function(d,e){if(d){return Ext.factory(d,Ext.fx.State,e)}},applyAfter:function(e,d){if(e){return Ext.factory(e,Ext.fx.State,d)}},setFrom:function(c){return this.setState(this.STATE_FROM,c)},setTo:function(c){return this.setState(this.STATE_TO,c)},getFrom:function(){return this.getState(this.STATE_FROM)},getTo:function(){return this.getState(this.STATE_TO)},setStates:function(e){var f=this.stateNameRegex,g;for(g in e){if(f.test(g)){this.setState(g,e[g])}}return this},getStates:function(){return this.states},updateCallback:function(c){if(c){this.setOnEnd(c)}},end:function(){this.stop()},stop:function(){this.fireEvent("stop",this)},destroy:function(){this.stop();Ext.Evented.prototype.destroy.call(this)},setState:function(k,g){var f=this.getStates(),j;j=Ext.factory(g,Ext.fx.State,f[k]);if(j){f[k]=j}return this},getState:function(c){return this.getStates()[c]},getData:function(){var v=this,p=v.getStates(),x={},u=v.getBefore(),A=v.getAfter(),s=p[v.STATE_FROM],r=p[v.STATE_TO],q=s.getData(),w=r.getData(),y,B,C;for(B in p){if(p.hasOwnProperty(B)){C=p[B];y=C.getData();x[B]=y}}return{before:u?u.getData():{},after:A?A.getData():{},states:x,from:q,to:w,duration:v.getDuration(),iteration:v.getIteration(),direction:v.getDirection(),easing:v.getEasing(),delay:v.getDelay(),onEnd:v.getOnEnd(),onBeforeEnd:v.getOnBeforeEnd(),onBeforeStart:v.getOnBeforeStart(),scope:v.getScope(),preserveEndState:v.getPreserveEndState(),replacePrevious:v.getReplacePrevious()}}},1,0,0,0,0,0,[Ext.fx.animation,"Abstract"],0));(Ext.cmd.derive("Ext.fx.animation.Slide",Ext.fx.animation.Abstract,{alternateClassName:"Ext.fx.animation.SlideIn",config:{direction:"left",out:false,offset:0,easing:"auto",containerBox:"auto",elementBox:"auto",isElementBoxFit:true,useCssTransform:true},reverseDirectionMap:{up:"down",down:"up",left:"right",right:"left"},applyEasing:function(c){if(c==="auto"){return"ease-"+((this.getOut())?"in":"out")}return c},getContainerBox:function(){var c=this._containerBox;if(c==="auto"){c=this.getElement().getParent().getBox()}return c},getElementBox:function(){var c=this._elementBox;if(this.getIsElementBoxFit()){return this.getContainerBox()}if(c==="auto"){c=this.getElement().getBox()}return c},getData:function(){var K=this.getElementBox(),H=this.getContainerBox(),D=K?K:H,v=this.getFrom(),u=this.getTo(),E=this.getOut(),F=this.getOffset(),w=this.getDirection(),I=this.getUseCssTransform(),C=this.getReverse(),G=0,J=0,x,A,y,B;if(C){w=this.reverseDirectionMap[w]}switch(w){case this.DIRECTION_UP:if(E){J=H.top-D.top-D.height-F}else{J=H.bottom-D.bottom+D.height+F}break;case this.DIRECTION_DOWN:if(E){J=H.bottom-D.bottom+D.height+F}else{J=H.top-D.height-D.top-F}break;case this.DIRECTION_RIGHT:if(E){G=H.right-D.right+D.width+F}else{G=H.left-D.left-D.width-F}break;case this.DIRECTION_LEFT:if(E){G=H.left-D.left-D.width-F}else{G=H.right-D.right+D.width+F}break}x=(E)?0:G;A=(E)?0:J;if(I){v.setTransform({translateX:x,translateY:A})}else{v.set("left",x);v.set("top",A)}y=(E)?G:0;B=(E)?J:0;if(I){u.setTransform({translateX:y,translateY:B})}else{u.set("left",y);u.set("top",B)}return Ext.fx.animation.Abstract.prototype.getData.apply(this,arguments)}},0,0,0,0,["animation.slide","animation.slideIn"],0,[Ext.fx.animation,"Slide",Ext.fx.animation,"SlideIn"],0));(Ext.cmd.derive("Ext.fx.animation.SlideOut",Ext.fx.animation.Slide,{config:{out:true}},0,0,0,0,["animation.slideOut"],0,[Ext.fx.animation,"SlideOut"],0));(Ext.cmd.derive("Ext.fx.animation.Fade",Ext.fx.animation.Abstract,{alternateClassName:"Ext.fx.animation.FadeIn",config:{out:false,before:{display:null,opacity:0},after:{opacity:null},reverse:null},updateOut:function(e){var f=this.getTo(),g=this.getFrom();if(e){g.set("opacity",1);f.set("opacity",0)}else{g.set("opacity",0);f.set("opacity",1)}}},0,0,0,0,["animation.fade","animation.fadeIn"],0,[Ext.fx.animation,"Fade",Ext.fx.animation,"FadeIn"],0));(Ext.cmd.derive("Ext.fx.animation.FadeOut",Ext.fx.animation.Fade,{config:{out:true,before:{}}},0,0,0,0,["animation.fadeOut"],0,[Ext.fx.animation,"FadeOut"],0));(Ext.cmd.derive("Ext.fx.animation.Flip",Ext.fx.animation.Abstract,{config:{easing:"ease-in",direction:"right",half:false,out:null},getData:function(){var x=this,v=x.getFrom(),u=x.getTo(),w=x.getDirection(),D=x.getOut(),q=x.getHalf(),C=q?90:180,A=1,E=1,r=0,s=0,y=0,B=0;if(D){E=0.8}else{A=0.8}switch(w){case this.DIRECTION_UP:if(D){y=C}else{r=-C}break;case this.DIRECTION_DOWN:if(D){y=-C}else{r=C}break;case this.DIRECTION_RIGHT:if(D){B=C}else{s=-C}break;case this.DIRECTION_LEFT:if(D){B=-C}else{s=C}break}v.setTransform({rotateX:r,rotateY:s,scale:A});u.setTransform({rotateX:y,rotateY:B,scale:E});return Ext.fx.animation.Abstract.prototype.getData.call(this)}},0,0,0,0,["animation.flip"],0,[Ext.fx.animation,"Flip"],0));(Ext.cmd.derive("Ext.fx.animation.Pop",Ext.fx.animation.Abstract,{alternateClassName:"Ext.fx.animation.PopIn",config:{out:false,before:{display:null,opacity:0},after:{opacity:null}},getData:function(){var f=this.getTo(),g=this.getFrom(),e=this.getOut();if(e){g.set("opacity",1);g.setTransform({scale:1});f.set("opacity",0);f.setTransform({scale:0})}else{g.set("opacity",0);g.setTransform({scale:0});f.set("opacity",1);f.setTransform({scale:1})}return Ext.fx.animation.Abstract.prototype.getData.apply(this,arguments)}},0,0,0,0,["animation.pop","animation.popIn"],0,[Ext.fx.animation,"Pop",Ext.fx.animation,"PopIn"],0));(Ext.cmd.derive("Ext.fx.animation.PopOut",Ext.fx.animation.Pop,{config:{out:true,before:{}}},0,0,0,0,["animation.popOut"],0,[Ext.fx.animation,"PopOut"],0));(Ext.cmd.derive("Ext.fx.Animation",Ext.Base,{constructor:function(g){var e=Ext.fx.animation.Abstract,f;if(typeof g=="string"){f=g;g={}}else{if(g&&g.type){f=g.type}}if(f){e=Ext.ClassManager.getByAlias("animation."+f)}return Ext.factory(g,e)}},1,0,0,0,0,0,[Ext.fx,"Animation"],0));(Ext.cmd.derive("Ext.fx.runner.Css",Ext.Evented,{prefixedProperties:{transform:true,"transform-origin":true,perspective:true,"transform-style":true,transition:true,"transition-property":true,"transition-duration":true,"transition-timing-function":true,"transition-delay":true,animation:true,"animation-name":true,"animation-duration":true,"animation-iteration-count":true,"animation-direction":true,"animation-timing-function":true,"animation-delay":true},lengthProperties:{top:true,right:true,bottom:true,left:true,width:true,height:true,"max-height":true,"max-width":true,"min-height":true,"min-width":true,"margin-bottom":true,"margin-left":true,"margin-right":true,"margin-top":true,"padding-bottom":true,"padding-left":true,"padding-right":true,"padding-top":true,"border-bottom-width":true,"border-left-width":true,"border-right-width":true,"border-spacing":true,"border-top-width":true,"border-width":true,"outline-width":true,"letter-spacing":true,"line-height":true,"text-indent":true,"word-spacing":true,"font-size":true,translate:true,translateX:true,translateY:true,translateZ:true,translate3d:true,x:true,y:true},durationProperties:{"transition-duration":true,"transition-delay":true,"animation-duration":true,"animation-delay":true},angleProperties:{rotate:true,rotateX:true,rotateY:true,rotateZ:true,skew:true,skewX:true,skewY:true},lengthUnitRegex:/([a-z%]*)$/,DEFAULT_UNIT_LENGTH:"px",DEFAULT_UNIT_ANGLE:"deg",DEFAULT_UNIT_DURATION:"ms",customProperties:{x:true,y:true},formattedNameCache:{x:"left",y:"top"},transformMethods3d:["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","skewX","skewY","scaleX","scaleY","scaleZ"],transformMethodsNo3d:["translateX","translateY","rotate","skewX","skewY","scaleX","scaleY"],constructor:function(){var c=this;c.transformMethods=Ext.feature.has.Css3dTransforms?c.transformMethods3d:c.transformMethodsNo3d;c.vendorPrefix=Ext.browser.getStyleDashPrefix();c.ruleStylesCache={};Ext.Evented.prototype.constructor.call(this)},getStyleSheet:function(){var f=this.styleSheet,e,g;if(!f){e=document.createElement("style");e.type="text/css";(document.head||document.getElementsByTagName("head")[0]).appendChild(e);g=document.styleSheets;this.styleSheet=f=g[g.length-1]}return f},applyRules:function(q){var s=this.getStyleSheet(),o=this.ruleStylesCache,p=s.cssRules,x,v,r,y,w,A,u;for(x in q){v=q[x];r=o[x];if(r===undefined){w=p.length;s.insertRule(x+"{}",w);r=o[x]=p.item(w).style}y=r.$cache;if(!y){y=r.$cache={}}for(A in v){u=this.formatValue(v[A],A);A=this.formatName(A);if(y[A]!==u){y[A]=u;if(u===null){r.removeProperty(A)}else{r.setProperty(A,u,"important")}}}}return this},applyStyles:function(o){var l,p,m,q,k,n;for(l in o){if(o.hasOwnProperty(l)){this.activeElement=p=document.getElementById(l);if(!p){continue}m=p.style;q=o[l];for(k in q){if(q.hasOwnProperty(k)){n=this.formatValue(q[k],k);k=this.formatName(k);if(n===null){m.removeProperty(k)}else{m.setProperty(k,n,"important")}}}}}this.activeElement=null;return this},formatName:function(g){var e=this.formattedNameCache,f=e[g];if(!f){if((Ext.os.is.Tizen||!Ext.feature.has.CssTransformNoPrefix)&&this.prefixedProperties[g]){f=this.vendorPrefix+g}else{f=g}e[g]=f}return f},formatValue:function(r,B){var v=typeof r,p=this.DEFAULT_UNIT_LENGTH,u=this.customProperties[B],x,C,y,w,A,q,s;if(r===null){return""}if(v==="string"){if(this.lengthProperties[B]){s=r.match(this.lengthUnitRegex)[1];if(s.length>0){}else{r=r+p;if(u){r=this.getCustomValue(r,B)}return r}}return r}else{if(v==="number"){if(r==0){return"0"}if(this.lengthProperties[B]){r=r+p;if(u){r=this.getCustomValue(r,B)}return r}if(this.angleProperties[B]){return r+this.DEFAULT_UNIT_ANGLE}if(this.durationProperties[B]){return r+this.DEFAULT_UNIT_DURATION}}else{if(B==="transform"){x=this.transformMethods;A=[];for(y=0,w=x.length;y<w;y++){C=x[y];A.push(C+"("+this.formatValue(r[C],C)+")")}return A.join(" ")}else{if(Ext.isArray(r)){q=[];for(y=0,w=r.length;y<w;y++){q.push(this.formatValue(r[y],B))}return(q.length>0)?q.join(", "):"none"}}}}return r},getCustomValue:function(g,f){var k=Ext.fly(this.activeElement),j=g.match(this.lengthUnitRegex)[1];if(f==="x"){g=k.translateXY(parseInt(g,10)).x}else{if(f==="y"){g=k.translateXY(null,parseInt(g,10)).y}}return g+j}},1,0,0,0,0,0,[Ext.fx.runner,"Css"],0));(Ext.cmd.derive("Ext.fx.runner.CssTransition",Ext.fx.runner.Css,{alternateClassName:"Ext.Animator",singleton:true,listenersAttached:false,constructor:function(){this.runningAnimationsData={};return this.callParent(arguments)},attachListeners:function(){this.listenersAttached=true;Ext.getWin().on("transitionend","onTransitionEnd",this)},onTransitionEnd:function(g){var e=g.target,f=e.id;if(f&&this.runningAnimationsData.hasOwnProperty(f)){this.refreshRunningAnimationsData(Ext.get(e),[g.browserEvent.propertyName])}},getElementId:function(c){return c.getId?c.getId():c.id},onAnimationEnd:function(A,B,D,x,s){var E=this.getElementId(A),w=this.runningAnimationsData[E],r={},u={},F,y,C,v,G;D.un("stop","onAnimationStop",this);if(w){F=w.nameMap}r[E]=u;if(B.onBeforeEnd){B.onBeforeEnd.call(B.scope||this,A,x)}D.fireEvent("animationbeforeend",D,A,x);this.fireEvent("animationbeforeend",this,D,A,x);if(s||(!x&&!B.preserveEndState)){y=B.toPropertyNames;for(C=0,v=y.length;C<v;C++){G=y[C];if(F&&!F.hasOwnProperty(G)){u[G]=null}}}if(B.after){Ext.merge(u,B.after)}this.applyStyles(r);if(B.onEnd){B.onEnd.call(B.scope||this,A,x)}D.fireEvent("animationend",D,A,x);this.fireEvent("animationend",this,D,A,x);Ext.AnimationQueue.stop(Ext.emptyFn,D)},onAllAnimationsEnd:function(g){var f=this.getElementId(g),e={};delete this.runningAnimationsData[f];e[f]={"transition-property":null,"transition-duration":null,"transition-timing-function":null,"transition-delay":null};this.applyStyles(e);this.fireEvent("animationallend",this,g)},hasRunningAnimations:function(e){var f=this.getElementId(e),g=this.runningAnimationsData;return g.hasOwnProperty(f)&&g[f].sessions.length>0},refreshRunningAnimationsData:function(N,I,y,D){var K=this.getElementId(N),C=this.runningAnimationsData,Q=C[K];if(!Q){return}var G=Q.nameMap,A=Q.nameList,P=Q.sessions,L,J,M,j,H,O,B,E,F=false;y=Boolean(y);D=Boolean(D);if(!P){return this}L=P.length;if(L===0){return this}if(D){Q.nameMap={};A.length=0;for(H=0;H<L;H++){O=P[H];this.onAnimationEnd(N,O.data,O.animation,y,D)}P.length=0}else{for(H=0;H<L;H++){O=P[H];B=O.map;E=O.list;for(J=0,M=I.length;J<M;J++){j=I[J];if(B[j]){delete B[j];Ext.Array.remove(E,j);O.length--;if(--G[j]==0){delete G[j];Ext.Array.remove(A,j)}}}if(O.length==0){P.splice(H,1);H--;L--;F=true;this.onAnimationEnd(N,O.data,O.animation,y)}}}if(!D&&!y&&P.length==0&&F){this.onAllAnimationsEnd(N)}},getRunningData:function(e){var d=this.runningAnimationsData;if(!d.hasOwnProperty(e)){d[e]={nameMap:{},nameList:[],sessions:[]}}return d[e]},getTestElement:function(){var l=this,k=l.testElement,m=l.iframe,j,g;if(k){if(k.ownerDocument.defaultView!==m.contentWindow){m.contentDocument.body.appendChild(k);l.testElementComputedStyle=j.defaultView.getComputedStyle(k)}}else{m=l.iframe=document.createElement("iframe");m.setAttribute("tabIndex",-1);g=m.style;g.setProperty("visibility","hidden","important");g.setProperty("width","0px","important");g.setProperty("height","0px","important");g.setProperty("position","absolute","important");g.setProperty("border","0px","important");g.setProperty("zIndex","-1000","important");document.body.appendChild(m);j=m.contentDocument;j.open();j.writeln("</body>");j.close();l.testElement=k=j.createElement("div");k.style.setProperty("position","absolute","important");j.body.appendChild(k);l.testElementComputedStyle=j.defaultView.getComputedStyle(k)}return k},getCssStyleValue:function(m,j){var k=this.getTestElement(),g=this.testElementComputedStyle,l=k.style;l.setProperty(m,j);if(Ext.browser.is.Firefox){k.offsetHeight}j=g.getPropertyValue(m);l.removeProperty(m);return j},run:function(R){var al=this,ag=Ext.Function,ae=al.lengthProperties,af={},at={},T={},Z={},aq,az,ap,Q,ac,S,ah,am,aw,ax,ay,V,W,ad,j,U,ab,ai,an,au,ar,ak,Y,aj,ao,av,X,aa;if(!al.listenersAttached){al.attachListeners()}R=Ext.Array.from(R);for(V=0,ad=R.length;V<ad;V++){j=R[V];j=Ext.factory(j,Ext.fx.Animation);al.activeElement=aq=j.getElement();Ext.AnimationQueue.start(Ext.emptyFn,j);ai=window.getComputedStyle(aq.dom);az=al.getElementId(aq);T[az]=T=Ext.merge({},j.getData());if(j.onBeforeStart){j.onBeforeStart.call(j.scope||al,aq)}j.fireEvent("animationstart",j,T);al.fireEvent("animationstart",al,j,T);ac=T.before;ap=T.from;Q=T.to;T.fromPropertyNames=S=[];T.toPropertyNames=ah=[];for(au in Q){if(Q.hasOwnProperty(au)){Q[au]=ar=al.formatValue(Q[au],au);an=al.formatName(au);aj=ae.hasOwnProperty(au);if(!aj){ar=al.getCssStyleValue(an,ar)}if(ap.hasOwnProperty(au)){ap[au]=Y=al.formatValue(ap[au],au);if(!aj){Y=al.getCssStyleValue(an,Y)}if(ar!==Y){S.push(an);ah.push(an)}}else{ak=ai.getPropertyValue(an);if(ar!==ak){ah.push(an)}}}}U=ah.length;if(U===0){al.onAnimationEnd(aq,T,j);continue}ax=al.getRunningData(az);X=ax.sessions;if(X.length>0){al.refreshRunningAnimationsData(aq,Ext.Array.merge(S,ah),true,T.replacePrevious)}ao=ax.nameMap;av=ax.nameList;ab={};for(W=0;W<U;W++){au=ah[W];ab[au]=true;if(!ao.hasOwnProperty(au)){ao[au]=1;av.push(au)}else{ao[au]++}}aa={element:aq,map:ab,list:ah.slice(),length:U,data:T,animation:j};X.push(aa);j.on("stop","onAnimationStop",al);ay=Ext.apply({},ac);Ext.apply(ay,ap);if(av.length>0){S=Ext.Array.difference(av,S);ah=Ext.Array.merge(S,ah);ay["transition-property"]=S}af[az]=ay;at[az]=Ext.apply({},Q);Z[az]={"transition-property":ah,"transition-duration":T.duration,"transition-timing-function":T.easing,"transition-delay":T.delay};j.startTime=Date.now()}al.activeElement=null;aw=al.$className;al.applyStyles(af);am=function(b){if(b.data===aw&&b.source===window){window.removeEventListener("message",am,false);al.applyStyles(at)}};ag.requestAnimationFrame(function(){if(Ext.isIE){al.applyStyles(Z);ag.requestAnimationFrame(function(){window.addEventListener("message",am,false);window.postMessage(aw,"*")})}else{Ext.merge(at,Z);window.addEventListener("message",am,false);window.postMessage(aw,"*")}})},onAnimationStop:function(q){var o=this.runningAnimationsData,m,l,n,s,r,p;for(m in o){if(o.hasOwnProperty(m)){l=o[m];n=l.sessions;for(s=0,r=n.length;s<r;s++){p=n[s];if(p.animation===q){this.refreshRunningAnimationsData(p.element,p.list.slice(),false)}}}}}},1,0,0,0,0,0,[Ext.fx.runner,"CssTransition",Ext,"Animator"],0));(Ext.cmd.derive("Ext.list.AbstractTreeItem",Ext.Widget,{isTreeListItem:true,cachedConfig:{expandable:false,expanded:false,iconCls:"",leaf:true,loading:false,selected:false,selectedParent:false},config:{iconClsProperty:"iconCls",indent:null,owner:null,node:null,over:null,parentItem:null,text:{lazy:true,$value:""},textProperty:"text"},updateNode:function(r){if(r){var o=this,v=o.itemMap,n,u,p,q,m,s;o.element.dom.setAttribute("data-recordId",r.internalId);if(!v){n=r.childNodes;u=o.getOwner();o.itemMap=v={};for(q=0,p=n.length;q<p;++q){s=n[q];if(s.data.visible){m=u.createItem(s,o);v[s.internalId]=m;o.insertItem(m,null)}}}o.setExpanded(r.isExpanded());o.doNodeUpdate(r)}},updateSelected:function(e){if(!this.isConfiguring){var d=this.getParentItem();while(d&&!d.isRootListItem){d.setSelectedParent(e);d=d.getParentItem()}}},collapse:function(){this.getNode().collapse()},expand:function(){this.getNode().expand()},getToolElement:Ext.emptyFn,insertItem:Ext.emptyFn,isExpanded:function(){return this.getExpanded()},isSelectionEvent:Ext.emptyFn,isToggleEvent:Ext.emptyFn,nodeCollapse:function(l,j){var m=this,g=m.getOwner(),k=m.preventAnimation?null:g.getAnimation();m.nodeCollapseBegin(k,j);if(!k){m.nodeCollapseEnd(j)}},nodeCollapseBegin:function(j,g){var k=this,f=k.getOwner();k.setExpanded(false);f.fireEvent("itemcollapse",f,k)},nodeCollapseEnd:function(c){if(!c){this.getOwner().updateLayout()}},nodeExpand:function(l){var m=this,g=m.getOwner(),j=m.getFloated(),k=!j&&g.getAnimation();m.nodeExpandBegin(k);if(!k){m.nodeExpandEnd()}},nodeExpandBegin:function(f){var g=this,e=g.getOwner();g.setExpanded(true);e.fireEvent("itemexpand",e,g)},nodeExpandEnd:function(){this.getOwner().updateLayout()},nodeInsert:function(r,p){var o=this,s=o.getOwner(),v=o.itemMap,u=r.internalId,m=s.getItem(r),q=null,n;if(m){n=m.getParentItem();n.removeItem(m);if(n!==o){n.doUpdateExpandable();m.setParentItem(o)}}else{m=o.getOwner().createItem(r,o)}v[u]=m;if(p){q=v[p.internalId]}o.insertItem(m,q);o.doUpdateExpandable();s.fireEvent("iteminsert",s,o,m,q);s.updateLayout()},nodeRemove:function(m){var n=this,l=n.itemMap,j=n.getOwner(),k=m.internalId,o=l[k];if(o){delete l[k];n.removeItem(o);o.destroy();n.doUpdateExpandable();j.fireEvent("itemremove",j,n,o);j.updateLayout()}},nodeUpdate:function(e,d){this.doNodeUpdate(e)},removeItem:Ext.emptyFn,destroy:function(){var j=this,g=j.itemMap,f=j.getOwner(),k;if(g){for(k in g){g[k].destroy()}j.itemMap=null}if(f){f.removeItem(j.getNode())}j.setNode(null);j.setParentItem(null);j.setOwner(null);Ext.Widget.prototype.destroy.call(this)},privates:{doNodeUpdate:function(g){var j=this,k=this.getTextProperty(),f=this.getIconClsProperty();if(k){j.setText(g.data[k])}if(f){j.setIconCls(g.data[f])}j.setLoading(g.isLoading());j.setLeaf(g.isLeaf());j.doUpdateExpandable()},doUpdateExpandable:function(){var c=this.getNode();this.setExpandable(c.isExpandable())},onClick:function(j){var l=this,e=l.getOwner(),m=l.getNode(),k={event:j,item:l,node:m,tree:e,select:m.get("selectable")!==false&&l.isSelectionEvent(j),toggle:l.isToggleEvent(j)};if(e.fireEvent("itemclick",e,k)!==false){if(k.toggle){l.toggleExpanded();j.preventDefault()}if(k.select){e.setSelection(l.getNode())}}},toggleExpanded:function(){if(this.isExpanded()){this.collapse()}else{this.expand()}},updateIndent:function(g){var e=this.itemMap,f;for(f in e){e[f].setIndent(g)}},updateOwner:function(c){this.parent=c}}},0,0,["widget"],{widget:true},0,0,[Ext.list,"AbstractTreeItem"],0));(Ext.cmd.derive("Ext.list.RootTreeItem",Ext.list.AbstractTreeItem,{isRootListItem:true,element:{reference:"element",tag:"ul",cls:"x-treelist-root-container"},insertItem:function(e,d){if(d){e.element.insertBefore(d.element)}else{this.element.appendChild(e.element)}},isToggleEvent:function(c){return false}},0,0,["widget"],{widget:true},0,0,[Ext.list,"RootTreeItem"],0));(Ext.cmd.derive("Ext.list.TreeItem",Ext.list.AbstractTreeItem,{collapsedCls:"x-treelist-item-collapsed",expandedCls:"x-treelist-item-expanded",floatedCls:[Ext.Widget.prototype.floatedCls,"x-treelist-item-floated"],floatedToolCls:"x-treelist-item-tool-floated",leafCls:"x-treelist-item-leaf",expandableCls:"x-treelist-item-expandable",hideIconCls:"x-treelist-item-hide-icon",loadingCls:"x-treelist-item-loading",selectedCls:"x-treelist-item-selected",selectedParentCls:"x-treelist-item-selected-parent",withIconCls:"x-treelist-item-with-icon",hoverCls:"x-treelist-item-over",rowHoverCls:"x-treelist-row-over",isTreeListItem:true,config:{rowCls:null},rowClsProperty:"rowCls",element:{reference:"element",tag:"li",cls:"x-treelist-item",children:[{reference:"rowElement",cls:"x-treelist-row",children:[{reference:"wrapElement",cls:"x-treelist-item-wrap",children:[{reference:"iconElement",cls:"x-treelist-item-icon"},{reference:"textElement",cls:"x-treelist-item-text"},{reference:"expanderElement",cls:"x-treelist-item-expander"}]}]},{reference:"itemContainer",tag:"ul",cls:"x-treelist-container"},{reference:"toolElement",cls:"x-treelist-item-tool"}]},constructor:function(d){Ext.list.AbstractTreeItem.prototype.constructor.call(this,d);var e=this.toolElement.dom;e.parentNode.removeChild(e)},getToolElement:function(){return this.toolElement},insertItem:function(e,d){if(d){e.element.insertBefore(d.element)}else{this.itemContainer.appendChild(e.element)}},isSelectionEvent:function(e){var d=this.getOwner();return(!this.isToggleEvent(e)||!d.getExpanderOnly()||d.getSelectOnExpander())},isToggleEvent:function(e){var d=false;if(this.getOwner().getExpanderOnly()){d=e.target===this.expanderElement.dom}else{d=!this.itemContainer.contains(e.target)}return d},nodeCollapseBegin:function(k,j){var l=this,m=l.itemContainer,g;if(l.expanding){l.stopAnimation(l.expanding)}g=k&&m.getHeight();Ext.list.AbstractTreeItem.prototype.nodeCollapseBegin.call(this,k,j);if(k){m.dom.style.display="block";l.collapsingForExpand=j;l.collapsing=this.runAnimation(Ext.merge({from:{height:g},to:{height:0},callback:l.nodeCollapseDone,scope:l},k))}},nodeCollapseDone:function(f){var g=this,e=g.itemContainer;g.collapsing=null;e.dom.style.display="";e.setHeight(null);g.nodeCollapseEnd(g.collapsingForExpand)},nodeExpandBegin:function(g){var j=this,k=j.itemContainer,f;if(j.collapsing){j.stopAnimation(j.collapsing)}Ext.list.AbstractTreeItem.prototype.nodeExpandBegin.call(this,g);if(g){f=k.getHeight();k.setHeight(0);j.expanding=j.runAnimation(Ext.merge({to:{height:f},callback:j.nodeExpandDone,scope:j},g))}},nodeExpandDone:function(){this.expanding=null;this.itemContainer.setHeight(null);this.nodeExpandEnd()},removeItem:function(c){this.itemContainer.removeChild(c.element)},updateNode:function(d,e){this.syncIndent();Ext.list.AbstractTreeItem.prototype.updateNode.call(this,d,e)},updateExpandable:function(){this.updateExpandCls()},updateExpanded:function(){this.updateExpandCls()},updateIconCls:function(k,f){var g=this,j=g.element;g.doIconCls(g.iconElement,k,f);g.doIconCls(g.toolElement,k,f);j.toggleCls(g.withIconCls,!!k);j.toggleCls(g.hideIconCls,k===null)},updateLeaf:function(c){this.element.toggleCls(this.leafCls,c)},updateLoading:function(c){this.element.toggleCls(this.loadingCls,c)},updateOver:function(e){var d=this;d.element.toggleCls(d.hoverCls,!!e);d.rowElement.toggleCls(d.rowHoverCls,e>1)},updateRowCls:function(e,d){this.rowElement.replaceCls(d,e)},updateSelected:function(l,j){var k=this,g=k.selectedCls,m=k.getToolElement();Ext.list.AbstractTreeItem.prototype.updateSelected.call(this,l,j);k.element.toggleCls(g,l);if(m){m.toggleCls(g,l)}},updateSelectedParent:function(g){var f=this;f.element.toggleCls(f.selectedParentCls,g);var e=f.getToolElement();if(e){e.toggleCls(f.selectedCls,g)}},updateText:function(c){this.textElement.update(c)},privates:{doNodeUpdate:function(c){Ext.list.AbstractTreeItem.prototype.doNodeUpdate.call(this,c);this.setRowCls(c&&c.data[this.rowClsProperty])},doIconCls:function(f,g,e){if(e){f.removeCls(e)}if(g){f.addCls(g)}},syncIndent:function(){var j=this,f=j.getIndent(),k=j.getNode(),g;if(k){g=k.data.depth-1;j.wrapElement.dom.style.marginLeft=(g*f)+"px"}},updateExpandCls:function(){if(!this.updatingExpandCls){var l=this,n=l.getExpandable(),m=l.element,o=l.getExpanded(),j=l.expandedCls,k=l.collapsedCls;l.updatingExpandCls=true;m.toggleCls(l.expandableCls,n);if(n){m.toggleCls(j,o);m.toggleCls(k,!o)}else{m.removeCls([j,k])}l.updatingExpandCls=false}},updateIndent:function(e,d){this.syncIndent();Ext.list.AbstractTreeItem.prototype.updateIndent.call(this,e,d)}}},1,["treelistitem"],["widget","treelistitem"],{widget:true,treelistitem:true},["widget.treelistitem"],0,[Ext.list,"TreeItem"],0));Ext.define("Ext.overrides.list.TreeItem",{override:"Ext.list.TreeItem",config:{floated:null},setFloated:function(l){var m=this,o=m.element,k=m.placeholder,n,j;if(m.treeItemFloated!==l){if(l){k=o.clone(false,true);k.id+="-placeholder";m.placeholder=Ext.get(k);m.wasExpanded=m.getExpanded();m.setExpanded(true);o.addCls(m.floatedCls);o.dom.parentNode.insertBefore(k,o.dom);m.floater=m.createFloater()}else{if(k){j=m.wasExpanded;n=m.getNode();m.setExpanded(j);if(!j&&n.isExpanded()){m.preventAnimation=true;n.collapse();m.preventAnimation=false}m.floater.remove(m,false);o.removeCls(m.floatedCls);k.dom.parentNode.insertBefore(o.dom,k.dom);k.destroy();m.floater.destroy();m.placeholder=m.floater=null}}m.treeItemFloated=l}},getFloated:function(){return this.treeItemFloated},runAnimation:function(c){return this.itemContainer.addAnimation(c)},stopAnimation:function(c){c.jumpToEnd()},privates:{createFloater:function(){var k=this,g=k.getOwner(),m=k.up("treelist"),l,j=k.getToolElement();k.floater=l=new Ext.container.Container({cls:m.self.prototype.element.cls+" "+m.uiPrefix+m.getUi()+" x-treelist-floater",floating:true,width:Ext.isIE8?200:(m.expandedWidth-j.getWidth()),shadow:false,renderTo:Ext.getBody(),listeners:{element:"el",click:function(b){return g.onClick(b)}}});l.add(k);l.show();l.el.alignTo(j,"tr?");return l}}});Ext.define("Ext.theme.triton.list.TreeItem",{override:"Ext.list.TreeItem",compatibility:Ext.isIE8,setFloated:function(e,d){arguments.callee.$previous.call(this,e,d);this.toolElement.syncRepaint()}});(Ext.cmd.derive("Ext.list.Tree",Ext.Widget,{expanderFirstCls:"x-treelist-expander-first",expanderOnlyCls:"x-treelist-expander-only",highlightPathCls:"x-treelist-highlight-path",microCls:"x-treelist-micro",uiPrefix:"x-treelist-",element:{reference:"element",cls:"x-treelist x-unselectable",listeners:{click:"onClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseover:"onMouseOver"},children:[{reference:"toolsElement",cls:"x-treelist-toolstrip",listeners:{click:"onToolStripClick",mouseover:"onToolStripMouseOver"}}]},cachedConfig:{animation:{duration:500,easing:"ease"},expanderFirst:true,expanderOnly:true},config:{defaults:{xtype:"treelistitem"},highlightPath:null,iconSize:null,indent:null,micro:false,overItem:null,selection:null,selectOnExpander:false,singleExpand:null,store:null,ui:null},twoWayBindable:{selection:1},publishes:{selection:1},defaultBindProperty:"store",constructor:function(d){var e=this;Ext.Widget.prototype.constructor.call(this,d);e.publishState("selection",e.getSelection());if(!Ext.isIE8){e.el.on({resize:e.onElResize,buffer:300,scope:e})}},beforeLayout:function(){this.syncIconSize()},destroy:function(){var c=this;c.destroying=true;c.unfloatAll();c.activeFloater=null;c.setSelection(null);c.setStore(null);Ext.Widget.prototype.destroy.call(this)},updateOverItem:function(l,c){var m={},n=2,k,o;for(k=l;k;k=this.getItem(o.parentNode)){o=k.getNode();m[o.internalId]=true;k.setOver(n);n=1}if(c){for(k=c;k;k=this.getItem(o.parentNode)){o=k.getNode();if(m[o.internalId]){break}k.setOver(0)}}},applyMicro:function(c){return Boolean(c)},applySelection:function(f,e){var g=this.getStore();if(!g){f=null}if(f&&f.get("selectable")===false){f=e}return f},updateSelection:function(k,f){var g=this,j;if(!g.destroying){j=g.getItem(f);if(j){j.setSelected(false)}j=g.getItem(k);if(j){j.setSelected(true)}g.fireEvent("selectionchange",g,k)}},applyStore:function(c){return c&&Ext.StoreManager.lookup(c,"tree")},updateStore:function(k,g){var j=this,f;if(g){if(!g.destroyed){if(g.getAutoDestroy()){g.destroy()}else{j.storeListeners.destroy()}}j.removeRoot();j.storeListeners=null}if(k){j.storeListeners=k.on({destroyable:true,scope:j,filterchange:"onFilterChange",nodeappend:"onNodeAppend",nodecollapse:"onNodeCollapse",nodeexpand:"onNodeExpand",nodeinsert:"onNodeInsert",noderemove:"onNodeRemove",rootchange:"onRootChange",update:"onNodeUpdate"});f=k.getRoot();if(f){j.createRootItem(f)}}if(!j.destroying){j.updateLayout()}},updateExpanderFirst:function(c){this.element.toggleCls(this.expanderFirstCls,c)},updateExpanderOnly:function(c){this.element.toggleCls(this.expanderOnlyCls,!c)},updateHighlightPath:function(c){this.element.toggleCls(this.highlightPathCls,c)},onElResize:function(e,d){if(!this.getMicro()){this.expandedWidth=d.width}},updateMicro:function(d){var e=this;if(!d){e.unfloatAll();e.activeFloater=null}e.element.toggleCls(e.microCls,d)},updateUi:function(g,f){var j=this.element,k=this.uiPrefix;if(f){j.removeCls(k+f)}if(g){j.addCls(k+g)}delete this.iconSize;this.syncIconSize()},getItem:function(g){var f=this.itemMap,e;if(g&&f){e=f[g.internalId]}return e||null},getItemConfig:function(e,d){return Ext.apply({parentItem:d.isRootListItem?null:d,owner:this,node:e,indent:this.getIndent()},this.getDefaults())},privates:{checkForOutsideClick:function(e){var d=this.activeFloater;if(!d.element.contains(e.target)){this.unfloatAll()}},collapsingForExpand:false,createItem:function(m,q){var n=this,o=Ext.create(n.getItemConfig(m,q)),l=n.toolsElement,k,p;if(q.isRootListItem){k=o.getToolElement();if(k){p=n.findVisiblePreviousSibling(m);if(!p){l.insertFirst(k)}else{p=n.getItem(p);k.insertAfter(p.getToolElement())}k.dom.setAttribute("data-recordId",m.internalId);k.isTool=true}}n.itemMap[m.internalId]=o;return o},createRootItem:function(e){var f=this,g;f.itemMap={};f.rootItem=g=new Ext.list.RootTreeItem({indent:f.getIndent(),node:e,owner:f});f.element.appendChild(g.element);f.itemMap[e.internalId]=g},findVisiblePreviousSibling:function(e){var d=e.previousSibling;while(d){if(d.data.visible){return d}d=d.previousSibling}return null},floatItem:function(g,k){var j=this,f;if(g.getFloated()){return}if(j.toolMouseListeners){j.toolMouseListeners.destroy();j.floaterMouseListeners.destroy()}j.unfloatAll();j.activeFloater=f=g;j.floatedByHover=k;g.setFloated(true);if(k){j.toolMouseListeners=g.getToolElement().monitorMouseLeave(300,j.checkForMouseLeave,j);j.floaterMouseListeners=(g.floater||g).el.monitorMouseLeave(300,j.checkForMouseLeave,j)}else{Ext.on("mousedown","checkForOutsideClick",j)}},onClick:function(g){var e=g.getTarget("[data-recordId]"),f;if(e){f=e.getAttribute("data-recordId");e=this.itemMap[f];if(e){e.onClick(g)}}},onMouseEnter:function(c){this.onMouseOver(c)},onMouseLeave:function(){this.setOverItem(null)},onMouseOver:function(e){var d=Ext.Component.fromElement(e.getTarget());this.setOverItem(d&&d.isTreeListItem&&d)},checkForMouseLeave:function(f){var g=this.activeFloater,e=f.getRelatedTarget();if(g){if(e!==g.getToolElement().dom&&!g.element.contains(e)){this.unfloatAll()}}},onFilterChange:function(c){this.onRootChange(c.getRoot())},onNodeAppend:function(e,f){if(e){var g=this.itemMap[e.internalId];if(g){g.nodeInsert(f,null)}}},onNodeCollapse:function(e){var d=this.itemMap[e.internalId];if(d){d.nodeCollapse(e,this.collapsingForExpand)}},onNodeExpand:function(o){var p=this,q=p.itemMap[o.internalId],n,s,r,l,m;if(q){if(!q.isRootItem&&p.getSingleExpand()){p.collapsingForExpand=true;l=(q.getParentItem()||p.rootItem).getNode();n=l.childNodes;for(r=0,s=n.length;r<s;++r){m=n[r];if(m!==o){m.collapse()}}p.collapsing=false}q.nodeExpand(o)}},onNodeInsert:function(f,g,k){var j=this.itemMap[f.internalId];if(j){j.nodeInsert(g,k)}},onNodeRemove:function(f,g,k){if(f&&!k){var j=this.itemMap[f.internalId];if(j){j.nodeRemove(g)}}},onNodeUpdate:function(g,j,m,k){var l=this.itemMap[j.internalId];if(l){l.nodeUpdate(j,k)}},onRootChange:function(d){var e=this;e.removeRoot();if(d){e.createRootItem(d)}e.updateLayout();e.fireEvent("refresh",e)},removeItem:function(l){var k=this.itemMap,j=l.internalId,m,g;if(k){m=k[j];if(m.getParentItem()===null){g=m.getToolElement();if(g){this.toolsElement.removeChild(g)}}delete k[j]}},removeRoot:function(){var e=this,d=e.rootItem;if(d){e.element.removeChild(d.element);e.rootItem=e.itemMap=Ext.destroy(d)}},onToolStripClick:function(g){var e=g.getTarget("[data-recordId]"),f;if(e){f=e.getAttribute("data-recordId");e=this.itemMap[f];if(e){if(e===this.activeFloater){this.unfloatAll()}else{this.floatItem(e,false)}}}},onToolStripMouseOver:function(g){var e=g.getTarget("[data-recordId]"),f;if(e){f=e.getAttribute("data-recordId");e=this.itemMap[f];if(e){this.floatItem(e,true)}}},syncIconSize:function(){var e=this,d=e.iconSize||(e.iconSize=parseInt(e.element.getStyle("background-position"),10));e.setIconSize(d)},unfloatAll:function(){var e=this,d=e.activeFloater;if(d){d.setFloated(false);e.activeFloater=null;if(e.floatedByHover){d.getToolElement().un("mouseleave","checkForMouseLeave",e);d.element.un({scope:e,mouseleave:"checkForMouseLeave",mouseover:"onMouseOver"})}else{Ext.un("mousedown","checkForOutsideClick",e)}}},defaultIconSize:22,updateIconSize:function(c){this.setIndent(c||this.defaultIconSize)},updateIndent:function(e){var d=this.rootItem;if(d){d.setIndent(e)}}}},1,["treelist"],["widget","treelist"],{widget:true,treelist:true},["widget.treelist"],0,[Ext.list,"Tree"],0));(Ext.cmd.derive("Ext.mixin.Container",Ext.Mixin,{mixinConfig:{id:"container"},isContainer:true,config:{referenceHolder:false},getReferences:function(){Ext.ComponentManager.fixReferences();return this.refs||null},lookup:function(e){var d=this.getReferences();return(d&&d[e])||null},lookupReference:function(c){return this.lookup(c)},privates:{attachReference:function(k){var g=this,j,f;if(g.destroying||g.destroyed){return}f=g.refs||(g.refs={});j=k.referenceKey;f[j]=k},clearReference:function(g){var e=this.refs,f=g.referenceKey;if(e&&f){g.viewModelKey=g.referenceKey=e[f]=null}},containerOnAdded:function(e,d){if(d){Ext.ComponentManager.markReferencesDirty()}},containerOnRemoved:function(d){var e;if(!d){e=this.lookupReferenceHolder();if(e){Ext.ComponentManager.markReferencesDirty();e.clearReferences()}}},clearReferences:function(){this.refs=null},initContainerInheritedState:function(p,r){var n=this,s=n.getController(),m=n.getSession(),q=n.getConfig("viewModel",true),l=n.getReference(),o=n.getReferenceHolder();if(s){p.referenceHolder=s;o=true}else{if(o){p.referenceHolder=n}}if(o){p.referencePath=""}else{if(l&&n.isParentReference){p.referencePath=n.referenceKey+"."}}if(m){p.session=m}if(q){p.viewModelPath=""}else{if(l&&n.isParentReference){p.viewModelPath=n.viewModelKey+"."}}},setupReference:function(e){var d;if(e&&e.charAt(d=e.length-1)===">"){this.isParentReference=true;e=e.substring(0,d)}return e}}},0,0,0,0,0,0,[Ext.mixin,"Container"],0));(Ext.cmd.derive("Ext.mixin.Responsive",Ext.Mixin,function(c){return{mixinConfig:{id:"responsive",after:{destroy:"destroy"}},config:{responsiveConfig:{$value:undefined,merge:function(b,n,k,l){if(!b){return n}var o=n?Ext.Object.chain(n):{},m;for(m in b){if(!l||!(m in o)){o[m]={fn:null,config:b[m]}}}return o}},responsiveFormulas:{$value:0,merge:function(b,k,g,j){return this.mergeNew(b,k,g,j)}}},destroy:function(){c.unregister(this)},privates:{statics:{active:false,all:{},context:Ext.Object.chain(Ext.platformTags),count:0,nextId:0,activate:function(){c.active=true;c.updateContext();Ext.on("resize",c.onResize,c)},deactivate:function(){c.active=false;Ext.un("resize",c.onResize,c)},notify:function(){var k=c.all,l=c.context,m=Ext.GlobalEvents,b=c.timer,j;if(b){c.timer=null;Ext.asapCancel(b)}c.updateContext();Ext.suspendLayouts();m.fireEvent("beforeresponsiveupdate",l);for(j in k){k[j].setupResponsiveContext()}m.fireEvent("beginresponsiveupdate",l);for(j in k){k[j].updateResponsiveState()}m.fireEvent("responsiveupdate",l);Ext.resumeLayouts(true)},onResize:function(){if(!c.timer){c.timer=Ext.asap(c.onTimer)}},onTimer:function(){c.timer=null;c.notify()},processConfig:function(q,b,m){var l=b&&b[m],n=q.config,p,o;if(l){o=q.self.getConfigurator();p=o.configs[m];n[m]=p.merge(l,n[m],q)}},register:function(e){var b=e.$responsiveId;if(!b){e.$responsiveId=b=++c.nextId;c.all[b]=e;if(++c.count===1){c.activate()}}},unregister:function(e){var b=e.$responsiveId;if(b in c.all){e.$responsiveId=null;delete c.all[b];if(--c.count===0){c.deactivate()}}},updateContext:function(){var b=Ext.Element,g=b.getViewportWidth(),k=b.getViewportHeight(),j=c.context;j.width=g;j.height=k;j.tall=g<k;j.wide=!j.tall;j.landscape=j.portrait=false;if(!j.platform){j.platform=Ext.platformTags}j[Ext.dom.Element.getOrientation()]=true}},afterClassMixedIn:function(b){var j=b.prototype,m=j.responsiveConfig,k=j.responsiveFormulas,l;if(m||k){l={};if(m){delete j.responsiveConfig;l.responsiveConfig=m}if(k){delete j.responsiveFormulas;l.responsiveFormulas=k}b.getConfigurator().add(l)}},applyResponsiveConfig:function(b){for(var e in b){b[e].fn=Ext.createRuleFn(e)}return b},applyResponsiveFormulas:function(g){var j={},b,k;if(g){for(k in g){if(Ext.isString(b=g[k])){b=Ext.createRuleFn(b)}j[k]=b}}return j},getResponsiveState:function(){var l=c.context,b=this.getResponsiveConfig(),m={},k,j;if(b){for(j in b){k=b[j];if(k.fn.call(this,l)){Ext.merge(m,k.config)}}}return m},setupResponsiveContext:function(){var f=this.getResponsiveFormulas(),b=c.context,g;if(f){for(g in f){b[g]=f[g].call(this,b)}}},transformInstanceConfig:function(b){var f=this,g;c.register(f);if(b){c.processConfig(f,b,"responsiveConfig");c.processConfig(f,b,"responsiveFormulas")}f.setupResponsiveContext();g=f.getResponsiveState();if(b){g=Ext.merge({},b,g);delete g.responsiveConfig;delete g.responsiveFormulas}return g},updateResponsiveState:function(){var b=this.getResponsiveState();this.setConfig(b)}}}},0,0,0,0,0,0,[Ext.mixin,"Responsive"],0));(Ext.cmd.derive("Ext.perf.Accumulator",Ext.Base,function(){var s=null,o=Ext.global.chrome,r,u=function(){u=Ext.now;var b,d;if(Ext.isChrome&&o&&o.Interval){b=new o.Interval();b.start();u=function(){return b.microseconds()/1000}}else{if(window.ActiveXObject){try{d=new ActiveXObject("SenchaToolbox.Toolbox");Ext.senchaToolbox=d;u=function(){return d.milliseconds}}catch(c){}}}Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=u;return u()};function n(c,b){c.sum+=b;c.min=Math.min(c.min,b);c.max=Math.max(c.max,b)}function q(c){var e=c?c:(u()-this.time),d=this,b=d.accum;++b.count;if(!--b.depth){n(b.total,e)}n(b.pure,e-d.childTime);s=d.parent;if(s){++s.accum.childCount;s.childTime+=e}}function v(){return{min:Number.MAX_VALUE,max:0,sum:0}}function m(c,b){return function(){var d=c.enter(),e=b.apply(this,arguments);d.leave();return e}}function p(e,f,b,c){var d={avg:0,min:c.min,max:c.max,sum:0};if(e){b=b||0;d.sum=c.sum-f*b;d.avg=d.sum/e}return d}return{constructor:function(b){var c=this;c.count=c.childCount=c.depth=c.maxDepth=0;c.pure=v();c.total=v();c.name=b},statics:{getTimestamp:u},format:function(b){if(!r){r=new Ext.XTemplate(["{name} - {count} call(s)",'<tpl if="count">','<tpl if="childCount">'," ({childCount} children)","</tpl>",'<tpl if="depth - 1">'," ({depth} deep)","</tpl>",'<tpl for="times">',", {type}: {[this.time(values.sum)]} msec (","avg={[this.time(values.sum / parent.count)]}",")","</tpl>","</tpl>"].join(""),{time:function(d){return Math.round(d*100)/100}})}var c=this.getData(b);c.name=this.name;c.pure.type="Pure";c.total.type="Total";c.times=[c.pure,c.total];return r.apply(c)},getData:function(b){var c=this;return{count:c.count,childCount:c.childCount,depth:c.maxDepth,pure:p(c.count,c.childCount,b,c.pure),total:p(c.count,c.childCount,b,c.total)}},enter:function(){var b=this,c={accum:b,leave:q,childTime:0,parent:s};++b.depth;if(b.maxDepth<b.depth){b.maxDepth=b.depth}s=c;c.time=u();return c},monitor:function(d,e,b){var c=this.enter();if(b){d.apply(e,b)}else{d.call(e)}c.leave()},report:function(){Ext.log(this.format())},tap:function(A,k){var l=this,d=typeof k==="string"?[k]:k,B,j,b,c,e,f,g,C;C=function(){if(typeof A==="string"){B=Ext.global;c=A.split(".");for(b=0,e=c.length;b<e;++b){B=B[c[b]]}}else{B=A}for(b=0,e=d.length;b<e;++b){f=d[b];j=f.charAt(0)==="!";if(j){f=f.substring(1)}else{j=!(f in B.prototype)}g=j?B:B.prototype;g[f]=m(l,g[f])}};Ext.ClassManager.onCreated(C,l,A);return l}}},1,0,0,0,0,0,[Ext.perf,"Accumulator"],function(){Ext.perf.getTimestamp=this.getTimestamp}));(Ext.cmd.derive("Ext.perf.Monitor",Ext.Base,{singleton:true,alternateClassName:"Ext.Perf",constructor:function(){this.accumulators=[];this.accumulatorsByName={}},calibrate:function(){var q=new Ext.perf.Accumulator("$"),m=q.total,p=Ext.perf.Accumulator.getTimestamp,n=0,l,k,o;o=p();do{l=q.enter();l.leave();++n}while(m.sum<100);k=p();return(k-o)/n},get:function(g){var f=this,e=f.accumulatorsByName[g];if(!e){f.accumulatorsByName[g]=e=new Ext.perf.Accumulator(g);f.accumulators.push(e)}return e},enter:function(c){return this.get(c).enter()},monitor:function(e,f,g){this.get(e).monitor(f,g)},report:function(){var f=this,g=f.accumulators,e=f.calibrate();g.sort(function(b,c){return(b.name<c.name)?-1:((c.name<b.name)?1:0)});f.updateGC();Ext.log("Calibration: "+Math.round(e*100)/100+" msec/sample");Ext.each(g,function(b){Ext.log(b.format(e))})},getData:function(f){var g={},e=this.accumulators;Ext.each(e,function(b){if(f||b.count){g[b.name]=b.getData()}});return g},reset:function(){Ext.each(this.accumulators,function(d){var e=d;e.count=e.childCount=e.depth=e.maxDepth=0;e.pure={min:Number.MAX_VALUE,max:0,sum:0};e.total={min:Number.MAX_VALUE,max:0,sum:0}})},updateGC:function(){var e=this.accumulatorsByName.GC,g=Ext.senchaToolbox,f;if(e){e.count=g.garbageCollectionCounter||0;if(e.count){f=e.pure;e.total.sum=f.sum=g.garbageCollectionMilliseconds;f.min=f.max=f.sum/e.count;f=e.total;f.min=f.max=f.sum/e.count}}},watchGC:function(){Ext.perf.getTimestamp();var c=Ext.senchaToolbox;if(c){this.get("GC");c.watchGarbageCollector(false)}},setup:function(n){if(!n){n={render:{"Ext.Component":"render"},layout:{"Ext.layout.Context":"run"}}}this.currentConfig=n;var m,k,o,l,j;for(m in n){if(n.hasOwnProperty(m)){k=n[m];o=Ext.Perf.get(m);for(l in k){if(k.hasOwnProperty(l)){j=k[l];o.tap(l,j)}}}}this.watchGC()},setupLog:function(n){var l,j,o,k,m;for(l in n){if(n.hasOwnProperty(l)){j=Ext.ClassManager.get(l);if(j){o=n[l];m={};for(k in o){m[k]=(function(c,b){return function(){var q,g,f,d,e;q=+Date.now();e=this.callParent(arguments);g=+Date.now()-q;if(window.console&&g>0){d=b==="this"?this:typeof b==="string"?this[b]:typeof b==="number"?arguments[b]:null;if(d){f=d.id}if(f!=null){console.log(c+" for "+f+": "+g+"ms")}else{console.log(c+" for unknown: "+g+"ms")}if(console.trace){console.trace()}}return e}})(k,o[k])}Ext.override(j,m)}}}}},1,0,0,0,0,0,[Ext.perf,"Monitor",Ext,"Perf"],0));(Ext.cmd.derive("Ext.plugin.Abstract",Ext.Base,{alternateClassName:"Ext.AbstractPlugin",isPlugin:true,constructor:function(c){if(c){this.pluginConfig=c;this.initConfig(c)}},clonePlugin:function(c){return new this.self(Ext.apply({},c,this.pluginConfig))},getCmp:function(){return this.cmp},setCmp:function(c){this.cmp=c},init:Ext.emptyFn,destroy:function(){this.cmp=this.pluginConfig=null;this.callParent()},onClassExtended:function(m,j,g){var k=j.alias,l=m.prototype;if(k&&!j.ptype){if(Ext.isArray(k)){k=k[0]}l.ptype=k.split("plugin.")[1]}},resolveListenerScope:function(g){var j=this,k=j.getCmp(),f;if(k){f=k.resolveSatelliteListenerScope(j,g)}return f||j.mixins.observable.resolveListenerScope.call(j,g)}},1,0,0,0,0,0,[Ext.plugin,"Abstract",Ext,"AbstractPlugin"],0));Ext.define("Ext.overrides.plugin.Abstract",{override:"Ext.plugin.Abstract",$configStrict:false,$configPrefixed:false,disabled:false,getState:null,applyState:null,enable:function(){this.disabled=false},disable:function(){this.disabled=true}});(Ext.cmd.derive("Ext.util.ItemCollection",Ext.util.MixedCollection,{alternateClassName:"Ext.ItemCollection",getKey:function(c){return c.getItemId&&c.getItemId()},has:function(c){return this.map.hasOwnProperty(c.getId())}},0,0,0,0,0,0,[Ext.util,"ItemCollection",Ext,"ItemCollection"],0));(Ext.cmd.derive("Ext.util.TaskManager",Ext.util.TaskRunner,{alternateClassName:["Ext.TaskManager"],singleton:true},0,0,0,0,0,0,[Ext.util,"TaskManager",Ext,"TaskManager"],0));(Ext.cmd.derive("Ext.util.TextMetrics",Ext.Base,{statics:{shared:null,measure:function(g,k,j){var m=this,l=m.shared;if(!l){l=m.shared=new m(g,j)}l.bind(g);l.setFixedWidth(j||"auto");return l.getSize(k)},destroy:function(){var c=this;Ext.destroy(c.shared);c.shared=null}},constructor:function(f,g){var j=this,k=Ext.getBody().createChild({role:"presentation",cls:"x-textmetrics"});k.setVisibilityMode(1);j.measure=k;if(f){j.bind(f)}k.position("absolute");k.setLocalXY(-1000,-1000);k.hide();if(g){k.setWidth(g)}},getSize:function(f){var g=this.measure,e;g.setHtml(f);e=g.getSize();g.setHtml("");return e},bind:function(d){var e=this;e.el=Ext.get(d);e.measure.setStyle(e.el.getStyle(["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing","word-break"]))},setFixedWidth:function(c){this.measure.setWidth(c)},getWidth:function(c){this.measure.dom.style.width="auto";return this.getSize(c).width},getHeight:function(c){return this.getSize(c).height},destroy:function(){var c=this;c.el=c.measure=Ext.destroy(c.measure);c.callParent()}},1,0,0,0,0,0,[Ext.util,"TextMetrics"],function(){Ext.Element.override({getTextWidth:function(f,g,e){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.valueFrom(f,this.dom.innerHTML,true)).width,g||0,e||1000000)}})}));Ext.define(null,{override:"Ext.event.publisher.Focus",compatibility:Ext.isIE10m,publishDelegatedDomEvent:function(f){var e=document.body,g=Ext.synchronouslyFocusing;if(g&&((f.type==="focusout"&&(f.srcElement===g||f.srcElement===window)&&f.toElement===e)||(f.type==="focusin"&&(f.srcElement===e||f.srcElement===window)&&f.fromElement===g&&f.toElement===null))){return}this.callParent([f])}});Ext.define(null,{override:"Ext.form.field.Checkbox",compatibility:Ext.isIE8,changeEventName:"propertychange",onChangeEvent:function(c){if(this.duringSetRawValue||c.browserEvent.propertyName!=="checked"){return}this.callParent([c])},updateCheckedCls:function(g){var e=this,f=e.displayEl;e.callParent([g]);if(f&&g!==e.lastValue){f.repaint()}}});Ext.define(null,{override:"Ext.form.field.Radio",compatibility:Ext.isIE8,getSubTplData:function(d){var e=this.callParent([d]);delete e.checked;return e},afterRender:function(){this.callParent();if(this.checked){this.inputEl.dom.checked=true}},onChange:function(e,d){this.callSuper([e,d])}});Ext.define(null,{override:"Ext.scroll.Scroller",compatibility:Ext.isIE8,privates:{doScrollTo:function(p,q,x){var r=this,v=r.getElement(),u,w,o,n,s;if(v&&!v.destroyed){w=this.getElement().dom;n=(p===Infinity);s=(q===Infinity);if(n||s){u=r.getMaxPosition();if(n){p=u.x}if(s){q=u.y}}p=r.convertX(p);if(x){o={};if(q!=null){o.scrollTop=q}if(p!=null){o.scrollLeft=p}v.animate(Ext.mergeIf({to:{scrollTop:q,scrollLeft:p}},x))}else{if(p!=null&&q!=null){r.deferDomScroll=true}if(q!=null){w.scrollTop=q}if(p!=null){w.scrollLeft=p}if(r.deferDomScroll){r.deferDomScroll=false;+w.scrollLeft;w.scrollLeft=p}}r.positionDirty=true}},onDomScroll:function(){var c=this;if(c.deferDomScroll){return}c.callParent()}}});(Ext.cmd.derive("Ext.Action",Ext.Base,{constructor:function(c){this.initialConfig=c;this.itemId=c.itemId=(c.itemId||c.id||Ext.id());this.items=[]},isAction:true,setText:function(c){this.initialConfig.text=c;this.callEach("setText",[c])},getText:function(){return this.initialConfig.text},setIconCls:function(c){this.initialConfig.iconCls=c;this.callEach("setIconCls",[c])},setGlyph:function(c){this.initialConfig.glyph=c;this.callEach("setGlyph",[c])},getIconCls:function(){return this.initialConfig.iconCls},setDisabled:function(c){this.initialConfig.disabled=c;this.callEach("setDisabled",[c])},enable:function(){this.setDisabled(false)},disable:function(){this.setDisabled(true)},isDisabled:function(){return this.initialConfig.disabled},setHidden:function(c){this.initialConfig.hidden=c;this.callEach("setVisible",[!c])},show:function(){this.setHidden(false)},hide:function(){this.setHidden(true)},isHidden:function(){return this.initialConfig.hidden},setHandler:function(e,d){this.initialConfig.handler=e;this.initialConfig.scope=d;this.callEach("setHandler",[e,d])},each:function(e,d){Ext.each(this.items,e,d)},callEach:function(k,n){var o=this.items,m=0,j=o.length,l;Ext.suspendLayouts();for(;m<j;m++){l=o[m];l[k].apply(l,n)}Ext.resumeLayouts(true)},addComponent:function(c){this.items.push(c);c.on("destroy",this.removeComponent,this)},removeComponent:function(c){Ext.Array.remove(this.items,c)},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||Ext.global,arguments)}},1,0,0,0,0,0,[Ext,"Action"],0));(Ext.cmd.derive("Ext.ElementLoader",Ext.Base,{statics:{Renderer:{Html:function(e,g,f){e.getTarget().setHtml(g.responseText,f.scripts===true,f.rendererScope);return true}}},url:null,params:null,baseParams:null,autoLoad:false,target:null,loadMask:false,ajaxOptions:null,scripts:false,isLoader:true,constructor:function(g){var f=this,e;f.mixins.observable.constructor.call(f,g);f.setTarget(f.target);if(f.autoLoad){e=f.autoLoad;if(e===true){e=null}f.load(e)}},setTarget:function(e){var d=this;e=Ext.get(e);if(d.target&&d.target!==e){d.abort()}d.target=e},getTarget:function(){return this.target||null},abort:function(){var c=this.active;if(c!==undefined){Ext.Ajax.abort(c.request);if(c.mask){this.removeMask()}delete this.active}},removeMask:function(){this.target.unmask()},addMask:function(c){this.target.mask(c===true?null:c)},load:function(p){p=Ext.apply({},p);var n=this,k=Ext.isDefined(p.loadMask)?p.loadMask:n.loadMask,m=Ext.apply({},p.params),q=Ext.apply({},p.ajaxOptions),l=p.callback||n.callback,o=p.scope||n.scope||n;Ext.applyIf(q,n.ajaxOptions);Ext.applyIf(p,q);Ext.applyIf(m,n.params);Ext.apply(m,n.baseParams);Ext.applyIf(p,{url:n.url});Ext.apply(p,{scope:n,params:m,callback:n.onComplete});if(n.fireEvent("beforeload",n,p)===false){return}if(k){n.addMask(k)}n.active={options:p,mask:k,scope:o,callback:l,success:p.success||n.success,failure:p.failure||n.failure,renderer:p.renderer||n.renderer,scripts:Ext.isDefined(p.scripts)?p.scripts:n.scripts};n.active.request=Ext.Ajax.request(p);n.setOptions(n.active,p)},setOptions:function(e,d){e.rendererScope=d.rendererScope||this.rendererScope||this},onComplete:function(q,m,k){var o=this,n=o.active,l,p;if(n){p=n.scope;l=n.rendererScope;if(m){m=o.getRenderer(n.renderer).call(l,o,k,n)!==false}if(m){Ext.callback(n.success,p,[o,k,q]);o.fireEvent("load",o,k,q)}else{Ext.callback(n.failure,p,[o,k,q]);o.fireEvent("exception",o,k,q)}Ext.callback(n.callback,p,[o,m,k,q]);if(n.mask){o.removeMask()}}delete o.active},getRenderer:function(c){if(Ext.isFunction(c)){return c}return this.statics().Renderer.Html},startAutoRefresh:function(e,g){var f=this;f.stopAutoRefresh();f.autoRefresh=Ext.interval(function(){f.load(g)},e)},stopAutoRefresh:function(){clearInterval(this.autoRefresh);this.autoRefresh=null},isAutoRefreshing:function(){return !!this.autoRefresh},destroy:function(){var c=this;c.stopAutoRefresh();c.abort();c.callParent()}},1,0,0,0,0,[[Ext.util.Observable.prototype.mixinId||Ext.util.Observable.$className,Ext.util.Observable]],[Ext,"ElementLoader"],0));(Ext.cmd.derive("Ext.ComponentLoader",Ext.ElementLoader,{statics:{Renderer:{Data:function(e,m,k){var j=true;try{e.getTarget().update(Ext.decode(m.responseText))}catch(l){j=false}return j},Component:function(e,p,m){var l=true,n=e.getTarget(),q=[];try{q=Ext.decode(p.responseText)}catch(o){l=false}if(l){n.suspendLayouts();if(m.removeAll){n.removeAll()}n.add(q);n.resumeLayouts(true)}return l}}},target:null,loadOnRender:false,loadMask:false,renderer:"html",setTarget:function(e){var d=this;if(Ext.isString(e)){e=Ext.getCmp(e)}if(d.target&&d.target!==e){d.abort()}d.target=e;if(e&&d.loadOnRender){if(e.rendered){d.doLoadOnRender()}else{d.mon(e,"render",d.doLoadOnRender,d)}}},doLoadOnRender:function(){var c=this.loadOnRender;this.load(Ext.isObject(c)?c:null)},removeMask:function(){this.target.setLoading(false)},addMask:function(c){this.target.setLoading(c)},setOptions:function(e,d){e.removeAll=Ext.isDefined(d.removeAll)?d.removeAll:this.removeAll;e.rendererScope=d.rendererScope||this.rendererScope||this.target},getRenderer:function(e){if(Ext.isFunction(e)){return e}var d=this.statics().Renderer;switch(e){case"component":return d.Component;case"data":return d.Data;default:return Ext.ElementLoader.Renderer.Html}}},0,0,0,0,0,0,[Ext,"ComponentLoader"],0));(Ext.cmd.derive("Ext.layout.SizeModel",Ext.Base,{constructor:function(l){var j=this,k=j.self,g=k.sizeModelsArray,m;Ext.apply(j,l);j[m=j.name]=true;j.fixed=!(j.auto=j.natural||j.shrinkWrap);g[j.ordinal=g.length]=k[m]=k.sizeModels[m]=j},statics:{sizeModelsArray:[],sizeModels:{}},calculated:false,configured:false,constrainedMax:false,constrainedMin:false,natural:false,shrinkWrap:false,calculatedFromConfigured:false,calculatedFromNatural:false,calculatedFromShrinkWrap:false,names:null},1,0,0,0,0,0,[Ext.layout,"SizeModel"],function(){var n=this,j=n.sizeModelsArray,p,q,l,m,o;new n({name:"calculated"});new n({name:"configured",names:{width:"width",height:"height"}});new n({name:"natural"});new n({name:"shrinkWrap"});new n({name:"calculatedFromConfigured",configured:true,calculatedFrom:true,names:{width:"width",height:"height"}});new n({name:"calculatedFromNatural",natural:true,calculatedFrom:true});new n({name:"calculatedFromShrinkWrap",shrinkWrap:true,calculatedFrom:true});new n({name:"constrainedMax",configured:true,constrained:true,names:{width:"maxWidth",height:"maxHeight"}});new n({name:"constrainedMin",configured:true,constrained:true,names:{width:"minWidth",height:"minHeight"}});new n({name:"constrainedDock",configured:true,constrained:true,constrainedByMin:true,names:{width:"dockConstrainedWidth",height:"dockConstrainedHeight"}});for(p=0,l=j.length;p<l;++p){o=j[p];o.pairsByHeightOrdinal=m=[];for(q=0;q<l;++q){m.push({width:o,height:j[q]})}}}));(Ext.cmd.derive("Ext.layout.Layout",Ext.Base,{factoryConfig:{type:"layout"},isLayout:true,initialized:false,running:false,needsItemSize:true,setsItemSize:true,autoSizePolicy:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},$configPrefixed:false,$configStrict:false,constructor:function(d){var e=this;e.id=Ext.id(null,e.type+"-");e.initConfig(d);delete e.type;e.layoutCount=0},beginLayout:Ext.emptyFn,beginLayoutCycle:function(j){var k=this,f=k.context,g;if(k.lastWidthModel!==j.widthModel){if(k.lastWidthModel){g=true}k.lastWidthModel=j.widthModel}if(k.lastHeightModel!==j.heightModel){if(k.lastWidthModel){g=true}k.lastHeightModel=j.heightModel}if(g){(f=j.context).clearTriggers(k,false);f.clearTriggers(k,true);k.triggerCount=0}},finishedLayout:function(c){this.lastWidthModel=c.widthModel;this.lastHeightModel=c.heightModel;this.ownerContext=null},redoLayout:Ext.emptyFn,undoLayout:Ext.emptyFn,getAnimatePolicy:function(){return this.animatePolicy},getItemSizePolicy:function(c){return this.autoSizePolicy},isItemBoxParent:function(c){return false},isItemLayoutRoot:function(g){var j=g.getSizeModel(),k=j.width,f=j.height;if(!g.componentLayout.lastComponentSize&&(k.calculated||f.calculated)){return false}return !k.shrinkWrap&&!f.shrinkWrap},isItemShrinkWrap:function(c){return c.shrinkWrap},isRunning:function(){return !!this.ownerContext},getItemsRenderTree:function(o,q){var l=o.length,n,m,p,k;if(l){k=[];for(n=0;n<l;++n){m=o[n];if(!m.rendered){if(q&&(q[m.id]!==undefined)){p=q[m.id]}else{this.configureItem(m);p=m.getRenderTree();if(q){q[m.id]=p}}if(p){k.push(p)}}}}return k},finishRender:Ext.emptyFn,finishRenderItems:function(j,g){var k=g.length,m,l;for(m=0;m<k;m++){l=g[m];if(l.rendering){l.finishRender(m)}}},renderChildren:function(){var g=this,e=g.getLayoutItems(),f=g.getRenderTarget();g.renderItems(e,f)},renderItems:function(k,m){var n=this,o=k.length,q=0,l=0,p;if(o){Ext.suspendLayouts();for(;q<o;q++,l++){p=k[q];if(p&&!p.rendered){n.renderItem(p,m,l)}else{if(p.ignoreDomPosition){--l}else{if(!n.isValidParent(p,m,l)){n.moveItem(p,m,l)}else{n.configureItem(p)}}}}Ext.resumeLayouts(true)}},isValidParent:function(k,j,g){var l=(j&&j.dom)||j,m=this.getItemLayoutEl(k);if(m&&l){if(typeof g==="number"){g=this.getPositionOffset(g);return m===l.childNodes[g]}return m.parentNode===l}return false},getItemLayoutEl:function(j){var g=j.el?j.el.dom:Ext.getDom(j),f=g.parentNode,k;if(f){k=f.className;if(k&&k.indexOf("x-resizable-wrap")!==-1){g=g.parentNode}}return g},getPositionOffset:function(c){return c},configureItem:function(c){c.ownerLayout=this},renderItem:function(j,g,f){var k=this;if(!j.rendered){k.configureItem(j);j.render(g,f)}},moveItem:function(k,j,f){var g=Ext.Element.getActiveElement(true);j=j.dom||j;if(typeof f==="number"){f=j.childNodes[f]}if(k.el.contains(g)){g.suspendFocusEvents()}else{g=null}j.insertBefore(k.el.dom,f||null);k.container=Ext.get(j);this.configureItem(k);if(g){g.focus();g.resumeFocusEvents()}},onContentChange:function(){this.owner.updateLayout();return true},initLayout:function(){this.initialized=true},setOwner:function(c){this.owner=c},getLayoutItems:function(){return[]},onAdd:function(c){c.ownerLayout=this},onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(j){var k=this,l=j.el,m=k.owner,g;if(j.rendered){g=[].concat(k.itemCls||[]);if(m.itemCls){g=Ext.Array.push(g,m.itemCls)}if(g.length){l.removeCls(g)}}delete j.ownerLayout},afterCollapse:function(d,e){if(e){this.onContentChange(d)}},afterExpand:function(d,e){if(e){this.onContentChange(d)}},destroy:function(){var d=this,e;if(d.targetCls){e=d.getTarget();if(e){e.removeCls(d.targetCls)}}if(!d.onDestroy.$emptyFn){d.onDestroy()}d.callParent()},sortWeightedItems:function(f,g){for(var k=0,j=f.length;k<j;++k){f[k].$i=k}Ext.Array.sort(f,function(c,d){var b=d.weight-c.weight;if(!b){b=c.$i-d.$i;if(c[g]){b=-b}}return b});for(k=0;k<j;++k){delete f[k].$i}}},1,0,0,0,0,[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.layout,"Layout"],function(){var c=this;c.prototype.sizeModels=c.sizeModels=Ext.layout.SizeModel.sizeModels}));(Ext.cmd.derive("Ext.layout.container.Container",Ext.layout.Layout,{alternateClassName:"Ext.layout.ContainerLayout",type:"container",beginCollapse:Ext.emptyFn,beginExpand:Ext.emptyFn,animatePolicy:null,activeItemCount:0,renderTpl:["{%this.renderBody(out,values)%}"],usesContainerHeight:true,usesContainerWidth:true,usesHeight:true,usesWidth:true,constructor:function(){Ext.layout.Layout.prototype.constructor.apply(this,arguments);this.mixins.elementCt.constructor.call(this)},destroy:function(){this.mixins.elementCt.destroy.call(this);Ext.layout.Layout.prototype.destroy.call(this)},beginLayout:function(c){Ext.layout.Layout.prototype.beginLayout.apply(this,arguments);c.targetContext=c.paddingContext=c.getEl("getTarget",this);this.cacheChildItems(c)},beginLayoutCycle:function(f,e){var g=this;Ext.layout.Layout.prototype.beginLayoutCycle.apply(this,arguments);if(e){if(g.usesContainerHeight){++f.consumersContainerHeight}if(g.usesContainerWidth){++f.consumersContainerWidth}}},cacheChildItems:function(m){var n=this,p,l,k,o,q;if(n.needsItemSize||n.setsItemSize){p=m.context;l=m.childItems=[];k=m.visibleItems=n.getVisibleItems();o=k.length;for(q=0;q<o;++q){l.push(p.getCmp(k[q]))}}},cacheElements:function(){var c=this.owner;this.attachChildEls(c.el,c)},calculate:function(f){var g=f.props,e=f.el;if(f.widthModel.shrinkWrap&&isNaN(g.width)){f.setContentWidth(e.getWidth())}if(f.heightModel.shrinkWrap&&isNaN(g.height)){f.setContentHeight(e.getHeight())}},configureItem:function(m){var n=this,l=n.itemCls,o=n.owner.itemCls,j,k;m.ownerLayout=n;if(l){if(typeof l==="string"){k=[l]}else{k=l;j=!!k}}if(o){if(j){k=Ext.Array.clone(k)}k=Ext.Array.push(k||[],o)}if(k){m.addCls(k)}},doRenderBody:function(d,e){this.renderItems(d,e);this.renderContent(d,e)},doRenderContainer:function(m,j){var l=j.$comp.layout,g=l.getRenderTpl(),k=l.getRenderData();g.applyOut(k,m)},doRenderItems:function(k,g){var j=g.$layout,f=j.getRenderTree();if(f){Ext.DomHelper.generateMarkup(f,k)}},doRenderTabGuard:function(m,k,g){var l=k.$comp,j;if(l.tabGuard&&!k.$skipTabGuards){j=l.lookupTpl("tabGuardTpl");if(j){k.tabGuard=g;k.tabGuardEl=l.tabGuardElements[g];l.addChildEl(k.tabGuardEl);j.applyOut(k,m);delete k.tabGuard;delete k.tabGuardEl}}},finishRender:function(){var j=this,f=j.owner,g,k;Ext.layout.Layout.prototype.finishRender.call(this);j.cacheElements();g=j.getRenderTarget();k=j.getLayoutItems();j.finishRenderItems(g,k)},notifyOwner:function(){this.owner.afterLayout(this)},getContainerSize:function(y,u){var x=y.targetContext,v=x.getFrameInfo(),q=y.paddingContext.getPaddingInfo(),r=0,p=0,w,s,A,o;if(!y.widthModel.shrinkWrap){++p;A=u?x.getDomProp("width"):x.getProp("width");w=(typeof A==="number");if(w){++r;A-=v.width+q.width;if(A<0){A=0}}}if(!y.heightModel.shrinkWrap){++p;o=u?x.getDomProp("height"):x.getProp("height");s=(typeof o==="number");if(s){++r;o-=v.height+q.height;if(o<0){o=0}}}return{width:A,height:o,needed:p,got:r,gotAll:r===p,gotWidth:w,gotHeight:s}},getPositionOffset:function(d){if(!this.createsInnerCt){var e=this.owner.itemNodeOffset;if(e){d+=e}}return d},getLayoutItems:function(){var d=this.owner,e=d&&d.items;return(e&&e.items)||[]},getRenderData:function(){var c=this.owner;return{$comp:c,$layout:this,ownerId:c.id}},getRenderedItems:function(){var p=this,n=p.getRenderTarget(),l=p.getLayoutItems(),q=l.length,o=[],s,m,r;for(s=0,m=0;s<q;s++,m++){r=l[s];if(r.rendered){if(r.ignoreDomPosition){--m}else{if(!this.isValidParent(r,n,m)){continue}}o.push(r)}}return o},getRenderTarget:function(){return this.owner.getTargetEl()},getElementTarget:function(){return this.getRenderTarget()},getRenderTpl:function(){var d=this,e=Ext.XTemplate.getTpl(this,"renderTpl");if(!e.renderContent){d.owner.setupRenderTpl(e)}return e},getRenderTree:function(){var f,j=this.owner.items,g,k={};do{g=j.generation;f=this.getItemsRenderTree(this.getLayoutItems(),k)}while(j.generation!==g);return f},renderChildren:function(){var m=this,l=m.owner.items,j=m.getRenderTarget(),k,g;do{k=l.generation;g=m.getLayoutItems();m.renderItems(g,j)}while(l.generation!==k)},getScrollbarsNeeded:function(s,n,u,o){var v=Ext.getScrollbarSize(),q=typeof s==="number",m=typeof n==="number",p=0,r=0;if(!v.width){return 0}if(m&&n<o){r=2;s-=v.width}if(q&&s<u){p=1;if(!r&&m){n-=v.height;if(n<o){r=2}}}return r+p},getTarget:function(){return this.owner.getTargetEl()},getVisibleItems:function(){var m=this.getRenderTarget(),q=this.getLayoutItems(),n=q.length,k=[],p,l,o;for(p=0,l=0;p<n;p++,l++){o=q[p];if(o.rendered&&o.hidden!==true&&!o.floated){if(o.ignoreDomPosition){--l}else{if(!this.isValidParent(o,m,l)){continue}}k.push(o)}}return k},getMoveAfterIndex:function(c){return this.owner.items.indexOf(c)+1},moveItemBefore:function(m,l){var j=this.owner,o=j.items,n=o.indexOf(m),k;if(m===l){return m}if(l){k=o.indexOf(l);if(n>-1&&n<k){--k}}else{k=o.length}return j.insert(k,m)},setupRenderTpl:function(c){c.renderBody=this.doRenderBody;c.renderContainer=this.doRenderContainer;c.renderItems=this.doRenderItems;c.renderTabGuard=this.doRenderTabGuard},getContentTarget:function(){return this.owner.getDefaultContentTarget()},onAdd:function(c){if(!c.liquidLayout){++this.activeItemCount}Ext.layout.Layout.prototype.onAdd.call(this,c)},onRemove:function(e,d){if(!e.liquidLayout){--this.activeItemCount}Ext.layout.Layout.prototype.onRemove.call(this,e,d)}},1,0,0,0,["layout.container"],[[Ext.util.ElementContainer.prototype.mixinId||Ext.util.ElementContainer.$className,Ext.util.ElementContainer]],[Ext.layout.container,"Container",Ext.layout,"ContainerLayout"],0));(Ext.cmd.derive("Ext.layout.container.Auto",Ext.layout.container.Container,{type:"autocontainer",childEls:["outerCt","innerCt"],reserveScrollbar:false,managePadding:true,manageOverflow:false,needsItemSize:false,setsItemSize:false,lastOverflowAdjust:{width:0,height:0},outerCtCls:"x-autocontainer-outerCt",innerCtCls:"x-autocontainer-innerCt",renderTpl:['<div id="{ownerId}-outerCt" data-ref="outerCt" class="{outerCtCls}" role="presentation">','<div id="{ownerId}-innerCt" data-ref="innerCt" style="{%this.renderPadding(out, values)%}" ','<tpl if="!$comp.html">role="presentation"</tpl>','class="{innerCtCls}">',"{%this.renderBody(out,values)%}","</div>","</div>"],beginLayout:function(c){Ext.layout.container.Container.prototype.beginLayout.apply(this,arguments);this.initContextItems(c)},beforeLayoutCycle:function(g){var k=this.owner,j=k.inheritedState,f=k.inheritedStateInner;if(!j||j.invalid){j=k.getInherited();f=k.inheritedStateInner}if(g.widthModel.shrinkWrap){f.inShrinkWrapTable=true}else{delete f.inShrinkWrapTable}},beginLayoutCycle:function(y){var s=this,B=s.outerCt,v=s.lastOuterCtWidth||"",w=s.lastOuterCtHeight||"",r=s.lastOuterCtTableLayout||"",C=y.state,q,x,p,A,u;Ext.layout.container.Container.prototype.beginLayoutCycle.apply(this,arguments);x=p=A="";if(!y.widthModel.shrinkWrap){x="100%";u=s.owner.inheritedStateInner;q=s.getOverflowXStyle(y);A=(u.inShrinkWrapTable||q==="auto"||q==="scroll")?"":"fixed"}if(!y.heightModel.shrinkWrap&&!Ext.supports.PercentageHeightOverflowBug){p="100%"}if((x!==v)||s.hasOuterCtPxWidth){B.setStyle("width",x);s.lastOuterCtWidth=x;s.hasOuterCtPxWidth=false}if(A!==r){B.setStyle("table-layout",A);s.lastOuterCtTableLayout=A}if((p!==w)||s.hasOuterCtPxHeight){B.setStyle("height",p);s.lastOuterCtHeight=p;s.hasOuterCtPxHeight=false}if(s.hasInnerCtPxHeight){s.innerCt.setStyle("height","");s.hasInnerCtPxHeight=false}C.overflowAdjust=C.overflowAdjust||s.lastOverflowAdjust},calculate:function(l){var g=this,m=l.state,j=g.getContainerSize(l,true),k=m.calculatedItems||(m.calculatedItems=g.calculateItems?g.calculateItems(l,j):true);g.setCtSizeIfNeeded(l,j);if(k&&l.hasDomProp("containerChildrenSizeDone")){g.calculateContentSize(l);if(j.gotAll){if(g.manageOverflow&&!l.state.secondPass&&!g.reserveScrollbar){g.calculateOverflow(l,j)}return}}g.done=false},calculateContentSize:function(m){var n=this,k=((m.widthModel.shrinkWrap?1:0)|(m.heightModel.shrinkWrap?2:0)),p=(k&1)||undefined,l=(k&2)||undefined,o=0,q=m.props;if(p){if(isNaN(q.contentWidth)){++o}else{p=undefined}}if(l){if(isNaN(q.contentHeight)){++o}else{l=undefined}}if(o){if(p&&!m.setContentWidth(n.measureContentWidth(m))){n.done=false}if(l&&!m.setContentHeight(n.measureContentHeight(m))){n.done=false}}},calculateOverflow:function(s){var o=this,u,m,v,p,q,r,n;q=(o.getOverflowXStyle(s)==="auto");r=(o.getOverflowYStyle(s)==="auto");if(q||r){v=Ext.getScrollbarSize();n=s.overflowContext.el.dom;p=0;if(n.scrollWidth>n.clientWidth){p|=1}if(n.scrollHeight>n.clientHeight){p|=2}u=(r&&(p&2))?v.width:0;m=(q&&(p&1))?v.height:0;if(u!==o.lastOverflowAdjust.width||m!==o.lastOverflowAdjust.height){o.done=false;s.invalidate({state:{overflowAdjust:{width:u,height:m},overflowState:p,secondPass:true}})}}},completeLayout:function(c){this.lastOverflowAdjust=c.state.overflowAdjust},doRenderBody:function(n,l){var m=l.$layout,j=Ext.XTemplate,k=m.beforeBodyTpl,o=m.afterBodyTpl;if(k){j.getTpl(m,"beforeBodyTpl").applyOut(l,n)}this.renderItems(n,l);this.renderContent(n,l);if(o){j.getTpl(m,"afterBodyTpl").applyOut(l,n)}},doRenderPadding:function(m,k){var l=k.$layout,g=k.$layout.owner,j=g[g.contentPaddingProperty];if(l.managePadding&&j){m.push("padding:",g.unitizeBox(j))}},finishedLayout:function(e){var d=this.innerCt;Ext.layout.container.Container.prototype.finishedLayout.apply(this,arguments);if(Ext.isIE8){d.repaint()}if(Ext.isOpera){d.setStyle("position","relative");d.dom.scrollWidth;d.setStyle("position","")}},getContainerSize:function(k,j){var f=Ext.layout.container.Container.prototype.getContainerSize.apply(this,arguments),g=k.state.overflowAdjust;if(g){f.width-=g.width;f.height-=g.height}return f},getRenderData:function(){var d=this,e=Ext.layout.container.Container.prototype.getRenderData.call(this);e.innerCtCls=d.innerCtCls;e.outerCtCls=d.outerCtCls;return e},getRenderTarget:function(){return this.innerCt},getElementTarget:function(){return this.innerCt},getOverflowXStyle:function(c){return c.overflowXStyle||(c.overflowXStyle=this.owner.scrollFlags.overflowX||c.overflowContext.getStyle("overflow-x"))},getOverflowYStyle:function(c){return c.overflowYStyle||(c.overflowYStyle=this.owner.scrollFlags.overflowY||c.overflowContext.getStyle("overflow-y"))},initContextItems:function(k){var f=this,g=k.target,j=f.owner.getOverflowEl();k.outerCtContext=k.getEl("outerCt",f);k.innerCtContext=k.getEl("innerCt",f);k.overflowContext=(j===k.el)?k:k.getEl(j);if(g[g.contentPaddingProperty]!==undefined){k.paddingContext=k.innerCtContext}},initLayout:function(){var f=this,g=Ext.getScrollbarSize().width,e=f.owner;Ext.layout.container.Container.prototype.initLayout.call(this);if(g&&f.manageOverflow&&!f.hasOwnProperty("lastOverflowAdjust")){if(e.scrollable||f.reserveScrollbar){f.lastOverflowAdjust={width:g,height:0}}}},measureContentHeight:function(g){var e=this.outerCt.getHeight(),f=g.target;if(this.managePadding&&(f[f.contentPaddingProperty]===undefined)){e+=g.targetContext.getPaddingInfo().height}return e},measureContentWidth:function(m){var k,n,o,j,l;if(this.chromeCellMeasureBug){k=this.innerCt.dom;n=k.style;o=n.display;if(o==="table-cell"){n.display="";k.offsetWidth;n.display=o}}if(Ext.isSafari){k=this.outerCt.dom;n=k.style;n.display="table-cell";k.offsetWidth;k.style.display=""}j=this.outerCt.getWidth();l=m.target;if(this.managePadding&&(l[l.contentPaddingProperty]===undefined)){j+=m.targetContext.getPaddingInfo().width}return j},setCtSizeIfNeeded:function(w,y){var v=this,o=y.height,s=w.paddingContext.getPaddingInfo(),q=v.getTarget(),p=v.getOverflowXStyle(w),x=(p==="auto"||p==="scroll"),A=Ext.getScrollbarSize(),u,r;if(o&&!w.heightModel.shrinkWrap){if(Ext.supports.PercentageHeightOverflowBug){u=true}if(Ext.isIE8){r=true}if((u||r)&&x&&(q.dom.scrollWidth>q.dom.clientWidth)){o=Math.max(o-A.height,0)}if(u){w.outerCtContext.setProp("height",o+s.height);v.hasOuterCtPxHeight=true}if(r){w.innerCtContext.setProp("height",o);v.hasInnerCtPxHeight=true}}},setupRenderTpl:function(c){Ext.layout.container.Container.prototype.setupRenderTpl.apply(this,arguments);c.renderPadding=this.doRenderPadding},getContentTarget:function(){return this.innerCt}},0,0,0,0,["layout.auto","layout.autocontainer"],0,[Ext.layout.container,"Auto"],function(e){var d=Ext.chromeVersion;e.prototype.chromeCellMeasureBug=Ext.isChrome&&d>=26&&d<=34}));(Ext.cmd.derive("Ext.ZIndexManager",Ext.Base,{alternateClassName:"Ext.WindowGroup",statics:{zBase:9000,activeCounter:0},constructor:function(d){var e=this;e.id=Ext.id(null,"zindex-mgr-");e.zIndexStack=new Ext.util.Collection({sorters:{sorterFn:function(b,c){var g=(b.alwaysOnTop||0)-(c.alwaysOnTop||0);if(!g){g=b.getActiveCounter()-c.getActiveCounter()}return g}},filters:{filterFn:function(b){return b.isVisible()}}});e.zIndexStack.addObserver(e);e.front=null;e.sortCount=0;e.globalListeners=Ext.GlobalEvents.on({beforehide:e.onComponentShowHide,show:e.onComponentShowHide,scope:e,destroyable:true});if(d){if(d.isContainer){e.resizeListeners=d.on({resize:e.onContainerResize,scope:e,destroyable:true});e.zseed=Ext.Number.from(e.rendered?d.getEl().getStyle("zIndex"):undefined,e.getNextZSeed());e.targetEl=d.getTargetEl();e.container=d}else{e.resizeListeners=Ext.on({resize:e.onContainerResize,scope:e,destroyable:true});e.zseed=e.getNextZSeed();e.targetEl=Ext.get(d)}}else{e.zseed=e.getNextZSeed();Ext.onInternalReady(function(){e.resizeListeners=Ext.on({resize:e.scheduleContainerResize,scope:e,destroyable:true,priority:-10000});e.targetEl=Ext.getBody()})}},getId:function(){return this.id},getNextZSeed:function(){return(Ext.ZIndexManager.zBase+=10000)},setBase:function(c){this.zseed=c;return this.onCollectionSort()},onCollectionSort:function(){var q=this,u=q.front,p=q.zseed,o=q.zIndexStack.getRange(),r=o.length,v,s,w,x,n=!u||u.isVisible();q.sortCount++;for(v=0;v<r;v++){s=o[v];if(s.destroying||s.destroyed){continue}p=s.setZIndex(p);if(!s.hidden){x=s;if(s.modal){w=s}}}if(x!==u){if(u&&!u.destroying){u.setActive(false)}if(x){n=n&&(x.isFocusable(true)&&(x.modal||(x.focusOnToFront&&!x.preventFocusOnActivate)));x.setActive(true,n)}}q.front=x||null;if(w){if(w===u){q.syncModalMask(w)}else{q.showModalMask(w)}}else{q.hideModalMask()}return p},onComponentUpdate:function(c){if(this.zIndexStack.contains(c)){this.zIndexStack.sort()}},onAfterComponentRender:function(c){if(c.isVisible()&&c.toFrontOnShow){this.zIndexStack.itemChanged(c,"hidden");this.zIndexStack.sort()}},onComponentShowHide:function(k){var j=this,g=j.zIndexStack,f=j.sortCount;if(k.isFloating()&&!j.hidingAll&&(g.getSource()||g).contains(k)){if(j.tempHidden){Ext.Array.remove(j.tempHidden,k)}g.beginUpdate();if(k.isVisible()){if(k.toFrontOnShow){g.itemChanged(k,"hidden");k.setActiveCounter(++Ext.ZIndexManager.activeCounter)}}else{g.itemChanged(k,"hidden")}g.endUpdate();if(j.sortCount===f){j.onCollectionSort()}}},register:function(d){var e=this;if(d.zIndexManager){d.zIndexManager.unregister(d)}d.zIndexManager=e;if(!d.rendered){d.on("afterrender",e.onAfterComponentRender,e,{single:true})}e.zIndexStack.add(d)},unregister:function(d){var e=this;delete d.zIndexManager;d.un("afterrender",e.onAfterComponentRender,e);e.zIndexStack.remove(d);e.onCollectionSort()},get:function(c){return c.isComponent?c:this.zIndexStack.get(c)},bringToFront:function(q,n){var p=this,l=p.zIndexStack,k=l.last(),o,m;q=p.get(q);if(!q){return false}m=q.preventFocusOnActivate;q.preventFocusOnActivate=n;q.setActiveCounter(++Ext.ZIndexManager.activeCounter);q.preventFocusOnActivate=m;o=l.last();return(o===q&&o!==k)},sendToBack:function(c){c=this.get(c);if(c){c.setActiveCounter(0)}return c||null},hideAll:function(){var g=this,j=g.zIndexStack.getRange(),f=j.length,k;g.hidingAll=true;for(k=0;k<f;k++){j[k].hide()}g.hidingAll=false;g.hideModalMask();g.front=null},hide:function(){var k=this,l=Ext.Element.getActiveElement(),m=k.zIndexStack.getRange(),j=m.length,n,o;k.focusRestoreElement=null;(k.tempHidden||(k.tempHidden=[])).length=0;for(n=0;n<j;n++){o=m[n];if(o.isVisible()){if(o.el.contains(l)){k.focusRestoreElement=l}o.el.hide();o.pendingShow=o.hidden=true;k.tempHidden.push(o)}}},show:function(){var k=this,l,j=k.tempHidden,g=j?j.length:0,m;for(l=0;l<g;l++){m=j[l];m.hidden=false;if(m.pendingShow){m.el.show();m.pendingShow=false;m.setPosition(m.x,m.y);m.onFloatShow()}else{m.hide()}}k.tempHidden=null;if(k.focusRestoreElement){k.focusRestoreElement.focus()}},getActive:function(){return this.zIndexStack.last()},getBy:function(e,d){return this.zIndexStack.filterBy(e,d).getRange()},each:function(e,d){this.zIndexStack.each(e,d)},eachBottomUp:function(k,l){var o=this.zIndexStack.getRange(),m,j=o.length,n;for(m=0;m<j;m++){n=o[m];if(n.isComponent&&k.call(l||n,n)===false){return}}},eachTopDown:function(j,k){var g=this.zIndexStack.getRange(),l,m;for(l=g.length;l-->0;){m=g[l];if(m.isComponent&&j.call(k||m,m)===false){return}}},destroy:function(){var g=this,k=g.zIndexStack.getRange(),f=k.length,j;for(j=0;j<f;j++){Ext.destroy(k[j])}Ext.destroy(g.mask,g.maskShim,g.zIndexStack,g.globalListeners,g.resizeListeners);g.callParent()},privates:{getMaskBox:function(){var c=this.mask.maskTarget;if(c.dom===document.body){return{height:Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight()),width:Math.max(document.body.scrollWidth,document.documentElement.clientWidth),x:0,y:0}}else{return c.getBox()}},scheduleContainerResize:function(){if(!this.containerResizeTimer){this.containerResizeTimer=Ext.Function.requestAnimationFrame(this.onContainerResize,this)}},onContainerResize:function(){var j=this,k=j.mask,f=j.maskShim,g;j.containerResizeTimer=null;if(k&&k.isVisible()){k.hide();if(f){f.hide()}g=j.getMaskBox();if(f){f.setSize(g);f.show()}k.setSize(g);k.show()}},onMaskMousedown:function(c){if(this.front){this.front.focus();c.preventDefault()}},onMaskClick:function(){var e=this.front,d;if(e){if(!e.hasListeners.maskclick||e.fireEvent("maskclick",e)!==false){d=e.maskClickAction||"focus";e[d]()}}},showModalMask:function(m){var k=this,j=m.el,l=m.floatParent?m.floatParent.getEl():m.container,g=k.mask;if(!g){k.mask=g=Ext.getBody().createChild({role:"presentation",cls:"x-mask x-border-box",style:"height:0;width:0"});g.setVisibilityMode(Ext.Element.DISPLAY);g.on({mousedown:k.onMaskMousedown,click:k.onMaskClick,scope:k})}else{k.hideModalMask()}g.maskTarget=l;l.saveTabbableState({excludeRoot:j});k.syncModalMask(m)},syncModalMask:function(o){var n=this,k=o.el.getZIndex()-4,j=n.mask,l=n.maskShim,m=n.getMaskBox();if(l){l.setZIndex(k);l.show();l.setBox(m)}j.setZIndex(k);j.show();j.setBox(m)},hideModalMask:function(){var e=this.mask,d=this.maskShim;if(e&&e.isVisible()){e.maskTarget.restoreTabbableState();e.maskTarget=undefined;e.hide();if(d){d.hide()}}}}},1,0,0,0,0,0,[Ext,"ZIndexManager",Ext,"WindowGroup"],function(){Ext.WindowManager=Ext.WindowMgr=new this()}));(Ext.cmd.derive("Ext.container.Container",Ext.Component,{alternateClassName:["Ext.Container","Ext.AbstractContainer"],renderTpl:"<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'before'); %}</tpl>{% this.renderContainer(out,values) %}<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'after'); %}</tpl>",config:{actions:null},autoDestroy:true,defaultType:"panel",detachOnRemove:true,items:undefined,layout:"auto",suspendLayout:false,tabGuardTpl:'<span id="{id}-{tabGuardEl}" data-ref="{tabGuardEl}" aria-hidden="true" class="x-tab-guard x-tab-guard-{tabGuardPosition}" style="width:0px;height:0px;"></span>',tabGuardElements:{before:"tabGuardBeforeEl",after:"tabGuardAfterEl"},_applyDefaultsOptions:{defaults:true,strict:false},ariaRole:"presentation",baseCls:"x-container",layoutCounter:0,add:function(){var u=this,x=Ext.Array.slice(arguments),A=(typeof x[0]==="number")?x.shift():-1,C=u.getLayout(),B=false,r,w,D,E,q,s,y,v;if(x.length===1&&Ext.isArray(x[0])){w=x[0];r=true}else{w=x}if(u.rendered){Ext.suspendLayouts()}y=w=u.prepareItems(w,true);E=w.length;if(!r&&E===1){y=w[0]}for(D=0;D<E;D++){q=w[D];s=(A<0)?u.items.length:(A+D);v=!!q.instancedCmp;delete q.instancedCmp;if(q.floating){(u.floatingItems||(u.floatingItems=new Ext.util.ItemCollection())).add(q);q.onAdded(u,s,v);delete q.$initParent;if(u.hasListeners.add){u.fireEvent("add",u,q,s)}}else{if((!u.hasListeners.beforeadd||u.fireEvent("beforeadd",u,q,s)!==false)&&u.onBeforeAdd(q)!==false){u.items.insert(s,q);q.onAdded(u,s,v);delete q.$initParent;u.onAdd(q,s);C.onAdd(q,s);B=true;if(u.hasListeners.add){u.fireEvent("add",u,q,s)}}}}if(B){u.updateLayout()}if(u.rendered){Ext.resumeLayouts(true)}return y},onAdded:function(g,f,e){Ext.Component.prototype.onAdded.call(this,g,f,e);this.containerOnAdded(g,e)},onRemoved:function(c){this.containerOnRemoved(c);Ext.Component.prototype.onRemoved.apply(this,arguments)},afterComponentLayout:function(){var k=this.floatingItems,f,g,j;Ext.Component.prototype.afterComponentLayout.apply(this,arguments);if(k){k=k.items;f=k.length;for(g=0;g<f;g++){j=k[g];if(!j.rendered&&j.autoShow){j.show()}}}},afterLayout:function(e){var d=this;++d.layoutCounter;if(d.hasListeners.afterlayout){d.fireEvent("afterlayout",d,e)}},doDestroy:function(){var k=this,c=k.items,j=k.floatingItems,g;if(c){while((g=c.first())){k.doRemove(g,true)}c.destroy();k.items=null}if(j){while((g=j.first())){k.doRemove(g,true)}j.destroy();k.floatingItems=null}Ext.destroy(k.layout);Ext.Component.prototype.doDestroy.call(this)},beforeRender:function(){var g=this,e=g.getLayout(),f;g.preventChildDisable=true;Ext.Component.prototype.beforeRender.call(this);g.preventChildDisable=false;if(!e.initialized){e.initLayout()}f=e.targetCls;if(f){g.applyTargetCls(f)}},cascade:function(o,c,x){var p=this,u=p.items?p.items.items:[],s=u.length,v=0,q,r=x?x.concat(p):[p],w=r.length-1;if(o.apply(c||p,r)!==false){for(;v<s;v++){q=u[v];if(q.cascade){q.cascade(o,c,x)}else{r[w]=q;o.apply(c||q,r)}}}return this},contains:function(f,g){var e=false;if(g){this.cascade(function(b){if(b.contains&&b.contains(f)){e=true;return false}});return e}else{return this.items.contains(f)||(this.floatingItems&&this.floatingItems.contains(f))}},disable:function(q,l){var n=this,o=n.disabled,m,k,p;Ext.Component.prototype.disable.call(this,q,l);if(!l&&!n.preventChildDisable&&!o){m=n.getChildItemsToDisable();k=m.length;for(p=0;p<k;p++){m[p].disable(q,true)}}return n},enable:function(q,l){var n=this,o=n.disabled,m,k,p;Ext.Component.prototype.enable.call(this,q,l);if(o){m=n.getChildItemsToDisable();k=m.length;for(p=0;p<k;p++){m[p].enable(q,true)}}return n},getChildByElement:function(n,k){var l,p,q=0,o=this.getRefItems(),m=o.length;n=Ext.getDom(n);for(;q<m;q++){l=o[q];p=l.getEl();if(p&&((p.dom===n)||p.contains(n))){return(k&&l.getChildByElement)?l.getChildByElement(n,k):l}}return null},getComponent:function(g){if(Ext.isObject(g)){g=g.getItemId()}var f=this.items.get(g),c=this.floatingItems;if(!f&&c&&typeof g!=="number"){f=c.get(g)}return f},getFocusEl:function(){var c=this.getDefaultFocus();if(c){return c}else{if(this.focusable){return this.getTargetEl()}}return undefined},getLayout:function(){var e=this,d=e.layout;if(!d||!d.isLayout){e.setLayout(d)}return e.layout},getRefItems:function(p){var l=this,o=l.items.items,q=o.length,n=0,m,k=[];for(;n<q;n++){m=o[n];k[k.length]=m;if(p&&m.getRefItems){k.push.apply(k,m.getRefItems(true))}}if(l.floatingItems){o=l.floatingItems.items;q=o.length;for(n=0;n<q;n++){m=o[n];k[k.length]=m;if(p&&m.getRefItems){k.push.apply(k,m.getRefItems(true))}}}return k},getDefaultFocus:function(){var e=this.defaultFocus,d;if(e){d=this.down(e)}return d},initComponent:function(){var c=this;Ext.Component.prototype.initComponent.call(this);c.getLayout();c.constructing=true;c.initItems();if(c.disabled){c.disabled=false;c.disable(true)}delete c.constructing},initItems:function(){var e=this,d=e.items;if(!d||!d.isMixedCollection){e.items=new Ext.util.ItemCollection();if(d){if(!Ext.isArray(d)){d=[d]}e.$initingItems=true;e.add(d);delete e.$initingItems}}},initInheritedState:function(n,s){var o=this,r=o.controller,q=o.layout,p=o.session,m=o.viewModel,u=o.reference,v=o.referenceHolder;Ext.Component.prototype.initInheritedState.call(this,n,s);if(o.collapsed){n.collapsed=true}o.initContainerInheritedState(n,s);if(q&&q.initInheritedState){q.initInheritedState(n,s)}},insert:function(f,g){var e;if(g&&g.isComponent){e=this.items.indexOf(g);if(e!==-1){return this.move(e,f)}}return this.add(f,g)},lookupComponent:function(f){var j=this,g=j.defaultType,k;if(!f.isComponent){if(typeof f==="string"){if(!(k=(f[0]==="@"))){return Ext.ComponentManager.get(f)}f=j.getAction(f.substr(1));g=j.defaultActionType||g}f=Ext.ComponentManager.create(f,g);if(k){f.instancedCmp=true}}return f},move:function(m,j){var k=this,g=k.items,l;if(m.isComponent){m=g.indexOf(m)}l=g.getAt(m);if(m!==j){l=g.removeAt(m);if(l===false){return false}j=Math.min(j,g.getCount());g.insert(j,l);k.onMove(l,m,j);if(k.hasListeners.childmove){k.fireEvent("childmove",k,l,m,j)}k.updateLayout()}return l},moveBefore:function(f,j){var g,k;if(f!==j){g=Ext.Element.getActiveElement(true);if(f.el&&f.el.contains(g)){k=g;k.suspendFocusEvents();f.isLayoutMoving=true}f=this.layout.moveItemBefore(f,j);if(k){f.isLayoutMoving=false;k.focus();k.resumeFocusEvents()}}return f},moveAfter:function(j,g){var k=this.layout,f;if(j!==g){f=g?k.getMoveAfterIndex(g):0;j=this.moveBefore(j,this.items.getAt(f))}return j},nextChild:function(m,r){var o=this,q=o.items,n=q.indexOf(m),p=0,s=q.length,l;if(n!==-1){if(r){for(;p<s;p++){l=q.getAt(n+p);if(!l||Ext.ComponentQuery.is(l,r)){break}}}else{l=q.getAt(n+1)}}return l||null},onAdd:Ext.emptyFn,onBeforeAdd:function(e){var d=e.ownerCt;if(d&&d!==this){d.remove(e,false)}},onMove:Ext.emptyFn,onRemove:Ext.emptyFn,onPosition:function(){Ext.Component.prototype.onPosition.apply(this,arguments);this.repositionFloatingItems()},onResize:function(){Ext.Component.prototype.onResize.apply(this,arguments);this.repositionFloatingItems()},prevChild:function(m,r){var o=this,q=o.items,n=q.indexOf(m),p=0,s=q.length,l;if(n!==-1){if(r){for(;p<s;p++){l=q.getAt(n-p);if(!l||Ext.ComponentQuery.is(l,r)){break}}}else{l=q.getAt(n-1)}}return l||null},remove:function(k,c){var j=this,g;if(j.destroyed||j.destroying){return}g=j.getComponent(k);if(g&&(!j.hasListeners.beforeremove||j.fireEvent("beforeremove",j,g)!==false)){j.doRemove(g,c);if(j.hasListeners.remove){j.fireEvent("remove",j,g)}if(!j.destroying&&!j.destroyAfterRemoving&&!g.floating){j.updateLayout()}if(j.destroyAfterRemoving){j.destroy()}}return g},removeAll:function(q){var m=this,o,s=m.floatingItems,r=[],p=0,l,n;if(s){o=m.items.items.concat(s.items)}else{o=m.items.items.slice()}l=o.length;Ext.suspendLayouts();m.removingAll=true;for(;p<l;p++){n=o[p];m.remove(n,q);if(n.ownerCt!==m){r.push(n)}}m.removingAll=false;Ext.resumeLayouts(!!l);return r},setLayout:function(l){var m=this,o=m.layout,k=o&&o.isLayout,j,n;if(typeof l==="string"){l={type:l}}n=l.type;if(k&&(!n||(n===o.type))){delete l.type;o.setConfig(l)}else{if(k){o.setOwner(null)}j=m.self.prototype.layout;if(typeof j==="string"){l.type=n||j}else{Ext.merge(Ext.merge({},j),l)}l=this.layout=Ext.Factory.layout(l);l.setOwner(this)}if(m.rendered){m.updateLayout()}},setActiveItem:function(c){return this.getLayout().setActiveItem(c)},updateActions:function(g){var k=this,f,j;for(f in g){if(!g[f].isAction){g[f]=new Ext.Action(g[f])}}},getAction:function(e){var d=this;for(var d=this;d;d=d.getRefOwner()){if(d.actions&&d.actions[e]){return d.actions[e]}}},privates:{applyDefaults:function(e){var g=this,f=g.defaults;if(f){if(Ext.isFunction(f)){f=f.call(g,e)}if(Ext.isString(e)){e=Ext.ComponentManager.get(e)}if(e.isComponent){e.setConfig(f,null,g._applyDefaultsOptions)}else{e=g.self.getConfigurator().merge(g,Ext.Object.fork(f),e)}}return e},applyReference:function(c){return this.setupReference(c)},applyTargetCls:function(c){this.layoutTargetCls=c},detachComponent:function(c){Ext.getDetachedBody().appendChild(c.getEl())},doRemove:function(n,u){var o=this,m,v=o.detachOnRemove,s=o.layout,q=s&&o.rendered,r,p=n.floating;if(u===undefined){m=o.autoDestroy}else{if(typeof u==="boolean"){m=u}else{m=("destroy" in u)&&u.destroy;v=("detach" in u)&&u.detach}}r=n.destroying||m;if(p){o.floatingItems.remove(n)}else{o.items.remove(n)}if(q&&!p){if(s.running){Ext.Component.cancelLayout(n,r)}s.onRemove(n,r)}if(!n.destroyed){n.onRemoved(r)}o.onRemove(n,r);if(m){n.destroy()}else{if(!o.destroyed){if(q&&!p){s.afterRemove(n)}if(v&&n.rendered){o.detachComponent(n)}}}},finishRenderChildren:function(){Ext.Component.prototype.finishRenderChildren.call(this);var c=this.getLayout();if(c){c.finishRender()}},getChildItemsToDisable:function(){return this.query("[isFormField],[isFocusableContainer],button")},getContentTarget:function(){return this.getLayout().getContentTarget()},getDefaultContentTarget:function(){return this.el},prepareItems:function(o,m){if(Ext.isArray(o)){o=o.slice()}else{o=[o]}var k=this,n=0,j=o.length,l;for(;n<j;n++){l=o[n];if(l==null){Ext.Array.erase(o,n,1);--n;--j}else{if(m){l=this.applyDefaults(l)}l.$initParent=k;if(l.isComponent){l.instancedCmp=true}o[n]=k.lookupComponent(l);delete l.$initParent}}return o},repositionFloatingItems:function(){var k=this.floatingItems,f,g,j;if(k){k=k.items;f=k.length;for(g=0;g<f;g++){j=k[g];if(j.el&&!j.hidden){j.setPosition(j.x,j.y)}}}},initTabGuards:function(o){var m=this,p=m.tabGuardBeforeEl,q=m.tabGuardAfterEl,r=m.tabGuardBeforeIndex||0,u=m.tabGuardAfterIndex||0,n,s,v;if(!m.rendered||!m.tabGuard){return}v=m.el.findTabbableElements({skipSelf:true});if(v[0]===p.dom){v.shift()}if(v[v.length-1]===q.dom){v.pop()}if(v&&v.length){if(r==null||u==null){for(n=0;n<v.length;n++){s=+v[n].getAttribute("tabIndex");if(s>0){r=Math.min(r,s);u=Math.max(u,s)}}}p.dom.setAttribute("tabIndex",r);q.dom.setAttribute("tabIndex",u)}else{p.dom.removeAttribute("tabIndex");q.dom.removeAttribute("tabIndex")}if(m.onTabGuardFocusEnter){if(!p.hasListeners.focusenter){p.on("focusenter",m.onTabGuardFocusEnter,m)}if(!q.hasListeners.focusenter){q.on("focusenter",m.onTabGuardFocusEnter,m)}}},_noMargin:{"margin-top":"","margin-right":"","margin-bottom":"","margin-left":""},resetItemMargins:function(){var f=this.items.items,j=f.length,k=this._noMargin,g;while(j--){g=f[j];g.margin$=null;g.el.setStyle(k)}},setupRenderTpl:function(c){Ext.Component.prototype.setupRenderTpl.apply(this,arguments);this.getLayout().setupRenderTpl(c)}}},0,["container"],["component","box","container"],{component:true,box:true,container:true},["widget.container"],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable],[Ext.mixin.Container.prototype.mixinId||Ext.mixin.Container.$className,Ext.mixin.Container]],[Ext.container,"Container",Ext,"Container",Ext,"AbstractContainer"],0));(Ext.cmd.derive("Ext.util.StoreHolder",Ext.Base,{mixinId:"storeholder",autoDestroyBoundStore:false,bindStore:function(m,l,g){g=g||"store";var k=this,j=l?null:k[g];if(m!==j){if(j){if(!k.onUnbindStore.$emptyFn){k.onUnbindStore(j,l,g)}if(!j.destroyed){if(k.autoDestroyBoundStore&&g==="store"&&j.autoDestroy){j.destroy()}else{k.unbindStoreListeners(j)}}}if(m){k[g]=m=Ext.data.StoreManager.lookup(m);k.bindStoreListeners(m);if(!k.onBindStore.$emptyFn){k.onBindStore(m,j,l)}}else{k[g]=null}if(k.fireEvent){k.fireEvent("storechange",k,m,j)}}return k},getStore:function(){return this.store},setStore:function(c){this.bindStore(c)},unbindStoreListeners:function(d){var e=this.storeListeners;if(e){d.un(e)}},bindStoreListeners:function(d){var e=this.getStoreListeners(d);if(e){e=Ext.apply({},e);if(!e.scope){e.scope=this}this.storeListeners=e;d.on(e)}},getStoreListeners:Ext.emptyFn,onUnbindStore:Ext.emptyFn,onBindStore:Ext.emptyFn},0,0,0,0,0,0,[Ext.util,"StoreHolder"],0));(Ext.cmd.derive("Ext.LoadMask",Ext.Component,{isLoadMask:true,msg:"Loading...",msgCls:"x-mask-loading",msgWrapCls:"x-mask-msg",useMsg:true,useTargetEl:false,cls:"x-mask",componentCls:"x-border-box",ariaRole:"progressbar",focusable:true,tabIndex:0,childEls:["msgWrapEl","msgEl","msgTextEl"],renderTpl:['<div id="{id}-msgWrapEl" data-ref="msgWrapEl" class="{[values.$comp.msgWrapCls]}" role="presentation">','<div id="{id}-msgEl" data-ref="msgEl" class="{[values.$comp.msgCls]} ',"x-",'mask-msg-inner {childElCls}" role="presentation">','<div id="{id}-msgTextEl" data-ref="msgTextEl" class="',"x-","mask-msg-text",'{childElCls}" role="presentation">{msg}</div>',"</div>","</div>"],maskOnDisable:false,skipLayout:true,constructor:function(g){var f=this,e;if(arguments.length===2){e=f.target=g;g=arguments[1]}else{e=g.target}Ext.Component.prototype.constructor.call(this,g);if(e.isComponent){f.ownerCt=e;f.hidden=true;f.renderTo=f.getMaskTarget();f.external=f.renderTo===Ext.getBody();f.bindComponent(e)}else{e=Ext.get(e);f.isElement=true;f.renderTo=f.target}f.render(f.renderTo);if(f.store){f.bindStore(f.store,true)}},initRenderData:function(){var c=Ext.Component.prototype.initRenderData.apply(this,arguments);c.msg=this.msg||"";return c},onRender:function(){Ext.Component.prototype.onRender.apply(this,arguments);this.maskEl=this.el},bindComponent:function(e){var f=this,g={scope:this,resize:f.sizeMask};if(f.external){g.added=f.onComponentAdded;g.removed=f.onComponentRemoved;if(e.floating){g.move=f.sizeMask;f.activeOwner=e}else{if(e.ownerCt){f.onComponentAdded(e.ownerCt)}}}f.mon(e,g);if(f.external){f.mon(Ext.GlobalEvents,{show:f.onContainerShow,hide:f.onContainerHide,expand:f.onContainerExpand,collapse:f.onContainerCollapse,scope:f})}},onComponentAdded:function(d){var e=this;delete e.activeOwner;e.floatParent=d;if(!d.floating){d=d.up("[floating]")}if(d){e.activeOwner=d;e.mon(d,"move",e.sizeMask,e);e.mon(d,"tofront",e.onOwnerToFront,e)}else{e.preventBringToFront=true}d=e.floatParent.ownerCt;if(e.rendered&&e.isVisible()&&d){e.floatOwner=d;e.mon(d,"afterlayout",e.sizeMask,e,{single:true})}},onComponentRemoved:function(f){var j=this,g=j.activeOwner,k=j.floatOwner;if(g){j.mun(g,"move",j.sizeMask,j);j.mun(g,"tofront",j.onOwnerToFront,j)}if(k){j.mun(k,"afterlayout",j.sizeMask,j)}delete j.activeOwner;delete j.floatOwner},afterRender:function(){var c=this;Ext.Component.prototype.afterRender.apply(this,arguments);if(Ext.isIE){c.el.on("mousedown",c.onMouseDown,c)}this.el.skipGarbageCollection=true},onMouseDown:function(e){var d=this.el;if(e.within(d)){e.preventDefault();d.focus()}},onOwnerToFront:function(d,e){this.el.setStyle("zIndex",e+1)},onContainerShow:function(c){if(!this.isHierarchicallyHidden()){this.onComponentShow()}},onContainerHide:function(c){if(this.isHierarchicallyHidden()){this.onComponentHide()}},onContainerExpand:function(c){if(!this.isHierarchicallyHidden()){this.onComponentShow()}},onContainerCollapse:function(c){if(this.isHierarchicallyHidden()){this.onComponentHide()}},onComponentHide:function(){var c=this;if(c.rendered&&c.isVisible()){c.hide();c.showNext=true}},onComponentShow:function(){if(this.showNext){this.show()}delete this.showNext},sizeMask:function(){var k=this,j=k.activeOwner||k.target,f=k.external?k.getOwner().el:k.getMaskTarget(),g;if(k.rendered&&k.isVisible()){if(k.external){if(!k.isElement&&j.floating){g=j.el.getZIndex();if(!isNaN(g)){k.onOwnerToFront(j,g)}}k.el.setSize(f.getSize()).alignTo(f,"tl-tl")}k.msgWrapEl.center(k.el)}},bindStore:function(e,g){var f=this;Ext.destroy(f.proxyListeners);f.mixins.storeholder.bindStore.apply(f,arguments);e=f.store;if(e){while(e.getSource){e=e.getSource()}if(!e.loadsSynchronously()){f.proxyListeners=e.getProxy().on({exception:f.onLoad,scope:f,destroyable:true})}if(e.isLoading()){f.onBeforeLoad()}}},getStoreListeners:function(k){var g=this.onLoad,j=this.onBeforeLoad,f={cachemiss:j,cachefilled:{fn:g,buffer:100}};if(!k.loadsSynchronously()){f.beforeload=j;f.load=g}return f},onDisable:function(){Ext.Component.prototype.onDisable.apply(this,arguments);if(this.loading){this.onLoad()}},getOwner:function(){return this.ownerCt||this.ownerCmp||this.floatParent},getMaskTarget:function(){var c=this.getOwner();if(this.isElement){return this.target}return this.useTargetEl?c.getTargetEl():(c.getMaskTarget()||Ext.getBody())},onBeforeLoad:function(){var f=this,e=f.getOwner(),g;if(!f.disabled){f.loading=true;if(e.componentLayoutCounter){f.maybeShow()}else{g=e.afterComponentLayout;e.afterComponentLayout=function(){e.afterComponentLayout=g;g.apply(e,arguments);f.maybeShow()}}}},maybeShow:function(){var f=this,e=f.getOwner(),g;g=e.isVisible(true)&&(!f.isComponent||e.el.isVisible(true));if(!g){f.showNext=true}else{if(f.loading&&e.rendered){f.show()}}},hide:function(){var e=this,d=e.ownerCt;if(e.isElement){d.unmask();e.fireEvent("hide",this);return}if(d){d.updateMaskState(false,e)}delete e.showNext;return Ext.Component.prototype.hide.apply(this,arguments)},show:function(){var c=this;if(c.isElement){c.ownerCt.mask(this.useMsg?this.msg:"",this.msgCls);c.fireEvent("show",this);return}return Ext.Component.prototype.show.apply(this,arguments)},afterShow:function(){var e=this,d=e.ownerCt;e.loading=true;Ext.Component.prototype.afterShow.apply(this,arguments);d.updateMaskState(true,e);e.el.restoreTabbableState();e.syncMaskState()},syncMaskState:function(){var f=this,g=f.ownerCt,e=f.el;if(f.isVisible()){if(f.hasOwnProperty("msgWrapCls")){e.dom.className=f.msgWrapCls}if(f.useMsg){f.msgTextEl.setHtml(f.msg);f.ariaEl.dom.setAttribute("aria-valuetext",f.msg)}else{f.msgWrapEl.hide()}if(f.shim||Ext.useShims){e.enableShim(null,true)}else{e.disableShim()}if(g.el.contains(Ext.Element.getActiveElement())){f.focus()}f.sizeMask()}},onLoad:function(){this.loading=false;this.hide()},doDestroy:function(){var c=this;c.ownerCt=null;c.bindStore(null);if(c.isElement){c.ownerCt.unmask()}Ext.Component.prototype.doDestroy.call(this)}},1,["loadmask"],["component","box","loadmask"],{component:true,box:true,loadmask:true},["widget.loadmask"],[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],[Ext,"LoadMask"],0));(Ext.cmd.derive("Ext.layout.component.Component",Ext.layout.Layout,{type:"component",isComponentLayout:true,nullBox:{},usesContentHeight:true,usesContentWidth:true,usesHeight:true,usesWidth:true,widthCache:{},heightCache:{},beginLayoutCycle:function(G,K){var y=this,H=y.owner,D=G.ownerCtContext,C=G.heightModel,B=G.widthModel,A=H.el.dom===document.body,E=H.lastBox||y.nullBox,w=H.el.lastBox||y.nullBox,J=!A,F=G.isTopLevel,x,v,I,u;Ext.layout.Layout.prototype.beginLayoutCycle.call(this,G,K);if(K){if(y.usesContentWidth){++G.consumersContentWidth}if(y.usesContentHeight){++G.consumersContentHeight}if(y.usesWidth){++G.consumersWidth}if(y.usesHeight){++G.consumersHeight}if(D&&!D.hasRawContent){x=H.ownerLayout;if(x){if(x.usesWidth){++G.consumersWidth}if(x.usesHeight){++G.consumersHeight}}}}if(B.configured){I=H[B.names.width];if(F&&B.calculatedFrom){I=E.width}if(!A){J=y.setWidthInDom||(K?I!==w.width:B.constrained)}G.setWidth(I,J)}else{if(F){if(B.calculated){v=E.width;G.setWidth(v,v!==w.width)}v=E.x;G.setProp("x",v,v!==w.x)}}if(C.configured){u=H[C.names.height];if(F&&C.calculatedFrom){u=E.height}if(!A){J=K?u!==w.height:C.constrained}G.setHeight(u,J)}else{if(F){if(C.calculated){v=E.height;G.setHeight(v,v!==w.height)}v=E.y;G.setProp("y",v,v!==w.y)}}},finishedLayout:function(u){var o=this,m=u.children,v=o.owner,q,s,n,r,p;if(m){q=m.length;for(s=0;s<q;s++){n=m[s];n.el.lastBox=n.props}}u.previousSize=o.lastComponentSize;o.lastComponentSize=v.el.lastBox=p=u.props;r=v.lastBox||(v.lastBox={});r.x=p.x;r.y=p.y;r.width=p.width;r.height=p.height;r.invalid=false;Ext.layout.Layout.prototype.finishedLayout.call(this,u)},notifyOwner:function(j){var k=this,f=k.lastComponentSize,g=j.previousSize;k.owner.afterComponentLayout(f.width,f.height,g?g.width:undefined,g?g.height:undefined)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(k){var f=this,g=f.targetInfo,j;if(!g){j=k.getEl("getTarget",f);f.targetInfo=g={padding:j.getPaddingInfo(),border:j.getBorderInfo()}}return g},measureAutoDimensions:function(N,R){var D=this,Y=D.owner,G=Y.layout,V=N.heightModel,S=N.widthModel,W=N.boxParent,K=N.isBoxParent,C=N.target,X=N.props,Q,M={gotWidth:false,gotHeight:false,isContainer:(Q=!N.hasRawContent)},E=R||3,H,U,P=0,T=0,O,I,F,J,L;if(S.shrinkWrap&&N.consumersContentWidth){++P;H=!(E&1);if(Q){if(H){M.contentWidth=0;M.gotWidth=true;++T}else{if((M.contentWidth=N.getProp("contentWidth"))!==undefined){M.gotWidth=true;++T}}}else{I=X.contentWidth;if(typeof I==="number"){M.contentWidth=I;M.gotWidth=true;++T}else{if(H){O=true}else{if(!N.hasDomProp("containerChildrenSizeDone")){O=false}else{if(K||!W||W.widthModel.shrinkWrap){O=true}else{O=W.hasDomProp("width")}}}if(O){if(H){F=0}else{if(G&&G.measureContentWidth){F=G.measureContentWidth(N)}else{if(C.cacheWidth){J=C.xtype+"-"+C.ui;L=D.widthCache;F=L[J]||(L[J]=D.measureContentWidth(N))}else{F=D.measureContentWidth(N)}}}if(!isNaN(M.contentWidth=F)){N.setContentWidth(F,true);M.gotWidth=true;++T}}}}}else{if(S.natural&&N.consumersWidth){++P;I=X.width;if(typeof I==="number"){M.width=I;M.gotWidth=true;++T}else{if(K||!W){O=true}else{O=W.hasDomProp("width")}if(O){if(!isNaN(M.width=D.measureOwnerWidth(N))){N.setWidth(M.width,false);M.gotWidth=true;++T}}}}}if(V.shrinkWrap&&N.consumersContentHeight){++P;U=!(E&2);if(Q){if(U){M.contentHeight=0;M.gotHeight=true;++T}else{if((M.contentHeight=N.getProp("contentHeight"))!==undefined){M.gotHeight=true;++T}}}else{I=X.contentHeight;if(typeof I==="number"){M.contentHeight=I;M.gotHeight=true;++T}else{if(U){O=true}else{if(!N.hasDomProp("containerChildrenSizeDone")){O=false}else{if(Y.noWrap){O=true}else{if(!S.shrinkWrap){O=(N.bodyContext||N).hasDomProp("width")}else{if(K||!W||W.widthModel.shrinkWrap){O=true}else{O=W.hasDomProp("width")}}}}}if(O){if(U){F=0}else{if(G&&G.measureContentHeight){F=G.measureContentHeight(N)}else{if(C.cacheHeight){J=C.xtype+"-"+C.ui;L=D.heightCache;F=L[J]||(L[J]=D.measureContentHeight(N))}else{F=D.measureContentHeight(N)}}}if(!isNaN(M.contentHeight=F)){N.setContentHeight(F,true);M.gotHeight=true;++T}}}}}else{if(V.natural&&N.consumersHeight){++P;I=X.height;if(typeof I==="number"){M.height=I;M.gotHeight=true;++T}else{if(K||!W){O=true}else{O=W.hasDomProp("width")}if(O){if(!isNaN(M.height=D.measureOwnerHeight(N))){N.setHeight(M.height,false);M.gotHeight=true;++T}}}}}if(W){N.onBoxMeasured()}M.gotAll=T===P;return M},measureContentWidth:function(c){return c.el.getWidth()-c.getFrameInfo().width},measureContentHeight:function(c){return c.el.getHeight()-c.getFrameInfo().height},measureOwnerHeight:function(c){return c.el.getHeight()},measureOwnerWidth:function(c){return c.el.getWidth()}},0,0,0,0,0,0,[Ext.layout.component,"Component"],0));(Ext.cmd.derive("Ext.layout.component.Auto",Ext.layout.component.Component,{type:"autocomponent",setHeightInDom:false,setWidthInDom:false,waitForOuterHeightInDom:false,waitForOuterWidthInDom:false,beginLayoutCycle:function(m,j){var n=this,k=n.lastWidthModel,l=n.lastHeightModel,o=n.owner.el;Ext.layout.component.Component.prototype.beginLayoutCycle.apply(this,arguments);if(k&&k.fixed&&m.widthModel.shrinkWrap){o.setWidth(null)}if(l&&l.fixed&&m.heightModel.shrinkWrap){o.setHeight(null)}},calculate:function(l){var m=this,n=m.measureAutoDimensions(l),q=l.heightModel,p=l.widthModel,o,k;if(n.gotWidth){if(p.shrinkWrap){m.publishOwnerWidth(l,n.contentWidth)}else{if(m.publishInnerWidth){m.publishInnerWidth(l,n.width)}}}else{if(!p.auto&&m.publishInnerWidth){o=m.waitForOuterWidthInDom?l.getDomProp("width"):l.getProp("width");if(o===undefined){m.done=false}else{m.publishInnerWidth(l,o)}}}if(n.gotHeight){if(q.shrinkWrap){m.publishOwnerHeight(l,n.contentHeight)}else{if(m.publishInnerHeight){m.publishInnerHeight(l,n.height)}}}else{if(!q.auto&&m.publishInnerHeight){k=m.waitForOuterHeightInDom?l.getDomProp("height"):l.getProp("height");if(k===undefined){m.done=false}else{m.publishInnerHeight(l,k)}}}if(!n.gotAll){m.done=false}},calculateOwnerHeightFromContentHeight:function(e,d){return d+e.getFrameInfo().height},calculateOwnerWidthFromContentWidth:function(e,d){return d+e.getFrameInfo().width},publishOwnerHeight:function(m,o){var p=this,s=p.owner,l=p.calculateOwnerHeightFromContentHeight(m,o),n,q,r;if(isNaN(l)){p.done=false}else{n=Ext.Number.constrain(l,s.minHeight,s.maxHeight);if(n===l){q=p.setHeightInDom}else{r=p.sizeModels[(n<l)?"constrainedMax":"constrainedMin"];l=n;if(m.heightModel.calculatedFromShrinkWrap){m.heightModel=r}else{m.invalidate({heightModel:r})}}m.setHeight(l,q)}},publishOwnerWidth:function(n,s){var o=this,l=o.owner,p=o.calculateOwnerWidthFromContentWidth(n,s),m,q,r;if(isNaN(p)){o.done=false}else{m=Ext.Number.constrain(p,l.minWidth,l.maxWidth);if(m===p){q=o.setWidthInDom}else{r=o.sizeModels[(m<p)?"constrainedMax":"constrainedMin"];p=m;if(n.widthModel.calculatedFromShrinkWrap){n.widthModel=r}else{n.invalidate({widthModel:r})}}n.setWidth(p,q)}}},0,0,0,0,["layout.autocomponent"],0,[Ext.layout.component,"Auto"],0));(Ext.cmd.derive("Ext.layout.component.ProgressBar",Ext.layout.component.Auto,{type:"progressbar",beginLayout:function(g){var k=this,f,j;Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);if(!g.textEls){j=k.owner.textEl;if(j.isComposite){g.textEls=[];j=j.elements;for(f=j.length;f--;){g.textEls[f]=g.getEl(Ext.get(j[f]))}}else{g.textEls=[g.getEl("textEl")]}}},calculate:function(j){var l=this,g,k,m;Ext.layout.component.Auto.prototype.calculate.apply(this,arguments);if(Ext.isNumber(m=j.getProp("width"))){m-=j.getBorderInfo().width;k=j.textEls;for(g=k.length;g--;){k[g].setWidth(m)}}else{l.done=false}}},0,0,0,0,["layout.progressbar"],0,[Ext.layout.component,"ProgressBar"],0));(Ext.cmd.derive("Ext.ProgressBar",Ext.Component,{baseCls:"x-progress",animate:false,text:"",waitTimer:null,childEls:["bar"],defaultBindProperty:"value",renderTpl:['<tpl if="internalText">','<div class="{baseCls}-text {baseCls}-text-back" role="presentation">{text}</div>',"</tpl>",'<div id="{id}-bar" data-ref="bar" class="{baseCls}-bar {baseCls}-bar-{ui}" role="presentation" style="width:{percentage}%">','<tpl if="internalText">','<div class="{baseCls}-text" role="presentation">','<div role="presentation">{text}</div>',"</div>","</tpl>","</div>"],componentLayout:"progressbar",ariaRole:"progressbar",focusable:true,tabIndex:0,autoEl:{"aria-valuemin":"0","aria-valuenow":"0","aria-valuemax":"100"},initRenderData:function(){var e=this,f=e.value||0,g;g=Ext.Component.prototype.initRenderData.call(this);return Ext.apply(g,{internalText:!e.hasOwnProperty("textEl"),text:e.text||Math.round(f*100)+"%",percentage:f*100})},onRender:function(){var c=this;Ext.Component.prototype.onRender.apply(this,arguments);if(c.textEl){c.textEl=Ext.get(c.textEl);c.updateText(c.text)}else{c.textEl=c.el.select("."+c.baseCls+"-text")}},afterRender:function(){var c=this;Ext.Component.prototype.afterRender.apply(this,arguments);if(c.text){c.ariaEl.dom.setAttribute("aria-valuetext",c.text)}},updateValue:function(c){this.updateProgress(c)},updateProgress:function(l,k,j){l=l||0;var m=this,o=m.value,n=m.getTextTpl();m.value=l||(l=0);if(k!=null){m.autoText=false;m.updateText(k)}else{if(n){m.autoText=false;m.updateText(n.apply({value:l,percent:l*100}))}else{if(!m.text&&m.autoText!==false){m.autoText=true;m.updateText(Math.round(l*100)+"%")}else{if(m.text&&m.ariaEl.dom){m.ariaEl.dom.removeAttribute("aria-valuetext")}}}}if(m.rendered&&!m.destroyed){if(j===true||(j!==false&&m.animate)){m.bar.stopAnimation();m.bar.animate(Ext.apply({from:{width:(o*100)+"%"},to:{width:(l*100)+"%"}},m.animate))}else{m.bar.setStyle("width",(l*100)+"%")}m.ariaEl.dom.setAttribute("aria-valuenow",Math.round(l*100))}m.fireEvent("update",m,l,k);return m},updateText:function(e){var d=this;if(!d.autoText){d.text=e}if(d.rendered){d.textEl.setHtml(e);if(!d.autoText){d.ariaEl.dom.setAttribute("aria-valuetext",e)}else{d.ariaEl.dom.removeAttribute("aria-valuetext")}}return d},applyText:function(c){this.updateText(c)},getText:function(){return this.text},wait:function(f){var g=this,e;if(!g.waitTimer){e=g;f=f||{};if(f.text!=null){g.autoText=false}g.updateText(f.text);g.waitTimer=Ext.TaskManager.start({run:function(c){var b=f.increment||10;c-=1;g.updateProgress(((((c+b)%b)+1)*(100/b))*0.01,null,f.animate)},interval:f.interval||1000,duration:f.duration,onStop:function(){if(f.fn){f.fn.apply(f.scope||g)}g.reset()},scope:e})}return g},isWaiting:function(){return this.waitTimer!==null},reset:function(d){var e=this;e.updateProgress(0);e.clearTimer();if(d===true){e.hide()}if(e.rendered){e.ariaEl.dom.removeAttribute("aria-valuetext")}return e},clearTimer:function(){var c=this;if(c.waitTimer){c.waitTimer.onStop=null;Ext.TaskManager.stop(c.waitTimer);c.waitTimer=null}},doDestroy:function(){var e=this,d=e.bar;e.clearTimer();if(e.rendered){if(e.textEl.isComposite){e.textEl.clear()}Ext.destroyMembers(e,"textEl","progressBar");if(d&&e.animate){d.stopAnimation()}}Ext.Component.prototype.doDestroy.call(this)}},0,["progressbar"],["component","box","progressbar"],{component:true,box:true,progressbar:true},["widget.progressbar"],[[Ext.ProgressBase.prototype.mixinId||Ext.ProgressBase.$className,Ext.ProgressBase]],[Ext,"ProgressBar"],0));(Ext.cmd.derive("Ext.dom.ButtonElement",Ext.dom.Element,{setSize:function(k,g,m){var j=this,l=j.component;Ext.dom.Element.prototype.setSize.call(this,k,g,m);l.btnWrap.setStyle("table-layout",(!k||k==="auto")?"":"fixed");l.btnEl.setStyle("height",(!g||g==="auto")?"":"auto");return j},setStyle:function(k,l){var m=this,o=m.component,n,j;Ext.dom.Element.prototype.setStyle.call(this,k,l);if(k){if(k==="width"||(typeof k!=="string"&&"width" in k)){n=l||k.width;o.btnWrap.setStyle("table-layout",(!n||n==="auto")?"":"fixed")}if(k==="height"||(typeof k!=="string"&&"height" in k)){j=l||k.height;o.btnEl.setStyle("height",(!j||j==="auto")?"":"auto")}}return m},setHeight:function(d,e){Ext.dom.Element.prototype.setHeight.call(this,d,e);this.component.btnEl.setStyle("height",(!d||d==="auto")?"":"auto");return this},setWidth:function(e,d){Ext.dom.Element.prototype.setWidth.call(this,e,d);this.component.btnWrap.setStyle("table-layout",(!e||e==="auto")?"":"fixed");return this}},0,0,0,0,0,0,[Ext.dom,"ButtonElement"],0));(Ext.cmd.derive("Ext.button.Manager",Ext.Base,{singleton:true,alternateClassName:"Ext.ButtonToggleManager",groups:{},pressedButton:null,init:function(){var c=this;if(!c.initialized){Ext.getDoc().on({mouseup:c.onDocumentMouseUp,scope:c});c.initialized=true}},onButtonMousedown:function(e,f){var g=this.pressedButton;if(g&&!g.destroying&&!g.destroyed){g.onMouseUp(f)}this.pressedButton=e},onDocumentMouseUp:function(e){var d=this.pressedButton;if(d&&!d.destroying&&!d.destroyed){d.onMouseUp(e);this.pressedButton=null}},toggleGroup:function(m,j){if(j){var k=this.groups[m.toggleGroup],l=k.length,g;for(g=0;g<l;g++){if(k[g]!==m){k[g].toggle(false)}}}},register:function(k){var j=this,f=this.groups,g=f[k.toggleGroup];j.init();if(!k.toggleGroup){return}if(!g){g=f[k.toggleGroup]=[]}g.push(k);k.on("toggle",j.toggleGroup,j)},unregister:function(e){if(!e.toggleGroup){return}var g=this,f=g.groups[e.toggleGroup];if(f){Ext.Array.remove(f,e);e.un("toggle",g.toggleGroup,g)}},getPressed:function(g){var j=this.groups[g],k=0,f;if(j){for(f=j.length;k<f;k++){if(j[k].pressed===true){return j[k]}}}return null}},0,0,0,0,0,0,[Ext.button,"Manager",Ext,"ButtonToggleManager"],0));(Ext.cmd.derive("Ext.menu.Manager",Ext.Base,{singleton:true,alternateClassName:"Ext.menu.MenuMgr",groups:{},visible:[],constructor:function(){var c=this;c.onShow=function(){c.registerGlobalListeners();return c.onShow.apply(c,arguments)}},onGlobalScroll:function(n){var k=this.visible,o=k.length,m,l,j=n.getElement();if(o&&n!==Ext.scroll.Scroller.viewport){k=k.slice();for(m=0;m<o;++m){l=k[m];if(!l.alignOnScroll&&l.hideOnScroll!==false&&!l.owns(j)){l.hide()}}}},checkActiveMenus:function(m){var k=this.visible,e=k.length,o,l,n=Ext.Component.fromElement(m.target);if(e){k=k.slice();for(o=0;o<e;++o){l=k[o];if(!(l.owns(m)||(n&&n.isMenuItem&&n.menu===l))){l.hide()}}}},onShow:function(c){if(c.floating){Ext.Array.include(this.visible,c)}},onHide:function(c){if(c.floating){Ext.Array.remove(this.visible,c)}},hideAll:function(){var g=this.visible,k=g.length,f=false,j;if(k){g=g.slice();for(j=0;j<k;j++){g[j].hide();f=true}}return f},get:function(f,g){var e;if(typeof f==="string"){e=Ext.getCmp(f);if(e instanceof Ext.menu.Menu){f=e}}else{if(Ext.isArray(f)){g=Ext.apply({items:f},g);f=new Ext.menu.Menu(g)}else{if(!f.isComponent){g=Ext.apply({},f,g);f=Ext.ComponentManager.create(g,"menu")}}}return f},registerCheckable:function(f){var e=this.groups,g=f.group;if(g){if(!e[g]){e[g]=[]}e[g].push(f)}},unregisterCheckable:function(f){var e=this.groups,g=f.group;if(g){Ext.Array.remove(e[g],f)}},onCheckChange:function(q,o){var l=this.groups,r=q.group,s=0,m,p,n;if(r&&o){m=l[r];p=m.length;for(;s<p;s++){n=m[s];if(n!==q){n.setChecked(false)}}}},registerGlobalListeners:function(){var c=this;delete c.onShow;Ext.on({mousedown:c.checkActiveMenus,scroll:c.onGlobalScroll,scope:c})}},1,0,0,0,0,0,[Ext.menu,"Manager",Ext.menu,"MenuMgr"],0));(Ext.cmd.derive("Ext.util.ClickRepeater",Ext.util.Observable,{constructor:function(g,e){var f=this;f.el=Ext.get(g);f.el.unselectable();Ext.apply(f,e);Ext.util.Observable.prototype.constructor.call(this);if(!f.disabled){f.disabled=true;f.enable()}if(f.handler){f.on("click",f.handler,f.scope||f)}},interval:20,delay:250,preventDefault:true,stopDefault:false,timer:0,enable:function(){if(this.disabled){this.el.on("mousedown",this.handleMouseDown,this);if(Ext.isIE8){this.el.on("dblclick",this.handleDblClick,this)}if(this.preventDefault||this.stopDefault){this.el.on("click",this.eventOptions,this)}}this.disabled=false},disable:function(c){if(c||!this.disabled){clearTimeout(this.timer);if(this.pressedCls){this.el.removeCls(this.pressedCls)}Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.clearListeners()}this.disabled=true},setDisabled:function(c){this[c?"disable":"enable"]()},eventOptions:function(c){if(this.preventDefault){c.preventDefault()}if(this.stopDefault){c.stopEvent()}},destroy:function(){this.disable(true);Ext.util.Observable.prototype.destroy.call(this)},handleDblClick:function(c){clearTimeout(this.timer);this.fireEvent("mousedown",this,c);this.fireEvent("click",this,c)},handleMouseDown:function(c){clearTimeout(this.timer);if(this.pressedCls){this.el.addCls(this.pressedCls)}this.mousedownTime=new Date();Ext.getDoc().on("mouseup",this.handleMouseUp,this);this.el.on("mouseout",this.handleMouseOut,this);this.fireEvent("mousedown",this,c);this.fireEvent("click",this,c);if(this.accelerate){this.delay=400}this.timer=Ext.defer(this.click,this.delay||this.interval,this,[c]);if(this.mousedownPreventDefault){c.preventDefault()}if(this.mousedownStopEvent){c.stopEvent()}},click:function(c){this.fireEvent("click",this,c);this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12000):this.interval,this,[c])},easeOutExpo:function(d,k,b,c){return(d===c)?k+b:b*(-Math.pow(2,-10*d/c)+1)+k},handleMouseOut:function(){clearTimeout(this.timer);if(this.pressedCls){this.el.removeCls(this.pressedCls)}this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(c){this.el.un("mouseover",this.handleMouseReturn,this);if(this.pressedCls){this.el.addCls(this.pressedCls)}this.click(c)},handleMouseUp:function(c){clearTimeout(this.timer);this.el.un("mouseover",this.handleMouseReturn,this);this.el.un("mouseout",this.handleMouseOut,this);Ext.getDoc().un("mouseup",this.handleMouseUp,this);if(this.pressedCls){this.el.removeCls(this.pressedCls)}this.fireEvent("mouseup",this,c)}},1,0,0,0,0,0,[Ext.util,"ClickRepeater"],0));(Ext.cmd.derive("Ext.button.Button",Ext.Component,{alternateClassName:"Ext.Button",config:{iconAlign:"left",text:null,textAlign:"center",arrowVisible:true,glyph:null},isButton:true,_syncFrameHeight:true,liquidLayout:true,hidden:false,disabled:false,pressed:false,tabIndex:0,enableToggle:false,menuAlign:"tl-bl?",showEmptyMenu:false,clickEvent:"click",preventDefault:true,handleMouseEvents:true,tooltipType:"qtip",baseCls:"x-btn",hrefTarget:"_blank",destroyMenu:true,focusable:true,ariaRole:"button",keyMap:{scope:"this",SPACE:"onEnterKey",ENTER:"onEnterKey",DOWN:"onDownKey"},defaultBindProperty:"text",childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl","arrowEl"],publishes:{pressed:1},_btnWrapCls:"x-btn-wrap",_btnCls:"x-btn-button",_baseIconCls:"x-btn-icon-el",_glyphCls:"x-btn-glyph",_innerCls:"x-btn-inner",_textCls:"x-btn-text",_noTextCls:"x-btn-no-text",_hasIconCls:"x-btn-icon",_pressedCls:"x-btn-pressed",overCls:"x-btn-over",_disabledCls:"x-btn-disabled",_menuActiveCls:"x-btn-menu-active",_arrowElCls:"x-btn-arrow-el",_focusCls:"x-btn-focus",_arrowFocusCls:"x-arrow-focus",renderTpl:'<span id="{id}-btnWrap" data-ref="btnWrap" role="presentation" unselectable="on" style="{btnWrapStyle}" class="{btnWrapCls} {btnWrapCls}-{ui} {splitCls}{childElCls}"><span id="{id}-btnEl" data-ref="btnEl" role="presentation" unselectable="on" style="{btnElStyle}" class="{btnCls} {btnCls}-{ui} {textCls} {noTextCls} {hasIconCls} {iconAlignCls} {textAlignCls} {btnElAutoHeightCls}{childElCls}"><tpl if="iconBeforeText">{[values.$comp.renderIcon(values)]}</tpl><span id="{id}-btnInnerEl" data-ref="btnInnerEl" unselectable="on" class="{innerCls} {innerCls}-{ui}{childElCls}">{text}</span><tpl if="!iconBeforeText">{[values.$comp.renderIcon(values)]}</tpl></span></span>{[values.$comp.getAfterMarkup ? values.$comp.getAfterMarkup(values) : ""]}<tpl if="closable"><span id="{id}-closeEl" data-ref="closeEl" class="{baseCls}-close-btn"><tpl if="closeText"> {closeText}</tpl></span></tpl><tpl if="split"><span id="{id}-arrowEl" class="{arrowElCls}" data-ref="arrowEl" role="button" hidefocus="on" unselectable="on"<tpl if="tabIndex != null"> tabindex="{tabIndex}"</tpl><tpl foreach="arrowElAttributes"> {$}="{.}"</tpl> style="{arrowElStyle}">{arrowElText}</span></tpl>',iconTpl:'<span id="{id}-btnIconEl" data-ref="btnIconEl" role="presentation" unselectable="on" class="{baseIconCls} {baseIconCls}-{ui} {iconCls} {glyphCls}{childElCls}" style="<tpl if="iconUrl">background-image:url({iconUrl});</tpl><tpl if="glyph"><tpl if="glyphFontFamily">font-family:{glyphFontFamily};</tpl>">{glyph}<tpl else>"></tpl></span>',scale:"small",allowedScales:["small","medium","large"],arrowAlign:"right",arrowCls:"arrow",maskOnDisable:false,shrinkWrap:3,frame:true,autoEl:{tag:"a",hidefocus:"on",unselectable:"on"},hasFrameTable:function(){return this.href&&this.frameTable},frameTableListener:function(){if(!this.disabled){this.doNavigate()}},doNavigate:function(){if(this.hrefTarget==="_blank"){window.open(this.getHref(),this.hrefTarget)}else{location.href=this.getHref()}},_triggerRegion:{},initComponent:function(){var c=this;c.addCls("x-unselectable");Ext.Component.prototype.initComponent.call(this);if(c.menu){c.split=true;c.setMenu(c.menu,false,true)}if(c.url){c.href=c.url}c.configuredWithPreventDefault=c.hasOwnProperty("preventDefault");if(c.href&&!c.configuredWithPreventDefault){c.preventDefault=false}if(Ext.isString(c.toggleGroup)&&c.toggleGroup!==""){c.enableToggle=true}if(c.html&&!c.text){c.text=c.html;delete c.html}},getElConfig:function(){var j=this,k=Ext.Component.prototype.getElConfig.call(this),f=j.getHref(),g=j.hrefTarget;if(k.tag==="a"){if(!j.disabled){k.tabIndex=j.tabIndex}if(f){if(!j.disabled){k.href=f;if(g){k.target=g}}}}if(!j.ariaStaticRoles[j.ariaRole]){if(j.menu&&!j.isSplitButton){k["aria-haspopup"]=true}if(j.enableToggle){k["aria-pressed"]=!!j.pressed}}return k},beforeRender:function(){Ext.Component.prototype.beforeRender.call(this);if(this.pressed){this.addCls(this._pressedCls)}},initRenderData:function(){return Ext.apply(Ext.Component.prototype.initRenderData.call(this),this.getTemplateArgs())},getMenu:function(){return this.menu||null},setMenu:function(m,n,p){var o=this,s=o.menu,l=o.isSplitButton?o.arrowEl&&o.arrowEl.dom:o.ariaEl.dom,r,q;if(s&&!p){if(n!==false&&o.destroyMenu){s.destroy()}s.ownerCmp=null}if(m){r=m.isMenu;m=Ext.menu.Manager.get(m,{ownerCmp:o});m.setOwnerCmp(o,r);m.menuClickBuffer=250;o.mon(m,{scope:o,show:o.onMenuShow,hide:o.onMenuHide});if(!s&&o.getArrowVisible()){o.split=true;if(o.rendered){o._addSplitCls();o.updateLayout()}}o.menu=m;if(l){l.setAttribute("aria-haspopup",true);l.setAttribute("aria-owns",m.id)}else{q=o.isSplitButton?(o.ariaArrowElAttributes||(o.ariaArrowElAttributes={})):(o.ariaRenderAttributes||(o.ariaRenderAttributes={}));q["aria-haspopup"]=true;q["aria-owns"]=m.id}}else{if(o.rendered){l.removeAttribute("aria-haspopup");l.removeAttribute("aria-owns");o._removeSplitCls();o.updateLayout()}else{q=o.isSplitButton?o.ariaArrowElAttributes:o.ariaRenderAttributes;if(q){delete q["aria-haspopup"];delete q["aria-owns"]}}o.split=false;o.menu=null}},onRender:function(){var j=this,g,f,k;Ext.Component.prototype.onRender.apply(this,arguments);f=j.el;if(j.tooltip){j.setTooltip(j.tooltip,true)}if(j.handleMouseEvents){k={scope:j,mouseover:j.onMouseOver,mouseout:j.onMouseOut,mousedown:j.onMouseDown};if(j.split){k.mousemove=j.onMouseMove}}else{k={scope:j}}if(Ext.supports.Touch){k.touchstart=j.onTouchStart}if(j.repeat){j.mon(new Ext.util.ClickRepeater(f,Ext.isObject(j.repeat)?j.repeat:{}),"click",j.onRepeatClick,j)}else{if(k[j.clickEvent]){g=true}else{k[j.clickEvent]=j.onClick}}j.mon(f,k);if(j.hasFrameTable()){j.mon(j.frameTable,"click",j.frameTableListener,j)}if(g){j.mon(f,j.clickEvent,j.onClick,j)}Ext.button.Manager.register(j)},onFocusLeave:function(c){Ext.Component.prototype.onFocusLeave.call(this,c);if(this.menu){this.menu.hide()}},getTemplateArgs:function(){var o=this,u=o._btnCls,r=o._baseIconCls,v=o.getIconAlign(),n=o.glyph,p,m=o.text,s=o._hasIcon(),q=o._hasIconCls;if(n){p=n.fontFamily;n=n.character}return{split:o.isSplitButton,innerCls:o._innerCls,splitCls:o.getArrowVisible()?o.getSplitCls():"",iconUrl:o.icon,iconCls:o.iconCls,glyph:n,glyphCls:n?o._glyphCls:"",glyphFontFamily:p,text:m||"&#160;",closeText:o.closeText,textCls:m?o._textCls:"",noTextCls:m?"":o._noTextCls,hasIconCls:s?q:"",btnWrapCls:o._btnWrapCls,btnWrapStyle:o.width?"table-layout:fixed;":"",btnElStyle:o.height?"height:auto;":"",btnCls:u,baseIconCls:r,iconBeforeText:v==="left"||v==="top",iconAlignCls:s?(q+"-"+v):"",textAlignCls:u+"-"+o.getTextAlign(),arrowElCls:o._arrowElCls,arrowElStyle:o.arrowVisible?"":"display:none",tabIndex:o.tabIndex}},renderIcon:function(c){return this.lookupTpl("iconTpl").apply(c)},setHref:function(f){var k=this,g=k.hrefTarget,j;k.href=f;if(!k.configuredWithPreventDefault){k.preventDefault=!f}if(k.rendered){j=k.el.dom;if(!f||k.disabled){j.removeAttribute("href");j.removeAttribute("hrefTarget")}else{j.href=k.getHref();if(g){j.target=g}}}},getHref:function(){var e=this,d=e.href;return d?Ext.urlAppend(d,Ext.Object.toQueryString(Ext.apply({},e.params,e.baseParams))):false},setParams:function(f){var e=this,g;e.params=f;if(e.rendered){g=e.el.dom;if(e.disabled){g.removeAttribute("href")}else{g.href=e.getHref()||""}}},getSplitCls:function(){var c=this;return c.split?(c.baseCls+"-"+c.arrowCls)+" "+(c.baseCls+"-"+c.arrowCls+"-"+c.arrowAlign):""},setIcon:function(k){k=k||"";var j=this,f=j.btnIconEl,g=j.icon||"";if(j.glyph){j.setGlyph(null)}j.icon=k;if(k!==g){if(f){f.removeCls(j.iconCls);f.setStyle("background-image",k?"url("+k+")":"");j._syncHasIconCls();if(j.didIconStateChange(g,k)){j.updateLayout()}}j.fireEvent("iconchange",j,g,k)}return j},setIconCls:function(k){k=k||"";var g=this,f=g.btnIconEl,j=g.iconCls||"";if(g.glyph){g.setGlyph(null)}g.iconCls=k;if(j!==k){if(f){f.setStyle("background-image","");f.removeCls(j);f.addCls(k);g._syncHasIconCls();if(g.didIconStateChange(j,k)){g.updateLayout()}}g.fireEvent("iconchange",g,j,k)}return g},applyGlyph:function(e,d){if(e){if(!e.isGlyph){e=new Ext.Glyph(e)}if(e.isEqual(d)){e=undefined}}return e},updateGlyph:function(k,m){var l=this,g=l.btnIconEl,j=l._glyphCls;if(g){l.icon=null;g.setStyle("background-image","");if(k){g.dom.innerHTML=k.character;g.addCls(j);g.setStyle(k.getStyle())}else{g.dom.innerHTML="";g.removeCls(j)}l._syncHasIconCls();if(l.didIconStateChange(m,k)){l.updateLayout()}}l.fireEvent("glyphchange",l,k&&k.glyphConfig,m&&m.glyphConfig);return l},setTooltip:function(f,e){var g=this;if(g.rendered){if(!e||!f){g.clearTip()}if(f){if(Ext.quickTipsActive&&Ext.isObject(f)){Ext.tip.QuickTipManager.register(Ext.apply({target:g.el.id},f));g.tooltip=f}else{g.el.dom.setAttribute(g.getTipAttr(),f)}}}else{g.tooltip=f}return g},updateIconAlign:function(k,m){var n=this,o,j,l;if(n.rendered){o=n.btnEl;j=n.btnIconEl;l=n._hasIconCls;if(m){o.removeCls(l+"-"+m)}o.addCls(l+"-"+k);if(k==="top"||k==="left"){o.insertFirst(j)}else{o.appendChild(j)}n.updateLayout()}},updateTextAlign:function(j,k){var l=this,m=l.btnEl,g=l._btnCls;if(l.rendered){m.removeCls(g+"-"+k);m.addCls(g+"-"+j)}},getTipAttr:function(){return this.tooltipType==="qtip"?"data-qtip":"title"},getRefItems:function(e){var f=this.menu,g=[];if(f){if(e){g=f.getRefItems(e)}g.unshift(f)}return g},clearTip:function(){var e=this,d=e.el;if(Ext.quickTipsActive&&Ext.isObject(e.tooltip)){Ext.tip.QuickTipManager.unregister(d)}else{d.dom.removeAttribute(e.getTipAttr())}},doDestroy:function(){var d=this,e=d.menu;if(d.rendered){d.clearTip()}Ext.destroy(d.repeater);if(e&&d.destroyMenu){d.menu=Ext.destroy(e)}Ext.button.Manager.unregister(d);Ext.Component.prototype.doDestroy.call(this)},setHandler:function(e,d){this.handler=e;if(arguments.length>1){this.scope=d}return this},updateText:function(k,g){k=k==null?"":String(k);g=g||"";var l=this,j=l.btnInnerEl,m=l.btnEl;if(l.rendered){j.setHtml(k||"&#160;");m[k?"addCls":"removeCls"](l._textCls);m[k?"removeCls":"addCls"](l._noTextCls);l.updateLayout()}l.fireEvent("textchange",l,g,k)},didIconStateChange:function(e,f){var g=Ext.isEmpty(f);return Ext.isEmpty(e)?!g:g},click:function(c){return this.onClick(c)},setPressed:function(c){return this.toggle(c!==false)},toggle:function(g,k){var j=this,f=j.ariaEl.dom;if(!j.enableToggle){return j}g=g===undefined?!j.pressed:!!g;if(j.fireEvent("beforetoggle",j,g)!==false){if(g!==j.pressed){j[g?"addCls":"removeCls"](j._pressedCls);j.pressed=g;if(f){f.setAttribute("aria-pressed",g)}if(!k){j.fireEvent("toggle",j,g);Ext.callback(j.toggleHandler,j.scope,[j,g],0,j);if(j.publishState){j.publishState("pressed",g)}}}}return j},maybeShowMenu:function(c){if(this.menu){this.showMenu(c)}},showMenu:function(f){var j=this,g=j.menu,k=!f||f.pointerType;if(g&&j.rendered){if(j.tooltip&&Ext.quickTipsActive&&j.getTipAttr()!=="title"){Ext.tip.QuickTipManager.getQuickTip().cancelShow(j.el)}if(g.isVisible()){if(k){g.hide()}else{g.focus()}}else{if(!f||j.showEmptyMenu||g.items.getCount()>0){g.autoFocus=!k;g.showBy(j.el,j.menuAlign)}}}return j},hideMenu:function(){if(this.hasVisibleMenu()){this.menu.hide()}return this},hasVisibleMenu:function(){var c=this.menu;return c&&c.rendered&&c.isVisible()},onRepeatClick:function(d,e){this.onClick(e)},onTouchStart:function(c){this.doPreventDefault(c)},onEnterKey:function(c){if(!this.href){this.onClick(c);c.stopEvent();return false}},onClick:function(e){var d=this;if(e){d.doPreventDefault(e)}if(e&&e.type!=="keydown"&&e.button){return}if(!d.disabled){d.doToggle();d.maybeShowMenu(e);d.fireHandler(e)}},doToggle:function(){var c=this;if(c.allowDepress!==false||!c.pressed){c.toggle()}},doPreventDefault:function(c){if(c&&(this.preventDefault||(this.disabled&&this.getHref()))){c.preventDefault()}},fireHandler:function(e){var d=this;if(d.fireEvent("click",d,e)!==false&&!d.destroyed){Ext.callback(d.handler,d.scope,[d,e],0,d)}},onMouseOver:function(e){var d=this;if(!d.disabled&&!e.within(d.el,true,true)){d.onMouseEnter(e)}},onMouseOut:function(e){var d=this;if(!e.within(d.el,true,true)){if(d.overMenuTrigger){d.onMenuTriggerOut(e)}d.onMouseLeave(e)}},onMouseMove:function(f){var e=this,g=e.overMenuTrigger;if(e.split){if(e.isWithinTrigger(f)){if(!g){e.onMenuTriggerOver(f)}}else{if(g){e.onMenuTriggerOut(f)}}}},isWithinTrigger:function(k){var l=this,m=l.el,j,e;j=(l.arrowAlign==="right")?k.getX()-l.getX():k.getY()-m.getY();e=l.getTriggerRegion();return j>e.begin&&j<e.end},getTriggerRegion:function(){var k=this,j=k._triggerRegion,l=k.arrowAlign==="right",m=l?"getRight":"getBottom",g=l?k.getWidth():k.getHeight();j.begin=g-(k.el[m]()-k.btnEl[m]());j.end=g;return j},onMouseEnter:function(c){this.fireEvent("mouseover",this,c)},onMouseLeave:function(c){this.fireEvent("mouseout",this,c)},onMenuTriggerOver:function(f){var g=this,e=g.arrowTooltip;g.overMenuTrigger=true;if(g.split&&e){g.btnWrap.dom.setAttribute(g.getTipAttr(),e)}g.fireEvent("menutriggerover",g,g.menu,f)},onMenuTriggerOut:function(e){var d=this;delete d.overMenuTrigger;if(d.split&&d.arrowTooltip){d.btnWrap.dom.setAttribute(d.getTipAttr(),"")}d.fireEvent("menutriggerout",d,d.menu,e)},onEnable:function(){var k=this,f=k.href,g=k.hrefTarget,j=k.el.dom;Ext.Component.prototype.onEnable.call(this);k.removeCls(k._disabledCls);j.setAttribute("tabIndex",k.tabIndex);if(f){j.href=f}if(g){j.target=g}},onDisable:function(){var d=this,e=d.el.dom;Ext.Component.prototype.onDisable.call(this);d.addCls(d._disabledCls);d.removeCls(d.overCls);e.removeAttribute("tabIndex");if(d.href){e.removeAttribute("href")}if(d.hrefTarget){e.removeAttribute("target")}},setScale:function(f){var e=this,g=e.ui.replace("-"+e.scale,"");if(!Ext.Array.contains(e.allowedScales,f)){throw ("#setScale: scale must be an allowed scale ("+e.allowedScales.join(", ")+")")}e.scale=f;e.setUI(g)},setUI:function(e){var d=this;if(d.scale&&!e.match(d.scale)){e=e+"-"+d.scale}Ext.Component.prototype.setUI.call(this,e)},onMouseDown:function(e){var d=this;if(Ext.isIE||e.pointerType==="touch"){Ext.defer(function(){var b=d.getFocusEl();if(b&&!e.defaultPrevented){b.focus()}},1)}if(!d.disabled&&e.button===0){Ext.button.Manager.onButtonMousedown(d,e);d.addCls(d._pressedCls)}},onMouseUp:function(e){var d=this;if(!d.destroyed&&e.button===0){if(!d.pressed){d.removeCls(d._pressedCls)}}},onMenuShow:function(){var c=this;c.addCls(c._menuActiveCls);c.fireEvent("menushow",c,c.menu)},onMenuHide:function(e){var d=this;d.removeCls(d._menuActiveCls);d.fireEvent("menuhide",d,d.menu)},onDownKey:function(e){var d=this;if(d.menu&&!d.disabled){d.showMenu(e);e.stopEvent();return false}},updateArrowVisible:function(e){var d=this;if(d.rendered){if(e){if(d.menu||d.isSplitButton){d.split=true;d._addSplitCls()}}else{d._removeSplitCls();d.split=false}}return e},privates:{elClsMap:{btnWrap:"_btnWrapCls",btnEl:"_btnCls",btnIconEl:"_baseIconCls",btnInnerEl:"_innerCls"},addUIToElement:function(){Ext.Component.prototype.addUIToElement.call(this);this.updateChildElsUICls(true)},addOverCls:function(){if(!this.disabled){this.addCls(this.overCls)}},_addSplitCls:function(){var c=this;c.btnWrap.addCls(c.getSplitCls())},getTdCls:function(){return"x-button-"+this.ui+"-"+this.scale+"-cell"},getValue:function(){return this.value},removeUIFromElement:function(){Ext.Component.prototype.removeUIFromElement.call(this);this.updateChildElsUICls(false)},removeOverCls:function(){this.removeCls(this.overCls)},_removeSplitCls:function(){var c=this;c.btnWrap.removeCls(c.getSplitCls())},_syncHasIconCls:function(){var g=this,e=g.btnEl,f=g._hasIconCls;if(e){e[g._hasIcon()?"addCls":"removeCls"]([f,f+"-"+g.iconAlign])}},_hasIcon:function(){return !!(this.icon||this.iconCls||this.glyph)},updateChildElsUICls:function(m){var s=this,q=s.ui,v=m?"addCls":"removeCls",r=s.elClsMap,o,u,p,n;for(o in r){u=s[o];p=r[o];n=s[p];if(u&&n){u[v](n+"-"+q)}}},wrapPrimaryEl:function(c){this.el=new Ext.dom.ButtonElement(c);Ext.Component.prototype.wrapPrimaryEl.call(this,c)}}},0,["button"],["component","box","button"],{component:true,box:true,button:true},["widget.button"],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.button,"Button",Ext,"Button"],0));(Ext.cmd.derive("Ext.button.Split",Ext.button.Button,{alternateClassName:"Ext.SplitButton",isSplitButton:true,arrowCls:"split",split:true,getTemplateArgs:function(){var g=this,e,f;f=Ext.button.Button.prototype.getTemplateArgs.call(this);if(g.disabled){f.tabIndex=null}e=g.ariaArrowElAttributes||{};e["aria-hidden"]=!!g.hidden;e["aria-disabled"]=!!g.disabled;if(g.arrowTooltip){e["aria-label"]=g.arrowTooltip}else{e["aria-labelledby"]=g.id}f.arrowElAttributes=e;return f},onRender:function(){var e=this,d;Ext.button.Button.prototype.onRender.call(this);d=e.getFocusEl();if(d){d.on({scope:e,focus:e.onMainElFocus,blur:e.onMainElBlur})}d=e.arrowEl;if(d){d.dom.setAttribute("data-componentid",e.id);d.setVisibilityMode(Ext.dom.Element.DISPLAY);d.on({scope:e,focus:e.onArrowElFocus,blur:e.onArrowElBlur})}},setArrowHandler:function(e,d){this.arrowHandler=e;this.scope=d},onClick:function(f){var g=this,e=f.type==="keydown"&&f.target===g.arrowEl.dom;g.doPreventDefault(f);if(!g.disabled){if(e||g.isWithinTrigger(f)){f.preventDefault();g.maybeShowMenu(f);g.fireEvent("arrowclick",g,f);if(g.arrowHandler){g.arrowHandler.call(g.scope||g,g,f)}}else{g.doToggle();g.fireHandler(f)}}},enable:function(g){var f=this,e=f.arrowEl;Ext.button.Button.prototype.enable.call(this,g);if(e){e.dom.setAttribute("tabIndex",f.tabIndex);e.dom.setAttribute("aria-disabled","false")}},disable:function(g){var f=this,e=f.arrowEl;Ext.button.Button.prototype.disable.call(this,g);if(e){e.dom.removeAttribute("tabIndex");e.dom.setAttribute("aria-disabled","true")}},afterHide:function(d,e){Ext.button.Button.prototype.afterHide.call(this,d,e);this.arrowEl.dom.setAttribute("aria-hidden","true")},afterShow:function(f,e,g){Ext.button.Button.prototype.afterShow.call(this,f,e,g);this.arrowEl.dom.setAttribute("aria-hidden","false")},privates:{isFocusing:function(m){var n=this,k=m.fromElement,l=m.toElement,o=n.focusEl&&n.focusEl.dom,e=n.arrowEl&&n.arrowEl.dom;if(n.focusable){if(l===o){return k===e?false:true}else{if(l===e){return k===o?false:true}}return true}return false},isBlurring:function(m){var n=this,k=m.fromElement,l=m.toElement,o=n.focusEl&&n.focusEl.dom,e=n.arrowEl&&n.arrowEl.dom;if(n.focusable){if(k===o){return l===e?false:true}else{if(k===e){return l===o?false:true}}return true}return false},getFocusClsEl:Ext.privateFn,onMainElFocus:function(c){this.el.addCls(this._focusCls)},onMainElBlur:function(c){this.el.removeCls(this._focusCls)},onArrowElFocus:function(c){this.el.addCls(this._arrowFocusCls)},onArrowElBlur:function(){this.el.removeCls(this._arrowFocusCls)},setTabIndex:function(c){Ext.button.Button.prototype.setTabIndex.call(this,c);if(this.arrowEl){this.arrowEl.set({tabIndex:c})}},_addSplitCls:function(){var c=this.arrowEl;Ext.button.Button.prototype._addSplitCls.call(this);c.dom.setAttribute("tabIndex",this.tabIndex);c.setVisible(true)},_removeSplitCls:function(){var c=this.arrowEl;Ext.button.Button.prototype._removeSplitCls.call(this);c.dom.removeAttribute("tabIndex");c.setVisible(false)}}},0,["splitbutton"],["component","box","button","splitbutton"],{component:true,box:true,button:true,splitbutton:true},["widget.splitbutton"],0,[Ext.button,"Split",Ext,"SplitButton"],0));(Ext.cmd.derive("Ext.panel.Bar",Ext.container.Container,{vertical:false,_verticalSides:{left:1,right:1},initComponent:function(){var e=this,d=e.vertical;e.dock=e.dock||(d?"left":"top");e.layout=Ext.apply(d?{type:"vbox",align:"middle",alignRoundingMethod:"ceil"}:{type:"hbox",align:"middle",alignRoundingMethod:"floor"},e.layout);Ext.container.Container.prototype.initComponent.call(this)},onAdded:function(g,f,e){this.initOrientation();Ext.container.Container.prototype.onAdded.call(this,g,f,e)},onRemoved:function(c){this.removeClsWithUI(this.uiCls);Ext.container.Container.prototype.onRemoved.call(this,c)},beforeRender:function(){var c=this;if(c.forceOrientation||!c.ownerCt){c.initOrientation()}Ext.container.Container.prototype.beforeRender.call(this)},setDock:function(g){var j=this,k,f;if(g!==j.dock){Ext.suspendLayouts();j.clearOrientation();Ext.container.Container.prototype.setDock.call(this,g);j.initOrientation();f=j.vertical;k=j.layout;k.setVertical(f);k.setAlignRoundingMethod(f?"ceil":"floor");Ext.resumeLayouts(true)}},privates:{clearOrientation:function(){this.removeClsWithUI([this.vertical?"vertical":"horizontal",this.getDockName()])},getDockName:function(){return this.dock},initOrientation:function(){var f=this,g=f.dock,e=(f.vertical=(g?g in f._verticalSides:f.vertical));f.addClsWithUI([e?"vertical":"horizontal",f.getDockName()])}}},0,0,["component","box","container"],{component:true,box:true,container:true},0,0,[Ext.panel,"Bar"],0));(Ext.cmd.derive("Ext.panel.Title",Ext.Component,{isTitle:true,noWrap:true,textAlign:"left",iconAlign:"left",rotation:0,text:"&#160;",beforeRenderConfig:{textAlign:null,text:null,glyph:null,icon:null,iconAlign:null,iconCls:null,rotation:null},autoEl:{role:"presentation",unselectable:"on"},textElRole:"presentation",tabIndex:0,childEls:["textEl","iconEl","iconWrapEl"],renderTpl:'<tpl if="iconMarkup && iconBeforeTitle">{iconMarkup}</tpl><div id="{id}-textEl" data-ref="textEl" class="{textCls} {textCls}-{ui} {itemCls}{childElCls}" unselectable="on"<tpl if="textElRole"> role="{textElRole}"</tpl>>{text}</div><tpl if="iconMarkup && !iconBeforeTitle">{iconMarkup}</tpl>',iconTpl:'<div id="{id}-iconWrapEl" data-ref="iconWrapEl" role="presentation" class="{iconWrapCls} {iconWrapCls}-{ui} {iconAlignCls} {itemCls}{childElCls}"<tpl if="iconWrapStyle"> style="{iconWrapStyle}"</tpl>><div id="{id}-iconEl" data-ref="iconEl" role="presentation" unselectable="on" class="{baseIconCls} {baseIconCls}-{ui} {iconCls} {glyphCls}" style="<tpl if="iconUrl">background-image:url({iconUrl});</tpl><tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>"><tpl if="glyph">{glyph}</tpl></div></div>',_textAlignClasses:{left:"x-title-align-left",center:"x-title-align-center",right:"x-title-align-right"},_iconAlignClasses:{top:"x-title-icon-top",right:"x-title-icon-right",bottom:"x-title-icon-bottom",left:"x-title-icon-left"},_rotationClasses:{0:"x-title-rotate-none",1:"x-title-rotate-right",2:"x-title-rotate-left"},_rotationAngles:{1:90,2:270},baseCls:"x-title",_titleSuffix:"-title",_glyphCls:"x-title-glyph",_iconWrapCls:"x-title-icon-wrap",_baseIconCls:"x-title-icon",_itemCls:"x-title-item",_textCls:"x-title-text",afterComponentLayout:function(){var k=this,m=k.getRotation(),g,j,l;if(m&&!Ext.isIE8){l=k.el;g=k.lastBox;j=g.x;l.setStyle(k._getVerticalAdjustDirection(),(j+((m===1)?g.width:-g.height))+"px")}Ext.Component.prototype.afterComponentLayout.call(this)},onRender:function(){var f=this,e=f.getRotation(),g=f.el;Ext.Component.prototype.onRender.call(this);if(e){g.setVertical(f._rotationAngles[e])}if(Ext.supports.FixedTableWidthBug){g._needsTableWidthFix=true}},applyText:function(c){if(!c){c="&#160;"}return c},beforeRender:function(){var c=this;Ext.Component.prototype.beforeRender.call(this);c.addCls(c._rotationClasses[c.getRotation()]);c.addCls(c._textAlignClasses[c.getTextAlign()])},getIconMarkup:function(){return this.lookupTpl("iconTpl").apply(this.getIconRenderData())},getIconRenderData:function(){var l=this,n=l.getIcon(),o=l.getIconCls(),m=l.getGlyph(),k,j=l.getIconAlign();if(m){k=m.fontFamily;m=m.character}return{id:l.id,ui:l.ui,itemCls:l._itemCls,iconUrl:n,iconCls:o,iconWrapCls:l._iconWrapCls,baseIconCls:l._baseIconCls,iconAlignCls:l._iconAlignClasses[j],glyph:m,glyphCls:m?l._glyphCls:"",glyphFontFamily:k}},initRenderData:function(){var g=this,e,f;f=Ext.apply({text:g.getText(),textElRole:g.textElRole,id:g.id,ui:g.ui,itemCls:g._itemCls,textCls:g._textCls,iconMarkup:null,iconBeforeTitle:null},Ext.Component.prototype.initRenderData.call(this));if(g._hasIcon()){e=g.getIconAlign();f.iconMarkup=g.getIconMarkup();f.iconBeforeTitle=(e==="top"||e==="left")}return f},onAdded:function(o,k,j){var m=this,l=m._titleSuffix,n=o.baseCls;m.addCls([n+l,n+l+"-"+o.ui]);Ext.Component.prototype.onAdded.call(this,o,k,j)},applyGlyph:function(e,d){if(e){if(!e.isGlyph){e=new Ext.Glyph(e)}if(e.isEqual(d)){e=undefined}}return e},updateGlyph:function(k,m){var l=this,j=l._glyphCls,g;if(l.rendered){l._syncIconVisibility();g=l.iconEl;if(k){g.dom.innerHTML=k.character;g.addCls(j);g.setStyle("font-family",k.fontFamily)}else{if(m!==k){g.dom.innerHTML="";g.removeCls(j)}}if(l._didIconStateChange(m,k)){l.updateLayout()}}},updateIcon:function(k,g){k=k||"";var j=this,f;if(j.rendered&&k!==g){j._syncIconVisibility();f=j.iconEl;f.setStyle("background-image",k?"url("+k+")":"");if(j._didIconStateChange(g,k)){j.updateLayout()}}},updateIconAlign:function(k,n){var o=this,l=o.iconWrapEl,j,m;if(o.iconWrapEl){j=o.el;m=o._iconAlignClasses;if(n){l.removeCls(m[n])}l.addCls(m[k]);if(k==="top"||k==="left"){j.insertFirst(l)}else{j.appendChild(l)}o.updateLayout()}},updateIconCls:function(k,j){k=k||"";var g=this,f;if(g.rendered&&j!==k){g._syncIconVisibility();f=g.iconEl;if(j){f.removeCls(j)}f.addCls(k);if(g._didIconStateChange(j,k)){g.updateLayout()}}},updateRotation:function(m,g){var k=this,l,j;if(k.rendered){l=k.el;j=k._rotationClasses;k.removeCls(j[g]);k.addCls(j[m]);l.setHorizontal();if(m){l.setVertical(k._rotationAngles[m])}l.setStyle({right:"",left:"",top:"",height:"",width:""});k.lastBox=null;k.updateLayout()}},updateText:function(c){if(this.rendered){this.textEl.setHtml(c);this.updateLayout()}},updateTextAlign:function(g,k){var f=this,j=f._textAlignClasses;if(f.rendered){if(k){f.removeCls(j[k])}f.addCls(j[g]);f.updateLayout()}},privates:{_getVerticalAdjustDirection:function(){return"left"},_didIconStateChange:function(e,f){var g=Ext.isEmpty(f);return Ext.isEmpty(e)?!g:g},_hasIcon:function(){return !!(this.getIcon()||this.getIconCls()||this.getGlyph())},_syncIconVisibility:function(){var l=this,m=l.el,j=l._hasIcon(),k=l.iconWrapEl,n,o;if(j&&!k){o=l.iconAlign;n=(o==="left"||o==="top");m.dom.insertAdjacentHTML(n?"afterbegin":"beforeend",l.getIconMarkup());k=l.iconWrapEl=m[n?"first":"last"]();l.iconEl=k.first()}if(k){k.setDisplayed(j)}}}},0,["title"],["component","box","title"],{component:true,box:true,title:true},["widget.title"],0,[Ext.panel,"Title"],0));(Ext.cmd.derive("Ext.panel.Tool",Ext.Component,{config:{glyph:null},isTool:true,baseCls:"x-tool",disabledCls:"x-tool-disabled",toolPressedCls:"x-tool-pressed",toolOverCls:"x-tool-over",childEls:["toolEl"],renderTpl:['<div id="{id}-toolEl" data-ref="toolEl" class="{className} {childElCls}" role="presentation"<tpl if="glyph"><tpl if="glyphFontFamily"> style="font-family:{glyphFontFamily};"></tpl>{glyph}<tpl else>></tpl></div>'],toolOwner:null,tooltipType:"qtip",stopEvent:true,ariaRole:"button",focusable:true,tabIndex:0,keyMap:{scope:"this",SPACE:"onClick",ENTER:"onClick"},cacheHeight:true,cacheWidth:true,initComponent:function(){var c=this;c.tooltip=c.tooltip||c.qtip;Ext.Component.prototype.initComponent.call(this)},initRenderData:function(){var k=this,j=Ext.Component.prototype.initRenderData.call(this),f=k.getGlyph(),g;if(f){g=f.fontFamily;f=f.character}Ext.applyIf(j,{className:k.calculateClassName(),glyph:f,glyphFontFamily:g});return j},calculateClassName:function(){var e=this,d=e.baseCls+"-tool-el ";if(e.type){d+=e.baseCls+"-img "+e.baseCls+"-"+e.type}else{if(e.iconCls){d+=e.iconCls}}return d},afterRender:function(){var d=this,e;Ext.Component.prototype.afterRender.call(this);if(d.setTypeAfterRender){d.setTypeAfterRender=false;d.setType(d.type)}d.el.on({click:d.onClick,mousedown:d.onMouseDown,mouseover:d.onMouseOver,mouseout:d.onMouseOut,scope:d});e=d.tooltip;if(e){d.setTooltip(e)}},tipAttrs:{qtip:"data-qtip"},setTooltip:function(n,q){var p=this,s=p.tooltip,o=p.tooltipType,m=p.id,r=p.el,l;if(s&&Ext.quickTipsActive&&Ext.isObject(s)){Ext.tip.QuickTipManager.unregister(m)}p.tooltip=n;if(q){p.tooltipType=q}if(n){if(Ext.quickTipsActive&&Ext.isObject(n)){Ext.tip.QuickTipManager.register(Ext.apply({target:m},n))}else{if(r){if(q&&o&&q!==o){l=p.tipAttrs[o]||"title";r.dom.removeAttribute(l)}l=p.tipAttrs[q||o]||"title";r.dom.setAttribute(l,n)}}if(l!=="title"&&p.ariaRole&&p.ariaRole!=="presentation"){if(r){r.dom.setAttribute("aria-label",n)}else{p.ariaRenderAttributes=p.ariaRenderAttributes||{};p.ariaRenderAttributes["aria-label"]=n}}}},setType:function(m){var l=this,o=l.toolEl,n=l.updating,q=l.rendering,p,k;if(!n){p=l.calculateClassName();if(!q){l.updating=k=true}l.setIconCls(null);l.setGlyph(null)}l.type=m;if(k){l.updateToolCls(p);l.updating=false}else{if(q){l.setTypeAfterRender=true}}return l},setIconCls:function(m){var k=this,n=k.toolEl,l=k.updating,o,j;if(!l){o=k.calculateClassName();k.updating=j=true;k.setType(null);k.setGlyph(null)}k.iconCls=m;if(j){k.updateToolCls(o);k.updating=false}return k},doDestroy:function(){var c=this;c.setTooltip(null);delete c.toolOwner;Ext.Component.prototype.doDestroy.call(this)},applyGlyph:function(e,d){if(e){if(!e.isGlyph){e=new Ext.Glyph(e)}if(e.isEqual(d)){e=undefined}}return e},updateGlyph:function(l,q){var m=this,o=m.toolEl,n=m.updating,p,k;if(!n){p=m.calculateClassName();m.updating=k=true;m.setType(null);m.setIconCls(null)}if(o){if(l){o.dom.innerHTML=l.character;o.setStyle(l.getStyle())}else{o.dom.innerHTML=""}}if(k){m.updateToolCls(p);m.updating=false}},privates:{onClick:function(f,g){var e=this;if(e.disabled){return false}if(f.type!=="keydown"){e.el.removeCls(e.toolPressedCls+" "+e.toolOverCls)}if(e.stopEvent!==false){f.stopEvent()}if(e.handler){Ext.callback(e.handler,e.scope,[f,g,e.ownerCt,e],0,e)}else{if(e.callback){Ext.callback(e.callback,e.scope,[e.toolOwner||e.ownerCt,e,f],0,e)}}if(e.destroyed){return}e.fireEvent("click",e,f,e.toolOwner||e.ownerCt);return true},onMouseDown:function(c){c.preventDefault();if(this.disabled){return false}this.el.addCls(this.toolPressedCls)},onMouseOver:function(){if(this.disabled){return false}this.el.addCls(this.toolOverCls)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)},updateToolCls:function(g){var f=this,e=this.toolEl;if(e){e.removeCls(g);e.addCls(this.calculateClassName())}}}},0,["tool"],["component","box","tool"],{component:true,box:true,tool:true},["widget.tool"],0,[Ext.panel,"Tool"],0));(Ext.cmd.derive("Ext.util.KeyMap",Ext.Base,{alternateClassName:"Ext.KeyMap",eventName:"keydown",constructor:function(d){var e=this;if((arguments.length!==1)||(typeof d==="string")||d.dom||d.tagName||d===document||d.isComponent){e.legacyConstructor.apply(e,arguments);return}Ext.apply(e,d);e.bindings=[];if(!e.target.isComponent){e.target=Ext.get(e.target)}if(e.binding){e.addBinding(e.binding)}else{if(d.key){e.addBinding(d)}}e.enable()},legacyConstructor:function(k,g,f){var j=this;Ext.apply(j,{target:Ext.get(k),eventName:f||j.eventName,bindings:[]});if(g){j.addBinding(g)}j.enable()},addBinding:function(j){var l=this,k=j.key,m,g;if(l.processing){l.bindings=l.bindings.slice(0)}if(Ext.isArray(j)){for(m=0,g=j.length;m<g;m++){l.addBinding(j[m])}return}l.bindings.push(Ext.apply({keyCode:l.processKeys(k)},j))},removeBinding:function(m){var n=this,l=n.bindings,k=l.length,q,o,p;if(n.processing){n.bindings=l.slice(0)}p=n.processKeys(m.key);for(q=0;q<k;++q){o=l[q];if((o.fn||o.handler)===(m.fn||m.handler)&&o.scope===m.scope){if(m.alt===o.alt&&m.ctrl===o.ctrl&&m.shift===o.shift){if(Ext.Array.equals(o.keyCode,p)){Ext.Array.erase(n.bindings,q,1);return}}}}},processKeys:function(m){var l=false,o,n,q,k,p;if(m.test){return m}if(Ext.isString(m)){n=[];q=m.toUpperCase();for(p=0,k=q.length;p<k;++p){n.push(q.charCodeAt(p))}m=n;l=true}if(!Ext.isArray(m)){m=[m]}if(!l){for(p=0,k=m.length;p<k;++p){o=m[p];if(Ext.isString(o)){m[p]=o.toUpperCase().charCodeAt(0)}}}return m},handleTargetEvent:function(l){var m=this,k,n,o,j;if(m.enabled){k=m.bindings;n=0;o=k.length;l=m.processEvent.apply(m.processEventScope||m,arguments);if(l){m.lastKeyEvent=l;if(m.ignoreInputFields&&Ext.fly(l.target).isInputField()){return}if(!l.getKey){return l}m.processing=true;for(;n<o;++n){j=m.processBinding(k[n],l);if(j===false){m.processing=false;return j}}m.processing=false}}},processEvent:Ext.identityFn,processBinding:function(s,x){if(this.checkModifiers(s,x)){var r=x.getKey(),p=s.fn||s.handler,o=s.scope||this,q=s.keyCode,w=s.defaultEventAction,v,u,n;if(q.test){if(q.test(String.fromCharCode(x.getCharCode()))){n=p.call(o,r,x);if(n!==true&&w){x[w]()}if(n===false){return n}}}else{if(q.length){for(v=0,u=q.length;v<u;++v){if(r===q[v]){n=p.call(o,r,x);if(n!==true&&w){x[w]()}if(n===false){return n}break}}}}}},checkModifiers:function(l,n){var o=["shift","ctrl","alt"],p=0,k=o.length,m,q;for(;p<k;++p){q=o[p];m=l[q];if(!(m===undefined||(m===n[q+"Key"]))){return false}}return true},on:function(q,o,p){var l,k,n,m;if(Ext.isObject(q)&&!Ext.isArray(q)){l=q.key;k=q.shift;n=q.ctrl;m=q.alt}else{l=q}this.addBinding({key:l,shift:k,ctrl:n,alt:m,fn:o,scope:p})},un:function(q,o,p){var l,k,n,m;if(Ext.isObject(q)&&!Ext.isArray(q)){l=q.key;k=q.shift;n=q.ctrl;m=q.alt}else{l=q}this.removeBinding({key:l,shift:k,ctrl:n,alt:m,fn:o,scope:p})},isEnabled:function(){return this.enabled},enable:function(){var c=this;if(!c.enabled){c.target.on(c.eventName,c.handleTargetEvent,c,{capture:c.capture,priority:c.priority});c.enabled=true}},disable:function(){var c=this;if(c.enabled){c.target.removeListener(c.eventName,c.handleTargetEvent,c);c.enabled=false}},setDisabled:function(c){if(c){this.disable()}else{this.enable()}},destroy:function(f){var e=this,g=e.target;e.bindings=[];e.disable();if(f){g.destroy()}delete e.target;e.callParent()}},1,0,0,0,0,0,[Ext.util,"KeyMap",Ext,"KeyMap"],0));(Ext.cmd.derive("Ext.util.KeyNav",Ext.Base,{alternateClassName:"Ext.KeyNav",disabled:false,defaultEventAction:false,forceKeyDown:false,eventName:"keypress",statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(d){var e=this;if(arguments.length===2){e.legacyConstructor.apply(e,arguments);return}e.doConstruction(d)},legacyConstructor:function(e,d){this.doConstruction(Ext.apply({target:e},d))},doConstruction:function(f){var j=this,k={target:f.target,ignoreInputFields:f.ignoreInputFields,eventName:j.getKeyEvent("forceKeyDown" in f?f.forceKeyDown:j.forceKeyDown,f.eventName),capture:f.capture},g;if(j.map){j.map.destroy()}j.initConfig(f);if(f.processEvent){k.processEvent=f.processEvent;k.processEventScope=f.processEventScope||j}if(f.priority){k.priority=f.priority}if(f.keyMap){g=j.map=f.keyMap}else{g=j.map=new Ext.util.KeyMap(k);j.destroyKeyMap=true}this.addBindings(f);g.disable();if(!f.disabled){g.enable()}},addBindings:function(m){var r=this,s,o,p=r.map,l=Ext.util.KeyNav.keyOptions,q,n=m.scope||r;for(s in m){o=m[s];q=l[s];if(q!=null){s=q}if(o&&(s.length===1||!isNaN(s=parseInt(s,10)))){if(typeof o==="function"){o={handler:o,defaultEventAction:(m.defaultEventAction!==undefined)?m.defaultEventAction:r.defaultEventAction}}p.addBinding({key:s,ctrl:o.ctrl,shift:o.shift,alt:o.alt,handler:Ext.Function.bind(r.handleEvent,o.scope||n,[o.handler||o.fn,r],true),defaultEventAction:(o.defaultEventAction!==undefined)?o.defaultEventAction:r.defaultEventAction})}}},handleEvent:function(g,j,k,f){f.lastKeyEvent=j;return k.call(this,j)},destroy:function(e){var d=this;if(d.destroyKeyMap){d.map.destroy(e)}delete d.map;d.callParent()},enable:function(){if(this.map){this.map.enable();this.disabled=false}},disable:function(){if(this.map){this.map.disable()}this.disabled=true},setDisabled:function(c){this.map.setDisabled(c);this.disabled=c},getKeyEvent:function(e,d){if(e||(Ext.supports.SpecialKeyDownRepeat&&!d)){return"keydown"}else{return d||this.eventName}}},1,0,0,0,0,0,[Ext.util,"KeyNav",Ext,"KeyNav"],0));(Ext.cmd.derive("Ext.util.FocusableContainer",Ext.Mixin,{mixinConfig:{id:"focusablecontainer",before:{onAdd:"onFocusableChildAdd",onRemove:"onFocusableChildRemove",doDestroy:"destroyFocusableContainer",onFocusEnter:"onFocusEnter"},after:{afterRender:"initFocusableContainer",onFocusLeave:"onFocusLeave",afterShow:"activateFocusableContainer"}},isFocusableContainer:true,enableFocusableContainer:true,activeChildTabIndex:0,inactiveChildTabIndex:-1,focusableContainerEl:"el",tabGuard:true,privates:{initFocusableContainer:function(j){var k,g,f;if(this.enableFocusableContainer){j=j!=null?j:true;this.doInitFocusableContainer(j)}else{k=this.getFocusables();for(g=0,f=k.length;g<f;g++){k[g].focusableContainer=null}}},doInitFocusableContainer:function(f){var j=this,k=j.focusableContainerEl,g;if(f){j.clearFocusables()}g=j.findNextFocusableChild({step:1,beforeRender:true});if(g){j.activateFocusableContainer(true)}else{if(j.isFocusableContainerActive()){j.activateFocusableContainer(false)}}if(!k.isElement){k=j.focusableContainerEl=j[k]}j.focusableKeyNav=j.createFocusableContainerKeyNav(k)},createFocusableContainerKeyNav:function(d){var e=this;return new Ext.util.KeyNav(d,{eventName:"keydown",ignoreInputFields:true,scope:e,tab:e.onFocusableContainerTabKey,enter:e.onFocusableContainerEnterKey,space:e.onFocusableContainerSpaceKey,up:e.onFocusableContainerUpKey,down:e.onFocusableContainerDownKey,left:e.onFocusableContainerLeftKey,right:e.onFocusableContainerRightKey})},destroyFocusableContainer:function(){if(this.enableFocusableContainer){this.doDestroyFocusableContainer()}},doDestroyFocusableContainer:function(){this.focusableKeyNav=Ext.destroy(this.focusableKeyNav)},getFocusables:function(){return this.items.items},initDefaultFocusable:function(){var m=this,r=m.activeChildTabIndex,s=false,q,n,p,l,o;q=m.getFocusables();l=q.length;if(!l){return}for(p=0;p<l;p++){n=q[p];if(!n.disabled&&n.isFocusable&&n.isFocusable()){s=true;break}}if(!s){return}n=m.findNextFocusableChild({items:q,step:true});if(n){m.activateFocusable(n)}return n},clearFocusables:function(){var j=this,m=j.getFocusables(),g=m.length,k,l;for(l=0;l<g;l++){k=m[l];if(k.focusable&&!k.disabled){j.deactivateFocusable(k)}}},activateFocusable:function(f,g){var e=g!=null?g:this.activeChildTabIndex;f.setTabIndex(e)},deactivateFocusable:function(f,g){var e=g!=null?g:this.inactiveChildTabIndex;f.setTabIndex(e)},activateFocusableContainer:function(k){var j=this,f=j.tabGuardBeforeEl,g=j.tabGuardAfterEl;if(!j.rendered||j.destroying||j.destroyed||!f||!g){return}k=k!=null?k:true;if(k){f.dom.setAttribute("tabIndex",j.activeChildTabIndex);g.dom.setAttribute("tabIndex",j.activeChildTabIndex)}else{f.dom.removeAttribute("tabIndex");g.dom.removeAttribute("tabIndex")}},onFocusableContainerTabKey:function(){return true},onFocusableContainerEnterKey:function(){return true},onFocusableContainerSpaceKey:function(){return true},onFocusableContainerUpKey:function(c){c.preventDefault();return this.moveChildFocus(c,false)},onFocusableContainerDownKey:function(c){c.preventDefault();return this.moveChildFocus(c,true)},onFocusableContainerLeftKey:function(c){c.preventDefault();return this.moveChildFocus(c,false)},onFocusableContainerRightKey:function(c){c.preventDefault();return this.moveChildFocus(c,true)},getFocusableFromEvent:function(d){var e=Ext.Component.fromElement(d.getTarget());return e},moveChildFocus:function(g,e){var f=this.getFocusableFromEvent(g);return this.focusChild(f,e,g)},focusChild:function(f,e){var g=this.findNextFocusableChild({child:f,step:e});if(g){g.focus()}return g},findNextFocusableChild:function(n){var o=n.beforeRender,r,p,x,w,q,u,s,v;r=n.items||this.getFocusables();w=n.step!=null?n.step:1;x=n.child;v=!!this.allowFocusingDisabledChildren;q=Ext.Array.indexOf(r,x);w=w===true?1:w===false?-1:w;s=r.length;u=w>0?(q<s?q+w:0):(q>0?q+w:s-1);for(;;u+=w){if(q<0&&(u>=s||u<0)){return null}else{if(u>=s){u=-1;continue}else{if(u<0){u=s;continue}else{if(u===q){return null}}}}p=r[u];if(!p||!p.focusable||(p.disabled&&!v)){continue}if(o||(p.isFocusable&&p.isFocusable())){return p}}return null},isFocusableContainerActive:function(){var l=this,m=false,o=l.tabGuardBeforeEl,n=l.focusableContainerEl,k,j;if(o&&o.isTabbable&&o.isTabbable()){m=true}else{if(n.isTabbable&&n.isTabbable()){m=true}else{k=l.lastFocusedChild;j=k&&k.getFocusEl&&k.getFocusEl();if(j&&j.isTabbable&&j.isTabbable()){m=true}}}return m},onFocusEnter:function(j){var e=this,k=j.toComponent,g;if(!e.enableFocusableContainer||e.destroying||e.destroyed){return null}if(k===e){g=e.initDefaultFocusable();if(g){g.focus();e.activateFocusableContainer(false)}}else{e.activateFocusableContainer(false)}return k},onFocusLeave:function(f){var g=this,e=g.lastFocusedChild;if(!g.enableFocusableContainer||g.destroying||g.destroyed){return}g.clearFocusables();if(e&&!e.disabled){g.activateFocusable(e)}else{g.activateFocusableContainer(true)}},beforeFocusableChildBlur:Ext.privateFn,afterFocusableChildBlur:Ext.privateFn,beforeFocusableChildFocus:function(e){var d=this;if(!d.enableFocusableContainer||d.destroying||d.destroyed){return}d.clearFocusables();d.activateFocusable(e);if(e.needArrowKeys){d.guardFocusableChild(e)}},guardFocusableChild:function(g){var j=this,f=j.activeChildTabIndex,k;k=j.findNextFocusableChild({child:g,step:-1});if(k){k.setTabIndex(f)}k=j.findNextFocusableChild({child:g,step:1});if(k){k.setTabIndex(f)}},afterFocusableChildFocus:function(e){var d=this;if(!d.enableFocusableContainer||d.destroying||d.destroyed){return}d.lastFocusedChild=e},onFocusableChildAdd:function(c){if(this.enableFocusableContainer){return this.doFocusableChildAdd(c)}},doFocusableChildAdd:function(e){var d=this;if(e.focusable){e.focusableContainer=d;if(!d.$initingItems&&!d.isFocusableContainerActive()){d.activateFocusableContainer(true)}}},onFocusableChildRemove:function(c){if(this.enableFocusableContainer){return this.doFocusableChildRemove(c)}c.focusableContainer=null},doFocusableChildRemove:function(e){var d=this;if(e===d.lastFocusedChild){d.lastFocusedChild=null;d.activateFocusableContainer(true)}e=d.findNextFocusableChild({step:1,beforeRender:true});if(!e){d.activateFocusableContainer(false)}},beforeFocusableChildEnable:Ext.privateFn,onFocusableChildEnable:function(e){var d=this;if(!d.enableFocusableContainer||d.destroying||d.destroyed){return}if(e!==d.lastFocusedChild){d.deactivateFocusable(e);if(!d.isFocusableContainerActive()){d.activateFocusableContainer(true)}}},beforeFocusableChildDisable:function(f){var g=this,e;if(!g.enableFocusableContainer||g.destroying||g.destroyed){return}if(f.hasFocus){e=g.findNextFocusableChild({child:f})||f.findFocusTarget();if(e){e.focus()}}},onFocusableChildDisable:function(g){var j=this,f=j.lastFocusedChild,k;if(!j.enableFocusableContainer||j.destroying||j.destroyed){return}if(g===f){j.activateFocusableContainer(true)}k=j.findNextFocusableChild({step:1});if(!k){j.activateFocusableContainer(false)}},beforeFocusableChildHide:function(c){return this.beforeFocusableChildDisable(c)},onFocusableChildHide:function(c){return this.onFocusableChildDisable(c)},beforeFocusableChildShow:function(c){return this.beforeFocusableChildEnable(c)},onFocusableChildShow:function(c){return this.onFocusableChildEnable(c)},onFocusableChildMasked:Ext.privateFn,onFocusableChildDestroy:Ext.privateFn,onFocusableChildUpdate:Ext.privateFn}},0,0,0,0,0,0,[Ext.util,"FocusableContainer"],0));(Ext.cmd.derive("Ext.panel.Header",Ext.panel.Bar,{isHeader:true,defaultType:"tool",indicateDrag:false,weight:-1,shrinkWrap:3,iconAlign:"left",titleAlign:"left",titlePosition:0,titleRotation:"default",autoEl:{role:"presentation"},beforeRenderConfig:{glyph:null,icon:null,iconCls:null,iconAlign:null,title:{$value:{xtype:"title",flex:1},merge:function(e,d){if(typeof e!=="object"){e={text:e}}return Ext.merge(d?Ext.Object.chain(d):{},e)}},titleAlign:null,titlePosition:null,titleRotation:null},headerCls:"x-header",initComponent:function(){var g=this,j=g.items,k=g.itemPosition,f=[g.headerCls];g.tools=g.tools||[];g.items=j=(j?j.slice():[]);if(k!==undefined){g._userItems=j.slice();g.items=j=[]}g.indicateDragCls=g.headerCls+"-draggable";if(g.indicateDrag){f.push(g.indicateDragCls)}g.addCls(f);g.syncNoBorderCls();Ext.Array.push(j,g.tools);g.tools.length=0;Ext.panel.Bar.prototype.initComponent.call(this);g.on({dblclick:g.onDblClick,click:g.onClick,element:"el",scope:g})},addTool:function(d){var e=this;e.add(Ext.ComponentManager.create(d,"tool"));e.checkFocusableTools()},afterLayout:function(){var m=this,j,g,l,k;if(m.vertical){g=m.frameTR;if(g){j=m.frameBR;l=m.frameTL;k=(m.getWidth()-g.getPadding("r")-((l)?l.getPadding("l"):m.el.getBorderWidth("l")))+"px";j.setStyle("background-position-x",k);g.setStyle("background-position-x",k)}}Ext.panel.Bar.prototype.afterLayout.call(this)},applyTitle:function(j,l){var k=this,g,m;j=j||"";g=Ext.isString(j);if(!Ext.isObject(j)){j={text:j.toString()}}if(l){Ext.suspendLayouts();l.setConfig(j);Ext.resumeLayouts(true);j=l}else{if(g){j.xtype="title"}j.ui=k.ui;m=("rotation" in j);j.id=k.id+"-title";if(k.isAccordionHeader){j.ariaRole="tab";j.textElRole=null;j.focusable=true}j=Ext.create(j);if(!m&&k.vertical&&k.titleRotation==="default"){j.rotation=1}}return j},applyTitlePosition:function(e){var d=this.items.getCount();if(this._titleInItems){--d}return Math.max(Math.min(e,d),0)},beforeLayout:function(){Ext.panel.Bar.prototype.beforeLayout.call(this);this.syncBeforeAfterTitleClasses()},beforeRender:function(){var e=this,d=e.itemPosition;e.protoEl.unselectable();Ext.panel.Bar.prototype.beforeRender.call(this);if(d!==undefined){e.insert(d,e._userItems)}e.checkFocusableTools()},checkFocusableTools:function(){var l=this,k=l.tools,j,m,g;if(l.isAccordionHeader){l.enableFocusableContainer=false;return}for(m=0,g=k.length;m<g;m++){if(k[m].focusable){j=true;break}}if(j){if(!l.initialConfig.hasOwnProperty("enableFocusableContainer")||l.enableFocusableContainer){l.ariaRole="toolbar";l.enableFocusableContainer=true;if(l.rendered){l.ariaEl.dom.setAttribute("role","toolbar");l.initFocusableContainer(true)}}}else{l.ariaRole="presentation";l.enableFocusableContainer=false;if(l.rendered){l.ariaEl.dom.setAttribute("role","presentation");l.initFocusableContainer(true)}}},getTools:function(){return this.tools.slice()},onAdd:function(g,e){var f=this.tools;Ext.panel.Bar.prototype.onAdd.call(this,g,e);if(g.isTool){f.push(g);f[g.type]=g}},onAdded:function(g,f,e){this.syncNoBorderCls();Ext.panel.Bar.prototype.onAdded.call(this,g,f,e)},onRemoved:function(g,f,e){this.syncNoBorderCls();Ext.panel.Bar.prototype.onRemoved.call(this,g,f,e)},setDock:function(l){var m=this,j=m.getTitle(),g=m.getTitleRotation(),k=j.getRotation();Ext.suspendLayouts();Ext.panel.Bar.prototype.setDock.call(this,l);if(g==="default"){g=(m.vertical?1:0);if(g!==k){j.setRotation(g)}if(m.rendered){m.resetItemMargins()}}Ext.resumeLayouts(true)},updateGlyph:function(c){this.getTitle().setGlyph(c)},updateIcon:function(c){this.getTitle().setIcon(c)},updateIconAlign:function(e,d){this.getTitle().setIconAlign(e)},updateIconCls:function(c){this.getTitle().setIconCls(c)},updateTitle:function(e,d){if(!d){this.insert(this.getTitlePosition(),e);this._titleInItems=true}this.titleCmp=e},updateTitleAlign:function(e,d){this.getTitle().setTextAlign(e)},updateTitlePosition:function(c){this.insert(c,this.getTitle())},updateTitleRotation:function(c){if(c==="default"){c=(this.vertical?1:0)}this.getTitle().setRotation(c)},privates:{fireClickEvent:function(e,f){var g="."+Ext.panel.Tool.prototype.baseCls;if(!f.getTarget(g)){this.fireEvent(e,this,f)}},getFramingInfoCls:function(){var f=this,g=Ext.panel.Bar.prototype.getFramingInfoCls.call(this),e=f.ownerCt;if(!f.expanding&&e&&(e.collapsed||f.isCollapsedExpander)){g+="-"+e.collapsedCls}return g+"-"+f.dock},onClick:function(c){this.fireClickEvent("click",c)},onDblClick:function(c){this.fireClickEvent("dblclick",c)},syncBeforeAfterTitleClasses:function(A){var s=this,u=s.items,w=u.items,B=s.getTitlePosition(),C=w.length,v=u.generation,r=s.syncBeforeAfterGen,p,x,y,q;if(!A&&(r===v)){return}s.syncBeforeAfterGen=v;for(y=0;y<C;++y){q=w[y];p=q.afterTitleCls||(q.afterTitleCls=q.baseCls+"-after-title");x=q.beforeTitleCls||(q.beforeTitleCls=q.baseCls+"-before-title");if(!s.title||y<B){if(r){q.removeCls(p)}q.addCls(x)}else{if(y>B){if(r){q.removeCls(x)}q.addCls(p)}}}},syncNoBorderCls:function(){var g=this,e=this.ownerCt,f=g.headerCls+"-noborder";if(e?(e.border===false&&!e.frame):g.border===false){g.addCls(f)}else{g.removeCls(f)}}}},0,["header"],["component","box","container","header"],{component:true,box:true,container:true,header:true},["widget.header"],[[Ext.util.FocusableContainer.prototype.mixinId||Ext.util.FocusableContainer.$className,Ext.util.FocusableContainer]],[Ext.panel,"Header"],0));(Ext.cmd.derive("Ext.layout.container.boxOverflow.None",Ext.Base,{alternateClassName:"Ext.layout.boxOverflow.None",factoryConfig:{defaultType:"none"},isBoxOverflowHandler:true,$configPrefixed:false,$configStrict:false,constructor:function(c){this.initConfig(c)},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn,beginLayout:Ext.emptyFn,beginLayoutCycle:Ext.emptyFn,calculate:function(k){var f=this,j=k.state.boxPlan,g;if(j&&j.tooNarrow){g=f.handleOverflow(k);if(g){if(g.reservedSpace){f.layout.publishInnerCtSize(k,g.reservedSpace)}}}else{f.clearOverflow()}},completeLayout:Ext.emptyFn,finishedLayout:function(k){var l=this,g=l.layout.owner,m,j;if(g.hasListeners.overflowchange){m=g.query(">[hidden]");j=m.length;if(j!==l.lastHiddenCount){g.fireEvent("overflowchange",l.lastHiddenCount,j,m);l.lastHiddenCount=j}}},onRemove:Ext.emptyFn,getItem:function(c){return this.layout.owner.getComponent(c)},getOwnerType:function(d){var e;if(d.isToolbar){e="toolbar"}else{if(d.isTabBar){e="tab-bar"}else{if(d.isMenu){e="menu"}else{if(d.isBreadcrumb){e="breadcrumb"}else{e=d.getXType()}}}}return e},getPrefixConfig:Ext.emptyFn,getSuffixConfig:Ext.emptyFn,getOverflowCls:function(){return""},setVertical:function(){var g=this,e=g.layout,f=e.innerCt;f.removeCls(g.getOverflowCls(e.oppositeDirection));f.addCls(g.getOverflowCls(e.direction))}},1,0,0,0,["box.overflow.None","box.overflow.none"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.layout.container.boxOverflow,"None",Ext.layout.boxOverflow,"None"],0));(Ext.cmd.derive("Ext.layout.container.boxOverflow.Scroller",Ext.layout.container.boxOverflow.None,{alternateClassName:"Ext.layout.boxOverflow.Scroller",animateScroll:false,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:"x-box-scroller",beforeSuffix:"-before-scroller",afterSuffix:"-after-scroller",constructor:function(d){var e=this;e.mixins.observable.constructor.call(e,d);e.scrollPosition=0;e.scrollSize=0},getPrefixConfig:function(){return{role:"presentation",id:this.layout.owner.id+this.beforeSuffix,cls:this.createScrollerCls("beforeX"),style:"display:none"}},getSuffixConfig:function(){return{role:"presentation",id:this.layout.owner.id+this.afterSuffix,cls:this.createScrollerCls("afterX"),style:"display:none"}},createScrollerCls:function(n){var l=this,m=l.layout,q=m.owner,o=l.getOwnerType(q),k=l.scrollerCls,p=k+" "+k+"-"+m.names[n]+" "+k+"-"+o+" "+k+"-"+o+"-"+q.ui;if(q.plain){p+=" "+k+"-plain"}return p},getOverflowCls:function(c){return this.scrollerCls+"-body-"+c},beginLayout:function(c){c.innerCtScrollPos=this.getScrollPosition();Ext.layout.container.boxOverflow.None.prototype.beginLayout.apply(this,arguments)},finishedLayout:function(o){var p=this,m=o.state.boxPlan,q=p.layout,n=q.names,l=Math.min(p.getMaxScrollPosition(),o.innerCtScrollPos),k;if(m&&m.tooNarrow){k=o.childItems[o.childItems.length-1].props;p.scrollSize=k[n.x]+k[n.width];p.updateScrollButtons();q.innerCt[n.setScrollLeft](l)}Ext.layout.container.boxOverflow.None.prototype.finishedLayout.call(this,o)},handleOverflow:function(u){var o=this,p=o.layout.names,n=p.getWidth,m=p.parallelMargins,s,q,r,v;o.showScrollers();r=o.getBeforeScroller();v=o.getAfterScroller();s=r[n]()+v[n]()+r.getMargin(m)+v.getMargin(m);q=u.targetContext.getPaddingInfo()[p.width];return{reservedSpace:Math.max(s-q,0)}},getBeforeScroller:function(){var c=this;return c._beforeScroller||(c._beforeScroller=c.createScroller(c.beforeSuffix,"beforeRepeater","scrollLeft"))},getAfterScroller:function(){var c=this;return c._afterScroller||(c._afterScroller=c.createScroller(c.afterSuffix,"afterRepeater","scrollRight"))},createScroller:function(m,o,l){var n=this,p=n.layout.owner,q=n.scrollerCls,k;k=p.el.getById(p.id+m);k.addClsOnOver(q+"-hover");k.addClsOnClick(q+"-pressed");k.setVisibilityMode(Ext.Element.DISPLAY);n[o]=new Ext.util.ClickRepeater(k,{interval:n.scrollRepeatInterval,handler:l,scope:n});return k},createWheelListener:function(){var c=this;c.wheelListener=c.layout.innerCt.on("mousewheel",c.onMouseWheel,c,{destroyable:true})},onMouseWheel:function(c){c.stopEvent();this.scrollBy(this.getWheelDelta(c)*this.wheelIncrement*-1,false)},getWheelDelta:function(c){return c.getWheelDelta()},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){var c=this;if(!c.wheelListener){c.createWheelListener()}c.getBeforeScroller().show();c.getAfterScroller().show();c.layout.owner.addClsWithUI(c.layout.direction==="vertical"?"vertical-scroller":"scroller")},hideScrollers:function(){var g=this,f=g.getBeforeScroller(),e=g.getAfterScroller();if(f){f.hide();e.hide();g.layout.owner.removeClsWithUI(g.layout.direction==="vertical"?"vertical-scroller":"scroller")}},destroy:function(){Ext.destroyMembers(this,"beforeRepeater","afterRepeater","_beforeScroller","_afterScroller","wheelListener");this.callParent()},scrollBy:function(e,d){this.scrollTo(this.getScrollPosition()+e,d)},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){var k=this,g=k.getBeforeScroller(),f=k.getAfterScroller(),j;if(!g||!f){return}j=k.scrollerCls+"-disabled";g[k.atExtremeBefore()?"addCls":"removeCls"](j);f[k.atExtremeAfter()?"addCls":"removeCls"](j);k.scrolling=false},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,false)},scrollRight:function(){this.scrollBy(this.scrollIncrement,false)},getScrollPosition:function(){var f=this,g=f.layout,e;if(isNaN(f.scrollPosition)){e=g.innerCt[g.names.getScrollLeft]()}else{e=f.scrollPosition}return e},getMaxScrollPosition:function(){var g=this,e=g.layout,f=g.scrollSize-e.innerCt.lastBox[e.names.width];return(f<0)?0:f},atExtremeBefore:function(){return !this.getScrollPosition()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollPosition()},setVertical:function(){var l=this,k=l.getBeforeScroller(),m=l.getAfterScroller(),j=l.layout.names,g=l.scrollerCls;k.removeCls(g+"-"+j.beforeY);m.removeCls(g+"-"+j.afterY);k.addCls(g+"-"+j.beforeX);m.addCls(g+"-"+j.afterX);Ext.layout.container.boxOverflow.None.prototype.setVertical.call(this)},scrollTo:function(k,q){var m=this,n=m.layout,l=n.names,o=m.getScrollPosition(),p=Ext.Number.constrain(k,0,m.getMaxScrollPosition());if(p!==o&&!m.scrolling){m.scrollPosition=NaN;if(q===undefined){q=m.animateScroll}n.innerCt[l.scrollTo](l.beforeScrollX,p,q?m.getScrollAnim():false);if(q){m.scrolling=true}else{m.updateScrollButtons()}m.fireEvent("scroll",m,p,q?m.getScrollAnim():false)}},scrollToItem:function(n,v){var o=this,r=o.layout,u=r.owner,p=r.names,w=r.innerCt,x,s,q;n=o.getItem(n);if(n!==undefined){if(n===u.items.first()){q=0}else{if(n===u.items.last()){q=o.getMaxScrollPosition()}else{x=o.getItemVisibility(n);if(!x.fullyVisible){s=n.getBox(false,true);q=s[p.x];if(x.hiddenEnd){q-=(w[p.getWidth]()-s[p.width])}}}}if(q!==undefined){o.scrollTo(q,v)}}},getItemVisibility:function(m){var o=this,u=o.getItem(m).getBox(true,true),s=o.layout,p=s.names,q=u[p.x],r=q+u[p.width],v=o.getScrollPosition(),n=v+s.innerCt[p.getWidth]();return{hiddenStart:q<v,hiddenEnd:r>n,fullyVisible:q>=v&&r<=n}}},1,0,0,0,["box.overflow.Scroller","box.overflow.scroller"],[["observable",Ext.mixin.Observable]],[Ext.layout.container.boxOverflow,"Scroller",Ext.layout.boxOverflow,"Scroller"],0));(Ext.cmd.derive("Ext.dd.DragDropManager",Ext.Base,{singleton:true,alternateClassName:["Ext.dd.DragDropMgr","Ext.dd.DDM"],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:true,stopPropagation:false,initialized:false,locked:false,init:function(){this.initialized=true},POINT:0,INTERSECT:1,mode:0,notifyOccluded:false,dragCls:"x-dd-drag-current",currentPoint:new Ext.util.Point(),_execOnAll:function(p,q){var n=this.ids,o,j,l,m;for(o in n){if(n.hasOwnProperty(o)){m=n[o];for(j in m){if(m.hasOwnProperty(j)){l=m[j];if(!this.isTypeOfDD(l)){continue}l[p].apply(l,q)}}}}},addListeners:function(){var c=this;c.init();Ext.getWin().on({unload:c._onUnload,resize:c._onResize,scope:c})},_onResize:function(c){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=true},unlock:function(){this.locked=false},isLocked:function(){return this.locked},locationCache:{},useCache:true,clickPixelThresh:8,dragThreshMet:false,clickTimeout:null,startX:0,startY:0,regDragDrop:function(e,d){if(!this.initialized){this.init()}if(!this.ids[d]){this.ids[d]={}}this.ids[d][e.id]=e},removeDDFromGroup:function(f,e){if(!this.ids[e]){this.ids[e]={}}var g=this.ids[e];if(g&&g[f.id]){delete g[f.id]}},_remove:function(k,o){var l=this,n=l.ids,g=k.groups,m;if(l.clearingAll){return}if(l.dragCurrent===k){l.dragCurrent=null}for(m in g){if(g.hasOwnProperty(m)){if(o){delete n[m]}else{if(n[m]){delete n[m][k.id]}}}}delete l.handleIds[k.id];delete l.locationCache[k.id]},regHandle:function(e,d){if(!this.handleIds[e]){this.handleIds[e]={}}this.handleIds[e][d]=d},isDragDrop:function(c){return(this.getDDById(c))?true:false},getRelated:function(k,o){var l=[],m,n,j;for(m in k.groups){for(n in this.ids[m]){j=this.ids[m][n];if(!this.isTypeOfDD(j)){continue}if(!o||j.isTarget){l[l.length]=j}}}return l},isLegalTarget:function(j,k){var m=this.getRelated(j,true),l,g;for(l=0,g=m.length;l<g;++l){if(m[l].id===k.id){return true}}return false},isTypeOfDD:function(c){return(c&&c.__ygDragDrop)},isHandle:function(e,d){return(this.handleIds[e]&&this.handleIds[e][d])},getDDById:function(g,j){var k,f;for(k in this.ids){f=this.ids[k][g];if(f instanceof Ext.dd.DDTarget||j){return f}}return null},handleMouseDown:function(r,s){var q=this,e=r.getXY(),v=s.getEl(),o={translate:false,fn:q.handleMouseUp,capture:false,priority:-1000},u={translate:false,fn:q.handleMouseMove,capture:false},p={capture:true,destroyable:true,scope:q},n=Ext.supports;p.touchstart=q.handleMouseUp;if(n.PointerEvents){p.pointerup=o;p.pointermove=u}else{if(n.MSPointerEvents){p.mouseup=o;p.mousemove=u}else{if(r.pointerType==="mouse"){p.mouseup=o;p.mousemove=u}else{p.touchend=o;p.touchmove=u}}}q.pointerMoveListeners=Ext.getDoc().on(p);q.isMouseDown=true;if(Ext.quickTipsActive){Ext.tip.QuickTipManager.ddDisable()}q.currentPoint.setPosition(e);if(q.dragCurrent){q.handleMouseUp(r)}q.mousedownEvent=r;q.currentTarget=r.getTarget();q.dragCurrent=s;Ext.fly(v).setCapture();q.startX=e[0];q.startY=e[1];q.offsetX=q.offsetY=0;q.deltaX=q.startX-v.offsetLeft;q.deltaY=q.startY-v.offsetTop;q.dragThreshMet=false},startDrag:function(m,j){var l=this,k=l.dragCurrent,g;clearTimeout(l.clickTimeout);if(k){k.b4StartDrag(m,j);k.startDrag(m,j);g=Ext.fly(k.getDragEl());if(g){g.addCls(l.dragCls);if(g.shim&&g.shim.el){g.shim.el.addCls(l.dragCls)}}}l.dragThreshMet=true},handleMouseUp:function(e){var d=this;d.pointerMoveListeners.destroy();d.isMouseDown=false;if(Ext.quickTipsActive){Ext.tip.QuickTipManager.ddEnable()}if(!d.dragCurrent){return}if(Ext.isIE&&document.releaseCapture){document.releaseCapture()}clearTimeout(d.clickTimeout);if(d.dragThreshMet){d.fireEvents(e,true)}d.stopDrag(e);if(d.dragThreshMet){d.stopEvent(e)}d.mousedownEvent=d.currentTarget=null},stopEvent:function(c){if(this.stopPropagation){c.stopPropagation()}if(this.preventDefault&&c.pointerType==="touch"){c.preventDefault()}},stopDrag:function(g){var k=this,j=k.dragCurrent,e;if(j){if(k.dragThreshMet){e=Ext.fly(j.getDragEl());if(e){e.removeCls(k.dragCls);if(e.shim&&e.shim.el){e.shim.el.removeCls(k.dragCls)}}j.b4EndDrag(g);j.endDrag(g)}k.dragCurrent.onMouseUp(g)}k.dragCurrent=null;k.dragOvers={}},handleMouseMove:function(m){var o=this,n=o.dragCurrent,e=m.getXY(),q=e[0],s=e[1],p,r;o.offsetX=q-o.startX;o.offsetY=s-o.startY;o.currentPoint.setPosition(e);if(!n){return true}if(!o.dragThreshMet){p=Math.abs(o.offsetX);r=Math.abs(o.offsetY);if(p>o.clickPixelThresh||r>o.clickPixelThresh){m.claimGesture();o.startDrag(o.startX,o.startY)}}if(o.dragThreshMet){n.b4Drag(m);n.onDrag(m);if(!n.moveOnly){o.fireEvents(m,false)}}o.stopEvent(m);return true},fireEvents:function(B,J){var e=this,I=Ext.supports.Touch,O=e.dragCurrent,D=e.currentPoint,H=[],N=[],L=[],S=[],A=[],C=[],Q,P,K,R,F,E,G,M;if(!O||O.isLocked()){return}M=!(O.deltaX<0||O.deltaY<0);if(I||(!e.notifyOccluded&&(!Ext.supports.CSSPointerEvents||Ext.isIE10m||Ext.isOpera)&&M)){Q=O.getDragEl();if(M){Q.style.visibility="hidden"}B=B.chain({target:e.elementFromPoint(B.clientX,B.clientY)||document.documentElement});if(M){Q.style.visibility="visible"}}for(F in e.dragOvers){P=e.dragOvers[F];delete e.dragOvers[F];if(!e.isTypeOfDD(P)||P.destroyed){continue}if(J){L.push(P)}else{if(e.notifyOccluded){if(!this.isOverTarget(D,P,e.mode)){L.push(P)}}else{if(!B.within(P.getEl())){L.push(P)}}}N[F]=true}for(G in O.groups){if("string"!==typeof G){continue}for(F in e.ids[G]){P=e.ids[G][F];if(e.isTypeOfDD(P)&&(K=P.getEl())&&(P.isTarget)&&(!P.isLocked())&&(Ext.fly(K).isVisible(true))&&((P!==O)||(O.ignoreSelf===false))){if(e.notifyOccluded){if((P.zIndex=e.getZIndex(K))!==-1){R=true}H.push(P)}else{if(B.within(P.getEl())){H.push(P);break}}}}}if(R){Ext.Array.sort(H,e.byZIndex)}for(F=0,E=H.length;F<E;F++){P=H[F];if(e.isOverTarget(D,P,e.mode)){if(J){A.push(P)}else{if(!N[P.id]){C.push(P)}else{S.push(P)}e.dragOvers[P.id]=P}if(!e.notifyOccluded){break}}}if(e.mode){if(C.length){O.onDragEnter(B,C)}if(S.length){O.b4DragOver(B,S);O.onDragOver(B,S)}if(A.length){O.b4DragDrop(B,A);O.onDragDrop(B,A)}if(L.length){O.b4DragOut(B,L);O.onDragOut(B,L)}}else{for(F=0,E=C.length;F<E;++F){O.onDragEnter(B,C[F].id)}for(F=0,E=S.length;F<E;++F){O.b4DragOver(B,S[F].id);O.onDragOver(B,S[F].id)}for(F=0,E=A.length;F<E;++F){O.b4DragDrop(B,A[F].id);O.onDragDrop(B,A[F].id)}for(F=0,E=L.length;F<E;++F){O.b4DragOut(B,L[F].id);O.onDragOut(B,L[F].id)}}if(J&&!A.length){O.onInvalidDrop(B)}},elementFromPoint:function(d,e){if(Ext.rootInheritedState.rtl){d=Ext.Element.getViewportWidth()-d}return Ext.Element.fromPoint(d,e,true)},getZIndex:function(k){var f=document.body,j,g=-1;k=Ext.getDom(k);while(k!==f){if(!isNaN(j=Number(Ext.fly(k).getStyle("zIndex")))){g=j}k=k.parentNode}return g},byZIndex:function(e,d){return e.zIndex<d.zIndex},getBestMatch:function(l){var j=null,m=l.length,k,g;if(m===1){j=l[0]}else{for(k=0;k<m;++k){g=l[k];if(g.cursorIsOver){j=g;break}else{if(!j||j.overlap.getArea()<g.overlap.getArea()){j=g}}}}return j},refreshCache:function(m){var g,l,k,j;for(g in m){if("string"!==typeof g){continue}for(l in this.ids[g]){k=this.ids[g][l];if(this.isTypeOfDD(k)){j=this.getLocation(k);if(j){this.locationCache[k.id]=j}else{delete this.locationCache[k.id]}}}}},verifyEl:function(c){return Ext.getBody().contains(c)},getLocation:function(v){if(!this.isTypeOfDD(v)){return null}if(v.getRegion){return v.getRegion()}var x=v.getEl(),l,y,A,b,e,C,B,r,w;try{l=Ext.fly(x).getXY()}catch(u){}if(!l){return null}y=l[0];A=y+x.offsetWidth;b=l[1];e=b+x.offsetHeight;C=b-v.padding[0];B=A+v.padding[1];r=e+v.padding[2];w=y-v.padding[3];return new Ext.util.Region(C,B,r,w)},isOverTarget:function(m,v,s){var q=this.locationCache[v.id],n,p,u,r,o;if(!q||!this.useCache){q=this.getLocation(v);this.locationCache[v.id]=q}if(!q){return false}v.cursorIsOver=q.contains(m);n=this.dragCurrent;if(!n||!n.getTargetCoord||(!s&&!n.constrainX&&!n.constrainY)){return v.cursorIsOver}v.overlap=null;p=n.getTargetCoord(m.x,m.y);u=n.getDragEl();r=new Ext.util.Region(p.y,p.x+u.offsetWidth,p.y+u.offsetHeight,p.x);o=r.intersect(q);if(o){v.overlap=o;return(s)?true:v.cursorIsOver}else{return false}},_onUnload:function(e,d){Ext.dd.DragDropManager.unregAll()},unregAll:function(){var f=this,e=f.elementCache,g;if(f.dragCurrent){f.stopDrag();f.dragCurrent=null}f.clearingAll=true;f._execOnAll("unreg",[]);delete f.clearingAll;for(g in e){delete e[g]}f.elementCache={};f.ids={};f.handleIds={}},elementCache:{},getElWrapper:function(e){var d=this.elementCache[e];if(!d||!d.el){d=this.elementCache[e]=new this.ElementWrapper(Ext.getDom(e))}return d},getElement:function(c){return Ext.getDom(c)},getCss:function(e){var d=Ext.getDom(e);return(d)?d.style:null},ElementWrapper:function(c){this.el=c||null;this.id=this.el&&c.id;this.css=this.el&&c.style},getPosX:function(c){return Ext.fly(c).getX()},getPosY:function(c){return Ext.fly(c).getY()},swapNode:function(j,f){if(j.swapNode){j.swapNode(f)}else{var g=f.parentNode,k=f.nextSibling;if(k===j){g.insertBefore(j,f)}else{if(f===j.nextSibling){g.insertBefore(f,j)}else{j.parentNode.replaceChild(f,j);g.insertBefore(j,k)}}}},getScroll:function(){var k=window.document,j=k.documentElement,g=k.body,l=0,m=0;if(j&&(j.scrollTop||j.scrollLeft)){l=j.scrollTop;m=j.scrollLeft}else{if(g){l=g.scrollTop;m=g.scrollLeft}}return{top:l,left:m}},getStyle:function(e,d){return Ext.fly(e).getStyle(d)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(e,f){var g=Ext.fly(f).getXY();Ext.fly(e).setXY(g)},numericSort:function(b,e){return(b-e)},handleWasClicked:function(e,f){if(this.isHandle(f,e.id)){return true}else{var g=e.parentNode;while(g){if(this.isHandle(f,g.id)){return true}else{g=g.parentNode}}}return false}},0,0,0,0,0,0,[Ext.dd,"DragDropManager",Ext.dd,"DragDropMgr",Ext.dd,"DDM"],function(c){Ext.onInternalReady(function(){c.addListeners()})}));(Ext.cmd.derive("Ext.resizer.Splitter",Ext.Component,{childEls:["collapseEl"],renderTpl:['<tpl if="collapsible===true">','<div id="{id}-collapseEl" data-ref="collapseEl" role="presentation" class="',"x-","collapse-el ","x-",'layout-split-{collapseDir}{childElCls}">',"</div>","</tpl>"],isSplitter:true,baseCls:"x-splitter",collapsedClsInternal:"x-splitter-collapsed",canResize:true,collapsible:null,collapseOnDblClick:true,defaultSplitMin:40,defaultSplitMax:1000,collapseTarget:"next",horizontal:false,vertical:false,touchAction:undefined,size:5,tracker:null,ariaRole:"separator",focusable:true,tabIndex:0,applyTouchAction:function(d,e){if(d===undefined){d=this.vertical?{panX:false}:{panY:false}}return Ext.Component.prototype.applyTouchAction.call(this,d,e)},getTrackerConfig:function(){return Ext.apply({xclass:"Ext.resizer.SplitterTracker",el:this.el,splitter:this},this.tracker)},beforeRender:function(){var j=this,g=j.getCollapseTarget(),k=j.collapsible,f;Ext.Component.prototype.beforeRender.call(this);if(g.collapsed){j.addCls(j.collapsedClsInternal)}if(!j.canResize){j.addCls(j.baseCls+"-noresize")}Ext.applyIf(j.renderData,{collapseDir:j.getCollapseDirection(),collapsible:(k!==null)?k:g.collapsible});j.ariaRenderAttributes=j.ariaRenderAttributes||{};j.ariaRenderAttributes["aria-orientation"]=j.orientation;j.protoEl.unselectable()},onRender:function(){var g=this,f,e;Ext.Component.prototype.onRender.apply(this,arguments);if(g.performCollapse!==false){if(g.renderData.collapsible){g.mon(g.collapseEl,"click",g.toggleTargetCmp,g)}if(g.collapseOnDblClick){g.mon(g.el,"dblclick",g.toggleTargetCmp,g)}}f=g.getCollapseTarget();if(f&&f.isPanel){f.on({collapse:g.onTargetCollapse,expand:g.onTargetExpand,beforeexpand:g.onBeforeTargetExpand,beforecollapse:g.onBeforeTargetCollapse,scope:g})}if(g.canResize){g.tracker=Ext.create(g.getTrackerConfig());g.relayEvents(g.tracker,["beforedragstart","dragstart","dragend"])}e=g.collapseEl;if(e){e.lastCollapseDirCls=g.collapseDirProps[g.collapseDirection].cls}},getCollapseDirection:function(){var k=this,n=k.collapseDirection,l,j,o,m;if(!n){l=k.collapseTarget;if(l.isComponent){n=l.collapseDirection}if(!n){m=k.ownerCt.layout.type;if(l.isComponent){o=k.ownerCt.items;j=Number(o.indexOf(l)===o.indexOf(k)-1)<<1|Number(m==="hbox")}else{j=Number(k.collapseTarget==="prev")<<1|Number(m==="hbox")}n=["bottom","right","top","left"][j]}k.collapseDirection=n}k.setOrientation((n==="top"||n==="bottom")?"horizontal":"vertical");return n},getCollapseTarget:function(){var c=this;return c.collapseTarget.isComponent?c.collapseTarget:c.collapseTarget==="prev"?c.previousSibling():c.nextSibling()},setCollapseEl:function(e){var d=this.collapseEl;if(d){d.setDisplayed(e)}},onBeforeTargetExpand:function(c){this.setCollapseEl("none")},onBeforeTargetCollapse:function(){this.setCollapseEl("none")},onTargetCollapse:function(e){var d=this;if(e===d.getCollapseTarget()&&e[d.orientation==="vertical"?"collapsedHorizontal":"collapsedVertical"]()){d.el.addCls(d.collapsedClsInternal+" "+(d.collapsedCls||""))}d.setCollapseEl("")},onTargetExpand:function(e){var d=this;d.el.removeCls(d.collapsedClsInternal+" "+(d.collapsedCls||""));d.setCollapseEl("")},collapseDirProps:{top:{cls:"x-layout-split-top"},right:{cls:"x-layout-split-right"},bottom:{cls:"x-layout-split-bottom"},left:{cls:"x-layout-split-left"}},orientationProps:{horizontal:{opposite:"vertical",fixedAxis:"height",stretchedAxis:"width"},vertical:{opposite:"horizontal",fixedAxis:"width",stretchedAxis:"height"}},applyCollapseDirection:function(){var j=this,k=j.collapseEl,g=j.collapseDirProps[j.collapseDirection],f;if(k){f=k.lastCollapseDirCls;if(f){k.removeCls(f)}k.addCls(k.lastCollapseDirCls=g.cls)}},applyOrientation:function(){var n=this,p=n.orientation,o=n.orientationProps[p],m=n.size,q=o.fixedAxis,l=o.stretchedAxis,k=n.baseCls+"-";n[p]=true;n[o.opposite]=false;if(!n.hasOwnProperty(q)||n[q]==="100%"){n[q]=m}if(!n.hasOwnProperty(l)||n[l]===m){n[l]="100%"}n.removeCls(k+o.opposite);n.addCls(k+p)},setOrientation:function(d){var e=this;if(e.orientation!==d){e.orientation=d;e.applyOrientation()}},updateOrientation:function(){delete this.collapseDirection;this.getCollapseDirection();this.applyCollapseDirection()},toggleTargetCmp:function(k,m){var l=this.getCollapseTarget(),j=l.placeholder,e;if(Ext.isFunction(l.expand)&&Ext.isFunction(l.collapse)){if(j&&!j.hidden){e=true}else{e=!l.hidden}if(e){if(l.collapsed||l.floatedFromCollapse){l.expand()}else{if(l.collapseDirection){l.collapse()}else{l.collapse(this.renderData.collapseDir)}}}}},setSize:function(){var c=this;Ext.Component.prototype.setSize.apply(this,arguments);if(Ext.isIE&&c.el){c.el.repaint()}},doDestroy:function(){Ext.destroy(this.tracker);Ext.Component.prototype.doDestroy.call(this)}},0,["splitter"],["component","box","splitter"],{component:true,box:true,splitter:true},["widget.splitter"],0,[Ext.resizer,"Splitter"],0));Ext.define("Ext.theme.neptune.resizer.Splitter",{override:"Ext.resizer.Splitter",size:8});Ext.define("Ext.theme.triton.resizer.Splitter",{override:"Ext.resizer.Splitter",size:10});(Ext.cmd.derive("Ext.layout.container.Box",Ext.layout.container.Container,{alternateClassName:"Ext.layout.BoxLayout",type:"box",config:{align:"begin",constrainAlign:false,enableSplitters:true,overflowHandler:{$value:null,merge:function(e,d){if(typeof e==="string"){e={type:e}}return Ext.merge(d?Ext.Object.chain(d):{},e)}},padding:0,pack:"start",stretchMaxPartner:undefined,vertical:false,alignRoundingMethod:"round"},itemCls:"x-box-item",targetCls:"x-box-layout-ct",targetElCls:"x-box-target",innerCls:"x-box-inner",manageMargins:true,createsInnerCt:true,childEls:["innerCt","targetEl"],renderTpl:['{%var oc,l=values.$comp.layout,oh=l.overflowHandler;if (oh && oh.getPrefixConfig!==Ext.emptyFn) {if(oc=oh.getPrefixConfig())dh.generateMarkup(oc, out)}%}<div id="{ownerId}-innerCt" data-ref="innerCt" role="presentation" class="{[l.innerCls]}{[oh ? (" " + oh.getOverflowCls(l.direction)) : ""]}"><div id="{ownerId}-targetEl" data-ref="targetEl" class="{targetElCls}" role="presentation">{%this.renderBody(out, values)%}</div></div>{%if (oh && oh.getSuffixConfig!==Ext.emptyFn) {if(oc=oh.getSuffixConfig())dh.generateMarkup(oc, out)}%}',{disableFormats:true,definitions:"var dh=Ext.DomHelper;"}],constructor:function(e){var f=this,g;Ext.layout.container.Container.prototype.constructor.call(this,e);f.setVertical(f.vertical);f.flexSortFn=f.flexSort.bind(f);g=typeof f.padding;if(g==="string"||g==="number"){f.padding=Ext.util.Format.parseBox(f.padding);f.padding.height=f.padding.top+f.padding.bottom;f.padding.width=f.padding.left+f.padding.right}},_beginRe:/^(?:begin|left|top)$/,_centerRe:/^(?:center|middle)$/,_endRe:/^(?:end|right|bottom)$/,_percentageRe:/^\s*(\d+(?:\.\d*)?)\s*[%]\s*$/,getItemSizePolicy:function(M,L){var A=this,C=A.sizePolicy,E=A.align,F=M.flex,w=E,B=A.names,D=B.height,x=B.width,J=M[x],v=M[D],H=A._percentageRe,I=H.test(J),G=(E==="stretch"),K=(E==="stretchmax"),y=A.constrainAlign;if(!L&&(G||F||I||(y&&!K))){L=A.owner.getSizeModel()}if(G){if(!H.test(v)&&L[D].shrinkWrap){w="stretchmax"}}else{if(!K){if(H.test(v)){w="stretch"}else{if(y&&!L[D].shrinkWrap){w="stretchmax"}else{w=""}}}}if(F||I){if(!L[x].shrinkWrap){C=C.flex}}return C[w]},flexSort:function(w,x){var A=this.names.maxWidth,G=this.names.minWidth,y=Infinity,B=w.target,K=x.target,D=B.flex,E=K.flex,J=0,I,v,C,H,b,F;C=B[A]||y;H=K[A]||y;I=B[G]||0;v=K[G]||0;b=isFinite(I)||isFinite(v);F=isFinite(C)||isFinite(H);if(b||F){if(F){J=C-H}if(J===0&&b){J=v-I}if(J===0){if(F){J=E-D}else{J=D-E}}}return J},isItemBoxParent:function(c){return true},isItemShrinkWrap:function(c){return true},roundFlex:function(c){return Math.floor(c)},beginCollapse:function(e){var d=this;if(d.direction==="vertical"&&e.collapsedVertical()){e.collapseMemento.capture(["flex"]);delete e.flex}else{if(d.direction==="horizontal"&&e.collapsedHorizontal()){e.collapseMemento.capture(["flex"]);delete e.flex}}},beginExpand:function(c){c.collapseMemento.restore(["flex"])},beginLayout:function(n){var o=this,k=o.owner,l=k.stretchMaxPartner,p=o.innerCt.dom.style,m=o.names,q=o.overflowHandler;n.boxNames=m;if(q){q.beginLayout(n)}if(typeof l==="string"){l=Ext.getCmp(l)||k.query(l)[0]}n.stretchMaxPartner=l&&n.context.getCmp(l);Ext.layout.container.Container.prototype.beginLayout.call(this,n);n.innerCtContext=n.getEl("innerCt",o);n.targetElContext=n.getEl("targetEl",o);n.ownerScrollable=k.getScrollable();p.width=p.height=""},beginLayoutCycle:function(B,q){var u=this,E=B.state,s=B.ownerScrollable,w=u.align,v=B.boxNames,r=u.pack,C=u._centerRe,A=u.overflowHandler,D=B.state.canScroll,x,y;if(A){A.beginLayoutCycle(B,q)}Ext.layout.container.Container.prototype.beginLayoutCycle.call(this,B,q);B.parallelSizeModel=x=B[v.widthModel];B.perpendicularSizeModel=y=B[v.heightModel];B.boxOptions={align:w={stretch:w==="stretch",stretchmax:w==="stretchmax",center:C.test(w),bottom:u._endRe.test(w)},pack:r={center:C.test(r),end:r==="end"}};if(s){if(!D){E.canScroll={parallel:!x.shrinkWrap&&s[v.getX](),perpendicular:!y.shrinkWrap&&s[v.getY]()}}if(!E.actualScroll){E.actualScroll={parallel:false,perpendicular:false}}}if(w.stretch&&y.shrinkWrap){w.stretchmax=true;w.stretch=false}w.nostretch=!(w.stretch||w.stretchmax);if(x.shrinkWrap){r.center=r.end=false}u.cacheFlexes(B);u.targetEl.setWidth(20000)},cacheFlexes:function(U){var K=this,T=U.boxNames,ae=T.widthModel,Y=T.heightModel,ac=U.boxOptions.align.nostretch,I=0,ad=U.childItems,G=ad.length,O=[],S=0,F=0,J=0,V=T.minWidth,Q=T.minHeight,X=K._percentageRe,R=0,M=0,Z,N,H,W,ab,aa,L,P;while(G--){N=ad[G];Z=N.target;aa=N[ae];if(aa.calculated){N.flex=H=Z.flex;if(H){I+=H;O.push(N);S+=Z[V]||0}else{if((W=X.exec(Z[T.width]))){N.percentageParallel=parseFloat(W[1])/100;++R}}}if(aa.configured){L=Z[T.width]}else{L=Z[V]||0}J+=L;ab=N[Y];if(ac&&ab.calculated){W=X.exec(Z[T.height]);N.percentagePerpendicular=parseFloat(W[1])/100;++M}if(ab.configured){P=Z[T.height]}else{P=Z[Q]||0}if(P>F){F=P}}U.flexedItems=O;U.flexedMinWidth=S;U.smallestWidth=J;U.smallestHeight=F;U.totalFlex=I;U.percentageWidths=R;U.percentageHeights=M;Ext.Array.sort(O,K.flexSortFn)},calculate:function(s){var o=this,p=s.boxNames,v=s.state,q=v.actualScroll,m=v.needsScroll,u=v.canScroll,n=v.boxPlan||(v.boxPlan={}),r=o.overflowHandler;n.targetSize=o.getContainerSize(s);if(u&&!m){v.needsScroll=m={parallel:u.parallel&&n.targetSize[p.width]<s.smallestWidth,perpendicular:u.perpendicular&&n.targetSize[p.height]<s.smallestHeight}}if(!v.parallelDone){v.parallelDone=o.calculateParallel(s,p,n)}if(!v.perpendicularDone){v.perpendicularDone=o.calculatePerpendicular(s,p,n)}if(v.parallelDone&&v.perpendicularDone){if(u&&!v.scrollPass){if(m.parallel!==q.parallel||m.perpendicular!==q.perpendicular){s.invalidate({state:{scrollPass:true,canScroll:u,needsScroll:q}});o.done=false;return}}o.publishInnerCtSize(s);if(o.done&&s.boxOptions.align.stretchmax&&!v.stretchMaxDone){o.calculateStretchMax(s,p,n);v.stretchMaxDone=true}if(r){r.calculate(s)}}else{o.done=false}},calculateParallel:function(af,R,aa){var al=this,ao=af.parallelSizeModel.shrinkWrap,Z=R.width,av=af.childItems,aj=R.beforeX,V=R.afterX,ar=R.setWidth,ac=av.length,ag=af.flexedItems,W=ag.length,am=af.boxOptions.pack,U=al.padding,aA=aa.targetSize,an=aA[Z],Q=af.state,ad=Q.needsScroll,ak=Q.canScroll,ab=0,au=U[aj],X=au+U[V],ai=Ext.getScrollbarSize(),ax=ai[R.width],aB=ai[R.height],T,ae,aw,aq,ap,at,az,S,Y,ah,ay;if(!ao&&!aA[R.gotWidth]){return false}for(T=0;T<ac;++T){ap=av[T];ae=ap.marginInfo||ap.getMarginInfo();ab+=ae[Z];if(!ap[R.widthModel].calculated){Y=ap.getProp(Z);X+=Y;if(isNaN(X)){return false}}}X+=ab;if(af.percentageWidths){ah=an-ab;if(isNaN(ah)){return false}for(T=0;T<ac;++T){ap=av[T];if(ap.percentageParallel){Y=Math.ceil(ah*ap.percentageParallel);Y=ap[ar](Y);X+=Y}}}if(ao){ay=0;aa.tooNarrow=false}else{ay=an-X;if(ad&&ad.perpendicular){ay-=aB}aa.tooNarrow=ay<af.flexedMinWidth;if(aa.tooNarrow&&ak&&ak.parallel){Q.actualScroll.parallel=true}}S=X;aw=ay;aq=af.totalFlex;for(T=0;T<W;T++){ap=ag[T];at=ap.flex;az=al.roundFlex((at/aq)*aw);az=ap[ar](az);S+=az;aw=Math.max(0,aw-az);aq-=at}if(am.center){au+=aw/2;if(au<0){au=0}}else{if(am.end){au+=aw}}for(T=0;T<ac;++T){ap=av[T];ae=ap.marginInfo;au+=ae[aj];ap.setProp(R.x,au);au+=ae[V]+ap.props[Z]}S+=af.targetContext.getPaddingInfo()[Z];af.state.contentWidth=S;if(ad&&ad.perpendicular){if(ao){S+=ax}af[R.hasOverflowY]=true;af.target.componentLayout[R.setWidthInDom]=true;af[R.invalidateScrollY]=Ext.isIE8}af[R.setContentWidth](S);return true},calculatePerpendicular:function(ap,Y,aj){var ar=this,U=ap.state,an=U.needsScroll,aq=U.canScroll,aG=ap.perpendicularSizeModel.shrinkWrap,aI=aj.targetSize,aC=ap.childItems,ak=aC.length,az=Math.max,aA=Y.height,ay=Y.setHeight,aD=Y.beforeY,at=Y.y,ab=ar.padding,aB=ab[aD],ax=aI[aA]-aB-ab[Y.afterY],ae=ap.boxOptions.align,aw=ae.stretch,av=ae.stretchmax,V=ae.center,W=ae.bottom,ac=ar.constrainAlign,ad=0,ah=0,af=ar.onBeforeConstrainInvalidateChild,ai=ar.onAfterConstrainInvalidateChild,aJ=Ext.getScrollbarSize().height,al,aa,ag,ao,am,aH,au,aF,X,Z,aE;if(!aG&&!aI[Y.gotHeight]){return false}if(aw||((V||W)&&!aG)){if(isNaN(ax)){return false}}if(an&&an.parallel){if(aG){Z=true}else{ax-=aJ;aj.targetSize[aA]-=aJ}}if(aw){aH=ax;ad=az(aH,ap.smallestHeight)}else{for(aa=0;aa<ak;aa++){au=aC[aa];ao=(au.marginInfo||au.getMarginInfo())[aA];if(!(aE=au.percentagePerpendicular)){ag=au.getProp(aA)}else{++ah;if(aG){continue}else{ag=aE*ax-ao;ag=au[ay](ag)}}if(!aG&&ac&&au[Y.heightModel].shrinkWrap&&ag>ax){au.invalidate({before:af,after:ai,layout:ar,childHeight:ax,names:Y});ap.state.parallelDone=false}if(isNaN(ad=az(ad,ag+ao,au.target[Y.minHeight]||0))){return false}}}if(Z){ad+=aJ;ap[Y.hasOverflowX]=true;ap.target.componentLayout[Y.setHeightInDom]=true;ap[Y.invalidateScrollX]=Ext.isIE8}aF=ap.stretchMaxPartner;if(aF){ap.setProp("maxChildHeight",ad);X=aF.childItems;if(X&&X.length){ad=az(ad,aF.getProp("maxChildHeight"));if(isNaN(ad)){return false}}}ap[Y.setContentHeight](ad+ar.padding[aA]+ap.targetContext.getPaddingInfo()[aA]);if(Z){ad-=aJ}if(ad>aI[aA]&&aq&&aq.perpendicular){U.actualScroll.perpendicular=true}aj.maxSize=ad;if(av){aH=ad}else{if(V||W||ah){if(ac){aH=aG?ad:ax}else{aH=aG?ad:az(ax,ad)}aH-=ap.innerCtContext.getBorderInfo()[aA]}}for(aa=0;aa<ak;aa++){au=aC[aa];ao=au.marginInfo||au.getMarginInfo();al=aB+ao[aD];if(aw){au[ay](aH-ao[aA])}else{aE=au.percentagePerpendicular;if(aG&&aE){ao=au.marginInfo||au.getMarginInfo();ag=aE*aH-ao[aA];ag=au[ay](ag)}if(V){am=aH-au.props[aA];if(am>0){al=aB+Math[ar.alignRoundingMethod](am/2)}}else{if(W){al=az(0,aH-al-au.props[aA])}}}au.setProp(at,al)}return true},onBeforeConstrainInvalidateChild:function(g,e){var f=e.names.heightModel;if(!g[f].constrainedMin){g[f]=Ext.layout.SizeModel.calculated}},onAfterConstrainInvalidateChild:function(g,e){var f=e.names;g.setProp(f.beforeY,0);if(g[f.heightModel].calculated){g[f.setHeight](e.childHeight)}},calculateStretchMax:function(G,A,x){var y=this,C=A.height,w=A.width,D=G.childItems,I=D.length,u=x.maxSize,v=y.onBeforeStretchMaxInvalidateChild,E=y.onAfterStretchMaxInvalidateChild,s,B,F,H;for(F=0;F<I;++F){s=D[F];B=s.props;H=u-s.getMarginInfo()[C];if(H!==B[C]||s[A.heightModel].constrained){s.invalidate({before:v,after:E,layout:y,childWidth:B[w],childHeight:H,childX:B.x,childY:B.y,names:A})}}},onBeforeStretchMaxInvalidateChild:function(g,e){var f=e.names.heightModel;if(!g[f].constrainedMax){g[f]=Ext.layout.SizeModel.calculated}},onAfterStretchMaxInvalidateChild:function(k,l){var j=l.names,g=l.childHeight,m=l.childWidth;k.setProp("x",l.childX);k.setProp("y",l.childY);if(k[j.heightModel].calculated){k[j.setHeight](g)}if(k[j.widthModel].calculated){k[j.setWidth](m)}},completeLayout:function(w){var o=this,p=w.invalidateScrollX,q=w.invalidateScrollY,v=o.overflowHandler,s,x,r,u,n;if(v){v.completeLayout(w)}if(p||q){x=o.getTarget();s=x.dom;n=s.style;if(p){r=x.getStyle("overflowX");if(r==="auto"){r=n.overflowX;n.overflowX="scroll"}else{p=false}}if(q){u=x.getStyle("overflowY");if(u==="auto"){u=n.overflowY;n.overflowY="scroll"}else{q=false}}if(p||q){s.scrollWidth;if(p){n.overflowX=r}if(q){n.overflowY=u}}}},finishedLayout:function(e){var d=this.overflowHandler;if(d){d.finishedLayout(e)}Ext.layout.container.Container.prototype.finishedLayout.call(this,e)},getLayoutItems:function(){var n=Ext.layout.container.Container.prototype.getLayoutItems.call(this),u=n.length,q,r,s,m,o,p,v;for(s=0;s<u;++s){if((m=n[s]).isSplitter){continue}v=m.splitter;if(m.hidden){if(v){if(!v.hidden){v.hidden=true;if(v.el){v.el.hide()}}}continue}if(v){p=v.collapseTarget==="next"}else{p=false}r=null;if(q&&o){if(o.hidden){o.hidden=false;if(o.el){o.el.show()}}if(p){r=true}}else{if(p){r=!q}}if(r!==null&&v.hidden!==r){v.hidden=r;if(v.el){v.el.setVisible(!r)}}o=!p&&v;q=m}if(q&&o&&!o.hidden){o.hidden=true;if(o.el){o.el.hide()}}return n},insertSplitter:function(m,n,k,o){var l={xtype:"splitter",id:m.id+"-splitter",hidden:k,splitterFor:m,synthetic:true},j=n+((o.collapseTarget==="prev")?1:0);l[this.names.height]="100%";if(o){Ext.apply(l,o)}m.splitter=this.owner.add(j,l)},publishInnerCtSize:function(I,G){G=G||0;var B=this,J=I.state,C=I.boxNames,D=C.height,y=C.width,E=I.boxOptions.align,w=B.padding,A=J.boxPlan,F=A.targetSize,u=A.maxSize,x=J.needsScroll,K=I.innerCtContext,H,v;if(I.parallelSizeModel.shrinkWrap||(A.tooNarrow&&J.canScroll)){H=J.contentWidth-I.targetContext.getPaddingInfo()[y]}else{H=F[y];if(x&&x.perpendicular){H-=Ext.getScrollbarSize()[y]}}H-=G;B.owner.tooNarrow=A.tooNarrow;if(E.stretch){v=u}else{v=A.maxSize+w[C.beforeY]+w[C.afterY]+K.getBorderInfo()[D];if(!I.perpendicularSizeModel.shrinkWrap&&(E.center||E.bottom)){v=Math.max(F[D],v)}}K[C.setWidth](H);K[C.setHeight](v);I.targetElContext.setWidth(I.innerCtContext.props.width-(B.vertical?0:(G||0)));if(isNaN(H+v)){B.done=false}},onAdd:function(g,f){var j=this,k=j.enableSplitters&&!g.isButton&&g.split;Ext.layout.container.Container.prototype.onAdd.call(this,g,f);if(k){if(k===true){k={collapseTarget:"next"}}else{if(Ext.isString(k)){k={collapseTarget:k==="before"?"next":"prev"}}else{k=Ext.apply({collapseTarget:k.side==="before"?"next":"prev"},k)}}j.insertSplitter(g,f,!!g.hidden,k)}},onRemove:function(s,p){var o=this,m=o.names,l=o.owner,n=s.splitter,r=o.overflowHandler,q;Ext.layout.container.Container.prototype.onRemove.call(this,s,p);if(n&&l.contains(n)){l.doRemove(n,true);s.splitter=null}if(r){r.onRemove(s)}if(s.layoutMarginCap===o.id){delete s.layoutMarginCap}if(!l.destroying&&!p&&s.rendered){q=s.getEl();if(q){q.setStyle(m.beforeY,"");q.setStyle(m.beforeX,"");q.setStyle("margin","")}}},applyOverflowHandler:function(g,e){var f;if(typeof g==="string"){g={type:g}}f=g.type;if(e&&e.type===g.type){delete g.type;e.setConfig(g);return e}g.layout=this;return Ext.Factory.boxOverflow(g)},getRenderTarget:function(){return this.targetEl},getElementTarget:function(){return this.innerCt},destroy:function(){var c=this;Ext.destroy(c.innerCt,c.overflowHandler);c.flexSortFn=c.innerCt=null;Ext.layout.container.Container.prototype.destroy.call(this)},getRenderData:function(){var c=Ext.layout.container.Container.prototype.getRenderData.call(this);c.targetElCls=this.targetElCls;return c},updateVertical:function(m){var j=this,l=j.overflowHandler,g=j.owner,k=j._props;Ext.apply(j,m?k.vbox:k.hbox);if(l&&g&&g.rendered){l.setVertical(m)}},_props:{hbox:{direction:"horizontal",oppositeDirection:"vertical",horizontal:true,vertical:false,names:{beforeX:"left",beforeScrollX:"left",leftCap:"Left",afterX:"right",width:"width",contentWidth:"contentWidth",minWidth:"minWidth",maxWidth:"maxWidth",widthCap:"Width",widthModel:"widthModel",widthIndex:0,x:"x",getX:"getX",setX:"setX",scrollLeft:"scrollLeft",overflowX:"overflowX",hasOverflowX:"hasOverflowX",invalidateScrollX:"invalidateScrollX",parallelMargins:"lr",center:"middle",beforeY:"top",afterY:"bottom",height:"height",contentHeight:"contentHeight",minHeight:"minHeight",maxHeight:"maxHeight",heightCap:"Height",heightModel:"heightModel",heightIndex:1,y:"y",getY:"getY",setY:"setY",overflowY:"overflowY",hasOverflowY:"hasOverflowY",invalidateScrollY:"invalidateScrollY",perpendicularMargins:"tb",getWidth:"getWidth",getHeight:"getHeight",setWidth:"setWidth",setHeight:"setHeight",gotWidth:"gotWidth",gotHeight:"gotHeight",setContentWidth:"setContentWidth",setContentHeight:"setContentHeight",setWidthInDom:"setWidthInDom",setHeightInDom:"setHeightInDom",getScrollLeft:"getScrollLeft",setScrollLeft:"setScrollLeft",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:1}}},vbox:{direction:"vertical",oppositeDirection:"horizontal",horizontal:false,vertical:true,names:{beforeX:"top",beforeScrollX:"top",leftCap:"Top",afterX:"bottom",width:"height",contentWidth:"contentHeight",minWidth:"minHeight",maxWidth:"maxHeight",widthCap:"Height",widthModel:"heightModel",widthIndex:1,x:"y",getX:"getY",setX:"setY",scrollLeft:"scrollTop",overflowX:"overflowY",hasOverflowX:"hasOverflowY",invalidateScrollX:"invalidateScrollY",parallelMargins:"tb",center:"center",beforeY:"left",afterY:"right",height:"width",contentHeight:"contentWidth",minHeight:"minWidth",maxHeight:"maxWidth",heightCap:"Width",heightModel:"widthModel",heightIndex:0,y:"x",getY:"getX",setY:"setX",overflowY:"overflowX",hasOverflowY:"hasOverflowX",invalidateScrollY:"invalidateScrollX",perpendicularMargins:"lr",getWidth:"getHeight",getHeight:"getWidth",setWidth:"setHeight",setHeight:"setWidth",gotWidth:"gotHeight",gotHeight:"gotWidth",setContentWidth:"setContentHeight",setContentHeight:"setContentWidth",setWidthInDom:"setHeightInDom",setHeightInDom:"setWidthInDom",getScrollLeft:"getScrollTop",setScrollLeft:"setScrollTop",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:0,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:1,setsHeight:0}}}}},1,0,0,0,["layout.box"],0,[Ext.layout.container,"Box",Ext.layout,"BoxLayout"],0));(Ext.cmd.derive("Ext.layout.container.HBox",Ext.layout.container.Box,{alternateClassName:"Ext.layout.HBoxLayout",type:"hbox",vertical:false},0,0,0,0,["layout.hbox"],0,[Ext.layout.container,"HBox",Ext.layout,"HBoxLayout"],0));(Ext.cmd.derive("Ext.layout.container.VBox",Ext.layout.container.Box,{alternateClassName:"Ext.layout.VBoxLayout",type:"vbox",vertical:true},0,0,0,0,["layout.vbox"],0,[Ext.layout.container,"VBox",Ext.layout,"VBoxLayout"],0));(Ext.cmd.derive("Ext.toolbar.Toolbar",Ext.container.Container,{alternateClassName:"Ext.Toolbar",isToolbar:true,baseCls:"x-toolbar",ariaRole:"toolbar",defaultType:"button",layout:undefined,vertical:undefined,enableOverflow:false,overflowHandler:null,defaultButtonUI:"default-toolbar",defaultFieldUI:"default",defaultFooterButtonUI:"default",defaultFooterFieldUI:"default",trackMenus:true,itemCls:"x-toolbar-item",statics:{shortcuts:{"-":"tbseparator"," ":"tbspacer"},shortcutsHV:{0:{"->":{xtype:"tbfill",height:0}},1:{"->":{xtype:"tbfill",width:0}}}},initComponent:function(){var f=this,g=f.layout,e=f.vertical;if(e===undefined){f.vertical=e=f.dock==="right"||f.dock==="left"}f.layout=g=Ext.applyIf(Ext.isString(g)?{type:g}:g||{},{type:e?"vbox":"hbox",align:e?"stretchmax":"middle"});if(f.overflowHandler){g.overflowHandler=f.overflowHandler}else{if(f.enableOverflow){g.overflowHandler="menu"}}if(e){f.addClsWithUI("vertical")}if(f.ui==="footer"){f.ignoreBorderManagement=true}Ext.container.Container.prototype.initComponent.call(this)},getRefItems:function(g){var j=this,m=Ext.container.Container.prototype.getRefItems.apply(this,arguments),k=j.layout,l;if(g&&(j.enableOverflow||(j.overflowHandler==="menu"))){l=k.overflowHandler;if(l&&l.menu){m=m.concat(l.menu.getRefItems(g))}}return m},lookupComponent:function(g){var j=arguments,c,k;if(typeof g==="string"&&g[0]!=="@"){k=Ext.toolbar.Toolbar;c=k.shortcutsHV[this.vertical?1:0][g]||k.shortcuts[g];if(typeof c==="string"){g={xtype:c}}else{if(c){g=Ext.apply({},c)}else{g={xtype:"tbtext",text:g}}}this.applyDefaults(g);j=[g]}return Ext.container.Container.prototype.lookupComponent.apply(this,j)},onBeforeAdd:function(k){var j=this,g=j.ui==="footer",f=g?j.defaultFooterButtonUI:j.defaultButtonUI;if(k.isSegmentedButton){if(k.getDefaultUI()==="default"&&!k.config.hasOwnProperty("defaultUI")){k.setDefaultUI(f)}}else{if(k.ui==="default"&&!k.hasOwnProperty("ui")){if(k.isButton){k.ui=f}else{if(k.isFormField){k.ui=g?j.defaultFooterFieldUI:j.defaultFieldUI}}}}if(k instanceof Ext.toolbar.Separator){k.setUI(j.vertical?"vertical":"horizontal")}Ext.container.Container.prototype.onBeforeAdd.apply(this,arguments)},onAdd:function(d){var e=this;if(d.needArrowKeys&&e.enableFocusableContainer){e.enableFocusableContainer=false;e.ariaRole="group"}Ext.container.Container.prototype.onAdd.apply(this,arguments);e.trackMenu(d)},onRemove:function(c){Ext.container.Container.prototype.onRemove.apply(this,arguments);this.trackMenu(c,true)},privates:{applyDefaults:function(c){if(!Ext.isString(c)){c=Ext.container.Container.prototype.applyDefaults.apply(this,arguments)}return c},trackMenu:function(f,e){var g=this;if(g.trackMenus&&f.menu){f[e?"un":"on"]({mouseover:g.onButtonOver,menushow:g.onButtonMenuShow,menuhide:g.onButtonMenuHide,scope:g})}},getChildItemsToDisable:function(){return this.items.getRange()},onButtonOver:function(g,f){var e=this.activeMenuBtn;if(e&&e!==g){e.hideMenu();g.focus();g.showMenu(f);this.activeMenuBtn=g}},onButtonMenuShow:function(c){this.activeMenuBtn=c},onButtonMenuHide:function(c){this.activeMenuBtn=null}}},0,["toolbar"],["component","box","container","toolbar"],{component:true,box:true,container:true,toolbar:true},["widget.toolbar"],[[Ext.util.FocusableContainer.prototype.mixinId||Ext.util.FocusableContainer.$className,Ext.util.FocusableContainer]],[Ext.toolbar,"Toolbar",Ext,"Toolbar"],0));Ext.define("Ext.theme.neptune.toolbar.Toolbar",{override:"Ext.toolbar.Toolbar",usePlainButtons:false,border:false});(Ext.cmd.derive("Ext.dd.DragDrop",Ext.Base,{constructor:function(f,e,g){if(f){this.init(f,e,g)}},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:false,lock:function(){this.locked=true},moveOnly:false,unlock:function(){this.locked=false},isTarget:true,padding:null,_domRef:null,__ygDragDrop:true,constrainX:false,constrainY:false,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:false,xTicks:null,yTicks:null,primaryButtonOnly:true,available:false,hasOuterHandles:false,triggerEvent:"mousedown",b4StartDrag:function(d,e){},startDrag:function(d,e){},b4Drag:function(c){},onDrag:function(c){},onDragEnter:function(d,e){},b4DragOver:function(c){},onDragOver:function(d,e){},b4DragOut:function(c){},onDragOut:function(d,e){},b4DragDrop:function(c){},onDragDrop:function(d,e){},onInvalidDrop:function(c){},b4EndDrag:function(c){},endDrag:function(c){},b4MouseDown:function(c){},onMouseDown:function(c){},onMouseUp:function(c){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(w,y,p){if(Ext.isNumber(y)){y={left:y,right:y,top:y,bottom:y}}y=y||this.defaultPadding;var u=Ext.get(this.getEl()).getBox(),c=Ext.get(w),q=c.getScroll(),v,s=c.dom,r,x,A;if(s===document.body){v={x:q.left,y:q.top,width:Ext.Element.getViewportWidth(),height:Ext.Element.getViewportHeight()}}else{r=c.getXY();v={x:r[0],y:r[1],width:s.clientWidth,height:s.clientHeight}}x=u.y-v.y;A=u.x-v.x;this.resetConstraints();this.setXConstraint(A-(y.left||0),v.width-A-u.width-(y.right||0),this.xTickSize);this.setYConstraint(x-(y.top||0),v.height-x-u.height-(y.bottom||0),this.yTickSize)},getEl:function(){if(!this._domRef){this._domRef=Ext.getDom(this.id)}return this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(g,f,k){var j=this;j.el=j.el||Ext.get(g);j.initTarget(g,f,k);Ext.get(j.id).on(j.triggerEvent,j.handleMouseDown,j);if(Ext.supports.Touch&&j.triggerEvent==="longpress"){Ext.get(j.id).swallowEvent("contextmenu",true)}},initTarget:function(f,e,g){this.config=g||{};this.DDMInstance=Ext.dd.DragDropManager;this.groups={};if(typeof f!=="string"){f=Ext.id(f)}this.id=f;this.addToGroup((e)?e:"default");this.handleElId=f;this.setDragElId(f);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=(this.config.isTarget!==false);this.maintainOffset=(this.config.maintainOffset);this.primaryButtonOnly=(this.config.primaryButtonOnly!==false)},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable()},setPadding:function(j,f,g,k){if(!f&&0!==f){this.padding=[j,j,j,j]}else{if(!g&&0!==g){this.padding=[j,f,j,f]}else{this.padding=[j,f,g,k]}}},setInitPosition:function(m,n){var l=this.getEl(),o,j,k;if(!this.DDMInstance.verifyEl(l)){return}o=m||0;j=n||0;k=Ext.fly(l).getXY();this.initPageX=k[0]-o;this.initPageY=k[1]-j;this.lastPageX=k[0];this.lastPageY=k[1];this.setStartPosition(k)},setStartPosition:function(e){var d=e||Ext.fly(this.getEl()).getXY();this.deltaSetXY=null;this.startPageX=d[0];this.startPageY=d[1]},addToGroup:function(c){this.groups[c]=true;this.DDMInstance.regDragDrop(this,c)},removeFromGroup:function(c){if(this.groups[c]){delete this.groups[c]}this.DDMInstance.removeDDFromGroup(this,c)},setDragElId:function(c){this.dragElId=c},setHandleElId:function(c){if(typeof c!=="string"){c=Ext.id(c)}this.handleElId=c;this.DDMInstance.regHandle(this.id,c)},setOuterHandleElId:function(c){if(typeof c!=="string"){c=Ext.id(c)}Ext.get(c).on(this.triggerEvent,this.handleMouseDown,this);this.setHandleElId(c);this.hasOuterHandles=true},unreg:function(){var e=this,d;if(e._domRef){d=Ext.fly(e.id);if(d){d.un(e.triggerEvent,e.handleMouseDown,e)}}e._domRef=null;e.DDMInstance._remove(e,e.autoGroup)},destroy:function(){this.unreg();this.callParent()},isLocked:function(){return(this.DDMInstance.isLocked()||this.locked)},handleMouseDown:function(f,g){var e=this;if((e.primaryButtonOnly&&f.button)||e.isLocked()){return}e.DDMInstance.refreshCache(e.groups);if(e.hasOuterHandles||e.DDMInstance.isOverTarget(f.getPoint(),e)){if(e.clickValidator(f)){e.setStartPosition();e.b4MouseDown(f);e.onMouseDown(f);e.DDMInstance.handleMouseDown(f,e);e.DDMInstance.stopEvent(f)}}},clickValidator:function(e){var d=e.getTarget();return(this.isValidHandleChild(d)&&(this.id===this.handleElId||this.DDMInstance.handleWasClicked(d,this.id)))},addInvalidHandleType:function(d){var e=d.toUpperCase();this.invalidHandleTypes[e]=e},addInvalidHandleId:function(c){if(typeof c!=="string"){c=Ext.id(c)}this.invalidHandleIds[c]=c},addInvalidHandleClass:function(c){this.invalidHandleClasses.push(c)},removeInvalidHandleType:function(d){var e=d.toUpperCase();delete this.invalidHandleTypes[e]},removeInvalidHandleId:function(c){if(typeof c!=="string"){c=Ext.id(c)}delete this.invalidHandleIds[c]},removeInvalidHandleClass:function(k){var g=this.invalidHandleClasses,f=g.length,j;for(j=0;j<f;++j){if(g[j]===k){delete g[j]}}},isValidHandleChild:function(m){var n=true,k,o,e;try{k=m.nodeName.toUpperCase()}catch(l){k=m.nodeName}n=n&&!this.invalidHandleTypes[k];n=n&&!this.invalidHandleIds[m.id];for(o=0,e=this.invalidHandleClasses.length;n&&o<e;++o){n=!Ext.fly(m).hasCls(this.invalidHandleClasses[o])}return n},setXTicks:function(g,f){this.xTicks=[];this.xTickSize=f;var j={},k;for(k=this.initPageX;k>=this.minX;k=k-f){if(!j[k]){this.xTicks[this.xTicks.length]=k;j[k]=true}}for(k=this.initPageX;k<=this.maxX;k=k+f){if(!j[k]){this.xTicks[this.xTicks.length]=k;j[k]=true}}Ext.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(g,f){this.yTicks=[];this.yTickSize=f;var j={},k;for(k=this.initPageY;k>=this.minY;k=k-f){if(!j[k]){this.yTicks[this.yTicks.length]=k;j[k]=true}}for(k=this.initPageY;k<=this.maxY;k=k+f){if(!j[k]){this.yTicks[this.yTicks.length]=k;j[k]=true}}Ext.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(f,g,e){this.leftConstraint=f;this.rightConstraint=g;this.minX=this.initPageX-f;this.maxX=this.initPageX+g;if(e){this.setXTicks(this.initPageX,e)}this.constrainX=true},clearConstraints:function(){this.constrainX=false;this.constrainY=false;this.clearTicks()},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0},setYConstraint:function(e,f,g){this.topConstraint=e;this.bottomConstraint=f;this.minY=this.initPageY-e;this.maxY=this.initPageY+f;if(g){this.setYTicks(this.initPageY,g)}this.constrainY=true},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var e=(this.maintainOffset)?this.lastPageX-this.initPageX:0,d=(this.maintainOffset)?this.lastPageY-this.initPageY:0;this.setInitPosition(e,d)}else{this.setInitPosition()}if(this.constrainX){this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize)}if(this.constrainY){this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)}},getTick:function(l,o){if(!o){return l}else{if(o[0]>=l){return o[0]}else{var q,k,p,m,n;for(q=0,k=o.length;q<k;++q){p=q+1;if(o[p]&&o[p]>=l){m=l-o[q];n=o[p]-l;return(n>m)?o[q]:o[p]}}return o[o.length-1]}}},toString:function(){return("DragDrop "+this.id)}},3,0,0,0,0,0,[Ext.dd,"DragDrop"],0));(Ext.cmd.derive("Ext.dd.DD",Ext.dd.DragDrop,{constructor:function(f,e,g){if(f){this.init(f,e,g)}},scroll:true,autoOffset:function(j,k){var f=j-this.startPageX,g=k-this.startPageY;this.setDelta(f,g)},setDelta:function(e,d){this.deltaX=e;this.deltaY=d},setDragElPos:function(f,g){var e=this.getDragEl();this.alignElWithMouse(e,f,g)},alignElWithMouse:function(y,v,x){var u=this.getTargetCoord(v,x),w=y.dom?y:Ext.fly(y,"_dd"),o=w.getSize(),r=Ext.Element,q,A,p,s;if(!this.deltaSetXY){q=this.cachedViewportSize={width:r.getDocumentWidth(),height:r.getDocumentHeight()};A=[Math.max(0,Math.min(u.x,q.width-o.width)),Math.max(0,Math.min(u.y,q.height-o.height))];w.setXY(A);p=this.getLocalX(w);s=w.getLocalY();this.deltaSetXY=[p-u.x,s-u.y]}else{q=this.cachedViewportSize;this.setLocalXY(w,Math.max(0,Math.min(u.x+this.deltaSetXY[0],q.width-o.width)),Math.max(0,Math.min(u.y+this.deltaSetXY[1],q.height-o.height)))}this.cachePosition(u.x,u.y);this.autoScroll(u.x,u.y,y.offsetHeight,y.offsetWidth);return u},cachePosition:function(g,e){if(g){this.lastPageX=g;this.lastPageY=e}else{var f=Ext.fly(this.getEl()).getXY();this.lastPageX=f[0];this.lastPageY=f[1]}},autoScroll:function(w,x,C,v){if(this.scroll){var u=Ext.Element.getViewportHeight(),F=Ext.Element.getViewportWidth(),r=this.DDMInstance.getScrollTop(),D=this.DDMInstance.getScrollLeft(),y=C+x,s=v+w,A=(u+r-x-this.deltaY),B=(F+D-w-this.deltaX),E=40,G=(document.all)?80:30;if(y>u&&A<E){window.scrollTo(D,r+G)}if(x<r&&r>0&&x-r<E){window.scrollTo(D,r-G)}if(s>F&&B<E){window.scrollTo(D+G,r)}if(w<D&&D>0&&w-D<E){window.scrollTo(D-G,r)}}},getTargetCoord:function(j,k){var f=j-this.deltaX,g=k-this.deltaY;if(this.constrainX){if(f<this.minX){f=this.minX}if(f>this.maxX){f=this.maxX}}if(this.constrainY){if(g<this.minY){g=this.minY}if(g>this.maxY){g=this.maxY}}f=this.getTick(f,this.xTicks);g=this.getTick(g,this.yTicks);return{x:f,y:g}},applyConfig:function(){Ext.dd.DragDrop.prototype.applyConfig.call(this);this.scroll=(this.config.scroll!==false)},b4MouseDown:function(e){var d=e.getXY();this.autoOffset(d[0],d[1])},b4Drag:function(e){var d=e.getXY();this.setDragElPos(d[0],d[1])},toString:function(){return("DD "+this.id)},getLocalX:function(c){return c.getLocalX()},setLocalXY:function(g,e,f){g.setLocalXY(e,f)}},3,0,0,0,0,0,[Ext.dd,"DD"],0));(Ext.cmd.derive("Ext.dd.DDProxy",Ext.dd.DD,{statics:{dragElId:"ygddfdiv"},constructor:function(f,e,g){if(f){this.init(f,e,g);this.initFrame()}},resizeFrame:true,centerFrame:false,createFrame:function(){var k=this,f=document.body,g,j;if(!f||!f.firstChild){Ext.defer(function(){k.createFrame()},50);return}g=this.getDragEl();if(!g){g=document.createElement("div");g.id=this.dragElId;g.setAttribute("role","presentation");j=g.style;j.position="absolute";j.visibility="hidden";j.cursor="move";j.border="2px solid #aaa";j.zIndex=999;f.insertBefore(g,f.firstChild)}},initFrame:function(){this.createFrame()},applyConfig:function(){Ext.dd.DD.prototype.applyConfig.call(this);this.resizeFrame=(this.config.resizeFrame!==false);this.centerFrame=(this.config.centerFrame);this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(j,k){var l=this,g=l.getDragEl(),m=g.style;l._resizeProxy();if(l.centerFrame){l.setDelta(Math.round(parseInt(m.width,10)/2),Math.round(parseInt(m.height,10)/2))}l.setDragElPos(j,k);Ext.fly(g).show()},_resizeProxy:function(){if(this.resizeFrame){var c=this.getEl();Ext.fly(this.getDragEl()).setSize(c.offsetWidth,c.offsetHeight)}},b4MouseDown:function(j){var k=j.getXY(),e=k[0],g=k[1];this.autoOffset(e,g);this.setDragElPos(e,g)},b4StartDrag:function(d,e){this.showFrame(d,e)},b4EndDrag:function(c){Ext.fly(this.getDragEl()).hide()},endDrag:function(f){var g=this.getEl(),e=this.getDragEl();e.style.visibility="";this.beforeMove();g.style.visibility="hidden";Ext.dd.DDM.moveToEl(g,e);e.style.visibility="hidden";g.style.visibility="";this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return("DDProxy "+this.id)}},3,0,0,0,0,0,[Ext.dd,"DDProxy"],0));(Ext.cmd.derive("Ext.dd.StatusProxy",Ext.Component,{animRepair:false,childEls:["ghost"],renderTpl:['<div class="x-dd-drop-icon" role="presentation"></div><div id="{id}-ghost" data-ref="ghost" class="x-dd-drag-ghost" role="presentation"></div>'],repairCls:"x-dd-drag-repair",ariaRole:"presentation",skipLayout:true,alignOnScroll:false,constructor:function(d){var e=this;d=d||{};Ext.apply(e,{hideMode:"visibility",hidden:true,floating:true,id:e.id||Ext.id(),cls:"x-dd-drag-proxy "+this.dropNotAllowed,shadow:d.shadow||false,renderTo:Ext.getDetachedBody()});Ext.Component.prototype.constructor.apply(this,arguments);this.dropStatus=this.dropNotAllowed},dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",setStatus:function(c){c=c||this.dropNotAllowed;if(this.dropStatus!==c){this.el.replaceCls(this.dropStatus,c);this.dropStatus=c}},reset:function(g){var f=this,e="x-dd-drag-proxy ";f.el.replaceCls(e+f.dropAllowed,e+f.dropNotAllowed);f.dropStatus=f.dropNotAllowed;if(g){f.ghost.setHtml("")}},update:function(d){if(typeof d==="string"){this.ghost.setHtml(d)}else{this.ghost.setHtml("");d.style.margin="0";this.ghost.dom.appendChild(d)}var e=this.ghost.dom.firstChild;if(e){Ext.fly(e).setStyle("float","none")}},getGhost:function(){return this.ghost},hide:function(c){Ext.Component.prototype.hide.call(this);if(c){this.reset(true)}},stop:function(){if(this.anim&&this.anim.isAnimated&&this.anim.isAnimated()){this.anim.stop()}},sync:function(){this.el.syncUnderlays()},repair:function(j,g,f){var k=this;k.callback=g;k.scope=f;if(j&&k.animRepair!==false){k.el.addCls(k.repairCls);k.el.setUnderlaysVisible(false);k.anim=k.el.animate({duration:k.repairDuration||500,easing:"ease-out",to:{x:j[0],y:j[1]},stopAnimation:true,callback:k.afterRepair,scope:k})}else{k.afterRepair()}},afterRepair:function(){var c=this;c.hide(true);c.el.removeCls(c.repairCls);if(typeof c.callback==="function"){c.callback.call(c.scope||c)}delete c.callback;delete c.scope}},1,0,["component","box"],{component:true,box:true},0,0,[Ext.dd,"StatusProxy"],0));(Ext.cmd.derive("Ext.dd.DragSource",Ext.dd.DDProxy,{dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",animRepair:true,repairHighlightColor:"c3daf9",constructor:function(e,d){this.el=Ext.get(e);if(!this.dragData){this.dragData={}}Ext.apply(this,d);if(!this.proxy){this.proxy=new Ext.dd.StatusProxy({id:this.el.id+"-drag-status-proxy",animRepair:this.animRepair})}Ext.dd.DDProxy.prototype.constructor.call(this,this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:false,isTarget:false,scroll:this.scroll===true});this.dragging=false},getDragData:function(c){return this.dragData},onDragEnter:function(j,g){var k=Ext.dd.DragDropManager.getDDById(g),e;this.cachedTarget=k;if(this.beforeDragEnter(k,j,g)!==false){if(k.isNotifyTarget){e=k.notifyEnter(this,j,this.dragData);this.proxy.setStatus(e)}else{this.proxy.setStatus(this.dropAllowed)}if(this.afterDragEnter){this.afterDragEnter(k,j,g)}}},beforeDragEnter:function(g,e,f){return true},onDragOver:function(j,g){var k=this.cachedTarget||Ext.dd.DragDropManager.getDDById(g),e;if(this.beforeDragOver(k,j,g)!==false){if(k.isNotifyTarget){e=k.notifyOver(this,j,this.dragData);this.proxy.setStatus(e)}if(this.afterDragOver){this.afterDragOver(k,j,g)}}},beforeDragOver:function(g,e,f){return true},onDragOut:function(g,f){var e=this.cachedTarget||Ext.dd.DragDropManager.getDDById(f);if(this.beforeDragOut(e,g,f)!==false){if(e.isNotifyTarget){e.notifyOut(this,g,this.dragData)}this.proxy.reset();if(this.afterDragOut){this.afterDragOut(e,g,f)}}this.cachedTarget=null},beforeDragOut:function(g,e,f){return true},onDragDrop:function(g,f){var e=this.cachedTarget||Ext.dd.DragDropManager.getDDById(f);if(this.beforeDragDrop(e,g,f)!==false){if(e.isNotifyTarget){if(e.notifyDrop(this,g,this.dragData)!==false){this.onValidDrop(e,g,f)}else{this.onInvalidDrop(e,g,f)}}else{this.onValidDrop(e,g,f)}if(this.afterDragDrop){this.afterDragDrop(e,g,f)}}delete this.cachedTarget},beforeDragDrop:function(g,e,f){return true},onValidDrop:function(g,e,f){this.hideProxy();if(this.afterValidDrop){this.afterValidDrop(g,e,f)}},getRepairXY:function(e,d){return this.el.getXY()},onInvalidDrop:function(j,k,g){var e=this;if(!k){k=j;j=null;g=k.getTarget().id}if(e.beforeInvalidDrop(j,k,g)!==false){if(e.cachedTarget){if(e.cachedTarget.isNotifyTarget){e.cachedTarget.notifyOut(e,k,e.dragData)}e.cacheTarget=null}e.proxy.repair(e.getRepairXY(k,e.dragData),e.afterRepair,e);if(e.afterInvalidDrop){e.afterInvalidDrop(k,g)}}},afterRepair:function(){var c=this;if(Ext.enableFx){c.el.highlight(c.repairHighlightColor)}c.dragging=false},beforeInvalidDrop:function(g,e,f){return true},handleMouseDown:function(e){if(this.dragging){return}var d=this.getDragData(e);if(d&&this.onBeforeDrag(d,e)!==false){this.dragData=d;this.proxy.stop();Ext.dd.DDProxy.prototype.handleMouseDown.apply(this,arguments)}},onBeforeDrag:function(d,e){return true},onStartDrag:Ext.emptyFn,alignElWithMouse:function(){this.proxy.ensureAttachedToBody(true);return Ext.dd.DDProxy.prototype.alignElWithMouse.apply(this,arguments)},startDrag:function(d,e){this.proxy.reset();this.proxy.hidden=false;this.dragging=true;this.proxy.update("");this.onInitDrag(d,e);this.proxy.show()},onInitDrag:function(e,f){var g=this.el.dom.cloneNode(true);g.id=Ext.id();this.proxy.update(g);this.onStartDrag(e,f);return true},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide();this.proxy.reset(true);this.dragging=false},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(c){},endDrag:function(c){this.onEndDrag(this.dragData,c)},onEndDrag:function(d,e){},autoOffset:function(d,e){this.setDelta(-12,-20)},destroy:function(){Ext.destroy(this.proxy);Ext.dd.DDProxy.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.dd,"DragSource"],0));(Ext.cmd.derive("Ext.panel.Proxy",Ext.Base,{alternateClassName:"Ext.dd.PanelProxy",moveOnDrag:true,constructor:function(e,g){var f=this;f.panel=e;f.id=f.panel.id+"-ddproxy";Ext.apply(f,g)},insertProxy:true,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){var c=this;if(c.ghost){if(c.proxy){c.proxy.destroy();delete c.proxy}c.panel.unghost(null,c.moveOnDrag);delete c.ghost}},show:function(){var e=this,d;if(!e.ghost){d=e.panel.getSize();e.panel.el.setVisibilityMode(Ext.Element.DISPLAY);e.ghost=e.panel.ghost();if(e.insertProxy){e.proxy=e.panel.el.insertSibling({role:"presentation",cls:"x-panel-dd-spacer"});e.proxy.setSize(d)}}},repair:function(g,f,e){this.hide();Ext.callback(f,e||this)},moveProxy:function(d,e){if(this.proxy){d.insertBefore(this.proxy.dom,e)}}},1,0,0,0,0,0,[Ext.panel,"Proxy",Ext.dd,"PanelProxy"],0));(Ext.cmd.derive("Ext.panel.DD",Ext.dd.DragSource,{constructor:function(g,e){var f=this;f.panel=g;f.dragData={panel:g};f.panelProxy=new Ext.panel.Proxy(g,e);f.proxy=f.panelProxy.proxy;Ext.dd.DragSource.prototype.constructor.call(this,g.el,e);f.setupEl(g)},setupEl:function(f){var j=this,g=f.header,k=f.body;if(g){j.setHandleElId(g.id);k=g.el}if(k){k.setStyle("cursor","move");j.scroll=false}else{f.on("boxready",j.setupEl,j,{single:true})}},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(d,e){this.panelProxy.show()},b4MouseDown:function(j){var k=j.getXY(),e=k[0],g=k[1];this.autoOffset(e,g)},onInitDrag:function(d,e){this.onStartDrag(d,e);return true},createFrame:Ext.emptyFn,getDragEl:function(e){var d=this.panelProxy.ghost;if(d){return d.el.dom}},endDrag:function(c){this.panelProxy.hide();this.panel.saveState()},autoOffset:function(d,e){d-=this.startPageX;e-=this.startPageY;this.setDelta(d,e)},onInvalidDrop:function(j,k,g){var e=this;if(e.beforeInvalidDrop(j,k,g)!==false){if(e.cachedTarget){if(e.cachedTarget.isNotifyTarget){e.cachedTarget.notifyOut(e,k,e.dragData)}e.cacheTarget=null}if(e.afterInvalidDrop){e.afterInvalidDrop(k,g)}}}},1,0,0,0,0,0,[Ext.panel,"DD"],0));(Ext.cmd.derive("Ext.layout.component.Dock",Ext.layout.component.Component,{alternateClassName:"Ext.layout.component.AbstractDock",type:"dock",horzAxisProps:{name:"horz",oppositeName:"vert",dockBegin:"left",dockEnd:"right",horizontal:true,marginBegin:"margin-left",maxSize:"maxWidth",minSize:"minWidth",pos:"x",setSize:"setWidth",shrinkWrapDock:"shrinkWrapDockWidth",size:"width",sizeModel:"widthModel"},vertAxisProps:{name:"vert",oppositeName:"horz",dockBegin:"top",dockEnd:"bottom",horizontal:false,marginBegin:"margin-top",maxSize:"maxHeight",minSize:"minHeight",pos:"y",setSize:"setHeight",shrinkWrapDock:"shrinkWrapDockHeight",size:"height",sizeModel:"heightModel"},initializedBorders:-1,horizontalCollapsePolicy:{width:true,x:true},verticalCollapsePolicy:{height:true,y:true},finishRender:function(){var g=this,f,e;Ext.layout.component.Component.prototype.finishRender.call(this);f=g.getRenderTarget();e=g.getDockedItems();g.finishRenderItems(f,e)},isItemBoxParent:function(c){return true},isItemShrinkWrap:function(c){return true},noBorderClasses:["x-docked-noborder-top","x-docked-noborder-right","x-docked-noborder-bottom","x-docked-noborder-left"],noBorderClassesSides:{top:"x-docked-noborder-top",right:"x-docked-noborder-right",bottom:"x-docked-noborder-bottom",left:"x-docked-noborder-left"},borderWidthProps:{top:"border-top-width",right:"border-right-width",bottom:"border-bottom-width",left:"border-left-width"},_itemCls:"x-docked",handleItemBorders:function(){var x=this,I=x.owner,y,s,C=x.lastDockedItems,D=x.borders,H=I.dockedItems.generation,G=x.noBorderClassesSides,w=x.borderWidthProps,E,A,u,v,B,F=x.collapsed;if(x.initializedBorders===H||(I.border&&!I.manageBodyBorders)||(I.collapsed&&I.collapseMode==="mini")){return}x.initializedBorders=H;x.collapsed=false;x.lastDockedItems=s=x.getLayoutItems();x.collapsed=F;y={top:[],right:[],bottom:[],left:[]};for(E=0,A=s.length;E<A;E++){u=s[E];v=u.dock;if(u.ignoreBorderManagement){continue}if(!y[v].satisfied){y[v].push(u);y[v].satisfied=true}if(!y.top.satisfied&&v!=="bottom"){y.top.push(u)}if(!y.right.satisfied&&v!=="left"){y.right.push(u)}if(!y.bottom.satisfied&&v!=="top"){y.bottom.push(u)}if(!y.left.satisfied&&v!=="right"){y.left.push(u)}}if(C){for(E=0,A=C.length;E<A;E++){u=C[E];if(!u.destroyed&&!u.ignoreBorderManagement&&!I.manageBodyBorders){u.removeCls(x.noBorderClasses)}}}if(D){for(B in D){if(I.manageBodyBorders&&D[B].satisfied){I.setBodyStyle(w[B],"")}}}for(B in y){A=y[B].length;if(!I.manageBodyBorders){for(E=0;E<A;E++){y[B][E].addCls(G[B])}if((!y[B].satisfied&&!I.bodyBorder)||I.bodyBorder===false){I.addBodyCls(G[B])}else{I.removeBodyCls(G[B])}}else{if(y[B].satisfied){I.setBodyStyle(w[B],"1px")}}}x.borders=y},beforeLayoutCycle:function(m){var p=this,q=p.owner,l=p.sizeModels.shrinkWrap,n=q.shrinkWrapDock,o,k;if(q.collapsed){if(q.collapsedVertical()){k=true;m.measureDimensions=1}else{o=true;m.measureDimensions=2}}m.collapsedVert=k;m.collapsedHorz=o;if(k){m.heightModel=l}else{if(o){m.widthModel=l}}n=n===true?3:(n||0);m.shrinkWrapDockHeight=(n&1)&&m.heightModel.shrinkWrap;m.shrinkWrapDockWidth=(n&2)&&m.widthModel.shrinkWrap},beginLayout:function(D){var w=this,E=w.owner,r=w.getLayoutItems(),F=D.context,B=r.length,x=w.lastCollapsedState,v,y,s,G,C,A,u;Ext.layout.component.Component.prototype.beginLayout.apply(this,arguments);A=E.getCollapsed();if(A!==x&&x!==undefined){if(w.owner.collapsed){D.isCollapsingOrExpanding=1;E.addClsWithUI(E.collapsedCls)}else{D.isCollapsingOrExpanding=2;E.removeClsWithUI(E.collapsedCls);D.lastCollapsedState=w.lastCollapsedState}}w.lastCollapsedState=A;D.dockedItems=v=[];for(y=0;y<B;y++){s=r[y];if(s.rendered){u=s.dock;G=F.getCmp(s);G.dockedAt={x:0,y:0};G.offsets=C=Ext.Element.parseBox(s.offsets||0);G.horizontal=u==="top"||u==="bottom";C.width=C.left+C.right;C.height=C.top+C.bottom;v.push(G)}}D.bodyContext=D.getEl("body")},beginLayoutCycle:function(w){var s=this,n=w.dockedItems,u=n.length,x=s.owner,r=x.frameBody,o=s.lastHeightModel,v,p,q;Ext.layout.component.Component.prototype.beginLayoutCycle.apply(this,arguments);if(s.owner.manageHeight){if(s.lastBodyDisplay){x.body.dom.style.display=s.lastBodyDisplay=""}}else{if(s.lastBodyDisplay!=="inline-block"){x.body.dom.style.display=s.lastBodyDisplay="inline-block"}if(o&&o.shrinkWrap&&!w.heightModel.shrinkWrap){x.body.dom.style.marginBottom=""}}if(w.widthModel.auto){if(w.widthModel.shrinkWrap){x.el.setWidth(null)}x.body.setWidth(null);if(r){r.setWidth(null)}}if(w.heightModel.auto){x.body.setHeight(null);if(r){r.setHeight(null)}}if(w.collapsedVert){w.setContentHeight(0)}else{if(w.collapsedHorz){w.setContentWidth(0)}}for(v=0;v<u;v++){p=n[v].target;q=p.dock;if(q==="right"){p.setLocalX(0)}else{if(q!=="left"){continue}}}},calculate:function(y){var q=this,A=q.measureAutoDimensions(y,y.measureDimensions),B=y.state,r=B.horzDone,x=B.vertDone,w=y.bodyContext,s,C,u,v,p;y.borderInfo||y.getBorderInfo();y.paddingInfo||y.getPaddingInfo();y.frameInfo||y.getFrameInfo();w.borderInfo||w.getBorderInfo();w.paddingInfo||w.getPaddingInfo();if(!y.frameBorder){if(!(s=y.framing)){y.frameBorder=y.borderInfo;y.framePadding=y.paddingInfo}else{y.frameBorder=s.border;y.framePadding=s.padding}}C=!r&&q.createAxis(y,A.contentWidth,y.widthModel,q.horzAxisProps,y.collapsedHorz);u=!x&&q.createAxis(y,A.contentHeight,y.heightModel,q.vertAxisProps,y.collapsedVert);for(v=0,p=y.dockedItems.length;p--;++v){if(C){q.dockChild(y,C,p,v)}if(u){q.dockChild(y,u,p,v)}}if(C&&q.finishAxis(y,C)){B.horzDone=r=C}if(u&&q.finishAxis(y,u)){B.vertDone=x=u}if(r&&x&&q.finishConstraints(y,r,x)){q.finishPositions(y,r,x)}else{q.done=false}},createAxis:function(E,K,O,H,P){var y=this,A=0,R=y.owner,N=R[H.maxSize],Q=R[H.minSize]||0,G=H.dockBegin,L=H.dockEnd,C=H.pos,I=H.size,J=N!=null,F=O.shrinkWrap,S,B,D,M;if(F){if(P){M=0}else{S=E.bodyContext;M=K+S.borderInfo[I]}}else{B=E.frameBorder;D=E.framePadding;A=B[G]+D[G];M=E.getProp(I)-(B[L]+D[L])}return{shrinkWrap:O.shrinkWrap,sizeModel:O,initialBegin:A,begin:A,end:M,collapsed:P,horizontal:H.horizontal,ignoreFrameBegin:null,ignoreFrameEnd:null,initialSize:M-A,maxChildSize:0,hasMinMaxConstraints:(Q||J)&&O.shrinkWrap,minSize:Q,maxSize:J?N:1000000000,bodyPosProp:y.owner.manageHeight?C:H.marginBegin,dockBegin:G,dockEnd:L,posProp:C,sizeProp:I,setSize:H.setSize,shrinkWrapDock:E[H.shrinkWrapDock],sizeModelName:H.sizeModel,dockedPixelsEnd:0}},dockChild:function(y,x,o,v){var u=this,A=y.dockedItems[x.shrinkWrap?o:v],r=A.target,q=r.dock,w=x.sizeProp,s,p;if(r.ignoreParentFrame&&y.isCollapsingOrExpanding){A.clearMarginCache()}if(!A.marginInfo){A.getMarginInfo()}if(q===x.dockBegin){if(x.shrinkWrap){s=u.dockOutwardBegin(y,A,r,x)}else{s=u.dockInwardBegin(y,A,r,x)}}else{if(q===x.dockEnd){if(x.shrinkWrap){s=u.dockOutwardEnd(y,A,r,x)}else{s=u.dockInwardEnd(y,A,r,x)}}else{if(x.shrinkWrapDock){p=A.getProp(w)+A.marginInfo[w];x.maxChildSize=Math.max(x.maxChildSize,p);s=0}else{s=u.dockStretch(y,A,r,x)}}}A.dockedAt[x.posProp]=s},dockInwardBegin:function(w,x,o,u){var r=u.begin,s=u.sizeProp,v=o.ignoreParentFrame,q,n,p;if(v){u.ignoreFrameBegin=x;p=o.dock;q=w.frameBorder[p];r-=q+w.framePadding[p]}if(!o.overlay){n=x.getProp(s)+x.marginInfo[s];u.begin+=n;if(v){u.begin-=q}}return r},dockInwardEnd:function(p,q,r,s){var m=s.sizeProp,l=q.getProp(m)+q.marginInfo[m],n=s.end-l,o;if(!r.overlay){s.end=n}if(r.ignoreParentFrame){s.ignoreFrameEnd=q;o=p.frameBorder[r.dock];n+=o+p.framePadding[r.dock];s.end+=o}return n},dockOutwardBegin:function(n,o,p,q){var l=q.begin,m=q.sizeProp,k;if(q.collapsed){q.ignoreFrameBegin=q.ignoreFrameEnd=o}else{if(p.ignoreParentFrame){q.ignoreFrameBegin=o}}if(!p.overlay){k=o.getProp(m)+o.marginInfo[m];l-=k;q.begin=l}return l},dockOutwardEnd:function(n,o,p,q){var l=q.end,m=q.sizeProp,k;k=o.getProp(m)+o.marginInfo[m];if(q.collapsed){q.ignoreFrameBegin=q.ignoreFrameEnd=o}else{if(p.ignoreParentFrame){q.ignoreFrameEnd=o}}if(!p.overlay){q.end=l+k;q.dockedPixelsEnd+=k}return l},dockStretch:function(G,H,w,F){var v=w.dock,A=F.sizeProp,I=v==="top"||v==="bottom",B=G.frameBorder,E=H.offsets,x=G.framePadding,C=I?"right":"bottom",s=I?"left":"top",y=F.begin+E[s],D,u;if(w.stretch!==false){u=F.end-y-E[C];if(w.ignoreParentFrame){y-=x[s]+B[s];u+=x[A]+B[A]}D=H.marginInfo;u-=D[A];H[F.setSize](u)}return y},finishAxis:function(N,U){if(isNaN(U.maxChildSize)){return false}var V=U.begin,I=U.end-V,S=U.collapsed,L=U.setSize,P=U.dockBegin,D=U.dockEnd,K=N.framePadding,G=N.frameBorder,T=G[P],F=N.framing,M=F&&F[P],X=S?0:K[P],Q=U.sizeProp,E=U.ignoreFrameBegin,H=U.ignoreFrameEnd,Y=N.bodyContext,O=Math.max(T+X-M,0),W,J,C,R;if(U.shrinkWrap){J=U.initialSize;if(F){C=-V+T+X;W=C-M-O}else{W=-V;C=W+X}if(!S){I+=K[Q]}if(E){C-=T;W-=T;E.dockedAt[U.posProp]-=X}else{I+=T}if(S){}else{if(H){H.dockedAt[U.posProp]+=K[D]}else{I+=G[D]}}U.size=I;if(!U.horizontal&&!this.owner.manageHeight){R=false}}else{if(F){C=0;W=V-M-O}else{C=-T;W=V-X-T}J=I}U.delta=C;Y[L](J,R);Y.setProp(U.bodyPosProp,W);return !isNaN(I)},beforeInvalidateShrinkWrapDock:function(f,g){var e=g.axis.sizeModelName;if(!f[e].constrainedMin){f[e]=Ext.layout.SizeModel.calculated}},afterInvalidateShrinkWrapDock:function(k,g){var m=g.axis,l=g.layout,j;if(k[m.sizeModelName].calculated){j=l.dockStretch(g.ownerContext,k,k.target,m);k.setProp(m.posProp,m.delta+j)}},finishConstraints:function(F,M,A){var w=this,x=w.sizeModels,B=M.shrinkWrap,y=A.shrinkWrap,O=w.owner,H,D,C,J,I,E,N,L,K,G;if(B){E=M.size;N=M.collapsed?0:M.minSize;L=M.maxSize;K=M.maxChildSize;G=Math.max(E,K);if(G>L){I=x.constrainedMax;C=L}else{if(G<N){I=x.constrainedMin;C=N}else{if(E<K){I=x.constrainedDock;O.dockConstrainedWidth=C=K}else{C=E}}}}if(y){E=A.size;N=A.collapsed?0:A.minSize;L=A.maxSize;K=A.maxChildSize;G=Math.max(E,K+E-A.initialSize);if(G>L){J=x.constrainedMax;D=L}else{if(G<N){J=x.constrainedMin;D=N}else{if(E<K){J=x.constrainedDock;O.dockConstrainedHeight=D=K}else{if(!F.collapsedVert&&!O.manageHeight){H=false;F.bodyContext.setProp("margin-bottom",A.dockedPixelsEnd)}D=E}}}}if(I||J){if(I&&J&&I.constrainedMax&&J.constrainedByMin){F.invalidate({widthModel:I});return false}if(!F.widthModel.calculatedFromShrinkWrap&&!F.heightModel.calculatedFromShrinkWrap){F.invalidate({widthModel:I,heightModel:J});return false}}else{w.invalidateAxes(F,M,A)}if(B){F.setWidth(C);if(I){F.widthModel=I}}if(y){F.setHeight(D,H);if(J){F.heightModel=J}}return true},invalidateAxes:function(F,K,B){var w=this.beforeInvalidateShrinkWrapDock,J=this.afterInvalidateShrinkWrapDock,G=K.end-K.begin,L=B.initialSize,I=K.shrinkWrapDock&&K.maxChildSize<=G,A=B.shrinkWrapDock&&B.maxChildSize<=L,v,y,C,H,M,x,E,D;if(I||A){if(A){B.begin=B.initialBegin;B.end=B.begin+B.initialSize}v=F.dockedItems;for(C=0,y=v.length;C<y;++C){H=v[C];x=H.horizontal;E=null;if(I&&x){D=K.sizeProp;M=G;E=K}else{if(A&&!x){D=B.sizeProp;M=L;E=B}}if(E){M-=H.getMarginInfo()[D];if(M!==H.props[D]){H.invalidate({before:w,after:J,axis:E,ownerContext:F,layout:this})}}}}},finishPositions:function(r,v,o){var m=r.dockedItems,s=m.length,p=v.delta,q=o.delta,n,u;for(n=0;n<s;++n){u=m[n];u.setProp("x",p+u.dockedAt.x);u.setProp("y",q+u.dockedAt.y)}},finishedLayout:function(g){var e=this,f=g.target;Ext.layout.component.Component.prototype.finishedLayout.apply(this,arguments);if(!g.animatePolicy){if(g.isCollapsingOrExpanding===1){f.afterCollapse(false)}else{if(g.isCollapsingOrExpanding===2){f.afterExpand(false)}}}},getAnimatePolicy:function(j){var k=this,f,g;if(j.isCollapsingOrExpanding===1){f=k.lastCollapsedState}else{if(j.isCollapsingOrExpanding===2){f=j.lastCollapsedState}}if(f==="left"||f==="right"){g=k.horizontalCollapsePolicy}else{if(f==="top"||f==="bottom"){g=k.verticalCollapsePolicy}}return g},getDockedItems:function(A,p){var u=this,x=(A==="visual"),s=x?Ext.ComponentQuery.query("[rendered]",u.owner.dockedItems.items):u.owner.dockedItems.items,v=s&&s.length&&A!==false,B,q,r,w,y,C;if(p==null){r=v&&!x?s.slice():s}else{r=[];for(w=0,C=s.length;w<C;++w){q=s[w].dock;y=(q==="top"||q==="left");if(p?y:!y){r.push(s[w])}}v=v&&r.length}if(v){B=(A=A||"render")==="render";Ext.Array.sort(r,function(d,e){var c,b;if(B&&((c=u.owner.dockOrder[d.dock])!==(b=u.owner.dockOrder[e.dock]))){if(!(c+b)){return c-b}}c=u.getItemWeight(d,A);b=u.getItemWeight(e,A);if((c!==undefined)&&(b!==undefined)){return c-b}return 0})}return r||[]},getItemWeight:function(g,e){var f=g.weight||this.owner.defaultDockWeights[g.dock];return f[e]||f},getLayoutItems:function(){var l=this,o,k,m,n,j;if(l.owner.collapsed){j=l.owner.getCollapsedDockedItems()}else{o=l.getDockedItems("visual");k=o.length;j=[];for(n=0;n<k;n++){m=o[n];if(!m.hidden){j.push(m)}}}return j},measureContentWidth:function(d){var e=d.bodyContext;return e.el.getWidth()-e.getBorderInfo().width},measureContentHeight:function(d){var e=d.bodyContext;return e.el.getHeight()-e.getBorderInfo().height},redoLayout:function(f){var g=this,e=g.owner;if(f.isCollapsingOrExpanding===1){if(e.reExpander){e.reExpander.el.show()}e.addClsWithUI(e.collapsedCls);f.redo(true)}else{if(f.isCollapsingOrExpanding===2){e.removeClsWithUI(e.collapsedCls);f.bodyContext.redo()}}},getRenderTarget:function(){return this.owner.bodyWrap},renderChildren:function(){var g=this,e=g.getDockedItems(),f=g.getRenderTarget();g.handleItemBorders();g.renderItems(e,f)},renderItems:function(Q,K){var M=this,aa=M.owner,W={},E=Q.length,R=aa.body.dom,V=aa.bodyWrap.dom,Z=!!aa.frameSize,F=aa.bodyContainer,X,I,Y,N,G,S,O,T,J,U,L,H,D,P;if(E){for(H=0;H<E;H++){N=Q[H];W[N.id]=N;if(N.dockToEl){Y=true}}X=M.getRenderTarget().dom.childNodes;I=X.length;O=0;for(H=0;H<I;++H){G=X[H];S=G===R;if(S){T=H;break}if(W[G.id]){++O}}T-=O;if(Y){S=false;O=0;X=aa.el.dom.childNodes;I=X.length;for(H=0;H<I;H++){G=X[H];if(Z){S=G===V||G===F;if(!S&&Ext.fly(G).contains(V)){S=true;aa.bodyContainer=G}}else{S=G===V}if(S){U=H;break}if(W[G.id]){++O}}U-=O}J=L=0;for(H=0;H<E;H++){N=Q[H];if(N.dockToEl){P=aa.el;D=U+L++;if(N.dock==="right"||N.dock==="bottom"){D++;if(Z){D++}}else{if(Z&&D>0){D--}}}else{P=K;D=T+J++;if(N.dock==="right"||N.dock==="bottom"){D++}}if(!N.rendered){M.renderItem(N,P,D)}else{if(!M.isValidParent(N,P,D)){M.moveItem(N,P,D)}}}}},undoLayout:function(f){var g=this,e=g.owner;if(f.isCollapsingOrExpanding===1){if(e.reExpander){e.reExpander.el.hide()}e.removeClsWithUI(e.collapsedCls);f.undo(true)}else{if(f.isCollapsingOrExpanding===2){e.addClsWithUI(e.collapsedCls);f.bodyContext.undo()}}},sizePolicy:{nostretch:{setsWidth:0,setsHeight:0},horz:{shrinkWrap:{setsWidth:1,setsHeight:0,readsWidth:1},stretch:{setsWidth:1,setsHeight:0}},vert:{shrinkWrap:{setsWidth:0,setsHeight:1,readsHeight:1},stretch:{setsWidth:0,setsHeight:1}},stretchV:{setsWidth:0,setsHeight:1},autoStretchH:{readsWidth:1,setsWidth:1,setsHeight:0},autoStretchV:{readsHeight:1,setsWidth:0,setsHeight:1}},getItemSizePolicy:function(o,m){var p=this,l=p.sizePolicy,n=p.owner.shrinkWrapDock,q,k;if(o.stretch===false){return l.nostretch}q=o.dock;k=(q==="left"||q==="right");n=n===true?3:(n||0);if(k){l=l.vert;n=n&1}else{l=l.horz;n=n&2}if(n){if(!m){m=p.owner.getSizeModel()}if(m[k?"height":"width"].shrinkWrap){return l.shrinkWrap}}return l.stretch},configureItem:function(d,e){Ext.layout.component.Component.prototype.configureItem.apply(this,arguments);d.addCls(this._itemCls);if(!d.ignoreBorderManagement){d.addClsWithUI(this.getDockCls(d.dock))}},getDockCls:function(c){return"docked-"+c},afterRemove:function(d){var e;Ext.layout.component.Component.prototype.afterRemove.apply(this,arguments);d.removeCls(this._itemCls);if(!d.ignoreBorderManagement){d.removeClsWithUI(this.getDockCls(d.dock))}e=d.el.dom;if(!d.destroying&&e){e.parentNode.removeChild(e)}this.childrenChanged=true},borderCollapseMap:{},getBorderCollapseTable:function(){var m=this,k=m.borderCollapseMap,j=m.owner,o=j.baseCls,l=j.ui,n;k=k[o]||(k[o]={});n=k[l];if(!n){o+="-"+l+"-outer-border-";k[l]=n=[0,o+"l",o+"b",o+"bl",o+"r",o+"rl",o+"rb",o+"rbl",o+"t",o+"tl",o+"tb",o+"tbl",o+"tr",o+"trl",o+"trb",o+"trbl"]}return n}},0,0,0,0,["layout.dock"],0,[Ext.layout.component,"Dock",Ext.layout.component,"AbstractDock"],0));Ext.define("Ext.theme.neptune.layout.component.Dock",{override:"Ext.layout.component.Dock",noBorderClassTable:[0,"x-noborder-l","x-noborder-b","x-noborder-bl","x-noborder-r","x-noborder-rl","x-noborder-rb","x-noborder-rbl","x-noborder-t","x-noborder-tl","x-noborder-tb","x-noborder-tbl","x-noborder-tr","x-noborder-trl","x-noborder-trb","x-noborder-trbl"],edgeMasks:{top:8,right:4,bottom:2,left:1},handleItemBorders:function(){var M=this,Y=0,L=8,J=4,T=2,Z=1,ac=M.owner,H=ac.bodyBorder,R=ac.border,V=M.collapsed,N=M.edgeMasks,U=M.noBorderClassTable,P=ac.dockedItems.generation,Q,aa,b,W,I,S,F,O,X,K,G,ab;if(M.initializedBorders===P){return}G=[];ab=[];aa=M.getBorderCollapseTable();U=M.getBorderClassTable?M.getBorderClassTable():U;M.initializedBorders=P;M.collapsed=false;b=M.getDockedItems("visual");M.collapsed=V;for(I=0,S=b.length;I<S;I++){F=b[I];if(F.ignoreBorderManagement){continue}O=F.dock;K=W=0;G.length=0;ab.length=0;if(O!=="bottom"){if(Y&L){Q=F.border}else{Q=R;if(Q!==false){W+=L}}if(Q===false){K+=L}}if(O!=="left"){if(Y&J){Q=F.border}else{Q=R;if(Q!==false){W+=J}}if(Q===false){K+=J}}if(O!=="top"){if(Y&T){Q=F.border}else{Q=R;if(Q!==false){W+=T}}if(Q===false){K+=T}}if(O!=="right"){if(Y&Z){Q=F.border}else{Q=R;if(Q!==false){W+=Z}}if(Q===false){K+=Z}}if((X=F.lastBorderMask)!==K){F.lastBorderMask=K;if(X){ab[0]=U[X]}if(K){G[0]=U[K]}}if((X=F.lastBorderCollapse)!==W){F.lastBorderCollapse=W;if(X){ab[ab.length]=aa[X]}if(W){G[G.length]=aa[W]}}if(ab.length){F.removeCls(ab)}if(G.length){F.addCls(G)}Y|=N[O]}K=W=0;G.length=0;ab.length=0;if(Y&L){Q=H}else{Q=R;if(Q!==false){W+=L}}if(Q===false){K+=L}if(Y&J){Q=H}else{Q=R;if(Q!==false){W+=J}}if(Q===false){K+=J}if(Y&T){Q=H}else{Q=R;if(Q!==false){W+=T}}if(Q===false){K+=T}if(Y&Z){Q=H}else{Q=R;if(Q!==false){W+=Z}}if(Q===false){K+=Z}if((X=M.lastBodyBorderMask)!==K){M.lastBodyBorderMask=K;if(X){ab[0]=U[X]}if(K){G[0]=U[K]}}if((X=M.lastBodyBorderCollapse)!==W){M.lastBodyBorderCollapse=W;if(X){ab[ab.length]=aa[X]}if(W){G[G.length]=aa[W]}}if(ab.length){ac.removeBodyCls(ab)}if(G.length){ac.addBodyCls(G)}},onRemove:function(g){var j=this,k=g.lastBorderMask,f=g.lastBorderCollapse;if(!g.destroyed&&!g.ignoreBorderManagement){if(k){g.lastBorderMask=0;g.removeCls(j.noBorderClassTable[k])}if(f){g.lastBorderCollapse=0;g.removeCls(j.getBorderCollapseTable()[f])}}(arguments.callee.$previous||Ext.layout.component.Component.prototype.onRemove).call(this,g)}});(Ext.cmd.derive("Ext.util.Memento",Ext.Base,(function(){function k(c,d,b,e){c[e?e+b:b]=d[b]}function l(c,d,b){delete c[b]}function j(b,c,o,d){var f=d?d+o:o,e=b[f];if(e||b.hasOwnProperty(f)){g(c,o,e)}}function g(c,b,d){if(Ext.isDefined(d)){c[b]=d}else{delete c[b]}}function m(e,p,q,d,c){if(p){if(Ext.isArray(d)){var b,f=d.length;for(b=0;b<f;b++){e(p,q,d[b],c)}}else{e(p,q,d,c)}}}return{data:null,target:null,constructor:function(b,c){this.data={};if(b){this.target=b;if(c){this.capture(c)}}},capture:function(e,b,c){var d=this;m(k,d.data||(d.data={}),b||d.target,e,c)},remove:function(b){m(l,this.data,null,b)},restore:function(d,e,b,c){m(j,this.data,b||this.target,d,c);if(e!==false){this.remove(d)}},restoreAll:function(f,b){var d=this,e=b||this.target,c=d.data,o;f=f!==false;for(o in c){if(c.hasOwnProperty(o)){g(e,o,c[o]);if(f){delete c[o]}}}}}}()),1,0,0,0,0,0,[Ext.util,"Memento"],0));(Ext.cmd.derive("Ext.container.DockingContainer",Ext.Base,{isDockingContainer:true,defaultDockWeights:{top:{render:1,visual:1},left:{render:3,visual:5},right:{render:5,visual:7},bottom:{render:7,visual:3}},dockOrder:{top:-1,left:-1,right:1,bottom:1},horizontalDocks:0,addDocked:function(u,q){var r=this,y=r.rendered,x=0,p=r.dockedItems,w=p.getCount(),v,s,o,A;u=r.prepareItems(u);A=u.length;if(y){Ext.suspendLayouts()}if(q===undefined){q=w}else{q=Math.min(q,w)}for(;x<A;x++){o=u[x];o.dock=o.dock||"top";if(o.dock==="left"||o.dock==="right"){r.horizontalDocks++}v=q+x;p.insert(v,o);s=!!o.instancedCmp;delete o.instancedCmp;o.onAdded(r,v,s);delete o.$initParent;if(r.onDockedAdd!==Ext.emptyFn){r.onDockedAdd(o)}if(r.hasListeners.dockedadd){r.fireEvent("dockedadd",r,o,v)}}if(r.rendered){r.updateLayout();Ext.resumeLayouts(true)}return u},destroyDockedItems:function(){var c=this.dockedItems,e;if(c){while((e=c.first())){this.removeDocked(e,true)}}},doRenderDockedItems:function(q,n,m){var o=n.$comp,p=o.componentLayout,r=o.tabGuard&&o.lookupTpl("tabGuardTpl"),s,l;if(p.getDockedItems){s=p.getDockedItems("render",!m);l=s&&p.getItemsRenderTree(s);if(l){Ext.DomHelper.generateMarkup(l,q)}}},getDockedComponent:function(c){if(Ext.isObject(c)){c=c.getItemId()}return this.dockedItems.get(c)},getDockedItems:function(e,f){var g=this.getComponentLayout().getDockedItems("render",f);if(e&&g.length){g=Ext.ComponentQuery.query(e,g)}return g},getDockingRefItems:function(m,j){var g=m&&"*,* *",k=this.getDockedItems(g,true),l;k.push.apply(k,j);l=this.getDockedItems(g,false);k.push.apply(k,l);return k},initDockingItems:function(){var e=this,d=e.dockedItems;if(!d||!d.isMixedCollection){e.dockedItems=new Ext.util.ItemCollection();if(d){e.addDocked(d)}}},insertDocked:function(e,d){this.addDocked(d,e)},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,removeDocked:function(j,m){var k=this,l,g;m=m===true||(m!==false&&k.autoDestroy);if(!k.dockedItems.contains(j)){return j}if(j.dock==="left"||j.dock==="right"){k.horizontalDocks--}l=k.componentLayout;g=l&&k.rendered;if(g){l.onRemove(j)}k.dockedItems.remove(j);j.onRemoved(j.destroying||m);k.onDockedRemove(j);if(m){j.destroy()}else{if(g){l.afterRemove(j)}}if(k.hasListeners.dockedremove){k.fireEvent("dockedremove",k,j)}if(!k.destroying){k.updateLayout()}return j},moveDocked:function(f,e){var g=this;if(g.rendered){Ext.suspendLayouts()}g.removeDocked(f,false);f.dock=e;g.addDocked(f);if(g.rendered){if(f.frame){Ext.getDetachedBody().appendChild(f.el);f.updateFrame()}Ext.resumeLayouts(true)}},setupDockingRenderTpl:function(c){c.renderDockedItems=this.doRenderDockedItems}},0,0,0,0,0,0,[Ext.container,"DockingContainer"],0));(Ext.cmd.derive("Ext.panel.Panel",Ext.container.Container,{alternateClassName:"Ext.Panel",childEls:["bodyWrap","body"],renderTpl:['<tpl if="headingText">','<div id="{id}-headingEl" data-ref="headingEl" role="heading"',' class="',"x-",'hidden-clip" style="height:0">',"{headingText}","</div>","</tpl>","<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'before'); %}</tpl>",'<div id="{id}-bodyWrap" data-ref="bodyWrap" class="{baseCls}-bodyWrap"','<tpl if="bodyWrapAriaAttributes">','<tpl foreach="bodyWrapAriaAttributes"> {$}="{.}"</tpl>',"<tpl else>",' role="presentation"',"</tpl>",">","{% this.renderDockedItems(out,values,0); %}",'<div id="{id}-body" data-ref="body" class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>',' {baseCls}-body-{ui}<tpl if="uiCls">','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>','</tpl>{childElCls}"','<tpl if="bodyAriaAttributes">','<tpl foreach="bodyAriaAttributes"> {$}="{.}"</tpl>',"<tpl else>",' role="presentation"',"</tpl>",'<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>","{% this.renderDockedItems(out,values,1); %}","</div>","<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'after'); %}</tpl>"],headerPosition:"top",iconAlign:"left",titleAlign:"left",titleRotation:"default",beforeRenderConfig:{glyph:null,headerPosition:null,icon:null,iconAlign:null,iconCls:null,title:null,titleAlign:null,titleRotation:null},animCollapse:Ext.enableFx,border:true,closable:false,closeAction:"destroy",closeToolText:"Close panel",collapsed:false,collapsedCls:"collapsed",collapseFirst:true,collapsible:undefined,collapseToolText:"Collapse panel",expandToolText:"Expand panel",constrain:false,constrainHeader:false,dockedItems:null,tbar:null,bbar:null,fbar:null,lbar:null,rbar:null,buttons:null,floatable:true,frame:false,frameHeader:true,hideCollapseTool:false,manageHeight:true,maskElement:"el",minButtonWidth:75,preventHeader:false,shrinkWrapDock:false,titleCollapse:undefined,baseCls:"x-panel",bodyPosProps:{x:"x",y:"y"},componentLayout:"dock",contentPaddingProperty:"bodyPadding",emptyArray:[],isPanel:true,defaultBindProperty:"title",addBodyCls:function(g){var f=this,e=f.rendered?f.body:f.getProtoBody();e.addCls(g);return f},addTool:function(n){if(!Ext.isArray(n)){n=[n]}var o=this,l=o.header,k=n.length,m=o.tools,p,q;if(!l||!l.isHeader){l=null;if(!m){o.tools=m=[]}}for(p=0;p<k;p++){q=n[p];q.toolOwner=o;if(l){l.addTool(q)}else{m.push(q)}}o.updateHeader()},addTools:Ext.emptyFn,getClosable:function(){return this.closable},setClosable:function(g){var f=this,e=f.tab;g=!!g;if(f.closable!==g){f.closable=g;if(e){e.setClosable(g)}}},setCollapsible:function(j){var k=this,g=k.collapsible,f=k.collapseTool;k.collapsible=j;if(j&&!g){k.updateCollapseTool();f=k.collapseTool;if(f){f.show()}}else{if(!j&&g){if(f){f.hide()}}}},addUIClsToElement:function(g){var f=this,e=Ext.container.Container.prototype.addUIClsToElement.apply(this,arguments);f.addBodyCls(["x-"+g,f.baseCls+"-body-"+g,f.baseCls+"-body-"+f.ui+"-"+g]);return e},afterCollapse:function(g){var e=this,f=e.ownerLayout;e.isCollapsingOrExpanding=0;e.updateCollapseTool();if(g){e.removeCls("x-animating-size")}if(f){f.afterCollapse(e,g)}e.setHiddenDocked();e.fireEvent("collapse",e)},afterExpand:function(g){var e=this,f=e.ownerLayout;e.isCollapsingOrExpanding=0;e.updateCollapseTool();if(g){e.removeCls("x-animating-size")}if(f){f.afterExpand(e,g)}e.fireEvent("expand",e);e.fireHierarchyEvent("expand")},doDestroy:function(){var c=this;Ext.destroy(c.placeholder,c.ghostPanel,c.dd,c.accordionHeaderKeyNav,c.accordionBodyKeyNav,c.defaultButtonKeyNav);c.destroyDockedItems();Ext.container.Container.prototype.doDestroy.call(this)},beforeRender:function(){var e=this,d;e.getProtoBody();Ext.container.Container.prototype.beforeRender.call(this);e.initTools();if(!(e.preventHeader||(e.header===false))||e.isViewportBorderChild){e.updateHeader()}e.afterHeaderInit=true;if(e.collapsed){if(e.isPlaceHolderCollapse()){if(!e.hidden){e.setHiddenState(true);e.preventCollapseFire=true;e.placeholderCollapse();delete e.preventCollapseFire;d=e.collapsed;e.collapsed=false}}else{e.beginCollapse();e.addClsWithUI(e.collapsedCls)}}if(d){e.collapsed=d}},getMemento:function(d){var e=this;if(d&&typeof d==="string"){d+="Memento";return e[d]||(e[d]=new Ext.util.Memento(e))}},beginCollapse:function(){var n=this,p=n.lastBox,l=n.rendered,q=n.getMemento("collapse"),o=n.getSizeModel(),m=n.header,k;q.capture(["height","minHeight","width","minWidth"]);if(p){q.capture(n.restoreDimension(),p,"last.")}if(n.collapsedVertical()){if(o.width.shrinkWrap){n.width=l?n.getWidth():n.width||n.minWidth||100}delete n.height;n.minHeight=0}else{if(n.collapsedHorizontal()){if(o.height.shrinkWrap){n.height=l?n.getHeight():n.height||n.minHeight||100}delete n.width;n.minWidth=0}}if(n.ownerCt){n.ownerCt.getLayout().beginCollapse(n)}if(!n.isPlaceHolderCollapse()&&m!==false){if(m===(k=n.getReExpander())){m.collapseImmune=true;m.getInherited().collapseImmune=true;m.addClsWithUI(n.getHeaderCollapsedClasses(m));if(m.rendered){m.updateFrame()}}else{if(k.el){k.el.show();k.hidden=false}}}if(n.resizer){n.resizer.disable()}if(n.rendered){n.ariaEl.dom.setAttribute("aria-expanded",false);if(n.isAccordionPanel){n.body.dom.setAttribute("aria-hidden",true)}}},beginDrag:function(){if(this.floatingDescendants){this.floatingDescendants.hide()}},beginExpand:function(){var l=this,m=l.lastBox,n=l.getMemento("collapse"),j=l.restoreDimension(),k=l.header,o;if(n){n.restore(["minHeight","minWidth",j]);if(m){n.restore(j,true,m,"last.")}}if(l.ownerCt){l.ownerCt.getLayout().beginExpand(l)}if(!l.isPlaceHolderCollapse()&&k!==false){if(k===(o=l.getReExpander())){delete k.collapseImmune;delete k.getInherited().collapseImmune;k.removeClsWithUI(l.getHeaderCollapsedClasses(k));if(k.rendered){k.expanding=true;k.updateFrame();delete k.expanding}}else{o.hidden=true;o.el.hide()}}if(l.resizer){l.resizer.enable()}if(l.rendered){l.ariaEl.dom.setAttribute("aria-expanded",true);if(l.isAccordionPanel){l.body.dom.setAttribute("aria-hidden",false)}}},bridgeToolbars:function(){var k=this,l=[],m=k.minButtonWidth,o,p,q;function n(d,e,b,c){if(Ext.isArray(d)){d={xtype:"toolbar",items:d}}else{if(!d.isComponent){d=Ext.apply({},d)}}if(!d.xtype){d.xtype="toolbar"}d.dock=e;if(c){d.enableFocusableContainer=false}if(b){d.layout=Ext.applyIf(d.layout||{},{pack:{left:"start",center:"center"}[k.buttonAlign]||"end"})}return d}if(k.tbar){l.push(n(k.tbar,"top"));k.tbar=null}if(k.bbar){l.push(n(k.bbar,"bottom"));k.bbar=null}if(k.buttons){k.fbar=k.buttons;k.buttons=null;q=true}if(k.fbar){o=n(k.fbar,"bottom",true,q);o.ui="footer";if(m){p=o.defaults;o.defaults=function(b){var e=p||{},c=!b.xtype||b.isButton,d;if(!c){d=Ext.ClassManager.getByAlias("widget."+b.xtype);if(d){c=d.prototype.isButton}}if(c&&!("minWidth" in e)){e=Ext.apply({minWidth:m},e)}return e}}l.push(o);k.fbar=null}if(k.lbar){l.push(n(k.lbar,"left"));k.lbar=null}if(k.rbar){l.push(n(k.rbar,"right"));k.rbar=null}if(k.dockedItems){if(k.dockedItems.isMixedCollection){k.addDocked(l)}else{if(!Ext.isArray(k.dockedItems)){k.dockedItems=[k.dockedItems]}k.dockedItems=k.dockedItems.concat(l)}}else{k.dockedItems=l}},close:function(){if(this.fireEvent("beforeclose",this)!==false){this.doClose()}},collapse:function(n,k){var o=this,m=n||o.collapseDirection,q=o.ownerCt,p=o.ownerLayout,l=o.rendered;if(o.isCollapsingOrExpanding){return o}if(arguments.length<2){k=o.animCollapse}if(o.collapsed||o.fireEvent("beforecollapse",o,n,k)===false){return o}if(p&&p.onBeforeComponentCollapse){if(p.onBeforeComponentCollapse(o)===false){return o}}if(l&&q&&o.isPlaceHolderCollapse()){return o.placeholderCollapse(n,k)}o.collapsed=m;if(l){o.beginCollapse()}o.getInherited().collapsed=true;o.fireHierarchyEvent("collapse");if(l){o.doCollapseExpand(1,k)}return o},collapsedHorizontal:function(){var c=this.getCollapsed();return c==="left"||c==="right"},collapsedVertical:function(){var c=this.getCollapsed();return c==="top"||c==="bottom"},convertCollapseDir:function(c){return c.substr(0,1)},createGhost:function(f){var k=this,g=k.header,j=k.frame&&!k.alwaysFramed;return{xtype:"panel",hidden:false,header:g?{titleAlign:g.getTitleAlign()}:null,ui:j?k.ui.replace(/-framed$/,""):k.ui,id:k.id+"-ghost",renderTo:Ext.getBody(),resizable:false,draggable:false,closable:false,focusable:false,floating:true,alignOnScroll:false,shadow:false,frame:j,shim:k.shim,alwaysFramed:k.alwaysFramed,overlapHeader:k.overlapHeader,headerPosition:k.getHeaderPosition(),titleRotation:k.getTitleRotation(),baseCls:k.baseCls,getRefOwner:function(){return k.getRefOwner()},cls:k.baseCls+"-ghost "+(f||"")}},createReExpander:function(p,u){var r=this,n=p==="left",o=p==="right",q=n||o,v=r.ownerCt,s=r.header,m=Ext.apply({hideMode:"offsets",title:r.getTitle(),titleAlign:r.getTitleAlign(),vertical:q,textCls:r.headerTextCls,icon:r.getIcon(),iconCls:r.getIconCls(),iconAlign:r.getIconAlign(),glyph:r.getGlyph(),baseCls:r.self.prototype.baseCls+"-header",ui:r.ui,frame:r.frame&&r.frameHeader,ignoreParentFrame:r.frame||r.overlapHeader,ignoreBorderManagement:r.frame||r.ignoreHeaderBorderManagement,indicateDrag:r.draggable,collapseImmune:true,ariaRole:r.ariaRole,preventRefocus:true,ownerCt:(v&&r.collapseMode==="placeholder")?v:r,ownerLayout:r.componentLayout,forceOrientation:true,margin:r.margin,defaultFocus:"tool[isDefaultExpandTool]"},u);if(r.collapseMode==="mini"){if(q){m.width=1}else{m.height=1}}if(s){Ext.apply(m,{enableFocusableContainer:s.enableFocusableContainer,activeChildTabIndex:s.activeChildTabIndex,inactiveChildTabIndex:s.inactiveChildTabIndex,allowFocusingDisabledChildren:s.allowFocusingDisabledChildren})}if(!r.hideCollapseTool){if(n||(o&&r.isPlaceHolderCollapse())){m.titlePosition=1}m.tools=[{xtype:"tool",type:"expand-"+r.getOppositeDirection(p),isDefaultExpandTool:true,uiCls:["top"],handler:r.toggleCollapse,scope:r,tooltip:r.expandToolText}]}m=new Ext.panel.Header(m);m.addClsWithUI(r.getHeaderCollapsedClasses(m));m.expandTool=m.down("tool[isDefaultExpandTool=true]");return m},doClose:function(){this.fireEvent("close",this);this[this.closeAction]()},doCollapseExpand:function(g,m){var k=this,l=k.animCollapse,j=k.ownerLayout;k.animCollapse=m;k.isCollapsingOrExpanding=g;if(m){k.addCls("x-animating-size")}if(j&&!m){j.onContentChange(k)}else{k.updateLayout({isRoot:true})}k.animCollapse=l;return k},endDrag:function(){if(this.floatingDescendants){this.floatingDescendants.show()}},expand:function(f){var j=this,k=j.ownerLayout,g=j.rendered;if(j.isCollapsingOrExpanding){return j}if(!arguments.length){f=j.animCollapse}if(!j.collapsed&&!j.floatedFromCollapse){return j}if(j.fireEvent("beforeexpand",j,f)===false){return j}if(k&&k.onBeforeComponentExpand){if(k.onBeforeComponentExpand(j)===false){return j}}delete j.getInherited().collapsed;if(g&&j.isPlaceHolderCollapse()){return j.placeholderExpand(f)}j.restoreHiddenDocked();if(g){j.beginExpand()}j.collapsed=false;if(j.rendered){j.doCollapseExpand(2,f)}return j},findReExpander:function(m){var n=this,l=Ext.Component,o=n.dockedItems.items,c=o.length,q,p;if(n.collapseMode==="mini"){return}switch(m){case l.DIRECTION_TOP:case l.DIRECTION_BOTTOM:for(p=0;p<c;p++){q=o[p];if(!q.hidden){if(q.isHeader&&(!q.dock||q.dock==="top"||q.dock==="bottom")){return q}}}break;case l.DIRECTION_LEFT:case l.DIRECTION_RIGHT:for(p=0;p<c;p++){q=o[p];if(!q.hidden){if(q.isHeader&&(q.dock==="left"||q.dock==="right")){return q}}}break;default:throw ("Panel#findReExpander must be passed a valid collapseDirection")}},floatCollapsedPanel:function(){var p=this,o=p.placeholder,x=p.splitter,q=Ext.util.Region.from(o.getBox(false,true)),s=Ext.panel.Panel.floatCls,v=p.collapsed,n=p.ownerCt||p,w,u,r={mouseleave:p.onMouseLeaveFloated,mouseenter:p.onMouseEnterFloated,scope:p,destroyable:true};if(p.isSliding){return}if(p.el.hasCls(s)){p.slideOutFloatedPanel();return}p.isSliding=true;o.el.hide();o.hidden=true;p.el.show();p.setHiddenState(false);p.collapsed=false;n.updateLayout();o.el.show();o.hidden=false;p.el.hide();p.setHiddenState(true);p.collapsed=v;n.updateLayout();u=p.getBox(false,true);if(p.fireEvent("beginfloat",p)===false){return}p.slideOutTask=p.slideOutTask||new Ext.util.DelayedTask(p.slideOutFloatedPanel,p);p.pointerLeaveListener=Ext.getDoc().on({mousedown:p.onFloatedPointerEvent,mousemove:p.onFloatedPointerEvent,scope:p,destroyable:true});if(!p.placeholderListener){p.placeholderListener=o.on({resize:p.onPlaceholderResize,scope:p,destroyable:true})}p.phHoverListeners=o.el.on(r);p.elHoverListeners=p.el.on(r);p.el.addCls(s);p.floated=v;if(p.collapseTool){p.collapseTool.el.hide()}if(x){q=q.union(x.getBox(false,true))}switch(p.collapsed){case"top":p.width=q.width;p.setLocalXY(u.x,u.y+q.height);break;case"right":p.height=q.height;p.setLocalXY(u.x-q.width,u.y);break;case"bottom":p.width=q.width;p.setLocalXY(u.x,u.y-q.height);break;case"left":p.height=q.height;p.setLocalXY(u.x+q.width,u.y);break}w=p.convertCollapseDir(p.collapsed);p.floatedFromCollapse=p.collapsed;p.collapsed=false;p.setHiddenState(false);p.el.slideIn(w,{preserveScroll:true,duration:Ext.Number.from(p.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){p.isSliding=false;p.fireEvent("endfloat",p);p.fireEvent("float",p)}}})},onFloatedPointerEvent:function(e){var d=this;if(d.owns(e)||d.placeholder.owns(e)||(d.splitter&&d.splitter.owns(e))||(d.floatCollapsedPanel&&d.el.getRegion().contains(e.getPoint()))){d.slideOutTask.cancel()}else{d.slideOutTask.delay(500)}},onMouseEnterFloated:function(c){this.slideOutTask.cancel()},onMouseLeaveFloated:function(e){var d=e.getRelatedTarget();if(d&&(this.owns(d)||this.placeholder.owns(d))){return}this.slideOutTask.delay(500)},onPlaceholderResize:function(m,p,k){var q=this,n=q.splitter,o=q.getBox(false,true),l=Ext.util.Region.from(m.getBox(false,true));if(n){l=l.union(n.getBox(false,true))}switch(q.floated){case"top":q.width=p;q.setLocalY(l.y+l.height);break;case"right":q.height=k;q.setLocalX(l.x-o.width);break;case"bottom":q.width=p;q.setLocalY(l.y-o.height);break;case"left":q.height=k;q.setLocalX(l.x+l.width);break}q.updateLayout({isRoot:true})},getAnimationProps:function(){var e=this,d;d=Ext.container.Container.prototype.getAnimationProps.call(this);if(typeof e.animCollapseDuration==="number"){d.duration=e.animCollapseDuration}else{if(typeof e.animCollapse==="number"){d.duration=e.animCollapse}}return d},getCollapsed:function(){var c=this;if(c.collapsed===true){return c.collapseDirection}return c.collapsed},getCollapsedDockedItems:function(){var c=this;return c.header===false||c.collapseMode==="placeholder"?c.emptyArray:[c.getReExpander()]},getComponent:function(d){var e=Ext.container.Container.prototype.getComponent.apply(this,arguments);if(e===undefined&&!Ext.isNumber(d)){e=this.getDockedComponent(d)}return e},getHeader:function(){return this.header},getHeaderCollapsedClasses:function(g){var k=this,j=k.collapsedCls,f;f=[j,j+"-"+g.getDockName()];if(k.border&&(!k.frame||(k.frame&&Ext.supports.CSS3BorderRadius))){f.push(j+"-border-"+g.getDockName())}return f},getOppositeDirection:function(c){var d=Ext.Component;switch(c){case d.DIRECTION_TOP:return d.DIRECTION_BOTTOM;case d.DIRECTION_RIGHT:return d.DIRECTION_LEFT;case d.DIRECTION_BOTTOM:return d.DIRECTION_TOP;case d.DIRECTION_LEFT:return d.DIRECTION_RIGHT}},getPlaceholder:function(n){var o=this,l=n||o.collapseDirection,p=null,m=o.placeholder,q=o.floatable,k=o.titleCollapse;if(!m){if(q||(o.collapsible&&k)){p={click:{fn:function(b,c){if(!m.expandTool.el.dom.contains(arguments[1])){o[(!k&&q)?"floatCollapsedPanel":"toggleCollapse"]()}},element:"el",scope:o}}}o.placeholder=m=Ext.widget(o.createReExpander(l,{id:o.id+"-placeholder",listeners:p}))}if(!m.placeholderFor){if(!m.isComponent){o.placeholder=m=o.lookupComponent(m)}Ext.applyIf(m,{margin:o.margin,placeholderFor:o,synthetic:true});m.addCls(["x-region-collapsed-placeholder","x-region-collapsed-"+l+"-placeholder",o.collapsedCls])}return m},getProtoBody:function(){var e=this,d=e.protoBody;if(!d){e.protoBody=d=new Ext.util.ProtoElement({cls:e.bodyCls,style:e.bodyStyle,clsProp:"bodyCls",styleProp:"bodyStyle",styleIsText:true})}return d},getReExpander:function(l){var m=this,k=l||m.collapseDirection,o=m.reExpander||m.findReExpander(k),j=m.titleCollapse,n=null;m.expandDirection=m.getOppositeDirection(k);if(!o){if(j){n={click:{fn:m.toggleCollapse,element:"el",scope:m}}}m.reExpander=o=m.createReExpander(k,{dock:k,cls:"x-docked "+m.baseCls+"-"+m.ui+"-collapsed",isCollapsedExpander:true,listeners:n});m.dockedItems.insert(0,o)}return o},getRefItems:function(g){var f=this.placeholder,e;if(f){e=[f];if(g&&f.getRefItems){e.push.apply(e,f.getRefItems(g))}}else{e=[]}e.push.apply(e,this.getDockingRefItems(g,Ext.container.Container.prototype.getRefItems.call(this,g)));return e},getState:function(){var j=this,n=Ext.container.Container.prototype.getState.call(this)||{},k=j.collapsed,o=j.floated,l,m;if(o){j.collapsed=o}n=j.addPropertyToState(n,"collapsed");if(o){j.collapsed=k}if(j.getCollapsed()){l=j.getMemento("collapse").data;n=j.addPropertyToState(n,"collapsed",l);m=j.isPlaceHolderCollapse();if(j.collapsedVertical()){if(m){n=j.addPropertyToState(n,"height");delete n.width}else{delete n.height;if(l){n=j.addPropertyToState(n,"height",l.height)}}}else{if(m){n=j.addPropertyToState(n,"width");delete n.height}else{delete n.width;if(l){n=j.addPropertyToState(n,"width",l.width)}}}}return n},applyState:function(j){var k=this,f={},g;if(j){g=j.collapsed;if(g){f=k.getMemento("collapse");Ext.Object.merge(f.data,g);j.collapsed=true}Ext.container.Container.prototype.applyState.apply(this,arguments)}},ghost:function(p){var u=this,C=u.el,B=u.ghostPanel,x=u.getBox(),y=u.header,r,w,s,q,v,A;if(!B){u.ghostPanel=B=Ext.widget(u.createGhost(p));B.el.dom.removeAttribute("tabIndex")}else{B.el.show()}B.setHiddenState(false);B.floatParent=u.floatParent;if(y&&!u.preventHeader){r=B.header;r.suspendLayouts();w=r.query("tool");for(A=w.length;A--;){r.remove(w[A])}r.setTitlePosition(0);B.addTool(u.ghostTools());B.setTitle(u.getTitle());r.setTitlePosition(y.titlePosition);q=u.getIconCls();if(q){B.setIconCls(q)}else{s=u.getIcon();if(s){B.setIcon(s)}else{v=u.getGlyph();if(v){B.setGlyph(v)}}}r.addCls("x-header-ghost");r.resumeLayouts(true)}B.setPagePosition(x.x,x.y);B.setSize(x.width,x.height);u.elVisMode=C.getVisibilityMode();C.setVisibilityMode(Ext.Element.CLIP);C.hide();return B},ghostTools:function(){var l=[],k=this.header,m=k?k.query("tool[hidden=false]"):[],n,j,o;if(m.length){n=0;j=m.length;for(;n<j;n++){o=m[n];l.push({type:o.type,tooltip:o.tooltip})}}else{l=[{type:"placeholder"}]}return l},initBodyBorder:function(){var c=this;if(c.frame&&c.bodyBorder){if(!Ext.isNumber(c.bodyBorder)){c.bodyBorder=1}c.getProtoBody().setStyle("border-width",this.unitizeBox(c.bodyBorder))}},initBodyStyles:function(){var e=this,d=e.getProtoBody();if(e.bodyPadding!==undefined){if(e.layout.managePadding){d.setStyle("padding",0)}else{d.setStyle("padding",this.unitizeBox((e.bodyPadding===true)?5:e.bodyPadding))}}e.initBodyBorder()},initBorderProps:function(){var c=this;if(c.frame&&c.border&&c.bodyBorder===undefined){c.bodyBorder=false}if(c.frame&&c.border&&(c.bodyBorder===false||c.bodyBorder===0)){c.manageBodyBorders=true}},initComponent:function(){var c=this;if(c.collapsible){c.addStateEvents(["expand","collapse"])}if(c.unstyled){c.setUI("plain")}if(c.frame){c.setUI(c.ui+"-framed")}c.bridgeToolbars();c.initBorderProps();Ext.container.Container.prototype.initComponent.call(this);c.collapseDirection=c.collapseDirection||c.getHeaderPosition()||Ext.Component.DIRECTION_TOP;if(typeof c.animCollapse==="number"){c.animCollapseDuration=c.animCollapse}c.hiddenOnCollapse=new Ext.dom.CompositeElement()},initItems:function(){Ext.container.Container.prototype.initItems.call(this);this.initDockingItems()},initRenderData:function(){var f=this,j=f.bodyWrapAriaRole,g=f.bodyAriaRole,k;k=Ext.container.Container.prototype.initRenderData.call(this);f.initBodyStyles();f.protoBody.writeTo(k);delete f.protoBody;if(f.headingText){k.headingText=f.headingText;f.addChildEl("headingEl")}if(j){k.bodyWrapAriaAttributes={role:j};if(!f.ariaStaticRoles[j]&&f.bodyWrapAriaRenderAttributes){Ext.apply(k.bodyWrapAriaAttributes,f.bodyWrapAriaRenderAttributes)}}if(g){k.bodyAriaAttributes={role:g};if(!f.ariaStaticRoles[g]&&f.bodyAriaRenderAttributes){Ext.apply(k.bodyAriaAttributes,f.bodyAriaRenderAttributes)}}return k},calculateConstrainedPosition:function(o,s,p,l){var n=this,m=n.header,q,r;if(n.constrainHeader){q=m.lastBox;if(l){if(!m.vertical){l=[l[0],q?q.height:l[1]]}else{l=[q?q.width:l[0],l[1]]}}else{if(q){l=[q.width,q.height]}}r=n.floatParent;o=o||n.constrainTo||(r?r.getTargetEl():null)||n.container||n.el.parent()}return Ext.container.Container.prototype.calculateConstrainedPosition.call(this,o,s,p,l)},initTools:function(){var l=this,j=l.tools,m,k,g;l.tools=[];for(m=j&&j.length;m;){--m;l.tools[m]=g=j[m];g.toolOwner=l}if(l.collapsible&&!(l.hideCollapseTool||l.header===false||l.preventHeader)){l.updateCollapseTool();if(l.collapseFirst){l.tools.unshift(l.collapseTool)}}l.addTools();if(l.pinnable){l.initPinnable()}if(l.closable){l.addClsWithUI("closable");k={xtype:"tool",type:"close",scope:l,handler:l.close,tooltip:l.closeToolText};if(l.isAccordionPanel||l.disableCloseToolFocus){k.focusable=false;k.ariaRole="presentation"}l.addTool(k)}if(l.collapseTool&&!l.collapseFirst){l.addTool(l.collapseTool)}},isLayoutRoot:function(){if(this.floatedFromCollapse){return true}return Ext.container.Container.prototype.isLayoutRoot.call(this)},isPlaceHolderCollapse:function(){return this.collapseMode==="placeholder"},isVisible:function(d){var e=this;if(e.collapsed&&e.placeholder){return e.placeholder.isVisible(d)}return Ext.container.Container.prototype.isVisible.apply(this,arguments)},onBoxReady:function(){var d=this,e;Ext.container.Container.prototype.onBoxReady.apply(this,arguments);if(d.collapsed){d.setHiddenDocked()}if(d.isAccordionPanel){d.ariaEl=d.header.titleCmp.el;d.ariaEl.dom.setAttribute("aria-expanded",!d.collapsed);d.ariaEl.dom.setAttribute("aria-controls",d.body.id);d.body.dom.setAttribute("aria-labelledby",d.header.titleCmp.id);d.body.dom.setAttribute("aria-hidden",!!d.collapsed);d.accordionHeaderKeyNav=new Ext.util.KeyNav({target:d.header.titleCmp.el,scope:d,left:d.navigateAccordionHeader,right:d.navigateAccordionHeader,up:d.navigateAccordionHeader,down:d.navigateAccordionHeader,home:d.navigateAccordionHeader,end:d.navigateAccordionHeader,space:d.toggleCollapse,enter:d.toggleCollapse,del:{alt:true,fn:d.maybeClose}});d.accordionBodyKeyNav=new Ext.util.KeyNav({target:d.body,scope:d,up:{ctrl:true,fn:d.navigateAccordionBody}})}if(d.defaultButton){e=d.defaultButtonTarget?d[d.defaultButtonTarget]:d.body;d.defaultButtonKeyNav=new Ext.util.KeyNav({target:e,scope:d,defaultEventAction:"stopEvent",enter:d.fireDefaultButton})}},onHide:function(j,m,l){var k=this,g=k.dd;if(k.floatedFromCollapse){k.slideOutFloatedPanel(true)}if(k.draggable&&g){g.endDrag()}if(k.collapsed&&k.placeholder){if(k.splitter){Ext.suspendLayouts();k.splitter.hide();Ext.resumeLayouts()}k.placeholder.hide()}else{Ext.container.Container.prototype.onHide.call(this,j,m,l)}},onRemoved:function(e){var d=this;if(d.placeholder&&!e){d.ownerCt.remove(d.placeholder,false)}Ext.container.Container.prototype.onRemoved.apply(this,arguments)},onShow:function(){var c=this;if(c.collapsed&&c.isPlaceHolderCollapse()){if(c.splitter){Ext.suspendLayouts();c.splitter.show();Ext.resumeLayouts()}c.setHiddenState(true);c.placeholderCollapse()}else{Ext.container.Container.prototype.onShow.apply(this,arguments)}},placeholderCollapse:function(p,v){var q=this,u=q.ownerCt,m=p||q.collapseDirection,r=Ext.panel.Panel.floatCls,s=q.collapseTool,o=q.getPlaceholder(m),n;if(Ext.Component.layoutSuspendCount||q.isLayoutSuspended()){v=false}q.fireEvent("beginfloat",q);q.isCollapsingOrExpanding=1;q.setHiddenState(true);q.collapsed=m;if(o.rendered){if(o.el.dom.parentNode!==q.el.dom.parentNode){q.el.dom.parentNode.insertBefore(o.el.dom,q.el.dom)}o.hidden=false;o.setHiddenState(false);o.el.show();u.updateLayout()}else{u.insert(u.items.indexOf(q),o)}if(q.rendered){q.focusPlaceholderExpandTool=q.focusPlaceHolder=false;if(s&&Ext.ComponentManager.getActiveComponent()===s){q.focusPlaceholderExpandTool=true}else{if(q.containsFocus){q.focusPlaceHolder=true}}q.el.setVisibilityMode(q.placeholderCollapseHideMode);if(v){q.el.addCls(r);o.el.hide();n=q.convertCollapseDir(m);q.el.slideOut(n,{preserveScroll:true,duration:Ext.Number.from(v,Ext.fx.Anim.prototype.duration),listeners:{scope:q,afteranimate:function(){var b=this,c=b.placeholder.el;b.el.removeCls(r);c.show();if(b.ownerCt){c.setStyle("display","none");c.slideIn(n,{easing:"linear",duration:100,listeners:{afteranimate:b.doPlaceholderCollapse,scope:b}})}else{b.doPlaceholderCollapse()}}}})}else{q.el.hide();q.doPlaceholderCollapse()}}else{q.isCollapsingOrExpanding=0;if(!q.preventCollapseFire){q.fireEvent("collapse",q)}}return q},doPlaceholderCollapse:function(){var f=this,j=f.placeholder,g=j.expandTool,k;if(f.focusPlaceholderExpandTool&&g){g.focus()}else{if(f.focusPlaceHolder){j.focus()}}f.focusPlaceholderExpandTool=false;j.setHiddenState(false);if(j.rendered){k=j.ariaEl.dom;k.setAttribute("aria-hidden",false);k.setAttribute("aria-expanded",false)}k=f.ariaEl.dom;k.setAttribute("aria-hidden",true);k.setAttribute("aria-expanded",false);f.isCollapsingOrExpanding=0;f.fireEvent("collapse",f);f.fireEvent("endfloat",f)},placeholderExpand:function(r){var p=this,n=p.collapsed,m=p.placeholder.expandTool,q=Ext.panel.Panel.floatCls,s=p.ownerLayout?p.ownerLayout.centerRegion:null,o,l;if(Ext.Component.layoutSuspendCount){r=false}if(p.floatedFromCollapse){l=p.getPosition(true);p.slideOutFloatedPanelBegin();p.slideOutFloatedPanelEnd();p.floated=false}if(m&&Ext.ComponentManager.getActiveComponent()===m){p.focusHeaderCollapseTool=true;m._ariaRole=m.ariaEl.dom.getAttribute("role");m._ariaLabel=m.ariaEl.dom.getAttribute("aria-label");m.ariaEl.dom.setAttribute("role","presentation");m.ariaEl.dom.removeAttribute("aria-label")}if(r){Ext.suspendLayouts();p.placeholder.hide();p.el.show();p.collapsed=false;p.setHiddenState(false);if(s&&!l){s.hidden=true}Ext.resumeLayouts(true);s.hidden=false;if(!p.floatedFromCollapse){p.fireEvent("beginfloat",p)}p.el.addCls(q);p.isCollapsingOrExpanding=2;if(l){o=p.getXY();p.setLocalXY(l[0],l[1]);p.setXY([o[0],o[1]],{duration:Ext.Number.from(r,Ext.fx.Anim.prototype.duration),listeners:{scope:p,afteranimate:function(){var b=this;b.el.removeCls(q);b.isCollapsingOrExpanding=0;b.fireEvent("expand",b);b.fireEvent("endfloat",b)}}})}else{p.el.hide();p.placeholder.el.show();p.placeholder.hidden=false;p.setHiddenState(false);p.el.slideIn(p.convertCollapseDir(n),{preserveScroll:true,duration:Ext.Number.from(r,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:p.doPlaceholderExpand,scope:p}})}}else{p.floated=p.collapsed=false;p.doPlaceholderExpand(true)}return p},doPlaceholderExpand:function(m){m=m===true;var l=this,k=l.placeholder,g=l.collapseTool,j=k.expandTool;if(m){Ext.suspendLayouts();l.show()}l.el.removeCls(Ext.panel.Panel.floatCls);k.hide();if(m){Ext.resumeLayouts(true)}else{l.updateLayout()}if(l.focusHeaderCollapseTool&&g){g.focus()}l.focusHeaderCollapseTool=false;k.ariaEl.dom.setAttribute("aria-expanded",true);l.ariaEl.dom.setAttribute("aria-expanded",true);if(j&&j._ariaRole){j.ariaEl.dom.setAttribute("role",j._ariaRole);j.ariaEl.dom.setAttribute("aria-label",j._ariaLabel);j._ariaRole=j._ariaLabel=null}l.isCollapsingOrExpanding=0;l.fireEvent("expand",l);l.fireEvent("endfloat",l)},remove:function(g,e){var f=this.dockedItems;if(f&&f.contains(g)){this.removeDocked(g,e)}else{Ext.container.Container.prototype.remove.call(this,g,e)}return g},removeBodyCls:function(g){var f=this,e=f.rendered?f.body:f.getProtoBody();e.removeCls(g);return f},removeUIClsFromElement:function(g){var f=this,e=Ext.container.Container.prototype.removeUIClsFromElement.apply(this,arguments);f.removeBodyCls(["x-"+g,f.baseCls+"-body-"+g,f.baseCls+"-body-"+f.ui+"-"+g]);return e},restoreDimension:function(){var c=this.collapseDirection;return(c==="top"||c==="bottom")?"height":"width"},restoreHiddenDocked:function(){this.setDockedItemsVisibility(this.hiddenOnCollapse,true)},setBodyStyle:function(k,g){var j=this,f=j.rendered?j.body:j.getProtoBody();if(Ext.isFunction(k)){k=k()}if(arguments.length===1){if(Ext.isString(k)){k=Ext.Element.parseStyles(k)}f.setStyle(k)}else{f.setStyle(k,g)}return j},setBorder:function(f,j){if(j){return}var k=this,g=k.header;if(!f){f=0}else{if(f===true){f="1px"}else{f=k.unitizeBox(f)}}if(g){if(g.isHeader){g.setBorder(f)}else{g.border=f}}if(k.rendered&&k.bodyBorder!==false){k.body.setStyle("border-width",f)}k.updateLayout();k.border=f},setCollapsed:function(c){this[c?"collapse":"expand"]()},setDockedItemsVisibility:function(o,r){var m=this,q=m.getDockedItems(),l=q.length,p=0,n,s;if(m.header!==false){s=m.getReExpander()}for(;p<l;p++){n=q[p];if(n&&n!==s&&n.el){o.add(n.el)}}o.setStyle("visibility",r?"":"hidden");o.clear()},setGlyph:function(l){var m=this,g=m.glyph,j=m.header,k=m.placeholder;if(l!==g){m.glyph=l;if(j){if(j.isHeader){j.setGlyph(l)}else{j.glyph=l}}else{if(m.rendered||m.afterHeaderInit){m.updateHeader()}}if(k&&k.setGlyph){k.setGlyph(l)}m.fireEvent("glyphchange",m,l,g)}},setIcon:function(g){var m=this,l=m.icon,j=m.header,k=m.placeholder;if(g!==l){m.icon=g;if(j){if(j.isHeader){j.setIcon(g)}else{j.icon=g}}else{if(m.rendered||m.afterHeaderInit){m.updateHeader()}}if(k&&k.setIcon){k.setIcon(g)}m.fireEvent("iconchange",m,g,l)}},setIconCls:function(m){var l=this,g=l.iconCls,j=l.header,k=l.placeholder;if(m!==g){l.iconCls=m;if(j){if(j.isHeader){j.setIconCls(m)}else{j.iconCls=m}}else{if(l.rendered||l.afterHeaderInit){l.updateHeader()}}if(k&&k.setIconCls){k.setIconCls(m)}l.fireEvent("iconclschange",l,m,g)}},setTitle:function(l){var n=this,o=n.title,k=n.header,j=n.reExpander,m=n.placeholder;if(l!==o){n.title=l;if(k){if(k.isHeader){k.setTitle(l)}}else{if(n.rendered||n.afterHeaderInit){n.updateHeader()}}if(n.headingEl){n.headingEl.setHtml(l)}if(j){j.setTitle(l)}if(m&&m.setTitle){m.setTitle(l)}n.fireEvent("titlechange",n,l,o)}},setHiddenDocked:function(){var e=this,d=new Ext.dom.CompositeElement();e.hiddenOnCollapse.add(e.body);d.add(e.body);e.setDockedItemsVisibility(d,false)},setUI:function(e){var d=this;Ext.container.Container.prototype.setUI.apply(this,arguments);if(d.header&&d.header.rendered){d.header.setUI(e)}},toggleCollapse:function(){return(this.collapsed||this.floatedFromCollapse)?this.expand():this.collapse()},updateCollapseTool:function(){var g=this,e=g.collapseTool,f;if(!e&&g.collapsible){g.collapseDirection=g.collapseDirection||g.getHeaderPosition()||"top";f={xtype:"tool",handler:g.toggleCollapse,scope:g};if(g.isAccordionPanel){f.focusable=false;f.ariaRole="presentation"}g.collapseTool=g.expandTool=e=Ext.widget(f)}if(e){if(g.collapsed&&!g.isPlaceHolderCollapse()){e.setType("expand-"+g.getOppositeDirection(g.collapseDirection));e.setTooltip(g.expandToolText)}else{e.setType("collapse-"+g.collapseDirection);e.setTooltip(g.collapseToolText)}}},navigateAccordionHeader:function(g){var k=this,e,j;e=g.getKey();switch(e){case g.UP:case g.LEFT:j=k.findAccordionSibling("prev");break;case g.DOWN:case g.RIGHT:j=k.findAccordionSibling("next");break;case g.HOME:j=k.findAccordionSibling("first");break;case g.END:j=k.findAccordionSibling("last");break;case g.DELETE:j=k.findAccordionSibling("prev")||k.findAccordionSibling("next");if(!j){g.doNotClose=true}break}g.stopEvent();if(j&&j!==k){j.header.titleCmp.focus()}},navigateAccordionBody:function(e){var d;if(e.getKey()===e.UP){d=this}e.stopEvent();if(d){d.header.titleCmp.focus()}},findAccordionSibling:function(k,j){var l=this,g="[isAccordionPanel]",m;switch(k){case"prev":m=l.prev(g);if(!m){if(l.accordionWrapOver){m=l.ownerCt.child(g+":last")}else{if(j){m=l}}}break;case"next":m=l.next(g);if(!m){if(l.accordionWrapOver){m=l.ownerCt.child(g+":first")}else{if(j){m=l}}}break;case"first":m=l.ownerCt.child(g+":first");break;case"last":m=l.ownerCt.child(g+":last");break}return m},fireDefaultButton:function(j){var k=this,g,e;g=k.lookupReferenceHolder(false)||k;e=g.lookupReference(k.defaultButton);if(e&&e.click){e.click(j);j.stopEvent();return false}},maybeClose:function(e){var d=this;if(d.closable){d.navigateAccordionHeader(e);if(!e.doNotClose){d.close()}}},canFocus:function(d,e){if(this.collapsed){return !!(this.placeholder&&this.placeholder.canFocus(d,e))}return this.mixins.focusable.canFocus.call(this,d,e)},focus:function(){var d=this,e=d.placeholder;if(d.collapsed&&e&&e.canFocus()){e.focus.apply(e,arguments)}else{Ext.container.Container.prototype.focus.apply(this,arguments)}},onFocusEnter:function(f){var g=this,e=g.ariaEl.dom;Ext.container.Container.prototype.onFocusEnter.call(this,f);if(g.isAccordionPanel&&e){e.setAttribute("aria-selected",true)}},onFocusLeave:function(f){var g=this,e=g.ariaEl.dom;Ext.container.Container.prototype.onFocusLeave.call(this,f);if(g.isAccordionPanel&&e){e.setAttribute("aria-selected","false")}},updateHeaderPosition:function(d){var e=this.header;if(e&&e.isHeader){e.setDock(d)}},updateIconAlign:function(e){var d=this.header;if(d&&d.isHeader){d.setIconAlign(e)}},updateTitleAlign:function(e){var d=this.header;if(d&&d.isHeader){d.setTitleAlign(e)}},updateTitleRotation:function(d){var e=this.header;if(e&&e.isHeader){e.setTitleRotation(d)}},unghost:function(n,j,o){var k=this,l=k.el,m=k.ghostPanel;if(!m){return}l.show();l.setVisibilityMode(k.elVisMode);if(n!==false){if(j!==false){k.setPagePosition(m.getXY())}}else{l.hide()}m.el.hide();m.setHiddenState(true)},updateHeader:function(G){var x=this,C=x.header,u=x.getTitle(),A=x.tools,v=x.getIcon(),w=x.getGlyph(),r=x.getIconCls(),D=w||v||r,y=x.ariaEl.dom,B=x.getHeaderPosition(),E=B==="left"||B==="right",s,F;if(Ext.isObject(C)||(C!==false&&(G||(u||D)||(A&&A.length)||(x.collapsible&&!x.titleCollapse)))){if(C&&C.isHeader){C.dockToEl=true;C.show()}else{C=x.header=Ext.widget(Ext.merge({xtype:"header",title:u,titleAlign:x.getTitleAlign(),vertical:E,dock:x.getHeaderPosition()||"top",dockToEl:true,titleRotation:x.getTitleRotation(),textCls:x.headerTextCls,iconCls:r,iconAlign:x.getIconAlign(),icon:v,glyph:w,baseCls:x.baseCls+"-header",tools:A,ui:x.ui,id:x.id+"_header",overCls:x.headerOverCls,indicateDrag:x.draggable,frame:(x.frame||x.alwaysFramed)&&x.frameHeader,ignoreParentFrame:x.frame||x.overlapHeader,ignoreBorderManagement:x.frame||x.ignoreHeaderBorderManagement,isAccordionHeader:x.isAccordionPanel,ownerCt:x,synthetic:true,listeners:x.collapsible&&x.titleCollapse?{click:x.toggleCollapse,scope:x}:null},x.header));x.addDocked(C,0)}if(x.isAccordionPanel){if(y){y.setAttribute("aria-labelledby",C.id+"-title");y.removeAttribute("aria-label")}else{F=x.ariaRenderAttributes||(x.ariaRenderAttributes={});F["aria-labelledby"]=C.id+"-title";delete F["aria-label"]}}else{if(u){if(x.ariaRole!=="tabpanel"){if(y){y.setAttribute("aria-labelledby",C.id+"-title-textEl");y.removeAttribute("aria-label")}else{F=x.ariaRenderAttributes||(x.ariaRenderAttributes={});F["aria-labelledby"]=C.id+"-title-textEl";delete F["aria-label"]}}}else{if(x.ariaRenderAttributes){delete x.ariaRenderAttributes["aria-label"]}}}}else{if(C){C.hide()}u=Ext.util.Format.stripTags(u);if(y){if(!y.hasAttribute("aria-labelledby")){if(u){y.setAttribute("aria-label",u)}else{y.removeAttribute("aria-label")}}}else{F=x.ariaRenderAttributes||(x.ariaRenderAttributes={});if(!F["aria-labelledby"]){if(u){F["aria-label"]=u}else{delete F["aria-label"]}}}}if(x.isViewportBorderChild&&!x.hasOwnProperty("ariaRole")){x.ariaRole="region"}if(u&&x.ariaRole==="region"){s=x.headingEl;if(s){s.setHtml(u)}else{if(x.rendered){x.headingEl=Ext.dom.Helper.insertFirst(x.el,{tag:"div",id:x.id+"-headingEl",role:"heading","class":"x-hidden-clip",style:"height:0",html:u},true);y.removeAttribute("aria-label");y.setAttribute("aria-labelledby",x.id+"-headingEl")}else{x.headingText=x.title;F=x.ariaRenderAttributes||(x.ariaRenderAttributes={});F["aria-labelledby"]=x.id+"-headingEl";delete F["aria-label"]}}}else{if(x.headingEl){x.headingEl.destroy();x.headingEl=null}}},statics:{floatCls:"x-border-region-slide-in"},privates:{addUIToElement:function(){var c=this;Ext.container.Container.prototype.addUIToElement.apply(this,arguments);c.addBodyCls(c.baseCls+"-body-"+c.ui)},applyTargetCls:function(c){this.getProtoBody().addCls(c)},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){var c=this;return c.body||c.protoBody||c.frameBody||c.el},initDraggable:function(){var c=this;if(c.simpleDrag){c.initSimpleDraggable()}else{c.dd=new Ext.panel.DD(c,Ext.isBoolean(c.draggable)?null:c.draggable)}},initResizable:function(c){Ext.container.Container.prototype.initResizable.call(this,c);if(this.collapsed){this.resizer.disable()}},initSimpleDraggable:function(){var e=this,d=e.draggable;if(!e.header&&!d.delegate){e.updateHeader(true)}if(e.header||d.delegate){d=Ext.apply({el:e.el,delegate:e.header&&e.header.el},d);if(e.constrain||e.constrainHeader){d.constrain=e.constrain;d.constrainDelegate=e.constrainHeader;d.constrainTo=e.constrainTo||e.container}d=e.dd=new Ext.util.ComponentDragger(e,d);e.relayEvents(d,["dragstart","drag","dragend"])}},removeUIFromElement:function(){var c=this;Ext.container.Container.prototype.removeUIFromElement.apply(this,arguments);c.removeBodyCls(c.baseCls+"-body-"+c.ui)},setupRenderTpl:function(c){Ext.container.Container.prototype.setupRenderTpl.apply(this,arguments);this.setupDockingRenderTpl(c)},slideOutFloatedPanel:function(o){var m=this,k=m.el,l,j,n=function(){m.slideOutFloatedPanelEnd();m.el.removeCls("x-border-region-slide-in");m.fireEvent("endfloat",m)};if(m.isSliding||m.destroyed){return}m.isSliding=true;m.floated=false;m.slideOutFloatedPanelBegin();if(o){k.hide();return n()}if(typeof m.collapsed==="string"){l=m.convertCollapseDir(m.collapsed)}m.fireEvent("beginfloat",m);k.slideOut(l,{preserveScroll:true,duration:Ext.Number.from(m.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:n}});if(this.containsFocus){j=this.findFocusTarget();if(j){j.focus()}}},slideOutFloatedPanelBegin:function(){var k=this,j=k.placeholder.el,f=k.el,g=k.bodyMousedownListener;k.collapsed=k.floatedFromCollapse;k.setHiddenState(true);k.floatedFromCollapse=null;Ext.destroy(k.pointerLeaveListener,k.phHoverListeners,k.elHoverListeners);if(g){k.bodyMousedownListener=g.destroy()}},slideOutFloatedPanelEnd:function(d){var e=this;if(e.collapseTool){e.collapseTool.el.show()}e.slideOutTask.cancel();e.isSliding=false;if(!d){e.fireEvent("unfloat",e)}}}},0,["panel"],["component","box","container","panel"],{component:true,box:true,container:true,panel:true},["widget.panel"],[["docking",Ext.container.DockingContainer]],[Ext.panel,"Panel",Ext,"Panel"],function(){var c=this.prototype;c.animCollapse=Ext.enableFx;c.placeholderCollapseHideMode=Ext.Element.VISIBILITY}));Ext.define("Ext.theme.neptune.panel.Panel",{override:"Ext.panel.Panel",border:false,bodyBorder:false,initBorderProps:Ext.emptyFn,initBodyBorder:function(){if(this.bodyBorder!==true){arguments.callee.$previous.call(this)}}});(Ext.cmd.derive("Ext.container.Monitor",Ext.Base,{target:null,selector:"",scope:null,addHandler:null,removeHandler:null,invalidateHandler:null,clearPropertiesOnDestroy:false,clearPrototypeOnDestroy:false,disabled:0,constructor:function(c){Ext.apply(this,c)},destroy:function(){this.unbind();this.callParent()},bind:function(e){var d=this;d.target=e;e.on("beforedestroy",d.disable,d);d.onContainerAdd(e)},unbind:function(){var d=this,e=d.target;if(e&&!e.destroyed){d.onContainerRemove(e,e);e.un("beforedestroy",d.disable,d)}d.items=Ext.destroy(d.items)},disable:function(){++this.disabled},enable:function(){if(this.disabled>0){--this.disabled}},handleAdd:function(e,d){if(!this.disabled){if(Ext.ComponentQuery.is(d,this.selector)){this.onItemAdd(d.ownerCt,d)}if(d.isQueryable){this.onContainerAdd(d)}}},onItemAdd:function(l,m){var j=this,g=j.items,k=j.addHandler;if(!j.disabled){if(k){k.call(j.scope||m,m)}if(g){g.add(m)}}m.clearPropertiesOnDestroy=m.clearPrototypeOnDestroy=false},onItemRemove:function(l,m){var j=this,g=j.items,k=j.removeHandler;if(!j.disabled){if(k){k.call(j.scope||m,m)}if(g){g.remove(m)}}},onContainerAdd:function(n,m){var l=this,p,k,o,q;if(n.isContainer){n.on({scope:l,add:l.handleAdd,dockedadd:l.handleAdd,remove:l.handleRemove,dockedremove:l.handleRemove})}if(m!==true){p=n.query(l.selector);for(o=0,k=p.length;o<k;++o){q=p[o];l.onItemAdd(q.ownerCt,q)}}p=n.query(">container");for(o=0,k=p.length;o<k;++o){l.onContainerAdd(p[o],true)}n.clearPropertiesOnDestroy=n.clearPrototypeOnDestroy=false},handleRemove:function(g,e){var f=this;if(!f.disabled){if(Ext.ComponentQuery.is(e,f.selector)){f.onItemRemove(g,e)}if(e.isQueryable){f.onContainerRemove(g,e)}}},onContainerRemove:function(n,p){var l=this,q,o,k,m;if(!p.destroyed&&p.isContainer){l.removeCtListeners(p);if(!p.destroying){q=p.query(l.selector);for(o=0,k=q.length;o<k;++o){m=q[o];l.onItemRemove(m.ownerCt,m)}q=p.query("container");for(o=0,k=q.length;o<k;++o){l.removeCtListeners(q[o])}}}l.invalidateItems(true)},removeCtListeners:function(d){var e=this;d.un({scope:e,add:e.handleAdd,dockedadd:e.handleAdd,remove:e.handleRemove,dockedremove:e.handleRemove})},getItems:function(){var e=this,d=e.items;if(!d){d=e.items=new Ext.util.MixedCollection();d.addAll(e.target.query(e.selector))}return d},invalidateItems:function(f){var g=this,e=g.invalidateHandler;if(f&&e){e.call(g.scope||g,g)}g.items=Ext.destroy(g.items)}},1,0,0,0,0,0,[Ext.container,"Monitor"],0));(Ext.cmd.derive("Ext.plugin.Responsive",Ext.mixin.Responsive,{id:"responsive",isPlugin:true,constructor:function(c){var j=this,k=c.cmp,g=Ext.apply({responsiveConfig:k.responsiveConfig,responsiveFormulas:k.responsiveFormulas},c);delete g.cmp;j.cmp=k;j.initConfig(g);if(j.transformed){k.setConfig(j.transformed);j.transformed=null}},init:Ext.emptyFn,privates:{transformInstanceConfig:function(f){var g=Ext.mixin.Responsive.prototype.transformInstanceConfig.call(this,f);if(g.ptype){g=Ext.apply({},g);delete g.ptype}this.transformed=g;var e=Ext.apply({},f);delete e.ptype;delete e.responsiveConfig;delete e.responsiveFormulas;return e},updateResponsiveState:function(){var c=this.getResponsiveState();this.cmp.setConfig(c)}}},1,0,0,0,["plugin.responsive"],0,[Ext.plugin,"Responsive"],0));(Ext.cmd.derive("Ext.plugin.Viewport",Ext.plugin.Responsive,{setCmp:function(c){this.cmp=c;if(c&&!c.isViewport){this.decorate(c);if(c.renderConfigs){c.flushRenderConfigs()}c.setupViewport()}},statics:{decorate:function(c){Ext.applyIf(c.prototype||c,{ariaRole:"application",viewportCls:"x-viewport"});Ext.override(c,{isViewport:true,preserveElOnDestroy:true,initComponent:function(){this.callParent();this.setupViewport()},getSizeModel:function(){var b=Ext.layout.SizeModel.configured;return b.pairsByHeightOrdinal[b.ordinal]},handleViewportResize:function(){var b=this,j=Ext.dom.Element,g=j.getViewportWidth(),k=j.getViewportHeight();if(g!==b.width||k!==b.height){b.setSize(g,k)}},setupViewport:function(){var b=this,e=document.body;if(!e.id){e.id=b.id}e.setAttribute("data-componentid",b.id);if(!b.ariaStaticRoles[b.ariaRole]){e.setAttribute("role",b.ariaRole)}e=b.el=Ext.getBody();Ext.fly(document.documentElement).addCls(b.viewportCls);e.setHeight=e.setWidth=Ext.emptyFn;e.dom.scroll="no";b.allowDomMove=false;b.renderTo=e;if(Ext.supports.Touch){b.addMeta("apple-mobile-web-app-capable","yes")}Ext.getScrollbarSize();b.width=b.height=undefined;b.initialViewportHeight=Ext.Element.getViewportHeight();b.initialViewportWidth=Ext.Element.getViewportWidth()},afterLayout:function(b){if(Ext.supports.Touch){document.body.scrollTop=0}this.callParent([b])},onRender:function(){var f=this,b=f.getOverflowEl(),g=Ext.getBody();f.callParent(arguments);Ext.setViewportScroller(f.getScrollable()||{x:false,y:false,element:g});if(f.getOverflowEl()!==g){g.setStyle("overflow","hidden")}f.width=f.initialViewportWidth;f.height=f.initialViewportHeight;f.initialViewportWidth=f.initialViewportHeight=null},initInheritedState:function(g,j){var b=this,k=Ext.rootInheritedState;if(g!==k){b.initInheritedState(b.inheritedState=k,b.inheritedStateInner=Ext.Object.chain(k))}else{b.callParent([g,j])}},doDestroy:function(){var b=this,g=Ext.rootInheritedState,f;for(f in g){if(f!=="rtl"){delete g[f]}}b.removeUIFromElement();b.el.removeCls(b.baseCls);Ext.fly(document.body.parentNode).removeCls(b.viewportCls);b.callParent()},addMeta:function(g,f){var b=document.createElement("meta");b.setAttribute("name",g);b.setAttribute("content",f);Ext.getHead().appendChild(b)},privates:{applyTargetCls:function(b){var e=this.el;if(e===this.getTargetEl()){this.el.addCls(b)}else{this.callParent([b])}},disableTabbing:function(){var b=this.el;if(b){b.saveTabbableState({skipSelf:true})}},enableTabbing:function(){var b=this.el;if(b){b.restoreTabbableState(true)}}}})}},privates:{updateResponsiveState:function(){this.cmp.handleViewportResize();Ext.plugin.Responsive.prototype.updateResponsiveState.call(this)}}},0,0,0,0,["plugin.viewport"],0,[Ext.plugin,"Viewport"],function(c){c.prototype.decorate=c.decorate}));(Ext.cmd.derive("Ext.layout.container.Anchor",Ext.layout.container.Auto,{alternateClassName:"Ext.layout.AnchorLayout",type:"anchor",defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,manageOverflow:true,setsItemSize:true,beginLayoutCycle:function(o){var p=this,q=0,m,l,n,s,r;Ext.layout.container.Auto.prototype.beginLayoutCycle.apply(this,arguments);n=o.childItems;r=n.length;for(s=0;s<r;++s){l=n[s];m=l.target.anchorSpec;if(m){if(l.widthModel.calculated&&m.right){q|=1}if(l.heightModel.calculated&&m.bottom){q|=2}if(q===3){break}}}o.anchorDimensions=q},calculateItems:function(E,K){var v=this,B=E.childItems,F=B.length,x=K.gotHeight,D=K.gotWidth,G=K.height,I=K.width,J=(D?1:0)|(x?2:0),w=E.anchorDimensions,A,L,y,M,C,H;if(!w){return true}for(C=0;C<F;C++){L=B[C];y=L.getMarginInfo();A=L.target.anchorSpec;if(D&&L.widthModel.calculated){H=A.right(I)-y.width;H=v.adjustWidthAnchor(H,L);L.setWidth(H)}if(x&&L.heightModel.calculated){M=A.bottom(G)-y.height;M=v.adjustHeightAnchor(M,L);L.setHeight(M)}}return(J&w)===w},anchorFactory:{offset:function(c){return function(b){return b+c}},ratio:function(c){return function(b){return Math.floor(b*c)}},standard:function(c){return function(b){return b-c}}},parseAnchor:function(m,j,g){if(m&&m!=="none"){var l=this.anchorFactory,k;if(this.parseAnchorRE.test(m)){return l.standard(g-j)}if(m.indexOf("%")!==-1){return l.ratio(parseFloat(m.replace("%",""))*0.01)}k=parseInt(m,10);if(!isNaN(k)){return l.offset(k)}}return null},adjustWidthAnchor:function(e,d){return e},adjustHeightAnchor:function(e,d){return e},configureItem:function(m){var n=this,k=n.owner,o=m.anchor,q,p,l;Ext.layout.container.Auto.prototype.configureItem.apply(this,arguments);if(!m.anchor&&m.items&&!Ext.isNumber(m.width)){m.anchor=o=n.defaultAnchor}if(k.anchorSize){if(typeof k.anchorSize==="number"){p=k.anchorSize}else{p=k.anchorSize.width;l=k.anchorSize.height}}else{p=k.initialConfig.width;l=k.initialConfig.height}if(o){q=o.split(" ");m.anchorSpec={right:n.parseAnchor(q[0],m.initialConfig.width,p),bottom:n.parseAnchor(q[1],m.initialConfig.height,l)}}},sizePolicy:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},b:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},r:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},b:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(l){var j=l.anchorSpec,g="$",k=this.sizePolicy,m;if(j){m=this.owner.getSizeModel();if(j.right&&!m.width.shrinkWrap){k=k.r}if(j.bottom&&!m.height.shrinkWrap){g="b"}}return k[g]}},0,0,0,0,["layout.anchor"],0,[Ext.layout.container,"Anchor",Ext.layout,"AnchorLayout"],0));(Ext.cmd.derive("Ext.dd.DragTracker",Ext.Base,{active:false,trackOver:false,tolerance:5,autoStart:false,constructor:function(d){var e=this;Ext.apply(e,d);e.dragRegion=new Ext.util.Region(0,0,0,0);if(e.el){e.initEl(e.el)}e.mixins.observable.constructor.call(e);if(e.disabled){e.disable()}if(Ext.supports.Touch){Ext.getWin().on({touchstart:"onWindowTouchStart",scope:e,capture:true})}},initEl:function(m){var l=this,g=l.delegate,j,k;l.el=m=Ext.get(m);m.addCls("x-unselectable");if(g&&g.isElement){l.handle=g}l.delegate=l.handle?undefined:l.delegate;if(Ext.supports.Touch){j=Ext.ComponentManager.fromElement(m);k=j&&j.getScrollable();if(k){j=k.getElement();if(l.handle&&!j.contains(l.handle)){k=false}else{if(l.delegate&&!j.down(l.delegate)){k=false}else{k=k.getX()||k.getY()}}}}if(!l.handle){l.handle=m}l.handleListeners={scope:l,delegate:l.delegate,dragstart:l.onDragStart};if(k){l.handleListeners.longpress=l.onMouseDown;l.handleListeners.mousedown={fn:l.onMouseDown,delegate:l.delegate,translate:false};l.handleListeners.contextmenu=function(b){b.stopEvent()}}else{l.handleListeners.mousedown=l.onMouseDown}if(!Ext.supports.TouchEvents&&(l.trackOver||l.overCls)){Ext.apply(l.handleListeners,{mouseover:l.onMouseOver,mouseout:l.onMouseOut})}l.mon(l.handle,l.handleListeners);l.keyNav=new Ext.util.KeyNav({target:m,up:l.onResizeKeyDown,left:l.onResizeKeyDown,right:l.onResizeKeyDown,down:l.onResizeKeyDown,scope:l})},disable:function(){this.disabled=true},enable:function(){this.disabled=false},destroy:function(){var c=this;c.endDrag({});c.el=c.handle=c.onBeforeStart=c.onStart=c.onDrag=c.onEnd=c.onCancel=null;c.callParent()},onWindowTouchStart:function(c){if(this.mouseIsDown){this.onMouseUp(c)}},onMouseOver:function(m,n){var p=this,o,q,r,e,s;if(!p.disabled){if(m.within(m.target,true,true)||p.delegate){o=p.handleCls;p.mouseIsOut=false;if(o){for(r=0,e=p.handleEls.length;r<e;r++){q=p.handleEls[r];s=q.delegateCls;if(!s){s=q.delegateCls=[o,"-",q.region,"-over"].join("")}q.addCls([s,p.overCls])}}p.fireEvent("mouseover",p,m,p.delegate?m.getTarget(p.delegate,n):p.handle)}}},onMouseOut:function(j){var k=this,l,m,e;if(k.mouseIsDown){k.mouseIsOut=true}else{if(k.handleCls){for(m=0,e=k.handleEls.length;m<e;m++){l=k.handleEls[m];l.removeCls([l.delegateCls,k.overCls])}}k.fireEvent("mouseout",k,j)}},onMouseDown:function(g,j){var k=this,e=g.parentEvent||g;if(k.disabled||e.dragTracked){return}k.dragTarget=k.delegate?j:k.handle.dom;k.startXY=k.lastXY=g.getXY();k.startRegion=Ext.fly(k.dragTarget).getRegion();if(k.fireEvent("mousedown",k,g)===false||k.fireEvent("beforedragstart",k,g)===false||k.onBeforeStart(g)===false){return}k.mouseIsDown=true;e.dragTracked=true;k.el.setCapture();g.stopPropagation();if(k.preventDefault!==false||g.pointerType==="touch"){g.preventDefault()}Ext.getDoc().on({scope:k,capture:true,mouseup:k.onMouseUp,mousemove:k.onMouseMove,selectstart:k.stopSelect});k.dragEnded=false;if(!k.tolerance){k.triggerStart()}else{if(k.autoStart){k.timer=Ext.defer(k.triggerStart,k.autoStart===true?1000:k.autoStart,k,[g])}}},onMouseMove:function(j,k){var m=this,l=j.getXY(),e=m.startXY;j.stopPropagation();if(m.preventDefault!==false){j.preventDefault()}if(m.dragEnded){return}m.lastXY=l;if(!m.active){if(Math.max(Math.abs(e[0]-l[0]),Math.abs(e[1]-l[1]))>m.tolerance){m.triggerStart(j)}else{return}}if(m.fireEvent("mousemove",m,j)===false){m.onMouseUp(j)}else{m.onDrag(j);m.fireEvent("drag",m,j)}},onMouseUp:function(e){var d=this;d.mouseIsDown=false;if(d.mouseIsOut){d.mouseIsOut=false;d.onMouseOut(e)}if(d.preventDefault!==false){e.preventDefault()}if(Ext.isIE&&document.releaseCapture){document.releaseCapture()}d.fireEvent("mouseup",d,e);d.endDrag(e)},endDrag:function(f){var g=this,e=g.active;Ext.getDoc().un({mousemove:g.onMouseMove,mouseup:g.onMouseUp,selectstart:g.stopSelect,capture:true,scope:g});g.clearStart();g.active=false;g.dragEnded=true;if(e){g.onEnd(f);g.fireEvent("dragend",g,f)}else{g.onCancel(f)}g._constrainRegion=null},triggerStart:function(e){var d=this;d.clearStart();d.active=true;d.onStart(e);d.fireEvent("dragstart",d,e)},clearStart:function(){var c=this.timer;if(c){clearTimeout(c);this.timer=null}},stopSelect:function(c){c.stopEvent();return false},onBeforeStart:function(c){},onStart:function(c){},onDrag:function(c){},onCancel:function(c){},onEnd:function(c){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){var c=this;if(c.constrainTo){if(c.constrainTo instanceof Ext.util.Region){return c.constrainTo}if(!c._constrainRegion){c._constrainRegion=Ext.fly(c.constrainTo).getViewRegion()}}else{if(!c._constrainRegion){c._constrainRegion=c.getDragCt().getViewRegion()}}return c._constrainRegion},getXY:function(c){return c?this.constrainModes[c](this,this.lastXY):this.lastXY},getOffset:function(f){var g=this.getXY(f),e=this.startXY;return[g[0]-e[0],g[1]-e[1]]},onDragStart:function(c){c.stopPropagation()},constrainModes:{point:function(k,g){var j=k.dragRegion,f=k.getConstrainRegion();if(!f){return g}j.x=j.left=j[0]=j.right=g[0];j.y=j.top=j[1]=j.bottom=g[1];j.constrainTo(f);return[j.left,j.top]},dragTarget:function(n,k){var o=n.startXY,l=n.startRegion.copy(),j=n.getConstrainRegion(),m;if(!j){return k}l.translateBy(k[0]-o[0],k[1]-o[1]);if(l.right>j.right){k[0]+=m=(j.right-l.right);l.left+=m}if(l.left<j.left){k[0]+=(j.left-l.left)}if(l.bottom>j.bottom){k[1]+=m=(j.bottom-l.bottom);l.top+=m}if(l.top<j.top){k[1]+=(j.top-l.top)}return k}}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.dd,"DragTracker"],0));(Ext.cmd.derive("Ext.resizer.SplitterTracker",Ext.dd.DragTracker,{enabled:true,overlayCls:"x-resizable-overlay",createDragOverlay:function(){var d,e=Ext.dom.Element;d=this.overlay=Ext.getBody().createChild({role:"presentation",cls:this.overlayCls,html:"&#160;"});d.unselectable();d.setSize(e.getDocumentWidth(),e.getDocumentHeight());d.show()},getPrevCmp:function(){var c=this.getSplitter();return c.previousSibling(":not([hidden])")},getNextCmp:function(){var c=this.getSplitter();return c.nextSibling(":not([hidden])")},onBeforeStart:function(l){var o=this,n=o.getPrevCmp(),e=o.getNextCmp(),p=o.getSplitter().collapseEl,m=l.getTarget(),q;if(!n||!e){return false}if(p&&m===p.dom){return false}if(e.collapsed||n.collapsed){return false}o.prevBox=n.getEl().getBox();o.nextBox=e.getEl().getBox();o.constrainTo=q=o.calculateConstrainRegion();if(!q){return false}return q},onMouseDown:function(e,d){Ext.dd.DragTracker.prototype.onMouseDown.call(this,e,d);if(this.mouseIsDown&&this.getSplitter().el.dom===d){Ext.dom.Element.maskIframes()}},onMouseUp:function(c){Ext.dd.DragTracker.prototype.onMouseUp.call(this,c);Ext.dom.Element.unmaskIframes()},onStart:function(e){var d=this.getSplitter();this.createDragOverlay();d.addCls(d.baseCls+"-active")},onResizeKeyDown:function(n){var q=this,o=q.getSplitter(),e=n.getKey(),p=o.orientation==="vertical"?0:1,l=e===n.UP||e===n.LEFT?-1:1,m;if(!q.active&&q.onBeforeStart(n)){Ext.fly(n.target).on("keyup",q.onResizeKeyUp,q);q.triggerStart(n);q.onMouseDown(n);q.startXY=o.getXY();q.lastKeyDownXY=Ext.Array.slice(q.startXY);m=q.easing=new Ext.fx.easing.Linear();m.setStartTime(Ext.Date.now());m.setStartValue(1);m.setEndValue(4);m.setDuration(2000)}if(q.active){q.lastKeyDownXY[p]=Math.round(q.lastKeyDownXY[p]+(l*q.easing.getValue()));q.lastXY=q.lastKeyDownXY;o.setXY(q.getXY("dragTarget"))}},onResizeKeyUp:function(c){this.onMouseUp(c)},calculateConstrainRegion:function(){var v=this,C=v.getSplitter(),u=C.getWidth(),s=C.defaultSplitMin,B=C.orientation,x=v.prevBox,r=v.getPrevCmp(),A=v.nextBox,w=v.getNextCmp(),p,q,y;if(B==="vertical"){y={prevCmp:r,nextCmp:w,prevBox:x,nextBox:A,defaultMin:s,splitWidth:u};p=new Ext.util.Region(x.y,v.getVertPrevConstrainRight(y),x.bottom,v.getVertPrevConstrainLeft(y));q=new Ext.util.Region(A.y,v.getVertNextConstrainRight(y),A.bottom,v.getVertNextConstrainLeft(y))}else{p=new Ext.util.Region(x.y+(r.minHeight||s),x.right,(r.maxHeight?x.y+r.maxHeight:A.bottom-(w.minHeight||s))+u,x.x);q=new Ext.util.Region((w.maxHeight?A.bottom-w.maxHeight:x.y+(r.minHeight||s))-u,A.right,A.bottom-(w.minHeight||s),A.x)}return p.intersect(q)},performResize:function(x,D){var v=this,I=v.getSplitter(),C=I.orientation,e=v.getPrevCmp(),w=v.getNextCmp(),H=I.ownerCt,A=H.query(">[flex]"),y=A.length,G=C==="vertical",B=0,E=G?"width":"height",F=0,K,J;for(;B<y;B++){K=A[B];J=G?K.getWidth():K.getHeight();F+=J;K.flex=J}D=G?D[0]:D[1];if(e){J=v.prevBox[E]+D;if(e.flex){e.flex=J}else{e[E]=J}}if(w){J=v.nextBox[E]-D;if(w.flex){w.flex=J}else{w[E]=J}}H.updateLayout()},endDrag:function(){var c=this;if(c.overlay){c.overlay.destroy();delete c.overlay}Ext.dd.DragTracker.prototype.endDrag.apply(this,arguments)},onEnd:function(f){var e=this,g=e.getSplitter();g.removeCls(g.baseCls+"-active");e.performResize(f,e.getResizeOffset())},onDrag:function(l){var n=this,k=n.getOffset("dragTarget"),m=n.getSplitter(),o=m.getEl(),e=m.orientation;if(e==="vertical"){o.setX(n.startRegion.left+k[0])}else{o.setY(n.startRegion.top+k[1])}},getSplitter:function(){return this.splitter},getVertPrevConstrainRight:function(c){return(c.prevCmp.maxWidth?c.prevBox.x+c.prevCmp.maxWidth:c.nextBox.right-(c.nextCmp.minWidth||c.defaultMin))+c.splitWidth},getVertPrevConstrainLeft:function(c){return c.prevBox.x+(c.prevCmp.minWidth||c.defaultMin)},getVertNextConstrainRight:function(c){return c.nextBox.right-(c.nextCmp.minWidth||c.defaultMin)},getVertNextConstrainLeft:function(c){return(c.nextCmp.maxWidth?c.nextBox.right-c.nextCmp.maxWidth:c.prevBox.x+(c.prevBox.minWidth||c.defaultMin))-c.splitWidth},getResizeOffset:function(){return this.getOffset("dragTarget")}},0,0,0,0,0,0,[Ext.resizer,"SplitterTracker"],0));(Ext.cmd.derive("Ext.dd.DDTarget",Ext.dd.DragDrop,{constructor:function(f,e,g){if(f){this.initTarget(f,e,g)}},getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return("DDTarget "+this.id)}},3,0,0,0,0,0,[Ext.dd,"DDTarget"],0));(Ext.cmd.derive("Ext.dd.ScrollManager",Ext.Base,{singleton:true,dirTrans:{up:-1,left:-1,down:1,right:1},constructor:function(){var c=Ext.dd.DragDropManager;c.fireEvents=Ext.Function.createSequence(c.fireEvents,this.onFire,this);c.stopDrag=Ext.Function.createSequence(c.stopDrag,this.onStop,this);this.doScroll=this.doScroll.bind(this);this.ddmInstance=c;this.els={};this.dragEl=null;this.proc={}},onStop:function(d){var e=Ext.dd.ScrollManager;e.dragEl=null;e.clearProc()},triggerRefresh:function(){if(this.ddmInstance.dragCurrent){this.ddmInstance.refreshCache(this.ddmInstance.dragCurrent.groups)}},doScroll:function(){var o=this;if(o.ddmInstance.dragCurrent){var l=o.proc,p=l.el,r=l.component,n=l.el.ddScrollConfig,m=n&&n.increment?n.increment:o.increment,s=n&&"animate" in n?n.animate:o.animate,q=function(){o.triggerRefresh()};if(s){if(s===true){s={callback:q}}else{s.callback=s.callback?Ext.Function.createSequence(s.callback,q):q}}if(r){m=m*o.dirTrans[l.dir];if(l.dir==="up"||l.dir==="down"){r.scrollBy(0,m,s)}else{r.scrollBy(m,0,s)}}else{p.scroll(l.dir,m,s)}if(!s){q()}}},clearProc:function(){var c=this.proc;if(c.id){clearInterval(c.id)}c.id=0;c.el=null;c.dir=""},startProc:function(n,o){var m=this,j=m.proc,k,l;m.clearProc();j.el=n;j.dir=o;k=n.ddScrollConfig?n.ddScrollConfig.ddGroup:undefined;l=(n.ddScrollConfig&&n.ddScrollConfig.frequency)?n.ddScrollConfig.frequency:m.frequency;if(k===undefined||m.ddmInstance.dragCurrent.ddGroup===k){j.id=Ext.interval(m.doScroll,l)}},onFire:function(r,o){var p=this,e,q,u,x,w,s,v;if(o||!p.ddmInstance.dragCurrent){return}if(!p.dragEl||p.dragEl!==p.ddmInstance.dragCurrent){p.dragEl=p.ddmInstance.dragCurrent;p.refreshCache()}e=r.getPoint();q=p.proc;u=p.els;for(x in u){w=u[x];s=w._region;v=w.ddScrollConfig||p;if(s&&s.contains(e)&&w.isScrollable()){if(s.bottom-e.y<=v.vthresh){if(q.el!==w){p.startProc(w,"down")}return}else{if(s.right-e.x<=v.hthresh){if(q.el!==w){p.startProc(w,"right")}return}else{if(e.y-s.top<=v.vthresh){if(q.el!==w){p.startProc(w,"up")}return}else{if(e.x-s.left<=v.hthresh){if(q.el!==w){p.startProc(w,"left")}return}}}}}}p.clearProc()},register:function(f){if(Ext.isArray(f)){for(var g=0,e=f.length;g<e;g++){this.register(f[g])}}else{f=Ext.get(f);this.els[f.id]=f}},unregister:function(f){if(Ext.isArray(f)){for(var g=0,e=f.length;g<e;g++){this.unregister(f[g])}}else{f=Ext.get(f);delete this.els[f.id]}},vthresh:25*(window.devicePixelRatio||1),hthresh:25*(window.devicePixelRatio||1),increment:100,frequency:500,animate:true,animDuration:0.4,ddGroup:undefined,refreshCache:function(){var d=this.els,e;for(e in d){if(typeof d[e]==="object"){d[e]._region=d[e].getRegion()}}}},1,0,0,0,0,0,[Ext.dd,"ScrollManager"],0));(Ext.cmd.derive("Ext.dd.DropTarget",Ext.dd.DDTarget,{constructor:function(e,d){this.el=Ext.get(e);Ext.apply(this,d);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el)}Ext.dd.DDTarget.prototype.constructor.call(this,this.el.dom,this.ddGroup||this.group,{isTarget:true})},containerScroll:false,dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",isTarget:true,isNotifyTarget:true,notifyEnter:function(e,f,g){if(this.overClass){this.el.addCls(this.overClass)}return this.dropAllowed},notifyOver:function(e,f,g){return this.dropAllowed},notifyOut:function(e,f,g){if(this.overClass){this.el.removeCls(this.overClass)}},notifyDrop:function(e,f,g){if(this.overClass){this.el.removeCls(this.overClass)}return false},destroy:function(){if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.el)}Ext.dd.DDTarget.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.dd,"DropTarget"],0));(Ext.cmd.derive("Ext.dd.DragZone",Ext.dd.DragSource,{constructor:function(j,k){var g=this,f;Ext.dd.DragSource.prototype.constructor.call(this,j,k);f=g.containerScroll;if(f){j=g.scrollEl||j;j=Ext.get(j);if(Ext.isObject(f)){j.ddScrollConfig=f}Ext.dd.ScrollManager.register(j)}},getDragData:function(c){return Ext.dd.Registry.getHandleFromEvent(c)},onInitDrag:function(d,e){this.proxy.update(this.dragData.ddel.cloneNode(true));this.onStartDrag(d,e);return true},getRepairXY:function(c){return Ext.fly(this.dragData.ddel).getXY()},destroy:function(){if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.scrollEl||this.el)}Ext.dd.DragSource.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.dd,"DragZone"],0));(Ext.cmd.derive("Ext.dd.Registry",Ext.Base,{singleton:true,constructor:function(){this.elements={};this.handles={};this.autoIdSeed=0},getId:function(g,e){if(typeof g==="string"){return g}var f=g.id;if(!f&&e!==false){f="extdd-"+(++this.autoIdSeed);g.id=f}return f},register:function(k,j){j=j||{};if(typeof k==="string"){k=document.getElementById(k)}j.ddel=k;this.elements[this.getId(k)]=j;if(j.isHandle!==false){this.handles[j.ddel.id]=j}if(j.handles){var l=j.handles,m,g;for(m=0,g=l.length;m<g;m++){this.handles[this.getId(l[m])]=j}}},unregister:function(m){var k=this.getId(m,false),l=this.elements[k],n,o,j;if(l){delete this.elements[k];if(l.handles){n=l.handles;for(o=0,j=n.length;o<j;o++){delete this.handles[this.getId(n[o],false)]}}}},getHandle:function(c){if(typeof c!=="string"){c=c.id}return this.handles[c]},getHandleFromEvent:function(e){var d=e.getTarget();return d?this.handles[d.id]:null},getTarget:function(c){if(typeof c!=="string"){c=c.id}return this.elements[c]},getTargetFromEvent:function(e){var d=e.getTarget();return d?this.elements[d.id]||this.handles[d.id]:null}},1,0,0,0,0,0,[Ext.dd,"Registry"],0));(Ext.cmd.derive("Ext.dd.DropZone",Ext.dd.DropTarget,{getTargetFromEvent:function(c){return Ext.dd.Registry.getTargetFromEvent(c)},onNodeEnter:function(g,e,j,k){},onNodeOver:function(g,e,j,k){return this.dropAllowed},onNodeOut:function(g,e,j,k){},onNodeDrop:function(g,e,j,k){return false},onContainerOver:function(e,f,g){return this.dropNotAllowed},onContainerDrop:function(e,f,g){return false},notifyEnter:function(e,f,g){Ext.dd.DropTarget.prototype.notifyEnter.call(this,e,f,g);return this.dropNotAllowed},notifyOver:function(e,k,l){var m=this,j=m.getTargetFromEvent(k);if(!j){if(m.lastOverNode){m.onNodeOut(m.lastOverNode,e,k,l);m.lastOverNode=null}return m.onContainerOver(e,k,l)}if(m.lastOverNode!==j){if(m.lastOverNode){m.onNodeOut(m.lastOverNode,e,k,l)}m.onNodeEnter(j,e,k,l);m.lastOverNode=j}return m.onNodeOver(j,e,k,l)},notifyOut:function(e,f,g){Ext.dd.DropTarget.prototype.notifyOut.call(this,e,f,g);if(this.lastOverNode){this.onNodeOut(this.lastOverNode,e,f,g);this.lastOverNode=null}},notifyDrop:function(o,l,m){var n=this,k=n.getTargetFromEvent(l),e=k?n.onNodeDrop(k,o,l,m):n.onContainerDrop(o,l,m);if(n.lastOverNode){n.onNodeOut(n.lastOverNode,o,l,m);n.lastOverNode=null}return e},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}},0,0,0,0,0,0,[Ext.dd,"DropZone"],0));(Ext.cmd.derive("Ext.event.publisher.MouseEnterLeave",Ext.event.publisher.Dom,{type:"mouseEnterLeave"},0,0,0,0,0,0,[Ext.event.publisher,"MouseEnterLeave"],function(d){var e={mouseover:"mouseenter",mouseout:"mouseleave"};if(!Ext.supports.MouseEnterLeave){d.override({handledDomEvents:["mouseover","mouseout"],handledEvents:["mouseenter","mouseleave"],publishDelegatedDomEvent:function(c){var n,r,b,p,q,o;c=this.callParent([c]);n=c.getTarget();r=c.getRelatedTarget();if(r&&Ext.fly(n).contains(r)){return}b=n.id;if(b){p=Ext.cache[b];if(p){q=e[c.type];c=c.chain({type:q});if(p.hasListeners[q]){o=p.events[q];if(o){o=o.directs;if(o){c.setCurrentTarget(p.dom);o.fire(c,c.target)}}}}}}})}d.instance=new d()}));(Ext.cmd.derive("Ext.form.action.Action",Ext.Base,{alternateClassName:"Ext.form.Action",submitEmptyText:true,constructor:function(d){if(d){Ext.apply(this,d)}var e=d.params;if(Ext.isString(e)){this.params=Ext.Object.fromQueryString(e)}},run:Ext.emptyFn,onFailure:function(e){var f=this.form,g=f&&!f.destroying&&!f.destroyed;this.response=e;this.failureType=Ext.form.action.Action.CONNECT_FAILURE;if(g){f.afterAction(this,false)}},processResponse:function(c){this.response=c;if(!c.responseText&&!c.responseXML){return true}return(this.result=this.handleResponse(c))},getUrl:function(){return this.url||this.form.url},getMethod:function(){return(this.method||this.form.method||"POST").toUpperCase()},getParams:function(){return Ext.apply({},this.params,this.form.baseParams)},createCallback:function(){var c=this;return{success:c.onSuccess,failure:c.onFailure,scope:c,timeout:(c.timeout||c.form.timeout)*1000}},statics:{CLIENT_INVALID:"client",SERVER_INVALID:"server",CONNECT_FAILURE:"connect",LOAD_FAILURE:"load"}},1,0,0,0,0,0,[Ext.form.action,"Action",Ext.form,"Action"],0));(Ext.cmd.derive("Ext.form.action.Load",Ext.form.action.Action,{alternateClassName:"Ext.form.Action.Load",type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(),{method:this.getMethod(),url:this.getUrl(),headers:this.headers,params:this.getParams()}))},onSuccess:function(k){var f=this.processResponse(k),g=this.form,j=g&&!g.destroying&&!g.destroyed;if(f===true||!f.success||!f.data){this.failureType=Ext.form.action.Action.LOAD_FAILURE;if(j){g.afterAction(this,false)}return}if(j){g.clearInvalid();g.setValues(f.data);g.afterAction(this,true)}},handleResponse:function(j){var f=this.form.reader,k,g;if(f){k=f.read(j);g=k.records&&k.records[0]?k.records[0].data:null;return{success:k.success,data:g}}return Ext.decode(j.responseText)}},0,0,0,0,["formaction.load"],0,[Ext.form.action,"Load",Ext.form.Action,"Load"],0));(Ext.cmd.derive("Ext.form.action.Submit",Ext.form.action.Action,{alternateClassName:"Ext.form.Action.Submit",type:"submit",run:function(){var e=this,d=e.form;if(e.clientValidation===false||d.isValid()){e.doSubmit()}else{e.failureType=Ext.form.action.Action.CLIENT_INVALID;d.afterAction(e,false)}},doSubmit:function(){var m=this,o=Ext.apply(m.createCallback(),{url:m.getUrl(),method:m.getMethod(),headers:m.headers}),n=m.form,l=m.jsonSubmit||n.jsonSubmit,j=l?"jsonData":"params",k;if(n.hasUpload()){k=m.buildForm();o.form=k.formEl;o.isUpload=true}else{o[j]=m.getParams(l)}Ext.Ajax.request(o);if(k){m.cleanup(k)}},cleanup:function(l){var n=l.formEl,o=l.uploadEls,q=l.uploadFields,k=q.length,p,m;for(p=0;p<k;++p){m=q[p];if(!m.clearOnSubmit){m.restoreInput(o[p])}}if(n){Ext.removeNode(n)}},getParams:function(g){var j=false,k=Ext.form.action.Action.prototype.getParams.call(this),f=this.form.getValues(j,j,this.submitEmptyText!==j,g,true);return Ext.apply({},f,k)},buildForm:function(){var C=this,y=[],B,L,E=C.form,H=C.getParams(),I=[],K=[],F=E.getFields().items,G,D=F.length,A,M,w,v,x,J;for(G=0;G<D;++G){A=F[G];if(A.isFileUpload()){I.push(A)}}for(M in H){if(H.hasOwnProperty(M)){w=H[M];if(Ext.isArray(w)){x=w.length;for(v=0;v<x;v++){y.push(C.getFieldConfig(M,w[v]))}}else{y.push(C.getFieldConfig(M,w))}}}B={tag:"form",role:"presentation",action:C.getUrl(),method:C.getMethod(),target:C.target?(Ext.isString(C.target)?C.target:Ext.fly(C.target).dom.name):"_self",style:"display:none",cn:y};if(I.length){B.encoding=B.enctype="multipart/form-data"}L=Ext.DomHelper.append(Ext.getBody(),B);D=I.length;for(G=0;G<D;++G){J=I[G].extractFileInput();L.appendChild(J);K.push(J)}return{formEl:L,uploadFields:I,uploadEls:K}},getFieldConfig:function(d,e){return{tag:"input",type:"hidden",name:d,value:Ext.String.htmlEncode(e)}},onSuccess:function(m){var k=this.form,l=k&&!k.destroying&&!k.destroyed,j=true,g=this.processResponse(m);if(g!==true&&!g.success){if(g.errors&&l){k.markInvalid(g.errors)}this.failureType=Ext.form.action.Action.SERVER_INVALID;j=false}if(l){k.afterAction(this,j)}},handleResponse:function(u){var x=this.form,v=x.errorReader,s,o,r,q,w,e;if(v){s=v.read(u);w=s.records;o=[];if(w){for(r=0,q=w.length;r<q;r++){o[r]=w[r].data}}if(o.length<1){o=null}e={success:s.success,errors:o}}else{try{e=Ext.decode(u.responseText)}catch(p){e={success:false,errors:[]}}}return e}},0,0,0,0,["formaction.submit"],0,[Ext.form.action,"Submit",Ext.form.Action,"Submit"],0));(Ext.cmd.derive("Ext.form.action.StandardSubmit",Ext.form.action.Submit,{doSubmit:function(){var c=this.buildForm();c.formEl.submit();this.cleanup(c)}},0,0,0,0,["formaction.standardsubmit"],0,[Ext.form.action,"StandardSubmit"],0));(Ext.cmd.derive("Ext.util.ComponentDragger",Ext.dd.DragTracker,{autoStart:500,constructor:function(d,e){this.comp=d;this.initialConstrainTo=e.constrainTo;Ext.dd.DragTracker.prototype.constructor.call(this,e)},onStart:function(f){var g=this,e=g.comp;g.dragTarget=g.el;g.startRegion=g.el.getRegion();g.startPosition=e.getXY();if(e.ghost&&!e.liveDrag){g.proxy=e.ghost()}if(g.constrain||g.constrainDelegate){g.constrainTo=g.calculateConstrainRegion()}if(e.beginDrag){e.beginDrag()}if(e.el.shim){Ext.dom.Element.maskIframes()}},calculateConstrainRegion:function(){var p=this,r=p.comp,q=p.initialConstrainTo||p.comp.el.dom.parentNode,s=r.constraintInsets,n,w,u,v=p.proxy?p.proxy.el:r.el,o=v.shadow,x=(o&&!p.constrainDelegate&&r.constrainShadow&&!o.disabled)?o.getShadowSize():0;if(!(q instanceof Ext.util.Region)){n=Ext.fly(q);q=n.getConstrainRegion()}else{q=q.copy()}if(s){s=Ext.isObject(s)?s:Ext.Element.parseBox(s);q.adjust(s.top,s.right,s.bottom,s.left)}if(x){q.adjust(x[0],-x[1],-x[2],x[3])}if(p.constrainDelegate){w=Ext.fly(p.handle).getRegion();u=v.getRegion();q.adjust(u.top-w.top,u.right-w.right,u.bottom-w.bottom,u.left-w.left)}return q},onDrag:function(j){var k=this,e=(k.proxy&&!k.comp.liveDrag)?k.proxy:k.comp,g=k.getOffset(k.constrain||k.constrainDelegate?"dragTarget":null);e.setPagePosition(k.startPosition[0]+g[0],k.startPosition[1]+g[1])},onEnd:function(e){var d=this.comp;if(d.destroyed||d.destroying){return}if(this.proxy&&!d.liveDrag){d.unghost()}if(d.endDrag){d.endDrag()}if(d.el.shim){Ext.dom.Element.unmaskIframes()}}},1,0,0,0,0,0,[Ext.util,"ComponentDragger"],0));(Ext.cmd.derive("Ext.window.Window",Ext.panel.Panel,{alternateClassName:"Ext.Window",baseCls:"x-window",resizable:true,draggable:true,constrain:false,constrainHeader:false,plain:false,minimizable:false,maximizable:false,minHeight:50,minWidth:50,expandOnShow:true,collapsible:false,closable:true,hidden:true,autoRender:true,hideMode:"offsets",floating:true,alignOnScroll:false,itemCls:"x-window-item",overlapHeader:true,ignoreHeaderBorderManagement:true,alwaysFramed:true,isRootCfg:{isRoot:true},isWindow:true,ariaRole:"dialog",focusable:true,tabGuard:true,closeToolText:"Close dialog",keyMap:{scope:"this",ESC:"onEsc"},maskClickAction:"focus",disableCloseToolFocus:true,initComponent:function(){var c=this;c.frame=false;Ext.panel.Panel.prototype.initComponent.call(this);if(c.plain){c.addClsWithUI("plain")}c.addStateEvents(["maximize","restore","resize","dragend"])},getElConfig:function(){var e=this,d;d=Ext.panel.Panel.prototype.getElConfig.call(this);d.tabIndex=-1;return d},getFocusEl:function(){return this.getDefaultFocus()||this.el},getState:function(){var m=this,k=Ext.panel.Panel.prototype.getState.call(this)||{},g=!!m.maximized,l=m.ghostBox,j;k.maximized=g;if(g){j=m.restorePos}else{if(l){j=[l.x,l.y]}else{j=m.getPosition(true)}}Ext.apply(k,{size:g?m.restoreSize:m.getSize(),pos:j});return k},applyState:function(e){var d=this;if(e){d.maximized=e.maximized;if(d.maximized){d.hasSavedRestore=true;d.restoreSize=e.size;d.restorePos=e.pos}else{Ext.apply(d,{width:e.size.width,height:e.size.height,x:e.pos[0],y:e.pos[1]})}}},onRender:function(g,e){var f=this;Ext.panel.Panel.prototype.onRender.apply(this,arguments);if(f.header){f.header.on({scope:f,click:f.onHeaderClick})}if(f.maximizable){f.header.on({scope:f,dblclick:f.toggleMaximize})}},afterRender:function(){var d=this,e=d.header;if(d.maximized){d.maximized=false;d.maximize(null,true);if(e){e.removeCls(e.indicateDragCls)}}Ext.panel.Panel.prototype.afterRender.call(this);d.initTabGuards()},onEsc:function(c){c.stopEvent();this.close()},doDestroy:function(){var c=this;if(c.rendered){Ext.un("resize",c.onWindowResize,c);delete c.animateTarget;c.hide()}Ext.panel.Panel.prototype.doDestroy.call(this)},addTools:function(){var d=this,e=[];Ext.panel.Panel.prototype.addTools.call(this);if(d.minimizable){e.push({type:"minimize",handler:"minimize",scope:d})}if(d.maximizable){e.push({type:"maximize",handler:"toggleMaximize",scope:d})}if(e.length){d.addTool(e)}},addTool:function(e){var d=this;Ext.panel.Panel.prototype.addTool.call(this,e);if(d.rendered&&d.tabGuard){d.initTabGuards()}},add:function(){var e=this,d;d=Ext.panel.Panel.prototype.add.apply(this,arguments);if(e.rendered&&e.tabGuard){e.initTabGuards()}return d},remove:function(){var e=this,d;d=Ext.panel.Panel.prototype.remove.apply(this,arguments);if(e.rendered&&e.tabGuard){e.initTabGuards()}return d},addDocked:function(){var e=this,d;d=Ext.panel.Panel.prototype.addDocked.apply(this,arguments);if(e.rendered&&e.tabGuard){e.initTabGuards()}return d},removeDocked:function(){var e=this,d;d=Ext.panel.Panel.prototype.removeDocked.apply(this,arguments);if(e.rendered&&e.tabGuard){e.initTabGuards()}return d},onShow:function(){var c=this;Ext.panel.Panel.prototype.onShow.apply(this,arguments);if(c.expandOnShow){c.expand(false)}c.syncMonitorWindowResize();if(c.rendered&&c.tabGuard){c.initTabGuards()}},doClose:function(){var c=this;if(c.hidden){c.fireEvent("close",c);if(c.closeAction==="destroy"&&!c.destroying&&!c.destroyed){c.destroy()}}else{c.hide(c.animateTarget,c.doClose,c)}},afterHide:function(){var c=this;c.syncMonitorWindowResize();Ext.panel.Panel.prototype.afterHide.apply(this,arguments);if(c.rendered&&c.tabGuard){c.initTabGuards()}},onWindowResize:function(){var e=this,d;if(!e.destroyed){if(e.maximized){e.fitContainer()}else{d=e.getSizeModel();if(d.width.natural||d.height.natural){e.updateLayout()}e.doConstrain()}}},minimize:function(){this.fireEvent("minimize",this);return this},resumeHeaderLayout:function(c){this.header.resumeLayouts(c?this.isRootCfg:null)},afterCollapse:function(){var e=this,f=e.header,g=e.tools;if(f&&e.maximizable){f.suspendLayouts();g.maximize.hide();this.resumeHeaderLayout(true)}if(e.resizer){e.resizer.disable()}Ext.panel.Panel.prototype.afterCollapse.apply(this,arguments)},afterExpand:function(){var f=this,g=f.header,k=f.tools,j;if(g){g.suspendLayouts();if(f.maximizable){k.maximize.show();j=true}this.resumeHeaderLayout(j)}if(f.resizer){f.resizer.enable()}Ext.panel.Panel.prototype.afterExpand.apply(this,arguments)},maximize:function(u,p){var n=this,r=n.header,q=n.tools,v=n.width,m=n.height,o,s;if(!n.maximized&&!n.maximizing){n.maximizing=true;n.expand(false);if(!n.hasSavedRestore){o=n.restoreSize={width:v?v:null,height:m?m:null};if(p){n.restorePos=[n.x||0,n.y||0]}else{n.restorePos=n.getPosition()}}if(r){r.suspendLayouts();if(q.maximize){q.maximize.setType("restore")}if(n.collapseTool){n.collapseTool.hide();s=true}n.resumeHeaderLayout(s)}n.el.disableShadow();if(n.dd){n.dd.disable();if(r){r.removeCls(r.indicateDragCls)}}if(n.resizer){n.resizer.disable()}n.el.addCls("x-window-maximized");n.container.addCls("x-window-maximized-ct");n.syncMonitorWindowResize();n.fitContainer(u=(u||!!n.animateTarget)?{callback:function(){n.maximizing=false;n.maximized=true;if(!p){n.fireEvent("maximize",n)}}}:null);if(!u){n.maximizing=false;n.maximized=true;if(!p){n.fireEvent("maximize",n)}}}return n},restore:function(o){var n=this,m=n.tools,k=n.header,j=n.restoreSize,l;if(n.maximized){n.hasSavedRestore=null;n.removeCls("x-window-maximized");if(k){k.suspendLayouts();if(m.maximize){m.maximize.setType("maximize")}if(n.collapseTool){n.collapseTool.show();l=true}n.resumeHeaderLayout(l)}j.x=n.restorePos[0];j.y=n.restorePos[1];n.setBox(j,o=(o||!!n.animateTarget)?{callback:function(){n.el.enableShadow(null,true);n.maximized=false;n.fireEvent("restore",n)}}:null);n.restorePos=n.restoreSize=null;if(n.dd){n.dd.enable();if(k){k.addCls(k.indicateDragCls)}}if(n.resizer){n.resizer.enable()}n.container.removeCls("x-window-maximized-ct");n.syncMonitorWindowResize();if(!o){n.el.enableShadow(null,true);n.maximized=false;n.fireEvent("restore",n)}}return n},syncMonitorWindowResize:function(){var k=this,j=k._monitoringResize,g=k.monitorResize||k.constrain||k.constrainHeader||k.maximized,f=k.hidden||k.destroying||k.destroyed;if(g&&!f){if(!j){Ext.on("resize",k.onWindowResize,k,{buffer:1});k._monitoringResize=true}}else{if(j){Ext.un("resize",k.onWindowResize,k);k._monitoringResize=false}}},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()},createGhost:function(){var c=Ext.panel.Panel.prototype.createGhost.apply(this,arguments);c.xtype="window";c.focusOnToFront=false;return c},getDefaultFocus:function(){var j=this,k,g=j.defaultFocus,f;if(g!==undefined){if(Ext.isNumber(g)){k=j.query("button")[g]}else{if(Ext.isString(g)){f=g;if(Ext.validIdRe.test(f)){k=j.down(Ext.makeIdSelector(f))}if(!k){k=j.down(f)}}else{if(g.focus){k=g}}}}return k},privates:{initDraggable:function(){this.initSimpleDraggable()},onHeaderClick:function(f,g){var e;if(f.el.contains(g.getTarget())){e=this.getDefaultFocus();if(e){e.focus()}}},initResizable:function(d){var e=this;Ext.panel.Panel.prototype.initResizable.call(this,d);if(e.maximized||e.maximizing){e.resizer.disable()}},initSimpleDraggable:function(){var e=this,d;Ext.panel.Panel.prototype.initSimpleDraggable.call(this);d=e.dd;if(d&&e.maximized||e.maximizing){d.disable()}},onTabGuardFocusEnter:function(r,q){var p=this,w=p.el,u=p.tabGuardBeforeEl,v=p.tabGuardAfterEl,o=r.relatedTarget,x,s,e;x=w.findTabbableElements({skipSelf:true});if(x[0]===u.dom){x.shift()}if(x[x.length-1]===v.dom){x.pop()}if(x.length===0){e=w}else{if(o===w.dom){s=q===u.dom}else{if(w.contains(o)){s=!!r.forwardTab}else{s=q===u.dom}}}e=e||(s?x[0]:x[x.length-1]);if(e){e.focus()}}}},0,["window"],["component","box","container","panel","window"],{component:true,box:true,container:true,panel:true,window:true},["widget.window"],0,[Ext.window,"Window",Ext,"Window"],0));(Ext.cmd.derive("Ext.form.Labelable",Ext.Mixin,{isLabelable:true,mixinConfig:{id:"labelable",on:{beforeRender:"beforeLabelRender",onRender:"onLabelRender"}},config:{childEls:["labelEl","bodyEl","errorEl","errorWrapEl","ariaErrorEl","ariaStatusEl","ariaHelpEl","labelTextEl"]},labelableRenderTpl:["{beforeLabelTpl}",'<label id="{id}-labelEl" data-ref="labelEl" class="{labelCls} {labelCls}-{ui} {labelClsExtra} ','{childElCls} {unselectableCls}" style="{labelStyle}"','<tpl if="inputId && !skipLabelForAttribute"> for="{inputId}"</tpl>'," {labelAttrTpl}>",'<span class="{labelInnerCls} {labelInnerCls}-{ui}" style="{labelInnerStyle}">',"{beforeLabelTextTpl}",'<span id="{id}-labelTextEl" data-ref="labelTextEl" class="{labelTextCls}">','<tpl if="fieldLabel">{fieldLabel}','<tpl if="labelSeparator">{labelSeparator}</tpl>',"</tpl>","</span>","{afterLabelTextTpl}","</span>","</label>","{afterLabelTpl}",'<div id="{id}-bodyEl" data-ref="bodyEl" role="presentation"',' class="{baseBodyCls} {baseBodyCls}-{ui}<tpl if="fieldBodyCls">',' {fieldBodyCls} {fieldBodyCls}-{ui}</tpl> {growCls} {extraFieldBodyCls}"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{beforeBodyEl}","{beforeSubTpl}","{[values.$comp.getSubTplMarkup(values)]}","{afterSubTpl}","{afterBodyEl}",'<tpl if="renderAriaElements">','<tpl if="ariaHelp">','<span id="{id}-ariaHelpEl" data-ref="ariaHelpEl"',' class="x-hidden-offsets">',"{ariaHelp}","</span>","</tpl>",'<span id="{id}-ariaStatusEl" data-ref="ariaStatusEl" aria-hidden="true"',' class="x-hidden-offsets">',"{ariaStatus}","</span>",'<span id="{id}-ariaErrorEl" data-ref="ariaErrorEl" aria-hidden="true" aria-live="assertive"',' class="x-hidden-clip">',"</span>","</tpl>","</div>",'<tpl if="renderError">','<div id="{id}-errorWrapEl" data-ref="errorWrapEl" class="{errorWrapCls} {errorWrapCls}-{ui}',' {errorWrapExtraCls}" style="{errorWrapStyle}">','<div role="presentation" id="{id}-errorEl" data-ref="errorEl" ','class="{errorMsgCls} {invalidMsgCls} {invalidMsgCls}-{ui}" ','data-anchorTarget="{tipAnchorTarget}">',"</div>","</div>","</tpl>",{disableFormats:true}],activeErrorsTpl:undefined,htmlActiveErrorsTpl:['<tpl if="errors && errors.length">','<ul class="{listCls}">','<tpl for="errors"><li>{.}</li></tpl>',"</ul>","</tpl>"],plaintextActiveErrorsTpl:['<tpl if="errors && errors.length">','<tpl for="errors"><tpl if="xindex &gt; 1">\n</tpl>{.}</tpl>',"</tpl>"],ariaActiveErrorsTpl:['<tpl if="errors && errors.length">','<tpl for="errors" between=". ">{.}</tpl>',"</tpl>"],isFieldLabelable:true,formItemCls:"x-form-item",labelCls:"x-form-item-label",topLabelCls:"x-form-item-label-top",rightLabelCls:"x-form-item-label-right",labelInnerCls:"x-form-item-label-inner",labelTextCls:"x-form-item-label-text",topLabelSideErrorCls:"x-form-item-label-top-side-error",errorMsgCls:"x-form-error-msg",errorWrapCls:"x-form-error-wrap",errorWrapSideCls:"x-form-error-wrap-side",errorWrapUnderCls:"x-form-error-wrap-under",errorWrapUnderSideLabelCls:"x-form-error-wrap-under-side-label",baseBodyCls:"x-form-item-body",invalidIconCls:"x-form-invalid-icon",invalidUnderCls:"x-form-invalid-under",noLabelCls:"x-form-item-no-label",fieldBodyCls:"",extraFieldBodyCls:"",invalidCls:"x-form-invalid",fieldLabel:undefined,labelAlign:"left",labelWidth:100,labelPad:5,labelSeparator:":",hideLabel:false,hideEmptyLabel:true,preventMark:false,autoFitErrors:true,msgTarget:"qtip",msgTargets:{qtip:1,title:1,under:1,side:1,none:1},noWrap:true,ariaHelp:undefined,ariaErrorText:"Input error. {0}.",labelableInsertions:["beforeBodyEl","afterBodyEl","beforeLabelTpl","afterLabelTpl","beforeSubTpl","afterSubTpl","beforeLabelTextTpl","afterLabelTextTpl","labelAttrTpl"],statics:{initTip:function(){var g=this.tip,e,f;if(g){return}e={id:"ext-form-error-tip",ui:"form-invalid"};if(Ext.supports.Touch){e.dismissDelay=0;e.anchor="top";e.showDelay=0;e.showOnTap=true;e.listeners={beforeshow:function(){this.minWidth=Ext.fly(this.activeTarget.el).getWidth()}}}g=this.tip=Ext.create("Ext.tip.QuickTip",e);f=Ext.apply({},g.tagConfig);f.attribute="errorqtip";g.setTagConfig(f)},destroyTip:function(){this.tip=Ext.destroy(this.tip)}},initLabelable:function(){var d=this,e=d.padding;if(e){d.padding=undefined;d.extraMargins=Ext.Element.parseBox(e)}if(Ext.isIE8){d.restoreDisplay=Ext.Function.createDelayed(d.doRestoreDisplay,0,d)}if(!d.activeErrorsTpl){if(d.msgTarget==="title"){d.activeErrorsTpl=d.plaintextActiveErrorsTpl}else{d.activeErrorsTpl=d.htmlActiveErrorsTpl}}d.addCls([d.formItemCls,d.formItemCls+"-"+d.ui]);d.lastActiveError="";d.enableBubble("errorchange")},trimLabelSeparator:function(){var j=this,g=j.labelSeparator,f=j.fieldLabel||"",k=f.substr(f.length-1);return k===g?f.slice(0,-1):f},getFieldLabel:function(){return this.trimLabelSeparator()},setFieldLabel:function(q){q=q||"";var p=this,o=p.labelSeparator,r=p.labelEl,s=p.errorWrapEl,m=(p.labelAlign!=="top"),l=p.noLabelCls,n=p.errorWrapUnderSideLabelCls;p.fieldLabel=q;if(p.rendered){if(Ext.isEmpty(q)&&p.hideEmptyLabel){p.addCls(l);if(m&&s){s.removeCls(n)}}else{if(o){q=p.trimLabelSeparator()+o}p.labelTextEl.dom.innerHTML=q;p.removeCls(l);if(m&&s){s.addCls(n)}}p.updateLayout()}},setHideLabel:function(d){var e=this;if(d!==e.hideLabel){e.hideLabel=d;if(e.rendered){e[d?"addCls":"removeCls"](e.noLabelCls);e.updateLayout()}}},setHideEmptyLabel:function(e){var f=this,g;if(e!==f.hideEmptyLabel){f.hideEmptyLabel=e;if(f.rendered&&!f.hideLabel){g=e&&!f.getFieldLabel();f[g?"addCls":"removeCls"](f.noLabelCls);f.updateLayout()}}},getInsertionRenderData:function(k,j){var m=j.length,g,l;while(m--){g=j[m];l=this[g];if(l){if(typeof l!=="string"){if(!l.isTemplate){l=Ext.XTemplate.getTpl(this,g)}l=l.apply(k)}}k[g]=l||""}return k},getLabelableRenderData:function(){var A=this,w=A.labelAlign,K=(w==="top"),D=(w==="right"),G=(A.msgTarget==="side"),J=(A.msgTarget==="under"),x=A.errorMsgCls,I=A.labelPad,B=A.labelWidth,N=A.labelClsExtra||"",H=G?A.errorWrapSideCls:A.errorWrapUnderCls,O="",E="",L=A.hasVisibleLabel(),C=A.autoFitErrors,F=A.defaultBodyWidth,M,y;if(K){N+=" "+A.topLabelCls;if(I){E="padding-bottom:"+I+"px;"}if(G&&!C){N+=" "+A.topLabelSideErrorCls}}else{if(D){N+=" "+A.rightLabelCls}if(I){O+=A.getHorizontalPaddingStyle()+I+"px;"}O+="width:"+(B+(I?I:0))+"px;";E="width:"+B+"px"}if(L){if(!K&&J){H+=" "+A.errorWrapUnderSideLabelCls}}if(F){M="min-width:"+F+"px;max-width:"+F+"px;"}y={id:A.id,inputId:A.getInputId(),labelCls:A.labelCls,labelClsExtra:N,labelStyle:O+(A.labelStyle||""),labelInnerStyle:E,labelInnerCls:A.labelInnerCls,labelTextCls:A.labelTextCls,skipLabelForAttribute:!!A.skipLabelForAttribute,unselectableCls:Ext.Element.unselectableCls,bodyStyle:M,baseBodyCls:A.baseBodyCls,fieldBodyCls:A.fieldBodyCls,extraFieldBodyCls:A.extraFieldBodyCls,errorWrapCls:A.errorWrapCls,errorWrapExtraCls:H,renderError:G||J,invalidMsgCls:G?A.invalidIconCls:J?A.invalidUnderCls:"",errorMsgCls:x,growCls:A.grow?A.growCls:"",tipAnchorTarget:A.id+"-inputEl",errorWrapStyle:(G&&!C)?"visibility:hidden":"display:none",fieldLabel:A.getFieldLabel(),labelSeparator:A.labelSeparator,renderAriaElements:!!A.renderAriaElements,ariaStatus:""};if(A.ariaHelp){y.ariaHelp=Ext.String.htmlEncode(A.ariaHelp)}A.getInsertionRenderData(y,A.labelableInsertions);return y},getHorizontalPaddingStyle:function(){return"padding-right:"},beforeLabelRender:function(){var c=this;c.setFieldDefaults(c.getInherited().fieldDefaults);if(c.ownerLayout){c.addCls("x-"+c.ownerLayout.type+"-form-item")}if(!c.hasVisibleLabel()){c.addCls(c.noLabelCls)}},onLabelRender:function(){var m=this,n={},k=Ext.Element,j=m.errorWrapEl,l,o;if(j){j.setVisibilityMode((m.msgTarget==="side"&&!m.autoFitErrors)?k.VISIBILITY:k.DISPLAY)}if(m.extraMargins){l=m.el.getMargin();for(o in l){if(l.hasOwnProperty(o)){n["margin-"+o]=(l[o]+m.extraMargins[o])+"px"}}m.el.setStyle(n)}},hasVisibleLabel:function(){if(this.hideLabel){return false}return !(this.hideEmptyLabel&&!this.getFieldLabel())},getSubTplMarkup:function(){return""},getInputId:function(){return""},getActiveError:function(){return this.activeError||""},hasActiveError:function(){return !!this.getActiveError()},setActiveError:function(c){this.setActiveErrors(c)},getActiveErrors:function(){return this.activeErrors||[]},setActiveErrors:function(v){var y=this,w=y.errorWrapEl,B=y.msgTarget,C=B==="side",s=B==="qtip",r=y.ariaErrorEl,E,F,A,u,x,G,D;v=Ext.Array.from(v);A=y.lookupTpl("activeErrorsTpl");y.activeErrors=v;F=y.activeError=A.apply({fieldLabel:y.fieldLabel,errors:v,listCls:"x-list-plain"});y.renderActiveError();if(y.rendered){E=y.getActionEl();if(C){y.errorEl.dom.setAttribute("data-errorqtip",F)}else{if(s){E.dom.setAttribute("data-errorqtip",F)}else{if(B==="title"){E.dom.setAttribute("title",F)}}}if(B!=="title"&&r){x=y.lookupTpl("ariaActiveErrorsTpl");G=x.apply({errors:v});D=Ext.String.formatEncode(y.ariaErrorText,G,y.fieldLabel);if(r.dom.innerHTML!==D){r.dom.innerHTML=D}y.ariaStatusEl.dom.innerHTML=Ext.String.htmlEncode(G)}if(C||s){Ext.form.Labelable.initTip()}if(!y.msgTargets[B]){u=Ext.get(B);if(u){u.dom.innerHTML=F}}}if(w){w.setVisible(v.length>0);if(C&&y.autoFitErrors){y.labelEl.addCls(y.topLabelSideErrorCls)}y.updateLayout()}},unsetActiveError:function(){var m=this,q=m.errorWrapEl,n=m.ariaErrorEl,p=m.msgTarget,k=m.restoreDisplay,o,l;if(m.hasActiveError()){delete m.activeError;delete m.activeErrors;m.renderActiveError();if(m.rendered){o=m.getActionEl();if(p==="qtip"){o.dom.removeAttribute("data-errorqtip")}else{if(p==="title"){o.dom.removeAttribute("title")}}if(p!=="title"&&n){n.dom.innerHTML=m.ariaStatusEl.dom.innerHTML=""}if(!m.msgTargets[p]){l=Ext.get(p);if(l){l.dom.innerHTML=""}}if(q){q.hide();if(p==="side"&&m.autoFitErrors){m.labelEl.removeCls(m.topLabelSideErrorCls)}m.updateLayout();if(k){m.el.dom.style.display="block";m.restoreDisplay()}}}}},doRestoreDisplay:function(){var c=this.el;if(c&&c.dom){c.dom.style.display=""}},renderActiveError:function(){var f=this,g=f.getActiveError(),e=!!g;if(g!==f.lastActiveError){f.lastActiveError=g;f.fireEvent("errorchange",f,g)}if(f.rendered&&!f.destroyed&&!f.preventMark){f.toggleInvalidCls(e);if(f.errorEl){f.errorEl.dom.innerHTML=g}}},toggleInvalidCls:function(c){this.el[c?"addCls":"removeCls"](this.invalidCls)},setFieldDefaults:function(e){var d;for(d in e){if(!this.hasOwnProperty(d)){this[d]=e[d]}}}},0,0,0,0,0,0,[Ext.form,"Labelable"],function(){if(Ext.supports.Touch){this.prototype.msgTarget="side"}}));Ext.define("Ext.overrides.form.Labelable",{override:"Ext.form.Labelable",msgTarget:"qtip",labelAlign:"top",labelSeparator:""});(Ext.cmd.derive("Ext.form.field.Field",Ext.Base,{mixinId:"field",isFormField:true,config:{validation:null,validationField:null},disabled:false,submitValue:true,validateOnChange:true,valuePublishEvent:"change",suspendCheckChange:0,dirty:false,initField:function(){var g=this,j=g.valuePublishEvent,f,k;g.initValue();if(Ext.isString(j)){g.on(j,g.publishValue,g)}else{for(k=0,f=j.length;k<f;++k){g.on(j[k],g.publishValue,g)}}},initValue:function(){var c=this;if("value" in c){c.suspendCheckChange++;c.setValue(c.value);c.suspendCheckChange--}c.initialValue=c.originalValue=c.lastValue=c.getValue()},cleanupField:function(){delete this._ownerRecord},getFieldIdentifier:function(){return this.isEditorComponent?this.dataIndex:this.name},getName:function(){return this.name},getValue:function(){return this.value},setValue:function(e){var d=this;d.value=e;d.checkChange();return d},isEqual:function(e,d){return String(e)===String(d)},isEqualAsString:function(e,d){return String(Ext.valueFrom(e,""))===String(Ext.valueFrom(d,""))},getSubmitData:function(){var d=this,e=null;if(!d.disabled&&d.submitValue){e={};e[d.getName()]=""+d.getValue()}return e},getModelData:function(f,k){var j=this,g=null;if(!j.disabled&&(j.submitValue||!k)){g={};g[j.getFieldIdentifier()]=j.getValue()}return g},reset:function(){var c=this;c.beforeReset();c.setValue(c.originalValue);c.clearInvalid();delete c.wasValid},beforeReset:Ext.emptyFn,resetOriginalValue:function(){this.originalValue=this.getValue();this.checkDirty()},checkChange:function(){var f=this,g,e;if(!f.suspendCheckChange&&!f.destroying&&!f.destroyed){g=f.getValue();e=f.lastValue;if(f.didValueChange(g,e)){f.lastValue=g;f.fireEvent("change",f,g,e);f.onChange(g,e)}}},didValueChange:function(e,d){return !this.isEqual(e,d)},onChange:function(d){var e=this;if(e.validateOnChange){e.validate()}e.checkDirty()},publishValue:function(){var c=this;if(c.rendered&&!c.getErrors().length){c.publishState("value",c.getValue())}},isDirty:function(){var c=this;return !c.disabled&&!c.isEqual(c.getValue(),c.originalValue)},checkDirty:function(){var d=this,e=d.isDirty();if(e!==d.wasDirty){d.dirty=e;d.fireEvent("dirtychange",d,e);d.onDirtyChange(e);d.wasDirty=e}},onDirtyChange:Ext.emptyFn,getErrors:function(k){var j=[],l=this.getValidationField(),m=this.getValidation(),g;if(l){g=l.validate(k,null,null,this._ownerRecord);if(g!==true){j.push(g)}}if(m&&m!==true){j.push(m)}return j},isValid:function(){var c=this;return c.disabled||Ext.isEmpty(c.getErrors())},validate:function(){return this.checkValidityChange(this.isValid())},checkValidityChange:function(e){var d=this;if(e!==d.wasValid){d.wasValid=e;d.fireEvent("validitychange",d,e)}return e},setValidationField:function(e,d){(arguments.callee.$previous||Ext.Base.prototype.setValidationField).call(this,e);this._ownerRecord=d},batchChanges:function(c){try{this.suspendCheckChange++;c()}finally{this.suspendCheckChange--}this.checkChange()},isFileUpload:function(){return false},extractFileInput:function(){return null},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,updateValidation:function(d,e){if(e){this.validate()}},privates:{resetToInitialValue:function(){var e=this,d=e.originalValue;e.originalValue=e.initialValue;e.reset();e.originalValue=d}}},0,0,0,0,0,0,[Ext.form.field,"Field"],0));(Ext.cmd.derive("Ext.form.field.Base",Ext.Component,{alternateClassName:["Ext.form.Field","Ext.form.BaseField"],focusable:true,shrinkWrap:true,fieldSubTpl:['<input id="{id}" data-ref="inputEl" type="{type}" {inputAttrTpl}',' size="1"','<tpl if="name"> name="{name}"</tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','{%if (values.maxLength !== undefined){%} maxlength="{maxLength}"{%}%}','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',"<tpl if=\"ariaEl == 'inputEl'\">",'<tpl foreach="ariaElAttributes"> {$}="{.}"</tpl>',"</tpl>",'<tpl foreach="inputElAriaAttributes"> {$}="{.}"</tpl>',' class="{fieldCls} {typeCls} {typeCls}-{ui} {editableCls} {inputCls}" autocomplete="off"/>',{disableFormats:true}],defaultBindProperty:"value",autoEl:{role:"presentation"},subTplInsertions:["inputAttrTpl"],childEls:["inputEl"],inputType:"text",isTextInput:true,invalidText:"The value in this field is invalid",fieldCls:"x-form-field",focusCls:"form-focus",dirtyCls:"x-form-dirty",checkChangeEvents:Ext.isIE&&(!document.documentMode||document.documentMode<=9)?["change","propertychange","keyup"]:["change","input","textInput","keyup","dragdrop"],ignoreChangeRe:/data\-errorqtip|style\.|className/,checkChangeBuffer:50,liquidLayout:true,readOnly:false,readOnlyCls:"x-form-readonly",validateOnBlur:true,hasFocus:false,baseCls:"x-field",fieldBodyCls:"x-field-body",maskOnDisable:false,stretchInputElFixed:true,ariaEl:"inputEl",renderAriaElements:true,initComponent:function(){var c=this;Ext.Component.prototype.initComponent.call(this);c.subTplData=c.subTplData||{};c.initLabelable();c.initField();c.initDefaultName();if(c.readOnly){c.addCls(c.readOnlyCls)}c.addCls("x-form-type-"+c.inputType);if(c.format&&c.formatText&&!c.ariaHelp){c.ariaHelp=Ext.String.format(c.formatText,c.format)}},initDefaultName:function(){var c=this;if(!c.name){c.name=c.getInputId()}},getInputId:function(){return this.inputId||(this.inputId=this.id+"-inputEl")},getSubTplData:function(q){var o=this,m=o.id,p=o.inputType,s=o.getInputId(),n,r,l;n=Ext.apply({ui:o.ui,id:s,cmpId:m,name:o.name||s,disabled:o.disabled,readOnly:o.readOnly,value:o.getRawValue(),type:p,fieldCls:o.fieldCls,fieldStyle:o.getFieldStyle(),childElCls:q.childElCls,tabIdx:o.tabIndex,inputCls:o.inputCls,typeCls:"x-form-"+(o.isTextInput?"text":p),ariaEl:o.ariaEl},o.subTplData);if(o.ariaRole){r={};if(!o.ariaStaticRoles[o.ariaRole]){r["aria-hidden"]=!!o.hidden;r["aria-disabled"]=!!o.disabled;l={"aria-invalid":false,"aria-readonly":!!o.readOnly};if(o.ariaLabel){r["aria-label"]=Ext.String.htmlEncode(o.ariaLabel)}r=Ext.apply(r,o.getAriaAttributes());if(!r["aria-describedby"]){if(o.ariaHelp){l["aria-describedby"]=m+"-ariaStatusEl "+m+"-ariaHelpEl"}else{l["aria-describedby"]=m+"-ariaStatusEl"}}n.inputElAriaAttributes=l}if(o.ariaRole!=="native"){r.role=o.ariaRole}if(o.ariaLabel){r["aria-label"]=o.ariaLabel}if(o.format&&o.formatText&&!n.title){r.title=Ext.String.formatEncode(o.formatText,o.format)}n.ariaElAttributes=r}o.getInsertionRenderData(n,o.subTplInsertions);return n},getSubTplMarkup:function(o){var n=this,m=n.getSubTplData(o),l=n.lookupTpl("preSubTpl"),k=n.lookupTpl("postSubTpl"),j="";if(l){j+=l.apply(m)}j+=n.lookupTpl("fieldSubTpl").apply(m);if(k){j+=k.apply(m)}return j},initRenderData:function(){return Ext.applyIf(Ext.Component.prototype.initRenderData.call(this),this.getLabelableRenderData())},setFieldStyle:function(e){var g=this,f=g.inputEl;if(f){f.applyStyles(e)}g.fieldStyle=e},getFieldStyle:function(){var c=this.fieldStyle;return Ext.isObject(c)?Ext.DomHelper.generateStyles(c,null,true):c||""},onRender:function(){this.callParent(arguments);this.mixins.labelable.self.initTip();this.renderActiveError()},beforeBlur:function(c){if(this.validateOnBlur){this.validate()}},onFocusLeave:function(c){Ext.Component.prototype.onFocusLeave.call(this,c);this.completeEdit()},completeEdit:Ext.emptyFn,isFileUpload:function(){return this.inputType==="file"},getSubmitData:function(){var e=this,g=null,f;if(!e.disabled&&e.submitValue){f=e.getSubmitValue();if(f!==null){g={};g[e.getName()]=f}}return g},getSubmitValue:function(){return this.processRawValue(this.getRawValue())},getRawValue:function(){var e=this,d=(e.inputEl?e.inputEl.getValue():Ext.valueFrom(e.rawValue,""));e.rawValue=d;return d},setRawValue:function(f){var e=this,g=e.rawValue;if(!e.transformRawValue.$nullFn){f=e.transformRawValue(f)}f=Ext.valueFrom(f,"");if(g===undefined||g!==f){e.rawValue=f;if(e.inputEl){e.bindChangeEvents(false);e.inputEl.dom.value=f;e.bindChangeEvents(true)}}if(e.rendered&&e.reference){e.publishState("rawValue",f)}return f},transformRawValue:Ext.identityFn,valueToRaw:function(c){return""+Ext.valueFrom(c,"")},rawToValue:Ext.identityFn,processRawValue:Ext.identityFn,getValue:function(){var d=this,e=d.rawToValue(d.processRawValue(d.getRawValue()));d.value=e;return e},setValue:function(e){var d=this;d.setRawValue(d.valueToRaw(e));return d.mixins.field.setValue.call(d,e)},onBoxReady:function(){var c=this;Ext.Component.prototype.onBoxReady.apply(this,arguments);if(c.setReadOnlyOnBoxReady){c.setReadOnly(c.readOnly)}},onDisable:function(){var d=this,e=d.inputEl;Ext.Component.prototype.onDisable.call(this);if(e){e.dom.disabled=true;if(d.hasActiveError()){d.clearInvalid();d.hadErrorOnDisable=true}}if(d.wasValid===false){d.checkValidityChange(true)}},onEnable:function(){var k=this,j=k.inputEl,g=k.preventMark,f;Ext.Component.prototype.onEnable.call(this);if(j){j.dom.disabled=false}if(k.wasValid!==undefined){k.forceValidation=true;k.preventMark=!k.hadErrorOnDisable;f=k.isValid();k.forceValidation=false;k.preventMark=g;k.checkValidityChange(f)}delete k.hadErrorOnDisable},setReadOnly:function(g){var k=this,j=k.inputEl,f=k.readOnly;g=!!g;k[g?"addCls":"removeCls"](k.readOnlyCls);k.readOnly=g;if(j){j.dom.readOnly=g;j.dom.setAttribute("aria-readonly",g)}else{if(k.rendering){k.setReadOnlyOnBoxReady=true}}if(g!==f){k.fireEvent("writeablechange",k,g)}},fireKey:function(e,d){if(e.isSpecialKey()){this.fireEvent("specialkey",this,e,d)}},initEvents:function(){var n=this,l=n.inputEl,m=n.onFieldMutation,p=n.checkChangeEvents,k=p.length,q,o;if(l){n.mon(l,Ext.supports.SpecialKeyDownRepeat?"keydown":"keypress",n.fireKey,n);for(q=0;q<k;++q){o=p[q];if(o==="propertychange"){n.usesPropertychange=true}if(o==="textInput"){n.usesTextInput=true}n.mon(l,o,m,n)}}Ext.Component.prototype.initEvents.call(this)},onFieldMutation:function(c){if(!this.readOnly&&!(c.type==="propertychange"&&this.ignoreChangeRe.test(c.browserEvent.propertyName))){this.startCheckChangeTask()}},startCheckChangeTask:function(){var e=this,d=e.checkChangeTask;if(!d){e.checkChangeTask=d=new Ext.util.DelayedTask(e.doCheckChangeTask,e)}if(!e.bindNotifyListener){e.bindNotifyListener=Ext.on("beforebindnotify",e.onBeforeNotify,e,{destroyable:true})}d.delay(e.checkChangeBuffer)},doCheckChangeTask:function(){var c=this.bindNotifyListener;if(c){c.destroy();this.bindNotifyListener=null}this.checkChange()},publishValue:function(){var c=this;if(c.rendered&&!c.getErrors().length){c.publishState("value",c.getValue())}},onDirtyChange:function(e){var d=this;d[e?"addCls":"removeCls"](d.dirtyCls);if(d.rendered&&d.reference){d.publishState("dirty",e)}},isValid:function(){var g=this,e=g.disabled,f=g.forceValidation||!e;return f?g.validateValue(g.processRawValue(g.getRawValue())):e},validateValue:function(k){var f=this,g=f.getErrors(k),j=Ext.isEmpty(g);if(!f.preventMark){if(j){f.clearInvalid()}else{f.markInvalid(g)}}return j},markInvalid:function(g){var k=this,f=k.getActiveError(),j;k.setActiveErrors(Ext.Array.from(g));j=k.getActiveError();if(f!==j){k.setError(j);if(!k.ariaStaticRoles[k.ariaRole]&&k.inputEl){k.inputEl.dom.setAttribute("aria-invalid",true)}}},clearInvalid:function(){var e=this,d=e.hasActiveError();delete e.hadErrorOnDisable;e.unsetActiveError();if(d){e.setError("");if(!e.ariaStaticRoles[e.ariaRole]&&e.inputEl){e.inputEl.dom.setAttribute("aria-invalid",false)}}},setError:function(f){var j=this,k=j.msgTarget,g;if(j.rendered){if(k==="title"||k==="qtip"){g=k==="qtip"?"data-errorqtip":"title";j.getActionEl().dom.setAttribute(g,f||"")}else{j.updateLayout()}}},renderActiveError:function(){var f=this,g=f.hasActiveError(),e=f.invalidCls+"-field";if(f.inputEl){f.inputEl[g?"addCls":"removeCls"]([e,e+"-"+f.ui])}f.mixins.labelable.renderActiveError.call(f)},doDestroy:function(){var e=this,d=e.checkChangeTask;if(d){d.cancel()}Ext.destroy(e.bindNotifyListener);e.cleanupField();Ext.Component.prototype.doDestroy.call(this)},privates:{applyBind:function(k,n){var o=this,j=n&&n.value,l,m;l=Ext.Component.prototype.applyBind.call(this,k,n);if(l){m=l.value;o.hasBindingValue=!!m;if(m!==j&&o.getInherited().modelValidation){o.updateValueBinding(l)}}return l},applyRenderSelectors:function(){var c=this;Ext.Component.prototype.applyRenderSelectors.call(this);if(!c.inputEl){c.inputEl=c.el.getById(c.getInputId())}},bindChangeEvents:function(g){var f=g?"resumeEvent":"suspendEvent",e=this.inputEl;if(this.usesPropertychange){e[f]("propertychange")}if(this.usesTextInput){e[f]("textInput")}},getActionEl:function(){return this.inputEl||this.el},getFocusEl:function(){return this.inputEl},initRenderTpl:function(){var c=this;if(!c.hasOwnProperty("renderTpl")){c.renderTpl=c.lookupTpl("labelableRenderTpl")}return Ext.Component.prototype.initRenderTpl.call(this)},onBeforeNotify:function(){this.checkChangeTask.cancel();this.checkChange()},updateValueBinding:function(g){var j=this,k=g.value,f=g.$fieldBinding;if(f){f.destroy();g.$fieldBinding=null}if(k&&k.bindValidationField){j.fieldBinding=k.bindValidationField("setValidationField",j)}}},deprecated:{"5":{methods:{doComponentLayout:function(){this.bindChangeEvents(false);this.callParent(arguments);this.bindChangeEvents(true)}}}}},0,["field"],["component","box","field"],{component:true,box:true,field:true},["widget.field"],[[Ext.form.Labelable.prototype.mixinId||Ext.form.Labelable.$className,Ext.form.Labelable],[Ext.form.field.Field.prototype.mixinId||Ext.form.field.Field.$className,Ext.form.field.Field]],[Ext.form.field,"Base",Ext.form,"Field",Ext.form,"BaseField"],0));Ext.define("Ext.overrides.form.field.Base",{override:"Ext.form.field.Base",msgTarget:"qtip",labelAlign:"top",labelSeparator:"",enabledENTER:true,useLabelBold:true,useReadColor:false,setTextAlign:false,useUpperCase:false,initComponent_:function(){var c=this;c.callParent();if(c.getXType()=="displayfield"){return false}c.onAfter("afterrender",c.fnAfterRender,c)},fnSecialKey:function(f,g,e){if(g.getKey()==g.ENTER){g.browserEvent.keyCode=g.TAB}},fnAfterRender:function(f,e){var g=this;if(g.setTextAlign){g.inputEl.setStyle("text-align",g.setTextAlign)}if(g.useUpperCase){f.mon(f.el,"keyup",function(){this.setValue(this.getValue().toUpperCase())},f)}},setLabelBold:function(f){var g=this,e="font-weight: bold;";if(f){g.labelStyle=g.labelStyle?(g.labelStyle+e):e}},objectMerge:function(l,m){var o=this;if(typeof l!=="object"){l={}}for(var n in m){if(m.hasOwnProperty(n)){var k=m[n];if(typeof k==="object"){l[n]=o.fieldStyleMerge(l[n],k);continue}l[n]=k}}for(var p=2,q=arguments.length;p<q;p++){merge(l,arguments[p])}return l}});(Ext.cmd.derive("Ext.form.field.VTypes",Ext.Base,(function(){var j=/^[a-zA-Z_]+$/,g=/^[a-zA-Z0-9_]+$/,k=/^(")?(?:[^\."\s])(?:(?:[\.])?(?:[\w\-!#$%&'*+/=?^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,f=/(((^https?)|(^ftp)):\/\/((([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*)|(localhost|LOCALHOST))\/?)/i;return{singleton:true,alternateClassName:"Ext.form.VTypes",email:function(b){return k.test(b)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[\w.\-@'"!#$%&'*+/=?^_`{|}~]/i,url:function(b){return f.test(b)},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(b){return j.test(b)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(b){return g.test(b)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}()),0,0,0,0,0,0,[Ext.form.field,"VTypes",Ext.form,"VTypes"],0));Ext.define("Ext.overrides.form.field.VTypes",{override:"Ext.form.field.VTypes",time:function(e,d){return/^\s*([01]?\d|2[0-3]):?([0-5]\d)\s*$/.test(e)},timeText:'N&#227o &#233 um hor&#225rio v&#225lido. Deve estar no formato "23:59"',timeMask:/[\d\s:amp]/i,IPAddress:function(e,d){return/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/.test(e)},IPAddressText:"Deve ser um endere&#231o IP num&#233rico",IPAddressMask:/[\d\.]/i,cpf:function(j,k){var g,f;g=0;if(j=="00000000000"){return false}if(j=="11111111111"){return false}for(i=1;i<=9;i++){g=g+parseInt(j.substring(i-1,i))*(11-i)}f=(g*10)%11;if((f==10)||(f==11)){f=0}if(f!=parseInt(j.substring(9,10))){return false}g=0;for(i=1;i<=10;i++){g=g+parseInt(j.substring(i-1,i))*(12-i)}f=(g*10)%11;if((f==10)||(f==11)){f=0}if(f!=parseInt(j.substring(10,11))){return false}return true},cpfText:'Sem CPF v&#225lido. Deve ser um CPF no formato "000.000.000-00"',daterange:function(k,l){var m=l.parseDate(k);if(!m){return}if(l.startDateField&&(!this.dateRangeMax||(m.getTime()!=this.dateRangeMax.getTime()))){var j=Ext.getCmp(l.startDateField);j.setMaxValue(m);j.validate();this.dateRangeMax=m}else{if(l.endDateField&&(!this.dateRangeMin||(m.getTime()!=this.dateRangeMin.getTime()))){var g=Ext.getCmp(l.endDateField);g.setMinValue(m);g.validate();this.dateRangeMin=m}}return true},timerange:function(k,l){var m=l.parseDate(k);if(!m){return}if(l.startTimeField&&(!this.timeRangeMax||(m.getTime()!=this.timeRangeMax.getTime()))){var j=Ext.getCmp(l.startTimeField);j.maxValue=m;j.validate();this.timeRangeMax=m}else{if(l.endTimeField&&(!this.timeRangeMin||(m.getTime()!=this.timeRangeMin.getTime()))){var g=Ext.getCmp(l.endTimeField);g.minValue=m;g.validate();this.timeRangeMin=m}}return true}});(Ext.cmd.derive("Ext.form.trigger.Trigger",Ext.Base,{factoryConfig:{defaultType:"trigger"},repeatClick:false,hidden:false,hideOnReadOnly:undefined,tooltip:null,weight:0,preventMouseDown:true,focusOnMousedown:false,baseCls:"x-form-trigger",focusCls:"x-form-trigger-focus",overCls:"x-form-trigger-over",clickCls:"x-form-trigger-click",validIdRe:Ext.validIdRe,renderTpl:['<div id="{triggerId}" class="{baseCls} {baseCls}-{ui} {cls} {cls}-{ui} {extraCls} ','{childElCls}"<tpl if="triggerStyle"> style="{triggerStyle}"</tpl>','<tpl if="ariaRole"> role="{ariaRole}"<tpl else> role="presentation"</tpl>',">","{[values.$trigger.renderBody(values)]}","</div>"],statics:{weightComparator:function(d,e){return d.weight-e.weight}},constructor:function(g){var f=this,e;Ext.apply(f,g);if(f.compat4Mode){e=f.cls;f.focusCls=[f.focusCls,e+"-focus"];f.overCls=[f.overCls,e+"-over"];f.clickCls=[f.clickCls,e+"-click"]}},afterFieldRender:function(){var d=this,e=d.tooltip;d.initEvents();if(e){d.tooltip=null;d.setTooltip(e)}},destroy:function(){var c=this;c.clickRepeater=c.el=Ext.destroy(c.clickRepeater,c.el);c.callParent()},getBodyRenderData:Ext.emptyFn,getEl:function(){return this.el||null},getStateEl:function(){return this.el},hide:function(){var e=this,d=e.el;e.hidden=true;if(d){d.hide()}},initEvents:function(){var g=this,f=g.isFieldEnabled,j=g.getStateEl(),k=g.el;j.addClsOnOver(g.overCls,f,g);j.addClsOnClick(g.clickCls,f,g);if(g.repeatClick){g.clickRepeater=new Ext.util.ClickRepeater(k,{preventDefault:true,handler:g.onClick,listeners:{mousedown:g.onClickRepeaterMouseDown,mouseup:g.onClickRepeaterMouseUp,scope:g},scope:g})}else{g.field.mon(k,{click:g.onClick,mousedown:g.onMouseDown,scope:g})}},isFieldEnabled:function(){return !this.field.disabled},isVisible:function(){var e=this,f=e.field,g=false;if(e.hidden||!f||!e.rendered||e.destroyed){g=true}return !g},onClick:function(){var l=this,e=arguments,j=l.clickRepeater?e[1]:e[0],m=l.handler,k=l.field;if(m&&!k.readOnly&&l.isFieldEnabled()){Ext.callback(l.handler,l.scope,[k,l,j],0,k)}},resolveListenerScope:function(c){return this.field.resolveSatelliteListenerScope(this,c)},onMouseDown:function(c){if(c.pointerType!=="touch"&&(!this.field.containsFocus||this.focusOnMousedown)){this.field.focus()}if(this.preventMouseDown){c.preventDefault()}},onClickRepeaterMouseDown:function(e,d){if(!d.parentEvent||d.parentEvent.type==="mousedown"){this.field.inputEl.focus()}d.preventDefault()},onClickRepeaterMouseUp:function(f){var e=this,g=e.field;Ext.callback(e.endHandler,e.scope,[g,e,f],0,g)},onFieldBlur:function(){this.getStateEl().removeCls(this.focusCls)},onFieldFocus:function(){this.getStateEl().addCls(this.focusCls)},onFieldRender:function(){var e=this,d=e.el=e.field.triggerWrap.selectNode("#"+e.domId,false);d.setVisibilityMode(Ext.Element.DISPLAY);e.rendered=true},renderBody:function(g){var e=this,f=e.bodyTpl;Ext.apply(g,e.getBodyRenderData());return f?Ext.XTemplate.getTpl(e,"bodyTpl").apply(g):""},renderTrigger:function(f){var j=this,k=j.width,g=j.hidden?"display:none;":"";if(k){g+="width:"+k}return Ext.XTemplate.getTpl(j,"renderTpl").apply({$trigger:j,fieldData:f,ui:f.ui,childElCls:f.childElCls,triggerId:j.domId=j.field.id+"-trigger-"+j.id,cls:j.cls,triggerStyle:g,extraCls:j.extraCls,baseCls:j.baseCls,ariaRole:j.ariaRole})},setHidden:function(c){if(c!==this.hidden){this[c?"hide":"show"]()}},setTooltip:function(j){var k=this,f=k.el,g=k.tooltip;if(j!==g){k.tooltip=j;if(f){f.dom.setAttribute("data-qtip",Ext.htmlEncode(j))}}},setVisible:function(c){this.setHidden(!c)},show:function(){var e=this,d=e.el;e.hidden=false;if(d){d.show()}}},1,0,0,0,["trigger.trigger"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.form.trigger,"Trigger"],0));(Ext.cmd.derive("Ext.form.field.Text",Ext.form.field.Base,{alternateClassName:["Ext.form.TextField","Ext.form.Text"],config:{hideTrigger:false,triggers:undefined},renderConfig:{editable:true},growMin:30,growMax:800,growAppend:"W",allowBlank:true,validateBlank:false,allowOnlyWhitespace:true,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",blankText:"This field is required",regexText:"",emptyText:"",emptyCls:"x-form-empty-field",placeholderCoverCls:"x-placeholder-label",requiredCls:"x-form-required-field",ariaRole:"textbox",repeatTriggerClick:false,triggerWrapCls:"x-form-trigger-wrap",triggerWrapFocusCls:"x-form-trigger-wrap-focus",triggerWrapInvalidCls:"x-form-trigger-wrap-invalid",fieldBodyCls:"x-form-text-field-body",inputWrapCls:"x-form-text-wrap",inputWrapFocusCls:"x-form-text-wrap-focus",inputWrapInvalidCls:"x-form-text-wrap-invalid",growCls:"x-form-text-grow",emptyClsElements:null,needArrowKeys:true,squashMouseUp:{mouseup:function(c){if(this.selectOnFocus){this.inputEl.dom.select()}},translate:false,single:true,preventDefault:true},childEls:["triggerWrap","inputWrap","placeholderLabel"],preSubTpl:['<div id="{cmpId}-triggerWrap" data-ref="triggerWrap"',"<tpl if=\"ariaEl == 'triggerWrap'\">",'<tpl foreach="ariaElAttributes"> {$}="{.}"</tpl>',"<tpl else>",' role="presentation"',"</tpl>",' class="{triggerWrapCls} {triggerWrapCls}-{ui}">','<div id={cmpId}-inputWrap data-ref="inputWrap"',' role="presentation" class="{inputWrapCls} {inputWrapCls}-{ui}">'],postSubTpl:['<tpl if="!Ext.supports.Placeholder">','<label id="{cmpId}-placeholderLabel" data-ref="placeholderLabel" for="{id}" class="{placeholderCoverCls} {placeholderCoverCls}-{ui}">{placeholder}</label>',"</tpl>","</div>",'<tpl for="triggers">{[values.renderTrigger(parent)]}</tpl>',"</div>"],initComponent:function(){var e=this,d=e.emptyCls;if(e.allowOnlyWhitespace===false){e.allowBlank=false}if(e.size){e.defaultBodyWidth=e.size*6.5+20}if(!e.onTrigger1Click){e.onTrigger1Click=e.onTriggerClick}Ext.form.field.Base.prototype.initComponent.call(this);if(e.readOnly){e.setReadOnly(e.readOnly)}e.fieldFocusCls=e.baseCls+"-focus";e.emptyUICls=d+" "+d+"-"+e.ui;e.addStateEvents("change")},initEvents:function(){var e=this,d=e.inputEl;Ext.form.field.Base.prototype.initEvents.call(this);if(e.selectOnFocus||e.emptyText){e.mon(d,"mousedown",e.onMouseDown,e)}if(e.maskRe||(e.vtype&&e.disableKeyFilter!==true&&(e.maskRe=Ext.form.field.VTypes[e.vtype+"Mask"]))){e.mon(d,"keypress",e.filterKeys,e)}if(e.enableKeyEvents){e.mon(d,{scope:e,keyup:e.onKeyUp,keydown:e.onKeyDown,keypress:e.onKeyPress})}},isEqual:function(e,d){return this.isEqualAsString(e,d)},onChange:function(e,d){Ext.form.field.Base.prototype.onChange.call(this,e,d);this.autoSize()},getSubTplData:function(r){var q=this,o=q.getRawValue(),m=q.emptyText&&o.length<1,l=q.maxLength,n,p,s;if(q.enforceMaxLength){if(l===Number.MAX_VALUE){l=undefined}}else{l=undefined}if(q.emptyText){n=q.emptyText}p=Ext.apply(Ext.form.field.Base.prototype.getSubTplData.call(this,r),{triggerWrapCls:q.triggerWrapCls,inputWrapCls:q.inputWrapCls,placeholderCoverCls:q.placeholderCoverCls,triggers:q.orderedTriggers,maxLength:l,readOnly:!q.editable||q.readOnly,placeholder:n,value:o,fieldCls:q.fieldCls+(q.allowBlank?"":" "+q.requiredCls)+(m?" "+q.emptyUICls:"")});s=p.inputElAriaAttributes;if(s){s["aria-required"]=!q.allowBlank}return p},onRender:function(){var k=this,f=k.getTriggers(),j=[],g;if(Ext.supports.FixedTableWidthBug){k.el._needsTableWidthFix=true}(arguments.callee.$previous||Ext.form.field.Base.prototype.onRender).call(this);if(f){this.invokeTriggers("onFieldRender");for(g in f){j.push(f[g].el)}k.triggerEl=k.triggerCell=new Ext.CompositeElement(j,true)}k.inputCell=k.inputWrap},afterRender:function(){var c=this;c.autoSize();Ext.form.field.Base.prototype.afterRender.call(this);c.invokeTriggers("afterFieldRender");c.emptyClsElements=[c.inputEl]},onMouseDown:function(){if(!this.hasFocus){this.squashMouseUp.scope=this;Ext.getDoc().on(this.squashMouseUp)}},applyTriggers:function(s){var r=this,x=r.getHideTrigger(),p=r.readOnly,o=r.orderedTriggers=[],q=r.repeatTriggerClick,y,u,w,A,v;if(!s){s={};if(r.triggerCls&&!r.trigger1Cls){r.trigger1Cls=r.triggerCls}for(v=1;(A=r["trigger"+v+"Cls"]);v++){s["trigger"+v]={cls:A,extraCls:"x-trigger-index-"+v,handler:"onTrigger"+v+"Click",compat4Mode:true,scope:r}}}for(y in s){if(s.hasOwnProperty(y)){u=s[y];u.field=r;u.id=y;if((p&&u.hideOnReadOnly!==false)||(x&&u.hidden!==false)){u.hidden=true}if(q&&(u.repeatClick!==false)){u.repeatClick=true}w=s[y]=Ext.form.trigger.Trigger.create(u);o.push(w)}}Ext.Array.sort(o,Ext.form.trigger.Trigger.weightComparator);return s},invokeTriggers:function(j,n){var l=this,m=l.getTriggers(),k,o;if(m){for(k in m){if(m.hasOwnProperty(k)){o=m[k];o[j].apply(o,n||[])}}}},getTrigger:function(c){return this.getTriggers()[c]},updateHideTrigger:function(c){this.invokeTriggers(c?"hide":"show")},updateEditable:function(d,e){this.setReadOnlyAttr(!d||this.readOnly)},setReadOnly:function(k){var m=this,n=m.getTriggers(),o=m.getHideTrigger(),j,l;k=!!k;Ext.form.field.Base.prototype.setReadOnly.call(this,k);if(m.rendered){m.setReadOnlyAttr(k||!m.editable)}if(n){for(l in n){j=n[l];if(j.hideOnReadOnly===true||(j.hideOnReadOnly!==false&&!o)){j.setVisible(!k)}}}},setReadOnlyAttr:function(g){var k=this,f="readonly",j=k.inputEl.dom;if(g){j.setAttribute(f,f)}else{j.removeAttribute(f)}if(!k.ariaStaticRoles[k.ariaRole]){k.inputEl.dom.setAttribute("aria-readonly",!!g)}},processRawValue:function(l){var m=this,j=m.stripCharsRe,g,k;if(j){if(!j.global){g="g";g+=(j.ignoreCase)?"i":"";g+=(j.multiline)?"m":"";j=new RegExp(j.source,g)}k=l.replace(j,"");if(k!==l){m.setRawValue(k);if(m.lastValue===l){m.lastValue=k}l=k}}return l},onDisable:function(){Ext.form.field.Base.prototype.onDisable.call(this);if(Ext.isIE){this.inputEl.dom.unselectable="on"}},onEnable:function(){Ext.form.field.Base.prototype.onEnable.call(this);if(Ext.isIE){this.inputEl.dom.unselectable=""}},onKeyDown:function(c){this.fireEvent("keydown",this,c)},onKeyUp:function(c){this.fireEvent("keyup",this,c)},onKeyPress:function(c){this.fireEvent("keypress",this,c)},getEmptyText:function(){return this.emptyText},setEmptyText:function(g){var e=this,f=e.inputEl;g=g||"";e.emptyText=g;if(e.rendered){if(Ext.supports.Placeholder&&!e.simulatePlaceholder){if(g){f.dom.setAttribute("placeholder",g)}else{f.dom.removeAttribute("placeholder")}}else{e.placeholderLabel.setHtml(g)}e.refreshEmptyText()}return this},afterFirstLayout:function(){Ext.form.field.Base.prototype.afterFirstLayout.call(this);if(Ext.isIE&&this.disabled){var c=this.inputEl;if(c){c.dom.unselectable="on"}}},toggleInvalidCls:function(d){var e=d?"addCls":"removeCls";Ext.form.field.Base.prototype.toggleInvalidCls.call(this,d);this.triggerWrap[e](this.triggerWrapInvalidCls);this.inputWrap[e](this.inputWrapInvalidCls)},onFieldMutation:function(c){this.refreshEmptyText();Ext.form.field.Base.prototype.onFieldMutation.call(this,c)},refreshEmptyText:function(){var n=this,l=n.inputEl,j=n.emptyClsElements,m,k,o;if(l){m=n.getValue();k=!(l.dom.value||(Ext.isArray(m)&&m.length));if(n.placeholderLabel){n.placeholderLabel.setDisplayed(k)}for(o=0;o<j.length;o++){j[o].toggleCls(n.emptyUICls,k)}}},setValue:function(c){c=Ext.form.field.Base.prototype.setValue.call(this,c);this.refreshEmptyText();return c},onFocus:function(f){var g=this,e;Ext.form.field.Base.prototype.onFocus.call(this,f);Ext.asap(function(){if(!g.destroyed&&document.activeElement===g.inputEl.dom){e=g.inputEl.dom.value.length;g.selectText(g.selectOnFocus?0:e,e)}});if(g.emptyText){g.autoSize()}g.addCls(g.fieldFocusCls);g.triggerWrap.addCls(g.triggerWrapFocusCls);g.inputWrap.addCls(g.inputWrapFocusCls);g.invokeTriggers("onFieldFocus",[f])},onBlur:function(e){var d=this;Ext.form.field.Base.prototype.onBlur.call(this,e);d.removeCls(d.fieldFocusCls);d.triggerWrap.removeCls(d.triggerWrapFocusCls);d.inputWrap.removeCls(d.inputWrapFocusCls);d.invokeTriggers("onFieldBlur",[e])},filterKeys:function(e){if((e.ctrlKey&&!e.altKey)||e.isSpecialKey()){return}var d=String.fromCharCode(e.getCharCode());if(!this.maskRe.test(d)){e.stopEvent()}},getState:function(){return this.addPropertyToState(Ext.form.field.Base.prototype.getState.call(this),"value")},applyState:function(c){Ext.form.field.Base.prototype.applyState.call(this,c);if(c.hasOwnProperty("value")){this.setValue(c.value)}},getErrors:function(o){o=arguments.length?(o==null?"":o):this.processRawValue(this.getRawValue());var u=this,q=Ext.form.field.Base.prototype.getErrors.call(this,o),A=u.validator,w=u.vtype,s=Ext.form.field.VTypes,r=u.regex,p=Ext.String.format,y,v,x;if(Ext.isFunction(A)){y=A.call(u,o);if(y!==true){q.push(y)}}v=u.allowOnlyWhitespace?o:Ext.String.trim(o);if(v.length<1){if(!u.allowBlank){q.push(u.blankText)}if(!u.validateBlank){return q}x=true}if(!x&&o.length<u.minLength){q.push(p(u.minLengthText,u.minLength))}if(o.length>u.maxLength){q.push(p(u.maxLengthText,u.maxLength))}if(w){if(!s[w](o,u)){q.push(u.vtypeText||s[w+"Text"])}}if(r&&!r.test(o)){q.push(u.regexText||u.invalidText)}return q},selectText:function(l,q){var m=this,n=m.inputEl.dom,o=n.value,k=o.length,p;if(k>0){l=l===undefined?0:Math.min(l,k);q=q===undefined?k:Math.min(q,k);if(n.setSelectionRange){n.setSelectionRange(l,q)}else{if(n.createTextRange){p=n.createTextRange();p.moveStart("character",l);p.moveEnd("character",q-k);p.select()}}}},getGrowWidth:function(){return this.inputEl.dom.value},autoSize:function(){var p=this,q,l,n,m,k,o;if(p.grow&&p.rendered&&p.getSizeModel().width.auto){m=p.inputEl;q=p.getTriggers();n=0;o=Ext.util.Format.htmlEncode(p.getGrowWidth()||(p.hasFocus?"":p.emptyText)||"");o+=p.growAppend;for(l in q){n+=q[l].el.getWidth()}k=m.getTextWidth(o)+n+p.inputWrap.getBorderWidth("lr")+p.triggerWrap.getBorderWidth("lr");k=Math.min(Math.max(k,p.growMin),p.growMax);p.bodyEl.setWidth(k);p.updateLayout();p.fireEvent("autosize",p,k)}},doDestroy:function(){var c=this;c.invokeTriggers("destroy");Ext.destroy(c.triggerRepeater);Ext.form.field.Base.prototype.doDestroy.call(this)},onTriggerClick:Ext.emptyFn,privates:{getTdType:function(){return"textfield"}},deprecated:{5:{methods:{getTriggerWidth:function(){var g=this.getTriggers(),e=0,f;if(g&&this.rendered){for(f in g){if(g.hasOwnProperty(f)){e+=g[f].el.getWidth()}}}return e}}}}},0,["textfield"],["component","box","field","textfield"],{component:true,box:true,field:true,textfield:true},["widget.textfield"],0,[Ext.form.field,"Text",Ext.form,"TextField",Ext.form,"Text"],0));Ext.define("Ext.overrides.form.field.Text",{override:"Ext.form.field.Text",showFetch:false,showClear:false,paramName:"query",initComponent:function(){var f=this,e={clear:{hidden:true,cls:"x-form-clear-trigger",handler:function(b){b.fireEvent("showclear",b,{});b.reset();b.setRawValue("");if(b.hiddenNameId){b.up("component").down("hiddenfield[name="+b.hiddenNameId+"]").reset()}}}},g={fetch:{handler:"fetchField",cls:"x-form-search-trigger"}};(arguments.callee.$previous||Ext.form.field.Base.prototype.initComponent).call(this);if(f.showClear===true){f.setTriggers(Ext.Object.merge(f.getTriggers(),e));f.on({change:{fn:"clearState",scope:f}})}if(f.showFetch===true){f.itemId=f.getName();f.emptyText="Pesquisar";f.setTriggers(Ext.Object.merge(f.getTriggers(),Ext.Object.merge(e,g)));f.on({change:{fn:"clearState",scope:f},specialkey:{fn:"fetchStart",scope:f}})}},fetchStart:function(f,g,e){if(g.getKey()===g.ENTER){f.getTriggers().fetch.onClick()}},clearState:function(g,j,f,k){if(j&&j.length>0){g.getTrigger("clear").show()}else{g.getTrigger("clear").hide()}g.updateLayout()}});(Ext.cmd.derive("Ext.form.field.TextArea",Ext.form.field.Text,{alternateClassName:"Ext.form.TextArea",fieldSubTpl:['<textarea id="{id}" data-ref="inputEl" {inputAttrTpl}','<tpl if="name"> name="{name}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>',' class="{fieldCls} {typeCls} {typeCls}-{ui} {inputCls}" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>','<tpl foreach="ariaElAttributes"> {$}="{.}"</tpl>','<tpl foreach="inputElAriaAttributes"> {$}="{.}"</tpl>',' autocomplete="off">\n','<tpl if="value">{[Ext.util.Format.htmlEncode(values.value)]}</tpl>',"</textarea>",{disableFormats:true}],growMin:60,growMax:1000,growAppend:"\n-",enterIsSpecial:false,preventScrollbars:false,returnRe:/\r/g,inputCls:"x-form-textarea",extraFieldBodyCls:"x-form-textarea-body",ariaAttributes:{"aria-multiline":true},getSubTplData:function(k){var g=this,j=g.getFieldStyle(),f=Ext.form.field.Text.prototype.getSubTplData.apply(this,arguments);if(g.grow){if(g.preventScrollbars){f.fieldStyle=(j||"")+";overflow:hidden;height:"+g.growMin+"px"}}return f},afterRender:function(){var c=this;Ext.form.field.Text.prototype.afterRender.apply(this,arguments);c.needsMaxCheck=c.enforceMaxLength&&c.maxLength!==Number.MAX_VALUE&&!Ext.supports.TextAreaMaxLength;if(c.needsMaxCheck){c.inputEl.on("paste",c.onPaste,c)}},transformRawValue:function(c){return this.stripReturns(c)},getValue:function(){return this.stripReturns(Ext.form.field.Text.prototype.getValue.call(this))},valueToRaw:function(c){c=this.stripReturns(c);return Ext.form.field.Text.prototype.valueToRaw.call(this,c)},stripReturns:function(c){if(c&&typeof c==="string"){c=c.replace(this.returnRe,"")}return c},onPaste:function(){var c=this;if(!c.pasteTask){c.pasteTask=new Ext.util.DelayedTask(c.pasteCheck,c)}c.pasteTask.delay(1)},pasteCheck:function(){var g=this,f=g.getValue(),e=g.maxLength;if(f.length>e){f=f.substr(0,e);g.setValue(f)}},fireKey:function(g){var k=this,e=g.getKey(),j;if(g.isSpecialKey()&&(k.enterIsSpecial||(e!==g.ENTER||g.hasModifier()))){k.fireEvent("specialkey",k,g)}if(e===g.ENTER){g.stopPropagation()}if(k.needsMaxCheck&&e!==g.BACKSPACE&&e!==g.DELETE&&!g.isNavKeyPress()&&!k.isCutCopyPasteSelectAll(g,e)){j=k.getValue();if(j.length>=k.maxLength){g.stopEvent()}}},isCutCopyPasteSelectAll:function(e,d){if(e.ctrlKey){return d===e.A||d===e.C||d===e.V||d===e.X}return false},autoSize:function(){var l=this,j,g,m,k;if(l.grow&&l.rendered&&l.getSizeModel().height.auto){j=l.inputEl;m=j.getWidth(true);k=Ext.util.Format.htmlEncode(j.dom.value)||"&#160;";k+=l.growAppend;k=k.replace(/\n/g,"<br/>");g=Ext.util.TextMetrics.measure(j,k,m).height+j.getPadding("tb")+l.inputWrap.getBorderWidth("tb")+l.triggerWrap.getBorderWidth("tb");g=Math.min(Math.max(g,l.growMin),l.growMax);l.bodyEl.setHeight(g);l.updateLayout();l.fireEvent("autosize",l,g)}},doDestroy:function(){var c=this.pasteTask;if(c){c.cancel()}Ext.form.field.Text.prototype.doDestroy.call(this)}},0,["textarea","textareafield"],["component","box","field","textfield","textareafield","textarea"],{component:true,box:true,field:true,textfield:true,textareafield:true,textarea:true},["widget.textarea","widget.textareafield"],0,[Ext.form.field,"TextArea",Ext.form,"TextArea"],0));(Ext.cmd.derive("Ext.window.MessageBox",Ext.window.Window,{OK:1,YES:2,NO:4,CANCEL:8,OKCANCEL:9,YESNO:6,YESNOCANCEL:14,INFO:"x-message-box-info",WARNING:"x-message-box-warning",QUESTION:"x-message-box-question",ERROR:"x-message-box-error",hideMode:"offsets",closeAction:"hide",resizable:false,scrollable:true,title:"&#160;",defaultMinWidth:250,defaultMaxWidth:600,defaultMinHeight:110,defaultMaxHeight:500,minWidth:null,maxWidth:null,minHeight:null,maxHeight:null,constrain:true,cls:["x-message-box","x-hidden-offsets"],layout:{type:"vbox",align:"stretch"},shrinkWrapDock:true,defaultTextHeight:75,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",yes:"Yes",no:"No",cancel:"Cancel"},buttonIds:["ok","yes","no","cancel"],titleText:{confirm:"Confirm",prompt:"Prompt",wait:"Loading...",alert:"Attention"},baseIconCls:"x-message-box-icon",ariaRole:"alertdialog",makeButton:function(d){var e=this.buttonIds[d];return new Ext.button.Button({handler:this.btnCallback,itemId:e,scope:this,text:this.buttonText[e],minWidth:75})},btnCallback:function(g,l){var m=this,k,j;if(l&&l.type==="keydown"&&!l.isSpecialKey()){l.getTarget(null,null,true).on({keyup:function(b){m.btnCallback(g,b)},single:true});return}if(m.cfg.prompt||m.cfg.multiline){if(m.cfg.multiline){j=m.textArea}else{j=m.textField}k=j.getValue();j.reset()}m.hide();m.userCallback(g.itemId,k,m.cfg)},hide:function(){var e=this,d=e.cfg?e.cfg.cls:"";e.progressBar.reset();if(d){e.removeCls(d)}Ext.window.Window.prototype.hide.apply(this,arguments)},constructor:function(d){var e=this;Ext.window.Window.prototype.constructor.apply(this,arguments);e.minWidth=e.defaultMinWidth=(e.minWidth||e.defaultMinWidth);e.maxWidth=e.defaultMaxWidth=(e.maxWidth||e.defaultMaxWidth);e.minHeight=e.defaultMinHeight=(e.minHeight||e.defaultMinHeight);e.maxHeight=e.defaultMaxHeight=(e.maxHeight||e.defaultMaxHeight)},initComponent:function(g){var j=this,m=j.id,k,l;j.title=j.title||"&#160;";j.iconCls=j.iconCls||"";j.topContainer=new Ext.container.Container({layout:"hbox",padding:10,style:{overflow:"hidden"},items:[j.iconComponent=new Ext.Component({cls:j.baseIconCls}),j.promptContainer=new Ext.container.Container({flex:1,layout:{type:"vbox",align:"stretch"},items:[j.msg=new Ext.Component({id:m+"-msg",cls:j.baseCls+"-text"}),j.textField=new Ext.form.field.Text({id:m+"-textfield",enableKeyEvents:true,ariaAttributes:{"aria-labelledby":j.msg.id},listeners:{keydown:j.onPromptKey,scope:j}}),j.textArea=new Ext.form.field.TextArea({id:m+"-textarea",height:75,ariaAttributes:{"aria-labelledby":j.msg.id}})]})]});j.progressBar=new Ext.ProgressBar({id:m+"-progressbar",margin:"0 10 10 10"});j.items=[j.topContainer,j.progressBar];j.msgButtons=[];for(k=0;k<4;k++){l=j.makeButton(k);j.msgButtons[l.itemId]=l;j.msgButtons.push(l)}j.bottomTb=new Ext.toolbar.Toolbar({id:m+"-toolbar",ui:"footer",dock:"bottom",enableFocusableContainer:false,ariaRole:null,layout:{pack:"center"},items:[j.msgButtons[0],j.msgButtons[1],j.msgButtons[2],j.msgButtons[3]]});j.dockedItems=[j.bottomTb];j.on("close",j.onClose,j);Ext.window.Window.prototype.initComponent.call(this)},afterRender:function(){var c=this;Ext.window.Window.prototype.afterRender.apply(this,arguments);c.textField.labelEl.dom.removeAttribute("for");c.textArea.labelEl.dom.removeAttribute("for")},onClose:function(){var c=this.msgButtons[3];if(c){this.btnCallback(c)}},onPromptKey:function(e,f){var g=this;if(f.keyCode===f.RETURN||f.keyCode===10){if(g.msgButtons.ok.isVisible()){g.msgButtons.ok.handler.call(g,g.msgButtons.ok)}else{if(g.msgButtons.yes.isVisible()){g.msgButtons.yes.handler.call(g,g.msgButtons.yes)}}}},reconfigure:function(V){var D=this,G=0,Q=true,L=D.buttonText,T=D.resizer,I=D.header,E=I&&!I.isHeader,U=V&&(V.message||V.msg),S=V.buttonTips,C,Y,K,M,P,H,F,R,W,O,J,N,X;D.updateButtonText();D.cfg=V=V||{};N=V.wait;if(V.width){M=V.width}if(V.height){P=V.height}D.minWidth=V.minWidth||D.defaultMinWidth;D.maxWidth=V.maxWidth||D.defaultMaxWidth;D.minHeight=V.minHeight||D.defaultMinHeight;D.maxHeight=V.maxHeight||D.defaultMaxHeight;if("maskClickAction" in V){D.maskClickAction=V.maskClickAction}else{delete D.maskClickAction}if(T){K=T.resizeTracker;T.minWidth=K.minWidth=D.minWidth;T.maxWidth=K.maxWidth=D.maxWidth;T.minHeight=K.minHeight=D.minHeight;T.maxHeight=K.maxHeight=D.maxHeight}delete D.defaultFocus;if(V.defaultFocus){D.defaultFocus=V.defaultFocus}D.animateTarget=V.animateTarget||undefined;D.modal=V.modal!==false;if(V.title!=null){C=V.title}else{if(E&&I.title!=null){C=I.title}else{C=D.title}}if(V.iconCls!=null){Y=V.iconCls}else{if(E&&I.iconCls!=null){Y=I.iconCls}else{Y=D.iconCls}}D.setTitle(C);D.setIconCls(Y);if(Ext.isObject(V.buttons)){D.buttonText=V.buttons;G=0}else{D.buttonText=V.buttonText||D.buttonText;G=Ext.isNumber(V.buttons)?V.buttons:0}Ext.each(D.buttonIds,function(b){D.msgButtons[b].setTooltip((S&&S[b])||null)});G=G|D.updateButtonText();D.buttonText=L;Ext.suspendLayouts();D.width=D.height=null;if(M||P){if(M){D.setWidth(M)}if(P){D.setHeight(P)}}if(!D.rendered){D.render(Ext.getBody())}D.closable=V.closable!==false&&!N;I=D.header;if(I){X=I.child("[type=close]");if(X){X.setVisible(D.closable)}if(!V.title&&!D.closable&&!V.iconCls){I.hide()}else{I.show()}}D.liveDrag=!V.proxyDrag;D.userCallback=Ext.Function.bindCallback(V.callback||V.fn||Ext.emptyFn,V.scope||Ext.global);D.setIcon(V.icon);W=D.msg;if(U){W.setHtml(U);W.show();D.ariaEl.dom.setAttribute("aria-describedby",W.id)}else{W.hide();D.ariaEl.dom.removeAttribute("aria-describedby")}F=D.textArea;R=D.textField;if(V.prompt||V.multiline){D.multiline=V.multiline;if(V.multiline){F.setValue(V.value);F.setHeight(V.defaultTextHeight||D.defaultTextHeight);F.show();R.hide();D.defaultFocus=F}else{R.setValue(V.value);F.hide();R.show();D.defaultFocus=R}D.ariaEl.dom.removeAttribute("aria-describedby")}else{F.hide();R.hide()}O=D.progressBar;if(V.progress||N){O.show();D.updateProgress(0,V.progressText);D.defaultFocus=O;if(N){O.wait(N===true?V.waitConfig:N)}}else{O.hide()}J=D.msgButtons;for(H=0;H<4;H++){if(G&Math.pow(2,H)){if(!D.defaultFocus){D.defaultFocus=J[H]}J[H].show();Q=false}else{J[H].hide()}}if(Q){D.bottomTb.hide()}else{D.bottomTb.show()}Ext.resumeLayouts(true)},updateButtonText:function(){var k=this,l=k.buttonText,m=0,j,g;for(j in l){if(l.hasOwnProperty(j)){g=k.msgButtons[j];if(g){if(k.cfg&&k.cfg.buttonText){m=m|Math.pow(2,Ext.Array.indexOf(k.buttonIds,j))}if(g.text!==l[j]){g.setText(l[j])}}}}return m},show:function(e){var f=this,g;e=e||{};if(Ext.Component.layoutSuspendCount){Ext.on({resumelayouts:function(){f.show(e)},single:true});return f}f.reconfigure(e);if(e.cls){f.addCls(e.cls)}g=f.query("textfield:not([hidden]),textarea:not([hidden]),button:not([hidden])");f.preventFocusOnActivate=!g.length;Ext.window.Window.prototype.show.call(this);return f},onShow:function(){Ext.window.Window.prototype.onShow.apply(this,arguments);this.center()},updateText:function(c){this.msg.setHtml(c)},setIcon:function(m,n,j){var l=this,k=l.iconComponent,o=l.messageIconCls;if(o){k.removeCls(o)}if(m){k.show();if(n||j){k.setSize(n||k.getWidth(),j||k.getHeight())}k.addCls("x-dlg-icon");k.addCls(l.messageIconCls=m)}else{k.removeCls("x-dlg-icon");k.hide()}return l},updateProgress:function(f,e,g){this.progressBar.updateProgress(f,e);if(g){this.updateText(g)}return this},onEsc:function(){if(this.closable!==false){Ext.window.Window.prototype.onEsc.apply(this,arguments)}},confirm:function(f,g,j,k){if(Ext.isString(f)){f={title:f,icon:this.QUESTION,message:g,buttons:this.YESNO,callback:j,scope:k}}return this.show(f)},prompt:function(k,m,n,o,j,l){if(Ext.isString(k)){k={prompt:true,title:k,minWidth:this.minPromptWidth,message:m,buttons:this.OKCANCEL,callback:n,scope:o,multiline:j,value:l}}return this.show(k)},wait:function(g,f,e){if(Ext.isString(g)){g={title:f,message:g,closable:false,wait:true,modal:true,minWidth:this.minProgressWidth,waitConfig:e}}return this.show(g)},alert:function(g,j,k,f){if(Ext.isString(g)){g={title:g,message:j,buttons:this.OK,fn:k,scope:f,minWidth:this.minWidth}}return this.show(g)},progress:function(f,g,e){if(Ext.isString(f)){f={title:f,message:g,progress:true,progressText:e}}return this.show(f)}},1,["messagebox"],["component","box","container","panel","window","messagebox"],{component:true,box:true,container:true,panel:true,window:true,messagebox:true},["widget.messagebox"],0,[Ext.window,"MessageBox"],function(c){Ext.onInternalReady(function(){Ext.MessageBox=Ext.Msg=new c()})}));(Ext.cmd.derive("Ext.form.Basic",Ext.util.Observable,{alternateClassName:"Ext.form.BasicForm",taskDelay:10,constructor:function(k,j){var g=this,f;g.owner=k;g.fieldMonitors={validitychange:g.checkValidityDelay,enable:g.checkValidityDelay,disable:g.checkValidityDelay,dirtychange:g.checkDirtyDelay,errorchange:g.checkErrorDelay,scope:g};g.checkValidityTask=new Ext.util.DelayedTask(g.checkValidity,g);g.checkDirtyTask=new Ext.util.DelayedTask(g.checkDirty,g);g.checkErrorTask=new Ext.util.DelayedTask(g.checkError,g);g.monitor=new Ext.container.Monitor({selector:"[isFormField]:not([excludeForm])",scope:g,addHandler:g.onFieldAdd,removeHandler:g.onFieldRemove,invalidateHandler:g.onMonitorInvalidate});g.monitor.bind(k);Ext.apply(g,j);if(Ext.isString(g.paramOrder)){g.paramOrder=g.paramOrder.split(/[\s,|]/)}f=g.reader;if(f&&!f.isReader){if(typeof f==="string"){f={type:f}}g.reader=Ext.createByAlias("reader."+f.type,f)}f=g.errorReader;if(f&&!f.isReader){if(typeof f==="string"){f={type:f}}g.errorReader=Ext.createByAlias("reader."+f.type,f)}Ext.util.Observable.prototype.constructor.call(this)},initialize:function(){this.initialized=true;this.onValidityChange(!this.hasInvalidField())},timeout:30,paramsAsHash:false,waitTitle:"Please Wait...",trackResetOnLoad:false,wasDirty:false,destroy:function(){var e=this,d=e.monitor;if(d){d.unbind();e.monitor=null}e.clearListeners();e.checkValidityTask.cancel();e.checkDirtyTask.cancel();e.checkErrorTask.cancel();e.checkValidityTask=e.checkDirtyTask=e.checkErrorTask=null;Ext.util.Observable.prototype.destroy.call(this)},onFieldAdd:function(c){c.on(this.fieldMonitors);this.onMonitorInvalidate()},onFieldRemove:function(c){c.un(this.fieldMonitors);this.onMonitorInvalidate()},onMonitorInvalidate:function(){if(this.initialized){this.checkValidityDelay()}},getFields:function(){return this.monitor.getItems()},getBoundItems:function(){var c=this._boundItems;if(!c||c.getCount()===0){c=this._boundItems=new Ext.util.MixedCollection();c.addAll(this.owner.query("[formBind]"))}return c},hasInvalidField:function(){return !!this.getFields().findBy(function(f){var e=f.preventMark,g;f.preventMark=true;g=f.isValid();f.preventMark=e;return !g})},isValid:function(){var d=this,e;Ext.suspendLayouts();e=d.getFields().filterBy(function(b){return !b.validate()});Ext.resumeLayouts(true);return e.length<1},checkValidity:function(){var e=this,d;if(e.destroyed){return}d=!e.hasInvalidField();if(d!==e.wasValid){e.onValidityChange(d);e.fireEvent("validitychange",e,d);e.wasValid=d}},checkValidityDelay:function(){var c=this.taskDelay;if(c){this.checkValidityTask.delay(c)}else{this.checkValidity()}},checkError:function(){this.fireEvent("errorchange",this)},checkErrorDelay:function(){var c=this.taskDelay;if(c){this.checkErrorTask.delay(c)}else{this.checkError()}},onValidityChange:function(k){var m=this.getBoundItems(),o,n,j,l;if(m){o=m.items;j=o.length;for(n=0;n<j;n++){l=o[n];if(l.disabled===k){l.setDisabled(!k)}}}},isDirty:function(){return !!this.getFields().findBy(function(c){return c.isDirty()})},checkDirtyDelay:function(){var c=this.taskDelay;if(c){this.checkDirtyTask.delay(c)}else{this.checkDirty()}},checkDirty:function(){var e=this,d;if(e.destroyed){return}d=this.isDirty();if(d!==this.wasDirty){this.fireEvent("dirtychange",this,d);this.wasDirty=d}},hasUpload:function(){return !!this.getFields().findBy(function(c){return c.isFileUpload()})},doAction:function(e,d){if(Ext.isString(e)){e=Ext.ClassManager.instantiateByAlias("formaction."+e,Ext.apply({},d,{form:this}))}if(this.fireEvent("beforeaction",this,e)!==false){this.beforeAction(e);Ext.defer(e.run,100,e)}return this},submit:function(e){e=e||{};var g=this,f;if(e.standardSubmit||g.standardSubmit){f="standardsubmit"}else{f=g.api?"directsubmit":"submit"}return g.doAction(f,e)},load:function(c){return this.doAction(this.api?"directload":"load",c)},updateRecord:function(p){p=p||this._record;if(!p){return this}var q=p.self.fields,o=this.getFieldValues(),l={},m=0,k=q.length,n;for(;m<k;++m){n=q[m].name;if(o.hasOwnProperty(n)){l[n]=o[n]}}p.beginEdit();p.set(l);p.endEdit();return this},loadRecord:function(c){this._record=c;return this.setValues(c.getData())},getRecord:function(){return this._record},beforeAction:function(s){var p=this,u=s.waitMsg,f="x-mask-loading",r=p.getFields().items,q,n=r.length,o,v;for(q=0;q<n;q++){o=r[q];if(o.isFormField&&o.syncValue){o.syncValue()}}if(u){v=p.waitMsgTarget;if(v===true){p.owner.el.mask(u,f)}else{if(v){v=p.waitMsgTarget=Ext.get(v);v.mask(u,f)}else{p.floatingAncestor=p.owner.up("[floating]");if(p.floatingAncestor){p.savePreventFocusOnActivate=p.floatingAncestor.preventFocusOnActivate;p.floatingAncestor.preventFocusOnActivate=true}Ext.MessageBox.wait(u,s.waitTitle||p.waitTitle)}}}},afterAction:function(l,j){var g=this;if(l.waitMsg){var m=Ext.MessageBox,k=g.waitMsgTarget;if(k===true){g.owner.el.unmask()}else{if(k){k.unmask()}else{m.hide()}}}if(g.floatingAncestor){g.floatingAncestor.preventFocusOnActivate=g.savePreventFocusOnActivate}if(j){if(l.reset){g.reset()}Ext.callback(l.success,l.scope||l,[g,l]);g.fireEvent("actioncomplete",g,l)}else{Ext.callback(l.failure,l.scope||l,[g,l]);g.fireEvent("actionfailed",g,l)}},findField:function(c){return this.getFields().findBy(function(b){return b.id===c||b.name===c||b.dataIndex===c})},markInvalid:function(m){var q=this,o,e,s,p,r;function n(c,d){var b=q.findField(c);if(b){b.markInvalid(d)}}if(Ext.isArray(m)){e=m.length;for(o=0;o<e;o++){s=m[o];n(s.id||s.field,s.msg||s.message)}}else{if(m instanceof Ext.data.ErrorCollection){e=m.items.length;for(o=0;o<e;o++){s=m.items[o];n(s.field,s.message)}}else{for(r in m){if(m.hasOwnProperty(r)){p=m[r];n(r,p,m)}}}}return this},setValues:function(o){var m=this,j,n,k;function l(d,b){var c=m.findField(d);if(c){c.setValue(b);if(m.trackResetOnLoad){c.resetOriginalValue()}}}Ext.suspendLayouts();if(Ext.isArray(o)){n=o.length;for(j=0;j<n;j++){k=o[j];l(k.id,k.value)}}else{Ext.iterate(o,l)}Ext.resumeLayouts(true);return this},getValues:function(y,x,f,v,F){var u={},B=this.getFields().items,I=B.length,C=Ext.isArray,w,D,E,G,H,A;for(A=0;A<I;A++){w=B[A];if(!x||w.isDirty()){D=w[v?"getModelData":"getSubmitData"](f,F);if(Ext.isObject(D)){for(H in D){if(D.hasOwnProperty(H)){E=D[H];if(f&&E===""){E=w.emptyText||""}if(!w.isRadio){if(w.isCheckbox&&E===null){continue}if(u.hasOwnProperty(H)){G=u[H];if(!C(G)){G=u[H]=[G]}if(C(E)){u[H]=G.concat(E)}else{G.push(E)}}else{u[H]=E}}else{u[H]=u[H]||E}}}}}}if(y){u=Ext.Object.toQueryString(u)}return u},getFieldValues:function(c){return this.getValues(false,c,false,true)},clearInvalid:function(){Ext.suspendLayouts();var k=this,f=k.getFields().items,j,g=f.length;for(j=0;j<g;j++){f[j].clearInvalid()}Ext.resumeLayouts(true);return k},reset:function(m){Ext.suspendLayouts();var l=this,f=l.getFields().items,k,j=f.length;for(k=0;k<j;k++){f[k].reset()}Ext.resumeLayouts(true);if(m===true){delete l._record}return l},applyToFields:function(j){var f=this.getFields().items,k,g=f.length;for(k=0;k<g;k++){Ext.apply(f[k],j)}return this},applyIfToFields:function(j){var f=this.getFields().items,k,g=f.length;for(k=0;k<g;k++){Ext.applyIf(f[k],j)}return this}},1,0,0,0,0,0,[Ext.form,"Basic",Ext.form,"BasicForm"],0));(Ext.cmd.derive("Ext.form.FieldAncestor",Ext.Mixin,{mixinConfig:{id:"fieldAncestor",after:{initInheritedState:"initFieldInheritedState"},before:{doDestroy:"onBeforeDestroy"}},initFieldAncestor:function(){var c=this;c.monitor=new Ext.container.Monitor({scope:c,selector:"[isFormField]:not([excludeForm])",addHandler:c.onChildFieldAdd,removeHandler:c.onChildFieldRemove});c.initFieldDefaults()},initMonitor:function(){this.monitor.bind(this)},initFieldInheritedState:function(g){var e=g.fieldDefaults,f=this.fieldDefaults;if(f){if(e){g.fieldDefaults=Ext.apply(Ext.Object.chain(e),f)}else{g.fieldDefaults=f}}},onChildFieldAdd:function(e){var d=this;d.mon(e,"errorchange",d.handleFieldErrorChange,d);d.mon(e,"validitychange",d.handleFieldValidityChange,d)},onChildFieldRemove:function(e){var d=this;d.mun(e,"errorchange",d.handleFieldErrorChange,d);d.mun(e,"validitychange",d.handleFieldValidityChange,d)},initFieldDefaults:function(){if(!this.fieldDefaults){this.fieldDefaults={}}},handleFieldValidityChange:function(f,g){var e=this;if(f!==e){e.fireEvent("fieldvaliditychange",e,f,g);e.onFieldValidityChange(f,g)}},handleFieldErrorChange:function(g,e){var f=this;if(g!==f){f.fireEvent("fielderrorchange",f,g,e);f.onFieldErrorChange(g,e)}},onFieldValidityChange:Ext.emptyFn,onFieldErrorChange:Ext.emptyFn,onBeforeDestroy:function(){this.monitor=Ext.destroy(this.monitor)}},0,0,0,0,0,0,[Ext.form,"FieldAncestor"],0));(Ext.cmd.derive("Ext.layout.component.field.FieldContainer",Ext.layout.component.Auto,{type:"fieldcontainer",waitForOuterHeightInDom:true,waitForOuterWidthInDom:true,beginLayout:function(e){var d=this.owner.containerEl;Ext.layout.component.Auto.prototype.beginLayout.call(this,e);e.hasRawContent=true;d.setStyle("width","");d.setStyle("height","");e.containerElContext=e.getEl("containerEl")},calculateOwnerHeightFromContentHeight:function(f,g){var e=Ext.layout.component.Auto.prototype.calculateOwnerHeightFromContentHeight.call(this,f,g);return e+this.getHeightAdjustment()},calculateOwnerWidthFromContentWidth:function(f,g){var e=Ext.layout.component.Auto.prototype.calculateOwnerWidthFromContentWidth.call(this,f,g);return e+this.getWidthAdjustment()},measureContentHeight:function(c){return c.hasDomProp("containerLayoutDone")?Ext.layout.component.Auto.prototype.measureContentHeight.call(this,c):NaN},measureContentWidth:function(c){return c.hasDomProp("containerLayoutDone")?Ext.layout.component.Auto.prototype.measureContentWidth.call(this,c):NaN},publishInnerHeight:function(e,d){d-=this.getHeightAdjustment();e.containerElContext.setHeight(d)},publishInnerWidth:function(e,d){d-=this.getWidthAdjustment();e.containerElContext.setWidth(d)},privates:{getHeightAdjustment:function(){var d=this.owner,e=0;if(d.labelAlign==="top"&&d.hasVisibleLabel()){e+=d.labelEl.getHeight()}if(d.msgTarget==="under"&&d.hasActiveError()){e+=d.errorWrapEl.getHeight()}return e+d.bodyEl.getPadding("tb")},getWidthAdjustment:function(){var d=this.owner,e=0;if(d.labelAlign!=="top"&&d.hasVisibleLabel()){e+=(d.labelWidth+(d.labelPad||0))}if(d.msgTarget==="side"&&d.hasActiveError()){e+=d.errorWrapEl.getWidth()}return e+d.bodyEl.getPadding("lr")}}},0,0,0,0,["layout.fieldcontainer"],0,[Ext.layout.component.field,"FieldContainer"],0));(Ext.cmd.derive("Ext.form.FieldContainer",Ext.container.Container,{componentLayout:"fieldcontainer",componentCls:"x-form-fieldcontainer",shrinkWrap:true,autoEl:{tag:"div",role:"presentation"},childEls:["containerEl"],combineLabels:false,labelConnector:", ",combineErrors:false,maskOnDisable:false,invalidCls:"",fieldSubTpl:['<div id="{id}-containerEl" data-ref="containerEl" class="{containerElCls}"','<tpl if="ariaAttributes">','<tpl foreach="ariaAttributes"> {$}="{.}"</tpl>',"<tpl else>",' role="presentation"',"</tpl>",">","{%this.renderContainer(out,values)%}","</div>"],initComponent:function(){var c=this;c.initLabelable();c.initFieldAncestor();Ext.container.Container.prototype.initComponent.call(this);c.initMonitor()},onAdd:function(d){var e=this;if(d.isLabelable&&Ext.isGecko&&Ext.firefoxVersion<37&&e.layout.type==="absolute"&&!e.hideLabel&&e.labelAlign!=="top"){d.x+=(e.labelWidth+e.labelPad)}Ext.container.Container.prototype.onAdd.apply(this,arguments);if(d.isLabelable&&e.combineLabels){d.oldHideLabel=d.hideLabel;d.hideLabel=true}e.updateLabel()},onRemove:function(e,g){var f=this;Ext.container.Container.prototype.onRemove.apply(this,arguments);if(!g){if(e.isLabelable&&f.combineLabels){e.hideLabel=e.oldHideLabel}f.updateLabel()}},initRenderData:function(){var d=this,e=Ext.container.Container.prototype.initRenderData.call(this);e.containerElCls=d.containerElCls;e=Ext.applyIf(e,d.getLabelableRenderData());if(d.labelAlign==="top"||d.msgTarget==="under"){e.extraFieldBodyCls+=" x-field-container-body-vertical"}e.tipAnchorTarget=d.id+"-containerEl";return e},getFieldLabel:function(){var c=this.fieldLabel||"";if(!c&&this.combineLabels){c=Ext.Array.map(this.query("[isFieldLabelable]"),function(b){return b.getFieldLabel()}).join(this.labelConnector)}return c},getSubTplData:function(){var c=this.initRenderData();Ext.apply(c,this.subTplData);return c},getSubTplMarkup:function(k){var g=this,f=g.lookupTpl("fieldSubTpl"),j;if(!f.renderContent){g.setupRenderTpl(f)}j=f.apply(g.getSubTplData(k));return j},updateLabel:function(){var e=this,d=e.labelEl;if(d){e.setFieldLabel(e.getFieldLabel())}},onFieldErrorChange:function(){if(this.combineErrors){var j=this,g=j.getActiveError(),k=Ext.Array.filter(j.query("[isFormField]"),function(b){return b.hasActiveError()}),f=j.getCombinedErrors(k);if(f){j.setActiveErrors(f)}else{j.unsetActiveError()}if(g!==j.getActiveError()){j.updateLayout()}}},getCombinedErrors:function(u){var o=[],w,f=u.length,q,v,p,x,s,r;for(w=0;w<f;w++){q=u[w];v=q.getActiveErrors();x=v.length;for(p=0;p<x;p++){s=v[p];r=q.getFieldLabel();o.push((r?r+": ":"")+s)}}return o},privates:{applyTargetCls:function(e){var d=this.containerElCls;this.containerElCls=d?d+" "+e:e},getTargetEl:function(){return this.containerEl},initRenderTpl:function(){var c=this;if(!c.hasOwnProperty("renderTpl")){c.renderTpl=c.lookupTpl("labelableRenderTpl")}return Ext.container.Container.prototype.initRenderTpl.call(this)}}},0,["fieldcontainer"],["component","box","container","fieldcontainer"],{component:true,box:true,container:true,fieldcontainer:true},["widget.fieldcontainer"],[["labelable",Ext.form.Labelable],["fieldAncestor",Ext.form.FieldAncestor]],[Ext.form,"FieldContainer"],0));Ext.define("Ext.overrides.form.FieldContainer",{override:"Ext.form.FieldContainer",msgTarget:"qtip",labelAlign:"top",labelSeparator:""});(Ext.cmd.derive("Ext.form.CheckboxManager",Ext.util.MixedCollection,{singleton:true,getByName:function(d,e){return this.filterBy(function(b){return b.name===d&&b.getFormId()===e})}},0,0,0,0,0,0,[Ext.form,"CheckboxManager"],0));(Ext.cmd.derive("Ext.form.field.Checkbox",Ext.form.field.Base,{alternateClassName:"Ext.form.Checkbox",stretchInputElFixed:false,childEls:["boxLabelEl","innerWrapEl","displayEl"],fieldSubTpl:['<div id="{cmpId}-innerWrapEl" data-ref="innerWrapEl" role="presentation"',' class="{wrapInnerCls}">','<tpl if="labelAlignedBefore">',"{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" data-ref="boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} ','{boxLabelCls}-{ui} {boxLabelCls}-{boxLabelAlign} {noBoxLabelCls} {childElCls}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",'<span id="{cmpId}-displayEl" data-ref="displayEl" role="presentation" class="{fieldCls} {typeCls} ','{typeCls}-{ui} {inputCls} {inputCls}-{ui} {childElCls} {afterLabelCls}">','<input type="{inputType}" id="{id}" name="{inputName}" data-ref="inputEl" {inputAttrTpl}','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="checked"> checked="checked"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{checkboxCls}" autocomplete="off" hidefocus="true" ','<tpl foreach="ariaElAttributes"> {$}="{.}"</tpl>','<tpl foreach="inputElAriaAttributes"> {$}="{.}"</tpl>',"/>","</span>",'<tpl if="!labelAlignedBefore">',"{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" data-ref="boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} ','{boxLabelCls}-{ui} {boxLabelCls}-{boxLabelAlign} {noBoxLabelCls} {childElCls}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>","</div>",{disableFormats:true,compiled:true}],publishes:{checked:1},subTplInsertions:["beforeBoxLabelTpl","afterBoxLabelTpl","beforeBoxLabelTextTpl","afterBoxLabelTextTpl","boxLabelAttrTpl","inputAttrTpl"],isCheckbox:true,focusCls:"form-checkbox-focus",fieldBodyCls:"x-form-cb-wrap",checked:false,checkedCls:"x-form-cb-checked",boxLabelCls:"x-form-cb-label",boxLabelAlign:"after",afterLabelCls:"x-form-cb-after",wrapInnerCls:"x-form-cb-wrap-inner",noBoxLabelCls:"x-form-cb-no-box-label",inputValue:"on",checkChangeEvents:[],changeEventName:"change",inputType:"checkbox",isTextInput:false,ariaRole:"native",onRe:/^on$/i,inputCls:"x-form-cb",_checkboxCls:"x-form-cb-input",initComponent:function(){var d=this,e=d.value;if(e!==undefined){d.checked=d.isChecked(e,d.inputValue)}Ext.form.field.Base.prototype.initComponent.call(this);d.getManager().add(d)},initDefaultName:Ext.emptyFn,initValue:function(){var e=this,d=!!e.checked;e.originalValue=e.initialValue=e.lastValue=d;e.setValue(d)},getElConfig:function(){var c=this;if(c.isChecked(c.rawValue,c.inputValue)){c.addCls(c.checkedCls)}if(!c.fieldLabel){c.skipLabelForAttribute=true}return Ext.form.field.Base.prototype.getElConfig.call(this)},getModelData:function(){var c=Ext.form.field.Base.prototype.getModelData.apply(this,arguments);if(c){c[this.getName()]=this.getSubmitValue()}return c},getSubTplData:function(q){var o=this,p=o.boxLabel,l=o.boxLabelAlign,m=l==="before",n,k;n=Ext.apply(Ext.form.field.Base.prototype.getSubTplData.call(this,q),{inputType:o.inputType,checkboxCls:o._checkboxCls,disabled:o.readOnly||o.disabled,checked:!!o.checked,wrapInnerCls:o.wrapInnerCls,boxLabel:p,boxLabelCls:o.boxLabelCls,boxLabelAlign:l,labelAlignedBefore:m,afterLabelCls:m?o.afterLabelCls:"",noBoxLabelCls:!p?o.noBoxLabelCls:"",inputName:o.name||o.id});k=n.inputElAriaAttributes;if(k){delete k["aria-readonly"]}return n},initEvents:function(){var c=this;Ext.form.field.Base.prototype.initEvents.call(this);c.inputEl.on(c.changeEventName,c.onChangeEvent,c,{delegated:false});if(Ext.isIE){c.bodyEl.on("mousedown",c.onBodyElMousedown,c)}else{if(Ext.isMac&&(Ext.isGecko||Ext.isSafari)){c.boxLabelEl.on("mousedown",c.onBoxLabelOrInputMousedown,c);c.inputEl.on("mousedown",c.onBoxLabelOrInputMousedown,c)}}},setBoxLabel:function(d){var e=this;e.boxLabel=d;if(e.rendered){e.boxLabelEl.setHtml(d);e.boxLabelEl[d?"removeCls":"addCls"](e.noBoxLabelCls);e.updateLayout()}},onBodyElMousedown:function(c){if(c.target!==this.inputEl.dom){c.preventDefault()}},onBoxLabelOrInputMousedown:function(c){this.inputEl.focus();c.preventDefault()},onChangeEvent:function(c){this.updateValueFromDom()},updateValueFromDom:function(){var d=this,e=d.inputEl&&d.inputEl.dom;if(e){d.checked=d.rawValue=d.value=e.checked;d.checkChange()}},updateCheckedCls:function(e){var d=this;e=e!=null?e:d.getValue();d[e?"addCls":"removeCls"](d.checkedCls)},getRawValue:function(){var c=this.inputEl&&this.inputEl.dom;return c?c.checked:this.checked},getValue:function(){var c=this.inputEl&&this.inputEl.dom;return c?c.checked:this.checked},getSubmitValue:function(){var d=this.uncheckedValue,e=Ext.isDefined(d)?d:null;return this.getValue()?this.inputValue:e},isChecked:function(f,e){var g=false;if(f===true||f==="true"){g=true}else{if(e!=="on"&&(e||e===0)&&(Ext.isString(f)||Ext.isNumber(f))){g=f==e}else{g=f==="1"||f===1||this.onRe.test(f)}}return g},setRawValue:function(j){var k=this,g=k.inputEl&&k.inputEl.dom,f=k.isChecked(j,k.inputValue);if(g){k.duringSetRawValue=true;g.checked=f;k.duringSetRawValue=false;k.updateCheckedCls(f)}k.checked=k.rawValue=f;if(!k.duringSetValue){k.lastValue=f}return f},setValue:function(k){var l=this,n,o,j,m;if(Ext.isArray(k)){n=l.getManager().getByName(l.name,l.getFormId()).items;j=n.length;for(o=0;o<j;++o){m=n[o];m.setValue(Ext.Array.contains(k,m.inputValue))}}else{l.duringSetValue=true;Ext.form.field.Base.prototype.setValue.apply(this,arguments);delete l.duringSetValue}return l},valueToRaw:Ext.identityFn,onChange:function(k,f){var g=this,j=g.handler;g.updateCheckedCls(k);if(j){Ext.callback(j,g.scope,[g,k],0,g)}Ext.form.field.Base.prototype.onChange.apply(this,arguments);if(g.reference&&g.publishState){g.publishState("checked",k)}},resetOriginalValue:function(o){var k=this,m,l,j,n;if(!o){m=k.getManager().getByName(k.name,k.getFormId()).items;j=m.length;for(n=0;n<j;++n){l=m[n];if(l!==k){m[n].resetOriginalValue(true)}}}Ext.form.field.Base.prototype.resetOriginalValue.call(this)},doDestroy:function(){this.getManager().removeAtKey(this.id);Ext.form.field.Base.prototype.doDestroy.call(this)},getManager:function(){return Ext.form.CheckboxManager},onEnable:function(){var d=this,e=d.inputEl&&d.inputEl.dom;Ext.form.field.Base.prototype.onEnable.call(this);if(e){e.disabled=d.readOnly}},setReadOnly:function(f){var e=this,g=e.inputEl&&e.inputEl.dom;if(g){g.disabled=!!f||e.disabled}Ext.form.field.Base.prototype.setReadOnly.apply(this,arguments)},getFormId:function(){var e=this,d;if(!e.formId){d=e.up("form");if(d){e.formId=d.id}}return e.formId},getFocusClsEl:function(){return this.displayEl}},0,["checkbox","checkboxfield"],["component","box","field","checkboxfield","checkbox"],{component:true,box:true,field:true,checkboxfield:true,checkbox:true},["widget.checkbox","widget.checkboxfield"],0,[Ext.form.field,"Checkbox",Ext.form,"Checkbox"],0));Ext.define("Ext.theme.triton.form.field.Checkbox",{override:"Ext.form.field.Checkbox",compatibility:Ext.isIE8,initComponent:function(){(arguments.callee.$previous||Ext.form.field.Base.prototype.initComponent).call(this);Ext.on({show:"onGlobalShow",scope:this})},onFocus:function(e){var d;(arguments.callee.$previous||Ext.form.field.Base.prototype.onFocus).call(this,e);d=this.getFocusClsEl();if(d){d.syncRepaint()}},onBlur:function(e){var d;(arguments.callee.$previous||Ext.form.field.Base.prototype.onBlur).call(this,e);d=this.getFocusClsEl();if(d){d.syncRepaint()}},onGlobalShow:function(c){if(c.isAncestor(this)){this.getFocusClsEl().syncRepaint()}}});Ext.define("Ext.overrides.form.field.Checkbox",{override:"Ext.form.field.Checkbox",inputValue:1,uncheckedValue:0});(Ext.cmd.derive("Ext.form.FieldSet",Ext.container.Container,{checkboxUI:"default",collapsed:false,toggleOnTitleClick:true,baseCls:"x-fieldset",layout:"anchor",descriptionText:"{0} field set",expandText:"Expand field set",componentLayout:"fieldset",ariaRole:"group",focusable:false,autoEl:"fieldset",checkbox:null,childEls:["body"],renderTpl:["{%this.renderLegend(out,values);%}",'<div id="{id}-body" data-ref="body" class="{baseCls}-body {baseCls}-body-{ui} {bodyTargetCls}" ','role="presentation"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>"],stateEvents:["collapse","expand"],maskOnDisable:false,initComponent:function(){var e=this,d=e.baseCls;if(e.ariaRole&&!e.ariaLabel){e.ariaLabel=Ext.String.formatEncode(e.descriptionText,e.title||"")}e.ariaRenderAttributes=e.ariaRenderAttributes||{};e.ariaRenderAttributes["aria-expanded"]=!e.collapsed;e.initFieldAncestor();Ext.container.Container.prototype.initComponent.call(this);e.layout.managePadding=e.layout.manageOverflow=false;if(e.collapsed){e.addCls(d+"-collapsed");e.collapse()}if(e.title||e.checkboxToggle||e.collapsible){e.addTitleClasses();e.legend=e.createLegendCt()}e.initMonitor()},initRenderData:function(){var d=this,e=Ext.container.Container.prototype.initRenderData.call(this);e.bodyTargetCls=d.bodyTargetCls;d.protoBody.writeTo(e);delete d.protoBody;return e},doDestroy:function(){var e=this,d=e.legend;if(d){delete d.ownerCt;d.destroy();e.legend=null}Ext.container.Container.prototype.doDestroy.call(this)},getState:function(){var c=Ext.container.Container.prototype.getState.call(this);c=this.addPropertyToState(c,"collapsed");return c},afterCollapse:Ext.emptyFn,afterExpand:Ext.emptyFn,collapsedHorizontal:function(){return true},collapsedVertical:function(){return true},createLegendCt:function(){var j=this,f=[],g={baseCls:j.baseCls+"-header",layout:"container",ui:j.ui,id:j.id+"-legend",autoEl:"legend",ariaRole:null,items:f,ownerCt:j,shrinkWrap:true,ownerLayout:j.componentLayout},k;if(j.checkboxToggle){f.push(j.createCheckboxCmp())}else{if(j.collapsible){f.push(j.createToggleCmp())}}f.push(j.createTitleCmp());k=new Ext.container.Container(g);return k},createTitleCmp:function(){var e=this,d={html:e.title,ui:e.ui,cls:e.baseCls+"-header-text",id:e.id+"-legendTitle",ariaRole:"presentation"};if(e.collapsible&&e.toggleOnTitleClick){d.listeners={click:{element:"el",scope:e,fn:e.toggle}};d.cls+=" "+e.baseCls+"-header-text-collapsible"}e.titleCmp=new Ext.Component(d);return e.titleCmp},createCheckboxCmp:function(){var k=this,g="-checkbox",f=k.baseCls+"-header"+g,j;f+=" "+f+"-"+k.ui;k.checkboxCmp=j=new Ext.form.field.Checkbox(Ext.apply({hideEmptyLabel:true,name:k.checkboxName||k.id+g,cls:f,id:k.id+"-legendChk",ui:k.checkboxUI,checked:!k.collapsed,msgTarget:"none",listeners:{change:k.onCheckChange,scope:k},ariaLabel:k.expandText},k.checkbox));return j},createToggleCmp:function(){var d=this,e;d.toggleCmp=e=new Ext.panel.Tool({cacheHeight:false,cls:d.baseCls+"-header-tool-"+d.ui,type:"toggle",handler:d.toggle,id:d.id+"-legendToggle",scope:d,ariaRole:"checkbox",ariaLabel:d.expandText,ariaRenderAttributes:{"aria-checked":!d.collapsed}});return e},doRenderLegend:function(m,j){var k=j.$comp,l=k.legend,g;if(l){l.ownerLayout.configureItem(l);k.setLegendCollapseImmunity(l);g=l.getRenderTree();Ext.DomHelper.generateMarkup(g,m)}},getCollapsed:function(){return this.collapsed?"top":false},getCollapsedDockedItems:function(){var c=this.legend;return c?[c]:[]},setTitle:function(f){var g=this,e=g.legend;g.title=f;g.ariaLabel=Ext.String.formatEncode(g.descriptionText,f||"");if(g.rendered){if(!e){g.legend=e=g.createLegendCt();g.addTitleClasses();e.ownerLayout.configureItem(e);g.setLegendCollapseImmunity(e);e.render(g.el,0)}g.titleCmp.update(f);g.ariaEl.dom.setAttribute("aria-label",g.ariaLabel)}else{if(e){g.titleCmp.update(f)}else{g.addTitleClasses();g.legend=g.createLegendCt()}}return g},addTitleClasses:function(){var g=this,f=g.title,e=g.baseCls;if(f){g.addCls(e+"-with-title")}if(f||g.checkboxToggle||g.collapsible){g.addCls(e+"-with-legend")}},expand:function(){return this.setExpanded(true)},collapse:function(){return this.setExpanded(false)},setCollapsed:function(c){this.setExpanded(!c)},setExpanded:function(m){var l=this,k=l.checkboxCmp,j=l.toggleCmp,g=m?"expand":"collapse";if(!l.rendered||l.fireEvent("before"+g,l)!==false){m=!!m;if(k){k.setValue(m)}else{if(j&&j.ariaEl.dom){j.ariaEl.dom.setAttribute("aria-checked",m)}}if(m){l.removeCls(l.baseCls+"-collapsed")}else{l.addCls(l.baseCls+"-collapsed")}if(l.ariaEl.dom){l.ariaEl.dom.setAttribute("aria-expanded",!!m)}l.collapsed=!m;if(m){delete l.getInherited().collapsed}else{l.getInherited().collapsed=true}if(l.rendered){l.updateLayout({isRoot:false});l.fireEvent(g,l)}}return l},getRefItems:function(e){var f=Ext.container.Container.prototype.getRefItems.apply(this,arguments),g=this.legend;if(g){f.unshift(g);if(e){f.unshift.apply(f,g.getRefItems(true))}}return f},toggle:function(){this.setExpanded(!!this.collapsed)},privates:{applyTargetCls:function(c){this.bodyTargetCls=c},finishRender:function(){var c=this.legend;Ext.container.Container.prototype.finishRender.call(this);if(c){c.finishRender()}},getProtoBody:function(){var e=this,d=e.protoBody;if(!d){e.protoBody=d=new Ext.util.ProtoElement({styleProp:"bodyStyle",styleIsText:true})}return d},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){return this.body||this.frameBody||this.el},initPadding:function(j){var l=this,g=l.getProtoBody(),k=l.padding,m;if(k!==undefined){if(Ext.isIE8){k=l.parseBox(k);m=Ext.Element.parseBox(0);m.top=k.top;k.top=0;g.setStyle("padding",l.unitizeBox(m))}j.setStyle("padding",l.unitizeBox(k))}},onCheckChange:function(e,d){this.setExpanded(d)},setLegendCollapseImmunity:function(c){c.collapseImmune=true;c.getInherited().collapseImmune=true},setupRenderTpl:function(c){Ext.container.Container.prototype.setupRenderTpl.apply(this,arguments);c.renderLegend=this.doRenderLegend}}},0,["fieldset"],["component","box","container","fieldset"],{component:true,box:true,container:true,fieldset:true},["widget.fieldset"],[["fieldAncestor",Ext.form.FieldAncestor]],[Ext.form,"FieldSet"],0));(Ext.cmd.derive("Ext.form.Label",Ext.Component,{autoEl:"label",maskOnDisable:false,getElConfig:function(){var c=this;c.html=c.text?Ext.util.Format.htmlEncode(c.text):(c.html||"");return Ext.apply(Ext.Component.prototype.getElConfig.call(this),{htmlFor:c.forId||""})},setText:function(f,g){var e=this;g=g!==false;if(g){e.text=f;delete e.html}else{e.html=f;delete e.text}if(e.rendered){e.el.dom.innerHTML=g!==false?Ext.util.Format.htmlEncode(f):f;e.updateLayout()}return e}},0,["label"],["component","box","label"],{component:true,box:true,label:true},["widget.label"],0,[Ext.form,"Label"],0));Ext.define("Ext.overrides.form.Label",{override:"Ext.form.Label",labelAlign:"top",labelSeparator:"",useLabelBold:false,initComponent:function(){var c=this;(arguments.callee.$previous||Ext.Component.prototype.initComponent).call(this);c.setLabelBold(c.useLabelBold);c.on({afterrender:{fn:"fnAfterRender",scope:c}})},fnAfterRender:function(f,k){var g=this,k={},j=g.getEl();j.on("click",function(){g.fireEvent("click",g,j,k)},g)},setLabelBold:function(f){var g=this,e="font-weight: bold;";if(f){g.style=g.style?(g.style+e):e}}});(Ext.cmd.derive("Ext.form.Panel",Ext.panel.Panel,{alternateClassName:["Ext.FormPanel","Ext.form.FormPanel"],layout:"anchor",bodyAriaRole:"form",basicFormConfigs:["api","baseParams","errorReader","jsonSubmit","method","paramOrder","paramsAsHash","reader","standardSubmit","timeout","trackResetOnLoad","url","waitMsgTarget","waitTitle"],initComponent:function(){var c=this;if(c.frame){c.border=false}c.initFieldAncestor();Ext.panel.Panel.prototype.initComponent.call(this);c.relayEvents(c.form,["beforeaction","actionfailed","actioncomplete","validitychange","dirtychange"]);if(c.pollForChanges){c.startPolling(c.pollInterval||500)}},initItems:function(){Ext.panel.Panel.prototype.initItems.call(this);this.initMonitor();this.form=this.createForm()},afterFirstLayout:function(){Ext.panel.Panel.prototype.afterFirstLayout.apply(this,arguments);this.form.initialize()},createForm:function(){var m={},k=this.basicFormConfigs,g=k.length,l=0,j;for(;l<g;++l){j=k[l];m[j]=this[j]}return new Ext.form.Basic(this,m)},getForm:function(){return this.form},loadRecord:function(c){return this.getForm().loadRecord(c)},getRecord:function(){return this.getForm().getRecord()},updateRecord:function(c){return this.getForm().updateRecord(c)},getValues:function(g,k,j,f){return this.getForm().getValues(g,k,j,f)},isDirty:function(){return this.form.isDirty()},isValid:function(){return this.form.isValid()},reset:function(c){return this.form.reset(c)},hasInvalidField:function(){return this.form.hasInvalidField()},doDestroy:function(){this.stopPolling();this.form.destroy();Ext.panel.Panel.prototype.doDestroy.call(this)},load:function(c){this.form.load(c)},submit:function(c){this.form.submit(c)},startPolling:function(e){this.stopPolling();var d=new Ext.util.TaskRunner(e);d.start({interval:0,run:this.checkChange,scope:this});this.pollTask=d},stopPolling:function(){var c=this.pollTask;if(c){c.stopAll();delete this.pollTask}},checkChange:function(){var e=this.form.getFields().items,g,f=e.length;for(g=0;g<f;g++){e[g].checkChange()}}},0,["form"],["component","box","container","panel","form"],{component:true,box:true,container:true,panel:true,form:true},["widget.form"],[["fieldAncestor",Ext.form.FieldAncestor]],[Ext.form,"Panel",Ext,"FormPanel",Ext.form,"FormPanel"],0));Ext.define("Ext.overrides.form.Panel",{override:"Ext.form.Panel",initComponent:function(){var c=this;if(c.showSmartTransparent===true){c.bodyStyle=Ext.apply({backgroundColor:"transparent"},c.bodyStyle)}(arguments.callee.$previous||Ext.panel.Panel.prototype.initComponent).apply(this,arguments);c.onBefore("beforeaction",c.fnBeforeAction,c)},fnBeforeAction:function(j,l,o){var k=l.params;try{var m=k.rows?Ext.decode(k.rows):null;if(m&&m.id.indexOf("SMART_")!=-1){m.id=(m.id.indexOf("SMART_")==-1)?m.id:"";l.params.rows=Ext.encode(m)}}catch(n){}}});(Ext.cmd.derive("Ext.form.field.Picker",Ext.form.field.Text,{alternateClassName:"Ext.form.Picker",config:{triggers:{picker:{handler:"onTriggerClick",scope:"this",focusOnMousedown:true}}},renderConfig:{editable:true},keyMap:{scope:"this",DOWN:"onDownArrow",ESC:"onEsc"},keyMapTarget:"inputEl",isPickerField:true,matchFieldWidth:true,pickerAlign:"tl-bl?",openCls:"x-pickerfield-open",isExpanded:false,applyTriggers:function(g){var f=this,e=g.picker;if(!e.cls){e.cls=f.triggerCls}return Ext.form.field.Text.prototype.applyTriggers.call(this,g)},getSubTplData:function(k){var j=this,g,f;g=Ext.form.field.Text.prototype.getSubTplData.call(this,k);if(!j.ariaStaticRoles[j.ariaRole]){f=g.ariaElAttributes;if(f){f["aria-haspopup"]=true;f["aria-expanded"]=false}}return g},initEvents:function(){Ext.form.field.Text.prototype.initEvents.call(this);if(Ext.isGecko){this.inputEl.dom.setAttribute("autocomplete","off")}},updateEditable:function(e,f){var g=this;if(!e){g.inputEl.on("click",g.onTriggerClick,g)}else{g.inputEl.un("click",g.onTriggerClick,g)}Ext.form.field.Text.prototype.updateEditable.call(this,e,f)},onEsc:function(c){if(Ext.isIE){c.preventDefault()}if(this.isExpanded){this.collapse();c.stopEvent()}},onDownArrow:function(e){var d=this;if((e.time-d.lastDownArrow)>150){delete d.lastDownArrow}if(!d.isExpanded){e.stopEvent();d.onTriggerClick(e);d.lastDownArrow=e.time}else{if(!e.stopped&&(e.time-d.lastDownArrow)<150){delete d.lastDownArrow}}},expand:function(){var j=this,f,k,g;if(j.rendered&&!j.isExpanded&&!j.destroyed){f=j.bodyEl;k=j.getPicker();g=Ext.getDoc();k.setMaxHeight(k.initialConfig.maxHeight);if(j.matchFieldWidth){k.setWidth(j.bodyEl.getWidth())}k.show();j.isExpanded=true;j.alignPicker();f.addCls(j.openCls);if(!j.ariaStaticRoles[j.ariaRole]){if(!j.ariaEl.dom.hasAttribute("aria-owns")){j.ariaEl.dom.setAttribute("aria-owns",k.listEl?k.listEl.id:k.el.id)}j.ariaEl.dom.setAttribute("aria-expanded",true)}j.touchListeners=g.on({translate:false,touchstart:j.collapseIf,scope:j,delegated:false,destroyable:true});j.scrollListeners=Ext.on({scroll:j.onGlobalScroll,scope:j,destroyable:true});Ext.on("resize",j.alignPicker,j,{buffer:1});j.fireEvent("expand",j);j.onExpand()}},onExpand:Ext.emptyFn,alignPicker:function(){var e=this,d;if(e.rendered&&!e.destroyed){d=e.getPicker();if(d.isVisible()&&d.isFloating()){e.doAlign()}}},doAlign:function(){var j=this,l=j.picker,g="-above",k,m;l.el.alignTo(j.triggerWrap,j.pickerAlign,j.pickerOffset);k=l.floatParent?l.getOffsetsTo(l.floatParent.getTargetEl()):l.getXY();l.x=k[0];l.y=k[1];m=l.el.getY()<j.inputEl.getY();j.bodyEl[m?"addCls":"removeCls"](j.openCls+g);l[m?"addCls":"removeCls"](l.baseCls+g)},collapse:function(){var g=this;if(g.isExpanded&&!g.destroyed&&!g.destroying){var j=g.openCls,k=g.picker,f="-above";k.hide();g.isExpanded=false;g.bodyEl.removeCls([j,j+f]);k.el.removeCls(k.baseCls+f);if(!g.ariaStaticRoles[g.ariaRole]){g.ariaEl.dom.setAttribute("aria-expanded",false)}g.touchListeners.destroy();g.scrollListeners.destroy();Ext.un("resize",g.alignPicker,g);g.fireEvent("collapse",g);g.onCollapse()}},onCollapse:Ext.emptyFn,collapseIf:function(e){var d=this;if(!d.destroyed&&!e.within(d.bodyEl,false,true)&&!d.owns(e.target)&&!Ext.fly(e.target).isFocusable()){d.collapse()}},getPicker:function(){var e=this,d=e.picker;if(!d){e.creatingPicker=true;e.picker=d=e.createPicker();d.ownerCmp=e;delete e.creatingPicker}return e.picker},onFocusLeave:function(c){this.collapse();Ext.form.field.Text.prototype.onFocusLeave.call(this,c)},getRefItems:function(){var c=[];if(this.picker){c[0]=this.picker}return c},createPicker:Ext.emptyFn,onTriggerClick:function(e){var d=this;if(!d.readOnly&&!d.disabled){if(d.isExpanded){d.collapse()}else{d.expand()}}},doDestroy:function(){var e=this,d=e.picker;Ext.un("resize",e.alignPicker,e);Ext.destroy(e.keyNav,d);if(d){e.picker=d.pickerField=null}Ext.form.field.Text.prototype.doDestroy.call(this)},privates:{onGlobalScroll:function(c){if(!this.picker.owns(c.getElement())){this.collapse()}}}},0,["pickerfield"],["component","box","field","textfield","pickerfield"],{component:true,box:true,field:true,textfield:true,pickerfield:true},["widget.pickerfield"],0,[Ext.form.field,"Picker",Ext.form,"Picker"],0));Ext.define("Ext.overrides.form.field.Picker",{override:"Ext.form.field.Picker",initComponent:function(){var c=this;(arguments.callee.$previous||Ext.form.field.Text.prototype.initComponent).call(this);c.on({itemclick:{fn:"fnItemClick",scope:c}})},fnItemClick:function(e,d){console.info(e,d)}});(Ext.cmd.derive("Ext.selection.Model",Ext.mixin.Observable,{alternateClassName:"Ext.AbstractSelectionModel",factoryConfig:{defaultType:"dataviewmodel"},$configPrefixed:false,$configStrict:false,config:{store:null,selected:{}},isSelectionModel:true,allowDeselect:undefined,toggleOnClick:true,ordered:false,selected:null,pruneRemoved:true,suspendChange:0,ignoreRightMouseSelection:false,constructor:function(d){var e=this;e.modes={SINGLE:true,SIMPLE:true,MULTI:true};Ext.mixin.Observable.prototype.constructor.call(this,d);e.setSelectionMode(e.mode);if(e.selectionMode!=="SINGLE"){e.allowDeselect=true}},updateStore:function(d,e){this.bindStore(d,!e)},applySelected:function(c){if(!c.isBag&&!c.isCollection){c=new Ext.util[this.ordered?"Collection":"Bag"](Ext.apply({rootProperty:"data"},c))}return c},getStoreListeners:function(){var c=this;return{add:c.onStoreAdd,clear:c.onStoreClear,remove:c.onStoreRemove,update:c.onStoreUpdate,idchanged:c.onIdChanged,load:c.onStoreLoad,refresh:c.onStoreRefresh,pageadd:c.onPageAdd,pageremove:c.onPageRemove}},onBindStore:function(e,f,g){if(!g){this.updateSelectedInstances(this.selected)}},suspendChanges:function(){++this.suspendChange},resumeChanges:function(){if(this.suspendChange){--this.suspendChange}},selectAll:function(f){var j=this,k=j.store.getRange(),g=j.getSelection().length;j.suspendChanges();j.doSelect(k,true,f);if(!j.destroyed){j.resumeChanges();if(!f){j.maybeFireSelectionChange(j.getSelection().length!==g)}}},deselectAll:function(l){var p=this,u=p.getSelection(),o={},n=p.store,v=u.length,q,s,r;for(q=0,s=u.length;q<s;q++){r=u[q];o[r.id]=n.indexOf(r)}u=Ext.Array.sort(u,function(d,b){var c=o[d.id],e=o[b.id];return c<e?-1:1});p.suspendChanges();p.doDeselect(u,l);if(!p.destroyed){p.resumeChanges();if(!l){p.maybeFireSelectionChange(p.getSelection().length!==v)}}},getSelectionStart:function(){return this.selectionStart},setSelectionStart:function(c){this.selectionStart=c},selectWithEvent:function(m,j){var k=this,l=k.isSelected(m),e=j.shiftKey;switch(k.selectionMode){case"MULTI":k.selectWithEventMulti(m,j,l);break;case"SIMPLE":k.selectWithEventSimple(m,j,l);break;case"SINGLE":k.selectWithEventSingle(m,j,l);break}if(k.destroyed){return}if(!e){if(k.isSelected(m)){k.selectionStart=m}else{k.selectionStart=null}}},vetoSelection:function(c){if(c.stopSelection){return true}else{if(c.type!=="keydown"&&c.button!==0){if(this.ignoreRightMouseSelection||this.isSelected(c.record)){return true}}else{return c.type==="mousedown"}}},onNavigate:function(A){if(!A.record||this.vetoSelection(A.keyEvent)){return}this.onBeforeNavigate(A);var x=this,y=A.keyEvent,F=y.ctrlKey||A.ctrlKey,C=A.recordIndex,B=A.record,s=A.previousRecord,E=x.isSelected(B),v=(x.selectionStart&&x.isSelected(A.previousRecord))?x.selectionStart:(x.selectionStart=A.previousRecord),G=A.previousRecordIndex,u=y.getCharCode(),e=u===y.SPACE,D=A.record!==A.previousRecord,w=u===y.UP||u===y.PAGE_UP||u===y.HOME||(u===y.LEFT&&D)?"up":(u===y.DOWN||u===y.PAGE_DOWN||u===y.END||(u===y.RIGHT&&D)?"down":null);switch(x.selectionMode){case"MULTI":x.setSelectionStart(A.selectionStart);if(u===y.A&&F){x.selected.beginUpdate();x.selectRange(0,x.store.getCount()-1);x.selected.endUpdate()}else{if(e){if(y.shiftKey){x.selectRange(v,B,F)}else{if(E){if(x.allowDeselect){x.doDeselect(B)}}else{x.doSelect(B,F)}}}else{if(y.shiftKey&&v){if(w==="up"&&G<=C){x.deselectRange(s,C+1)}else{if(w==="down"&&G>=C){x.deselectRange(s,C-1)}else{if(v!==B){x.selectRange(v,B,F)}}}x.lastSelected=B}else{if(u){if(!F){x.doSelect(B,false)}}else{x.selectWithEvent(B,y)}}}}break;case"SIMPLE":if(u===y.A&&F){x.selected.beginUpdate();x.selectRange(0,x.store.getCount()-1);x.selected.endUpdate()}else{if(E){x.doDeselect(B)}else{x.doSelect(B,true)}}break;case"SINGLE":if(!F){if(w){x.doSelect(B,false)}else{if(e||!u){x.selectWithEvent(B,y)}}}}if(!y.shiftKey&&!x.destroyed&&x.isSelected(B)){x.selectionStart=B;x.selectionStartIdx=C}},selectRange:function(s,B,r){var w=this,u=w.store,C=w.selected.items,q,y,x,A,E,v,D;if(w.isLocked()){return}q=w.normalizeRowRange(s,B);s=q[0];B=q[1];A=[];for(y=s;y<=B;y++){if(!w.isSelected(u.getAt(y))){A.push(u.getAt(y))}}if(!r){E=[];w.suspendChanges();for(y=0,x=C.length;y<x;++y){D=C[y];v=u.indexOf(D);if(v<s||v>B){E.push(D)}}for(y=0,x=E.length;y<x;++y){w.doDeselect(E[y]);if(w.destroyed){break}}if(!w.destroyed){w.resumeChanges()}}if(!w.destroyed){if(A.length){w.doMultiSelect(A,true)}else{if(E){w.maybeFireSelectionChange(E.length>0)}}}},deselectRange:function(p,q){var m=this,r=m.store,l,n,o,s;if(m.isLocked()){return}l=m.normalizeRowRange(p,q);p=l[0];q=l[1];o=[];for(n=p;n<=q;n++){s=r.getAt(n);if(m.isSelected(s)){o.push(s)}}if(o.length){m.doDeselect(o)}},normalizeRowRange:function(j,k){var f=this.store,g;if(!Ext.isNumber(j)){j=f.indexOf(j)}j=Math.max(0,j);if(!Ext.isNumber(k)){k=f.indexOf(k)}k=Math.min(k,f.getCount()-1);if(j>k){g=k;k=j;j=g}return[j,k]},select:function(g,f,e){if(Ext.isDefined(g)&&!(Ext.isArray(g)&&!g.length)){this.doSelect(g,f,e)}},deselect:function(e,d){this.doDeselect(e,d)},doSelect:function(l,j,m){var k=this,g;if(k.locked||l==null){return}if(typeof l==="number"){g=k.store.getAt(l);if(!g){return}l=[g]}if(k.selectionMode==="SINGLE"){if(l.isModel){l=[l]}if(l.length){k.doSingleSelect(l[0],m)}}else{k.doMultiSelect(l,j,m)}},doMultiSelect:function(A,p,q){var s=this,y=s.selected,r=false,o,w,u,v,x;if(s.locked){return}A=!Ext.isArray(A)?[A]:A;u=A.length;if(!p&&y.getCount()>0){o=s.deselectDuringSelect(A,q);if(s.destroyed){return}if(o[0]){s.maybeFireSelectionChange(o[1]>0&&!q);return}else{r=o[1]>0}}x=function(){if(!y.getCount()){s.selectionStart=v}if(!q){y.add(v)}r=true};for(w=0;w<u;w++){v=A[w];if(s.isSelected(v)){continue}s.onSelectChange(v,true,q,x);if(s.destroyed){return}}s.lastSelected=v;if(q){y.add(A)}s.maybeFireSelectionChange(r&&!q)},deselectDuringSelect:function(r,n){var o=this,v=o.selected.getRange(),p=v.length,s=0,q=false,m,u;o.suspendChanges();o.deselectingDuringSelect=true;for(u=0;u<p;++u){m=v[u];if(!Ext.Array.contains(r,m)){if(o.doDeselect(m,n)){++s}else{q=true}}if(o.destroyed){q=true;s=0;break}}o.deselectingDuringSelect=false;if(!o.destroyed){o.resumeChanges()}return[q,s]},doDeselect:function(x,o){var p=this,w=p.selected,u=0,q,s,n=0,r=0,v;if(p.locked||!p.store){return false}if(typeof x==="number"){s=p.store.getAt(x);if(!s){return false}x=[s]}else{if(!Ext.isArray(x)){x=[x]}}v=function(){++r;if(!o){w.remove(s)}if(s===p.selectionStart){p.selectionStart=null}};q=x.length;p.suspendChanges();for(;u<q;u++){s=x[u];if(p.isSelected(s)){if(p.lastSelected===s){p.lastSelected=w.last()}++n;p.onSelectChange(s,false,o,v);if(p.destroyed){return false}}}p.resumeChanges();if(o){w.remove(x)}p.maybeFireSelectionChange(r>0&&!o);return r===n},doSingleSelect:function(j,o){var m=this,k=false,n=m.selected,l;if(m.locked){return}if(m.isSelected(j)){return}l=function(){if(n.getCount()){m.suspendChanges();var b=m.deselectDuringSelect([j],o);if(m.destroyed){return}m.resumeChanges();if(b[0]){return false}}m.lastSelected=j;if(!n.getCount()){m.selectionStart=j}n.add(j);k=true};m.onSelectChange(j,true,o,l);if(k&&!m.destroyed){m.maybeFireSelectionChange(!o)}},maybeFireSelectionChange:function(d){var e=this;if(d&&!e.suspendChange){e.fireEvent("selectionchange",e,e.getSelection())}},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},setSelectionMode:function(c){c=c?c.toUpperCase():"SINGLE";this.selectionMode=this.modes[c]?c:"SINGLE"},isLocked:function(){return this.locked},setLocked:function(c){this.locked=!!c},isRangeSelected:function(m,n){var k=this,o=k.store,l,j;j=k.normalizeRowRange(m,n);m=j[0];n=j[1];for(l=m;l<=n;l++){if(!k.isSelected(o.getAt(l))){return false}}return true},isSelected:function(c){c=Ext.isNumber(c)?this.store.getAt(c):c;return this.selected?this.selected.contains(c):false},hasSelection:function(){var c=this.getSelected();return !!(c&&c.getCount())},refresh:function(){var u=this,d=u.store,y=[],v=[],A=u.getSelection(),x=A.length,C=u.getSelected(),s,w,E,r,D,B;if(!d||!(C.isCollection||C.isBag||C.isRows)||!C.getCount()){return}E=d.getData();if(E.getSource){w=E.getSource();if(w){E=w}}u.refreshing=true;C.beginUpdate();u.suspendChanges();for(B=0;B<x;B++){r=A[B];D=E.get(r.getId());if(D){y.push(D)}else{if(!u.pruneRemoved){v.push(r)}}if(u.mode==="SINGLE"&&v.length){break}}if(C.getCount()!==(y.length+v.length)){s=true}u.clearSelections();if(y.length){u.doSelect(y,false,true)}if(v.length){C.add(v);if(!u.lastSelected){u.lastSelected=v[v.length-1]}}u.resumeChanges();if(s){C.endUpdate()}else{C.updating--}u.refreshing=false;u.maybeFireSelectionChange(s)},clearSelections:function(){var c=this.getSelected();if(c){c.clear()}this.lastSelected=null},onStoreAdd:Ext.emptyFn,onStoreClear:function(){if((!this.store.isLoading()||this.store.clearing)&&this.hasSelection()){this.clearSelections();this.maybeFireSelectionChange(true)}},onStoreRemove:function(o,w,s,n){var p=this,x=w,u,r,v,q;if(p.selectionStart&&Ext.Array.contains(w,p.selectionStart)){p.selectionStart=null}if(n||p.locked||!p.pruneRemoved){return}q=o.isMoving(null,true);if(q){x=null;for(u=0,r=w.length;u<r;++u){v=w[u];if(!q[v.id]){(x||(x=[])).push(v)}}}if(x){p.deselect(x)}},onPageRemove:function(g,e,f){this.onStoreRemove(this.store,f)},onPageAdd:function(m,n,l){var j=l.length,k,o;for(k=0;k<j;k++){o=l[k];if(this.selected.get(o.id)){this.selected.replace(o)}}},getCount:function(){return this.selected.getCount()},onUpdate:Ext.emptyFn,destroy:function(){var c=this;c.clearSelections();c.bindStore(null);c.selected=Ext.destroy(c.selected);Ext.mixin.Observable.prototype.destroy.call(this)},onStoreUpdate:Ext.emptyFn,onIdChanged:function(f,g,j,k){this.selected.updateKey(g,j)},onStoreRefresh:function(){this.updateSelectedInstances(this.selected)},updateSelectedInstances:function(x){var s=this,q=s.getStore(),r=s.lastSelected,C=0,A=s.pruneRemovedOnRefresh(),u,B,w,p,y,v;if(q&&q.isBufferedStore){return}u=x.getRange();B=u.length;if(r){s.lastSelected=q.getById(r.id);v=s.lastSelected!==r}s.refreshing=true;if(q){for(w=0;w<B;++w){p=u[w];y=q.getById(p.id);if(y){if(y!==p){x.add(y)}}else{if(A){x.remove(p);++C}}}}else{C=x.getCount();x.removeAll()}s.refreshing=false;s.maybeFireSelectionChange(C>0);if(v){s.fireEvent("lastselectedchanged",s,s.getSelection(),r)}},pruneRemovedOnRefresh:function(){return this.pruneRemoved},onStoreLoad:Ext.emptyFn,onSelectChange:function(j,m,n,k){var l=this,o=m?"select":"deselect";if((n||l.fireEvent("before"+o,l,j))!==false&&k()!==false){if(!n&&!l.destroyed){l.fireEvent(o,l,j)}}},onEditorKey:Ext.emptyFn,beforeViewRender:function(c){Ext.Array.include(this.views||(this.views=[]),c)},onHeaderClick:Ext.emptyFn,resolveListenerScope:function(f){var e=this.view,g;if(e){g=e.resolveSatelliteListenerScope(this,f)}return g||Ext.mixin.Observable.prototype.resolveListenerScope.call(this,f)},bindComponent:Ext.emptyFn,privates:{onBeforeNavigate:Ext.privateFn,getLastSelected:function(){return this.lastSelected},selectWithEventMulti:function(u,r,y){var q=this,x=r.shiftKey,C=r.ctrlKey,A=x?(q.getSelectionStart()):null,w=q.getSelection(),s=w.length,B,v,e;if(x&&A){q.selectRange(A,u,C)}else{if(C&&y){if(q.allowDeselect){q.doDeselect(u,false)}}else{if(C){q.doSelect(u,true,false)}else{if(y&&!x&&!C&&s>1){if(q.allowDeselect){B=[];for(v=0;v<s;++v){e=w[v];if(e!==u){B.push(e)}}q.doDeselect(B)}}else{if(!y){q.doSelect(u,false)}}}}}},selectWithEventSimple:function(e,f,g){if(g){this.doDeselect(e)}else{this.doSelect(e,true)}},selectWithEventSingle:function(m,j,l){var k=this,e=k.allowDeselect;if(e&&!j.ctrlKey){e=k.toggleOnClick}if(e&&l){k.doDeselect(m)}else{k.doSelect(m,false)}}}},1,0,0,0,["selection.abstract"],[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder],[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.selection,"Model",Ext,"AbstractSelectionModel"],0));(Ext.cmd.derive("Ext.selection.DataViewModel",Ext.selection.Model,{deselectOnContainerClick:true,bindComponent:function(e){var f=this,g;if(f.view!==e){if(f.view){f.navigationModel=null;Ext.destroy(f.viewListeners,f.navigationListeners)}f.view=e;if(e){g=f.getViewListeners();g.scope=f;g.destroyable=true;f.navigationModel=e.getNavigationModel();f.viewListeners=e.on(g);f.navigationListeners=f.navigationModel.on({navigate:f.onNavigate,scope:f,destroyable:true})}}},getViewListeners:function(){var d=this,e={};e[d.view.triggerCtEvent]=d.onContainerClick;return e},onUpdate:function(e){var d=this.view;if(d&&this.isSelected(e)){d.onItemSelect(e)}},onContainerClick:function(){if(this.deselectOnContainerClick){this.deselectAll()}},onSelectChange:function(s,o,p,m){var n=this,l=n.view,q=o?"select":"deselect",r=n.store.indexOf(s);if((p||n.fireEvent("before"+q,n,s,r))!==false&&m()!==false){if(l&&!l.destroyed){if(o){l.onItemSelect(s)}else{l.onItemDeselect(s)}}if(!p&&!n.destroyed){n.fireEvent(q,n,s,r)}}},destroy:function(){this.bindComponent();Ext.destroy(this.keyNav);Ext.selection.Model.prototype.destroy.call(this)}},0,0,0,0,["selection.dataviewmodel"],0,[Ext.selection,"DataViewModel"],0));(Ext.cmd.derive("Ext.view.NavigationModel",Ext.Base,{config:{store:null},focusCls:"x-view-item-focused",constructor:function(){this.mixins.observable.constructor.call(this)},bindComponent:function(c){if(this.view!==c){this.view=c;this.bindView(c)}},bindView:function(f){var j=this,g=f.dataSource,k;j.initKeyNav(f);if(!g.isEmptyStore){j.setStore(g)}k=j.getViewListeners();k.destroyable=true;j.viewListeners=j.viewListeners||[];j.viewListeners.push(f.on(k))},updateStore:function(c){this.mixins.storeholder.bindStore.apply(this,[c])},getViewListeners:function(){var c=this;return{containermousedown:c.onContainerMouseDown,itemmousedown:c.onItemMouseDown,itemclick:c.onItemClick,itemcontextmenu:c.onItemMouseDown,scope:c}},initKeyNav:function(d){var e=this;e.keyNav=new Ext.util.KeyNav({target:d,ignoreInputFields:true,eventName:"itemkeydown",defaultEventAction:"stopEvent",processEvent:e.processViewEvent,up:e.onKeyUp,down:e.onKeyDown,right:e.onKeyRight,left:e.onKeyLeft,pageDown:e.onKeyPageDown,pageUp:e.onKeyPageUp,home:e.onKeyHome,end:e.onKeyEnd,space:e.onKeySpace,enter:e.onKeyEnter,A:{ctrl:true,handler:e.onSelectAllKeyPress},scope:e})},processViewEvent:function(m,g,j,l,k){return k},addKeyBindings:function(c){this.keyNav.addBindings(c)},enable:function(){this.keyNav.enable();this.disabled=false},disable:function(){this.keyNav.disable();this.disabled=true},onContainerMouseDown:function(d,e){if(Ext.getScrollbarSize().width){if(!d.el.getClientRegion().contains(e.getPoint())){e.preventDefault();d.lastFocused="scrollbar"}}},onItemMouseDown:function(m,g,j,k,l){if(l.pointerType!=="touch"){this.setPosition(k)}},onItemClick:function(l,m,j,k,g){if(this.record===m){this.fireNavigateEvent(g)}else{this.setPosition(k,g)}},setPosition:function(x,s,o,w,r){var q=this,p=q.view,v=p.getSelectionModel(),A=p.dataSource,u,y;if(x==null||!p.all.getCount()){q.record=q.recordIndex=null}else{if(typeof x==="number"){y=Math.max(Math.min(x,A.getCount()-1),0);u=A.getAt(x)}else{if(x.isEntity){u=A.getById(x.id);y=A.indexOf(u);if(y===-1){u=A.getAt(0);y=0}}else{if(x.tagName){u=p.getRecord(x);y=A.indexOf(u)}else{u=y=null}}}}if(u===q.record){q.recordIndex=y;return q.focusPosition(y)}if(q.item){q.item.removeCls(q.focusCls)}q.previousRecordIndex=q.recordIndex;q.previousRecord=q.record;q.previousItem=q.item;q.recordIndex=y;q.record=u;w=w||q.record===q.lastFocused;if(u){q.focusPosition(q.recordIndex)}else{if(!r){q.item=null}}if(!o){v.fireEvent("focuschange",v,q.previousRecord,q.record)}if(!w&&s){q.fireNavigateEvent(s)}},focusPosition:function(d){var e=this;if(d!=null&&d!==-1){if(d.isEntity){d=e.view.dataSource.indexOf(d)}e.item=e.view.all.item(d);if(e.item){e.lastFocused=e.record;e.lastFocusedIndex=e.recordIndex;e.focusItem(e.item)}else{e.record=null}}else{e.item=null}},focusItem:function(c){c.addCls(this.focusCls);c.focus()},getPosition:function(){return this.record?this.recordIndex:null},getRecordIndex:function(){return this.recordIndex},getItem:function(){return this.item},getRecord:function(){return this.record},getLastFocused:function(){if(this.view.dataSource.indexOf(this.lastFocused)===-1){return null}return this.lastFocused},onKeyUp:function(e){var d=this.recordIndex-1;if(d<0){d=this.view.all.getCount()-1}this.setPosition(d,e)},onKeyDown:function(e){var d=this.recordIndex+1;if(d>this.view.all.getCount()-1){d=0}this.setPosition(d,e)},onKeyRight:function(e){var d=this.recordIndex+1;if(d>this.view.all.getCount()-1){d=0}this.setPosition(d,e)},onKeyLeft:function(e){var d=this.recordIndex-1;if(d<0){d=this.view.all.getCount()-1}this.setPosition(d,e)},onKeyPageDown:Ext.emptyFn,onKeyPageUp:Ext.emptyFn,onKeyHome:function(c){this.setPosition(0,c)},onKeyEnd:function(c){this.setPosition(this.view.all.getCount()-1,c)},onKeySpace:function(c){this.fireNavigateEvent(c)},onKeyEnter:function(c){c.stopEvent();c.view.fireEvent("itemclick",c.view,c.record,c.item,c.recordIndex,c)},onSelectAllKeyPress:function(c){this.fireNavigateEvent(c)},fireNavigateEvent:function(e){var d=this;d.fireEvent("navigate",{navigationModel:d,keyEvent:e,previousRecordIndex:d.previousRecordIndex,previousRecord:d.previousRecord,previousItem:d.previousItem,recordIndex:d.recordIndex,record:d.record,item:d.item})},destroy:function(){this.setStore(null);Ext.destroy(this.viewListeners,this.keyNav);this.callParent()}},1,0,0,0,["view.navigation.default"],[[Ext.util.Observable.prototype.mixinId||Ext.util.Observable.$className,Ext.util.Observable],[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable],[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],[Ext.view,"NavigationModel"],0));(Ext.cmd.derive("Ext.view.AbstractView",Ext.Component,{isDataView:true,inheritableStatics:{getRecord:function(c){return this.getBoundView(c).getRecord(c)},getBoundView:function(c){return Ext.getCmp(c.getAttribute("data-boundView"))}},defaultBindProperty:"store",renderBuffer:document.createElement("div"),statics:{updateDelay:200,queueRecordChange:function(w,u,C,H,G){var x=this,I=x.changeQueue||(x.changeQueue={}),B=C.internalId,y,D,A,F,s,v,E;y=I[B]||(I[B]={operation:H,record:C,data:{},views:[]});D=y.data;Ext.Array.include(y.views,w);if(G&&(A=G.length)){for(F=0;F<A;F++){s=G[F];v=C.data[s];if(D.hasOwnProperty(s)){if(C.isEqual(D[s],v)){delete D[s];E=true}}else{D[s]=v}}if(E&&!Ext.Object.getKeys(D).length){delete I[B]}}else{Ext.apply(D,C.data)}if(!x.flushQueueTask){x.flushQueueTask=Ext.util.TaskManager.newTask({run:Ext.global.requestAnimationFrame?Ext.Function.createAnimationFrame(x.onFlushTick,x):Ext.Function.bind(x.onFlushTick,x),interval:Ext.view.AbstractView.updateDelay,repeat:1})}x.flushQueueTask.start()},onFlushTick:function(){Ext.AnimationQueue.start(this.flushChangeQueue,this)},flushChangeQueue:function(){var p=this,o,l,m,q,n,r,s;if(Ext.isScrolling){p.flushQueueTask.start();return}m=p.changeQueue;this.changeQueue={};for(n in m){q=m[n];o=q.views;l=o.length;for(r=0;r<l;r++){s=o[r];if(!s.destroyed){s.handleUpdate(s.dataSource,q.record,q.operation,Ext.Object.getKeys(q.data))}}}Ext.AnimationQueue.stop(p.flushChangeQueue,p)}},config:{selection:null,store:"ext-empty-store",navigationModel:{type:"default"},selectionModel:{type:"dataviewmodel"}},publishes:["selection"],twoWayBindable:["selection"],throttledUpdate:false,deferInitialRefresh:false,itemCls:"x-dataview-item",loadingText:"Loading...",loadMask:true,loadingUseMsg:true,selectedItemCls:"x-item-selected",emptyText:"",deferEmptyText:true,trackOver:false,blockRefresh:false,preserveScrollOnRefresh:false,preserveScrollOnReload:false,autoDestroyBoundStore:true,ariaRole:"listbox",itemAriaRole:"option",last:false,focusable:true,tabIndex:0,triggerEvent:"itemclick",triggerCtEvent:"containerclick",refreshNeeded:true,updateSuspendCounter:0,addCmpEvents:Ext.emptyFn,constructor:function(c){if(c&&c.selModel){c.selectionModel=c.selModel}Ext.Component.prototype.constructor.call(this,c)},initComponent:function(){var k=this,m=Ext.isDefined,j=k.itemTpl,l={},g;if(j){if(Ext.isArray(j)){if(typeof j[j.length-1]!=="string"){j=j.slice(0);l=j.pop()}j=j.join("")}else{if(Ext.isObject(j)){l=Ext.apply(l,j.initialConfig);j=j.html}}if(!k.itemSelector){k.itemSelector="."+k.itemCls}j=Ext.String.format('<tpl for="."><div class="{0}" role="{2}">{1}</div></tpl>',k.itemCls,j,k.itemAriaRole);k.tpl=new Ext.XTemplate(j,l)}Ext.Component.prototype.initComponent.call(this);k.tpl=k.lookupTpl("tpl");if(k.overItemCls){k.trackOver=true}k.addCmpEvents();g=k.store=Ext.data.StoreManager.lookup(k.store||"ext-empty-store");if(!k.dataSource){k.dataSource=g}k.bindStore(g,true);k.getNavigationModel().bindComponent(this);if(!k.all){k.all=new Ext.CompositeElementLite()}k.scrollState={top:0,left:0};k.savedTabIndexAttribute="data-savedtabindex-"+k.id},getElConfig:function(){var c=this.mixins.renderable.getElConfig.call(this);if(this.focusable){c.tabIndex=0}return c},onRender:function(g,e){var f=this.loadMask;Ext.Component.prototype.onRender.call(this,g,e);if(f){this.createMask(f)}},beforeLayout:function(){var c=this;Ext.Component.prototype.beforeLayout.call(this);if(c.refreshNeeded&&!c.pendingRefresh){if(c.refreshCounter){c.refreshView()}else{c.doFirstRefresh(c.dataSource)}}},onMaskBeforeShow:function(){var e=this,d=e.loadingHeight;if(d&&d>e.getHeight()){e.hasLoadingHeight=true;e.oldMinHeight=e.minHeight;e.minHeight=d;e.updateLayout()}},onMaskHide:function(){var c=this;if(!c.destroying&&c.hasLoadingHeight){c.minHeight=c.oldMinHeight;c.updateLayout();delete c.hasLoadingHeight}},beforeRender:function(){Ext.Component.prototype.beforeRender.call(this);this.getSelectionModel().beforeViewRender(this)},afterRender:function(){Ext.Component.prototype.afterRender.call(this);if(this.focusable){this.focusEl=this.el}},getRefItems:function(){var e=this.loadMask,d=[];if(e&&e.isComponent){d.push(e)}return d},getSelection:function(){return this.getSelectionModel().getSelection()},updateSelection:function(e){var g=this,f;if(!g.ignoreNextSelection){g.ignoreNextSelection=true;f=g.getSelectionModel();if(e){f.select(e)}else{f.deselectAll()}g.ignoreNextSelection=false}},updateBindSelection:function(f,j){var g=this,k=null;if(!g.ignoreNextSelection){g.ignoreNextSelection=true;if(j.length){k=f.getLastSelected();g.hasHadSelection=true}if(g.hasHadSelection){g.setSelection(k)}g.ignoreNextSelection=false}},applySelectionModel:function(q,m){var n=this,o=n.grid,l,p,k;if(m){if(!m.destroyed){m.un({scope:n,selectionchange:n.updateBindSelection,lastselectedchanged:n.updateBindSelection})}Ext.destroy(n.selModelRelayer);q=Ext.Factory.selection(q)}else{if(q&&q.isSelectionModel){q.locked=n.disableSelection}else{if(n.simpleSelect){l="SIMPLE"}else{if(n.multiSelect){l="MULTI"}else{l="SINGLE"}}if(typeof q==="string"){q={type:q}}q=Ext.Factory.selection(Ext.apply({allowDeselect:n.allowDeselect||n.multiSelect,mode:l,locked:n.disableSelection},q))}}if(q.mode!=="SINGLE"){k=(o||n).ariaEl.dom;if(k){k.setAttribute("aria-multiselectable",true)}else{if(!o){p=n.ariaRenderAttributes||(n.ariaRenderAttributes={});p["aria-multiselectable"]=true}}}n.selModelRelayer=n.relayEvents(q,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]);q.on({scope:n,lastselectedchanged:n.updateBindSelection,selectionchange:n.updateBindSelection});return q},updateSelectionModel:function(c){this.selModel=c},applyNavigationModel:function(c){return Ext.Factory.viewNavigation(c)},onFocusEnter:function(g){var j=this,k=j.getNavigationModel(),e;if(e==="scrollbar"){g.relatedTarget.focus();return}j.toggleChildrenTabbability(false);if(!j.itemFocused&&j.all.getCount()){if(g.event.getTarget()===j.tabGuardEl){e=j.all.getCount()-1}else{e=k.getLastFocused()}k.setPosition(e||0,g.event,null,!e);j.itemFocused=k.getPosition()!=null}if(j.itemFocused){j.el.dom.setAttribute("tabIndex",-1);if(j.tabGuardEl){j.tabGuardEl.setAttribute("tabIndex",-1)}}Ext.Component.prototype.onFocusEnter.call(this,g)},onFocusLeave:function(e){var d=this;if(d.itemFocused&&!d.refreshing){d.getNavigationModel().setPosition(null,e.event,null,true);d.itemFocused=false;d.el.dom.setAttribute("tabIndex",0);if(d.tabGuardEl){d.tabGuardEl.setAttribute("tabIndex",0)}}Ext.Component.prototype.onFocusLeave.call(this,e)},onRemoved:function(c){Ext.Component.prototype.onRemoved.call(this,c);if(!c){this.onFocusLeave({})}},refresh:function(){var s=this,u=s.all,p=u.getCount(),v=s.refreshCounter,q,A,B,w=s.getSelectionModel(),x,y=v&&u.getCount()&&s.preserveScrollOnRefresh&&s.getScrollable(),r=s.bufferedRenderer,C;if(!s.rendered||s.destroyed){return}if(!s.hasListeners.beforerefresh||s.fireEvent("beforerefresh",s)!==false){s.refreshing=true;x=s.saveFocusState();q=s.getTargetEl();B=s.getViewRange();A=q.dom;if(y){C=y.getPosition();if(!(C.x||C.y)){C=null}}if(v){s.clearViewEl();s.refreshCounter++}else{s.refreshCounter=1}s.tpl.append(q,s.collectData(B,u.startIndex||0));if(B.length<1){s.addEmptyText();u.clear()}else{s.collectNodes(q.dom);s.updateIndexes(0)}x();if(s.refreshSelmodelOnRefresh!==false){w.refresh()}s.refreshNeeded=false;s.refreshSize(u.getCount()!==p);s.fireItemMutationEvent("refresh",s,B);if(y){y.scrollTo(C)}if(!s.viewReady){s.viewReady=true;s.fireEvent("viewready",s)}s.refreshing=false;if(r){r.refreshSize()}s.cleanupData()}if(!s.tabGuardEl){s.tabGuardEl=s.el.createChild({cls:"x-tab-guard x-tab-guard-after",tabIndex:"0"},null,true)}},addEmptyText:function(){var e=this,d=e.getStore();if(e.emptyText&&!d.isLoading()&&(!e.deferEmptyText||e.refreshCounter>1||d.isLoaded())){e.emptyEl=Ext.core.DomHelper.insertHtml("beforeEnd",e.getTargetEl().dom,e.emptyText)}},getEmptyText:function(){return this.emptyText},setEmptyText:function(d){var e=this;if(e.emptyText!==d){e.emptyText=d;e.refresh()}return e},getViewRange:function(){return this.dataSource.getRange()},refreshSize:function(g){var j=this,k=j.getSizeModel(),f=j.getScrollable();if(k.height.shrinkWrap||k.width.shrinkWrap||g){j.updateLayout()}},afterFirstLayout:function(j,k){var g=this,f=g.getScrollable();if(f){f.on({scroll:g.onViewScroll,scrollend:g.onViewScrollEnd,scope:g,onFrame:!!Ext.global.requestAnimationFrame})}Ext.Component.prototype.afterFirstLayout.call(this,j,k)},clearViewEl:function(){var n=this,m=n.getTargetEl(),p=n.all,r=n.getStore(),q,s,o,l=n.getNodeContainer()===m;s=p.slice();o=[];for(q=p.startIndex;q<=p.endIndex;q++){o.push(r.getByInternalId(p.item(q,true).getAttribute("data-recordId")))}n.fireItemMutationEvent("itemremove",o,p.startIndex||0,s,n);n.clearEmptyEl();n.all.clear(!l);m=l?m.dom:n.getNodeContainer();if(m){m.innerHTML=""}},clearEmptyEl:function(){var c=this.emptyEl;if(c){Ext.removeNode(c)}this.emptyEl=null},onViewScroll:function(g,e,f){this.fireEvent("scroll",this,e,f)},onViewScrollEnd:function(g,e,f){this.fireEvent("scrollend",this,e,f)},saveScrollState:function(){var d=this,e=d.scrollState;if(d.rendered){e.left=d.getScrollX();e.top=d.getScrollY()}},restoreScrollState:function(){var d=this,e=d.scrollState;if(d.rendered){d.setScrollX(e.left);d.setScrollY(e.top)}},prepareData:function(l,m,n){var o,j,k;if(n){o=n.getAssociatedData();for(j in o){if(o.hasOwnProperty(j)){if(!k){l=Ext.Object.chain(l);k=true}l[j]=o[j]}}}return l},collectData:function(n,k){var l=[],m=0,j=n.length,o;for(;m<j;m++){o=n[m];l[m]=this.prepareData(o.data,k+m,o)}return l},cleanupData:Ext.emptyFn,bufferRender:function(q,p){var n=this,m=n.renderBuffer,s=document.createDocumentFragment(),r,l,o;n.tpl.overwrite(m,n.collectData(q,p));r=Ext.fly(m).query(n.getItemSelector());for(o=0,l=r.length;o<l;o++){s.appendChild(r[o])}return{fragment:s,children:r}},nodeContainerSelector:null,getNodeContainer:function(){var e=this.getTargetEl(),d=this.nodeContainerSelector;return d?e.down(d,true):e},setItemsDraggable:function(k){var j=this,f="#"+j.id+" "+j.getItemSelector(),g=j.viewStyleSheet;if(k){if(!g){g=Ext.view.AbstractView.prototype.viewStyleSheet=Ext.util.CSS.createStyleSheet("","AbstractView")}Ext.util.CSS.createRule(g,f,"touch-action: pinch-zoom double-tap-zoom;-ms-touch-action: pinch-zoom double-tap-zoom;-webkit-user-drag: none;")}else{if(g){Ext.util.CSS.deleteRule(f)}}},getNodeContainerSelector:function(){return this.nodeContainerSelector},onUpdate:function(o,q,p,l,n){var m=this,k=n&&n.filtered;if(!k&&m.getNode(q)){if(m.throttledUpdate){m.statics().queueRecordChange(m,o,q,p,l)}else{m.handleUpdate(o,q,p,l,n)}}},handleUpdate:function(n,j){var k=this,m,l,o=k.getSelectionModel();if(k.viewReady&&!k.refreshNeeded){m=k.dataSource.indexOf(j);if(m>-1){if(k.getNode(j)){l=k.bufferRender([j],m).children[0];k.all.replaceElement(m,l,true);k.updateIndexes(m,m);o.onUpdate(j);k.refreshSizePending=true;if(o.isSelected(j)){k.onItemSelect(j)}if(k.hasListeners.itemupdate){k.fireEvent("itemupdate",j,m,l,k)}return l}}}},onReplace:function(y,w,H,G){var B=this,A=B.all,D=B.getSelectionModel(),v=w,s,u,C,I,x,F,E;if(B.rendered){s=B.bufferRender(G,w,true);C=s.fragment;I=s.children;u=A.item(w);if(u){A.item(w).insertSibling(C,"before",true)}else{B.appendNodes(C)}A.insert(w,I);if(H.length){E=B.saveFocusState()}w+=G.length;F=w+H.length-1;x=A.removeRange(w,F,true);if(B.refreshSelmodelOnRefresh!==false){D.refresh()}B.updateIndexes(w);B.fireItemMutationEvent("itemremove",H,v,x,B);B.fireItemMutationEvent("itemadd",G,v,I,B);E();B.refreshSize()}},onAdd:function(m,n,l){var k=this,o,j=k.getSelectionModel();if(k.rendered&&!k.refreshNeeded){if(k.all.getCount()===0){k.refresh();o=k.all.slice()}else{o=k.doAdd(n,l);if(k.refreshSelmodelOnRefresh!==false){j.refresh()}k.updateIndexes(l);k.refreshSizePending=true}k.fireItemMutationEvent("itemadd",n,l,o,k)}},appendNodes:function(e){var g=this.all,f=g.getCount();if(this.nodeContainerSelector){this.getNodeContainer().appendChild(e)}else{g.item(f-1).insertSibling(e,"after")}},doAdd:function(v,s){var q=this,n=q.bufferRender(v,s,true),r=n.fragment,w=n.children,p=q.all,u=p.getCount(),o=p.startIndex||0,x=p.endIndex||u-1;if(u===0||s>x){q.appendNodes(r)}else{if(s<=o){p.item(o).insertSibling(r,"before",true)}else{p.item(s).insertSibling(w,"before",true)}}p.insert(s,w);return w},onRemove:function(p,x,s){var r=this,o=r.all,q,w,v,A,y,u;if(r.rendered&&!r.refreshNeeded&&o.getCount()){if(r.dataSource.getCount()===0){r.refresh()}else{u=r.saveFocusState();A=[];for(w=x.length-1;w>=0;--w){v=x[w];q=s+w;if(A){y=o.item(q);A[w]=y?y.dom:undefined}if(o.item(q)){r.doRemove(v,q)}}r.fireItemMutationEvent("itemremove",x,s,A,r);u();r.updateIndexes(s)}r.refreshSizePending=true}},doRemove:function(d,e){this.all.removeElement(e,true)},eventLifecycleMap:{refresh:"onViewRefresh",itemremove:"onItemRemove",itemadd:"onItemAdd"},fireItemMutationEvent:function(e){var g=this,f=g.ownerGrid;if(f){g.ownerGrid[g.eventLifecycleMap[e]].apply(g.ownerGrid,Ext.Array.slice(arguments,1))}g.fireEvent.apply(g,arguments)},saveFocusState:function(){var l=this,o=l.dataSource||l.store,n=l.getNavigationModel(),m=n.recordIndex,k=n.record,j=l.el.contains(Ext.Element.getActiveElement());if(k){if(j){l.el.dom.focus()}return function(){if(o.getCount()){m=Math.min(m,l.all.getCount()-1);n.setPosition(o.contains(k)?k:m,null,null,true,!j)}}}return Ext.emptyFn},refreshNode:function(c){if(Ext.isNumber(c)){c=this.store.getAt(c)}this.onUpdate(this.dataSource,c)},updateIndexes:function(l,m){var q=this.all.elements,n,k=this.getViewRange(),o,p=this.id;l=l||0;m=m||((m===0)?0:(q.length-1));for(o=l;o<=m;o++){n=q[o];n.setAttribute("data-recordIndex",o);n.setAttribute("data-recordId",k[o].internalId);n.setAttribute("data-boundView",p)}},bindStore:function(m,l){var j=this,g=j.getSelectionModel(),k=j.getNavigationModel();if(g&&!g.destroyed){g.bindStore(m,l);g.bindComponent(m?j:null)}j.mixins.storeholder.bindStore.apply(j,arguments);if(k&&!k.destroyed){k.setStore(m)}if(m&&j.componentLayoutCounter&&!j.blockRefresh){j.doFirstRefresh(m,!l)}},doFirstRefresh:function(e,f){var g=this;if(g.deferInitialRefresh&&!f){Ext.defer(g.doFirstRefresh,1,g,[e,true])}else{if(e&&!g.deferRefreshForLoad(e)){g.refresh()}}},onUnbindStore:function(c){this.setMaskBind(null);if(this.dataSource===c){this.dataSource=null}},onBindStore:function(e,f){var g=this;if(g.store.isBufferedStore){g.store.preserveScrollOnReload=g.preserveScrollOnReload}if(f&&f.isBufferedStore){delete f.preserveScrollOnReload}g.setMaskBind(e);if(!g.dataSource){g.dataSource=e}},setMaskBind:function(e){var d=this.loadMask;if(this.rendered&&d&&e&&!d.bindStore){d=this.createMask()}if(d&&d.bindStore){d.bindStore(e)}},getStoreListeners:function(){var c=this;return{refresh:c.onDataRefresh,replace:c.onReplace,add:c.onAdd,remove:c.onRemove,update:c.onUpdate,clear:c.onDataRefresh,beginupdate:c.onBeginUpdate,endupdate:c.onEndUpdate}},onBeginUpdate:function(){++this.updateSuspendCounter;Ext.suspendLayouts()},onEndUpdate:function(){var c=this;if(c.updateSuspendCounter){--c.updateSuspendCounter}Ext.resumeLayouts(true);if(c.refreshSizePending){c.refreshSize(true);c.refreshSizePending=false}},onDataRefresh:function(e){var f=this,g=f.preserveScrollOnRefresh;if(e.loadCount>f.lastRefreshLoadCount){f.preserveScrollOnRefresh=f.preserveScrollOnReload}f.refreshView();f.preserveScrollOnRefresh=g;f.lastRefreshLoadCount=e.loadCount},refreshView:function(j){var k=this,f=k.blockRefresh||!k.rendered||k.up("[collapsed],[isCollapsingOrExpanding],[hidden]"),g=k.bufferedRenderer;if(f){k.refreshNeeded=true}else{if(g){g.refreshView(j)}else{k.refresh()}}},findItemByChild:function(c){return Ext.fly(c).findParent(this.getItemSelector(),this.getTargetEl())},findTargetByEvent:function(c){return c.getTarget(this.getItemSelector(),this.getTargetEl())},getSelectedNodes:function(){var k=[],f=this.getSelectionModel().getSelection(),g=f.length,j=0;for(;j<g;j++){k.push(this.getNode(f[j]))}return k},getRecords:function(l){var m=[],k=0,g=l.length,j=this.dataSource.data;for(;k<g;k++){m[m.length]=j.getByKey(l[k].getAttribute("data-recordId"))}return m},getRecord:function(c){return this.dataSource.getByInternalId(Ext.getDom(c).getAttribute("data-recordId"))},isSelected:function(e){var d=this.getRecord(e);return this.getSelectionModel().isSelected(d)},select:function(g,f,e){this.getSelectionModel().select(g,f,e)},deselect:function(e,d){this.getSelectionModel().deselect(e,d)},getNode:function(g){var f=this,e;if(f.rendered&&(g||g===0)){if(Ext.isString(g)){e=document.getElementById(g)}else{if(g.isModel){e=f.getNodeByRecord(g)}else{if(Ext.isNumber(g)){e=f.all.elements[g]}else{if(g.target&&g.target.nodeType){g=g.target}e=Ext.fly(g).findParent(f.itemSelector,f.getTargetEl())}}}}return e||null},getNodeByRecord:function(d){var e=this.store.indexOf(d);return this.all.elements[e]||null},getNodes:function(f,e){var g=this.all;if(e!==undefined){e++}return g.slice(f,e)},indexOf:function(c){c=this.getNode(c);if(!c&&c!==0){return -1}if(c.getAttribute("data-recordIndex")){return Number(c.getAttribute("data-recordIndex"))}return this.all.indexOf(c)},doDestroy:function(){var f=this,g=f.updateSuspendCounter,e=f.tabGuardEl;if(f.all&&!f.all.destroyed){f.all.clear()}if(e){if(e.parentNode){e.parentNode.removeChild(e)}}f.emptyEl=null;f.setItemsDraggable(false);f.bindStore(null);if(f.selModelRelayer){f.selModelRelayer.destroy()}Ext.destroy(f.navigationModel,f.selectionModel,f.loadMask);while(g--){Ext.resumeLayouts(true)}Ext.Component.prototype.doDestroy.call(this)},onItemSelect:function(d){var e=this.getNode(d);if(e){Ext.fly(e).addCls(this.selectedItemCls);e.setAttribute("aria-selected","true")}return e},onItemDeselect:function(d){var e=this.getNode(d);if(e){Ext.fly(e).removeCls(this.selectedItemCls);e.setAttribute("aria-selected","false")}return e},getItemSelector:function(){return this.itemSelector},addItemCls:function(g,e){var f=this.getNode(g);if(f){Ext.fly(f).addCls(e)}},removeItemCls:function(g,e){var f=this.getNode(g);if(f){Ext.fly(f).removeCls(e)}},setStore:function(d){var e=this;if(e.store!==d){if(e.isConfiguring){e.store=d}else{e.bindStore(d,false)}}},privates:{deferRefreshForLoad:function(c){return c.isLoading()},toggleChildrenTabbability:function(e){var d=this.getTargetEl();if(e){d.restoreTabbableState(true)}else{d.saveTabbableState({skipSelf:true,includeSaved:false})}},collectNodes:function(f){var g=this.all,e={role:this.itemAriaRole};g.fill(Ext.fly(f).query(this.getItemSelector()),g.startIndex||0);if(this.focusable){e.tabindex="-1"}g.set(e)},createMask:function(k){var g=this,j=g.getStore(),f;if(j&&!j.isEmptyStore&&!j.loadsSynchronously()){f={target:g,msg:g.loadingText,useMsg:g.loadingUseMsg,store:j};if(g.loadingCls){f.msgCls=g.loadingCls}if(Ext.isObject(k)){f=Ext.apply(f,k)}g.loadMask=new Ext.LoadMask(f);g.loadMask.on({scope:g,beforeshow:g.onMaskBeforeShow,hide:g.onMaskHide})}return g.loadMask},getOverflowEl:function(){return Ext.Component.prototype.getTargetEl.call(this)}}},1,0,["component","box"],{component:true,box:true},0,[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],[Ext.view,"AbstractView"],function(){Ext.deprecate("extjs","4.0",function(){Ext.view.AbstractView.override({getSelectionCount:function(){if(Ext.global.console){Ext.global.console.warn("DataView: getSelectionCount will be removed, please interact with the Ext.selection.DataViewModel")}return this.selModel.getSelection().length},getSelectedRecords:function(){if(Ext.global.console){Ext.global.console.warn("DataView: getSelectedRecords will be removed, please interact with the Ext.selection.DataViewModel")}return this.selModel.getSelection()},select:function(f,k,g){if(Ext.global.console){Ext.global.console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()")}var j=this.getSelectionModel();return j.select.apply(j,arguments)},clearSelections:function(){if(Ext.global.console){Ext.global.console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()")}var c=this.getSelectionModel();return c.deselectAll()}})})}));(Ext.cmd.derive("Ext.view.View",Ext.view.AbstractView,{alternateClassName:"Ext.DataView",inputTagRe:/^textarea$|^input$/i,keyEventRe:/^key/,manageLayoutScroll:false,inheritableStatics:{EventMap:{longpress:"LongPress",mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut",mouseenter:"MouseEnter",mouseleave:"MouseLeave",keydown:"KeyDown",keyup:"KeyUp",keypress:"KeyPress",focus:"Focus"},TouchEventMap:{touchstart:"mousedown",touchend:"mouseup",tap:"click",doubletap:"dblclick"}},afterRender:function(){var c=this;Ext.view.AbstractView.prototype.afterRender.call(this);c.mon(c.el,{scope:c,click:c.handleEvent,longpress:c.handleEvent,mousedown:c.handleEvent,mouseup:c.handleEvent,dblclick:c.handleEvent,contextmenu:c.handleEvent,keydown:c.handleEvent,keyup:c.handleEvent,keypress:c.handleEvent,mouseover:c.handleMouseOver,mouseout:c.handleMouseOut})},getTargetSelector:function(){return this.dataRowSelector||this.itemSelector},handleMouseOver:function(g){var j=this,e=j.getTargetSelector(),k=g.getTarget(e);if(!j.destroyed){if(k){if(j.mouseOverItem!==k&&j.el.contains(k)){j.mouseOverItem=g.item=k;g.newType="mouseenter";j.handleEvent(g)}}else{j.handleEvent(g)}}},handleMouseOut:function(k){var m=this,o=m.getTargetSelector(),n=k.getTarget(o),l=k.getRelatedTarget(o),e;if((n===l)&&!(n===null&&l===null)){return}if(!m.destroyed){if(n&&(e=m.self.getBoundView(n))){k.item=n;k.newType="mouseleave";e.handleEvent(k);e.mouseOverItem=null}else{m.handleEvent(k)}}},handleEvent:function(f){var g=this,e=g.keyEventRe.test(f.type);f.isInputFieldEvent=Ext.fly(f.target).isInputField();f.view=g;f.item=f.getTarget(g.itemSelector);if(f.item){f.record=g.getRecord(f.item)}if(g.processUIEvent(f)!==false&&!g.destroyed){g.processSpecialEvent(f)}if(e&&!f.isInputFieldEvent){if(f.getKey()===f.SPACE||f.isNavKeyPress(true)){f.preventDefault()}}f.view=null},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,processUIEvent:function(s){if(!Ext.getBody().isAncestor(s.target)){return}var p=this,o=s.item,e=p.self,x=e.EventMap,r=e.TouchEventMap,u,v=s.record,q=s.type,w=q;if(s.newType){w=s.newType}if(o){w=r[w]||w;u=s.recordIndex=p.indexInStore?p.indexInStore(v):p.indexOf(o);if(!v||p.processItemEvent(v,o,u,s)===false){return false}if((p["onBeforeItem"+x[w]](v,o,u,s)===false)||(p.fireEvent("beforeitem"+w,p,v,o,u,s)===false)||(p["onItem"+x[w]](v,o,u,s)===false)){return false}p.fireEvent("item"+w,p,v,o,u,s)}else{q=r[q]||q;if((p.processContainerEvent(s)===false)||(p["onBeforeContainer"+x[q]](s)===false)||(p.fireEvent("beforecontainer"+q,p,s)===false)||(p["onContainer"+x[q]](s)===false)){return false}p.fireEvent("container"+q,p,s)}return true},onItemMouseEnter:function(e,j,k,g){if(this.trackOver){this.highlightItem(j)}},onItemMouseLeave:function(e,j,k,g){if(this.trackOver){this.clearHighlight()}},onItemMouseDown:Ext.emptyFn,onItemLongPress:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onItemKeyUp:Ext.emptyFn,onItemKeyPress:Ext.emptyFn,onBeforeItemLongPress:Ext.emptyFn,onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onBeforeItemKeyUp:Ext.emptyFn,onBeforeItemKeyPress:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerLongPress:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onContainerKeyUp:Ext.emptyFn,onContainerKeyPress:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerLongPress:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,onBeforeContainerKeyUp:Ext.emptyFn,onBeforeContainerKeyPress:Ext.emptyFn,setHighlightedItem:function(j){var k=this,f=k.highlightedItem,g=k.overItemCls;if(f!==j){if(f){Ext.fly(f).removeCls(g);if(Ext.isIE8){k.repaintBorder(f);k.repaintBorder(f.nextSibling)}if(k.hasListeners.unhighlightitem){k.fireEvent("unhighlightitem",k,f)}}k.highlightedItem=j;if(j){Ext.fly(j).addCls(k.overItemCls);if(Ext.isIE8){k.repaintBorder(j.nextSibling)}if(k.hasListeners.highlightitem){k.fireEvent("highlightitem",k,j)}}}},highlightItem:function(c){this.setHighlightedItem(c)},clearHighlight:function(){this.setHighlightedItem(undefined)},handleUpdate:function(o,j){var k=this,l,n,m;if(k.viewReady){l=k.getNode(j);n=Ext.view.AbstractView.prototype.handleUpdate.apply(this,arguments);m=k.highlightedItem;if(m&&m===l){delete k.highlightedItem;if(n){k.highlightItem(n)}}}},refresh:function(){this.clearHighlight();Ext.view.AbstractView.prototype.refresh.apply(this,arguments)},focusNode:function(m){var o=this,p=Ext.fly(o.getNode(m)),q=o.el,l=0,s=0,n=q.getRegion(),r;n.bottom=n.top+q.dom.clientHeight;n.right=n.left+q.dom.clientWidth;if(p){r=p.getRegion();if(r.top<n.top){l=r.top-n.top}else{if(r.bottom>n.bottom){l=r.bottom-n.bottom}}if(r.left<n.left){s=r.left-n.left}else{if(r.right>n.right){s=r.right-n.right}}if(s||l){o.scrollBy(s,l,false)}p.set({tabIndex:-1});p.focus()}},privates:{repaintBorder:function(e){var d=this.getNode(e);if(d){d.className=d.className}}}},0,["dataview"],["component","box","dataview"],{component:true,box:true,dataview:true},["widget.dataview"],0,[Ext.view,"View",Ext,"DataView"],0));(Ext.cmd.derive("Ext.toolbar.Item",Ext.Component,{alternateClassName:"Ext.Toolbar.Item",enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn},0,["tbitem"],["component","box","tbitem"],{component:true,box:true,tbitem:true},["widget.tbitem"],0,[Ext.toolbar,"Item",Ext.Toolbar,"Item"],0));(Ext.cmd.derive("Ext.toolbar.TextItem",Ext.toolbar.Item,{alternateClassName:"Ext.Toolbar.TextItem",text:"",baseCls:"x-toolbar-text",ariaRole:null,beforeRender:function(){var c=this.text;Ext.toolbar.Item.prototype.beforeRender.call(this);if(c){this.html=c}},setText:function(c){this.update(c)}},0,["tbtext"],["component","box","tbitem","tbtext"],{component:true,box:true,tbitem:true,tbtext:true},["widget.tbtext"],0,[Ext.toolbar,"TextItem",Ext.Toolbar,"TextItem"],0));(Ext.cmd.derive("Ext.picker.Month",Ext.Component,{alternateClassName:"Ext.MonthPicker",isMonthPicker:true,focusable:true,childEls:["bodyEl","prevEl","nextEl","monthEl","yearEl"],renderTpl:['<div id="{id}-bodyEl" data-ref="bodyEl" class="{baseCls}-body">','<div id="{id}-monthEl" data-ref="monthEl" class="{baseCls}-months">','<tpl for="months">','<div class="{parent.baseCls}-item {parent.baseCls}-month">','<a style="{parent.monthStyle}" role="button" hidefocus="on" class="{parent.baseCls}-item-inner">{.}</a>',"</div>","</tpl>","</div>",'<div id="{id}-yearEl" data-ref="yearEl" class="{baseCls}-years">','<div class="{baseCls}-yearnav">','<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-prevEl" data-ref="prevEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-prev" hidefocus="on" role="button"></a>',"</div>",'<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-nextEl" data-ref="nextEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-next" hidefocus="on" role="button"></a>',"</div>","</div>",'<tpl for="years">','<div class="{parent.baseCls}-item {parent.baseCls}-year">','<a hidefocus="on" class="{parent.baseCls}-item-inner" role="button">{.}</a>',"</div>","</tpl>","</div>",'<div class="x-clear"></div>','<tpl if="showButtons">','<div class="{baseCls}-buttons">{%',"var me=values.$comp, okBtn=me.okBtn, cancelBtn=me.cancelBtn;","okBtn.ownerLayout = cancelBtn.ownerLayout = me.componentLayout;","okBtn.ownerCt = cancelBtn.ownerCt = me;","Ext.DomHelper.generateMarkup(okBtn.getRenderTree(), out);","Ext.DomHelper.generateMarkup(cancelBtn.getRenderTree(), out);","%}</div>","</tpl>","</div>"],okText:"OK",cancelText:"Cancel",baseCls:"x-monthpicker",showButtons:true,footerButtonUI:"default",measureWidth:35,measureMaxHeight:20,smallCls:"x-monthpicker-small",totalYears:10,yearOffset:5,monthOffset:6,alignOnScroll:false,initComponent:function(){var c=this;c.selectedCls=c.baseCls+"-selected";if(c.small){c.addCls(c.smallCls)}c.setValue(c.value);c.activeYear=c.getYear(new Date().getFullYear()-4,-4);if(c.showButtons){c.okBtn=new Ext.button.Button({ui:c.footerButtonUI,text:c.okText,handler:c.onOkClick,scope:c});c.cancelBtn=new Ext.button.Button({ui:c.footerButtonUI,text:c.cancelText,handler:c.onCancelClick,scope:c})}Ext.Component.prototype.initComponent.call(this)},beforeRender:function(){var m=this,p=0,q=[],k=Ext.Date.getShortMonthName,n=m.monthOffset,l=m.monthMargin,o="";if(m.padding&&!m.width){m.cacheWidth()}Ext.Component.prototype.beforeRender.call(this);for(;p<n;++p){q.push(k(p),k(p+n))}if(Ext.isDefined(l)){o="margin: 0 "+l+"px;"}Ext.apply(m.renderData,{months:q,years:m.getYears(),showButtons:m.showButtons,monthStyle:o})},cacheWidth:function(){var e=this,g=e.parseBox(e.padding),f=Ext.getBody().createChild({cls:e.baseCls+" "+e.borderBoxCls,style:"position:absolute;top:-1000px;left:-1000px;",html:"&nbsp;"});e.self.prototype.width=f.getWidth()+g.left+g.right;f.destroy()},afterRender:function(){var e=this,d=e.bodyEl;Ext.Component.prototype.afterRender.call(this);if(e.up("[floating=true]")){e.el.on("mousedown",e.onElClick,e,{translate:false})}d.on({scope:e,click:"onBodyClick",dblclick:"onBodyClick"});e.years=d.select("."+e.baseCls+"-year a");e.months=d.select("."+e.baseCls+"-month a");e.backRepeater=new Ext.util.ClickRepeater(e.prevEl,{handler:Ext.Function.bind(e.adjustYear,e,[-e.totalYears])});e.prevEl.addClsOnOver(e.baseCls+"-yearnav-prev-over");e.nextRepeater=new Ext.util.ClickRepeater(e.nextEl,{handler:Ext.Function.bind(e.adjustYear,e,[e.totalYears])});e.nextEl.addClsOnOver(e.baseCls+"-yearnav-next-over");e.updateBody();if(!Ext.isDefined(e.monthMargin)){Ext.picker.Month.prototype.monthMargin=e.calculateMonthMargin()}},calculateMonthMargin:function(){var j=this,f=j.months,g=f.first(),k=g.getMargin("l");while(k&&j.getLargest()>j.measureMaxHeight){--k;f.setStyle("margin","0 "+k+"px")}return k},getLargest:function(d){var e=0;this.months.each(function(b){var c=b.getHeight();if(c>e){e=c}});return e},setValue:function(j){var k=this,g=k.activeYear,f;if(!j){k.value=[null,null]}else{if(Ext.isDate(j)){k.value=[j.getMonth(),j.getFullYear()]}else{k.value=[j[0],j[1]]}}if(k.rendered){f=k.value[1];if(f!==null){if((f<g||f>g+k.yearOffset)){k.activeYear=f-k.yearOffset+1}}k.updateBody()}return k},getValue:function(){return this.value},hasSelection:function(){var c=this.value;return c[0]!==null&&c[1]!==null},getYears:function(){var m=this,l=m.yearOffset,k=m.activeYear,j=k+l,n=k,o=[];for(;n<j;++n){o.push(n,n+l)}return o},updateBody:function(){var w=this,A=w.years,D=w.months,r=w.getYears(),q=w.selectedCls,u=w.getYear(null),y=w.value[0],s=w.monthOffset,x,B,v,E,C;if(w.rendered){A.removeCls(q);D.removeCls(q);B=A.elements;E=B.length;for(v=0;v<E;v++){C=Ext.fly(B[v]);x=r[v];C.dom.innerHTML=x;if(x===u){C.addCls(q)}}if(y!==null){if(y<s){y=y*2}else{y=(y-s)*2+1}D.item(y).addCls(q)}}},getYear:function(e,f){var g=this.value[1];f=f||0;return g===null?e:g+f},onElClick:function(c){c.stopEvent()},onBodyClick:function(g,k){var j=this,e=g.type==="dblclick";if(g.getTarget("."+j.baseCls+"-month")){g.stopEvent();j.onMonthClick(k,e)}else{if(g.getTarget("."+j.baseCls+"-year")){g.stopEvent();j.onYearClick(k,e)}}},adjustYear:function(c){if(typeof c!=="number"){c=this.totalYears}this.activeYear+=c;this.updateBody()},onOkClick:function(){this.fireEvent("okclick",this,this.value)},onCancelClick:function(){this.fireEvent("cancelclick",this)},onMonthClick:function(f,e){var g=this;g.value[0]=g.resolveOffset(g.months.indexOf(f),g.monthOffset);g.updateBody();g.fireEvent("month"+(e?"dbl":"")+"click",g,g.value);g.fireEvent("select",g,g.value)},onYearClick:function(f,e){var g=this;g.value[1]=g.activeYear+g.resolveOffset(g.years.indexOf(f),g.yearOffset);g.updateBody();g.fireEvent("year"+(e?"dbl":"")+"click",g,g.value);g.fireEvent("select",g,g.value)},resolveOffset:function(d,e){if(d%2===0){return(d/2)}else{return e+Math.floor(d/2)}},doDestroy:function(){Ext.destroy(this.backRepeater,this.nextRepeater,this.okBtn,this.cancelBtn);Ext.Component.prototype.doDestroy.call(this)},privates:{finishRenderChildren:function(){var c=this;Ext.Component.prototype.finishRenderChildren.apply(this,arguments);if(this.showButtons){c.okBtn.finishRender();c.cancelBtn.finishRender()}}}},0,["monthpicker"],["component","box","monthpicker"],{component:true,box:true,monthpicker:true},["widget.monthpicker"],0,[Ext.picker,"Month",Ext,"MonthPicker"],0));Ext.define("Ext.theme.neptune.picker.Month",{override:"Ext.picker.Month",measureMaxHeight:36});Ext.define("Ext.theme.triton.picker.Month",{override:"Ext.picker.Month",footerButtonUI:"default-toolbar",calculateMonthMargin:Ext.emptyFn});(Ext.cmd.derive("Ext.picker.Date",Ext.Component,{alternateClassName:"Ext.DatePicker",todayText:"Today",ariaTitle:"Date Picker: {0}",ariaTitleDateFormat:"F d",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",ariaMinText:"This date is before the minimum date",maxText:"This date is after the maximum date",ariaMaxText:"This date is after the maximum date",disabledDaysText:"Disabled",ariaDisabledDaysText:"This day of week is disabled",disabledDatesText:"Disabled",ariaDisabledDatesText:"This date is disabled",nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",monthYearFormat:"F Y",startDay:0,showToday:true,disableAnim:false,baseCls:"x-datepicker",longDayFormat:"F d, Y",footerButtonUI:"default",isDatePicker:true,alignOnScroll:false,ariaRole:"region",focusable:true,childEls:["innerEl","eventEl","prevEl","nextEl","middleBtnEl","footerEl"],border:true,renderTpl:['<div id="{id}-innerEl" data-ref="innerEl" role="presentation">','<div class="{baseCls}-header">','<div id="{id}-prevEl" data-ref="prevEl" class="{baseCls}-prev {baseCls}-arrow" role="presentation" title="{prevText}"></div>','<div id="{id}-middleBtnEl" data-ref="middleBtnEl" class="{baseCls}-month" role="heading">{%this.renderMonthBtn(values, out)%}</div>','<div id="{id}-nextEl" data-ref="nextEl" class="{baseCls}-next {baseCls}-arrow" role="presentation" title="{nextText}"></div>',"</div>",'<table role="grid" id="{id}-eventEl" data-ref="eventEl" class="{baseCls}-inner" cellspacing="0" tabindex="0" aria-readonly="true">',"<thead>",'<tr role="row">','<tpl for="dayNames">','<th role="columnheader" class="{parent.baseCls}-column-header" aria-label="{.}">','<div role="presentation" class="{parent.baseCls}-column-header-inner">{.:this.firstInitial}</div>',"</th>","</tpl>","</tr>","</thead>","<tbody>",'<tr role="row">','<tpl for="days">',"{#:this.isEndOfWeek}",'<td role="gridcell">','<div hidefocus="on" class="{parent.baseCls}-date"></div>',"</td>","</tpl>","</tr>","</tbody>","</table>",'<tpl if="showToday">','<div id="{id}-footerEl" data-ref="footerEl" role="presentation" class="{baseCls}-footer">{%this.renderTodayBtn(values, out)%}</div>',"</tpl>",'<div id="{id}-todayText" class="x-hidden-clip">{todayText}.</div>','<div id="{id}-ariaMinText" class="x-hidden-clip">{ariaMinText}.</div>','<div id="{id}-ariaMaxText" class="x-hidden-clip">{ariaMaxText}.</div>','<div id="{id}-ariaDisabledDaysText" class="x-hidden-clip">{ariaDisabledDaysText}.</div>','<div id="{id}-ariaDisabledDatesText" class="x-hidden-clip">{ariaDisabledDatesText}.</div>',"</div>",{firstInitial:function(c){return Ext.picker.Date.prototype.getDayInitial(c)},isEndOfWeek:function(e){e--;var d=e%7===0&&e!==0;return d?'</tr><tr role="row">':""},renderTodayBtn:function(d,e){Ext.DomHelper.generateMarkup(d.$comp.todayBtn.getRenderTree(),e)},renderMonthBtn:function(d,e){Ext.DomHelper.generateMarkup(d.$comp.monthBtn.getRenderTree(),e)}}],initHour:12,numDays:42,initComponent:function(){var e=this,d=Ext.Date.clearTime;e.selectedCls=e.baseCls+"-selected";e.disabledCellCls=e.baseCls+"-disabled";e.prevCls=e.baseCls+"-prevday";e.activeCls=e.baseCls+"-active";e.cellCls=e.baseCls+"-cell";e.nextCls=e.baseCls+"-prevday";e.todayCls=e.baseCls+"-today";if(!e.format){e.format=Ext.Date.defaultFormat}if(!e.dayNames){e.dayNames=Ext.Date.dayNames}e.dayNames=e.dayNames.slice(e.startDay).concat(e.dayNames.slice(0,e.startDay));Ext.Component.prototype.initComponent.call(this);e.value=e.value?d(e.value,true):d(new Date());e.initDisabledDays()},getRefOwner:function(){return this.pickerField||Ext.Component.prototype.getRefOwner.call(this)},getRefItems:function(){var e=[],f=this.monthBtn,g=this.todayBtn;if(f){e.push(f)}if(g){e.push(g)}return e},beforeRender:function(){var j=this,k=Ext.String.htmlEncode,g=new Array(j.numDays),f=Ext.Date.format(new Date(),j.format);if(j.padding&&!j.width){j.cacheWidth()}j.monthBtn=new Ext.button.Split({ownerCt:j,ownerLayout:j.getComponentLayout(),text:"",tooltip:j.monthYearText,tabIndex:-1,ariaRole:"presentation",listeners:{click:j.doShowMonthPicker,arrowclick:j.doShowMonthPicker,scope:j}});if(j.showToday){j.todayBtn=new Ext.button.Button({ui:j.footerButtonUI,ownerCt:j,ownerLayout:j.getComponentLayout(),text:Ext.String.format(j.todayText,f),tooltip:Ext.String.format(j.todayTip,f),tooltipType:"title",tabIndex:-1,ariaRole:"presentation",handler:j.selectToday,scope:j})}Ext.Component.prototype.beforeRender.call(this);Ext.applyIf(j,{renderData:{}});Ext.apply(j.renderData,{dayNames:j.dayNames,showToday:j.showToday,prevText:k(j.prevText),nextText:k(j.nextText),todayText:k(j.todayText),ariaMinText:k(j.ariaMinText),ariaMaxText:k(j.ariaMaxText),ariaDisabledDaysText:k(j.ariaDisabledDaysText),ariaDisabledDatesText:k(j.ariaDisabledDatesText),days:g});j.protoEl.unselectable()},cacheWidth:function(){var e=this,g=e.parseBox(e.padding),f=Ext.getBody().createChild({cls:e.baseCls+" "+e.borderBoxCls,style:"position:absolute;top:-1000px;left:-1000px;"});e.self.prototype.width=f.getWidth()+g.left+g.right;f.destroy()},onRender:function(k,f){var j=this,g="div."+j.baseCls+"-date";Ext.Component.prototype.onRender.apply(this,arguments);j.cells=j.eventEl.select("tbody td");j.textNodes=j.eventEl.query(g);j.eventEl.set({"aria-labelledby":j.monthBtn.id});j.mon(j.eventEl,{scope:j,mousewheel:j.handleMouseWheel,click:{fn:j.handleDateClick,delegate:g}})},initEvents:function(){var c=this;Ext.Component.prototype.initEvents.call(this);if(c.pickerField){c.el.on("mousedown",c.onMouseDown,c)}c.monthBtn.el.on("mousedown",c.onMouseDown,c);c.prevRepeater=new Ext.util.ClickRepeater(c.prevEl,{handler:c.showPrevMonth,scope:c,mousedownStopEvent:true});c.nextRepeater=new Ext.util.ClickRepeater(c.nextEl,{handler:c.showNextMonth,scope:c,mousedownStopEvent:true});c.keyNav=new Ext.util.KeyNav(c.eventEl,Ext.apply({scope:c,left:function(b){if(b.ctrlKey){this.showPrevMonth()}else{this.update(Ext.Date.add(this.activeDate,Ext.Date.DAY,-1))}b.preventDefault()},right:function(b){if(b.ctrlKey){this.showNextMonth()}else{this.update(Ext.Date.add(this.activeDate,Ext.Date.DAY,1))}b.preventDefault()},up:function(b){if(b.ctrlKey){this.showNextYear()}else{this.update(Ext.Date.add(this.activeDate,Ext.Date.DAY,-7))}b.preventDefault()},down:function(b){if(b.ctrlKey){this.showPrevYear()}else{this.update(Ext.Date.add(this.activeDate,Ext.Date.DAY,7))}b.preventDefault()},pageUp:function(b){if(b.ctrlKey){this.showPrevYear()}else{this.showPrevMonth()}b.preventDefault()},pageDown:function(b){if(b.ctrlKey){this.showNextYear()}else{this.showNextMonth()}b.preventDefault()},home:function(b){this.update(Ext.Date.getFirstDateOfMonth(this.activeDate));b.preventDefault()},end:function(b){this.update(Ext.Date.getLastDateOfMonth(this.activeDate));b.preventDefault()},tab:function(b){this.handleTabKey(b);return true},enter:function(b){this.handleDateClick(b,this.activeCell.firstChild)},space:function(l){var n=this,b=n.pickerField,o,m,e;n.setValue(new Date(n.activeCell.firstChild.dateValue));if(b){o=n.startValue;m=n.value;e=b.getValue();if(e&&o&&e.getTime()===m.getTime()){b.setValue(o)}else{b.setValue(m)}}l.preventDefault()}},c.keyNavConfig));if(c.disabled){c.syncDisabled(true,true)}c.update(c.value)},onMouseDown:function(c){c.preventDefault()},handleTabKey:function(g){var j=this,e=j.getSelectedDate(j.activeDate),k=j.handler;if(!j.disabled&&e.dateValue&&!Ext.fly(e.parentNode).hasCls(j.disabledCellCls)){j.setValue(new Date(e.dateValue));j.fireEvent("select",j,j.value);if(k){Ext.callback(k,j.scope,[j,j.value],null,j,j)}j.onSelect()}else{j.fireEventArgs("tabout",[j])}},getSelectedDate:function(v){var s=this,o=v.getTime(),n=s.cells,c=s.selectedCls,q=n.elements,r=q.length,p,u;n.removeCls(c);for(u=0;u<r;u++){p=q[u].firstChild;if(p.dateValue===o){return p}}return null},initDisabledDays:function(){var m=this,q=m.disabledDates,n="(?:",d,l,p,o;if(!m.disabledDatesRE&&q){d=q.length-1;p=q.length;for(l=0;l<p;l++){o=q[l];n+=Ext.isDate(o)?"^"+Ext.String.escapeRegex(Ext.Date.dateFormat(o,m.format))+"$":o;if(l!==d){n+="|"}}m.disabledDatesRE=new RegExp(n+")")}},setDisabledDates:function(d){var e=this;if(Ext.isArray(d)){e.disabledDates=d;e.disabledDatesRE=null}else{e.disabledDatesRE=d}e.initDisabledDays();e.update(e.value,true);return e},setDisabledDays:function(c){this.disabledDays=c;return this.update(this.value,true)},setMinDate:function(c){this.minDate=c;return this.update(this.value,true)},setMaxDate:function(c){this.maxDate=c;return this.update(this.value,true)},setValue:function(c){this.value=Ext.Date.clearTime(c||new Date(),true);return this.update(this.value)},getValue:function(){return this.value},getDayInitial:function(c){return c.substr(0,1)},onEnable:function(){var c=this;Ext.Component.prototype.onEnable.call(this);c.syncDisabled(false,true);c.update(c.activeDate)},onShow:function(){var c=this;Ext.Component.prototype.onShow.call(this);c.syncDisabled(false);if(c.pickerField){c.startValue=c.pickerField.getValue()}},onHide:function(){Ext.Component.prototype.onHide.call(this);this.syncDisabled(true)},onDisable:function(){Ext.Component.prototype.onDisable.call(this);this.syncDisabled(true,true)},getActive:function(){return this.activeDate||this.value},runAnimation:function(f){var g=this.monthPicker,e={duration:200,callback:function(){g.setVisible(!f)}};if(f){g.el.slideOut("t",e)}else{g.el.slideIn("t",e)}},hideMonthPicker:function(e){var f=this,g=f.monthPicker;if(g&&g.isVisible()){if(f.shouldAnimate(e)){f.runAnimation(true)}else{g.hide()}}return f},doShowMonthPicker:function(){this.showMonthPicker()},doHideMonthPicker:function(){this.hideMonthPicker()},showMonthPicker:function(f){var g=this,j=g.el,k;if(g.rendered&&!g.disabled){k=g.createMonthPicker();if(!k.isVisible()){k.setValue(g.getActive());k.setSize(j.getSize());k.floatParent=null;k.setPosition(-j.getBorderWidth("l"),-j.getBorderWidth("t"));if(g.shouldAnimate(f)){g.runAnimation(false)}else{k.show()}}}return g},shouldAnimate:function(c){return Ext.isDefined(c)?c:!this.disableAnim},createMonthPicker:function(){var e=this,d=e.monthPicker;if(!d){e.monthPicker=d=new Ext.picker.Month({renderTo:e.el,ownerCmp:e,floating:true,padding:e.padding,shadow:false,small:e.showToday===false,footerButtonUI:e.footerButtonUI,listeners:{scope:e,cancelclick:e.onCancelClick,okclick:e.onOkClick,yeardblclick:e.onOkClick,monthdblclick:e.onOkClick}});if(!e.disableAnim){d.el.setStyle("display","none")}d.hide();e.on("beforehide",e.doHideMonthPicker,e)}return d},onOkClick:function(o,l){var m=this,k=l[0],n=l[1],j=new Date(n,k,m.getActive().getDate());if(j.getMonth()!==k){j=Ext.Date.getLastDateOfMonth(new Date(n,k,1))}m.setValue(j);m.hideMonthPicker()},onCancelClick:function(){this.selectedUpdate(this.activeDate);this.hideMonthPicker()},showPrevMonth:function(c){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,-1))},showNextMonth:function(c){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,1))},showPrevYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,-1))},showNextYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,1))},handleMouseWheel:function(d){var e;d.stopEvent();if(!this.disabled){e=d.getWheelDelta();if(e>0){this.showPrevMonth()}else{if(e<0){this.showNextMonth()}}}},handleDateClick:function(g,e){var j=this,k=j.handler;g.stopEvent();if(!j.disabled&&e.dateValue&&!Ext.fly(e.parentNode).hasCls(j.disabledCellCls)){j.setValue(new Date(e.dateValue));j.fireEvent("select",j,j.value);if(k){Ext.callback(k,j.scope,[j,j.value],null,j,j)}j.onSelect()}},onSelect:function(){if(this.hideOnSelect){this.hide()}},selectToday:function(){var f=this,e=f.todayBtn,g=f.handler;if(e&&!e.disabled){f.setValue(Ext.Date.clearTime(new Date()));f.fireEvent("select",f,f.value);if(g){Ext.callback(g,f.scope,[f,f.value],null,f,f)}f.onSelect()}return f},selectedUpdate:function(q){var o=this,p=q.getTime(),r=o.cells,s=o.selectedCls,m,n=r.getCount(),c;o.eventEl.dom.setAttribute("aria-busy","true");c=o.activeCell;if(c){Ext.fly(c).removeCls(s);c.setAttribute("aria-selected",false)}for(m=0;m<n;m++){c=r.item(m);if(o.textNodes[m].dateValue===p){o.activeCell=c.dom;o.eventEl.dom.setAttribute("aria-activedescendant",c.dom.id);c.dom.setAttribute("aria-selected",true);c.addCls(s);o.fireEvent("highlightitem",o,c);break}}o.eventEl.dom.removeAttribute("aria-busy")},fullUpdate:function(Y){var Q=this,al=Q.cells.elements,am=Q.textNodes,M=Q.disabledCellCls,ae=Ext.Date,N=0,S=0,ag=+ae.clearTime(Y,true),aa=+ae.clearTime(new Date()),R=Q.minDate?ae.clearTime(Q.minDate,true):Number.NEGATIVE_INFINITY,P=Q.maxDate?ae.clearTime(Q.maxDate,true):Number.POSITIVE_INFINITY,U=Q.disabledDatesRE,T=Q.disabledDatesText,K=Q.disabledDays?Q.disabledDays.join(""):false,W=Q.disabledDaysText,L=Q.format,ah=ae.getDaysInMonth(Y),Z=ae.getFirstDateOfMonth(Y),ak=Z.getDay()-Q.startDay,ac=ae.add(Y,ae.MONTH,-1),ab=Q.ariaTitleDateFormat,ai,X,ao,O,af,ad,an,aj,V;if(ak<0){ak+=7}ah+=ak;ai=ae.getDaysInMonth(ac)-ak;X=new Date(ac.getFullYear(),ac.getMonth(),ai,Q.initHour);if(Q.showToday){O=ae.clearTime(new Date());ao=(O<R||O>P||(U&&L&&U.test(ae.dateFormat(O,L)))||(K&&K.indexOf(O.getDay())!==-1));Q.todayDisabled=ao;if(!Q.disabled){Q.todayBtn.setDisabled(ao)}}af=function(e,b){var c=al[e],d=[];if(!c.hasAttribute("id")){c.setAttribute("id",Q.id+"-cell-"+e)}V=+ae.clearTime(X,true);c.firstChild.dateValue=V;c.setAttribute("aria-label",ae.format(X,ab));c.removeAttribute("aria-describedby");c.removeAttribute("data-qtip");if(V===aa){b+=" "+Q.todayCls;d.push(Q.id+"-todayText")}if(V===ag){Q.activeCell=c;Q.eventEl.dom.setAttribute("aria-activedescendant",c.id);c.setAttribute("aria-selected",true);b+=" "+Q.selectedCls;Q.fireEvent("highlightitem",Q,c)}else{c.setAttribute("aria-selected",false)}if(V<R){b+=" "+M;d.push(Q.id+"-ariaMinText");c.setAttribute("data-qtip",Q.minText)}else{if(V>P){b+=" "+M;d.push(Q.id+"-ariaMaxText");c.setAttribute("data-qtip",Q.maxText)}else{if(K&&K.indexOf(X.getDay())!==-1){c.setAttribute("data-qtip",W);d.push(Q.id+"-ariaDisabledDaysText");b+=" "+M}else{if(U&&L){aj=ae.dateFormat(X,L);if(U.test(aj)){c.setAttribute("data-qtip",T.replace("%0",aj));d.push(Q.id+"-ariaDisabledDatesText");b+=" "+M}}}}}if(d.length){c.setAttribute("aria-describedby",d.join(" "))}c.className=b+" "+Q.cellCls};Q.eventEl.dom.setAttribute("aria-busy","true");for(;N<Q.numDays;++N){if(N<ak){ad=(++ai);an=Q.prevCls}else{if(N>=ah){ad=(++S);an=Q.nextCls}else{ad=N-ak+1;an=Q.activeCls}}am[N].innerHTML=ad;X.setDate(X.getDate()+1);af(N,an)}Q.eventEl.dom.removeAttribute("aria-busy");Q.monthBtn.setText(Ext.Date.format(Y,Q.monthYearFormat))},update:function(f,g){var k=this,j=k.activeDate;if(k.rendered){k.activeDate=f;if(!g&&j&&k.el&&j.getMonth()===f.getMonth()&&j.getFullYear()===f.getFullYear()){k.selectedUpdate(f,j)}else{k.fullUpdate(f,j)}}return k},doDestroy:function(){var c=this;if(c.rendered){Ext.destroy(c.keyNav,c.monthPicker,c.monthBtn,c.nextRepeater,c.prevRepeater,c.todayBtn,c.todayElSpan)}Ext.Component.prototype.doDestroy.call(this)},privates:{finishRenderChildren:function(){var c=this;Ext.Component.prototype.finishRenderChildren.call(this);c.monthBtn.finishRender();if(c.showToday){c.todayBtn.finishRender()}},getFocusEl:function(){return this.eventEl},syncDisabled:function(l,m){var j=this,g=j.keyNav,k=j.todayBtn;if(g){g.setDisabled(l);j.prevRepeater.setDisabled(l);j.nextRepeater.setDisabled(l)}if(m&&k){k.setDisabled(j.todayDisabled||l)}}}},0,["datepicker"],["component","box","datepicker"],{component:true,box:true,datepicker:true},["widget.datepicker"],0,[Ext.picker,"Date",Ext,"DatePicker"],0));Ext.define("Ext.theme.triton.picker.Date",{override:"Ext.picker.Date",footerButtonUI:"default-toolbar"});(Ext.cmd.derive("Ext.form.field.Date",Ext.form.field.Picker,{alternateClassName:["Ext.form.DateField","Ext.form.Date"],format:"m/d/Y",ariaFormat:"M j Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",disabledDaysText:"Disabled",ariaDisabledDaysText:"This day of week is disabled",disabledDatesText:"Disabled",ariaDisabledDatesText:"This date cannot be selected",minText:"The date in this field must be equal to or after {0}",ariaMinText:"The date must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",ariaMaxText:"The date must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",formatText:"Expected date format {0}.",triggerCls:"x-form-date-trigger",showToday:true,useStrict:undefined,initTime:"12",initTimeFormat:"H",matchFieldWidth:false,startDay:0,valuePublishEvent:["select","blur"],componentCls:"x-form-field-date",ariaRole:"combobox",rawDate:null,rawDateText:"",initComponent:function(){var g=this,k=Ext.isString,j,f;j=g.minValue;f=g.maxValue;if(k(j)){g.minValue=g.parseDate(j)}if(k(f)){g.maxValue=g.parseDate(f)}g.disabledDatesRE=null;g.initDisabledDays();Ext.form.field.Picker.prototype.initComponent.call(this)},getSubTplData:function(k){var j=this,g,f;g=Ext.form.field.Picker.prototype.getSubTplData.call(this,k);if(!j.ariaStaticRoles[j.ariaRole]){f=g.ariaElAttributes;if(f){f["aria-owns"]=j.id+"-inputEl "+j.id+"-picker-eventEl";f["aria-autocomplete"]="none"}}return g},initValue:function(){var d=this,e=d.value;if(Ext.isString(e)){d.value=d.rawToValue(e);d.rawDate=d.value;d.rawDateText=d.parseDate(d.value)}else{d.value=e||null;d.rawDate=d.value;d.rawDateText=d.value?d.parseDate(d.value):""}Ext.form.field.Picker.prototype.initValue.call(this)},initDisabledDays:function(){if(this.disabledDates){var o=this.disabledDates,d=o.length-1,l="(?:",k,m=o.length,n;for(k=0;k<m;k++){n=o[k];l+=Ext.isDate(n)?"^"+Ext.String.escapeRegex(n.dateFormat(this.format))+"$":n;if(k!==d){l+="|"}}this.disabledDatesRE=new RegExp(l+")")}},setDisabledDates:function(f){var g=this,e=g.picker;g.disabledDates=f;g.initDisabledDays();if(e){e.setDisabledDates(g.disabledDatesRE)}},setDisabledDays:function(e){var d=this.picker;this.disabledDays=e;if(d){d.setDisabledDays(e)}},setMinValue:function(g){var k=this,f=k.picker,j=(Ext.isString(g)?k.parseDate(g):g);k.minValue=j;if(f){f.minText=Ext.String.format(k.minText,k.formatDate(k.minValue));f.setMinDate(j)}},setMaxValue:function(j){var k=this,f=k.picker,g=(Ext.isString(j)?k.parseDate(j):j);k.maxValue=g;if(f){f.maxText=Ext.String.format(k.maxText,k.formatDate(k.maxValue));f.setMaxDate(g)}},getErrors:function(s){s=arguments.length>0?s:this.formatDate(this.processRawValue(this.getRawValue()));var B=this,u=Ext.String.format,A=Ext.Date.clearTime,v=Ext.form.field.Picker.prototype.getErrors.call(this,s),w=B.disabledDays,F=B.disabledDatesRE,x=B.minValue,C=B.maxValue,D=w?w.length:0,E=0,I,H,y,G;if(s===null||s.length<1){return v}I=s;s=B.parseDate(s);if(!s){v.push(u(B.invalidText,I,Ext.Date.unescapeFormat(B.format)));return v}G=s.getTime();if(x&&G<A(x).getTime()){v.push(u(B.minText,B.formatDate(x)))}if(C&&G>A(C).getTime()){v.push(u(B.maxText,B.formatDate(C)))}if(w){y=s.getDay();for(;E<D;E++){if(y===w[E]){v.push(B.disabledDaysText);break}}}H=B.formatDate(s);if(F&&F.test(H)){v.push(u(B.disabledDatesText,H))}return v},rawToValue:function(e){var d=this;if(e===d.rawDateText){return d.rawDate}return d.parseDate(e)||e||null},valueToRaw:function(c){return this.formatDate(this.parseDate(c))},setValue:function(d){var e=this;e.lastValue=e.rawDateText;e.lastDate=e.rawDate;if(Ext.isDate(d)){e.rawDate=d;e.rawDateText=e.formatDate(d)}else{e.rawDate=e.rawToValue(d);e.rawDateText=e.formatDate(d);if(e.rawDate===d){e.rawDate=null;e.rawDateText=""}}Ext.form.field.Picker.prototype.setValue.apply(this,arguments)},checkChange:function(){var g=this,j,f,k;if(!g.suspendCheckChange){j=g.getRawValue();f=g.lastValue;k=g.lastDate;if(!g.destroyed&&g.didValueChange(j,f)){g.rawDate=g.rawToValue(j);g.rawDateText=g.formatDate(j);g.lastValue=j;g.lastDate=g.rawDate;g.fireEvent("change",g,g.getValue(),k);g.onChange(j,f)}}},safeParse:function(m,l){var n=this,p=Ext.Date,k=null,q=n.useStrict,o;if(p.formatContainsHourInfo(l)){k=p.parse(m,l,q)}else{o=p.parse(m+" "+n.initTime,l+" "+n.initTimeFormat,q);if(o){k=p.clearTime(o)}}return k},getSubmitValue:function(){var e=this.submitFormat||this.format,d=this.rawDate;return d?Ext.Date.format(d,e):""},getValue:function(){return this.rawDate||null},setRawValue:function(e){var d=this;Ext.form.field.Picker.prototype.setRawValue.call(this,e);d.rawDate=Ext.isDate(e)?e:d.rawToValue(e);d.rawDateText=this.formatDate(e)},parseDate:function(n){if(!n||Ext.isDate(n)){return n}var o=this,l=o.safeParse(n,o.format),q=o.altFormats,m=o.altFormatsArray,p=0,k;if(!l&&q){m=m||q.split("|");k=m.length;for(;p<k&&!l;++p){l=o.safeParse(n,m[p])}}return l},formatDate:function(d,e){return Ext.isDate(d)?Ext.Date.dateFormat(d,e||this.format):d},createPicker:function(){var d=this,e=Ext.String.format;return new Ext.picker.Date({id:d.id+"-picker",pickerField:d,floating:true,preventRefocus:true,hidden:true,minDate:d.minValue,maxDate:d.maxValue,disabledDatesRE:d.disabledDatesRE,disabledDatesText:d.disabledDatesText,ariaDisabledDatesText:d.ariaDisabledDatesText,disabledDays:d.disabledDays,disabledDaysText:d.disabledDaysText,ariaDisabledDaysText:d.ariaDisabledDaysText,format:d.format,showToday:d.showToday,startDay:d.startDay,minText:e(d.minText,d.formatDate(d.minValue)),ariaMinText:e(d.ariaMinText,d.formatDate(d.minValue,d.ariaFormat)),maxText:e(d.maxText,d.formatDate(d.maxValue)),ariaMaxText:e(d.ariaMaxText,d.formatDate(d.maxValue,d.ariaFormat)),listeners:{scope:d,select:d.onSelect,tabout:d.onTabOut},keyNavConfig:{esc:function(){d.inputEl.focus();d.collapse()}}})},onSelect:function(d,f){var g=this;g.setValue(f);g.rawDate=f;g.fireEvent("select",g,f);g.onTabOut(d)},onTabOut:function(c){this.inputEl.focus();this.collapse()},onExpand:function(){var c=this.rawDate;this.picker.setValue(Ext.isDate(c)?c:new Date())},onBlur:function(f){var g=this,e=g.rawToValue(g.getRawValue());if(e===""||Ext.isDate(e)){g.setValue(e)}Ext.form.field.Picker.prototype.onBlur.call(this,f)}},0,["datefield"],["component","box","field","textfield","pickerfield","datefield"],{component:true,box:true,field:true,textfield:true,pickerfield:true,datefield:true},["widget.datefield"],0,[Ext.form.field,"Date",Ext.form,"DateField",Ext.form,"Date"],0));Ext.define("Ext.overrides.form.field.Date",{override:"Ext.form.field.Date",maskRe:/[0-9\/]/,submitValue:true,hideTrigger:true,format:"d/m/Y",submitFormat:"Y-m-d"});(Ext.cmd.derive("Ext.tip.Tip",Ext.panel.Panel,{alternateClassName:"Ext.Tip",minWidth:40,maxWidth:500,shadow:"sides",constrainPosition:true,autoRender:true,hidden:true,baseCls:"x-tip",focusOnToFront:false,maskOnDisable:false,closeAction:"hide",alwaysFramed:true,frameHeader:false,initComponent:function(){var c=this;c.floating=Ext.apply({},{shadow:c.shadow},c.self.prototype.floating);Ext.panel.Panel.prototype.initComponent.apply(this,arguments);c.constrain=c.constrain||c.constrainPosition},showAt:function(e){var d=this;d.calledFromShowAt=true;Ext.panel.Panel.prototype.showAt.apply(this,arguments);if(d.isVisible()){d.doAlignment(d.getRegion().alignTo({target:new Ext.util.Point(e[0],e[1]),inside:d.constrainPosition?Ext.getBody().getRegion().adjust(5,-5,-5,5):null,align:"tl-tl",overlap:true}))}d.calledFromShowAt=0},doAlignment:function(g){var k=this,j=k.anchorEl,f=g.anchor;k.setPagePosition([g.x,g.y]);if(j){j.removeCls(k.anchorCls);if(f){k.anchorCls="x-tip-anchor-"+f.position;j.addCls(k.anchorCls);j.show();if(f.align&1){j.setTop(g.anchor.y-g.y);j.dom.style.left=""}else{j.setLeft(g.anchor.x-g.x);j.dom.style.top=""}}else{j.hide()}}},privates:{initDraggable:function(){var c=this;c.draggable={el:c.getDragEl(),delegate:c.header.el,constrain:c,constrainTo:c.el.dom.parentNode};Ext.Component.prototype.initDraggable.call(c)}},ghost:undefined,unghost:undefined},0,["tip"],["component","box","container","panel","tip"],{component:true,box:true,container:true,panel:true,tip:true},["widget.tip"],0,[Ext.tip,"Tip",Ext,"Tip"],0));(Ext.cmd.derive("Ext.tip.ToolTip",Ext.tip.Tip,{alternateClassName:"Ext.ToolTip",autoHide:true,showDelay:500,hideDelay:200,dismissDelay:5000,mouseOffset:[15,18],trackMouse:false,anchorToTarget:true,targetCounter:0,quickShowInterval:250,hideAction:"hide",fadeOutDuration:1000,defaultAlign:"bl-tl",ariaRole:"tooltip",alwaysOnTop:true,initComponent:function(){var c=this;Ext.tip.Tip.prototype.initComponent.call(this);c.setTarget(c.target);c.currentTarget=new Ext.dom.Fly()},onRender:function(g,e){var f=this;Ext.tip.Tip.prototype.onRender.apply(this,arguments);f.anchorEl=f.el.createChild({role:"presentation",cls:"x-tip-anchor"})},show:function(){if(!this.currentTarget.dom&&this.target){return this.showBy(this.target)}Ext.tip.Tip.prototype.show.call(this)},setTarget:function(f){var g=this,e;if(g.targetListeners){g.targetListeners.destroy()}if(f){g.target=f=Ext.get(f.el||f);e={mouseover:"onTargetOver",mouseout:"onTargetOut",mousemove:"onMouseMove",tap:"onTargetTap",scope:g,destroyable:true};g.targetListeners=f.on(e)}else{g.target=null}},onMouseMove:function(f){var g=this,e=g.dismissDelay;g.pointerEvent=f;if(g.isVisible()&&g.currentTarget.contains(f.target)){if(e&&g.autoHide!==false){g.clearTimer("dismiss");g.dismissTimer=Ext.defer(g.hide,e,g)}if(g.trackMouse){g.doAlignment(g.getAlignRegion())}}},getAlignRegion:function(){var q=this,n=q.anchorEl,l=q.getAnchorAlign(),k,m,o,p=q.mouseOffset;if(!q.anchorSize){n.addCls("x-tip-anchor-top");n.show();q.anchorSize=new Ext.util.Offset(n.getWidth(),n.getHeight());n.removeCls("x-tip-anchor-top");n.hide()}if((q.anchor||q.align)&&q.anchorToTarget&&!q.trackMouse){o=q.currentTarget.getRegion()}else{o=q.pointerEvent?q.pointerEvent.getPoint().adjust(-p[1],p[0],p[1],-p[0]):new Ext.util.Point();if(!q.anchor){k=true;if(p[0]>0){if(p[1]>0){l="tl-br"}else{l="bl-tr"}}else{if(p[1]>0){l="tr-bl"}else{l="br-tl"}}}}m={align:q.convertPositionSpec(l),axisLock:q.axisLock,target:o,overlap:k,offset:q.targetOffset,inside:q.constrainPosition?Ext.getBody().getRegion().adjust(5,-5,-5,5):null};if(q.anchor){m.anchorSize=q.anchorSize}return q.getRegion().alignTo(m)},fadeOut:function(){var c=this;c.el.fadeOut({duration:c.fadeOutDuration,callback:function(){c.hide();c.el.setOpacity("")}})},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return this.defaultAlign}},onTargetTap:function(c){if(this.showOnTap&&c.pointerType!=="mouse"){this.onTargetOver(c)}},onTargetOver:function(n){var p=this,q=p.delegate,o=p.currentTarget,l=n.relatedTarget||n.fromElement,m,e=p.hasListeners;if(p.disabled){return}if(q){if(o.contains(n.target)){return}m=n.getTarget(q);if(m&&Ext.fly(m).contains(n.fromElement)){return}}else{if(!p.target.contains(l)){m=p.target.dom}else{return}}if(m){if((e.beforeshow||e.show)&&p.isVisible()){p.hide()}p.triggerElement=m;p.pointerEvent=n;o.attach(m);p.handleTargetOver(m,n)}else{if(o.dom){p.handleTargetOut()}}},handleTargetOver:function(e,d){if(d.pointerType!=="mouse"){this.showFromDelay()}else{this.delayShow()}},delayShow:function(){var c=this;c.clearTimer("hide");if(c.hidden&&!c.showTimer){if(c.delegate&&Ext.Date.getElapsed(c.lastHidden)<c.quickShowInterval){c.showFromDelay()}else{c.showTimer=Ext.defer(c.showFromDelay,c.pointerEvent.pointerType!=="mouse"?0:c.showDelay,c)}}else{if(!c.hidden&&c.autoHide!==false){c.showFromDelay()}}},showFromDelay:function(){var c=this;if(!c.disabled){c.fireEvent("hovertarget",c,c.currentTarget,c.currentTarget.dom);if(c.isVisible()){c.handleAfterShow()}else{c.triggerElement=c.currentTarget.dom;c.fromDelayShow=true;c.show();c.fromDelayShow=false}}},onTargetOut:function(c){if(this.currentTarget.dom&&!this.currentTarget.contains(c.relatedTarget)){this.handleTargetOut()}},handleTargetOut:function(){var c=this;if(c.showTimer){c.clearTimer("show")}if(c.isVisible()&&c.autoHide){c.delayHide()}},delayHide:function(){var c=this;if(!c.hidden&&!c.hideTimer){c.clearTimer("dismiss");c.hideTimer=Ext.defer(c[c.hideAction],c.hideDelay,c)}},hide:function(){var c=this;c.currentTarget.detach();c.clearTimer("dismiss");c.lastHidden=new Date();if(c.anchorEl){c.anchorEl.hide()}Ext.tip.Tip.prototype.hide.apply(this,arguments);c.triggerElement=null},afterShow:function(){Ext.tip.Tip.prototype.afterShow.call(this);this.handleAfterShow()},handleAfterShow:function(){var c=this;c.clearTimers();if(!c.calledFromShowAt){c.doAlignment(c.getAlignRegion())}if(c.dismissDelay&&c.autoHide!==false){c.dismissTimer=Ext.defer(c.hide,c.dismissDelay,c)}},showBy:function(c){this.align=this.defaultAlign;this.currentTarget.attach(Ext.getDom(c.el||c));this.triggerElement=this.currentTarget.dom;this.show()},_timerNames:{},clearTimer:function(g){var m=this,k=m._timerNames,l=k[g]||(k[g]=g+"Timer"),j=m[l];if(j){clearTimeout(j);m[l]=null;if(g==="show"&&m.isHidden()){m.currentTarget.detach()}}},clearTimers:function(){var c=this;c.clearTimer("show");c.clearTimer("dismiss");c.clearTimer("hide")},onShow:function(){var c=this;Ext.tip.Tip.prototype.onShow.call(this);c.mon(Ext.getDoc(),"mousedown",c.onDocMouseDown,c)},onHide:function(){var c=this;Ext.tip.Tip.prototype.onHide.call(this);c.mun(Ext.getDoc(),"mousedown",c.onDocMouseDown,c)},onDocMouseDown:function(e){var d=this;if(!d.closable&&!e.within(d.el.dom)){d.disable();Ext.defer(d.doEnable,100,d)}},doEnable:function(){if(!this.destroyed){this.enable()}},onDisable:function(){Ext.tip.Tip.prototype.onDisable.call(this);this.clearTimers();this.hide()},doDestroy:function(){var c=this;c.clearTimers();Ext.getDoc().un("mousedown",c.onDocMouseDown,c);Ext.destroy(c.anchorEl);Ext.tip.Tip.prototype.doDestroy.call(this)},privates:{clipTo:function(g,f){var e;if(g.isRegion){e=g}else{e=(g.isComponent?g.el:Ext.fly(g)).getConstrainRegion()}Ext.tip.Tip.prototype.clipTo.call(this,e,f);this.anchorEl.clipTo(e,f)}}},0,["tooltip"],["component","box","container","panel","tip","tooltip"],{component:true,box:true,container:true,panel:true,tip:true,tooltip:true},["widget.tooltip"],0,[Ext.tip,"ToolTip",Ext,"ToolTip"],0));(Ext.cmd.derive("Ext.tip.QuickTip",Ext.tip.ToolTip,{alternateClassName:"Ext.QuickTip",interceptTitles:false,title:"&#160;",tagConfig:{namespace:"data-",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor",showDelay:"qshowDelay",hideAction:"hideAction",anchorTarget:"anchorTarget"},isQuickTip:true,shrinkWrapDock:true,initComponent:function(){var f=this,g=f.tagConfig,e=g.attr||(g.attr=g.namespace+g.attribute);f.delegate=Ext.Function.bind(f.delegate,f);f.target=f.target||Ext.getDoc();f.targets=f.targets||{};Ext.tip.ToolTip.prototype.initComponent.call(this)},setTagConfig:function(c){this.tagConfig=Ext.apply({},c);delete this.tagConfig.attr},text:null,register:function(p){var l=Ext.isArray(p)?p:arguments,o=0,j=l.length,m,q,n;for(;o<j;o++){p=l[o];m=p.target;if(m){if(Ext.isArray(m)){for(q=0,n=m.length;q<n;q++){this.targets[Ext.id(m[q])]=p}}else{this.targets[Ext.id(m)]=p}}}},unregister:function(c){delete this.targets[Ext.id(c)]},cancelShow:function(e){var g=this,f=g.currentTarget;e=Ext.getDom(e);if(g.isVisible()){if(f.dom===e){g.hide()}}else{if(f.dom===e){g.clearTimer("show")}}},delegate:function(k){var l=this,m=l.tagConfig,g=m.attr||(m.attr=m.namespace+m.attribute),j;j=k.getAttribute(g)||(l.interceptTitles&&k.title);return !!j},getTipText:function(k){var l=k.title,m=this.tagConfig,g=m.attr||(m.attr=m.namespace+m.attribute),j;if(this.interceptTitles&&l){k.setAttribute(g,l);k.removeAttribute("title");return l}else{return k.getAttribute(g)}},onTargetOver:function(o){var p=this,m=p.currentTarget,n=o.target,k,l,q;if(!n||n.nodeType!==1||n===document.documentElement||n===document.body){return}p.pointerEvent=o;k=p.targets;for(q in k){if(k.hasOwnProperty(q)){l=k[q];if(l.target&&Ext.fly(l.target).contains(n)&&!Ext.fly(l.target).contains(o.relatedTarget)){n=Ext.getDom(l.target);m.attach(n);p.activeTarget=l;l.el=m;p.anchor=l.anchor;p.activateTarget();return}}}Ext.tip.ToolTip.prototype.onTargetOver.call(this,o)},handleTargetOver:function(m,o){var p=this,n=p.currentTarget,r=p.tagConfig,q=r.namespace,s=p.getTipText(m,o),l;if(s){l=n.getAttribute(q+r.hide);p.activeTarget={el:n,text:s,width:+n.getAttribute(q+r.width)||null,autoHide:l!=="user"&&l!=="false",title:n.getAttribute(q+r.title),cls:n.getAttribute(q+r.cls),align:n.getAttribute(q+r.align),showDelay:n.getAttribute(q+r.showDelay),hideAction:n.getAttribute(q+r.hideAction),alignTarget:n.getAttribute(q+r.anchorTarget)};if(!p.initialConfig.hasOwnProperty("anchor")){p.anchor=n.getAttribute(q+r.anchor)}if(p.anchor&&!p.initialConfig.hasOwnProperty("anchorTarget")){p.alignTarget=p.activeTarget.alignTarget||m}p.activateTarget()}},activateTarget:function(){var j=this,g=j.activeTarget,k=g.showDelay,f=g.hideAction;if(j.isVisible()){j.updateContent();j.handleAfterShow()}else{if(g.showDelay){k=j.showDelay;j.showDelay=parseInt(g.showDelay,10)}j.delayShow();if(g.showDelay){j.showDelay=k}if(!(f=g.hideAction)){delete j.hideAction}else{j.hideAction=f}}},getAnchorAlign:function(){var c=this.activeTarget;return(c&&c.align)||Ext.tip.ToolTip.prototype.getAnchorAlign.call(this)},getAlignRegion:function(){var j=this,g=j.activeTarget,k=j.currentTarget.dom,f;if(g&&g.alignTarget&&j.anchor&&!j.initialConfig.hasOwnProperty("anchorTarget")){j.currentTarget.attach(Ext.getDom(g.alignTarget))}j.anchorToTarget=!!(g.align||j.anchor);f=Ext.tip.ToolTip.prototype.getAlignRegion.call(this);j.currentTarget.attach(k);return f},handleTargetOut:function(j){var l=this,k=l.activeTarget,e=l.autoHide,m=l.hideDelay;if(k&&e!==false){l.autoHide=true;if(k.hideDelay){l.hideDelay=parseInt(k.hideDelay,10)}Ext.tip.ToolTip.prototype.handleTargetOut.call(this,j);l.autoHide=e;l.hideDelay=m}},targetTextEmpty:function(){var l=this,k=l.activeTarget,g=l.tagConfig,m,j;if(k){m=k.el;if(m){j=m.getAttribute(g.namespace+g.attribute);if(!j&&!l.targets[Ext.id(k.el.dom)]){return true}}}return false},show:function(){var e=this,d=e.fromDelayShow;if(d&&e.targetTextEmpty()){e.activeTarget=null;e.currentTarget.detach();return}Ext.tip.ToolTip.prototype.show.apply(this,arguments)},beforeShow:function(){this.updateContent();Ext.tip.ToolTip.prototype.beforeShow.apply(this,arguments)},updateContent:function(){var l=this,k=l.activeTarget,j=l.header,m,g;if(k){l.suspendLayouts();if(k.title){l.setTitle(k.title);j.show()}else{if(j){j.hide()}}l.update(k.text);l.autoHide=k.autoHide;m=k.dismissDelay;l.dismissDelay=Ext.isNumber(m)?m:l.dismissDelay;g=l.lastCls;if(g){l.removeCls(g);delete l.lastCls}g=k.cls;if(g){l.addCls(g);l.lastCls=g}l.setWidth(k.width);l.align=k.align;l.resumeLayouts(true)}},hide:function(){this.activeTarget=null;Ext.tip.ToolTip.prototype.hide.call(this)}},0,["quicktip"],["component","box","container","panel","tip","tooltip","quicktip"],{component:true,box:true,container:true,panel:true,tip:true,tooltip:true,quicktip:true},["widget.quicktip"],0,[Ext.tip,"QuickTip",Ext,"QuickTip"],0));(Ext.cmd.derive("Ext.tip.QuickTipManager",Ext.Base,{singleton:true,alternateClassName:"Ext.QuickTips",disabled:false,init:function(l,o){var m=this;if(!m.tip){if(!Ext.isReady){Ext.onInternalReady(function(){Ext.tip.QuickTipManager.init(l,o)});return false}var j=Ext.apply({disabled:m.disabled,id:"ext-quicktips-tip"},o),n=j.className,k=j.xtype;if(n){delete j.className}else{if(k){n="widget."+k;delete j.xtype}}if(l!==false){j.renderTo=document.body}m.tip=Ext.create(n||"Ext.tip.QuickTip",j);m.tip.destroy=Ext.emptyFn;Ext.quickTipsActive=true}},destroy:function(){var c=this.tip;if(c){delete c.destroy;c.destroy();this.tip=null}Ext.quickTipsActive=false},ddDisable:function(){var d=this,e=d.tip;if(e&&!d.disabled){e.disable()}},ddEnable:function(){var d=this,e=d.tip;if(e&&!d.disabled){e.enable()}},enable:function(){var d=this,e=d.tip;if(e){e.enable()}d.disabled=false},disable:function(){var d=this,e=d.tip;if(e){e.disable()}d.disabled=true},isEnabled:function(){var c=this.tip;return c!==undefined&&!c.disabled},getQuickTip:function(){return this.tip},register:function(){var c=this.tip;c.register.apply(c,arguments)},unregister:function(){var c=this.tip;c.unregister.apply(c,arguments)},tips:function(){var c=this.tip;c.register.apply(c,arguments)}},0,0,0,0,0,0,[Ext.tip,"QuickTipManager",Ext,"QuickTips"],0));(Ext.cmd.derive("Ext.toolbar.Separator",Ext.toolbar.Item,{alternateClassName:"Ext.Toolbar.Separator",baseCls:"x-toolbar-separator",ariaRole:"separator"},0,["tbseparator"],["component","box","tbitem","tbseparator"],{component:true,box:true,tbitem:true,tbseparator:true},["widget.tbseparator"],0,[Ext.toolbar,"Separator",Ext.Toolbar,"Separator"],0));(Ext.cmd.derive("Ext.grid.CellContext",Ext.Base,{isCellContext:true,generation:0,constructor:function(c){this.view=c},setPosition:function(f,e){var g=this;if(arguments.length===1){if(f.length){e=f[0];f=f[1]}else{if(f.isCellContext){return g.setAll(f.view,f.rowIdx,f.colIdx,f.record,f.column)}else{if(f.view){g.view=f.view}e=f.column;f=f.row}}}g.setRow(f);g.setColumn(e);return g},setAll:function(o,n,m,j,k){var l=this;l.view=o;l.rowIdx=n;l.colIdx=m;l.record=j;l.column=k;l.generation++;return l},setRow:function(j){var l=this,k=l.view.dataSource,g=l.record,m;if(j!==undefined){if(typeof j==="number"){m=k.getCount();j=j<0?Math.max(m+j,0):Math.max(Math.min(j,m-1),0);l.rowIdx=j;l.record=k.getAt(j)}else{if(j.isModel){l.record=j;l.rowIdx=k.indexOf(j)}else{if(j.tagName||j.isElement){l.record=l.view.getRecord(j);l.rowIdx=k.indexOf(l.record)}}}}if(l.record!==g){l.generation++}return l},setColumn:function(f){var g=this,j=g.view.getVisibleColumnManager(),k=g.column;if(f!==undefined){if(typeof f==="number"){g.colIdx=f;g.column=j.getHeaderAtIndex(f)}else{if(f.isHeader){g.column=f;g.colIdx=j.indexOf(f)}}}if(g.column!==k){g.generation++}return g},getCell:function(c){return this.view.getCellByPosition(this,c)},getRow:function(e){var d=this.view.getRow(this.record);return e?d:Ext.get(d)},getNode:function(e){var d=this.view.getNode(this.record);return e?d:Ext.get(d)},isEqual:function(c){return(c&&c.isCellContext&&c.record===this.record&&c.column===this.column)},clone:function(){var e=this,d=new e.self(e.view);d.rowIdx=e.rowIdx;d.colIdx=e.colIdx;d.record=e.record;d.column=e.column;return d},privates:{isFirstColumn:function(){var c=this.getCell(true);if(c){return !c.previousSibling}},isLastColumn:function(){var c=this.getCell(true);if(c){return !c.nextSibling}},isLastRenderedRow:function(){return this.view.all.endIndex===this.rowIdx},getLastColumnIndex:function(){var c=this.getRow(true);if(c){return c.lastChild.cellIndex}return -1},refresh:function(){var g=this,f=g.view.dataSource.indexOf(g.record),e=g.view.getVisibleColumnManager().indexOf(g.column);g.setRow(f===-1?g.rowIdx:g.record);g.setColumn(e===-1?g.colIdx:g.column)},navigate:function(f){var g=this,e=g.view.getVisibleColumnManager().getColumns();switch(f){case -1:do{if(!g.colIdx){g.colIdx=e.length-1}else{g.colIdx--}g.setColumn(g.colIdx)}while(!g.getCell(true));break;case 1:do{if(g.colIdx>=e.length){g.colIdx=0}else{g.colIdx++}g.setColumn(g.colIdx)}while(!g.getCell(true));break}}},statics:{compare:function(e,d){return e.rowIdx-d.rowIdx||e.colIdx-d.colIdx}}},1,0,0,0,0,0,[Ext.grid,"CellContext"],0));(Ext.cmd.derive("Ext.grid.ColumnComponentLayout",Ext.layout.component.Auto,{type:"columncomponent",setWidthInDom:true,_paddingReset:{paddingTop:"",paddingBottom:""},columnAutoCls:"x-column-header-text-container-auto",beginLayout:function(c){Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);c.titleContext=c.getEl("titleEl")},beginLayoutCycle:function(j){var k=this,f=k.owner,g=j.widthModel.shrinkWrap;Ext.layout.component.Auto.prototype.beginLayoutCycle.apply(this,arguments);if(g){f.el.setWidth("")}f.textContainerEl[g&&!f.isGroupHeader?"addCls":"removeCls"](k.columnAutoCls);f.titleEl.setStyle(k._paddingReset)},publishInnerHeight:function(k,l){var m=this,g=m.owner,j;if(g.getRootHeaderCt().hiddenHeaders){k.setProp("innerHeight",0);return}if(!k.hasRawContent){if(g.headerWrap&&!k.hasDomProp("width")){m.done=false;return}j=l-k.getBorderInfo().height;k.setProp("innerHeight",j-g.titleEl.getHeight(),false)}},measureContentHeight:function(c){return c.el.dom.offsetHeight},publishInnerWidth:function(d,e){if(!d.hasRawContent){d.setProp("innerWidth",e-d.getBorderInfo().width,false)}},calculateOwnerHeightFromContentHeight:function(g,j){var k=Ext.layout.component.Auto.prototype.calculateOwnerHeightFromContentHeight.apply(this,arguments),f=this.owner;if(!g.hasRawContent){if(!f.headerWrap||g.hasDomProp("width")){return j+f.titleEl.getHeight()+g.getBorderInfo().height}return null}return k},calculateOwnerWidthFromContentWidth:function(k,o){var j=this.owner,l=k.getPaddingInfo().width,m=this.getTriggerOffset(j,k),n;if(j.isGroupHeader){n=o}else{n=Math.max(o,j.textEl.getWidth()+k.titleContext.getPaddingInfo().width)}return n+l+m},getTriggerOffset:function(e,f){var g=0;if(f.widthModel.shrinkWrap&&!e.menuDisabled){if(e.query(">:not([hidden])").length===0){g=e.getTriggerElWidth()}}return g}},0,0,0,0,["layout.columncomponent"],0,[Ext.grid,"ColumnComponentLayout"],0));(Ext.cmd.derive("Ext.layout.container.Fit",Ext.layout.container.Container,{alternateClassName:"Ext.layout.FitLayout",itemCls:"x-fit-item",type:"fit",manageMargins:true,sizePolicies:[{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}],getItemSizePolicy:function(k,j){var f=j||this.owner.getSizeModel(),g=(f.width.shrinkWrap?0:1)|(f.height.shrinkWrap?0:2);return this.sizePolicies[g]},beginLayoutCycle:function(H,K){var x=this,c=x.lastHeightModel&&x.lastHeightModel.calculated,J=x.lastWidthModel&&x.lastWidthModel.calculated,D=J||c,G=0,F=0,y,N,C,A,L,O,I,E,B,M;Ext.layout.container.Container.prototype.beginLayoutCycle.apply(this,arguments);if(D&&H.targetContext.el.dom.tagName.toUpperCase()!=="TD"){D=J=c=false}N=H.childItems;L=N.length;for(C=0;C<L;++C){A=N[C];if(K){y=A.target;I=y.minHeight;E=y.minWidth;if(E||I){O=A.marginInfo||A.getMarginInfo();I+=O.height;E+=O.height;if(G<I){G=I}if(F<E){F=E}}}if(D){B=A.el.dom.style;if(c){B.height=""}if(J){B.width=""}}}if(K){H.maxChildMinHeight=G;H.maxChildMinWidth=F}y=H.target;H.overflowX=(!H.widthModel.shrinkWrap&&H.maxChildMinWidth&&y.scrollFlags.x)||M;H.overflowY=(!H.heightModel.shrinkWrap&&H.maxChildMinHeight&&y.scrollFlags.y)||M},calculate:function(E){var w=this,A=E.childItems,G=A.length,H=w.getContainerSize(E),F={length:G,ownerContext:E,targetSize:H},K=E.widthModel.shrinkWrap,y=E.heightModel.shrinkWrap,B=E.overflowX,D=E.overflowY,x,I,v,C,J,u;E.state.info=F;if(B||D){x=w.getScrollbarsNeeded(B&&H.width,D&&H.height,E.maxChildMinWidth,E.maxChildMinHeight);if(x){I=Ext.getScrollbarSize();if(x&1){H.height-=I.height}if(x&2){H.width-=I.width}}}if(G>0){for(C=0;C<G;++C){F.index=C;w.fitItem(A[C],F)}}else{F.contentWidth=F.contentHeight=0}if(y||K){v=E.targetContext.getPaddingInfo();if(K){if(D&&!H.gotHeight){w.done=false}else{J=F.contentWidth+v.width;if(x&2){J+=I.width}if(!E.setContentWidth(J)){w.done=false}}}if(y){if(B&&!H.gotWidth){w.done=false}else{u=F.contentHeight+v.height;if(x&1){u+=I.height}if(!E.setContentHeight(u)){w.done=false}}}}},fitItem:function(g,f){var e=this;if(g.invalid){e.done=false;return}f.margins=g.getMarginInfo();f.needed=f.got=0;e.fitItemWidth(g,f);e.fitItemHeight(g,f);if(f.got!==f.needed){e.done=false}},fitItemWidth:function(j,g){var f,k;if(g.ownerContext.widthModel.shrinkWrap){k=j.getProp("width")+g.margins.width;f=g.contentWidth;if(f===undefined){g.contentWidth=k}else{g.contentWidth=Math.max(f,k)}}else{if(j.widthModel.calculated){++g.needed;if(g.targetSize.gotWidth){++g.got;this.setItemWidth(j,g)}else{return}}}this.positionItemX(j,g)},fitItemHeight:function(j,g){var k,f;if(g.ownerContext.heightModel.shrinkWrap){f=j.getProp("height")+g.margins.height;k=g.contentHeight;if(k===undefined){g.contentHeight=f}else{g.contentHeight=Math.max(k,f)}}else{if(j.heightModel.calculated){++g.needed;if(g.targetSize.gotHeight){++g.got;this.setItemHeight(j,g)}else{return}}}this.positionItemY(j,g)},positionItemX:function(e,f){var g=f.margins;if(f.index||g.left){e.setProp("x",g.left)}if(g.width&&f.ownerContext.widthModel.shrinkWrap){e.setProp("margin-right",g.width)}},positionItemY:function(e,f){var g=f.margins;if(f.index||g.top){e.setProp("y",g.top)}if(g.height&&f.ownerContext.heightModel.shrinkWrap){e.setProp("margin-bottom",g.height)}},setItemHeight:function(d,e){d.setHeight(e.targetSize.height-e.margins.height)},setItemWidth:function(d,e){d.setWidth(e.targetSize.width-e.margins.width)}},0,0,0,0,["layout.fit"],0,[Ext.layout.container,"Fit",Ext.layout,"FitLayout"],0));(Ext.cmd.derive("Ext.panel.Table",Ext.panel.Panel,{extraBaseCls:"x-grid",extraBodyCls:"x-grid-body",actionableModeCls:"x-grid-actionable",noHeaderBordersCls:"x-no-header-borders",defaultBindProperty:"store",layout:"fit",manageLayoutScroll:false,ariaRole:"presentation",config:{selection:null,focused:null,headerBorders:true,hideHeaders:null},publishes:["selection"],twoWayBindable:["selection"],autoLoad:false,variableRowHeight:false,numFromEdge:2,trailingBufferZone:10,leadingBufferZone:20,hasView:false,viewType:null,deferRowRender:false,sortableColumns:true,multiColumnSort:false,enableLocking:false,scrollerOwner:true,enableColumnMove:true,sealedColumns:false,enableColumnResize:true,rowLines:true,bufferedRenderer:true,ownerGrid:null,colLinesCls:"x-grid-with-col-lines",rowLinesCls:"x-grid-with-row-lines",noRowLinesCls:"x-grid-no-row-lines",hiddenHeaderCtCls:"x-grid-header-ct-hidden",hiddenHeaderCls:"x-grid-header-hidden",resizeMarkerCls:"x-grid-resize-marker",emptyCls:"x-grid-empty",focusable:true,constructor:function(j){var g=this,f=j&&j.ownerGrid,k;g.ownerGrid=f||g;g.actionables=f?f.actionables:[];Ext.panel.Panel.prototype.constructor.call(this,j);k=g.store;k.trackStateChanges=true;if(g.autoLoad){if(!k.isEmptyStore){k.load()}}},registerActionable:function(c){Ext.Array.include(this.actionables,c)},initComponent:function(){var r=this,u=r.columns||r.colModel||[],p,q,v,s,o,w,x,y,A;p=r.store=Ext.data.StoreManager.lookup(r.store||"ext-empty-store");r.enableLocking=r.enableLocking||r.hasLockedColumns(u);if(r.plugins){r.plugins=r.constructPlugins()}if(r.columnLines){r.addBodyCls(r.colLinesCls)}r.addBodyCls(r.rowLines?r.rowLinesCls:r.noRowLinesCls);r.addBodyCls(r.extraBodyCls);if(r.enableLocking){r.self.mixin("lockable",Ext.grid.locking.Lockable);r.injectLockable();y=r.headerCt}else{if(u.isRootHeader){r.headerCt=y=u;y.grid=r;y.forceFit=!!r.forceFit;y.$initParent=r;r.columnManager=y.columnManager;r.visibleColumnManager=y.visibleColumnManager}else{if(Ext.isArray(u)){u={items:u}}r.headerCt=y=new Ext.grid.header.Container(Ext.apply(u,{grid:r,$initParent:r,forceFit:r.forceFit,sortable:r.sortableColumns,enableColumnMove:r.enableColumnMove,enableColumnResize:r.enableColumnResize,columnLines:r.columnLines,sealed:r.sealedColumns}))}if(Ext.isDefined(r.enableColumnHide)){y.enableColumnHide=r.enableColumnHide}}r.columns=w=y.getGridColumns();r.scrollTask=new Ext.util.DelayedTask(r.syncHorizontalScroll,r);r.cls=(r.cls||"")+(" "+r.extraBaseCls);delete r.autoScroll;o=r.plugins&&Ext.Array.findBy(r.plugins,function(b){return b.isBufferedRenderer});if(o){r.bufferedRenderer=o}if(!r.hasView){if(p.isBufferedStore&&!p.getRemoteSort()){for(v=0,s=w.length;v<s;v++){w[v].sortable=false}}r.relayHeaderCtEvents(y);r.features=r.features||[];if(!Ext.isArray(r.features)){r.features=[r.features]}r.dockedItems=[].concat(r.dockedItems||[]);r.dockedItems.unshift(y);r.viewConfig=r.viewConfig||{};q=r.getView();r.items=[q];r.hasView=true;r.bindStore(p,true);r.mon(q,{viewready:r.onViewReady,refresh:r.onRestoreHorzScroll,scope:r});r.syncHeaderVisibility()}r.selModel=r.view.getSelectionModel();r.selModel.on({scope:r,lastselectedchanged:r.updateBindSelection,selectionchange:r.updateBindSelection});r.relayEvents(r.view,["beforeitemlongpress","beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","itemlongpress","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","beforecellclick","cellclick","beforecelldblclick","celldblclick","beforecellcontextmenu","cellcontextmenu","beforecellmousedown","cellmousedown","beforecellmouseup","cellmouseup","beforecellkeydown","cellkeydown","rowclick","rowdblclick","rowcontextmenu","rowmousedown","rowmouseup","rowkeydown","beforeitemkeydown","itemkeydown","beforeitemkeyup","itemkeyup","beforeitemkeypress","itemkeypress","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","beforecontainerkeydown","beforecontainerkeyup","beforecontainerkeypress","containermouseup","containermousedown","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","containerkeydown","containerkeyup","containerkeypress","beforeselect","select","beforedeselect","deselect","beforerowexit"]);if(!r.selModel.isSpreadsheetModel){r.relayEvents(r.view,["selectionchange"])}Ext.panel.Panel.prototype.initComponent.call(this);if(r.enableLocking){r.afterInjectLockable()}else{delete y.$initParent}r.addStateEvents(["columnresize","columnmove","columnhide","columnshow","sortchange","filterchange","groupchange"])},syncHeaderVisibility:function(){var o=this,w=o.headerCt,u=w.items.items,q=u.length,r=w.height===0,n=!!q,v,p,s,x;if(o.hideHeaders!=null){n=o.hideHeaders}else{for(s=0;n&&s<q;s++){v=u[s];p=v.text;if((p&&p!=="\xa0")||v.columns||(v.isGroupHeader&&v.items.items.length)){n=false}}}if(!w.rendered||n!==r){w.setHeight(n?0:null);w.hiddenHeaders=n;o.headerCt.toggleCls(o.hiddenHeaderCtCls,n);o.toggleCls(o.hiddenHeaderCls,n);if(!n){w.setScrollable({x:false,y:false});x=o.view.getScrollable();if(x){w.getScrollable().addPartner(x,"x")}}}},updateHideHeaders:function(c){if(!this.isConfiguring){this.syncHeaderVisibility()}},beforeRender:function(){var g=this,f=g.bufferedRenderer,e;if(g.lockable){g.getProtoBody().addCls(g.lockingBodyCls)}else{if(f&&g.getSizeModel().height.auto){g.bufferedRenderer=f=false}if(f&&!f.isBufferedRenderer){f={xclass:"Ext.grid.plugin.BufferedRenderer"};Ext.copy(f,g,"variableRowHeight,numFromEdge,trailingBufferZone,leadingBufferZone,scrollToLoadBuffer",true);g.bufferedRenderer=g.addPlugin(f)}e=g.ariaRenderAttributes||(g.ariaRenderAttributes={});e["aria-readonly"]=!g.isEditable;e["aria-multiselectable"]=g.selModel.selectionMode!=="SINGLE"}Ext.panel.Panel.prototype.beforeRender.apply(this,arguments)},beforeLayout:function(){var c=this.mixins.lockable;if(c){c.beforeLayout.call(this)}Ext.panel.Panel.prototype.beforeLayout.call(this)},afterLayout:function(e){var d=this.mixins.lockable;if(d){d.syncLockableLayout.call(this,e)}Ext.panel.Panel.prototype.afterLayout.call(this,e)},onHide:function(f,e,g){this.getView().onOwnerGridHide();Ext.panel.Panel.prototype.onHide.call(this,f,e,g)},onShow:function(){Ext.panel.Panel.prototype.onShow.call(this);this.getView().onOwnerGridShow()},getHeaderContainer:function(){return this.getView().getHeaderCt()},getColumns:function(){return this.getColumnManager().getColumns()},getVisibleColumns:function(){return this.getVisibleColumnManager().getColumns()},getScrollable:function(){return this.scrollable||this.view.getScrollable()},focus:function(){this.getView().focus()},disableColumnHeaders:function(){this.headerCt.disable()},enableColumnHeaders:function(){this.headerCt.enable()},hasLockedColumns:function(j){var k,f,g;if(j.isRootHeader){j=j.items.items}else{if(Ext.isObject(j)){j=j.items}}for(k=0,f=j.length;k<f;k++){g=j[k];if(!g.processed&&g.locked){return true}}},relayHeaderCtEvents:function(c){this.relayEvents(c,["columnresize","columnmove","columnhide","columnshow","columnschanged","sortchange","headerclick","headercontextmenu","headertriggerclick"])},getState:function(){var g=this,f=Ext.panel.Panel.prototype.getState.call(this),e=g.store.getState();f=g.addPropertyToState(f,"columns",g.headerCt.getColumnsState());if(e){f.storeState=e}return f},applyState:function(l){var m=this,k=l.sort,j=l.storeState,o=m.store,n=l.columns=m.buildColumnHash(l.columns);Ext.panel.Panel.prototype.applyState.apply(this,arguments);if(n){m.headerCt.applyColumnsState(n,j)}if(k){if(o.getRemoteSort()){o.sort({property:k.property,direction:k.direction,root:k.root},null,false)}else{o.sort(k.property,k.direction)}}else{if(j){o.applyState(j)}}},buildColumnHash:function(k){var m=k.length,j,l,g;if(k){g={};for(l=0,m=k.length;l<m;l++){j=k[l];j.index=l;if(j.columns){j.columns=this.buildColumnHash(j.columns)}g[j.id]=j}return g}},getStore:function(){return this.store},onViewRefresh:function(d,e){this.onItemAdd(e,0)},onItemAdd:function(x,s,A,p){var q=this,o=x.length,u=q.freeRowContexts,r=q.liveRowContexts||(q.liveRowContexts={}),y,w,v;for(w=0;w<o;w++){v=x[w];if(!r[v.internalId]){y=u&&u.shift();if(!y){y=new Ext.grid.RowContext({ownerGrid:q})}q.liveRowContexts[v.internalId]=y;y.setRecord(v,s++)}}},onItemRemove:function(w,s,A,o){var p=this,u=p.freeRowContexts||(p.freeRowContexts=[]),q=p.liveRowContexts,r=A.length,v,x,y;for(v=0;v<r;v++){x=A[v].getAttribute("data-recordId");y=q[x];if(y){y.free();u.push(y);delete q[x]}}},createManagedWidget:function(e,f,g){return this.liveRowContexts[g.internalId].getWidget(e,f)},destroyManagedWidgets:function(r){var o=this,m=o.liveRowContexts,s=o.freeRowContexts,l=s&&s.length,p,q,n;for(q in m){n=m[q].widgets;if(n){Ext.destroy(n[r]);delete n[r]}}for(p=0;p<l;p++){n=s[p].widgets;if(n){Ext.destroy(n[r]);delete n[r]}}},getManagedWidgets:function(m){var k=this,j=k.liveRowContexts,l,g=[];for(l in j){g.push(j[l].widgets[m])}return g},getView:function(){var j=this,f,g,k;if(!j.view){k=j.viewConfig;f=k.scroll||j.scroll;g=j.scrollable;if(g==null&&k.scrollable==null&&f!==null){if(f===true||f==="both"){g=true}else{if(f===false||f==="none"){g=false}else{if(f==="vertical"){g={x:false,y:true}}else{if(f==="horizontal"){g={x:true,y:false}}}}}}k=Ext.apply({grid:j,ownerGrid:j.ownerGrid,deferInitialRefresh:j.deferRowRender,variableRowHeight:j.variableRowHeight,preserveScrollOnRefresh:true,trackOver:j.trackMouseOver!==false,throttledUpdate:j.throttledUpdate===true,xtype:j.viewType,store:j.store,headerCt:j.headerCt,columnLines:j.columnLines,rowLines:j.rowLines,navigationModel:"grid",features:j.features,panel:j,emptyText:j.emptyText||""},j.viewConfig);if(!("scrollable" in k||"scroll" in k||"autoScroll" in k)&&g!=null){k.scrollable=g}Ext.create(k);if(j.view.emptyText){j.view.emptyText='<div class="'+j.emptyCls+'">'+j.view.emptyText+"</div>"}j.view.getComponentLayout().headerCt=j.headerCt;j.mon(j.view,{uievent:j.processEvent,scope:j});j.headerCt.view=j.view;if(j.hasListeners.viewcreated){j.fireEvent("viewcreated",j,j.view)}}return j.view},getEmptyText:function(){return this.view.emptyText},setEmptyText:function(c){this.emptyText=c;this.view.setEmptyText('<div class="'+this.emptyCls+'">'+c+"</div>");return this},getColumnManager:function(){return this.columnManager},getVisibleColumnManager:function(){return this.visibleColumnManager},getTopLevelColumnManager:function(){return this.ownerGrid.getColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},setAutoScroll:Ext.emptyFn,applyScrollable:function(e){var d=this.view;d=d&&(d.normalView||d);if(d){d.setScrollable(e)}return e},processEvent:function(q,o,n,v,p,r,s,e){var u=r.position.column;if(u){return u.processEvent.apply(u,arguments)}},ensureVisible:function(d,e){this.doEnsureVisible(d,e)},scrollByDeltaY:function(e,d){this.getView().scrollBy(null,e,d)},scrollByDeltaX:function(e,d){this.getView().scrollBy(e,null,d)},afterCollapse:function(){this.saveScrollPos();Ext.panel.Panel.prototype.afterCollapse.apply(this,arguments)},afterExpand:function(){Ext.panel.Panel.prototype.afterExpand.apply(this,arguments);this.restoreScrollPos()},saveScrollPos:Ext.emptyFn,restoreScrollPos:Ext.emptyFn,onHeaderResize:Ext.emptyFn,onHeaderMove:function(l,k,j,o,m){var n=this;if(n.optimizedColumnMove===false){n.view.refreshView()}else{n.view.moveColumn(o,m,j)}n.delayScroll()},onHeaderHide:function(g,f){var e=this.view;if(!g.childHideCount&&e.refreshCounter){e.refreshView()}},onHeaderShow:function(g,f){var e=this.view;if(e.refreshCounter){e.refreshView()}},onHeadersChanged:function(g,f){var e=this;if(e.rendered&&!e.reconfiguring){e.view.refreshView();e.delayScroll()}},delayScroll:function(){var c=this.view;if(c){this.scrollTask.delay(10,null,null,[c])}},onViewReady:function(){this.fireEvent("viewready",this)},onRestoreHorzScroll:function(){var e=this,d=e.scrollXPos;if(d){e.syncHorizontalScroll(e,true)}},getScrollerOwner:function(){var c=this;if(!this.scrollerOwner){c=this.up("[scrollerOwner]")}return c},getLhsMarker:function(){var c=this;return c.lhsMarker||(c.lhsMarker=Ext.DomHelper.append(c.el,{role:"presentation",cls:c.resizeMarkerCls},true))},getRhsMarker:function(){var c=this;return c.rhsMarker||(c.rhsMarker=Ext.DomHelper.append(c.el,{role:"presentation",cls:c.resizeMarkerCls},true))},getSelection:function(){return this.getSelectionModel().getSelection()},updateSelection:function(e){var g=this,f;if(!g.ignoreNextSelection){g.ignoreNextSelection=true;f=g.getSelectionModel();if(e){f.select(e)}else{f.deselectAll()}g.ignoreNextSelection=false}},updateBindSelection:function(f,j){var g=this,k=null;if(!g.ignoreNextSelection){g.ignoreNextSelection=true;if(j.length){k=f.getLastSelected();g.hasHadSelection=true}if(g.hasHadSelection){g.setSelection(k)}g.ignoreNextSelection=false}},updateFocused:function(c){this.getNavigationModel().setPosition(c)},updateHeaderBorders:function(c){this[c?"removeCls":"addCls"](this.noHeaderBordersCls)},getNavigationModel:function(){return this.getView().getNavigationModel()},getSelectionModel:function(){return this.getView().getSelectionModel()},getScrollTarget:function(){var c=this.getScrollerOwner().query("tableview");return c[c.length-1]},syncHorizontalScroll:function(j,l){var k=this,g=k.view.getScrollX(),m;l=l===true;if(k.rendered&&(l||g!==k.scrollXPos)){if(l){m=k.getScrollTarget();m.setScrollX(g)}k.headerCt.setScrollX(g);k.scrollXPos=g}},onStoreLoad:Ext.emptyFn,getEditorParent:function(){return this.body},bindStore:function(m,l){var k=this,g=k.getView(),j=k.getStore();if(m){k.store=m;if(g.store!==m){g.bindStore(m,false)}k.mon(m,{load:k.onStoreLoad,scope:k});k.storeRelayers=k.relayEvents(m,["filterchange","groupchange"]);if(!k.reconfiguring&&k.hasListeners.storechange&&m!==j){k.fireEvent("storechange",k,m,j)}}else{k.unbindStore()}},unbindStore:function(){var f=this,g=f.store,e;if(g){g.trackStateChanges=false;f.store=null;f.mun(g,{load:f.onStoreLoad,scope:f});Ext.destroy(f.storeRelayers);e=f.view;if(e.store){e.bindStore(null)}if(!f.reconfiguring&&f.hasListeners.storechange){f.fireEvent("storechange",f,null,g)}}},setColumns:function(c){if(c.length||this.getColumnManager().getColumns().length){this.reconfigure(undefined,c)}},setStore:function(d){var e=this;e.reconfigure(d,undefined,true);if(e.isVisible(true)){if(d&&e.autoLoad&&!d.isEmptyStore&&!(d.loading||d.isLoaded())){d.load()}}else{if(!e.globalShowListener){e.globalShowListener=Ext.GlobalEvents.on({show:e.onGlobalShow,scope:e,destroyable:true})}}},onGlobalShow:function(g){var f=this,e=f.store;if(g===f||(g.isAncestor(f)&&f.isVisible(true))){if(e&&f.autoLoad&&!e.isEmptyStore&&!(e.loading||e.isLoaded())){e.load()}Ext.destroy(f.globalShowListener)}},reconfigure:function(r,D,y){var v=this,G=v.store,E=v.headerCt,s=v.lockable,B=E?E.items.getRange():v.columns,u=v.getView(),C,w,F,A,x;if(arguments.length===1&&Ext.isArray(r)){D=r;r=null}if(D){D=Ext.Array.slice(D)}v.reconfiguring=true;if(r){r=Ext.StoreManager.lookup(r);F=r&&r!==G}else{if(y){r=Ext.StoreManager.lookup("ext-empty-store");F=r!==G}}v.fireEvent("beforereconfigure",v,r,D,G,B);Ext.suspendLayouts();if(s){v.reconfigureLockable(r,D,y)}else{C=u.blockRefresh;u.blockRefresh=true;x=u.saveFocusState();if(F){v.unbindStore();v.bindStore(r)}if(D){delete v.scrollXPos;E.removeAll();E.add(D);A=true}E.onOwnerGridReconfigure(F,A);w=u.refreshCounter}Ext.resumeLayouts(true);v.reconfiguring=false;if(s){v.afterReconfigureLockable()}else{u.blockRefresh=C;if(u.refreshCounter===w){u.refreshView();x()}}v.fireEvent("reconfigure",v,r,D,G,B);delete v.reconfiguring;if(F){v.fireEvent("storechange",v,r,G)}},doDestroy:function(){var e=this,d=e.scrollTask;if(e.lockable){e.destroyLockable()}if(d){d.cancel()}Ext.destroy(e.plugins,e.focusEnterLeaveListeners,e.freeRowContexts,Ext.Object.getValues(e.liveRowContexts));Ext.panel.Panel.prototype.doDestroy.call(this);e.unbindStore()},privates:{initFocusableElement:function(){},doEnsureVisible:function(C,r){if(this.lockable){return this.ensureLockedVisible(C,r)}if(typeof C!=="number"&&!C.isEntity){C=this.store.getById(C)}var B=this,y=B.getView(),D=y.getNode(C),v,u,G,F,x,s,A,E,w;if(r){v=r.callback;u=r.scope;G=r.animate;F=r.highlight;x=r.select;s=r.focus;E=r.column}if(B.deferredEnsureVisible){B.deferredEnsureVisible.destroy()}if(!y.componentLayoutCounter){B.deferredEnsureVisible=y.on({resize:B.doEnsureVisible,args:Ext.Array.slice(arguments),scope:B,single:true,destroyable:true});return}if(typeof E==="number"){E=B.ownerGrid.getVisibleColumnManager().getColumns()[E]}if(D){A=y.getScrollable();if(E){w=Ext.fly(D).selectNode(E.getCellSelector())}if(A){A.scrollIntoView(w||D,!!E,G,F)}if(!C.isEntity){C=y.getRecord(D)}if(x){y.getSelectionModel().select(C)}if(s){y.getNavigationModel().setPosition(C,0)}Ext.callback(v,u||B,[true,C,D])}else{if(y.bufferedRenderer){y.bufferedRenderer.scrollTo(C,{animate:G,highlight:F,select:x,focus:s,column:E,callback:function(b,d,c){Ext.callback(v,u||B,[true,d,c])}})}else{Ext.callback(v,u||B,[false,null])}}},getFocusEl:function(){return this.getView().getFocusEl()},setActionableMode:function(g,e){var f=this.ownerGrid;if(!f.destroying&&f.view.setActionableMode(g,e)!==false){f.fireEvent("actionablemodechange",g);f[g?"addCls":"removeCls"](f.actionableModeCls);return true}},getOverflowStyle:function(){this.scrollFlags=this._scrollFlags["false"]["false"];return{overflowX:"hidden",overflowY:"hidden"}},getOverflowEl:function(){return null}}},1,["tablepanel"],["component","box","container","panel","tablepanel"],{component:true,box:true,container:true,panel:true,tablepanel:true},["widget.tablepanel"],0,[Ext.panel,"Table"],0));Ext.define("Ext.theme.neptune.panel.Table",{override:"Ext.panel.Table",lockableBodyBorder:true,initComponent:function(){var c=this;(arguments.callee.$previous||Ext.panel.Panel.prototype.initComponent).call(this);if(!c.hasOwnProperty("bodyBorder")&&!c.hideHeaders&&(c.lockableBodyBorder||!c.lockable)){c.bodyBorder=true}}});(Ext.cmd.derive("Ext.grid.ColumnLayout",Ext.layout.container.HBox,{type:"gridcolumn",firstHeaderCls:"x-column-header-first",lastHeaderCls:"x-column-header-last",initLayout:function(){Ext.layout.container.HBox.prototype.initLayout.call(this);if(this.scrollbarWidth===undefined){this.self.prototype.scrollbarWidth=Ext.getScrollbarSize().width}},beginLayout:function(v){var p=this,x=p.owner,u=p.firstHeaderCls,n=p.lastHeaderCls,w=[u,n],q=p.getVisibleItems(),r=q.length,s,o;Ext.layout.container.HBox.prototype.beginLayout.call(this,v);for(s=0;s<r;s++){o=q[s];if(r===1){o.addCls(w)}else{if(s===0){o.addCls(u);o.removeCls(n)}else{if(s===r-1){o.removeCls(u);o.addCls(n)}else{o.removeCls(w)}}}}p.scrollbarWidth=0;if(x.isRootHeader&&!x.grid.isLocked){p.determineScrollbarWidth(v)}if(!p.scrollbarWidth){v.manageScrollbar=false}},moveItemBefore:function(k,g){var f=k.ownerCt,j=g&&g.nextSibling();if(k!==g&&f){f.remove(k,{destroy:false,detach:false});if(g&&g.destroyed){g=j}}return Ext.layout.container.HBox.prototype.moveItemBefore.call(this,k,g)},determineScrollbarWidth:function(l){var n=this,k=n.owner,o=k.grid,q=o.reserveScrollbar,m=o.view.getScrollable(),p=!q&&m&&m.getY();l.manageScrollbar=p;if(!o.ownerGrid.collapsed&&(q||p)){delete n.scrollbarWidth}},calculate:function(E){var s=this,F=s.owner,I=F.grid,x=E.viewContext,H=E.state,G=E.context,y,w,B,u,v,C,A,D;Ext.layout.container.HBox.prototype.calculate.call(this,E);if(I&&F.isRootHeader&&H.parallelDone){y=x.lockingPartnerContext;if(I.forceFit&&!H.reflexed){if(s.convertWidthsToFlexes(E)){s.cacheFlexes(E);s.done=false;E.invalidate({state:{reflexed:true,scrollbarAdjustment:s.getScrollbarAdjustment(E)}});return}}if((w=H.columnsChanged)===undefined){B=E.target.getVisibleGridColumns();w=false;for(v=0,u=B.length;v<u;v++){C=G.getCmp(B[v]);if(!C.lastBox||C.props.width!==C.lastBox.width){(w||(w=[]))[v]=C}}H.columnsChanged=w;E.setProp("columnsChanged",w)}if(E.manageScrollbar){A=s.getScrollbarAdjustment(E);if(A){D=x.getProp("viewOverflowY");if(D===undefined){s.done=false;return}if(!D){if(y){y.invalidate();y.headerContext.invalidate()}x.invalidate();E.invalidate({state:{scrollbarAdjustment:0}})}}}}},finishedLayout:function(c){Ext.layout.container.HBox.prototype.finishedLayout.call(this,c);if(this.owner.ariaRole==="rowgroup"){this.innerCt.dom.setAttribute("role","row")}c.props.columnsChanged=null},convertWidthsToFlexes:function(v){var p=this,r=0,o=p.sizeModels.calculated,s,q,u,m,n;s=v.childItems;q=s.length;for(u=0;u<q;u++){m=s[u];n=m.target;r+=m.props.width;if(!(n.fixed||n.resizable===false)){n.flex=v.childItems[u].flex=m.props.width;n.width=null;m.widthModel=o}}return r!==v.props.width},getScrollbarAdjustment:function(k){var m=this,l=k.state,g=m.owner.grid,j=l.scrollbarAdjustment;if(j===undefined){j=0;if(g.reserveScrollbar||(k.manageScrollbar&&!g.ownerGrid.getSizeModel().height.shrinkWrap)){j=m.scrollbarWidth}l.scrollbarAdjustment=j}return j},getContainerSize:function(w){var s=this,r,p,q,v,u,x,o,n;if(s.owner.isRootHeader){n=Ext.layout.container.HBox.prototype.getContainerSize.call(this,w);if(n.gotWidth){n.width-=s.getScrollbarAdjustment(w)}}else{q=w.paddingContext.getPaddingInfo();r=p=0;if(!w.widthModel.shrinkWrap){++p;x=w.getProp("innerWidth");v=(typeof x==="number");if(v){++r;x-=q.width;if(x<0){x=0}}}if(!w.heightModel.shrinkWrap){++p;o=w.getProp("innerHeight");u=(typeof o==="number");if(u){++r;o-=q.height;if(o<0){o=0}}}return{width:x,height:o,needed:p,got:r,gotAll:r===p,gotWidth:v,gotHeight:u}}return n},publishInnerCtSize:function(j){var k=this,g=k.owner,m=j.peek("contentWidth"),l=0;if(m!=null&&g.isRootHeader){l=-j.state.scrollbarAdjustment}return Ext.layout.container.HBox.prototype.publishInnerCtSize.call(this,j,l)}},0,0,0,0,["layout.gridcolumn"],0,[Ext.grid,"ColumnLayout"],0));(Ext.cmd.derive("Ext.grid.ColumnManager",Ext.Base,{alternateClassName:["Ext.grid.ColumnModel"],columns:null,constructor:function(g,f,e){this.headerCt=f;if(e){this.secondHeaderCt=e}this.visibleOnly=!!g},getColumns:function(){if(!this.columns){this.cacheColumns()}return this.columns},hasVariableRowHeight:function(){var g=this,j=g.getColumns(),f=j.length,k;if(g.variableRowHeight==null){g.variableRowHeight=false;for(k=0;!g.variableRowHeight&&k<f;k++){g.variableRowHeight=!!j[k].variableRowHeight}}return g.variableRowHeight},getHeaderIndex:function(c){if(c.isGroupHeader){c=this.getHeaderColumns(c)[0]}return Ext.Array.indexOf(this.getColumns(),c)},getHeaderAtIndex:function(g){var f=this.getColumns(),e=f[g];return e||null},getPreviousSibling:function(f){var g=this.getHeaderIndex(f),e=null;if(g>0){e=this.getColumns()[g-1]}return e},getNextSibling:function(f){var g=this.getHeaderIndex(f),e;if(g!==-1){e=this.getColumns()[g+1]}return e||null},getFirst:function(){var c=this.getColumns();return c.length>0?c[0]:null},getLast:function(){var e=this.getColumns(),d=e.length;return d>0?e[d-1]:null},getHeaderByDataIndex:function(k){var l=this.getColumns(),g=l.length,m,j;if(Ext.isEmpty(k)){return null}for(m=0;m<g;++m){j=l[m];if(j.dataIndex===k){return j}}return null},getHeaderById:function(j){var l=this.getColumns(),g=l.length,m,k;for(m=0;m<g;++m){k=l[m];if(k.getItemId()===j){return k}}return null},getVisibleHeaderClosestToIndex:function(e){var d=this.getHeaderAtIndex(e);if(d&&d.hidden){d=d.next(":not([hidden])")||d.prev(":not([hidden])")}return d},cacheColumns:function(){var e=this.getHeaderColumns(this.headerCt),d=this.secondHeaderCt;if(d){e=e.concat(this.getHeaderColumns(d))}this.columns=e},getHeaderColumns:function(e){var d=this.visibleOnly?e.getVisibleGridColumns():e.getGridColumns();return Ext.Array.clone(d)},invalidate:function(){var c=this.rootColumns;this.columns=this.variableRowHeight=null;if(c){c.invalidate()}},destroy:function(){this.columns=this.rootColumns=null;this.callParent()}},1,0,0,0,0,0,[Ext.grid,"ColumnManager",Ext.grid,"ColumnModel"],function(){this.createAlias("indexOf","getHeaderIndex")}));(Ext.cmd.derive("Ext.grid.NavigationModel",Ext.view.NavigationModel,{focusCls:"x-grid-item-focused",getViewListeners:function(){var c=this;return{focusmove:{element:"el",fn:c.onFocusMove},containermousedown:c.onContainerMouseDown,cellmousedown:c.onCellMouseDown,cellclick:c.onCellClick,itemmousedown:c.onItemMouseDown,itemclick:c.onItemClick,itemcontextmenu:c.onItemClick,scope:c}},initKeyNav:function(e){var g=this,f;if(!g.keyNav){g.keyNav=[];g.position=new Ext.grid.CellContext(e)}f=new Ext.util.KeyNav({target:e,ignoreInputFields:true,eventName:Ext.supports.SpecialKeyDownRepeat?"itemkeydown":"itemkeypress",defaultEventAction:"stopEvent",processEvent:g.processViewEvent,up:g.onKeyUp,down:g.onKeyDown,right:g.onKeyRight,left:g.onKeyLeft,pageDown:g.onKeyPageDown,pageUp:g.onKeyPageUp,home:g.onKeyHome,end:g.onKeyEnd,space:g.onKeySpace,enter:g.onKeyEnter,esc:g.onKeyEsc,113:g.onKeyF2,tab:g.onKeyTab,A:{ctrl:true,handler:g.onSelectAllKeyPress},scope:g});g.keyNav.push(f);g.onKeyNavCreate(f)},onKeyNavCreate:Ext.emptyFn,addKeyBindings:function(f){var e=this.keyNav.length,g;for(g=0;g<e;g++){this.keyNav[g].addBindings(f)}},enable:function(){var d=this.keyNav.length,e;for(e=0;e<d;e++){this.keyNav[e].enable()}this.disabled=false},disable:function(){var d=this.keyNav.length,e;for(e=0;e<d;e++){this.keyNav[e].disable()}this.disabled=true},processViewEvent:function(o,j,k,n,l){var m=l.getKey();if(o.actionableMode){this.map.ignoreInputFields=false;if(m===l.TAB||m===l.ESC||m===l.F2){return l}}else{this.map.ignoreInputFields=true;return m===l.TAB?null:l}},onCellMouseDown:function(s,r,u,w,o,x,y){var A=Ext.Component.fromElement(y.target,r),q=y.getTarget(null,null,true),v=q.isFocusable()&&!q.is(s.getCellSelector()),p;if(s.actionableMode){if(!v){v=(p=Ext.ComponentManager.getActiveComponent())&&p!==s&&p.owns(y)}if(v){s.setActionableMode(true,y.position)}else{s.setActionableMode(false,y.position)}return}if(y.pointerType!=="touch"){if(y.position.column.cellFocusable!==false){if(v){if(!s.containsFocus){s.containsFocus=true;s.toggleChildrenTabbability(false)}s.setActionableMode(true,y.position)}else{r.focus()}if(y.button===2){this.fireNavigateEvent(y)}}else{y.preventDefault(true)}if(A&&A.isFocusable&&A.isFocusable()){s.setActionableMode(true,y.position);A.focus()}}},onCellClick:function(r,q,s,v,n,w,p){var u=this,x=Ext.Component.fromElement(p.target,q),o=x&&x.isFocusable&&x.isFocusable();if(!Ext.isIE10m&&!r.el.contains(Ext.Element.getActiveElement())&&p.pointerType!=="touch"){return}if(r.actionableMode){if(!p.position.isEqual(r.actionPosition)){if(!o){r.setActionableMode(false,p.position)}}u.fireEvent("navigate",{view:r,navigationModel:u,keyEvent:p,previousPosition:u.previousPosition,previousRecordIndex:u.previousRecordIndex,previousRecord:u.previousRecord,previousItem:u.previousItem,previousCell:u.previousCell,previousColumnIndex:u.previousColumnIndex,previousColumn:u.previousColumn,position:p.position,recordIndex:p.position.rowIdx,record:p.position.record,selectionStart:u.selectionStart,item:p.item,cell:p.position.cellElement,columnIndex:p.position.colIdx,column:p.position.column})}else{if(u.position.isEqual(p.position)||o){if(Ext.isIE10m&&!u.record){return}u.fireNavigateEvent(p)}else{if(p.position.column.cellFocusable!==false){u.setPosition(p.position,null,p)}else{p.preventDefault()}}}},onFocusMove:function(l){var o=Ext.Component.fromElement(l.delegatedTarget,null,"tableview"),e=l.target,p=Ext.fly(e).is(o.cellSelector),q,m,n;if(o){if(!o.actionableMode&&p){q=o.getRecord(e);m=o.getHeaderByCell(e);if(q&&m){n=new Ext.grid.CellContext(o).setPosition(q,m);if(!n.isEqual(this.position)){this.setPosition(n)}}}else{if((o.actionableMode||o.activating)&&!p&&o.el.contains(l.target)&&o.el.dom!==l.target){o.ownerGrid.fireEvent("cellactivate",o.ownerGrid,o.actionPosition)}}}},onItemMouseDown:function(o,j,k,m,n){var l=this;if(!n.position.cellElement&&(n.pointerType!=="touch")){n.preventDefault();l.getClosestCell(n);if(!l.position.isEqual(n.position)){l.setPosition(n.position,null,n)}o.getScrollable().restoreState()}},onItemClick:function(l,m,j,k,g){if(!g.position.cellElement){this.getClosestCell(g);if(g.pointerType==="touch"){this.setPosition(g.position,null,g)}this.fireNavigateEvent(g)}},getClosestCell:function(v){var p=v.position,u=p.cellElement,b,r,o,q,s,n;if(!u){b=v.getX();r=p.view.getVisibleColumnManager().getColumns();o=r.length;for(q=0;q<o;q++){s=r[q];n=r[q].getBox();if(b>=n.left&&b<n.right){p.setColumn(r[q]);p.rowElement=p.getRow(true);p.cellElement=p.getCell(true);return}}}},deferSetPosition:function(p,q,o,m,k,l){var n=this.view.getFocusTask();n.delay(p,this.setPosition,this,[q,o,m,k,l]);return n},setPosition:function(M,y,C,L,E){var x=this,w=M==null&&y==null,D=x.record==null&&x.recordIndex==null&&x.item==null,G,B,F,A,K,H,N,J,I,O;if(M&&M.isCellContext){G=M.view}else{if(C&&C.view){G=C.view}else{if(x.lastFocused){G=x.lastFocused.view}else{G=x.view}}}G.getFocusTask().cancel();if(G.destroyed||!G.refreshCounter||!G.ownerCt||w&&D||!G.all.getCount()){return}F=G.getSelectionModel();A=G.dataSource;K=G.getVisibleColumnManager();O=K.getColumns();if(M&&M.isCellContext){J=M.record;H=M.rowIdx;N=Math.min(M.colIdx,O.length-1);I=O[N];if(A.indexOf(J)===-1){B=G.getScrollable();x.recordIndex=-1;if(B&&(B.getPosition().y>=B.getMaxPosition().y-G.all.last(true).offsetHeight)){M.rowIdx--}H=Math.min(M.rowIdx,A.getCount()-1);J=A.getAt(H)}}else{if(w){J=H=null}else{if(y==null){y=x.lastFocused?x.lastFocused.column:0}if(typeof M==="number"){H=Math.max(Math.min(M,A.getCount()-1),0);J=A.getAt(M)}else{if(M.isEntity){J=M;H=A.indexOf(J)}else{if(M.tagName){J=G.getRecord(M);H=A.indexOf(J);if(H===-1){J=null}}else{if(D){return}w=true;J=H=null}}}}if(J){if(H===-1){x.recordIndex=-1;J=A.getAt(0);H=0;y=null}if(y==null){if(!(I=x.column)){N=0;I=O[0]}}else{if(typeof y==="number"){I=O[y];N=y}else{I=y;N=K.indexOf(y)}}}else{w=true;I=N=null}}if(I&&K.indexOf(I)===-1){if(N===-1){N=0}else{N=Math.min(N,O.length-1)}I=O[N]}if(G.actionableMode&&!w){return G.ownerGrid.setActionableMode(false,new Ext.grid.CellContext(G).setPosition(J,I))}if(H===x.recordIndex&&N===x.columnIndex&&G===x.position.view){return x.focusPosition(x.position)}if(x.cell){x.cell.removeCls(x.focusCls)}x.previousRecordIndex=x.recordIndex;x.previousRecord=x.record;x.previousItem=x.item;x.previousCell=x.cell;x.previousColumn=x.column;x.previousColumnIndex=x.columnIndex;x.previousPosition=x.position.clone();x.selectionStart=F.selectionStart;x.position.setAll(G,x.recordIndex=H,x.columnIndex=N,x.record=J,x.column=I);if(w){x.item=x.cell=null}else{x.focusPosition(x.position,E)}if(!L){F.fireEvent("focuschange",F,x.previousRecord,x.record);G.fireEvent("rowfocus",x.record,x.item,x.recordIndex);G.fireEvent("cellfocus",x.record,x.cell,x.position)}if(C&&!E&&x.cell!==x.previousCell){x.fireNavigateEvent(C)}},focusPosition:function(m){var k=this,l,j,g;k.item=k.cell=null;if(m&&m.record&&m.column){l=m.view;if(m.rowElement){j=k.item=m.rowElement}else{j=l.getRowByRecord(m.record)}if(j){k.cell=m.cellElement||Ext.fly(j).down(m.column.getCellSelector(),true);if(k.cell){k.cell=new Ext.dom.Fly(k.cell);l.lastFocused=k.lastFocused=k.position.clone();g=l.getScrollable();if(g){g.scrollIntoView(k.cell)}k.focusItem(k.cell);l.focusEl=k.cell}else{k.position.setAll();k.record=k.column=k.recordIndex=k.columnIndex=null}}else{j=l.dataSource.indexOf(m.record);k.position.setAll();k.record=k.column=k.recordIndex=k.columnIndex=null;if(j!==-1&&l.bufferedRenderer){k.lastKeyEvent=null;l.bufferedRenderer.scrollTo(j,false,k.afterBufferedScrollTo,k)}}}},focusItem:function(c){c.addCls(this.focusCls);c.focus()},getCell:function(){return this.cell},getPosition:function(n){var l=this,j=l.position,m,o,k;if(j.record&&j.column){if(n){return j}o=j.view;k=o.dataSource;m=k.indexOf(j.record);if(m===-1){m=j.rowIdx;if(!(j.record=k.getAt(m))){m=-1}}if(m===-1||o.getVisibleColumnManager().indexOf(j.column)===-1){j.setAll();l.record=l.column=l.recordIndex=l.columnIndex=null}else{return j}}return null},getLastFocused:function(){var f=this,e,g=f.lastFocused;if(g&&g.record&&g.column){e=g.view;if(e.dataSource.indexOf(g.record)!==-1&&e.getVisibleColumnManager().indexOf(g.column)!==-1){return g}}},onKeyTab:function(k){var l=!k.shiftKey,n=k.position.view,m,o,j;m=n.findFocusPosition(k.target,k.position,l,k);o=m.target;j=m.position;if(o){this.actionPosition=j.view.actionPosition=j;Ext.fly(o).focus()}else{n.onRowExit(k,k.item,k.item[l?"nextSibling":"previousSibling"],l)}k.preventDefault()},onKeyUp:function(g){var e=g.view.walkRecs(g.record,-1),f=this.getPosition();if(e){f.setRow(e);if(!f.getCell(true)){f.navigate(-1)}this.setPosition(f,null,g)}},onKeyDown:function(g){var e=g.record.isExpandingOrCollapsing?null:g.view.walkRecs(g.record,1),f=this.getPosition();if(e){f.setRow(e);if(!f.getCell(true)){f.navigate(-1)}this.setPosition(f,null,g)}},onKeyRight:function(e){var d=this.move("right",e);if(d){this.setPosition(d,null,e)}},onKeyLeft:function(e){var d=this.move("left",e);if(d){this.setPosition(d,null,e)}},onKeyEnter:function(g){var e=["cellclick",g.view,g.position.cellElement,g.position.colIdx,g.record,g.position.rowElement,g.recordIndex,g],f=g.position.getCell();if(f){if(!f.query('[tabIndex="-1"]').length){g.stopEvent();g.view.fireEvent.apply(g.view,e);e[0]="celldblclick";g.view.fireEvent.apply(g.view,e)}if(!this.view.actionableMode){this.view.ownerGrid.setActionableMode(true,this.getPosition())}}},onKeyF2:function(g){var e=this.view.ownerGrid,f=e.actionableMode;e.setActionableMode(!f,f?null:this.getPosition())},onKeyEsc:function(e){var d=this.view.ownerGrid;if(d.actionableMode){d.setActionableMode(false)}else{return true}},move:function(l,j){var k=this,m=k.getPosition(),g=m;if(m&&m.record){while(g){g=m.view.walkCells(g,l,j.shiftKey&&(l==="right"||l==="left")?k.vetoRowChange:null,k);if(g&&g.column.cellFocusable!==false){return g}}}},vetoRowChange:function(c){return this.getPosition().record===c.record},onKeyPageDown:function(l){var m=this,j=l.view,k=m.getRowsVisible(),n,o;if(k){if(j.bufferedRenderer){n=Math.min(l.recordIndex+k,j.dataSource.getCount()-1);m.lastKeyEvent=l;j.bufferedRenderer.scrollTo(n,false,m.afterBufferedScrollTo,m)}else{o=j.walkRecs(l.record,k);m.setPosition(o,null,l)}}},onKeyPageUp:function(l){var m=this,j=l.view,k=m.getRowsVisible(),n,o;if(k){if(j.bufferedRenderer){n=Math.max(l.recordIndex-k,0);m.lastKeyEvent=l;j.bufferedRenderer.scrollTo(n,false,m.afterBufferedScrollTo,m)}else{o=j.walkRecs(l.record,-k);m.setPosition(o,null,l)}}},onKeyHome:function(f){var g=this,e=f.view;if(f.altKey){if(e.bufferedRenderer){g.lastKeyEvent=f;e.bufferedRenderer.scrollTo(0,false,g.afterBufferedScrollTo,g)}else{g.setPosition(e.walkRecs(f.record,-e.dataSource.indexOf(f.record)),null,f)}}else{g.setPosition(f.record,0,f)}},afterBufferedScrollTo:function(e,d){this.setPosition(d,null,this.lastKeyEvent,null,!this.lastKeyEvent)},onKeyEnd:function(f){var g=this,e=f.view;if(f.altKey){if(e.bufferedRenderer){g.lastKeyEvent=f;e.bufferedRenderer.scrollTo(e.store.getCount()-1,false,g.afterBufferedScrollTo,g)}else{g.setPosition(e.walkRecs(f.record,e.dataSource.getCount()-1-e.dataSource.indexOf(f.record)),null,f)}}else{g.setPosition(f.record,f.view.getVisibleColumnManager().getColumns().length-1,f)}},getRowsVisible:function(){var j=false,g=this.view,k=g.all.first(),m,l;if(k){m=k.getHeight();l=g.el.getHeight();j=Math.floor(l/m)}return j},fireNavigateEvent:function(e){var d=this;d.fireEvent("navigate",{view:d.position.view,navigationModel:d,keyEvent:e||new Ext.event.Event({}),previousPosition:d.previousPosition,previousRecordIndex:d.previousRecordIndex,previousRecord:d.previousRecord,previousItem:d.previousItem,previousCell:d.previousCell,previousColumnIndex:d.previousColumnIndex,previousColumn:d.previousColumn,position:d.position,recordIndex:d.recordIndex,record:d.record,selectionStart:d.selectionStart,item:d.item,cell:d.cell,columnIndex:d.columnIndex,column:d.column})}},0,0,0,0,["view.navigation.grid"],0,[Ext.grid,"NavigationModel"],0));(Ext.cmd.derive("Ext.view.TableLayout",Ext.layout.component.Auto,{type:"tableview",beginLayout:function(n){var p=this,l=p.owner,o=l.ownerGrid,q=l.lockingPartner,r=n.lockingPartnerContext,m=q&&q.grid.isVisible()&&!q.grid.collapsed,s=n.context;n.doSyncRowHeights=m&&(o.syncRowHeight||o.syncRowHeightOnNextLayout);if(!p.columnFlusherId){p.columnFlusherId=p.id+"-columns";p.rowHeightFlusherId=p.id+"-rows"}Ext.layout.component.Auto.prototype.beginLayout.call(this,n);if(m){if(!r&&q.componentLayout.isRunning()){(r=n.lockingPartnerContext=s.getCmp(q)).lockingPartnerContext=n;if(!r.lockingPartnerContext){r.lockingPartnerContext=n}}if(n.doSyncRowHeights){if(r&&!r.rowHeightSynchronizer){r.rowHeightSynchronizer=r.target.syncRowHeightBegin()}n.rowHeightSynchronizer=p.owner.syncRowHeightBegin()}}(n.headerContext=s.getCmp(p.headerCt)).viewContext=n},beginLayoutCycle:function(e,d){Ext.layout.component.Auto.prototype.beginLayoutCycle.call(this,e,d);if(e.syncRowHeights){e.target.syncRowHeightClear(e.rowHeightSynchronizer);e.syncRowHeights=false}},calculate:function(G){var x=this,J=G.context,E=G.lockingPartnerContext,H=G.headerContext,B=G.ownerCtContext,I=x.owner,C=H.getProp("columnsChanged"),K=G.state,w,F,M,v,A=I.body.dom,L,y,D;if(!I.all.getCount()&&(!A||!I.body.child("table"))){G.setProp("viewOverflowY",false);Ext.layout.component.Auto.prototype.calculate.call(this,G);return}if(x.calcCount===1&&x.owner.bufferedRenderer){x.owner.bufferedRenderer.beforeTableLayout(G)}if(C===undefined){x.done=false;return}if(C){if(!(w=K.columnFlusher)){J.queueFlush(K.columnFlusher=w={ownerContext:G,columnsChanged:C,layout:x,id:x.columnFlusherId,flush:x.flushColumnWidths},true)}if(!w.flushed){x.done=false;return}}if(G.doSyncRowHeights){if(!(v=K.rowHeightFlusher)){if(!(M=K.rowHeights)){K.rowHeights=M=G.rowHeightSynchronizer;x.owner.syncRowHeightMeasure(M);G.setProp("rowHeights",M)}if(!(F=E.getProp("rowHeights"))){x.done=false;return}J.queueFlush(K.rowHeightFlusher=v={ownerContext:G,synchronizer:M,otherSynchronizer:F,layout:x,id:x.rowHeightFlusherId,flush:x.flushRowHeights},true)}if(!v.flushed){x.done=false;return}}Ext.layout.component.Auto.prototype.calculate.call(this,G);if(!G.heightModel.shrinkWrap){D=false;if(!B.heightModel.shrinkWrap){y=B.target.layout.getContainerSize(B);if(!y.gotHeight){x.done=false;return}L=A.offsetHeight;D=L>y.height}G.setProp("viewOverflowY",D)}if(x.done&&Ext.getScrollbarSize().height){if(!I.lockingPartner){G.setProp("overflowX",!!G.headerContext.state.boxPlan.tooNarrow)}}},measureContentHeight:function(k){var g=this.owner,l=g.body.dom,m=g.emptyEl,j=0;if(m){j+=m.offsetHeight}if(l){j+=l.offsetHeight}if(k.headerContext.state.boxPlan.tooNarrow){j+=Ext.getScrollbarSize().height}return j},flushColumnWidths:function(){var n=this,o=n.layout,w=n.ownerContext,u=n.columnsChanged,x=w.target,p=u.length,v,r,s,q;if(w.state.columnFlusher!==n){return}for(r=0;r<p;r++){if(!(v=u[r])){continue}s=v.props.width;x.body.select(x.getColumnSizerSelector(v.target)).setWidth(s);if(v.target.onCellsResized){v.target.onCellsResized(s)}q=v.lastBox;if(q){q.width=s}}n.flushed=true;if(!o.pending){w.context.queueLayout(o)}},flushRowHeights:function(){var e=this,g=e.layout,f=e.ownerContext;if(f.state.rowHeightFlusher!==e){return}f.target.syncRowHeightFinish(e.synchronizer,e.otherSynchronizer);e.flushed=true;f.syncRowHeights=true;if(!g.pending){f.context.queueLayout(g)}},finishedLayout:function(j){var f=this,k=f.owner.ownerGrid,g=Ext.fly(f.owner.getNodeContainer());Ext.layout.component.Auto.prototype.finishedLayout.call(this,j);if(g){g.setWidth(j.headerContext.props.contentWidth)}if(f.owner.bufferedRenderer){f.owner.bufferedRenderer.afterTableLayout(j)}if(k){k.syncRowHeightOnNextLayout=false}},getLayoutItems:function(){return this.owner.getRefItems()},isValidParent:function(){return true}},0,0,0,0,["layout.tableview"],0,[Ext.view,"TableLayout"],0));(Ext.cmd.derive("Ext.grid.locking.RowSynchronizer",Ext.Base,{constructor:function(f,k){var j=this,g;j.view=f;j.rowEl=k;j.els={};j.add("data",f.rowSelector);for(g=f.rowTpl;g;g=g.nextTpl){if(g.beginRowSync){g.beginRowSync(j)}}},add:function(g,e){var f=Ext.fly(this.rowEl).down(e,true);if(f){this.els[g]={el:f}}},finish:function(r){var q=this,v=q.els,o=r.els,s,p=0,w=0,n,x,u;for(x in v){s=o[x];u=s?s.height:0;n=u-v[x].height;if(n>0){p+=n;Ext.fly(v[x].el).setHeight(u)}else{w-=n}}u=r.rowHeight+w;if(Ext.isIE9&&q.view.ownerGrid.rowLines){u--}if(q.rowHeight+p<u){Ext.fly(q.rowEl).setHeight(u)}},measure:function(){var f=this,g=f.els,e;f.rowHeight=f.rowEl.offsetHeight;for(e in g){g[e].height=g[e].el.offsetHeight}},reset:function(){var e=this.els,d;this.rowEl.style.height="";for(d in e){e[d].el.style.height=""}}},1,0,0,0,0,0,[Ext.grid.locking,"RowSynchronizer"],0));(Ext.cmd.derive("Ext.view.NodeCache",Ext.Base,{statics:{range:document.createRange&&document.createRange()},constructor:function(c){this.view=c;this.clear();this.el=new Ext.dom.Fly()},destroy:function(){var c=this;if(!c.destroyed){c.el.destroy();c.el=c.view=null;c.destroyed=true}c.callParent()},clear:function(j){var l=this,k=l.elements,g=l.statics().range,m;if(l.count&&j){if(g&&Ext.getBody().contains(k[0])){g.setStartBefore(k[l.startIndex]);g.setEndAfter(k[l.endIndex]);g.deleteContents()}else{for(m in k){Ext.removeNode(k[m])}}}l.elements={};l.count=l.startIndex=0;l.endIndex=-1},fill:function(q,l,m){m=m||0;var o=this,n=o.elements={},p,k=q.length-m;if(!l){l=0}for(p=0;p<k;p++){n[l+p]=q[p+m]}o.startIndex=l;o.endIndex=l+k-1;o.count=k;return this},insert:function(k,o){var m=this,l=m.elements,n,j=o.length;if(m.count){if(k<m.count){for(n=m.endIndex+j;n>=k+j;n--){l[n]=l[n-j];l[n].setAttribute("data-recordIndex",n)}}m.endIndex=m.endIndex+j}else{m.startIndex=k;m.endIndex=k+j-1}for(n=0;n<j;n++,k++){l[k]=o[n];l[k].setAttribute("data-recordIndex",k)}m.count+=j},invoke:function(k,g){var j=this,l,m;k=Ext.dom.Element.prototype[k];for(m=j.startIndex;m<=j.endIndex;m++){l=j.item(m);if(l){k.apply(l,g)}}return j},item:function(j,k){var g=this.elements[j],f=null;if(g){f=k?this.elements[j]:this.el.attach(this.elements[j])}return f},first:function(c){return this.item(this.startIndex,c)},last:function(c){return this.item(this.endIndex,c)},moveBlock:function(k){var m=this,l=m.elements,n,q,o,p;if(!k){return}if(k<0){p=m.startIndex-1;q=m.endIndex;o=1}else{p=m.endIndex+1;q=m.startIndex;o=-1}m.startIndex+=k;m.endIndex+=k;do{p+=o;n=l[p+k]=l[p];n.setAttribute("data-recordIndex",p+k);if(p<m.startIndex||p>m.endIndex){delete l[p]}}while(p!==q);delete l[p]},getCount:function(){return this.count},slice:function(j,m){var k=this.elements,g=[],l;if(!m){m=this.endIndex}else{m=Math.min(this.endIndex,m-1)}for(l=j||this.startIndex;l<=m;l++){g.push(k[l])}return g},replaceElement:function(k,l,g){var j=this.elements,m=(typeof k==="number")?k:this.indexOf(k);if(m>-1){l=Ext.getDom(l);if(g){k=j[m];k.parentNode.insertBefore(l,k);Ext.removeNode(k);l.setAttribute("data-recordIndex",m)}this.elements[m]=l}return this},indexOf:function(g){var f=this.elements,e;g=Ext.getDom(g);for(e=this.startIndex;e<=this.endIndex;e++){if(f[e]===g){return e}}return -1},clip:function(r,s){var m=this,v=m.elements,n=[],u,p,q,o;if(r===1){u=m.startIndex;m.startIndex+=s}else{m.endIndex-=s;u=m.endIndex+1}for(o=u,p=u+s-1;o<=p;o++){q=v[o];n.push(q);Ext.removeNode(q);delete v[o]}m.count-=s;m.view.fireItemMutationEvent("itemremove",m.view.dataSource.getRange(u,p),u,n,m.view)},removeRange:function(v,r,u){var o=this,x=o.elements,p=[],s,q,w,n;if(r==null){r=o.endIndex+1}else{r=Math.min(o.endIndex+1,r+1)}if(v==null){v=o.startIndex}w=r-v;for(q=v,n=r;q<=o.endIndex;q++,n++){s=x[q];if(q<r){p.push(s);if(u){Ext.removeNode(s)}}if(n<=o.endIndex){s=x[q]=x[n];s.setAttribute("data-recordIndex",q)}else{delete x[q]}}o.count-=w;o.endIndex-=w;return p},removeElement:function(o,x){var s=this,p,q,A=s.elements,w,v,y=0,u,r;if(Ext.isArray(o)){p=o;o=[];v=p.length;for(y=0;y<v;y++){q=p[y];if(typeof q!=="number"){q=s.indexOf(q)}if(q>=s.startIndex&&q<=s.endIndex){o[o.length]=q}}Ext.Array.sort(o);v=o.length}else{if(o<s.startIndex||o>s.endIndex){return}v=1;o=[o]}for(u=r=o[0],y=0;u<=s.endIndex;u++,r++){if(y<v&&u===o[y]){r++;y++;if(x){Ext.removeNode(A[u])}}if(r<=s.endIndex&&r>=s.startIndex){w=A[u]=A[r];w.setAttribute("data-recordIndex",u)}else{delete A[u]}}s.endIndex-=v;s.count-=v},scroll:function(C,A,K){var y=this,I=y.view,B=I.lookupViewModel(),L=I.store,H=y.elements,Q=C.length,E=I.getNodeContainer(),G=y.statics().range,D,P,O,N,J,M,F,x;if(!(C.length||K)){return}if(A===-1){if(K){F=[];x=[];M=(y.endIndex-K)+1;if(G){G.setStartBefore(H[M]);G.setEndAfter(H[y.endIndex]);G.deleteContents();for(D=M;D<=y.endIndex;D++){P=H[D];delete H[D];F.push(L.getByInternalId(P.getAttribute("data-recordId")));x.push(P)}}else{for(D=M;D<=y.endIndex;D++){P=H[D];delete H[D];Ext.removeNode(P);F.push(L.getByInternalId(P.getAttribute("data-recordId")));x.push(P)}}I.fireItemMutationEvent("itemremove",F,M,x,I);y.endIndex-=K}if(C.length){J=I.bufferRender(C,y.startIndex-=Q);N=J.children;for(D=0;D<Q;D++){H[y.startIndex+D]=N[D]}E.insertBefore(J.fragment,E.firstChild);I.fireItemMutationEvent("itemadd",C,y.startIndex,N,I)}}else{if(K){F=[];x=[];O=y.startIndex+K;if(G){G.setStartBefore(H[y.startIndex]);G.setEndAfter(H[O-1]);G.deleteContents();for(D=y.startIndex;D<O;D++){P=H[D];delete H[D];F.push(L.getByInternalId(P.getAttribute("data-recordId")));x.push(P)}}else{for(D=y.startIndex;D<O;D++){P=H[D];delete H[D];Ext.removeNode(P);F.push(L.getByInternalId(P.getAttribute("data-recordId")));x.push(P)}}I.fireItemMutationEvent("itemremove",F,y.startIndex,x,I);y.startIndex=O}J=I.bufferRender(C,y.endIndex+1);N=J.children;for(D=0;D<Q;D++){H[y.endIndex+=1]=N[D]}E.appendChild(J.fragment);I.fireItemMutationEvent("itemadd",C,y.endIndex+1,N,I)}y.count=y.endIndex-y.startIndex+1;if(B){B.notify()}return N},sumHeights:function(){var e=0,f=this.elements,g;for(g=this.startIndex;g<=this.endIndex;g++){e+=f[g].offsetHeight}return e}},1,0,0,0,0,0,[Ext.view,"NodeCache"],function(){Ext.dom.CompositeElementLite.importElementMethods.call(this)}));(Ext.cmd.derive("Ext.scroll.TableScroller",Ext.scroll.Scroller,{config:{lockingScroller:null},"private":{doScrollTo:function(f,g,j){var k;if(g!=null){k=this.getLockingScroller();if(k){k.doScrollTo(null,g,j);g=null}}this.callParent([f,g,j])}}},0,0,0,0,["scroller.table"],0,[Ext.scroll,"TableScroller"],0));(Ext.cmd.derive("Ext.view.Table",Ext.view.View,{alternateClassName:"Ext.grid.View",isTableView:true,config:{selectionModel:{type:"rowmodel"}},inheritableStatics:{normalSideEvents:["deselect","select","beforedeselect","beforeselect","selectionchange"],events:["blur","focus","move","resize","destroy","beforedestroy","boxready","afterrender","render","beforerender","removed","hide","beforehide","show","beforeshow","enable","disable","added","deactivate","beforedeactivate","activate","beforeactivate","cellkeydown","beforecellkeydown","cellmouseup","beforecellmouseup","cellmousedown","beforecellmousedown","cellcontextmenu","beforecellcontextmenu","celldblclick","beforecelldblclick","cellclick","beforecellclick","refresh","itemremove","itemadd","beforeitemupdate","itemupdate","viewready","beforerefresh","unhighlightitem","highlightitem","focuschange","containerkeydown","containercontextmenu","containerdblclick","containerclick","containermouseout","containermouseover","containermouseup","containermousedown","beforecontainerkeydown","beforecontainercontextmenu","beforecontainerdblclick","beforecontainerclick","beforecontainermouseout","beforecontainermouseover","beforecontainermouseup","beforecontainermousedown","itemkeydown","itemcontextmenu","itemdblclick","itemclick","itemmouseleave","itemmouseenter","itemmouseup","itemmousedown","rowclick","rowcontextmenu","rowdblclick","rowkeydown","rowmouseup","rowmousedown","rowkeydown","beforeitemkeydown","beforeitemcontextmenu","beforeitemdblclick","beforeitemclick","beforeitemmouseleave","beforeitemmouseenter","beforeitemmouseup","beforeitemmousedown","statesave","beforestatesave","staterestore","beforestaterestore","uievent","groupcollapse","groupexpand","scroll"]},scrollable:true,componentLayout:"tableview",baseCls:"x-grid-view",unselectableCls:"x-unselectable",firstCls:"x-grid-cell-first",lastCls:"x-grid-cell-last",itemCls:"x-grid-item",selectedItemCls:"x-grid-item-selected",selectedCellCls:"x-grid-cell-selected",focusedItemCls:"x-grid-item-focused",overItemCls:"x-grid-item-over",altRowCls:"x-grid-item-alt",dirtyCls:"x-grid-dirty-cell",rowClsRe:new RegExp("(?:^|\\s*)x-grid-item-alt(?:\\s+|$)","g"),cellRe:new RegExp("x-grid-cell-([^\\s]+)(?:\\s|$)",""),positionBody:true,positionCells:false,stripeOnUpdate:null,actionableMode:false,trackOver:true,getRowClass:null,stripeRows:true,markDirty:true,ariaRole:"rowgroup",rowAriaRole:"row",cellAriaRole:"gridcell",tpl:["{%","view = values.view;","if (!(columns = values.columns)) {","columns = values.columns = view.ownerCt.getVisibleColumnManager().getColumns();","}","values.fullWidth = 0;","for (i = 0, len = columns.length; i < len; i++) {","column = columns[i];","values.fullWidth += (column.cellWidth = column.lastBox ? column.lastBox.width : column.width || column.minWidth);","}","tableCls=values.tableCls=[];","%}",'<div class="x-grid-item-container" role="presentation" style="width:{fullWidth}px">',"{[view.renderTHead(values, out, parent)]}","{%","view.renderRows(values.rows, values.columns, values.viewStartIndex, out);","%}","{[view.renderTFoot(values, out, parent)]}","</div>","{% ","view = columns = column = null;","%}",{definitions:"var view, tableCls, columns, i, len, column;",priority:0}],outerRowTpl:['<table id="{rowId}" role="presentation" ','data-boundView="{view.id}" ','data-recordId="{record.internalId}" ','data-recordIndex="{recordIndex}" ','class="{[values.itemClasses.join(" ")]}" cellpadding="0" cellspacing="0" style="{itemStyle};width:0">',"{%","this.nextTpl.applyOut(values, out, parent)","%}","</table>",{priority:9999}],rowTpl:["{%",'var dataRowCls = values.recordIndex === -1 ? "" : " x-grid-row";',"%}",'<tr class="{[values.rowClasses.join(" ")]} {[dataRowCls]}"',' role="{rowRole}" {rowAttr:attributes}>','<tpl for="columns">{%',"parent.view.renderCell(values, parent.record, parent.recordIndex, parent.rowIndex, xindex - 1, out, parent)","%}","</tpl>","</tr>",{priority:0}],cellTpl:['<td class="{tdCls}" {tdAttr} {cellAttr:attributes}',' style="width:{column.cellWidth}px;<tpl if="tdStyle">{tdStyle}</tpl>"','<tpl if="column.cellFocusable === false">',' role="presentation"',"<tpl else>",' role="{cellRole}" tabindex="-1"',"</tpl>",'  data-columnid="{[values.column.getItemId()]}">','<div {unselectableAttr} class="x-grid-cell-inner {innerCls}" ','style="text-align:{align};<tpl if="style">{style}</tpl>" ',"{cellInnerAttr:attributes}>{value}</div>","</td>",{priority:0}],refreshSelmodelOnRefresh:false,scrollableType:"table",tableValues:{},rowValues:{itemClasses:[],rowClasses:[]},cellValues:{classes:["x-grid-cell x-grid-td"]},constructor:function(c){if(c.grid.isTree){c.baseCls="x-tree-view"}Ext.view.View.prototype.constructor.call(this,c)},hasVariableRowHeight:function(d){var e=this;return e.variableRowHeight||e.store.isGrouped()||e.getVisibleColumnManager().hasVariableRowHeight()||(!d&&e.lockingPartner&&e.lockingPartner.hasVariableRowHeight(true))},initComponent:function(){var c=this;if(c.columnLines){c.addCls(c.grid.colLinesCls)}if(c.rowLines){c.addCls(c.grid.rowLinesCls)}c.body=new Ext.dom.Fly();c.body.id=c.id+"gridBody";if(!c.trackOver){c.overItemCls=null}c.headerCt.view=c;c.grid.view=c;c.initFeatures(c.grid);c.itemSelector=c.getItemSelector();c.all=new Ext.view.NodeCache(c);Ext.view.View.prototype.initComponent.call(this)},applySelectionModel:function(o,l){var m=this,n=m.ownerGrid,k=o.type,j=m.disableSelection||n.disableSelection;if(!l){if(!(o&&o.isSelectionModel)){o=n.selModel||o}}if(o){if(o.isSelectionModel){o.allowDeselect=n.allowDeselect||o.selectionMode!=="SINGLE";o.locked=j}else{if(typeof o==="string"){o={type:o}}else{o.type=n.selType||o.selType||o.type||k}if(!o.mode){if(n.simpleSelect){o.mode="SIMPLE"}else{if(n.multiSelect){o.mode="MULTI"}}}o=Ext.Factory.selection(Ext.apply({allowDeselect:n.allowDeselect,locked:j},o))}}return o},updateSelectionModel:function(e,f){var g=this;if(f){f.un({scope:g,lastselectedchanged:g.updateBindSelection,selectionchange:g.updateBindSelection});Ext.destroy(g.selModelRelayer)}g.selModelRelayer=g.relayEvents(e,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]);e.on({scope:g,lastselectedchanged:g.updateBindSelection,selectionchange:g.updateBindSelection});g.selModel=e},getVisibleColumnManager:function(){return this.ownerCt.getVisibleColumnManager()},getColumnManager:function(){return this.ownerCt.getColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},moveColumn:function(O,j,H){var x=this,A=H>1,F=A&&document.createRange?document.createRange():null,N=A&&!F?document.createDocumentFragment():null,G=j,E=x.getGridColumns().length,y=E-1,K=(x.firstCls||x.lastCls)&&(j===0||j===E||O===0||O===y),C,D,I,B,M,L,J;if(x.rendered&&j!==O){I=x.el.query(x.rowSelector);for(C=0,B=I.length;C<B;C++){M=I[C];L=M.childNodes;if(K){if(L.length===1){Ext.fly(L[0]).addCls(x.firstCls);Ext.fly(L[0]).addCls(x.lastCls);continue}if(O===0){Ext.fly(L[0]).removeCls(x.firstCls);Ext.fly(L[1]).addCls(x.firstCls)}else{if(O===y){Ext.fly(L[y]).removeCls(x.lastCls);Ext.fly(L[y-1]).addCls(x.lastCls)}}if(j===0){Ext.fly(L[0]).removeCls(x.firstCls);Ext.fly(L[O]).addCls(x.firstCls)}else{if(j===E){Ext.fly(L[y]).removeCls(x.lastCls);Ext.fly(L[O]).addCls(x.lastCls)}}}if(A){if(F){F.setStartBefore(L[O]);F.setEndAfter(L[O+H-1]);N=F.extractContents()}else{for(D=0;D<H;D++){N.appendChild(L[O])}}M.insertBefore(N,L[G]||null)}else{M.insertBefore(L[O],L[G]||null)}}J=x.el.query("colgroup");for(C=0,B=J.length;C<B;C++){M=J[C];if(A){if(F){F.setStartBefore(M.childNodes[O]);F.setEndAfter(M.childNodes[O+H-1]);N=F.extractContents()}else{for(D=0;D<H;D++){N.appendChild(M.childNodes[O])}}M.insertBefore(N,M.childNodes[G]||null)}else{M.insertBefore(M.childNodes[O],M.childNodes[G]||null)}}}},scrollToTop:Ext.emptyFn,addElListener:function(e,f,g){this.mon(this,e,f,g,{element:"el"})},getGridColumns:function(){return this.ownerCt.getVisibleColumnManager().getColumns()},getHeaderAtIndex:function(c){return this.ownerCt.getVisibleColumnManager().getHeaderAtIndex(c)},getCell:function(e,g){var f=this.getRow(e);if(f){if(typeof g==="number"){g=this.getHeaderAtIndex(g)}return Ext.fly(f).down(g.getCellSelector())}},getFeature:function(e){var d=this.featuresMC;if(d){return d.get(e)}},findFeature:function(c){if(this.features){return Ext.Array.findBy(this.features,function(b){if(b.ftype===c){return true}})}},initFeatures:function(m){var k=this,n,l,o,j;k.tpl=this.lookupTpl("tpl");k.rowTpl=k.lookupTpl("rowTpl");k.addRowTpl(k.lookupTpl("outerRowTpl"));k.cellTpl=k.lookupTpl("cellTpl");k.featuresMC=new Ext.util.MixedCollection();l=k.features=k.constructFeatures();j=l?l.length:0;for(n=0;n<j;n++){o=l[n];o.view=k;o.grid=m;k.featuresMC.add(o);o.init(m)}},renderTHead:function(o,n,l){var k=o.view.headerFns,j,m;if(k){for(m=0,j=k.length;m<j;++m){k[m].call(this,o,n,l)}}},addHeaderFn:function(d){var e=this.headerFns;if(!e){e=this.headerFns=[]}e.push(d)},renderTFoot:function(o,n,l){var k=o.view.footerFns,j,m;if(k){for(m=0,j=k.length;m<j;++m){k[m].call(this,o,n,l)}}},addFooterFn:function(d){var e=this.footerFns;if(!e){e=this.footerFns=[]}e.push(d)},addTpl:function(c){return this.insertTpl("tpl",c)},addRowTpl:function(c){return this.insertTpl("rowTpl",c)},addCellTpl:function(c){return this.insertTpl("cellTpl",c)},insertTpl:function(j,k){var l=this,g,m;if(k.isTemplate){k=Ext.Object.chain(k)}else{k=new Ext.XTemplate("{%this.nextTpl.applyOut(values, out, parent);%}",k)}for(g=l[j];k.priority<g.priority;g=g.nextTpl){m=g}if(m){m.nextTpl=k}else{l[j]=k}k.nextTpl=g;return k},tplApplyOut:function(e,g,f){if(this.before){if(this.before(e,g,f)===false){return}}this.nextTpl.applyOut(e,g,f);if(this.after){this.after(e,g,f)}},constructFeatures:function(){var k=this,l=k.features,m,o,n=0,j;if(l){o=[];j=l.length;for(;n<j;n++){m=l[n];if(!m.isFeature){m=Ext.create("feature."+m.ftype,m)}o[n]=m}}return o},beforeRender:function(){Ext.view.View.prototype.beforeRender.call(this);if(!this.enableTextSelection){this.protoEl.unselectable()}},getElConfig:function(){var c=Ext.view.View.prototype.getElConfig.call(this);delete c["aria-hidden"];delete c["aria-disabled"];return c},onBindStore:function(e){var g=this,f=g.bufferedRenderer;if(f&&f.store!==e){f.bindStore(e)}if(g.all&&g.all.getCount()&&!g.grid.reconfiguring){g.clearViewEl()}Ext.view.View.prototype.onBindStore.apply(this,arguments)},onOwnerGridHide:function(){var d=this.getScrollable(),e=this.bufferedRederer;if(d){d.suspendPartnerSync()}if(e){e.disable()}},onOwnerGridShow:function(){var d=this.getScrollable(),e=this.bufferedRederer;if(d){d.resumePartnerSync()}if(e){e.enable()}},getStoreListeners:function(k){var j=this,f=Ext.view.View.prototype.getStoreListeners.call(this,k),g=j.dataSource;if(g&&g.isFeatureStore){delete f.add;delete f.remove}if(j.bufferedRenderer){delete f.clear}f.beforepageremove=j.beforePageRemove;return f},beforePageRemove:function(j,k){var g=this.all,f=j.getPageSize();if(g.startIndex>=(k-1)*f&&g.endIndex<=(k*f-1)){j.get(k);return false}},onViewScroll:function(g,e,f){if(!this.ignoreScroll){Ext.view.View.prototype.onViewScroll.call(this,g,e,f)}},createRowElement:function(o,n,m){var l=this,k=l.renderBuffer,j=l.collectData([o],n);j.columns=m;l.tpl.overwrite(k,j);l.cleanupData();return Ext.fly(k).down(l.getNodeContainerSelector(),true).firstChild},bufferRender:function(n,m){var l=this,k=l.renderBuffer,j,o=document.createRange?document.createRange():null;l.tpl.overwrite(k,l.collectData(n,m));l.cleanupData();Ext.fly(k).saveTabbableState({skipSelf:true,includeHidden:true});k=Ext.fly(k).down(l.getNodeContainerSelector(),true);if(o){o.selectNodeContents(k);j=o.extractContents()}else{j=document.createDocumentFragment();while(k.firstChild){j.appendChild(k.firstChild)}}return{fragment:j,children:Ext.Array.toArray(j.childNodes)}},collectData:function(f,g){var j=this,k=j.tableValues;j.rowValues.view=j;k.view=j;k.rows=f;k.columns=null;k.viewStartIndex=g;k.tableStyle="width:"+j.headerCt.getTableWidth()+"px";return k},cleanupData:function(){var c=this.tableValues;c.view=c.columns=c.rows=this.rowValues.view=null},refreshSize:function(j){var l=this,g=l.getBodySelector(),m=l.lockingPartner,k=l.saveFocusState();if(g){l.body.attach(l.el.down(g,true))}if(!l.hasLoadingHeight){Ext.suspendLayouts();Ext.view.View.prototype.refreshSize.apply(this,arguments);if(j||(l.hasVariableRowHeight()&&l.dataSource.getCount())){l.grid.updateLayout()}Ext.resumeLayouts(!m||!m.grid.isVisible()||(m.all.getCount()===l.all.getCount()));k()}},isLayoutRoot:function(){return false},clearViewEl:function(f){var e=this,g;if(e.rendered){Ext.view.View.prototype.clearViewEl.call(this);if(!f){g=Ext.get(e.getNodeContainer());if(g&&g.dom!==e.getTargetEl().dom){g.destroy()}}}},getRefItems:function(n){var p=this,q=p.ownerGrid.liveRowContexts,s,u,o,r,v,m=Ext.view.View.prototype.getRefItems.apply(this,arguments);for(v in q){o=q[v].getWidgets();s=o.length;for(u=0;u<s;u++){r=o[u];if(p.isAncestor(r)){m[m.length]=r;if(n&&r.getRefItems){m.push.apply(m,r.getRefItems(true))}}}}return m},getMaskTarget:function(){return this.ownerCt.body},statics:{getBoundView:function(c){return Ext.getCmp(c.getAttribute("data-boundView"))}},getRecord:function(c){if(this.store.destroyed){return}if(c.isModel){return c}c=this.getNode(c);if(c){return this.dataSource.getByInternalId(c.getAttribute("data-recordId"))}},indexOf:function(c){c=this.getNode(c);if(!c&&c!==0){return -1}return this.all.indexOf(c)},indexInStore:function(c){return c?this.dataSource.indexOf(this.getRecord(c)):-1},indexOfRow:function(g){var f=this.dataSource,e;if(g.isCollapsedPlaceholder){e=f.indexOfPlaceholder(g)}else{e=f.indexOf(g)}return e},renderRows:function(n,p,q,s){var o=this,m=o.rowValues,l=n.length,r;m.view=o;m.columns=p;m.rowRole=o.rowAriaRole;o.cellValues.cellRole=o.cellAriaRole;for(r=0;r<l;r++,q++){m.itemClasses.length=m.rowClasses.length=0;o.renderRow(n[r],q,s)}m.view=m.columns=m.record=null},renderColumnSizer:function(q,p){var n=q.columns||this.getGridColumns(),k=n.length,o,l,m;p.push('<colgroup role="presentation">');for(o=0;o<k;o++){l=n[o];m=l.cellWidth?l.cellWidth:Ext.grid.header.Container.prototype.defaultWidth;p.push('<col role="presentation" class="',"x-","grid-cell-",n[o].getItemId(),'" style="width:'+m+'px">')}p.push("</colgroup>")},renderRow:function(v,C,w){var s=this,x=C===-1,u=s.selectionModel,p=s.rowValues,y=p.itemClasses,A=p.rowClasses,B=s.itemCls,q,r=s.rowTpl;p.rowAttr={};p.record=v;p.recordId=v.internalId;p.recordIndex=s.store.indexOf(v);p.rowIndex=C;p.rowId=s.getRowId(v);p.itemCls=p.rowCls="";if(!p.columns){p.columns=s.ownerCt.getVisibleColumnManager().getColumns()}y.length=A.length=0;if(!x){y[0]=B;if(!s.ownerCt.disableSelection&&u.isRowSelected){if(u.isRowSelected(v)){y.push(s.selectedItemCls)}}if(s.stripeRows&&C%2!==0){y.push(s.altRowCls)}if(s.getRowClass){q=s.getRowClass(v,C,null,s.dataSource);if(q){A.push(q)}}}if(w){r.applyOut(p,w,s.tableValues)}else{return r.apply(p,s.tableValues)}},renderCell:function(G,D,E,w,B,F){var y=this,I,C=y.selectionModel,A=y.cellValues,H=A.classes,K=D.data[G.dataIndex],v=y.cellTpl,J=G.enableTextSelection,M,x,L=y.navigationModel.getPosition();if(J==null){J=y.enableTextSelection}A.record=D;A.column=G;A.recordIndex=E;A.rowIndex=w;A.columnIndex=A.cellIndex=B;A.align=G.textAlign;A.innerCls=G.innerCls;A.tdCls=A.tdStyle=A.tdAttr=A.style="";A.unselectableAttr=J?"":'unselectable="on"';H[1]=G.getCellId();x=2;if(G.renderer&&G.renderer.call){I=y.ownerCt.columnManager.getHeaderIndex(G);M=G.renderer.call(G.usingDefaultRenderer?G:G.scope||y.ownerCt,K,A,D,E,I,y.dataSource,y);if(A.css){D.cssWarning=true;A.tdCls+=" "+A.css;A.css=null}if(A.tdCls){H[x++]=A.tdCls}}else{M=K}A.value=(M==null||M.length===0)?G.emptyCellText:M;if(G.tdCls){H[x++]=G.tdCls}if(y.markDirty&&D.dirty&&D.isModified(G.dataIndex)){H[x++]=y.dirtyCls;if(G.dirtyTextElementId){A.tdAttr=(A.tdAttr?A.tdAttr+" ":"")+'aria-describedby="'+G.dirtyTextElementId+'"'}}if(G.isFirstVisible){H[x++]=y.firstCls}if(G.isLastVisible){H[x++]=y.lastCls}if(!J){H[x++]=y.unselectableCls}if(C&&(C.isCellModel||C.isSpreadsheetModel)&&C.isCellSelected(y,E,G)){H[x++]=y.selectedCellCls}if(L&&L.record.id===D.id&&L.column===G){H[x++]=y.focusedItemCls}H.length=x;A.tdCls=H.join(" ");v.applyOut(A,F);A.column=A.record=null},getRow:function(d){var e;if((!d&&d!==0)||!this.rendered){return null}if(d.target){d=d.target}if(Ext.isString(d)){return Ext.fly(d).down(this.rowSelector,true)}if(Ext.isNumber(d)){e=this.all.item(d);return e&&e.down(this.rowSelector,true)}if(d.isModel){return this.getRowByRecord(d)}e=Ext.fly(d);if(e.is(this.itemSelector)){return this.getRowFromItem(e)}return e.findParent(this.rowSelector,this.getTargetEl())},getRowId:function(c){return this.id+"-record-"+c.internalId},constructRowId:function(c){return this.id+"-record-"+c},getNodeById:function(c){c=this.constructRowId(c);return this.retrieveNode(c,false)},getRowById:function(c){c=this.constructRowId(c);return this.retrieveNode(c,true)},getNodeByRecord:function(c){return this.retrieveNode(this.getRowId(c),false)},getRowByRecord:function(c){return this.retrieveNode(this.getRowId(c),true)},getRowFromItem:function(j){var g=Ext.getDom(j).tBodies[0].childNodes,f=g.length,k;for(k=0;k<f;k++){if(Ext.fly(g[k]).is(this.rowSelector)){return g[k]}}},retrieveNode:function(f,g){var e=this.el.getById(f,true);if(g&&e){return Ext.fly(e).down(this.rowSelector,true)}return e},updateIndexes:Ext.emptyFn,bodySelector:"div.x-grid-item-container",nodeContainerSelector:"div.x-grid-item-container",itemSelector:"table.x-grid-item",rowSelector:"tr.x-grid-row",cellSelector:"td.x-grid-cell",sizerSelector:".x-grid-cell",innerSelector:"div.x-grid-cell-inner",getBodySelector:function(){return this.bodySelector},getColumnSizerSelector:function(e){var d=this.sizerSelector+"-"+e.getItemId();return"td"+d+",col"+d},getItemSelector:function(){return this.itemSelector},getCellSelector:function(c){return c?c.getCellSelector():this.cellSelector},getCellInnerSelector:function(c){return this.getCellSelector(c)+" "+this.innerSelector},addRowCls:function(g,e){var f=this.getRow(g);if(f){Ext.fly(f).addCls(e)}},removeRowCls:function(g,e){var f=this.getRow(g);if(f){Ext.fly(f).removeCls(e)}},onRowSelect:function(f){var g=this,e;g.addItemCls(f,g.selectedItemCls);e=g.getRow(f);if(e){e.setAttribute("aria-selected",true)}if(Ext.isIE8){g.repaintBorder(f+1)}},onRowDeselect:function(f){var g=this,e;g.removeItemCls(f,g.selectedItemCls);e=g.getRow(f);if(e){e.removeAttribute("aria-selected")}if(Ext.isIE8){g.repaintBorder(f+1)}},onCellSelect:function(e){var d=this.getCellByPosition(e);if(d){d.addCls(this.selectedCellCls);d.dom.setAttribute("aria-selected",true)}},onCellDeselect:function(e){var d=this.getCellByPosition(e,true);if(d){Ext.fly(d).removeCls(this.selectedCellCls);d.removeAttribute("aria-selected")}},getCellInclusive:function(f,k){if(f){var j=this.getRow(f.row),g=this.ownerCt.getColumnManager().getHeaderAtIndex(f.column);if(g&&j){return Ext.fly(j).down(this.getCellSelector(g),k)}}return false},getColumnByPosition:function(e){var g,f;if(e){f=e.column;if(f&&!f.destroyed&&f.isColumn){return f}else{g=e.view||this;f=typeof f==="number"?f:e.colIdx;return g.getVisibleColumnManager().getHeaderAtIndex(f)}}return false},getCellByPosition:function(g,l){if(g){var m=g.view||this,k=m.getRow(g.record||g.row),j;j=m.getColumnByPosition(g);if(j&&k){return Ext.fly(k).down(m.getCellSelector(j),l)}}return false},onFocusEnter:function(l){var m=this,p=l.fromComponent,n=m.getNavigationModel(),o,q,e;if(m.containsFocus){return Ext.Component.prototype.onFocusEnter.call(m,l)}if(m.actionableMode){if(m.actionPosition){m.el.dom.setAttribute("tabIndex","-1");m.cellFocused=true;return}m.ownerGrid.setActionableMode(false)}l=l.event;if(!m.cellFocused&&m.all.getCount()&&m.dataSource.getCount()){e=l.getTarget();if(e===m.el.dom){if(m.lastFocused==="scrollbar"){l.relatedTarget.focus();return}o=m.getDefaultFocusPosition(p);if(!o){l.stopEvent();m.el.focus();return}e=null}else{if(e===m.tabGuardEl){o=new Ext.grid.CellContext(m).setPosition(m.all.endIndex,m.getVisibleColumnManager().getColumns().length-1);e=null}else{if(q=l.getTarget(m.getCellSelector())){if(e===q){o=new Ext.grid.CellContext(m).setPosition(m.getRecord(e),m.getHeaderByCell(q));e=null}else{if(e&&Ext.fly(e).isFocusable()&&m.el.contains(e)){o=new Ext.grid.CellContext(m).setPosition(m.getRecord(e),m.getHeaderByCell(q))}}}}}}if(o){m.toggleChildrenTabbability(false);if(e){if(m.ownerGrid.setActionableMode(true,o)){o=null;Ext.fly(e).focus()}}if(o){n.setPosition(o,null,l,null,true)}m.cellFocused=m.el.contains(Ext.Element.getActiveElement());if(m.cellFocused){m.el.dom.setAttribute("tabIndex","-1")}}Ext.Component.prototype.onFocusEnter.call(m,l)},onFocusLeave:function(f){var g=this,e=!g.lockingPartner||!f.toComponent||(f.toComponent!==g.lockingPartner&&!g.lockingPartner.isAncestor(f.toComponent));if(!g.refreshing){if(g.cellFocused){if(e){g.getNavigationModel().setPosition(null,null,f.event,null,true)}g.cellFocused=false;g.focusEl=g.el;g.focusEl.dom.setAttribute("tabIndex",0)}if(e){if(g.ownerGrid.actionableMode){g.lastFocused=g.actionPosition;g.ownerGrid.setActionableMode(false)}}else{g.actionPosition=null}Ext.Component.prototype.onFocusLeave.call(g,f)}},onRowFocus:function(g,k,f){var j=this;if(k){j.addItemCls(g,j.focusedItemCls);if(!f){j.focusRow(g)}}else{j.removeItemCls(g,j.focusedItemCls)}if(Ext.isIE8){j.repaintBorder(g+1)}},focusRow:function(g,f){var j=this,k=j.getFocusTask();if(f){k.delay(Ext.isNumber(f)?f:10,j.focusRow,j,[g,false]);return}k.cancel();if(j.isVisible(true)){j.getNavigationModel().setPosition(j.getRecord(g))}},focusNode:function(e,d){this.focusRow(e,d)},scrollRowIntoView:function(e,d){e=this.getRow(e);if(e){this.scrollElIntoView(e,false,d)}},focusCell:function(m,l){var j=this,g,k=j.getFocusTask();if(l){k.delay(Ext.isNumber(l)?l:10,j.focusCell,j,[m,false]);return}k.cancel();if(j.isVisible(true)&&(g=j.getCellByPosition(m))){j.getNavigationModel().setPosition(m)}},findFocusPosition:function(r,C,y,w){var v=this,p=C.cellElement,q=v.ownerGrid.actionables,x=q.length,A,s,u,B;A=C.clone();s=Ext.fly(p).findTabbableElements();u=s[Ext.Array.indexOf(s,r)+(y?1:-1)];while(!u&&(p=p[y?"nextSibling":"previousSibling"])){A.setColumn(v.getHeaderByCell(p));for(B=0;B<x;B++){q[B].activateCell(A)}p=A.getCell(true);if(p&&(s=Ext.fly(p).findTabbableElements()).length){u=s[y?0:s.length-1]}}return{target:u,position:A}},getDefaultFocusPosition:function(q){var l=this,o=l.dataSource,m=l.lastFocused,n=new Ext.grid.CellContext((l.isNormalView&&l.lockingPartner.grid.isVisible()&&!l.lockingPartner.grid.collapsed)?l.lockingPartner:l).setPosition(0,0),p,k;if(q){if(q.isColumn&&q.cellFocusable!==false&&q.getView()===l){if(!m){m=n}m.setColumn(q)}else{if(q.isTableView){m=new Ext.grid.CellContext(l).setPosition(q.lastFocused.record,0)}}}if(m){k=l.getScrollable();if(!o.contains(m.record)||(k&&!k.isInView(m.getRow()).y)){m.setRow(o.getAt(Math.min(m.rowIdx,o.getCount()-1)))}}else{m=n;p=l.ownerGrid.view.el.down(l.getCellSelector()+'[tabIndex="-1"]');if(p){m.setPosition(l.getRecord(p),l.getHeaderByCell(p))}else{m=null}}return m},getLastFocused:function(){var e=this,d=e.lastFocused;if(d&&d.record&&d.column){if(e.dataSource.indexOf(d.record)!==-1&&e.getVisibleColumnManager().indexOf(d.column)!==-1&&e.getNode(d.record)){return d}}},scrollCellIntoView:function(d,e){if(d.isCellContext){d=this.getCellByPosition(d)}if(d){this.scrollElIntoView(d,null,e)}},scrollElIntoView:function(j,g,k){var f=this.getScrollable();if(f){f.scrollIntoView(j,g,k)}},syncRowHeightBegin:function(){var o=this,m=o.all,p=m.count,r=[],n=Ext.grid.locking.RowSynchronizer,s,j,q;for(s=0,j=m.startIndex;s<p;s++,j++){r[s]=q=new n(o,m.elements[j]);q.reset()}return r},syncRowHeightClear:function(m){var k=this,j=k.all,l=j.count,g;for(g=0;g<l;g++){m[g].reset()}},syncRowHeightMeasure:function(g){var f=g.length,e;for(e=0;e<f;e++){g[e].measure()}},syncRowHeightFinish:function(m,k){var l=m.length,j=this.bufferedRenderer,g;for(g=0;g<l;g++){m[g].finish(k[g])}if(j){j.syncRowHeightsFinish()}},refreshNode:function(c){if(Ext.isNumber(c)){c=this.store.getAt(c)}this.handleUpdate(this.dataSource,c,null,null,null,true)},handleUpdate:function(az,ab,ag,ak,Q,W){ag=ag||Ext.data.Model.EDIT;var au=this,R=au.store.indexOf(ab),T=au.rowTpl,ae=au.markDirty,ai=au.dirtyCls,ac=ag!==Ext.data.Model.EDIT,ah=[],ao=au.variableRowHeight,aA=0,aa=au.ownerCt,al=au.cellFly||(au.self.prototype.cellFly=new Ext.dom.Fly()),X,ax,ay,aw,aB,am,S,V,av,Y,ar,U,an,aj,ap,Z,af,ad,at,aq;if(au.viewReady){au.updatingRows=true;X=au.getNodeByRecord(ab);if(X){if(ab.isCollapsedPlaceholder){Ext.fly(X).syncContent(au.createRowElement(ab,au.indexOfRow(ab)));return}V=au.overItemCls;av=au.ownerCt.getVisibleColumnManager().getColumns();if(W){ah=av;aA=1}else{for(U=0,ar=av.length;U<ar;U++){Y=av[U];if(Y.preventUpdate){aj=Ext.fly(X).down(Y.getCellSelector(),true);if(aj&&!ac&&ae){al.attach(aj);if(ab.isModified(Y.dataIndex)){al.addCls(ai);if(Y.dirtyTextElementId){aj.setAttribute("aria-describedby",Y.dirtyTextElementId)}}else{al.removeCls(ai);aj.removeAttribute("aria-describedby")}}}else{an=au.shouldUpdateCell(ab,Y,ak);if(an){aA=aA|an;ah[ah.length]=Y;ao=ao||Y.variableRowHeight}}}}au.fireEvent("beforeitemupdate",ab,R,X,ah);if(au.getRowClass||!au.getRowFromItem(X)||(aA&1)||(X.tBodies[0].childNodes.length>1)){at=X._extData;ay=au.createRowElement(ab,au.indexOfRow(ab),ah);if(Ext.fly(X,"_internal").hasCls(V)){Ext.fly(ay).addCls(V)}if(Ext.isIE9m&&X.mergeAttributes){X.mergeAttributes(ay,true)}else{aw=ay.attributes;aB=aw.length;for(S=0;S<aB;S++){am=aw[S].name;if(am!=="id"){X.setAttribute(am,aw[S].value)}}}if(at){at.isSynchronized=false}if(av.length&&(ax=au.getRow(X))){au.updateColumns(ax,Ext.fly(ay).down(au.rowSelector,true),ah)}while(T){if(T.syncContent){if(T.syncContent(X,ay,ak?ah:null)===false){break}}T=T.nextTpl}}else{for(U=0,ar=ah.length;U<ar;U++){Y=ah[U];ap=Y.dataIndex;Z=ab.get(ap);aj=Ext.fly(X).down(Y.getCellSelector(),true);al.attach(aj);if(!ac&&ae){if(ab.isModified(Y.dataIndex)){al.addCls(ai);if(Y.dirtyTextElementId){aj.setAttribute("aria-describedby",Y.dirtyTextElementId)}}else{al.removeCls(ai);aj.removeAttribute("aria-describedby")}}af=Y.usingDefaultRenderer;ad=af?Y:Y.scope;if(Y.updater){Ext.callback(Y.updater,ad,[aj,Z,ab,au,au.dataSource],0,Y,aa)}else{if(Y.renderer){Z=Ext.callback(Y.renderer,ad,[Z,null,ab,0,0,au.dataSource,au],0,Y,aa)}aq=Z==null||Z.length===0;Z=aq?Y.emptyCellText:Z;if(Y.producesHTML||aq){al.down(au.innerSelector,true).innerHTML=Z}else{al.down(au.innerSelector,true).childNodes[0].data=Z}}if(au.highlightClass){Ext.fly(aj).addCls(au.highlightClass);if(!au.changedCells){au.self.prototype.changedCells=[];au.prototype.clearChangedTask=new Ext.util.DelayedTask(au.clearChangedCells,au.prototype);au.clearChangedTask.delay(au.unhighlightDelay)}au.changedCells.push({cell:aj,cls:au.highlightClass,expires:Ext.Date.now()+1000})}}}if(ac&&ae&&!ab.dirty){Ext.fly(X,"_internal").select("."+ai).removeCls(ai).set({"aria-describedby":undefined})}if(ao){Ext.suspendLayouts()}au.fireEvent("itemupdate",ab,R,X,au);if(ao){au.ownerGrid.updateLayout();Ext.resumeLayouts(true)}}au.updatingRows=false}},clearChangedCells:function(){var k=this,m=Ext.Date.now(),j;for(var l=0,g=k.changedCells.length;l<g;){j=k.changedCells[l];if(j.expires<=m){Ext.fly(j.cell).removeCls(j.highlightClass);Ext.Array.erase(k.changedCells,l,1);g--}else{break}}if(g){k.clearChangedTask.delay(k.unhighlightDelay)}},updateColumns:function(A,s,x){var y=this,H,I,B,G,v=x.length,w,F,u,C,D=y.getCellSelector(),E;if(A.mergeAttributes){A.mergeAttributes(s,true)}else{H=s.attributes;I=H.length;for(G=0;G<I;G++){B=H[G].name;if(B!=="id"){A.setAttribute(B,H[G].value)}}}E=A._extData;if(E){E.isSynchronized=false}A=Ext.get(A);s=Ext.get(s);for(w=0;w<v;w++){F=x[w];D=y.getCellSelector(F);u=A.selectNode(D);C=s.selectNode(D);H=C.attributes;I=H.length;for(G=0;G<I;G++){B=H[G].name;if(B!=="id"){u.setAttribute(B,H[G].value)}}E=u._extData;if(E){E.isSynchronized=false}u=Ext.fly(u).selectNode(y.innerSelector);C=Ext.fly(C).selectNode(y.innerSelector);Ext.fly(u).syncContent(C)}},shouldUpdateCell:function(e,f,g){return f.shouldUpdateCell(e,g)},refresh:function(){var e=this,d;if(e.destroying){return}if(e.getVisibleColumnManager().getColumns().length){Ext.view.View.prototype.refresh.apply(this,arguments);e.headerCt.setSortState()}else{if(e.refreshCounter){e.clearViewEl(true)}}},processContainerEvent:function(e){var d=Ext.Component.fromElement(e.target.parentNode);if(d&&d.up(this.ownerCt)){return false}},processItemEvent:function(N,A,G,B){var e=this,E=e.self,x=E.EventMap,L=B.type,J=e.features,C=J.length,D,H,F,K,M,y=B.position=e.eventPosition||(e.eventPosition=new Ext.grid.CellContext()),I,O;if(Ext.isIE&&L==="mouseup"&&!B.within(e.el)){return false}if(e.indexInStore(A)!==-1){I=y.rowElement=Ext.fly(A).down(e.rowSelector,true);O=B.getTarget(e.getCellSelector(),I);L=E.TouchEventMap[L]||L;if(O){if(!O.parentNode){return false}M=e.getHeaderByCell(O);if(M){H=e.ownerCt.getColumnManager().getHeaderIndex(M)}else{M=O=null;H=-1}}else{H=-1}y.setAll(e,G,M?e.getVisibleColumnManager().getHeaderIndex(M):-1,N,M);y.cellElement=O;F=e.fireEvent("uievent",L,e,O,G,H,B,N,I);if((F===false||Ext.view.View.prototype.processItemEvent.apply(this,arguments)===false)){return false}for(D=0;D<C;++D){K=J[D];if(K.wrapsItem){if(K.vetoEvent(N,I,G,B)===false){e.processSpecialEvent(B);return false}}}if(O&&L!=="mouseover"&&L!=="mouseout"){F=!((e["onBeforeCell"+x[L]](O,H,N,I,G,B)===false)||(e.fireEvent("beforecell"+L,e,O,H,N,I,G,B)===false)||(e["onCell"+x[L]](O,H,N,I,G,B)===false)||(e.fireEvent("cell"+L,e,O,H,N,I,G,B)===false))}if(F!==false){F=e.fireEvent("row"+L,e,N,I,G,B)}return F}else{e.processSpecialEvent(B);if(B.pointerType==="mouse"){B.preventDefault()}return false}},processSpecialEvent:function(v){var r=this,A=r.features,s=A.length,q=v.type,y,e,x,w,B,u,C=r.ownerCt;Ext.view.View.prototype.processSpecialEvent.apply(this,arguments);if(q==="mouseover"||q==="mouseout"){return}q=r.self.TouchEventMap[q]||q;for(y=0;y<s;y++){e=A[y];if(e.hasFeatureEvent){w=v.getTarget(e.eventSelector,r.getTargetEl());if(w){x=e.eventPrefix;B=e.getFireEventArgs("before"+x+q,r,w,v);u=e.getFireEventArgs(x+q,r,w,v);if((r.fireEvent.apply(r,B)===false)||(C.fireEvent.apply(C,B)===false)||(r.fireEvent.apply(r,u)===false)||(C.fireEvent.apply(C,u)===false)){return false}}}}return true},onCellMouseDown:Ext.emptyFn,onCellLongPress:Ext.emptyFn,onCellMouseUp:Ext.emptyFn,onCellClick:Ext.emptyFn,onCellDblClick:Ext.emptyFn,onCellContextMenu:Ext.emptyFn,onCellKeyDown:Ext.emptyFn,onCellKeyUp:Ext.emptyFn,onCellKeyPress:Ext.emptyFn,onBeforeCellMouseDown:Ext.emptyFn,onBeforeCellLongPress:Ext.emptyFn,onBeforeCellMouseUp:Ext.emptyFn,onBeforeCellClick:Ext.emptyFn,onBeforeCellDblClick:Ext.emptyFn,onBeforeCellContextMenu:Ext.emptyFn,onBeforeCellKeyDown:Ext.emptyFn,onBeforeCellKeyUp:Ext.emptyFn,onBeforeCellKeyPress:Ext.emptyFn,expandToFit:function(c){this.autoSizeColumn(c)},autoSizeColumn:function(c){if(Ext.isNumber(c)){c=this.getGridColumns()[c]}if(c){if(c.isGroupHeader){c.autoSize();return}delete c.flex;c.setWidth(this.getMaxContentWidth(c))}},getMaxContentWidth:function(u){var r=this,n=r.el.query(u.getCellInnerSelector()),w=u.getWidth(),v=0,s=n.length,x=r.body.select(r.getColumnSizerSelector(u)),p=Math.max,q=0,o;if(s>0){if(Ext.supports.ScrollWidthInlinePaddingBug){q+=r.getCellPaddingAfter(n[0])}if(r.columnLines){q+=Ext.fly(n[0].parentNode).getBorderWidth("lr")}}x.setWidth(1);u.textEl.setStyle({"text-overflow":"clip",display:"table-cell"});o=u.textEl.dom.offsetWidth+u.titleEl.getPadding("lr");u.textEl.setStyle({"text-overflow":"",display:""});for(;v<s;v++){o=p(o,n[v].scrollWidth)}o+=q;o=p(o+1,40);x.setWidth(w);return o},getPositionByEvent:function(l){var m=this,o=l.getTarget(m.cellSelector),n=l.getTarget(m.itemSelector),e=m.getRecord(n),k=m.getHeaderByCell(o);return m.getPosition(e,k)},getHeaderByCell:function(c){if(c){return this.ownerGrid.getVisibleColumnManager().getHeaderById(Ext.getDom(c).getAttribute("data-columnId"))}return false},walkCells:function(q,p,v,o){var r=this,n=q.clone(),s=r.lockingPartner&&r.lockingPartner.grid.isVisible()?r.lockingPartner:null,w=q.rowIdx,x=r.dataSource.getCount()-1,u=r.ownerCt.getVisibleColumnManager().getColumns();switch(p.toLowerCase()){case"right":if(q.isLastColumn()){w=s&&r.isLockedView?w:w+1;if(w>x){return false}if(s){n.view=s}n.setPosition(w,0)}else{n.navigate(+1)}break;case"left":if(q.isFirstColumn()){w=s&&r.isNormalView?w:w-1;if(w<0){return false}if(s){n.view=s;u=s.getVisibleColumnManager().getColumns()}n.setPosition(w,u[u.length-1])}else{n.navigate(-1)}break;case"up":if(w===0){return false}else{n.setRow(w-1)}break;case"down":if(w===x){return false}else{n.setRow(w+1)}break}if(v&&v.call(o||r,n)!==true){return false}return n},walkRows:function(p,x){var u=this,q=u.dataSource,s=0,n=p,w,v=(x<0)?0:q.getCount()-1,r=v?1:-1,o=p;do{if(v?o>=v:o<=v){return n||v}o+=r;if((w=Ext.fly(u.getRow(o)))&&w.isVisible(true)){s+=r;n=o}}while(s!==x);return o},walkRecs:function(y,A){var s=this,p=s.dataSource,r=0,o=y,x,v=(A<0)?0:(p.isBufferedStore?p.getTotalCount():p.getCount())-1,q=v?1:-1,u=p.indexOf(y),w;do{if(v?u>=v:u<=v){return o}u+=q;w=p.getAt(u);if(!w.isCollapsedPlaceholder&&(x=Ext.fly(s.getNodeByRecord(w)))&&x.isVisible(true)){r+=q;o=w}}while(r!==A);return o},getFirstVisibleRowIndex:function(){var f=this,g=(f.dataSource.isBufferedStore?f.dataSource.getTotalCount():f.dataSource.getCount()),e=f.indexOf(f.all.first())-1;do{e+=1;if(e===g){return}}while(!Ext.fly(f.getRow(e)).isVisible(true));return e},getLastVisibleRowIndex:function(){var e=this,d=e.indexOf(e.all.last());do{d-=1;if(d===-1){return}}while(!Ext.fly(e.getRow(d)).isVisible(true));return d},getHeaderCt:function(){return this.headerCt},getPosition:function(d,e){return new Ext.grid.CellContext(this).setPosition(d,e)},doDestroy:function(){var j=this,k=j.featuresMC,l,m,g;j.bindStore(null);if(k){for(m=0,g=k.getCount();m<g;++m){l=k.getAt(m);if(l&&!l.destroyed){l.destroy()}}}j.all.destroy();j.body.destroy();Ext.view.View.prototype.doDestroy.call(this)},onReplace:function(q,m,k,n){var p=this,l=p.bufferedRenderer,o;if(p.rendered&&l){o=p.saveFocusState();l.onReplace(q,m,k,n);o()}else{Ext.view.View.prototype.onReplace.apply(this,arguments)}p.setPendingStripe(m)},onResize:function(n,j,o,k){var m=this,l=m.bufferedRenderer;if(l){l.onViewResize(m,n,j,o,k)}Ext.view.View.prototype.onResize.call(this,n,j,o,k)},onAdd:function(m,g,l){var k=this,j=k.bufferedRenderer;k.addingRows=true;if(k.rendered&&j&&(j.bodyTop||k.dataSource.getCount()+g.length>=j.viewSize)){j.onReplace(m,l,[],g)}else{Ext.view.View.prototype.onAdd.apply(this,arguments)}k.setPendingStripe(l);k.addingRows=false},onRemove:function(o,j,n){var m=this,k=m.bufferedRenderer,l;if(m.rendered&&k&&m.dataSource.getCount()+j.length>=k.viewSize){l=m.saveFocusState();k.onReplace(o,n,j,[]);l()}else{Ext.view.View.prototype.onRemove.apply(this,arguments)}if(m.actionPosition&&Ext.Array.indexOf(j,m.actionPosition.record)!==-1){m.actionPosition=null}m.setPendingStripe(n)},saveFocusState:function(){var p=this,o=p.dataSource,v=p.actionableMode,s=p.getNavigationModel(),r=v?p.actionPosition:s.getPosition(true),u=Ext.Element.getActiveElement(true),m=r&&r.view===p&&r.getCell(),q,n;if(m&&m.contains(u)){r=r.clone();u.suspendFocusEvents();if(v&&m!==u){p.suspendActionableMode()}else{v=false;s.setPosition()}u.resumeFocusEvents();return function(){o=p.dataSource;if(o.getCount()){q=Math.min(r.rowIdx,p.all.getCount()-1);n=Math.min(r.colIdx,p.getVisibleColumnManager().getColumns().length-1);r=new Ext.grid.CellContext(p).setPosition(o.contains(r.record)?r.record:q,n);if(v){p.resumeActionableMode(r)}else{s.setPosition(r,null,null,null,true)}}else{r.column.focus()}}}return Ext.emptyFn},onDataRefresh:function(g){var f=this,e=f.ownerCt;if(e&&e.isCollapsingOrExpanding===2){e.on("expand",f.onDataRefresh,f,{single:true});return}Ext.view.View.prototype.onDataRefresh.call(this,g)},getViewRange:function(){var c=this;if(c.bufferedRenderer){return c.bufferedRenderer.getViewRange()}return Ext.view.View.prototype.getViewRange.call(this)},setPendingStripe:function(d){var e=this.stripeOnUpdate;if(e===null){e=d}else{e=Math.min(e,d)}this.stripeOnUpdate=e},onEndUpdate:function(){var e=this,f=e.stripeOnUpdate,g=e.all.startIndex;if(e.rendered&&(f||f===0)){if(f<g){f=g}e.doStripeRows(f);e.stripeOnUpdate=null}Ext.view.View.prototype.onEndUpdate.apply(this,arguments)},doStripeRows:function(q,k){var o=this,n,l,p,m;if(o.rendered&&o.stripeRows){n=o.getNodes(q,k);for(p=0,l=n.length;p<l;p++){m=n[p];m.className=m.className.replace(o.rowClsRe," ");q++;if(q%2===0){m.className+=(" "+o.altRowCls)}}}},hasActiveFeature:function(){return(this.isGrouping&&this.store.isGrouped())||this.isRowWrapped},getCellPaddingAfter:function(c){return Ext.fly(c).getPadding("r")},privates:{collectNodes:function(c){this.all.fill(this.getNodeContainer().childNodes,this.all.startIndex)},setActionableMode:function(w,y){var u=this,E=u.getNavigationModel(),C,r=u.grid.actionables,x=r.length,B,A,D,q=false,v,s;if(u.actionableMode===w){if(!w||y.isEqual(u.actionPosition)){return false}}if(w){if(y&&(y.view===u||(y.view===(v=u.lockingPartner)&&v.actionableMode))){q=u.activateCell(y)}return q}else{C=Ext.fly(Ext.Element.getActiveElement());if(u.el.contains(C)&&!Ext.fly(C).is(u.getCellSelector())){A=(u.actionPosition&&u.actionPosition.record)||u.getRecord(C);D=u.getHeaderByCell(C.findParent(u.getCellSelector()));s=y&&y.getCell();if(!y||!s){y=new Ext.grid.CellContext(u).setPosition(A||0,D||0);s=y.getCell()}s.focus();C=Ext.fly(Ext.Element.getActiveElement());if(!(u.el.contains(C)&&C.is(u.getCellSelector()))){y=null}}for(B=0;B<x;B++){if(r[B].deactivate){r[B].deactivate()}}if(u.actionRow){u.actionRow.saveTabbableState({skipSelf:true,includeSaved:false})}if(u.destroyed){return false}u.actionableMode=u.ownerGrid.actionableMode=false;u.actionPosition=E.actionPosition=u.actionRow=null;if(y){E.setPosition(y)}}},activateCell:function(y){var v=this,w=y.view!==v?v.lockingPartner:null,s=v.grid.actionables,x=s.length,D=v.getNavigationModel(),A,E,C,q,B,r,u;y=y.clone();A=y.record;y.view.grid.ensureVisible(A,{column:y.column});C=v.all.item(y.rowIdx);if(v.actionPosition){E=Ext.get(v.all.item(v.actionPosition.rowIdx,true));if(E&&C!==E){E.saveTabbableState({skipSelf:true,includeSaved:false})}}v.activating=true;if(!w){q=y.getCell();v.actionPosition=y;for(B=0;B<x;B++){r=r||s[B].activateCell(y,null,true)}}if(w||(q&&(q.restoreTabbableState(true).length|(u=q.findTabbableElements()).length))||r){for(B=0;B<x;B++){if(s[B].activateRow){s[B].activateRow(C)}}if(w||u.length){C.restoreTabbableState(true);if(w){v.actionableMode=true;v.actionPosition=null;v.activating=false;return true}if(u){v.actionRow=C;v.actionableMode=v.ownerGrid.actionableMode=true;D.setPosition();D.actionPosition=v.actionPosition=y;Ext.fly(u[0]).focus();v.activating=false;return true}}}v.activating=false},suspendActionableMode:function(){var g=this,k=g.grid.actionables,f=k.length,j;for(j=0;j<f;j++){k[j].suspend()}},resumeActionableMode:function(n){var k=this,m=k.grid.actionables,o=m.length,l,j;k.toggleChildrenTabbability(false);for(l=0;l<o;l++){j=j||m[l].resume(n)}if(!j){k.activateCell(n)}},onRowExit:function(r,v,n,s,u){var p=this,o=s?"nextSibling":"previousSibling",q=p.lockingPartner,w,x;if(q&&q.grid.isVisible()){w=p.all.indexOf(v);if(s){x=0;if(p.isNormalView){w++}}else{x=q.getVisibleColumnManager().getColumns().length-1;if(p.isLockedView){w--}}p.actionPosition=null;p=q;n=p.all.item(w,true)}if(!p.hasListeners.beforerowexit||p.fireEvent("beforerowexit",p,r,v,n,s)!==false){p.findFirstActionableElement(r,n,o,s,u)}else{return false}},findFirstActionableElement:function(D,N,B,I,K){var y=this,Q=y.getVisibleColumnManager().getColumns(),A=Q.length,J=y.grid.actionables,L=J.length,j=new Ext.grid.CellContext(y),F,P,E,G,O,H,C,M;if(N){j.setRow(N);for(E=0;E<L;E++){if(J[E].activateRow){J[E].activateRow(N)}}for(E=(I?0:A-1);(I?E<A:E>-1)&&!P;E=E+(I?1:-1)){O=Q[E];j.setColumn(O);F=Ext.fly(N).down(j.column.getCellSelector());for(G=0;G<L;G++){H=H||J[G].activateCell(j)}F=j.getCell();if(F){N=j.getNode(true);F.restoreTabbableState(true);if((C=F.findTabbableElements()).length||H){M=y.actionRow;y.actionRow=Ext.get(N);y.actionRow.restoreTabbableState(true);P=C[I?0:C.length-1]}}}if(P){y.actionPosition=y.getNavigationModel().actionPosition=j;Ext.fly(P).focus(Ext.asyncFocus?1:0);if(M&&N!==M.dom){M.saveTabbableState({skipSelf:true,includeSaved:false})}}else{y.onRowExit(D,N,y.all.item(j.rowIdx+(I?1:-1)),I,K)}}else{if(!K){y.grid.ensureVisible(I?0:y.dataSource.getCount()-1,{callback:function(b,c,d){if(b){y.findFirstActionableElement(D,d,B,I,true)}else{y.ownerGrid.setActionableMode(false)}}})}else{y.ownerGrid.setActionableMode(false)}}},stretchHeight:function(m){var k=this,g=k.getScrollable(),l=k.stretchers,j;if(m&&k.tabGuardEl){if(l){l[0].style.marginTop=l[1].style.marginTop=k.el.dom.style.height=0}k.el.dom.style.height=g.constrainScrollRange(m)+"px";j=m-k.el.dom.offsetHeight;if(j>0){k.el.dom.style.height="";l=k.getStretchers();j=m-k.el.dom.offsetHeight;if(j>0){l[0].style.marginTop=g.constrainScrollRange(j)+"px";j=m-k.el.dom.offsetHeight;if(j>0){l[1].style.marginTop=Math.min(j,g.maxSpacerMargin||0)+"px"}}}}},getStretchers:function(){var f=this,e=f.stretchers,g;if(e){f.el.appendChild(e)}else{g={cls:"x-scroller-spacer",style:"position:relative"};e=f.stretchers=f.el.appendChild([g,g],true)}return e}}},1,["tableview","gridview"],["component","box","dataview","tableview","gridview"],{component:true,box:true,dataview:true,tableview:true,gridview:true},["widget.gridview","widget.tableview"],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.view,"Table",Ext.grid,"View"],0));(Ext.cmd.derive("Ext.grid.Panel",Ext.panel.Table,{alternateClassName:["Ext.list.ListView","Ext.ListView","Ext.grid.GridPanel"],viewType:"tableview",ariaRole:"grid",lockable:false,rowLines:true},0,["grid","gridpanel"],["component","box","container","panel","tablepanel","gridpanel","grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true},["widget.grid","widget.gridpanel"],0,[Ext.grid,"Panel",Ext.list,"ListView",Ext,"ListView",Ext.grid,"GridPanel"],0));(Ext.cmd.derive("Ext.grid.RowContext",Ext.Base,{constructor:function(c){Ext.apply(this,c);this.widgets={}},setRecord:function(e,g){var f=this.viewModel;this.record=e;this.recordIndex=g;if(f){f.set("record",e);f.set("recordIndex",g)}},free:function(){var l=this,n=l.widgets,m,k,j,o=l.viewModel;l.record=null;if(o){o.set("record");o.set("recordIndex")}for(m in n){k=n[m];j=k.getFocusEl();if(j){if(j.isTabbable(true)){j.saveTabbableState({includeHidden:true})}j.blur()}k.detachFromBody();k.hidden=true}},getWidget:function(m,j){var k=this,l=k.widgets||(k.widgets={}),g;if(j.bind&&!k.viewModel){k.viewModel=Ext.Factory.viewModel({parent:k.ownerGrid.lookupViewModel(),data:{record:k.record,recordIndex:k.recordIndex}},k.ownerGrid.rowViewModel)}if(!(g=l[m])){g=l[m]=Ext.widget(Ext.apply({viewModel:k.viewModel,_rowContext:k},j));if(g.isWidget){g.initBindable()}}else{g.hidden=false}return g},getWidgets:function(){var g=this.widgets,f,e=[];for(f in g){e.push(g[f])}return e},destroy:function(){var j=this,f=j.widgets,k,g;for(k in f){g=f[k];g._rowContext=null;g.destroy()}Ext.destroy(j.viewModel);j.callParent()}},1,0,0,0,0,0,[Ext.grid,"RowContext"],0));(Ext.cmd.derive("Ext.grid.plugin.HeaderResizer",Ext.plugin.Abstract,{disabled:false,config:{dynamic:false},colHeaderCls:"x-column-header",minColWidth:40,maxColWidth:1000,eResizeCursor:"col-resize",init:function(e){var d=this;d.headerCt=e;e.on("render",d.afterHeaderRender,d,{single:d});if(!d.minColWidth){d.self.prototype.minColWidth=Ext.grid.column.Column.prototype.minWidth}},destroy:function(){var e=this,d=e.tracker;if(d){d.destroy();e.tracker=null}e.headerCt.un("render",e.afterHeaderRender,e);e.headerCt=null;Ext.plugin.Abstract.prototype.destroy.call(this)},afterHeaderRender:function(){var g=this,f=g.headerCt,e=f.el;f.mon(e,"mousemove",g.onHeaderCtMouseMove,g);g.markerOwner=g.ownerGrid=g.headerCt.up("tablepanel").ownerGrid;g.tracker=new Ext.dd.DragTracker({disabled:g.disabled,onBeforeStart:g.onBeforeStart.bind(g),onStart:g.onStart.bind(g),onDrag:g.onDrag.bind(g),onEnd:g.onEnd.bind(g),onCancel:g.onCancel.bind(g),tolerance:3,autoStart:300,el:e});f.setTouchAction({panX:false})},onHeaderCtMouseMove:function(e){var d=this;if(d.headerCt.dragging||d.disabled){if(d.activeHd){d.activeHd.el.dom.style.cursor="";delete d.activeHd}}else{if(e.pointerType!=="touch"){d.findActiveHeader(e)}}},findActiveHeader:function(s){var r=this,v=r.headerCt,p=s.getTarget("."+r.colHeaderCls,v.el,true),o=r.ownerGrid,x=o.ownerLockable,e,q,w,u;r.activeHd=null;if(p){e=Ext.getCmp(p.id);if(e.isAtEndEdge(s)){if(v.visibleColumnManager.getColumns().length===1&&v.forceFit){return}q=e}else{if(e.isAtStartEdge(s)){w=v.visibleColumnManager.getColumns();u=e.isGroupHeader?e.getGridColumns()[0]:e;q=w[Ext.Array.indexOf(w,u)-1];if(!q&&x&&!o.isLocked){w=x.lockedGrid.headerCt.visibleColumnManager.getColumns();q=w[w.length-1]}}}if(q){if(q.isGroupHeader){w=q.getGridColumns();q=w[w.length-1]}if(q&&!(q.fixed||(q.resizable===false))){r.activeHd=q;e.el.dom.style.cursor=r.eResizeCursor;if(e.triggerEl){e.triggerEl.dom.style.cursor=r.eResizeCursor}}}else{e.el.dom.style.cursor="";if(e.triggerEl){e.triggerEl.dom.style.cursor=""}}}return r.activeHd},onBeforeStart:function(e){var d=this;d.dragHd=d.activeHd||e.pointerType==="touch"&&d.findActiveHeader(e);if(d.dragHd&&!d.headerCt.dragging){e.claimGesture();d.xDelta=d.dragHd.getX()+d.dragHd.getWidth()-d.tracker.getXY()[0];d.tracker.constrainTo=d.getConstrainRegion();return true}else{d.headerCt.dragging=false;return false}},onCancel:function(c){this.dragHd=this.activeHd=null;this.headerCt.dragging=false},getConstrainRegion:function(){var m=this,q=m.dragHd.el,n,l=m.ownerGrid,o=l.getSizeModel().width,p=o.shrinkWrap?m.headerCt.getWidth()-m.headerCt.visibleColumnManager.getColumns().length*m.minColWidth:m.maxColWidth,k;if(m.headerCt.forceFit){n=m.dragHd.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])");if(n&&m.headerInSameGrid(n)){p=q.getWidth()+(n.getWidth()-m.minColWidth)}}else{if(l.isLocked&&o.shrinkWrap){p=m.dragHd.up("[scrollerOwner]").getTargetEl().getWidth(true)-l.getWidth()-(l.ownerLockable.normalGrid.visibleColumnManager.getColumns().length*m.minColWidth+Ext.getScrollbarSize().width)}}k=m.adjustConstrainRegion(q.getRegion(),0,0,0,m.minColWidth);k.right=q.getX()+p;return k},onStart:function(u){var s=this,v=s.dragHd,y=v.el.getWidth(),w=v.getRootHeaderCt(),p,q,x,A,r,e;s.headerCt.dragging=true;s.origWidth=y;if(!s.dynamic){x=s.markerOwner;if(x.frame&&x.resizable){s.gridOverflowSetting=x.el.dom.style.overflow;x.el.dom.style.overflow="hidden"}p=s.getLeftMarkerX(x);A=x.getLhsMarker();r=x.getRhsMarker();e=s.ownerGrid.body.getHeight()+w.getHeight();q=w.getOffsetsTo(x)[1]-x.el.getBorderWidth("t");A.dom.style.cursor=s.eResizeCursor;r.dom.style.cursor=s.eResizeCursor;A.setLocalY(q);r.setLocalY(q);A.setHeight(e);r.setHeight(e);s.setMarkerX(A,p);s.setMarkerX(r,p+y)}},onDrag:function(e){var d=this;if(d.dynamic){d.doResize()}else{d.setMarkerX(d.getMovingMarker(d.markerOwner),d.calculateDragX(d.markerOwner))}},getMovingMarker:function(c){return c.getRhsMarker()},onEnd:function(g){var e=this,f=e.markerOwner;e.headerCt.dragging=false;if(e.dragHd){if(!e.dynamic){if("gridOverflowSetting" in e){f.el.dom.style.overflow=e.gridOverflowSetting}e.setMarkerX(f.getLhsMarker(),-9999);e.setMarkerX(f.getRhsMarker(),-9999)}e.doResize();if(g.pointerType!=="touch"){e.dragHd=null;e.activeHd.el.dom.style.cursor=e.eResizeCursor}else{e.dragHd=e.activeHd=null}}e.headerCt.blockNextEvent()},doResize:function(){var j=this,k=j.dragHd,f,g=j.tracker.getOffset("point");if(k&&g[0]){if(k.flex){delete k.flex}Ext.suspendLayouts();j.adjustColumnWidth(g[0]-j.xDelta);if(j.headerCt.forceFit){f=k.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])");if(f&&!j.headerInSameGrid(f)){f=null}if(f){delete f.flex;f.setWidth(f.getWidth()-g[0])}}Ext.resumeLayouts(true)}},headerInSameGrid:function(e){var d=this.dragHd.up("tablepanel");return !!e.up(d)},disable:function(){var c=this.tracker;this.disabled=true;if(c){c.disable()}},enable:function(){var c=this.tracker;this.disabled=false;if(c){c.enable()}},calculateDragX:function(c){return this.tracker.getXY("point")[0]+this.xDelta-c.getX()-c.el.getBorderWidth("l")},getLeftMarkerX:function(c){return this.dragHd.getX()-c.getX()-c.el.getBorderWidth("l")-1},setMarkerX:function(e,d){e.setLocalX(d)},adjustConstrainRegion:function(b,k,j,m,l){return b.adjust(k,j,m,l)},adjustColumnWidth:function(c){this.dragHd.setWidth(this.origWidth+c)}},0,0,0,0,["plugin.gridheaderresizer"],0,[Ext.grid.plugin,"HeaderResizer"],0));(Ext.cmd.derive("Ext.grid.header.DragZone",Ext.dd.DragZone,{colHeaderSelector:".x-column-header",colInnerSelector:".x-column-header-inner",maxProxyWidth:120,constructor:function(e){var d=this;d.headerCt=e;d.ddGroup=d.getDDGroup();d.autoGroup=true;Ext.dd.DragZone.prototype.constructor.call(this,e.el);d.proxy.el.addCls("x-grid-col-dd")},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getDragData:function(k){if(k.getTarget(this.colInnerSelector)){var g=k.getTarget(this.colHeaderSelector),e,j;if(g){e=Ext.getCmp(g.id);if(!this.headerCt.dragging&&e.draggable&&!(e.isAtStartEdge(k)||e.isAtEndEdge(k))){j=document.createElement("div");j.role="presentation";j.innerHTML=e.text;return{ddel:j,header:e}}}}return false},onBeforeDrag:function(){return !(this.headerCt.dragging||this.disabled)},onInitDrag:function(){this.headerCt.dragging=true;this.headerCt.hideMenu();Ext.dd.DragZone.prototype.onInitDrag.apply(this,arguments)},onDragDrop:function(){this.headerCt.dragging=false;Ext.dd.DragZone.prototype.onDragDrop.apply(this,arguments)},afterRepair:function(){Ext.dd.DragZone.prototype.afterRepair.call(this);this.headerCt.dragging=false},getRepairXY:function(){return this.dragData.header.el.getXY()},disable:function(){this.disabled=true},enable:function(){this.disabled=false}},1,0,0,0,0,0,[Ext.grid.header,"DragZone"],0));(Ext.cmd.derive("Ext.grid.header.DropZone",Ext.dd.DropZone,{colHeaderCls:"x-column-header",proxyOffsets:[-4,-9],constructor:function(e){var d=this;d.headerCt=e;d.ddGroup=d.getDDGroup();d.autoGroup=true;Ext.dd.DropZone.prototype.constructor.call(this,e.el)},destroy:function(){Ext.destroy(this.topIndicator,this.bottomIndicator);Ext.dd.DropZone.prototype.destroy.call(this)},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getTargetFromEvent:function(c){return c.getTarget("."+this.colHeaderCls)},getTopIndicator:function(){if(!this.topIndicator){this.topIndicator=Ext.getBody().createChild({role:"presentation",cls:"x-col-move-top",html:"&#160;"});this.indicatorXOffset=Math.floor((this.topIndicator.dom.offsetWidth+1)/2)}return this.topIndicator},getBottomIndicator:function(){if(!this.bottomIndicator){this.bottomIndicator=Ext.getBody().createChild({role:"presentation",cls:"x-col-move-bottom",html:"&#160;"})}return this.bottomIndicator},getLocation:function(k,m){var e=k.getXY()[0],l=Ext.fly(m).getRegion(),j;if((l.right-e)<=(l.right-l.left)/2){j="after"}else{j="before"}return{pos:j,header:Ext.getCmp(m.id),node:m}},positionIndicator:function(I,L,D){var K=this,J=I.header,U=K.getLocation(D,L),R=U.header,V=U.pos,W,E,P,G,F,Y,X,Q,O,N,e,M,S,H,T;if(R===K.lastTargetHeader&&V===K.lastDropPos){return}W=J.nextSibling("gridcolumn:not([hidden])");E=J.previousSibling("gridcolumn:not([hidden])");K.lastTargetHeader=R;K.lastDropPos=V;if(!R.draggable&&V==="before"&&R.getIndex()===0){return false}I.dropLocation=U;if((J!==R)&&((V==="before"&&W!==R)||(V==="after"&&E!==R))&&!R.isDescendantOf(J)){M=Ext.dd.DragDropManager.getRelated(K);S=M.length;H=0;for(;H<S;H++){T=M[H];if(T!==K&&T.invalidateDrop){T.invalidateDrop()}}K.valid=true;P=K.getTopIndicator();G=K.getBottomIndicator();if(V==="before"){F="bc-tl";Y="tc-bl"}else{F="bc-tr";Y="tc-br"}X=P.getAlignToXY(R.el,F);Q=G.getAlignToXY(R.el,Y);O=K.headerCt.el;N=O.getX()-K.indicatorXOffset;e=O.getX()+O.getWidth();X[0]=Ext.Number.constrain(X[0],N,e);Q[0]=Ext.Number.constrain(Q[0],N,e);P.setXY(X);G.setXY(Q);P.show();G.show()}else{K.invalidateDrop()}},invalidateDrop:function(){this.valid=false;this.hideIndicators()},onNodeOver:function(v,r,s,u){var q=this,o=u.header,x,e,w,p;if(u.header.el.dom===v){x=false}else{u.isLock=u.isUnlock=u.crossPanel=false;e=q.getLocation(s,v).header;x=(o.ownerCt===e.ownerCt);if(!x&&(!o.ownerCt.sealed&&!e.ownerCt.sealed)){x=true;w=o.up("tablepanel");p=e.up("tablepanel");if(w!==p){u.crossPanel=true;u.isLock=p.isLocked&&!w.isLocked;u.isUnlock=!p.isLocked&&w.isLocked;if((u.isUnlock&&o.lockable===false)||(u.isLock&&!o.isLockable())){x=false}}}}if(x){q.positionIndicator(u,v,s)}else{q.valid=false}return q.valid?q.dropAllowed:q.dropNotAllowed},hideIndicators:function(){var c=this;c.getTopIndicator().hide();c.getBottomIndicator().hide();c.lastTargetHeader=c.lastDropPos=null},onNodeOut:function(){this.hideIndicators()},getNestedHeader:function(g,k){var f=g.items,j;if(g.isGroupHeader&&f.length){j=!k?"first":"last";g=this.getNestedHeader(f[j](),k)}return g},onNodeDrop:function(E,M,A,e){this.headerCt.blockNextEvent();if(!this.valid){return}var y=this,D=e.header,J=e.dropLocation,B=J.pos,H=J.header,x=D.ownerCt,F=x.getRootHeaderCt(),O=H.ownerCt,L=y.headerCt.visibleColumnManager,C=L.getHeaderIndex(D),N,G,I,K;if(e.isLock||e.isUnlock){I=x.up("[scrollerOwner]");N=O.items.indexOf(H);if(B==="after"){N++}if(e.isLock){I.lock(D,N,O)}else{I.unlock(D,N,O)}}else{N=B==="after"?L.getHeaderIndex(y.getNestedHeader(H,1))+1:L.getHeaderIndex(y.getNestedHeader(H,0));y.invalidateDrop();K=D.getWidth();Ext.suspendLayouts();F.isDDMoveInGrid=!e.crossPanel;if(D.isGroupHeader&&H.isGroupHeader){D.setNestedParent(H)}if(B==="before"){O.moveBefore(D,H)}else{O.moveAfter(D,H)}if(N>=0&&!(H.isGroupHeader&&(!H.items||!H.items.length))&&C!==N){G=D.isGroupHeader?D.query(":not([hidden]):not([isGroupHeader])").length:1;if((C<=N)&&G>1){N-=G}O.getRootHeaderCt().grid.view.moveColumn(C,N,G)}F.fireEvent("columnmove",x,D,C,N);F.isDDMoveInGrid=false;if(O.isGroupHeader&&!x.isGroupHeader){if(x!==O){D.savedFlex=D.flex;delete D.flex;D.width=K}}else{if(!x.isGroupHeader){if(D.savedFlex){D.flex=D.savedFlex;delete D.width}}}Ext.resumeLayouts(true);if(y.headerCt.grid.floated){y.headerCt.grid.updateLayout()}}}},1,0,0,0,0,0,[Ext.grid.header,"DropZone"],0));(Ext.cmd.derive("Ext.grid.plugin.HeaderReorderer",Ext.plugin.Abstract,{init:function(c){this.headerCt=c;c.on({boxready:this.onHeaderCtRender,single:true,scope:this})},destroy:function(){var c=this;c.headerCt.un("boxready",c.onHeaderCtRender,c);Ext.destroy(c.dragZone,c.dropZone);c.headerCt=c.dragZone=c.dropZone=null;Ext.plugin.Abstract.prototype.destroy.call(this)},onHeaderCtRender:function(e){var d=this;d.dragZone=new Ext.grid.header.DragZone(d.headerCt);d.dropZone=new Ext.grid.header.DropZone(d.headerCt);if(d.disabled){d.dragZone.disable()}e.setTouchAction({panX:false})},enable:function(){this.disabled=false;if(this.dragZone){this.dragZone.enable()}},disable:function(){this.disabled=true;if(this.dragZone){this.dragZone.disable()}}},0,0,0,0,["plugin.gridheaderreorderer"],0,[Ext.grid.plugin,"HeaderReorderer"],0));(Ext.cmd.derive("Ext.grid.header.Container",Ext.container.Container,{border:true,baseCls:"x-grid-header-ct",dock:"top",weight:100,defaultType:"gridcolumn",defaultWidth:100,sortAscText:"Sort Ascending",sortDescText:"Sort Descending",sortClearText:"Clear Sort",columnsText:"Columns",headerOpenCls:"x-column-header-open",menuSortAscCls:"x-hmenu-sort-asc",menuSortDescCls:"x-hmenu-sort-desc",menuColsIcon:"x-cols-icon",blockEvents:false,dragging:false,sortOnClick:true,enableFocusableContainer:false,childHideCount:0,sortable:true,enableColumnHide:true,initComponent:function(){var c=this;c.plugins=c.plugins||[];c.defaults=c.defaults||{};if(!c.isColumn){c.isRootHeader=true;if(c.enableColumnResize){c.resizer=new Ext.grid.plugin.HeaderResizer();c.plugins.push(c.resizer)}if(c.enableColumnMove){c.reorderer=new Ext.grid.plugin.HeaderReorderer();c.plugins.push(c.reorderer)}}if(c.isColumn&&!c.isGroupHeader){if(!c.items||c.items.length===0){c.isContainer=c.isFocusableContainer=false;if(!c.hasOwnProperty("focusable")){c.focusable=true}c.layout={type:"container",calculate:Ext.emptyFn}}}else{c.layout=Ext.apply({type:"gridcolumn",align:"stretch"},c.initialConfig.layout);c.defaults.columnLines=c.columnLines;if(c.isRootHeader){if(!c.hiddenHeaders){c.enableFocusableContainer=true;c.ariaRole="rowgroup"}c.columnManager=new Ext.grid.ColumnManager(false,c);c.visibleColumnManager=new Ext.grid.ColumnManager(true,c);if(c.grid){c.grid.columnManager=c.columnManager;c.grid.visibleColumnManager=c.visibleColumnManager}}else{c.visibleColumnManager=new Ext.grid.ColumnManager(true,c);c.columnManager=new Ext.grid.ColumnManager(false,c)}}c.menuTask=new Ext.util.DelayedTask(c.updateMenuDisabledState,c);Ext.container.Container.prototype.initComponent.call(this)},isNested:function(){return !!this.getRootHeaderCt().down("[isNestedParent]")},isNestedGroupHeader:function(){var e=this,d=e.getRefOwner().query(">:not([hidden])");return(d.length===1&&d[0]===e)},maybeShowNestedGroupHeader:function(){var d=this.items,e;if(d&&d.length===1&&(e=d.getAt(0))&&e.hidden){e.show()}},setNestedParent:function(c){c.isNestedParent=false;c.ownerCt.isNestedParent=!!(this.ownerCt.items.length===1&&c.ownerCt.items.length===1)},initEvents:function(){var f=this,e,g;Ext.container.Container.prototype.initEvents.call(this);if(!f.isColumn&&!f.isGroupHeader){e=f.onHeaderCtEvent;g={click:e,dblclick:e,contextmenu:e,mousedown:f.onHeaderCtMouseDown,mouseover:f.onHeaderCtMouseOver,mouseout:f.onHeaderCtMouseOut,scope:f};if(Ext.supports.Touch){g.longpress=f.onHeaderCtLongPress}f.mon(f.el,g)}},onHeaderCtEvent:function(o,q){var p=this,l=p.getHeaderElByEvent(o),m,n,e;if(p.longPressFired){p.longPressFired=false;return}if(l&&!p.blockEvents){m=Ext.getCmp(l.id);if(m){n=m[m.clickTargetName];if((!m.isGroupHeader&&!m.isContainer)||o.within(n)){if(o.type==="click"||o.type==="tap"){e=m.onTitleElClick(o,n,p.sortOnClick);if(e){p.onHeaderTriggerClick(e,o,o.pointerType==="touch"?e.el:e.triggerEl)}else{p.onHeaderClick(m,o,q)}}else{if(o.type==="contextmenu"){p.onHeaderContextMenu(m,o,q)}else{if(o.type==="dblclick"&&m.resizable){m.onTitleElDblClick(o,n.dom)}}}}}}},blockNextEvent:function(){this.blockEvents=true;Ext.asap(this.unblockEvents,this)},unblockEvents:function(){this.blockEvents=false},onHeaderCtMouseDown:function(m,n){var s=Ext.Component.fromElement(n),o,q,e,p,r;if(s!==this){if(s.isGroupHeader){o=s.getVisibleGridColumns();p=this.getScrollable();for(q=0,e=o.length;q<e;++q){r=o[q];if(p.doIsInView(r.el,true).x){s=r;break}}}s.focus()}},onHeaderCtMouseOver:function(m,e){var j,k,l;if(!m.within(this.el,true)){j=m.getTarget("."+Ext.grid.column.Column.prototype.baseCls);k=j&&Ext.getCmp(j.id);if(k){l=k[k.clickTargetName];if(m.within(l)){k.onTitleMouseOver(m,l.dom)}}}},onHeaderCtMouseOut:function(n,p){var o="."+Ext.grid.column.Column.prototype.baseCls,q=n.getTarget(o),e=n.getRelatedTarget(o),l,m;if(q!==e){if(q){l=Ext.getCmp(q.id);if(l){m=l[l.clickTargetName];l.onTitleMouseOut(n,m.dom)}}if(e){l=Ext.getCmp(e.id);if(l){m=l[l.clickTargetName];l.onTitleMouseOver(n,m.dom)}}}},onHeaderCtLongPress:function(k){var e=this,g=e.getHeaderElByEvent(k),j;if(g){j=Ext.getCmp(g.id);if(j&&!j.menuDisabled){e.longPressFired=true;e.showMenuBy(k,g,j)}}},getHeaderElByEvent:function(c){return c.getTarget("."+Ext.grid.column.Column.prototype.baseCls)},isLayoutRoot:function(){if(this.hiddenHeaders){return false}return Ext.container.Container.prototype.isLayoutRoot.call(this)},getRootHeaderCt:function(){var c=this;return c.isRootHeader?c:c.up("[isRootHeader]")},doDestroy:function(){var c=this;if(c.menu){c.menu.un("hide",c.onMenuHide,c)}c.menuTask.cancel();Ext.destroy(c.visibleColumnManager,c.columnManager,c.menu);Ext.container.Container.prototype.doDestroy.call(this)},applyColumnsState:function(c,D){if(!c){return}var u=this,w=u.items.items,x=w.length,B=0,F,v,E,G,y,s=false,A=[],C=[];for(B=0;B<x;B++){E=w[B];G=c[E.getStateId()];if(G){y=G.index;A[y]=E;if(B!==y){s=true}if(E.applyColumnState){E.applyColumnState(G,D)}}else{C.push({index:B,column:E})}}A=Ext.Array.clean(A);F=C.length;if(F){for(B=0;B<F;B++){G=C[B];y=G.index;if(y<A.length){s=true;Ext.Array.splice(A,y,0,G.column)}else{A.push(G.column)}}}if(s){u.applyingState=true;u.removeAll(false);delete u.applyingState;u.add(A);u.purgeCache()}},getColumnsState:function(){var g=this,e=[],f;g.items.each(function(b){f=b.getColumnState&&b.getColumnState();if(f){e.push(f)}});return e},onAdd:function(f){var g=this,c;Ext.container.Container.prototype.onAdd.apply(this,arguments);c=g.getRootHeaderCt();g.onHeadersChanged(f,c&&c.isDDMoveInGrid)},move:function(l,j){var k=this,m=k.items,g;if(l.isComponent){g=l;l=m.indexOf(g)}else{g=m.getAt(l)}g.visibleFromIdx=k.getRootHeaderCt().visibleColumnManager.indexOf(g);Ext.container.Container.prototype.move.apply(this,arguments)},onMove:function(l,q,n){var o=this,p=o.getRootHeaderCt(),s=p.visibleColumnManager,m=1,r;o.onHeadersChanged(l,true);r=s.indexOf(l);if(r>=l.visibleFromIdx){r++}Ext.container.Container.prototype.onMove.apply(this,arguments);if(l.isGroupHeader){m=l.visibleColumnManager.getColumns().length}p.onHeaderMoved(l,m,l.visibleFromIdx,r)},maybeContinueRemove:function(){var c=this;return(c.isGroupHeader&&!c.applyingState)&&!c.isNestedParent&&c.ownerCt&&!c.items.getCount()},onRemove:function(g,k){var j=this,c=j.ownerCt;Ext.container.Container.prototype.onRemove.call(this,g,k);if(!j.destroying){if(!j.getRootHeaderCt().isDDMoveInGrid){j.onHeadersChanged(g,false)}if(j.maybeContinueRemove()){if(g.rendered){j.detachComponent(g)}j.destroyAfterRemoving=true;Ext.suspendLayouts();c.remove(j,false);Ext.resumeLayouts(true)}}},onHeadersChanged:function(g,c){var k,j=this.getRootHeaderCt();this.purgeHeaderCtCache(this);if(j){j.onColumnsChanged();k=j.ownerCt;if(k&&!c){k.onHeadersChanged(j,g)}}},onHeaderMoved:function(k,j,n,l){var m=this,o=m.ownerCt;if(m.rendered){if(o&&o.onHeaderMove){o.onHeaderMove(m,k,j,n,l)}m.fireEvent("columnmove",m,k,n,l)}},onColumnsChanged:function(){var j=this,g=j.menu,f,k;if(j.rendered){j.fireEvent("columnschanged",j);if(g){f=g.child("#columnItemSeparator");k=g.child("#columnItem");if(f){f.destroy()}if(k){k.destroy()}}}},lookupComponent:function(e){var d=Ext.container.Container.prototype.lookupComponent.apply(this,arguments);if(!d.isGroupHeader&&d.width===undefined&&!d.flex){d.width=this.defaultWidth}return d},setSortState:function(){var o=this.up("[store]").store,m=this.visibleColumnManager.getColumns(),j=m.length,n,k,l;for(n=0;n<j;n++){k=m[n];l=k.getSorter();if(l){if(!o.getSorters().contains(l)){l=null}}else{l=o.getSorters().get(k.getSortParam())}k.setSortState(l)}},getHeaderMenu:function(){var e=this.getMenu(),d;if(e){d=e.child("#columnItem");if(d){return d.menu}}return null},onHeaderVisibilityChange:function(j,k){var m=this,l=m.getHeaderMenu(),g;m.purgeHeaderCtCache(j.ownerCt);if(l){g=m.getMenuItemForHeader(l,j);if(g){g.setChecked(k,true)}if(l.isVisible()){m.menuTask.delay(50)}}},updateMenuDisabledState:function(n){var o=this,q=o.query("gridcolumn:not([hidden])"),r,l=q.length,p,s,m;if(!n){n=o.getMenu()}for(r=0;r<l;++r){p=q[r];s=o.getMenuItemForHeader(n,p);if(s){m=p.isHideable()?"enable":"disable";if(s.menu){m+="CheckChange"}s[m]()}}},getMenuItemForHeader:function(d,e){return e?d.down("menucheckitem[headerId="+e.id+"]"):null},onHeaderShow:function(g){var j=this,k=j.ownerCt,f=g.lastHiddenHeader;if(!k){return}if(j.forceFit){delete j.flex}if(f&&!g.query("[hidden=false]").length){f.show();g.lastHiddenHeader=null}j.onHeaderVisibilityChange(g,true);k.onHeaderShow(j,g);j.fireEvent("columnshow",j,g);j.fireEvent("columnschanged",this)},onHeaderHide:function(f){var g=this,e=g.ownerCt;if(!e){return}g.onHeaderVisibilityChange(f,false);e.onHeaderHide(g,f);g.fireEvent("columnhide",g,f);g.fireEvent("columnschanged",this)},onHeaderResize:function(g,f){var j=this,k=j.ownerCt;if(k){k.onHeaderResize(j,g,f)}j.fireEvent("columnresize",j,g,f)},onHeaderClick:function(k,l,n){var m=this,e=k.getView().getSelectionModel(),o;k.fireEvent("headerclick",m,k,l,n);o=m.fireEvent("headerclick",m,k,l,n);if(o!==false){if(e.onHeaderClick){e.onHeaderClick(m,k,l)}}return o},onHeaderContextMenu:function(f,g,e){f.fireEvent("headercontextmenu",this,f,g,e);this.fireEvent("headercontextmenu",this,f,g,e)},onHeaderTriggerClick:function(g,j,e){var k=this;if(g.fireEvent("headertriggerclick",k,g,j,e)!==false&&k.fireEvent("headertriggerclick",k,g,j,e)!==false){if(g.activeMenu){if(j.pointerType){g.activeMenu.hide()}else{g.activeMenu.focus()}}else{k.showMenuBy(j,e,g)}}},showMenuBy:function(l,q,m){var o=this.getMenu(),n=o.down("#ascItem"),p=o.down("#descItem"),r,s=l&&l.pointerType==="touch";o.activeHeader=o.ownerCmp=m;m.setMenuActive(o);r=m.sortable?"enable":"disable";if(n){n[r]()}if(p){p[r]()}o.autoFocus=!l||l.keyCode;o.showBy(q,"tl-bl?");if(!o.isVisible()){this.onMenuHide(o)}},hideMenu:function(){if(this.menu){this.menu.hide()}},onMenuHide:function(c){c.activeHeader.setMenuActive(false)},purgeHeaderCtCache:function(c){while(c){c.purgeCache();if(c.isRootHeader){return}c=c.ownerCt}},purgeCache:function(){var f=this,g=f.visibleColumnManager,e=f.columnManager;f.gridVisibleColumns=f.gridDataColumns=f.hideableColumns=null;if(g){g.invalidate();e.invalidate()}},getMenu:function(){var e=this,d=e.view&&e.view.ownerGrid;if(!e.menu){e.menu=new Ext.menu.Menu({hideOnParentHide:false,items:e.getMenuItems(),listeners:{beforeshow:e.beforeMenuShow,hide:e.onMenuHide,scope:e}});e.fireEvent("menucreate",e,e.menu);if(d){d.fireEvent("headermenucreate",d,e.menu,e)}}return e.menu},beforeMenuShow:function(j){var l=this,m=j.child("#columnItem"),g,k;if(!m){g=l.enableColumnHide?l.getColumnMenu(l):null;k=l.sortable?2:0;if(g&&g.length){j.insert(k,[{itemId:"columnItemSeparator",xtype:"menuseparator"},{itemId:"columnItem",text:l.columnsText,iconCls:l.menuColsIcon,menu:{items:g},hideOnClick:false}])}}l.updateMenuDisabledState(l.menu)},getMenuItems:function(){var f=this,g=[],e=f.enableColumnHide?f.getColumnMenu(f):null;if(f.sortable){g=[{itemId:"ascItem",text:f.sortAscText,iconCls:f.menuSortAscCls,handler:f.onSortAscClick,scope:f},{itemId:"descItem",text:f.sortDescText,iconCls:f.menuSortDescCls,handler:f.onSortDescClick,scope:f}]}if(e&&e.length){if(f.sortable){g.push({itemId:"columnItemSeparator",xtype:"menuseparator"})}g.push({itemId:"columnItem",text:f.columnsText,iconCls:f.menuColsIcon,menu:e,hideOnClick:false})}return g},onSortAscClick:function(){var e=this.getMenu(),d=e.activeHeader;d.sort("ASC")},onSortDescClick:function(){var e=this.getMenu(),d=e.activeHeader;d.sort("DESC")},getColumnMenu:function(m){var p=[],q=0,n,k=m.query(">gridcolumn[hideable]"),l=k.length,o;for(;q<l;q++){n=k[q];o=new Ext.menu.CheckItem({text:n.menuText||n.text,checked:!n.hidden,hideOnClick:false,headerId:n.id,menu:n.isGroupHeader?this.getColumnMenu(n):undefined,checkHandler:this.onColumnCheckChange,scope:this});p.push(o)}return p.length?p:null},onColumnCheckChange:function(e,g){var f=Ext.getCmp(e.headerId);if(f.rendered){f[g?"show":"hide"]()}else{f.hidden=!g}},getColumnCount:function(){return this.getGridColumns().length},getTableWidth:function(){var j=0,k=this.getVisibleGridColumns(),g=k.length,f;for(f=0;f<g;f++){j+=k[f].getCellWidth()||0}return j},getVisibleGridColumns:function(){var l=this,p,n,q,k,o,m;if(l.gridVisibleColumns){return l.gridVisibleColumns}p=l.getGridColumns();n=l.getRootHeaderCt();q=[];k=p.length;for(o=0;o<k;o++){m=p[o];if(!m.hidden&&!m.isColumnHidden(n)){q[q.length]=m}}l.gridVisibleColumns=q;return q},isColumnHidden:function(e){var d=this.getRefOwner();while(d&&d!==e){if(d.hidden){return true}d=d.getRefOwner()}return false},getGridColumns:function(o,v){if(!o&&this.gridDataColumns){return this.gridDataColumns}var p=this,m=o||[],q,u,r,n,s;v=v||p.hidden;if(p.items){q=p.items.items;if(q){for(u=0,r=q.length;u<r;u++){n=q[u];if(n.isGroupHeader){n.visibleIndex=m.length;n.getGridColumns(m,v)}else{n.hiddenAncestor=v;m.push(n)}}}}if(!o){p.gridDataColumns=m}if(!o&&r){for(u=0,r=m.length;u<r;u++){n=m[u];n.fullColumnIndex=u;n.isFirstVisible=n.isLastVisible=false;if(!(n.hidden||n.hiddenAncestor)){if(!s){n.isFirstVisible=true}s=n}}if(s){s.isLastVisible=true}}return m},getHideableColumns:function(){var e=this,d=e.hideableColumns;if(!d){d=e.hideableColumns=e.query("[hideable]")}return d},getHeaderIndex:function(c){if(!this.columnManager){this.columnManager=this.getRootHeaderCt().columnManager}return this.columnManager.getHeaderIndex(c)},getHeaderAtIndex:function(c){if(!this.columnManager){this.columnManager=this.getRootHeaderCt().columnManager}return this.columnManager.getHeaderAtIndex(c)},getVisibleHeaderClosestToIndex:function(c){if(!this.visibleColumnManager){this.visibleColumnManager=this.getRootHeaderCt().visibleColumnManager}return this.visibleColumnManager.getVisibleHeaderClosestToIndex(c)},applyForceFit:function(E){var y=this,x=y.view,J=Ext.grid.plugin.HeaderResizer.prototype.minColWidth,H=false,L=Ext.grid.header.Container.prototype.defaultWidth,K=y.el.dom.clientWidth-(x.el.dom.scrollHeight>x.el.dom.clientHeight?Ext.getScrollbarSize().width:0),G=0,A=y.getVisibleGridColumns(),D=E.hidden,B,F,M,C,I;function w(){for(F=0,B=A.length;F<B;F++){M=A[F];if(M===E){continue}M.flex=M.flex||M.width||M.getWidth();G+=M.flex;M.width=null}}function v(){var b;for(F=0,B=A.length;F<B;F++){M=A[F];b=(M===E);if(H&&!b){M.flex=J;M.width=null}else{if(!b){I=M.flex||L;M.flex=Math.max(Math.ceil((I/G)*K),J);M.width=null}}M.setWidth(M.width||M.flex)}}Ext.suspendLayouts();C=(K-((A.length+1)*J));E.flex=null;if(D){I=E.width||E.savedWidth||Math.floor(C/(A.length+1));E.savedWidth=null}else{I=x.getMaxContentWidth(E)}if(I>C){E.width=C;H=true}else{E.width=I;K-=I+L;w()}v();Ext.resumeLayouts(true)},autoSizeColumn:function(e){var d=this.view;if(d){d.autoSizeColumn(e);if(this.forceFit){this.applyForceFit(e)}}},getRefItems:function(e){var d=Ext.container.Container.prototype.getRefItems.call(this,e);if(this.menu){d.push(this.menu)}return d},privates:{beginChildHide:function(){++this.childHideCount},endChildHide:function(){--this.childHideCount},getFocusables:function(){return this.isRootHeader?this.getVisibleGridColumns():this.items.items},createFocusableContainerKeyNav:function(d){var e=this;return new Ext.util.KeyNav(d,{scope:e,down:e.showHeaderMenu,left:e.onFocusableContainerLeftKey,right:e.onFocusableContainerRightKey,home:e.onHomeKey,end:e.onEndKey,space:e.onHeaderActivate,enter:e.onHeaderActivate})},onHomeKey:function(c){return this.focusChild(null,true,c)},onEndKey:function(c){return this.focusChild(null,false,c)},showHeaderMenu:function(e){var d=this.getFocusableFromEvent(e);if(d&&d.isColumn&&d.triggerEl){this.onHeaderTriggerClick(d,e,d.triggerEl)}},onHeaderActivate:function(g){var j=this.getFocusableFromEvent(g),e,k;if(j&&j.isColumn){e=j.getView();if(j.sortable&&this.sortOnClick){k=e.getNavigationModel().getLastFocused();j.toggleSortState();if(k){e.ownerCt.ensureVisible(k.record)}}else{if(g.getKey()===g.SPACE){j.onTitleElClick(g,g.target,this.sortOnClick)}}return this.onHeaderClick(j,g,j.el)}},onOwnerGridReconfigure:function(e,g){var f=this;if(!f.rendered||f.destroying||f.destroyed){return}if(e||g){f.initFocusableContainer()}}}},0,["headercontainer"],["component","box","container","headercontainer"],{component:true,box:true,container:true,headercontainer:true},["widget.headercontainer"],[[Ext.util.FocusableContainer.prototype.mixinId||Ext.util.FocusableContainer.$className,Ext.util.FocusableContainer]],[Ext.grid.header,"Container"],0));(Ext.cmd.derive("Ext.grid.column.Column",Ext.grid.header.Container,{alternateClassName:"Ext.grid.Column",config:{triggerVisible:false,sorter:null,align:"start"},baseCls:"x-column-header",hoverCls:"x-column-header-over",ariaRole:"columnheader",enableFocusableContainer:false,sortState:null,possibleSortStates:["ASC","DESC"],ariaSortStates:{ASC:"ascending",DESC:"descending"},childEls:["titleEl","triggerEl","textEl","textContainerEl","textInnerEl"],headerWrap:false,renderTpl:['<div id="{id}-titleEl" data-ref="titleEl" role="presentation"','{tipMarkup}class="',"x-",'column-header-inner<tpl if="!$comp.isContainer"> ',"x-","leaf-column-header</tpl>",'<tpl if="empty"> ',"x-",'column-header-inner-empty</tpl>">','<div id="{id}-textContainerEl" data-ref="textContainerEl" role="presentation" class="',"x-",'column-header-text-container">','<div role="presentation" class="',"x-",'column-header-text-wrapper">','<div id="{id}-textEl" data-ref="textEl" role="presentation" class="',"x-","column-header-text",'{childElCls}">','<span id="{id}-textInnerEl" data-ref="textInnerEl" role="presentation" class="',"x-",'column-header-text-inner">{text}</span>',"</div>","{%","values.$comp.afterText(out, values);","%}","</div>","</div>",'<tpl if="!menuDisabled">','<div id="{id}-triggerEl" data-ref="triggerEl" role="presentation" unselectable="on" class="',"x-","column-header-trigger",'{childElCls}" style="{triggerStyle}"></div>',"</tpl>","</div>","{%this.renderContainer(out,values)%}"],dataIndex:null,text:"\xa0",menuText:null,emptyCellText:"\xa0",sortable:true,resizable:true,hideable:true,menuDisabled:false,renderer:false,draggable:true,tooltipType:"qtip",initDraggable:Ext.emptyFn,tdCls:"",dirtyText:"Cell value has been edited",producesHTML:true,ignoreExport:false,exportStyle:null,isHeader:true,isColumn:true,scrollable:false,requiresMenu:false,tabIndex:-1,ascSortCls:"x-column-header-sort-ASC",descSortCls:"x-column-header-sort-DESC",componentLayout:"columncomponent",groupSubHeaderCls:"x-group-sub-header",groupHeaderCls:"x-group-header",clickTargetName:"titleEl",detachOnRemove:true,initResizable:Ext.emptyFn,rendererNames:{column:"renderer",edit:"editRenderer",summary:"summaryRenderer"},formatterNames:{column:"formatter",edit:"editFormatter",summary:"summaryFormatter"},initComponent:function(){var c=this;if(!c.rendererScope){c.rendererScope=c.scope}if(c.header!=null){c.text=c.header;c.header=null}if(c.cellWrap){c.tdCls=(c.tdCls||"")+" x-wrap-cell"}if(c.columns!=null){c.isGroupHeader=true;c.ariaRole="presentation";c.items=c.columns;c.columns=null;c.cls=(c.cls||"")+" "+c.groupHeaderCls;c.sortable=c.resizable=false;c.align="center"}else{if(c.flex){c.minWidth=c.minWidth||Ext.grid.plugin.HeaderResizer.prototype.minColWidth}}c.addCls("x-column-header-align-"+c.align);c.setupRenderer();c.setupRenderer("edit");c.setupRenderer("summary");Ext.grid.header.Container.prototype.initComponent.apply(this,arguments)},beforeLayout:function(){var j=this.items,k,g,f;if(!Ext.isArray(j)){j=j.items}k=j.length;if(k){for(g=0;!f&&g<k;g++){f=j[g].flex}if(!f){this.flex=null}}Ext.grid.header.Container.prototype.beforeLayout.call(this)},onAdded:function(k,g,f){var j=this;Ext.grid.header.Container.prototype.onAdded.call(this,k,g,f);if(!j.headerId){j.calculateHeaderId()}j.configureStateInfo()},_initSorterFn:function(r,s){var b=this,m=b.column,n=m.resolveListenerScope(),p=b.methodName,o=n&&n[p],q=0;if(o){b.setSorterFn(o);b.column=null;q=o.call(n,r,s)}return q},applySorter:function(g){var j=this,k=g?g.sorterFn:null,f;if(typeof k==="string"){f=new Ext.util.Sorter(Ext.applyIf({sorterFn:j._initSorterFn},g));f.methodName=k;f.column=j}else{f=j.getRootHeaderCt().up("tablepanel").store.getData().getSorters().decodeSorter(g)}return f},updateAlign:function(c){this.textAlign=this._alignMap[c]||c},bindFormatter:function(e){var d=this;return function(b){return e(b,d.rendererScope||d.resolveListenerScope())}},bindRenderer:function(e){var d=this;d.hasCustomRenderer=true;return function(){return Ext.callback(e,d.rendererScope,arguments,0,d)}},setupRenderer:function(q){q=q||"column";var p=this,m=p[p.formatterNames[q]],o=p[p.rendererNames[q]],k=q==="column",l,n;if(!m){if(o){if(typeof o==="string"){o=p[p.rendererNames[q]]=p.bindRenderer(o);n=true}if(k){p.hasCustomRenderer=n||o.length>1}}else{if(k&&p.defaultRenderer){p.renderer=p.defaultRenderer;p.usingDefaultRenderer=true}}}else{l=Ext.app.bind.Parser.fly(m);m=l.compileFormat();l.release();p[p.formatterNames[q]]=null;p[p.rendererNames[q]]=p.bindFormatter(m)}},getView:function(){var c=this.getRootHeaderCt();if(c){return c.view}},onFocusLeave:function(c){Ext.grid.header.Container.prototype.onFocusLeave.call(this,c);if(this.activeMenu){this.activeMenu.hide()}},initItems:function(){var c=this;Ext.grid.header.Container.prototype.initItems.apply(this,arguments);if(c.isGroupHeader){if(c.config.hidden||!c.hasVisibleChildColumns()){c.hide()}}},hasVisibleChildColumns:function(){var k=this.items.items,f=k.length,j,g;for(j=0;j<f;++j){g=k[j];if(g.isColumn&&!g.hidden){return true}}return false},onAdd:function(e){var d=this;if(e.isColumn){e.isSubHeader=true;e.addCls(d.groupSubHeaderCls)}if(d.isGroupHeader&&d.hidden&&d.hasVisibleChildColumns()){d.show()}Ext.grid.header.Container.prototype.onAdd.call(this,e)},onRemove:function(f,e){var g=this;if(f.isSubHeader){f.isSubHeader=false;f.removeCls(g.groupSubHeaderCls)}Ext.grid.header.Container.prototype.onRemove.call(this,f,e);if(!(g.destroyed||g.destroying)&&!g.hasVisibleChildColumns()&&(g.ownerCt&&!g.ownerCt.isNested())){g.hide()}},initRenderData:function(){var m=this,j="",l=m.tooltip,k=m.text,g=m.tooltipType==="qtip"?"data-qtip":"title";if(!Ext.isEmpty(l)){j=g+'="'+l+'" '}return Ext.applyIf(Ext.grid.header.Container.prototype.initRenderData.apply(this,arguments),{text:k,empty:m.isEmptyText(k),menuDisabled:m.menuDisabled,tipMarkup:j,triggerStyle:this.getTriggerVisible()?"display:block":""})},applyColumnState:function(v,s){var o=this,m=o.getSorter(),p=s&&s.sorters,q,r,u,n;if(m&&p&&(q=p.length)){n=m.getId();for(r=0;!u&&r<q;r++){if(p[r].id===n){m.setDirection(p[r].direction);p[r]=m;break}}}o.applyColumnsState(v.columns);if(v.hidden!=null){o.hidden=v.hidden}if(v.locked!=null){o.locked=v.locked}if(v.sortable!=null){o.sortable=v.sortable}if(v.width!=null){o.flex=null;o.width=v.width}else{if(v.flex!=null){o.width=null;o.flex=v.flex}}},getColumnState:function(){var g=this,e=g.items.items,f={id:g.getStateId()};g.savePropsToState(["hidden","sortable","locked","flex","width"],f);if(g.isGroupHeader&&e&&e.length){f.columns=g.getColumnsState()}if("width" in f){delete f.flex}return f},setText:function(f){var g=this,e;g.text=f;if(g.rendered){e=g.getView().ownerGrid;g.textInnerEl.setHtml(f);g.titleEl.toggleCls("x-column-header-inner-empty",g.isEmptyText(f));e.syncHeaderVisibility()}},getIndex:function(){return this.isGroupColumn?false:this.getRootHeaderCt().getHeaderIndex(this)},getVisibleIndex:function(){return this.visibleIndex!=null?this.visibleIndex:this.isGroupColumn?false:Ext.Array.indexOf(this.getRootHeaderCt().getVisibleGridColumns(),this)},getLabelChain:function(){var f=this,g=[],e;while((e=f.up("headercontainer"))){if(e.text){g.unshift(Ext.util.Format.stripTags(e.text))}f=e}return g},beforeRender:function(){var l=this,g=l.getRootHeaderCt(),k=l.isSortable(),j=[],m;Ext.grid.header.Container.prototype.beforeRender.call(this);if(!l.requiresMenu&&!k&&!l.groupable&&!l.lockable&&(g.grid.enableColumnHide===false||!g.getHideableColumns().length)){l.menuDisabled=true}if(l.cellWrap){l.variableRowHeight=true}m=l.ariaRenderAttributes||(l.ariaRenderAttributes={});m["aria-readonly"]=true;if(k){m["aria-sort"]=l.ariaSortStates[l.sortState]}if(l.isSubHeader){j=l.getLabelChain();if(l.text){j.push(Ext.util.Format.stripTags(l.text))}if(j.length){m["aria-label"]=j.join(" ")}}l.protoEl.unselectable()},getTriggerElWidth:function(){var f=this,g=f.triggerEl,e=f.self.triggerElWidth;if(g&&e===undefined){g.setStyle("display","block");e=f.self.triggerElWidth=g.getWidth();g.setStyle("display","")}return e},afterComponentLayout:function(m,j,o,k){var l=this,n=l.getRootHeaderCt();Ext.grid.header.Container.prototype.afterComponentLayout.apply(this,arguments);if(n&&(o!=null||l.flex)&&m!==o){n.onHeaderResize(l,m)}},doDestroy:function(){Ext.destroy(this.field,this.editor);Ext.grid.header.Container.prototype.doDestroy.call(this)},onTitleMouseOver:function(){this.titleEl.addCls(this.hoverCls)},onTitleMouseOut:function(){this.titleEl.removeCls(this.hoverCls)},onDownKey:function(c){if(this.triggerEl){this.onTitleElClick(c,this.triggerEl.dom||this.el.dom)}},onEnterKey:function(c){this.onTitleElClick(c,this.el.dom)},onTitleElDblClick:function(k){var m=this,e,l,j;if(m.isAtStartEdge(k)){e=m.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])");if(e&&e.getRootHeaderCt()===m.getRootHeaderCt()){e.autoSize()}}else{if(m.isAtEndEdge(k)){if(m.isGroupHeader&&k.getPoint().isContainedBy(m.layout.innerCt)){l=m.query("gridcolumn:not([hidden]):not([isGroupHeader])");m.getRootHeaderCt().autoSizeColumn(l[l.length-1]);return}else{j=m.getRootHeaderCt();if(j.visibleColumnManager.getColumns().length===1&&j.forceFit){return}}m.autoSize()}}},autoSize:function(){var m=this,l,j,g,k;if(m.isGroupHeader){l=m.query("gridcolumn:not([hidden]):not([isGroupHeader])");j=l.length;k=m.getRootHeaderCt();Ext.suspendLayouts();for(g=0;g<j;g++){k.autoSizeColumn(l[g])}Ext.resumeLayouts(true);if(grid.ownerGrid.lockable&&grid.isLayoutRoot()){grid.ownerGrid.syncLockableLayout()}return}m.getRootHeaderCt().autoSizeColumn(m)},isEmptyText:function(c){return c==null||c==="&#160;"||c===" "||c===""},onTitleElClick:function(l,p,o){var n=this,e,q,m;if(l.pointerType==="touch"){q=n.previousSibling(":not([hidden])");if(!n.menuDisabled){m=parseInt(n.triggerEl.getStyle("width"),10);if(isNaN(m)){m=n.getHandleWidth(l)*3}if(n.isAtEndEdge(l,m)){e=n}}if(!e&&q&&!q.menuDisabled&&n.isAtStartEdge(l)){e=q}}else{e=n.triggerEl&&(l.target===n.triggerEl.dom||p===n.triggerEl||l.within(n.triggerEl))?n:null}if(o!==false&&(!e&&!n.isAtStartEdge(l)&&!n.isAtEndEdge(l)||l.getKey())){n.toggleSortState()}return e},processEvent:function(l,o,e,n,m,k){return this.fireEvent.apply(this,arguments)},isSortable:function(){var g=this.getRootHeaderCt(),e=g?g.grid:null,f=this.sortable;if(e&&e.sortableColumns===false){f=false}return f},toggleSortState:function(){if(this.isSortable()){this.sort()}},sort:function(k){var l=this,m=l.up("tablepanel"),g=m.store,j=l.getSorter();Ext.suspendLayouts();if(j){if(k){j.setDirection(k)}g.sort(j,m.multiColumnSort?"multi":"replace")}else{g.sort(l.getSortParam(),k,m.multiColumnSort?"multi":"replace")}Ext.resumeLayouts(true);if(m.ownerGrid.lockable&&m.isLayoutRoot()){m.ownerGrid.syncLockableLayout()}},getSortParam:function(){return this.dataIndex},setSortState:function(m){var q=this,p=m&&m.getDirection(),n=q.ascSortCls,s=q.descSortCls,r=q.getRootHeaderCt(),l=q.ariaEl.dom,o;switch(p){case"DESC":if(!q.hasCls(s)){q.addCls(s);q.sortState="DESC";o=true}q.removeCls(n);break;case"ASC":if(!q.hasCls(n)){q.addCls(n);q.sortState="ASC";o=true}q.removeCls(s);break;default:q.removeCls([n,s]);q.sortState=null;break}if(l){if(q.sortState){l.setAttribute("aria-sort",q.ariaSortStates[q.sortState])}else{l.removeAttribute("aria-sort")}}if(o){r.fireEvent("sortchange",r,q,p)}},isHideable:function(){var c={hideCandidate:this,result:this.hideable};if(c.result){this.ownerCt.bubble(this.hasOtherMenuEnabledChildren,null,[c])}return c.result},hasOtherMenuEnabledChildren:function(e){var g,f;if(!this.isXType("headercontainer")){e.result=false;return false}g=this.query(">gridcolumn:not([hidden]):not([menuDisabled])");f=g.length;if(Ext.Array.contains(g,e.hideCandidate)){f--}if(f){return false}e.hideCandidate=this},isLockable:function(){var c={result:this.lockable!==false};if(c.result){this.ownerCt.bubble(this.hasMultipleVisibleChildren,null,[c])}return c.result},isLocked:function(){return this.locked||!!this.up("[isColumn][locked]","[isRootHeader]")},hasMultipleVisibleChildren:function(c){if(!this.isXType("headercontainer")){c.result=false;return false}if(this.query(">gridcolumn:not([hidden])").length>1){return false}},hide:function(){var f=this,g=f.getRootHeaderCt(),e=f.getRefOwner();if(e.constructing){Ext.grid.header.Container.prototype.hide.call(this);return f}if(f.rendered&&!f.isVisible()){return f}if(g.forceFit){f.visibleSiblingCount=g.getVisibleGridColumns().length-1;if(f.flex){f.savedWidth=f.getWidth();f.flex=null}}g.beginChildHide();Ext.suspendLayouts();if(e.isGroupHeader){if(f.isNestedGroupHeader()){e.hide()}if(f.isSubHeader&&!f.isGroupHeader&&e.query(">gridcolumn:not([hidden])").length===1){e.lastHiddenHeader=f}}Ext.grid.header.Container.prototype.hide.call(this);g.endChildHide();g.onHeaderHide(f);Ext.resumeLayouts(true);if(g.grid.ownerGrid.lockable&&g.grid.isLayoutRoot()){g.grid.ownerGrid.syncLockableLayout()}return f},show:function(){var f=this,e=f.getRootHeaderCt(),g=f.getRefOwner();if(f.isVisible()){return f}if(g.isGroupHeader){g.lastHiddenHeader=null}if(f.rendered){if(e.forceFit){e.applyForceFit(f)}}Ext.suspendLayouts();if(f.isSubHeader&&g.hidden){g.show(false,true)}Ext.grid.header.Container.prototype.show.apply(this,arguments);if(f.isGroupHeader){f.maybeShowNestedGroupHeader()}g=f.getRootHeaderCt();if(g){g.onHeaderShow(f)}Ext.resumeLayouts(true);if(e.grid.ownerGrid.lockable&&e.grid.isLayoutRoot()){e.grid.ownerGrid.syncLockableLayout()}return f},shouldUpdateCell:function(m,k){if(!this.preventUpdate){if(this.hasCustomRenderer){return 1}if(k){var g=k.length,l,j;for(l=0;l<g;++l){j=k[l];if(j===this.dataIndex||j===m.idProperty){return 2}}}else{return 2}}},getCellWidth:function(){var e=this,d;if(e.rendered&&e.componentLayout&&e.componentLayout.lastComponentSize){d=e.componentLayout.lastComponentSize.width}else{if(e.width){d=e.width}else{if(!e.isColumn){d=e.getTableWidth()}}}return d},getCellId:function(){return"x-grid-cell-"+this.getItemId()},getCellSelector:function(){var c=this.getView();return(c?c.getCellSelector():"")+"."+this.getCellId()},getCellInnerSelector:function(){return this.getCellSelector()+" .x-grid-cell-inner"},isAtStartEdge:function(d){var e=d.getXY()[0]-this.getX();if(e<0&&this.getIndex()===0){return false}return(e<this.getHandleWidth(d))},isAtEndEdge:function(e,d){return(this.getX()+this.getWidth()-e.getXY()[0]<=(d||this.getHandleWidth(e)))},getHandleWidth:function(c){return c.pointerType==="touch"?10:4},setMenuActive:function(c){this.activeMenu=c;this.titleEl[c?"addCls":"removeCls"](this.headerOpenCls)},privates:{_alignMap:{start:"left",end:"right"},afterText:function(e,d){if(this.dirtyText){this.dirtyTextElementId=this.id+"-dirty-cell-text";e.push('<span id="'+this.dirtyTextElementId+'" class="x-hidden-offsets">'+this.dirtyText+"</span>")}},calculateHeaderId:function(){var n=this,m,l,q,o,p,k;if(!n.headerId){m=n.up("tablepanel");if(!m){return}q=n.items.items;if(q){for(p=0,k=q.length;p<k;++p){o=q[p];if(o.isColumn){o.calculateHeaderId()}}}l=m?m.ownerGrid:n.getRootHeaderCt();l.headerCounter=(l.headerCounter||0)+1;n.headerId="h"+l.headerCounter}n.configureStateInfo()},configureStateInfo:function(){var d=this,e;if(!d.stateId){d.stateId=d.initialConfig.id||d.headerId}e=d.getSorter();if(!d.hasSetSorter&&e&&!e.initialConfig.id){if(d.dataIndex||d.stateId){e.setId((d.dataIndex||d.stateId)+"-sorter");d.hasSetSorter=true}}}},deprecated:{5:{methods:{bindRenderer:function(c){return function(b){return Ext.util.Format[c](b)}}}}}},0,["gridcolumn"],["component","box","container","headercontainer","gridcolumn"],{component:true,box:true,container:true,headercontainer:true,gridcolumn:true},["widget.gridcolumn"],0,[Ext.grid.column,"Column",Ext.grid,"Column"],0));Ext.define("Ext.theme.triton.grid.column.Column",{override:"Ext.grid.column.Column",compatibility:Ext.isIE8,onTitleMouseOver:function(){var c=this.triggerEl;arguments.callee.$previous.apply(this,arguments);if(c){c.syncRepaint()}}});(Ext.cmd.derive("Ext.grid.column.Check",Ext.grid.column.Column,{alternateClassName:["Ext.ux.CheckColumn","Ext.grid.column.CheckColumn"],isCheckColumn:true,config:{headerCheckbox:false},align:"center",triggerEvent:"click",invert:false,ignoreExport:true,stopSelection:true,headerCheckedCls:"x-grid-hd-checker-on",headerCheckboxCls:"x-column-header-checkbox",checkboxCls:"x-grid-checkcolumn",checkboxCheckedCls:"x-grid-checkcolumn-checked",innerCls:"x-grid-checkcolumn-cell-inner",clickTargetName:"el",defaultFilterType:"boolean",checkboxAriaRole:"button",constructor:function(c){this.updateHeaderState=Ext.Function.createAnimationFrame(c.updateHeaderState||this.updateHeaderState);this.scope=this;Ext.grid.column.Column.prototype.constructor.apply(this,arguments)},afterComponentLayout:function(){var c=this;Ext.grid.column.Column.prototype.afterComponentLayout.apply(this,arguments);if(c.useAriaElements&&c.headerCheckbox){c.updateHeaderAriaDescription(c.areAllChecked())}if(!c.storeListeners){c.updateHeaderState();c.storeListeners=c.getView().dataSource.on({datachanged:c.onDataChanged,scope:c,destroyable:true})}},onRemoved:function(){Ext.grid.column.Column.prototype.onRemoved.apply(this,arguments);this.storeListeners=Ext.destroy(this.storeListeners)},onDataChanged:function(e,d){this.updateHeaderState()},updateHeaderCheckbox:function(g){var f=this,e="x-column-header-checkbox";if(g){f.addCls(e);f.sortable=false;if(f.useAriaElements){f.updateHeaderAriaDescription(f.areAllChecked())}}else{f.removeCls(e);if(f.useAriaElements&&f.ariaEl.dom){f.ariaEl.dom.removeAttribute("aria-describedby")}}f.updateHeaderState()},processEvent:function(A,x,s,F,y,C,E,e){var B=this,u=A==="keydown"&&C.getKey(),v=A===B.triggerEvent,G=B.disabled,D,w;C.stopSelection=!u&&B.stopSelection;if(!G&&(v||(u===C.ENTER||u===C.SPACE))){w=!B.isRecordChecked(E);if(B.fireEvent("beforecheckchange",B,F,w,E,C)!==false){B.setRecordCheck(E,F,w,s,C);if(v&&!x.actionableMode){C.preventDefault()}if(B.hasListeners.checkchange){B.fireEvent("checkchange",B,F,w,E,C)}}}else{D=Ext.grid.column.Column.prototype.processEvent.apply(this,arguments)}return D},onTitleElClick:function(g,e,k){var j=this;if(!j.disabled&&(g.keyCode||!j.text||(Ext.fly(g.target).hasCls(j.headerCheckboxCls)))){j.toggleAll(g)}else{return Ext.grid.column.Column.prototype.onTitleElClick.call(this,g,e,k)}},toggleAll:function(n){var o=this,r=o.getView(),q=r.getStore(),p=!o.allChecked,s,m,e;if(o.fireEvent("beforeheadercheckchange",o,p,n)!==false){if(o.hasListeners.checkchange||o.hasListeners.beforecheckchange){s=n.position=new Ext.grid.CellContext(r)}q.each(function(c,b){o.setRecordCheck(c,b,p,r.getCell(c,o))});o.setHeaderStatus(p,n);o.fireEvent("headercheckchange",o,p,n)}},setHeaderStatus:function(g,f){var e=this;if(e.allChecked!==g){e.allChecked=g;if(e.headerCheckbox){e[g?"addCls":"removeCls"](e.headerCheckedCls);if(e.useAriaElements){e.updateHeaderAriaDescription(g)}}}},updateHeaderState:function(c){if(!this.destroyed&&this.headerCheckbox){this.setHeaderStatus(this.areAllChecked(),c)}},onEnable:function(){Ext.grid.column.Column.prototype.onEnable.apply(this,arguments);this._setDisabled(false)},onDisable:function(){this._setDisabled(true)},_setDisabled:function(j){var g=this,f=g.disabledCls,k;k=g.up("tablepanel").el.select(g.getCellSelector());if(j){k.addCls(f)}else{k.removeCls(f)}},defaultRenderer:function(j,m){var l=this,g=l.checkboxCls,k=l.tooltip;if(l.invert){j=!j}if(l.disabled){m.tdCls+=" "+l.disabledCls}if(j){g+=" "+l.checkboxCheckedCls;k=l.checkedTooltip||k}if(l.useAriaElements){m.tdAttr+=' aria-describedby="'+l.id+"-cell-description"+(!j?"-not":"")+'-selected"'}l.updateHeaderState();return"<span "+(k||"")+' class="'+g+'" role="'+l.checkboxAriaRole+'"'+(!l.ariaStaticRoles[l.checkboxAriaRole]?' tabIndex="0"':"")+"></span>"},isRecordChecked:function(d){var e=this.property;if(e){return d[e]}return d.get(this.dataIndex)},areAllChecked:function(){var j=this,l=j.getView().getStore(),m,g,k;if(!l.isBufferedStore&&l.getCount()>0){m=l.getData().items;g=m.length;for(k=0;k<g;++k){if(!j.isRecordChecked(m[k])){return false}}return true}},setRecordCheck:function(p,o,m,q){var n=this,l=n.property,k;if(l?p[l]:p.get(n.dataIndex)!=m){if(l){p[l]=m;n.updater(q,m)}else{p.set(n.dataIndex,m)}}},updater:function(f,g){var k=this,j=k.tooltip;if(k.invert){g=!g}if(g){j=k.checkedTooltip||j}if(j){f.setAttribute("data-qtip",j)}else{f.removeAttribute("data-qtip")}f=Ext.fly(f);if(k.useAriaElements){k.updateCellAriaDescription(null,g,f)}f[k.disabled?"addCls":"removeCls"](k.disabledCls);Ext.fly(f.down(k.getView().innerSelector,true).firstChild)[g?"addCls":"removeCls"]("x-grid-checkcolumn-checked");k.updateHeaderState()},updateHeaderAriaDescription:function(d){var e=this;if(e.useAriaElements&&e.ariaEl.dom){e.ariaEl.dom.setAttribute("aria-describedby",e.id+"-header-description"+(!d?"-not":"")+"-selected")}},updateCellAriaDescription:function(k,j,f){var g=this;if(g.useAriaElements){f=f||g.getView().getCell(k,g);if(f){f.dom.setAttribute("aria-describedby",g.id+"-cell-description"+(!j?"-not":"")+"-selected")}}},privates:{afterText:function(k,f){var j=this,g=j.id;k.push('<span role="presentation" class="',j.headerCheckboxCls,'"></span>');if(j.useAriaElements){k.push('<span id="'+g+'-header-description-selected" class="x-hidden-offsets">'+j.headerDeselectText+'</span><span id="'+g+'-header-description-not-selected" class="x-hidden-offsets">'+j.headerSelectText+'</span><span id="'+g+'-cell-description-selected" class="x-hidden-offsets">'+j.rowDeselectText+'</span><span id="'+g+'-cell-description-not-selected" class="x-hidden-offsets">'+j.rowSelectText+"</span>")}}}},1,["checkcolumn"],["component","box","container","headercontainer","gridcolumn","checkcolumn"],{component:true,box:true,container:true,headercontainer:true,gridcolumn:true,checkcolumn:true},["widget.checkcolumn"],0,[Ext.grid.column,"Check",Ext.ux,"CheckColumn",Ext.grid.column,"CheckColumn"],0));Ext.define("Ext.theme.triton.grid.column.Check",{override:"Ext.grid.column.Check",compatibility:Ext.isIE8,setRecordCheck:function(g,f,e){arguments.callee.$previous.call(this,g,f,e);e.syncRepaint()}});(Ext.cmd.derive("Ext.menu.Item",Ext.Component,{alternateClassName:"Ext.menu.TextItem",isMenuItem:true,config:{glyph:null},activated:false,activeCls:"x-menu-item-active",clickHideDelay:0,destroyMenu:true,disabledCls:"x-menu-item-disabled",hideOnClick:true,menuAlign:"tl-tr?",menuExpandDelay:200,menuHideDelay:200,tooltipType:"qtip",focusable:true,ariaRole:"menuitem",ariaEl:"itemEl",baseCls:"x-menu-item",arrowCls:"x-menu-item-arrow",baseIconCls:"x-menu-item-icon",textCls:"x-menu-item-text",indentCls:"x-menu-item-indent",indentNoSeparatorCls:"x-menu-item-indent-no-separator",indentRightIconCls:"x-menu-item-indent-right-icon",indentRightArrowCls:"x-menu-item-indent-right-arrow",linkCls:"x-menu-item-link",linkHrefCls:"x-menu-item-link-href",childEls:["itemEl","iconEl","textEl","arrowEl"],renderTpl:'<tpl if="plain">{text}<tpl else><a id="{id}-itemEl" data-ref="itemEl" class="{linkCls}<tpl if="hasHref"> {linkHrefCls}</tpl>{childElCls}" href="{href}" <tpl if="hrefTarget"> target="{hrefTarget}"</tpl> hidefocus="true" unselectable="on"<tpl if="tabIndex != null"> tabindex="{tabIndex}"</tpl><tpl foreach="ariaAttributes"> {$}="{.}"</tpl>><span id="{id}-textEl" data-ref="textEl" class="{textCls} {textCls}-{ui} {indentCls}{childElCls}" unselectable="on" role="presentation">{text}</span><tpl if="hasIcon"><div role="presentation" id="{id}-iconEl" data-ref="iconEl" class="{baseIconCls}-{ui} {baseIconCls}{[values.rightIcon ? "-right" : ""]} {iconCls}{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl><tpl if="glyph"><tpl if="glyphFontFamily">font-family:{glyphFontFamily};</tpl>">{glyph}<tpl else>"></tpl></div></tpl><tpl if="showCheckbox"><div role="presentation" id="{id}-checkEl" data-ref="checkEl" class="{baseIconCls}-{ui} {baseIconCls}{[(values.hasIcon && !values.rightIcon) ? "-right" : ""]} {groupCls} {checkboxCls}{childElCls}"></div></tpl><tpl if="hasMenu"><div role="presentation" id="{id}-arrowEl" data-ref="arrowEl" class="{arrowCls} {arrowCls}-{ui}{childElCls}"></div></tpl></a></tpl>',autoEl:{role:"presentation"},maskOnDisable:false,iconAlign:"left",initComponent:function(){var g=this,e=g.cls?[g.cls]:[],f;if(g.hasOwnProperty("canActivate")){g.focusable=g.canActivate}if(g.plain){e.push("x-menu-item-plain")}if(e.length){g.cls=e.join(" ")}if(g.menu){f=g.menu;g.menu=null;g.setMenu(f)}Ext.Component.prototype.initComponent.apply(this,arguments)},canFocus:function(){var c=this;return c.focusable&&c.rendered&&c.canActivate!==false&&!c.destroying&&!c.destroyed&&c.isVisible(true)},onFocus:function(e){var d=this;Ext.Component.prototype.onFocus.call(this,e);if(!d.plain){d.addCls(d.activeCls)}d.activated=true;if(d.hasListeners.activate){d.fireEvent("activate",d)}},onFocusLeave:function(e){var d=this;Ext.Component.prototype.onFocusLeave.call(this,e);if(!d.plain){d.removeCls(d.activeCls)}d.doHideMenu();d.activated=false;if(d.hasListeners.deactivate){d.fireEvent("deactivate",d)}},doHideMenu:function(){var c=this.menu;this.cancelDeferExpand();if(c&&c.isVisible()){c.hide()}},deferHideParentMenus:function(){for(var c=this.getRefOwner();c&&((c.isMenu&&c.floating)||c.isMenuItem);c=c.getRefOwner()){if(c.isMenu){c.hide()}}},expandMenu:function(f,e){var g=this;if(!g.disabled&&g.activated&&g.menu){g.hideOnClick=false;g.cancelDeferHide();e=e==null?g.menuExpandDelay:e;if(e===0){g.doExpandMenu(f)}else{g.cancelDeferExpand();g.expandMenuTimer=Ext.defer(g.doExpandMenu,e,g,[f])}}},doExpandMenu:function(e){var g=this,f=g.menu;if(!f.isVisible()){g.parentMenu.activeChild=f;f.ownerCmp=g;f.parentMenu=g.parentMenu;f.constrainTo=document.body;f.autoFocus=!e||!e.pointerType;f.showBy(g,g.menuAlign)}else{if(e&&e.type==="keydown"){f.focus()}}},getRefItems:function(e){var f=this.menu,g;if(f){g=f.getRefItems(e);g.unshift(f)}return g||[]},getValue:function(){return this.value},hideMenu:function(d){var e=this;if(e.menu){e.cancelDeferExpand();e.hideMenuTimer=Ext.defer(e.doHideMenu,Ext.isNumber(d)?d:e.menuHideDelay,e)}},onClick:function(l){var m=this,n=m.clickHideDelay,k=l.browserEvent,o,e;if(!m.href||m.disabled){l.stopEvent();if(m.disabled){return false}}if(m.disabled||m.handlingClick){return}if(m.hideOnClick&&!m.menu){if(!n){m.deferHideParentMenus()}else{m.deferHideParentMenusTimer=Ext.defer(m.deferHideParentMenus,n,m)}}o=m.fireEvent("click",m,l);if(m.destroyed){return}if(o!==false&&m.handler){Ext.callback(m.handler,m.scope,[m,l],0,m)}if(m.destroyed){return}if(Ext.isIE9m){e=k.returnValue===false?true:false}else{e=!!k.defaultPrevented}if(m.href&&l.type!=="click"&&!e){m.handlingClick=true;m.itemEl.dom.click();m.handlingClick=false}if(!m.hideOnClick&&!m.hasFocus){m.focus()}return o},onRemoved:function(){var c=this;if(c.activated&&c.parentMenu.activeItem===c){c.parentMenu.deactivateActiveItem()}Ext.Component.prototype.onRemoved.apply(this,arguments);c.parentMenu=c.ownerCmp=null},doDestroy:function(){var c=this;if(c.rendered){c.clearTip()}c.cancelDeferExpand();c.cancelDeferHide();clearTimeout(c.deferHideParentMenusTimer);c.setMenu(null);Ext.Component.prototype.doDestroy.call(this)},beforeRender:function(){var p=this,o=p.glyph,q,u=!!(p.icon||p.iconCls||o),n=!!p.menu,s=((p.iconAlign==="right")&&!n),w=p.isMenuCheckItem,x=[],v=p.ownerCt,r=v.plain;if(p.plain){p.ariaEl="el"}Ext.Component.prototype.beforeRender.call(this);if(u){if(n&&p.showCheckbox){u=false}}if(o){q=o.fontFamily;o=o.character}if(!r||(u&&!s)||w){if(v.showSeparator&&!r){x.push(p.indentCls)}else{x.push(p.indentNoSeparatorCls)}}if(n){x.push(p.indentRightArrowCls)}else{if(u&&(s||w)){x.push(p.indentRightIconCls)}}Ext.applyIf(p.renderData,{hasHref:!!p.href,href:p.href||"#",hrefTarget:p.hrefTarget,icon:p.icon,iconCls:p.iconCls,glyph:o,glyphCls:o?"x-menu-item-glyph":undefined,glyphFontFamily:q,hasIcon:u,hasMenu:n,indent:!r||u||w,isCheckItem:w,rightIcon:s,plain:p.plain,text:p.text,arrowCls:p.arrowCls,baseIconCls:p.baseIconCls,textCls:p.textCls,indentCls:x.join(" "),linkCls:p.linkCls,linkHrefCls:p.linkHrefCls,groupCls:p.group?p.groupCls:"",tabIndex:p.tabIndex})},onRender:function(){var c=this;Ext.Component.prototype.onRender.apply(this,arguments);if(c.tooltip){c.setTooltip(c.tooltip,true)}},getMenu:function(){return this.menu||null},setMenu:function(m,n){var o=this,r=o.menu,s=o.arrowEl,l=o.ariaEl.dom,p,q;if(r){r.ownerCmp=r.parentMenu=null;if(n===true||(n!==false&&o.destroyMenu)){Ext.destroy(r)}if(l){l.removeAttribute("aria-haspopup");l.removeAttribute("aria-owns")}else{p=(o.ariaRenderAttributes||(o.ariaRenderAttributes={}));delete p["aria-haspopup"];delete p["aria-owns"]}}if(m){q=m.isMenu;m=o.menu=Ext.menu.Manager.get(m,{ownerCmp:o,focusOnToFront:false});m.setOwnerCmp(o,q);if(l){l.setAttribute("aria-haspopup",true);l.setAttribute("aria-owns",m.id)}else{p=(o.ariaRenderAttributes||(o.ariaRenderAttributes={}));p["aria-haspopup"]=true;p["aria-owns"]=m.id}}else{m=o.menu=null}if(m&&o.rendered&&!o.destroying&&s){s[m?"addCls":"removeCls"](o.arrowCls)}},setHandler:function(e,d){this.handler=e||null;this.scope=d},setIcon:function(k){var j=this,f=j.iconEl,g=j.icon;if(j.glyph){j.setGlyph(null)}if(f){f.setStyle("background-image",k?"url("+k+")":"")}j.icon=k;j.fireEvent("iconchange",j,g,k)},setIconCls:function(k){var g=this,f=g.iconEl,j=g.iconCls;if(g.glyph){g.setGlyph(null)}if(f){f.setStyle("background-image","");if(g.iconCls){f.removeCls(g.iconCls)}if(k){f.addCls(k)}}g.iconCls=k;g.fireEvent("iconchange",g,j,k)},setText:function(g){var j=this,k=j.textEl||j.el,f=j.text;j.text=g;if(j.rendered){k.setHtml(g||"");j.updateLayout()}j.fireEvent("textchange",j,f,g)},getTipAttr:function(){return this.tooltipType==="qtip"?"data-qtip":"title"},clearTip:function(){if(Ext.quickTipsActive&&Ext.isObject(this.tooltip)){Ext.tip.QuickTipManager.unregister(this.itemEl)}},setTooltip:function(f,e){var g=this;if(g.rendered){if(!e){g.clearTip()}if(Ext.quickTipsActive&&Ext.isObject(f)){Ext.tip.QuickTipManager.register(Ext.apply({target:g.itemEl.id},f));g.tooltip=f}else{g.itemEl.dom.setAttribute(g.getTipAttr(),f)}}else{g.tooltip=f}return g},getFocusEl:function(){return this.plain?this.el:this.itemEl},getFocusClsEl:function(){return this.el},privates:{cancelDeferExpand:function(){window.clearTimeout(this.expandMenuTimer)},cancelDeferHide:function(){window.clearTimeout(this.hideMenuTimer)}},applyGlyph:function(e,d){if(e){if(!e.isGlyph){e=new Ext.Glyph(e)}if(e.isEqual(d)){e=undefined}}return e},updateGlyph:function(f,g){var e=this.iconEl;if(e){e.setStyle("background-image","none");this.icon=null;if(f){e.dom.innerHTML=f.character;e.setStyle(f.getStyle())}else{e.dom.innerHTML=""}}}},0,["menuitem"],["component","box","menuitem"],{component:true,box:true,menuitem:true},["widget.menuitem"],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.menu,"Item",Ext.menu,"TextItem"],0));Ext.define("Ext.theme.triton.menu.Item",{override:"Ext.menu.Item",compatibility:Ext.isIE8,onFocus:function(c){(arguments.callee.$previous||Ext.Component.prototype.onFocus).call(this,c);this.repaintIcons()},onFocusLeave:function(c){(arguments.callee.$previous||Ext.Component.prototype.onFocusLeave).call(this,c);this.repaintIcons()},privates:{repaintIcons:function(){var f=this.iconEl,g=this.arrowEl,e=this.checkEl;if(f){f.syncRepaint()}if(g){g.syncRepaint()}if(e){e.syncRepaint()}}}});(Ext.cmd.derive("Ext.menu.CheckItem",Ext.menu.Item,{checkedCls:"x-menu-item-checked",uncheckedCls:"x-menu-item-unchecked",groupCls:"x-menu-group-icon",hideOnClick:false,checkChangeDisabled:false,submenuText:"{0} submenu",ariaRole:"menuitemcheckbox",childEls:["checkEl"],defaultBindProperty:"checked",showCheckbox:true,isMenuCheckItem:true,checkboxCls:"x-menu-item-checkbox",initComponent:function(){var c=this;c.checked=!!c.checked;Ext.menu.Item.prototype.initComponent.apply(this,arguments);if(c.group){Ext.menu.Manager.registerCheckable(c);if(c.initialConfig.hideOnClick!==false){c.hideOnClick=true}}},beforeRender:function(){var e=this,d;Ext.menu.Item.prototype.beforeRender.call(this);Ext.apply(e.renderData,{checkboxCls:e.checkboxCls,showCheckbox:e.showCheckbox});d=(e.ariaRenderAttributes||(e.ariaRenderAttributes={}));d["aria-checked"]=e.menu?"mixed":e.checked;if(e.menu){d["aria-label"]=Ext.String.formatEncode(e.submenuText,e.text)}},afterRender:function(){var c=this;Ext.menu.Item.prototype.afterRender.call(this);c.checked=!c.checked;c.setChecked(!c.checked,true);if(c.checkChangeDisabled){c.disableCheckChange()}if(Ext.isGecko&&c.checkEl){c.checkEl.on("mousedown",c.onMouseDownCheck)}},disableCheckChange:function(){var e=this,d=e.checkEl;if(d){d.addCls(e.disabledCls)}if(Ext.isIE8&&e.rendered){e.el.repaint()}e.checkChangeDisabled=true},enableCheckChange:function(){var e=this,d=e.checkEl;if(d){d.removeCls(e.disabledCls)}e.checkChangeDisabled=false},onMouseDownCheck:function(c){c.preventDefault()},onClick:function(e){var d=this;if(!(d.disabled||d.checkChangeDisabled||d.checked&&d.group||d.menu&&"touch"===e.pointerType&&!d.checkEl.contains(e.target))){d.setChecked(!d.checked);if(e.type==="keydown"&&d.menu){return false}}Ext.menu.Item.prototype.onClick.call(this,e)},doDestroy:function(){Ext.menu.Manager.unregisterCheckable(this);Ext.menu.Item.prototype.doDestroy.call(this)},setText:function(f){var g=this,e=g.ariaEl.dom;Ext.menu.Item.prototype.setText.call(this,f);if(e&&g.menu){e.setAttribute("aria-label",Ext.String.formatEncode(g.submenuText,f))}},setChecked:function(n,p){var o=this,m=o.checkedCls,l=o.uncheckedCls,q=o.el,k=o.ariaEl.dom;if(o.checked!==n&&(p||o.fireEvent("beforecheckchange",o,n)!==false)){if(q){if(n){q.addCls(m);q.removeCls(l)}else{q.addCls(l);q.removeCls(m)}}if(k){k.setAttribute("aria-checked",o.menu?"mixed":!!n)}o.checked=n;Ext.menu.Manager.onCheckChange(o,n);o.publishState("checked",n);if(!p){Ext.callback(o.checkHandler,o.scope,[o,n],0,o);o.fireEvent("checkchange",o,n)}}}},0,["menucheckitem"],["component","box","menuitem","menucheckitem"],{component:true,box:true,menuitem:true,menucheckitem:true},["widget.menucheckitem"],0,[Ext.menu,"CheckItem"],0));(Ext.cmd.derive("Ext.menu.Separator",Ext.menu.Item,{focusable:false,canActivate:false,hideOnClick:false,plain:true,separatorCls:"x-menu-item-separator",text:"&#160;",ariaRole:"separator",beforeRender:function(){this.addCls(this.separatorCls);Ext.menu.Item.prototype.beforeRender.call(this)}},0,["menuseparator"],["component","box","menuitem","menuseparator"],{component:true,box:true,menuitem:true,menuseparator:true},["widget.menuseparator"],0,[Ext.menu,"Separator"],0));Ext.define("Ext.theme.neptune.menu.Separator",{override:"Ext.menu.Separator",border:true});(Ext.cmd.derive("Ext.menu.Menu",Ext.panel.Panel,{defaultType:"menuitem",enableKeyNav:true,allowOtherMenus:false,ariaRole:"menu",floating:true,constrain:true,hidden:true,hideMode:"visibility",ignoreParentClicks:false,mouseLeaveDelay:100,isMenu:true,showSeparator:true,minWidth:undefined,defaultMinWidth:120,defaultAlign:"tl-bl?",focusOnToFront:false,bringParentToFront:false,alignOnScroll:false,focusable:true,tabIndex:-1,defaultFocus:":focusable",allowFocusingDisabledChildren:true,menuClickBuffer:0,baseCls:"x-menu",_iconSeparatorCls:"x-menu-icon-separator",_itemCmpCls:"x-menu-item-cmp",layout:{type:"vbox",align:"stretchmax",overflowHandler:"Scroller"},initComponent:function(){var l=this,g=["x-menu"],k=l.bodyCls?[l.bodyCls]:[],j=l.floating!==false,m={element:"el",click:l.onClick,mouseover:l.onMouseOver,scope:l};if(Ext.supports.Touch){m.pointerdown=l.onMouseOver}l.on(m);l.on({beforeshow:l.onBeforeShow,scope:l});if(l.plain){g.push("x-menu-plain")}l.cls=g.join(" ");k.push("x-menu-body",Ext.dom.Element.unselectableCls);l.bodyCls=k.join(" ");if(j){if(l.minWidth===undefined){l.minWidth=l.defaultMinWidth}}else{l.hidden=!!l.initialConfig.hidden;l.constrain=false}Ext.panel.Panel.prototype.initComponent.apply(this,arguments);Ext.override(l.getLayout(),{configureItem:l.configureItem});l.itemOverTask=new Ext.util.DelayedTask(l.handleItemOver,l)},initFloatConstrain:Ext.emptyFn,getInherited:function(){var c=Ext.panel.Panel.prototype.getInherited.call(this);if(this.floating){c.hidden=this.hidden}return c},beforeRender:function(){var c=this;Ext.panel.Panel.prototype.beforeRender.apply(this,arguments);if(!c.getSizeModel().width.shrinkWrap){c.layout.align="stretch"}if(c.floating){c.ariaRenderAttributes=c.ariaRenderAttributes||{};c.ariaRenderAttributes["aria-expanded"]=!!c.autoShow}},onBoxReady:function(){var g=this,f=g._iconSeparatorCls,e=g.focusableKeyNav;if(e){e.map.processEventScope=g;e.map.processEvent=function(b){if(b.keyCode===b.ESC){b.target=this.el.dom}return b};e.map.addBinding([{key:Ext.event.Event.ESC,handler:g.onEscapeKey,scope:g},{key:/[\w]/,handler:g.onShortcutKey,scope:g,shift:false,ctrl:false,alt:false}])}else{g.escapeKeyNav=new Ext.util.KeyNav(g.el,{eventName:"keydown",scope:g,esc:g.onEscapeKey})}Ext.panel.Panel.prototype.onBoxReady.apply(this,arguments);if(g.showSeparator){g.iconSepEl=g.body.insertFirst({role:"presentation",cls:f+" "+f+"-"+g.ui,html:"&#160;"})}if(Ext.supports.Touch||Ext.supports.MSPointerEvents||Ext.supports.PointerEvents){g.el.on({scope:g,click:g.preventClick,translate:false})}g.mouseMonitor=g.el.monitorMouseLeave(g.mouseLeaveDelay,g.onMouseLeave,g)},onFocusEnter:function(g){var e=this,f;Ext.panel.Panel.prototype.onFocusEnter.call(this,g);e.mixins.focusablecontainer.onFocusEnter.call(e,g);if(e.floating){f=e.getInherited();if(!f.topmostFocusEvent){f.topmostFocusEvent=g}}},onFocusLeave:function(e){var d=this;Ext.panel.Panel.prototype.onFocusLeave.call(this,e);d.lastFocusedChild=null;d.mixins.focusablecontainer.onFocusLeave.call(d,e);if(d.floating){d.hide()}},handleItemOver:function(e,d){if(!d.containsFocus&&(e.pointerType==="mouse"||d.isMenuItem)){d.focus()}if(d.expandMenu){d.expandMenu(e)}},canActivateItem:function(c){return c&&c.isFocusable()},deactivateActiveItem:function(){var d=this,e=d.lastFocusedChild;if(e){e.blur()}},getItemFromEvent:function(g){var e=this,j=e.layout.getRenderTarget().dom,k=g.getTarget();while(k.parentNode!==j){k=k.parentNode;if(!k){return}}return Ext.getCmp(k.id)},lookupComponent:function(e){var d=this;if(typeof e==="string"){if(e[0]==="@"){e=Ext.panel.Panel.prototype.lookupComponent.call(this,e)}else{e=d.lookupItemFromString(e)}}else{if(Ext.isObject(e)){e=d.lookupItemFromObject(e)}}if(!e.dock){e.minWidth=e.minWidth||d.minWidth}return e},lookupItemFromObject:function(e){var d=this.defaultType;if(!e.isComponent){if(!e.xtype&&Ext.isBoolean(e.checked)){d="menucheckitem"}e=Ext.ComponentManager.create(e,d)}if(e.isMenuItem){e.parentMenu=this}return e},lookupItemFromString:function(c){return(c==="separator"||c==="-")?new Ext.menu.Separator():new Ext.menu.Item({canActivate:false,hideOnClick:false,plain:true,text:c})},configureItem:function(n){var o=this.owner,l="x-",m=o.ui,j,k;if(n.isMenuItem){n.setUI(m)}else{if(o.items.getCount()>1&&!n.rendered&&!n.dock){k=o._itemCmpCls;j=[k+" "+k+"-"+m];if(!o.plain&&(n.indent!==false||n.iconCls==="no-icon")){j.push(l+"menu-item-indent-"+m)}if(n.rendered){n.el.addCls(j)}else{n.cls=(n.cls||"")+" "+j.join(" ")}n.$extraMenuCls=j}}this.callParent(arguments)},onRemove:function(c){Ext.panel.Panel.prototype.onRemove.call(this,c);if(!c.destroyed&&c.$extraMenuCls){c.el.removeCls(c.$extraMenuCls)}},onClick:function(k){var l=this,n=k.type,m,o,e=n==="keydown";if(l.disabled){k.stopEvent();return}m=l.getItemFromEvent(k);if(m&&m.isMenuItem){if(!m.menu||!l.ignoreParentClicks){o=m.onClick(k)}else{k.stopEvent()}if(l.destroyed){return}if(m.menu&&o!==false&&e){m.expandMenu(k,0)}}if(!m||m.disabled){m=undefined}l.fireEvent("click",l,m,k)},doDestroy:function(){var c=this;if(c.escapeKeyNav){c.escapeKeyNav.destroy()}c.parentMenu=c.ownerCmp=c.escapeKeyNav=null;if(c.rendered){c.el.un(c.mouseMonitor);Ext.destroy(c.iconSepEl)}Ext.menu.Manager.onHide(c);Ext.panel.Panel.prototype.doDestroy.call(this)},onMouseLeave:function(e){var d=this;if(d.itemOverTask){d.itemOverTask.cancel()}if(d.disabled){return}d.fireEvent("mouseleave",d,e)},onMouseOver:function(m){var n=this,l=m.getRelatedTarget(),q=!n.el.contains(l),o=n.getItemFromEvent(m),p=n.parentMenu,e=n.ownerCmp;if(q&&p){p.setActiveItem(e);e.cancelDeferHide();p.mouseMonitor.mouseenter();p.itemOverTask.cancel()}if(n.disabled){return}if(o){n.itemOverTask.delay(n.mouseLeaveDelay,null,null,[m,o])}if(q){n.fireEvent("mouseenter",n,m)}n.fireEvent("mouseover",n,o,m)},setActiveItem:function(e){var d=this;if(e&&(e!==d.lastFocusedChild)){d.focusChild(e,1)}},onEscapeKey:function(){if(this.floating){this.hide()}},onShortcutKey:function(n,o){var s=String.fromCharCode(o.getCharCode()),r=this.query(">[text]"),e=r.length,p=this.lastFocusedChild,m=Ext.Array.indexOf(r,p),q=m;if(e===0){return}for(;;){if(++q===e){q=0}p=r[q];if(q===m){return}if(p.text&&p.text[0].toUpperCase()===s){p.focus();return}}},onBeforeShow:function(){if(Ext.Date.getElapsed(this.lastHide)<this.menuClickBuffer){return false}},beforeShow:function(){var e=this,d;if(e.floating){d=e.hasFloatMenuParent();if(!d&&!e.allowOtherMenus){Ext.menu.Manager.hideAll()}}Ext.panel.Panel.prototype.beforeShow.apply(this,arguments)},afterShow:function(){var e=this,d=e.ariaEl.dom;Ext.panel.Panel.prototype.afterShow.apply(this,arguments);Ext.menu.Manager.onShow(e);if(e.floating&&d){d.setAttribute("aria-expanded",true)}if(e.floating){e.maxHeight=e.savedMaxHeight}if(e.autoFocus){e.focus()}},onHide:function(j,m,l){var k=this,g=k.ariaEl.dom;Ext.panel.Panel.prototype.onHide.call(this,j,m,l);k.lastHide=Ext.Date.now();Ext.menu.Manager.onHide(k);if(k.floating&&g){g.setAttribute("aria-expanded",false)}},afterHide:function(d,e){Ext.panel.Panel.prototype.afterHide.call(this,d,e);delete this.getInherited().topmostFocusEvent},preventClick:function(e){var d=this.getItemFromEvent(e);if(d&&d.isMenuItem&&!d.href){e.preventDefault()}},privates:{applyDefaults:function(c){if(!Ext.isString(c)){c=Ext.panel.Panel.prototype.applyDefaults.apply(this,arguments)}return c},initFocusableElement:function(){var f=this,e=f.tabIndex,g=f.el;if(f.floating&&e!=null&&g&&g.dom){g.dom.setAttribute("tabIndex",e);g.dom.setAttribute("data-componentid",f.id)}},onFocusableContainerTabKey:function(e){var d=this;if(d.floating){if(e.shiftKey){e.preventDefault()}else{d.focusEnterEvent=d.getInherited().topmostFocusEvent}d.hide()}},onFocusableContainerEnterKey:function(c){this.onClick(c)},onFocusableContainerSpaceKey:function(c){this.onClick(c)},onFocusableContainerLeftKey:function(c){c.preventDefault();if(this.parentMenu){this.ownerCmp.focus();this.hide()}},onFocusableContainerRightKey:function(g){var e=this,f=e.lastFocusedChild;g.preventDefault();if(f&&f.expandMenu){f.expandMenu(g,0)}},hasFloatMenuParent:function(){return this.parentMenu||this.up("menu[floating=true]")},setOwnerCmp:function(g,e){var f=this;f.parentMenu=g.isMenuItem?g:null;f.ownerCmp=g;f.registerWithOwnerCt();delete f.hierarchicallyHidden;f.onInheritedAdd(g,e);f.containerOnAdded(g,e)}}},0,["menu"],["component","box","container","panel","menu"],{component:true,box:true,container:true,panel:true,menu:true},["widget.menu"],[[Ext.util.FocusableContainer.prototype.mixinId||Ext.util.FocusableContainer.$className,Ext.util.FocusableContainer]],[Ext.menu,"Menu"],0));Ext.define("Ext.theme.neptune.menu.Menu",{override:"Ext.menu.Menu",showSeparator:false});Ext.define("Ext.theme.triton.menu.Menu",{override:"Ext.menu.Menu",compatibility:Ext.isIE8,afterShow:function(){var j=this,m,k,l,g;(arguments.callee.$previous||Ext.panel.Panel.prototype.afterShow).apply(this,arguments);m=j.items.getRange();for(l=0,g=m.length;l<g;l++){k=m[l];if(k&&k.repaintIcons){k.repaintIcons()}}}});(Ext.cmd.derive("Ext.grid.locking.HeaderContainer",Ext.grid.header.Container,{headerCtRelayEvents:["blur","focus","move","resize","destroy","beforedestroy","boxready","afterrender","render","beforerender","removed","hide","beforehide","show","beforeshow","enable","disable","added","deactivate","beforedeactivate","activate","beforeactivate","remove","add","beforeremove","beforeadd","afterlayout","menucreate","sortchange","columnschanged","columnshow","columnhide","columnmove","headertriggerclick","headercontextmenu","headerclick","columnresize","statesave","beforestatesave","staterestore","beforestaterestore"],constructor:function(k){var f=this,g=k.lockedGrid,j=k.normalGrid;f.lockable=k;Ext.grid.header.Container.prototype.constructor.call(this);g.visibleColumnManager.rootColumns=j.visibleColumnManager.rootColumns=k.visibleColumnManager=f.visibleColumnManager=new Ext.grid.ColumnManager(true,g.headerCt,j.headerCt);g.columnManager.rootColumns=j.columnManager.rootColumns=k.columnManager=f.columnManager=new Ext.grid.ColumnManager(false,g.headerCt,j.headerCt);f.lockedEventRelayers=f.relayEvents(g.headerCt,f.headerCtRelayEvents);f.normalEventRelayers=f.relayEvents(j.headerCt,f.headerCtRelayEvents)},destroy:function(){var c=this;Ext.destroy(c.lockedEventRelayers,c.normalEventRelayers);c.lockedEventRelayers=c.normalEventRelayers=null;Ext.grid.header.Container.prototype.destroy.call(this)},getRefItems:function(){return this.lockable.lockedGrid.headerCt.getRefItems().concat(this.lockable.normalGrid.headerCt.getRefItems())},getGridColumns:function(){return this.lockable.lockedGrid.headerCt.getGridColumns().concat(this.lockable.normalGrid.headerCt.getGridColumns())},getColumnsState:function(){var g=this,e=g.lockable.lockedGrid.headerCt.getColumnsState(),f=g.lockable.normalGrid.headerCt.getColumnsState();return e.concat(f)},applyColumnsState:function(q,D){var u=this,B=u.lockable.lockedGrid,A=B.headerCt,v=u.lockable.normalGrid.headerCt,y=A.items.items.concat(v.items.items),E=y.length,w,C,r,x,s;for(w=0;w<E;w++){C=y[w];x=q[C.getStateId()];if(x){r=x.locked!=null&&Boolean(C.locked)!==x.locked;if(C.applyColumnState){C.applyColumnState(x,D)}if(r){(C.locked?A:v).add(C)}}}s=A.items.items.length;for(w=0;w<E;w++){C=y[w];x=q[C.getStateId()];if(x&&!C.locked){x.index-=s}}A.applyColumnsState(q,D);v.applyColumnsState(q,D)},disable:function(){var c=this.lockable;c.lockedGrid.headerCt.disable();c.normalGrid.headerCt.disable()},enable:function(){var c=this.lockable;c.lockedGrid.headerCt.enable();c.normalGrid.headerCt.enable()}},1,0,["component","box","container","headercontainer"],{component:true,box:true,container:true,headercontainer:true},0,0,[Ext.grid.locking,"HeaderContainer"],0));(Ext.cmd.derive("Ext.grid.locking.View",Ext.Base,{alternateClassName:"Ext.grid.LockingView",isLockingView:true,loadMask:true,eventRelayRe:/^(beforeitem|beforecontainer|item|container|cell|refresh)/,constructor:function(g){var l=Ext,j=this,k,m;j.ownerGrid=g.ownerGrid;j.ownerGrid.view=j;j.navigationModel=g.locked.xtype==="treepanel"?new l.tree.NavigationModel(j):new l.grid.NavigationModel(j);g.locked.viewConfig.bindStore=l.emptyFn;g.normal.viewConfig.bindStore=j.subViewBindStore;g.normal.viewConfig.isNormalView=g.locked.viewConfig.isLockedView=true;g.locked.viewConfig.navigationModel=g.normal.viewConfig.navigationModel=j.navigationModel;j.lockedGrid=j.ownerGrid.lockedGrid=l.ComponentManager.create(g.locked);j.lockedView=k=j.lockedGrid.getView();j.selModel=g.normal.viewConfig.selModel=k.getSelectionModel();if(j.lockedGrid.isTree){j.lockedView.animate=false;g.normal.store=k.store;g.normal.viewConfig.stripeRows=j.lockedView.stripeRows;g.normal.rowLines=j.lockedGrid.rowLines}j.normalGrid=j.ownerGrid.normalGrid=l.ComponentManager.create(g.normal);k.lockingPartner=m=j.normalView=j.normalGrid.getView();m.lockingPartner=k;Ext.override(j.normalGrid,{beforeRender:j.beforeNormalGridRender});j.loadMask=(g.loadMask!==undefined)?g.loadMask:j.loadMask;j.mixins.observable.constructor.call(j);j.lockedViewEventRelayers=j.relayEvents(k,l.view.Table.events);j.normalViewEventRelayers=j.relayEvents(m,l.view.Table.events.concat(l.view.Table.normalSideEvents));m.on({scope:j,itemmouseleave:j.onItemMouseLeave,itemmouseenter:j.onItemMouseEnter});k.on({scope:j,itemmouseleave:j.onItemMouseLeave,itemmouseenter:j.onItemMouseEnter});j.loadingText=m.loadingText;j.loadingCls=m.loadingCls;j.loadingUseMsg=m.loadingUseMsg;j.itemSelector=j.getItemSelector();j.all=m.all;j.bindStore(m.dataSource,true,"dataSource")},subViewBindStore:function(m,l){var j=this,k=j.ownerGrid,g;if(j.destroying||j.destroyed||k.destroying||k.destroyed){return}g=j.getSelectionModel();g.bindStore(m,l);g.bindComponent(j)},beforeNormalGridRender:function(){if(this.ownerGrid.lockedGrid.getHeader()&&!this.title){this.title="\xa0"}this.callParent()},onPanelRender:function(j){var g=this,k=g.loadMask,f={target:g.ownerGrid,msg:g.loadingText,msgCls:g.loadingCls,useMsg:g.loadingUseMsg,store:g.ownerGrid.store};g.el=j;g.rendered=true;g.fireEvent("render",g);if(k){if(Ext.isObject(k)){f=Ext.apply(f,k)}g.loadMask=new Ext.LoadMask(f)}},getRefOwner:function(){return this.ownerGrid},getVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},getGridColumns:function(){return this.getVisibleColumnManager().getColumns()},getEl:function(c){return this.getViewForColumn(c).getEl()},getCellSelector:function(){return this.normalView.getCellSelector()},getItemSelector:function(){return this.normalView.getItemSelector()},getViewForColumn:function(g){var e=this.lockedView,f;e.headerCt.cascade(function(b){if(b===g){f=true;return false}});return f?e:this.normalView},onItemMouseEnter:function(n,o){var k=this,m=k.lockedView,j=k.normalView,l;if(n.trackOver){if(n!==m){j=m}l=j.getNode(o);j.highlightItem(l)}},onItemMouseLeave:function(l,m){var j=this,k=j.lockedView,g=j.normalView;if(l.trackOver){if(l!==k){g=k}g.clearHighlight()}},relayFn:function(j,k){k=k||[];var g=this,f=g.lockedView;g.relayingOperation=true;f[j].apply(f,k);f=g.normalView;f[j].apply(f,k);g.relayingOperation=false},getSelectionModel:function(){return this.normalView.getSelectionModel()},getNavigationModel:function(){return this.navigationModel},getStore:function(){return this.ownerGrid.store},onBindStore:function(j,o,k){var l=this,m=l.lockedView,n=l.normalView;if(n.componentLayoutCounter&&!(m.blockRefresh&&n.blockRefresh)){Ext.suspendLayouts();m.doFirstRefresh(j);n.doFirstRefresh(j);Ext.resumeLayouts(true)}},getStoreListeners:function(){var c=this;return{priority:1000,refresh:c.onDataRefresh,replace:c.onReplace,add:c.onAdd,remove:c.onRemove,update:c.onUpdate,clear:c.onDataRefresh,beginupdate:c.onBeginUpdate,endupdate:c.onEndUpdate}},onOwnerGridHide:function(){Ext.suspendLayouts();this.relayFn("onOwnerGridHide",arguments);Ext.resumeLayouts(true)},onOwnerGridShow:function(){Ext.suspendLayouts();this.relayFn("onOwnerGridShow",arguments);Ext.resumeLayouts(true)},onBeginUpdate:function(){Ext.suspendLayouts();this.relayFn("onBeginUpdate",arguments);Ext.resumeLayouts(true)},onEndUpdate:function(){Ext.suspendLayouts();this.relayFn("onEndUpdate",arguments);Ext.resumeLayouts(true)},onDataRefresh:function(){Ext.suspendLayouts();this.relayFn("onDataRefresh",arguments);Ext.resumeLayouts(true)},onReplace:function(){Ext.suspendLayouts();this.relayFn("onReplace",arguments);Ext.resumeLayouts(true)},onAdd:function(){Ext.suspendLayouts();this.relayFn("onAdd",arguments);Ext.resumeLayouts(true)},onRemove:function(){Ext.suspendLayouts();this.relayFn("onRemove",arguments);Ext.resumeLayouts(true)},setActionableMode:function(g,k){var f,j;if(g){if(!k){k=this.getNavigationModel().getPosition()}if(k){k=k.clone();k.view=j=k.column.getView();f=j.setActionableMode(g,k);if(f!==false&&j.lockingPartner.grid.isVisible()){j.lockingPartner.setActionableMode(g,k);if(!j.lockingPartner.actionableMode){j.setActionableMode(false);f=false}}return f}else{return false}}else{this.relayFn("setActionableMode",[false])}},onUpdate:function(){Ext.suspendLayouts();this.relayFn("onUpdate",arguments);Ext.resumeLayouts(true)},refresh:function(){var e=this.lockedView,d=this.normalView;Ext.suspendLayouts();e.clearViewEl(true);d.clearViewEl(true);d.refresh();e.refresh();Ext.resumeLayouts(true)},refreshView:function(){var g=this.lockedView,e=this.normalView,f=e.all.startIndex;Ext.suspendLayouts();g.clearViewEl(true);e.clearViewEl(true);e.refreshView(f);g.refreshView(f);Ext.resumeLayouts(true)},setScrollable:function(c){Ext.suspendLayouts();this.lockedView.setScrollable(c);if(c.isScroller){c=new Ext.scroll.Scroller(c.initialConfig)}this.normalView.setScrollable(c);Ext.resumeLayouts(true)},getNode:function(c){return this.normalView.getNode(c)},getRow:function(c){return this.normalView.getRow(c)},getCell:function(k,j){var f=this.getViewForColumn(j),g=f.getRow(k);return Ext.fly(g).down(j.getCellSelector())},indexOf:function(e){var d=this.lockedView.indexOf(e);if(!d){d=this.normalView.indexOf(e)}return d},focus:function(){var c=this.ownerGrid.down(">tablepanel:not(hidden)>tableview");if(c){c.focus()}},focusRow:function(f){var e,g=this.getNavigationModel().lastFocused;e=g?g.view:this.normalView;e.focusRow(f)},focusCell:function(c){c.view.focusCell(c)},onRowFocus:function(){this.relayFn("onRowFocus",arguments)},isVisible:function(c){return this.ownerGrid.isVisible(c)},getCellInclusive:function(g,k){var f=g.column,j=this.lockedGrid.getColumnManager().getColumns().length;if(f>=j){g=Ext.apply({},g);g.column-=j;return this.normalView.getCellInclusive(g,k)}else{return this.lockedView.getCellInclusive(g,k)}},getHeaderByCell:function(c){if(c){return this.getVisibleColumnManager().getHeaderById(c.getAttribute("data-columnId"))}return false},onRowSelect:function(){this.relayFn("onRowSelect",arguments)},onRowDeselect:function(){this.relayFn("onRowDeselect",arguments)},onCellSelect:function(c){c.column.getView().onCellSelect({record:c.record,column:c.column})},onCellDeselect:function(c){c.column.getView().onCellDeselect({record:c.record,column:c.column})},getCellByPosition:function(j,l){var k=this,g=j.view,m=j.column;if(g===k){j=new Ext.grid.CellContext(m.getView()).setPosition(j.record,j.column)}return g.getCellByPosition(j,l)},getRecord:function(e){var d=this.lockedView.getRecord(e);if(!d){d=this.normalView.getRecord(e)}return d},scrollBy:function(){var c=this.ownerGrid.getScrollable();c.scrollBy.apply(c,arguments)},ensureVisible:function(){var c=this.normalView;c.ensureVisible.apply(c,arguments)},disable:function(){this.relayFn("disable",arguments)},enable:function(){this.relayFn("enable",arguments)},addElListener:function(){this.relayFn("addElListener",arguments)},refreshNode:function(){this.relayFn("refreshNode",arguments)},addRowCls:function(){this.relayFn("addRowCls",arguments)},removeRowCls:function(){this.relayFn("removeRowCls",arguments)},destroy:function(){var c=this;c.rendered=false;c.bindStore(null,false,"dataSource");Ext.destroy(c.selModel,c.navigationModel,c.loadMask,c.lockedViewEventRelayers,c.normalViewEventRelayers);c.lockedView.lockingPartner=c.normalView.lockingPartner=null;c.callParent()}},1,0,0,0,0,[[Ext.util.Observable.prototype.mixinId||Ext.util.Observable.$className,Ext.util.Observable],[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder],[Ext.util.Focusable.prototype.mixinId||Ext.util.Focusable.$className,Ext.util.Focusable]],[Ext.grid.locking,"View",Ext.grid,"LockingView"],function(){this.borrow(Ext.Component,["up"]);this.borrow(Ext.view.AbstractView,["doFirstRefresh","applyFirstRefresh"]);this.borrow(Ext.view.Table,["cellSelector","selectedCellCls","selectedItemCls"])}));(Ext.cmd.derive("Ext.scroll.LockingScroller",Ext.scroll.Scroller,{config:{lockedScroller:null,normalScroller:null},scrollTo:function(f,g,j){var k;if(Ext.isObject(f)){k=f.lockedX;if(k){this.getLockedScroller().scrollTo(k,null,j)}}Ext.scroll.Scroller.prototype.scrollTo.call(this,f,g,j)},updateLockedScroller:function(c){c.on("scroll","onLockedScroll",this);c.setLockingScroller(this)},updateNormalScroller:function(c){c.on("scroll","onNormalScroll",this);c.setLockingScroller(this)},getPosition:function(){var e=this,d=Ext.scroll.Scroller.prototype.getPosition.call(this);d.x=e.getNormalScroller().getPosition().x;d.lockedX=e.getLockedScroller().getPosition().x;return d},privates:{updateSpacerXY:function(l){var m=this,q=m.getLockedScroller(),o=m.getNormalScroller(),n=q.component,p=o.component,k=l.y+((p.headerCt.tooNarrow||n.headerCt.tooNarrow)?Ext.getScrollbarSize().height:0);p.stretchHeight(k);n.stretchHeight(k);Ext.scroll.Scroller.prototype.updateSpacerXY.call(this,l)},doScrollTo:function(e,f,g){if(e!=null){this.getNormalScroller().scrollTo(e,null,g);e=null}Ext.scroll.Scroller.prototype.doScrollTo.call(this,e,f,g)},onLockedScroll:function(g,e,f){this.position.lockedX=e},onNormalScroll:function(g,e,f){this.position.x=e}}},0,0,0,0,["scroller.locking"],0,[Ext.scroll,"LockingScroller"],0));(Ext.cmd.derive("Ext.grid.locking.Lockable",Ext.Base,{alternateClassName:"Ext.grid.Lockable",syncRowHeight:true,headerCounter:0,lockedGridCls:"x-grid-inner-locked",normalGridCls:"x-grid-inner-normal",lockingBodyCls:"x-grid-locking-body",scrollContainerCls:"x-grid-scroll-container",scrollBodyCls:"x-grid-scroll-body",scrollbarClipperCls:"x-grid-scrollbar-clipper",scrollbarCls:"x-grid-scrollbar",scrollbarVisibleCls:"x-grid-scrollbar-visible",unlockText:"Unlock",lockText:"Lock",bothCfgCopy:["hideHeaders","enableColumnHide","enableColumnMove","enableColumnResize","sortableColumns","multiColumnSort","columnLines","rowLines","variableRowHeight","numFromEdge","trailingBufferZone","leadingBufferZone","scrollToLoadBuffer","syncRowHeight"],normalCfgCopy:["scroll"],lockedCfgCopy:[],determineXTypeToCreate:function(n){var p=this,l,o,q,m,k;if(p.subGridXType){l=p.subGridXType}else{if(!n){return"gridpanel"}o=p.getXTypes().split("/");q=o.length;m=o[q-1];k=o[q-2];if(k!=="tablepanel"){l=k}else{l=m}}return l},injectLockable:function(){this.focusable=false;this.lockable=true;this.hasView=true;var w=this,M=w.store=Ext.StoreManager.lookup(w.store),C=w.lockedViewConfig,v=w.normalViewConfig,D=Ext.Object,A,J,G,x,F,H,I,E,B=w.viewConfig,y=B&&B.loadMask,K=(y!==undefined)?y:w.loadMask,L=w.bufferedRenderer;A=w.constructLockableFeatures();w.scrollable=new Ext.scroll.LockingScroller({component:w,x:false,y:true});w.features=null;J=w.constructLockablePlugins();w.plugins=J.topPlugins;G={id:w.id+"-locked",$initParent:w,isLocked:true,bufferedRenderer:L,ownerGrid:w,ownerLockable:w,xtype:w.determineXTypeToCreate(true),store:M,scrollerOwner:false,animate:false,border:false,cls:w.lockedGridCls,isLayoutRoot:function(){return this.floatedFromCollapse||this.ownerGrid.normalGrid.floatedFromCollapse},features:A.lockedFeatures,plugins:J.lockedPlugins};x={id:w.id+"-normal",$initParent:w,isLocked:false,bufferedRenderer:L,ownerGrid:w,ownerLockable:w,xtype:w.determineXTypeToCreate(),store:M,reserveScrollbar:w.reserveScrollbar,scrollerOwner:false,border:false,cls:w.normalGridCls,isLayoutRoot:function(){return this.floatedFromCollapse||this.ownerGrid.lockedGrid.floatedFromCollapse},features:A.normalFeatures,plugins:J.normalPlugins};w.addCls("x-grid-locked");Ext.copy(x,w,w.bothCfgCopy,true);Ext.copy(G,w,w.bothCfgCopy,true);Ext.copy(x,w,w.normalCfgCopy,true);Ext.copy(G,w,w.lockedCfgCopy,true);Ext.apply(x,w.normalGridConfig);Ext.apply(G,w.lockedGridConfig);for(F=0;F<w.normalCfgCopy.length;F++){delete w[w.normalCfgCopy[F]]}for(F=0;F<w.lockedCfgCopy.length;F++){delete w[w.lockedCfgCopy[F]]}w.addStateEvents(["lockcolumn","unlockcolumn"]);H=w.processColumns(w.columns||[],G);G.columns=H.locked;if(!G.columns.items.length){G.hidden=true}x.columns=H.normal;if(!x.columns.items.length){x.hidden=true}x.flex=1;G.viewConfig=C=(C?D.chain(C):{});x.viewConfig=v=(v?D.chain(v):{});C.loadingUseMsg=false;C.loadMask=false;v.loadMask=false;Ext.applyIf(C,B);Ext.applyIf(v,B);if(w.layout===Ext.panel.Table.prototype.layout){w.layout={type:"hbox",align:"stretch"}}w.getLayout();if(w.layout.type==="border"){if(w.split){G.split=w.split}if(!G.region){G.region="west"}if(!x.region){x.region="center"}w.addCls("x-grid-locked-split")}if(!(w.layout instanceof Ext.layout.container.Box)){w.split=false}w.view=new Ext.grid.locking.View({loadMask:K,locked:G,normal:x,ownerGrid:w});G=w.lockedGrid;x=w.normalGrid;G.on({beginfloat:w.onBeginLockedFloat,endfloat:w.onEndLockedFloat,scope:w});if(!G.getVisibleColumnManager().getColumns().length){G.hide()}if(!x.getVisibleColumnManager().getColumns().length){x.hide()}I=G.headerCt;E=x.headerCt;w.headerCt=w.view.headerCt=new Ext.grid.locking.HeaderContainer(w);I.lockedCt=true;I.lockableInjected=true;E.lockableInjected=true;I.on({add:w.delaySyncLockedWidth,remove:w.delaySyncLockedWidth,columnshow:w.delaySyncLockedWidth,columnhide:w.delaySyncLockedWidth,sortchange:w.onLockedHeaderSortChange,columnresize:w.delaySyncLockedWidth,scope:w});E.on({add:w.delaySyncLockedWidth,remove:w.delaySyncLockedWidth,columnshow:w.delaySyncLockedWidth,columnhide:w.delaySyncLockedWidth,sortchange:w.onNormalHeaderSortChange,scope:w});w.modifyHeaderCt();w.items=[G];if(w.split){w.addCls("x-grid-locked-split");w.items[1]=Ext.apply({xtype:"splitter"},w.split)}w.items.push(x);w.relayHeaderCtEvents(I);w.relayHeaderCtEvents(E);w.storeRelayers=w.relayEvents(M,["filterchange","groupchange","beforeload","load"]);w.gridRelayers=w.relayEvents(x,["viewready"])},afterInjectLockable:function(){delete this.lockedGrid.$initParent;delete this.normalGrid.$initParent},getLockingViewConfig:function(){return{xclass:"Ext.grid.locking.View",locked:this.lockedGrid,normal:this.normalGrid,panel:this}},onBeginLockedFloat:function(g){var l=g.getContentTarget().dom,j=this.lockedGrid.headerCt,m=this.normalGrid.headerCt,k=Math.max(m.getHeight(),j.getHeight());j.minHeight=k;m.minHeight=k;g.el.addCls(Ext.panel.Panel.floatCls);if(l.firstChild!==g.view.el.dom){l.appendChild(g.view.el.dom)}g.body.dom.style.overflowX=this.normalGrid.headerCt.tooNarrow?"scroll":"";g.body.dom.scrollTop=this.getScrollable().getPosition().y},onEndLockedFloat:function(){var d=this.lockedGrid,e=d.getContentTarget().dom;if(d.collapsed){d.el.removeCls(Ext.panel.Panel.floatCls)}else{this.lockedGrid.headerCt.minHeight=this.normalGrid.headerCt.minHeight=null}this.lockedScrollbarClipper.appendChild(d.view.el.dom);this.syncLockableLayout()},beforeLayout:function(){var f=this,j=f.lockedGrid,k=f.normalGrid,g;if(j&&k){if(!j.layoutCounter&&j.getSizeModel().width.shrinkWrap){j.gridPanelBorderWidth=j.el.getBorderWidth("lr");j.shrinkWrapColumns=true}if(j.shrinkWrapColumns){g=j.headerCt.getTableWidth();j.setWidth(g+j.gridPanelBorderWidth)}if(!f.scrollContainer){f.initScrollContainer()}f.lastScrollPos=f.getScrollable().getPosition();j.view.el.setStyle("margin-bottom","");k.view.el.setStyle("margin-bottom","")}},syncLockableLayout:function(){var N=this,S=N.lockedGrid,W=N.normalGrid,U,Y,ai,L,Z,ah,J,V,ab,ac,Q,X,af,ad,aa,I,O,R,T,H,P,ag,K,M,ae;if(!N.isCollapsingOrExpanding&&S&&W){P=S.isVisible(true)&&!S.collapsed;ag=W.isVisible(true);U=S.view.el;Y=W.view.el;ai=U.dom;L=Y.dom;K=N.scrollBody.dom;Z=P?S.body.getRegion(true):new Ext.util.Region(0,0,0,0);ah=ag?W.body.getRegion(true):new Ext.util.Region(0,0,0,0);J=Ext.getScrollbarSize();V=J.width;ab=J.height;ac=ag?ah.width:0;Q=P?Z.width:0;X=P?ah.x-Z.x:0;ad=(W.headerCt.tooNarrow||S.headerCt.tooNarrow)?ab:0;aa=ah.height;I=aa;O=N.lockedScrollbar;R=N.normalScrollbar;T=N.scrollbarVisibleCls,ae=Y._rtlScrollbarOnRight;if(ad){U.setStyle("margin-bottom",-ab+"px");Y.setStyle("margin-bottom",-ab+"px");I-=ab;if(P&&S.view.body.dom){N.lockedScrollbarScroller.setSize({x:S.headerCt.getTableWidth()})}if(W.view.body.dom){N.normalScrollbarScroller.setSize({x:W.headerCt.getTableWidth()})}}N.scrollBody.setHeight(I);U.dom.style.height=Y.dom.style.height="";H=(N.scrollable.getSize().y+ad);W.view.stretchHeight(H);S.view.stretchHeight(H);af=V&&K.scrollHeight>K.clientHeight;if(af&&ac){ac-=V;Y.setStyle("width",ac+"px")}O.toggleCls(T,P&&!!ad);R.toggleCls(T,!!ad);N.normalScrollbarClipper.toggleCls(N.scrollbarClipperCls+"-floated",!!N.normalGrid.floatedFromCollapse);N.normalScrollbar.toggleCls(N.scrollbarCls+"-floated",!!N.normalGrid.floatedFromCollapse);N.lockedScrollbarClipper.toggleCls(N.scrollbarClipperCls+"-floated",!!N.lockedGrid.floatedFromCollapse);N.lockedScrollbar.toggleCls(N.scrollbarCls+"-floated",!!N.lockedGrid.floatedFromCollapse);O.setSize(N.lockedScrollbarClipper.dom.offsetWidth,ab);R.setSize(ac,ab);if(N.getInherited().rtl){R.rtlSetLocalX(X);N.normalScrollbarClipper.rtlSetLocalX(X)}else{R.setLocalX(X);N.normalScrollbarClipper.setLocalX(X)}N.scrollContainer.setBox(M=P?Z.union(ah):ah);if(ae){if(af){K.style.width=(M+V)+"px";K.style.right=-V+"px";W.headerCt.layout.innerCt.setWidth(W.headerCt.layout.innerCt.getWidth()+V);N.verticalScrollbarScroller.setSize({y:N.scrollable.getSize().y});N.verticalScrollbar.show()}else{N.verticalScrollbar.hide()}}N.getScrollable().scrollTo(N.lastScrollPos)}},initScrollContainer:function(){var B=this,x=B.scrollContainer=B.body.insertFirst({cls:[B.scrollContainerCls,B._rtlCls]}),C=B.scrollBody=x.appendChild({cls:B.scrollBodyCls}),s=B.lockedScrollbar=x.appendChild({cls:[B.scrollbarCls,B.scrollbarCls+"-locked",B._rtlCls]}),G=B.normalScrollbar=x.appendChild({cls:[B.scrollbarCls,B._rtlCls]}),u=B.lockedGrid.view,H=B.normalGrid.view,w=u.getScrollable(),y=H.getScrollable(),I=Ext.scroll.Scroller,E,F,v,D,A;u.stretchHeight(0);H.stretchHeight(0);B.scrollable.setConfig({element:C,lockedScroller:w,normalScroller:y});v=B.lockedScrollbarClipper=C.appendChild({cls:[B.scrollbarClipperCls,B.scrollbarClipperCls+"-locked",B._rtlCls]});D=B.normalScrollbarClipper=C.appendChild({cls:[B.scrollbarClipperCls,B._rtlCls]});v.appendChild(u.el);D.appendChild(H.el);u.ignoreDomPosition=true;H.ignoreDomPosition=true;E=B.lockedScrollbarScroller=new I({element:s,x:"scroll",y:false,rtl:w.getRtl&&w.getRtl()});F=B.normalScrollbarScroller=new I({element:G,x:"scroll",y:false,rtl:y.getRtl&&y.getRtl()});if(H.el._rtlScrollbarOnRight){B.verticalScrollbar=x.appendChild({cls:B.scrollbarCls,style:{top:0,left:0,bottom:0,width:Ext.getScrollbarSize().width+"px"}});B.verticalScrollbarScroller=new I({element:B.verticalScrollbar,x:false,y:true});B.verticalScrollbarScroller.addPartner(B.scrollable,"y")}E.addPartner(w,"x");F.addPartner(y,"x");A=B.lockedGrid.headerCt.getScrollable();if(A){E.addPartner(A,"x")}A=B.normalGrid.headerCt.getScrollable();if(A){F.addPartner(A,"x")}B.view.onPanelRender(C)},processColumns:function(y,B){var r=this,x,v,A,s=new Ext.grid.header.Container({"$initParent":r}),u=[],C=[],D={itemId:"lockedHeaderCt",stretchMaxPartner:"^^>>#normalHeaderCt",items:u},w={itemId:"normalHeaderCt",stretchMaxPartner:"^^>>#lockedHeaderCt",items:C},q={locked:D,normal:w},E;if(Ext.isObject(y)){Ext.applyIf(D,y);Ext.applyIf(w,y);E=Ext.apply({},y);delete E.items;Ext.apply(s,E);y=y.items}s.constructing=true;for(x=0,v=y.length;x<v;++x){A=y[x];if(!A.isComponent){A=s.applyDefaults(A);A.$initParent=s;A=s.lookupComponent(A);delete A.$initParent}A.processed=true;if(A.locked||A.autoLock){u.push(A)}else{C.push(A)}}r.fireEvent("processcolumns",r,u,C);s.destroy();return q},ensureLockedVisible:function(){this.lockedGrid.ensureVisible.apply(this.lockedGrid,arguments);this.normalGrid.ensureVisible.apply(this.normalGrid,arguments)},syncRowHeights:function(){if(!this.destroyed){var m=this,o=m.normalGrid.getView(),n=m.lockedGrid.getView(),k=o.syncRowHeightBegin(),j=n.syncRowHeightBegin(),l;o.syncRowHeightMeasure(k);n.syncRowHeightMeasure(j);o.syncRowHeightFinish(k,j);n.syncRowHeightFinish(j,k);l=o.getScrollY();n.setScrollY(l)}},modifyHeaderCt:function(){var c=this;c.lockedGrid.headerCt.getMenuItems=c.getMenuItems(c.lockedGrid.headerCt.getMenuItems,true);c.normalGrid.headerCt.getMenuItems=c.getMenuItems(c.normalGrid.headerCt.getMenuItems,false);c.lockedGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(c.lockedGrid.headerCt.showMenuBy,c.showMenuBy);c.normalGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(c.normalGrid.headerCt.showMenuBy,c.showMenuBy)},onUnlockMenuClick:function(){this.unlock()},onLockMenuClick:function(){this.lock()},showMenuBy:function(k,p,l){var m=this.getMenu(),o=m.down("#unlockItem"),n=m.down("#lockItem"),q=o.prev();if(l.lockable===false){q.hide();o.hide();n.hide()}else{q.show();o.show();n.show();if(!o.initialConfig.disabled){o.setDisabled(l.lockable===false)}if(!n.initialConfig.disabled){n.setDisabled(!l.isLockable())}}},getMenuItems:function(p,s){var o=this,n=o.unlockText,v=o.lockText,m="x-hmenu-unlock",u="x-hmenu-lock",q=o.onUnlockMenuClick.bind(o),r=o.onLockMenuClick.bind(o);return function(){var b=p.call(this);b.push("-",{itemId:"unlockItem",iconCls:m,text:n,handler:q,disabled:!s});b.push({itemId:"lockItem",iconCls:u,text:v,handler:r,disabled:s});return b}},delaySyncLockedWidth:function(){var e=this,d=e.syncLockedWidthTask||(e.syncLockedWidthTask=new Ext.util.DelayedTask(e.syncLockedWidth,e));if(e.reconfiguring){return}if(!Ext.Component.layoutSuspendCount||e.syncTaskDelay===0){e.syncLockedWidth()}else{d.delay(1)}},syncLockedWidth:function(){var o=this,r=o.rendered,q=o.lockedGrid,m=q.view,n=m.getScrollable(),p=o.normalGrid,s=q.getVisibleColumnManager().getColumns().length,v=p.getVisibleColumnManager().getColumns().length,u=o.syncLockedWidthTask;if(u){u.cancel()}if(o.reconfiguring){return}Ext.suspendLayouts();if(v){p.show();if(s){if(o.layout.type==="border"){q.region=q.initialConfig.region}if(r&&q.shrinkWrapColumns&&!q.headerCt.forceFit){delete q.flex;q.width=q.headerCt.getTableWidth()+q.gridPanelBorderWidth;q.updateLayout()}q.addCls(o.lockedGridCls);q.show();if(q.split){o.child("splitter").show();o.addCls("x-grid-locked-split")}}else{q.hide();if(r){q.getView().clearViewEl(true)}if(q.split){o.child("splitter").hide();o.removeCls("x-grid-locked-split")}}}else{p.hide();delete q.width;if(o.layout.type==="border"){q.region="center";p.region="west"}else{q.flex=1}q.removeCls(o.lockedGridCls);q.show()}Ext.resumeLayouts(true);return{locked:!!s,normal:!!v}},onLockedHeaderSortChange:Ext.emptyFn,onNormalHeaderSortChange:Ext.emptyFn,lock:function(D,v,E){var B=this,C=B.normalGrid,G=B.lockedGrid,F=C.view,s=G.view,u=F.all.startIndex,x=F.getScrollable(),w=s.getScrollable(),y=C.headerCt,A,I,H=B.componentLayoutCounter;D=D||y.getMenu().activeHeader;D.unlockedWidth=D.width;if(D.flex){if(D.lockedWidth){D.width=D.lockedWidth;D.lockedWidth=null}else{D.width=D.lastBox.width}D.flex=null}E=E||G.headerCt;I=D.ownerCt;if(I&&!D.isLockable()){return}Ext.suspendLayouts();if(x){x.suspendPartnerSync();w.suspendPartnerSync()}if(G.hidden){if(!G.componentLayoutCounter){G.height=C.lastBox.height;if(s.bufferedRenderer){s.bufferedRenderer.onViewResize(s,0,C.body.lastBox.height)}}G.show()}G.reconfiguring=C.reconfiguring=true;D.ownerCmp=D.ownerCt;if(I){I.remove(D,false)}D.locked=true;if(Ext.isDefined(v)){E.insert(v,D)}else{E.add(D)}G.reconfiguring=C.reconfiguring=false;D.ownerCmp=null;A=B.syncLockedWidth();if(A.locked){s.clearViewEl(true)}if(A.normal){F.clearViewEl(true)}if(A.normal){C.getView().refreshView(u)}if(A.locked){G.getView().refreshView(u)}B.fireEvent("lockcolumn",B,D);Ext.resumeLayouts(true);if(x){x.resumePartnerSync(true);w.resumePartnerSync()}if(B.componentLayoutCounter===H){B.syncLockableLayout()}},unlock:function(x,r,y){var v=this,w=v.normalGrid,B=v.lockedGrid,A=w.view,p=B.view,q=A.all.startIndex,s=B.headerCt,u,C=v.componentLayoutCounter;if(!Ext.isDefined(r)){r=0}x=x||s.getMenu().activeHeader;x.lockedWidth=x.width;if(x.flex){if(x.unlockedWidth){x.width=x.unlockedWidth;x.unlockedWidth=null}else{x.width=x.lastBox.width}x.flex=null}y=y||w.headerCt;Ext.suspendLayouts();B.reconfiguring=w.reconfiguring=true;x.ownerCmp=x.ownerCt;if(x.ownerCt){x.ownerCt.remove(x,false)}x.locked=false;y.insert(r,x);B.reconfiguring=w.reconfiguring=false;x.ownerCmp=null;u=v.syncLockedWidth();if(u.locked){p.clearViewEl(true)}if(u.normal){A.clearViewEl(true)}if(u.normal){w.getView().refreshView(q)}if(u.locked){B.getView().refreshView(q)}v.fireEvent("unlockcolumn",v,x);Ext.resumeLayouts(true);if(v.componentLayoutCounter===C){v.syncLockableLayout()}},reconfigureLockable:function(m,r,q){var o=this,v=o.store,s=o.lockedGrid,p=o.normalGrid,n,u;if(!m&&q){m=Ext.StoreManager.lookup("ext-empty-store")}if(m&&m!==v){m=Ext.data.StoreManager.lookup(m);o.store=m;s.view.blockRefresh=p.view.blockRefresh=true;s.bindStore(m);n=s.view;n.store=m;if(!n.dataSource.isFeatureStore){n.dataSource=m}if(n.bufferedRenderer){n.bufferedRenderer.bindStore(m)}p.bindStore(m);n=p.view;n.store=m;if(!n.dataSource.isFeatureStore){n.dataSource=m}if(n.bufferedRenderer){n.bufferedRenderer.bindStore(m)}o.view.store=m;u=o.view.loadMask;if(u&&u.isLoadMask){u.bindStore(m)}o.view.bindStore(p.view.dataSource,false,"dataSource");s.view.blockRefresh=p.view.blockRefresh=false}if(r){s.reconfiguring=p.reconfiguring=true;s.headerCt.removeAll();p.headerCt.removeAll();r=o.processColumns(r,s);s.headerCt.add(r.locked.items);p.headerCt.add(r.normal.items);s.reconfiguring=p.reconfiguring=false;o.syncLockedWidth()}o.refreshCounter=p.view.refreshCounter},afterReconfigureLockable:function(){this.syncLockedWidth();if(this.refreshCounter===this.normalGrid.getView().refreshCounter){this.view.refreshView()}},constructLockableFeatures:function(){var n=this.features,p,o,m,l,q=0,k;if(n){if(!Ext.isArray(n)){n=[n]}m=[];l=[];k=n.length;for(;q<k;q++){p=n[q];if(!p.isFeature){p=Ext.create("feature."+p.ftype,p)}switch(p.lockableScope){case"locked":m.push(p);break;case"normal":l.push(p);break;default:p.lockableScope="both";m.push(p);l.push(o=p.clone());o.lockingPartner=p;p.lockingPartner=o}}}return{normalFeatures:l,lockedFeatures:m}},constructLockablePlugins:function(){var x=this.plugins,s,y,A,q,p,v,u=0,r,o,w;if(x){if(!Ext.isArray(x)){x=[x]}q=[];p=[];v=[];r=x.length;for(;u<r;u++){s=x[u];if(s.init){o=s.lockableScope}else{w=s.ptype?Ext.ClassManager.getByAlias(("plugin."+s.ptype)):Ext.ClassManager.get(s.xclass);o=w.prototype.lockableScope}switch(o){case"both":p.push(A=s.clonePlugin());v.push(y=s.clonePlugin());A.lockingPartner=y;y.lockingPartner=A;Ext.destroy(s);break;case"locked":p.push(s);break;case"normal":v.push(s);break;default:q.push(s)}}}return{topPlugins:q,normalPlugins:v,lockedPlugins:p}},destroyLockable:function(){var e=this,d=e.syncLockedWidthTask;if(d){d.cancel();e.syncLockedWidthTask=null}if(e.lockedGrid&&e.lockedGrid.headerCt){e.lockedGrid.headerCt.showMenuBy=null}if(e.normalGrid&&e.normalGrid.headerCt){e.normalGrid.headerCt.showMenuBy=null}Ext.destroy(e.view,e.headerCt)}},0,0,0,0,0,0,[Ext.grid.locking,"Lockable",Ext.grid,"Lockable"],function(){this.borrow(Ext.Component,["constructPlugin"])}));(Ext.cmd.derive("Ext.grid.plugin.BufferedRenderer",Ext.AbstractPlugin,{isBufferedRenderer:true,lockableScope:"both",numFromEdge:2,trailingBufferZone:10,leadingBufferZone:20,synchronousRender:true,scrollToLoadBuffer:200,viewSize:100,rowHeight:21,position:0,scrollTop:0,lastScrollDirection:1,bodyTop:0,scrollHeight:0,loadId:0,init:function(m){var l=this,j=m.view,n={refresh:l.onViewRefresh,columnschanged:l.checkVariableRowHeight,boxready:l.onViewBoxReady,scope:l,destroyable:true},o={scroll:l.onViewScroll,scope:l},k=j.initialConfig;l.scroller=j.lockingPartner?j.ownerGrid.scrollable:j.getScrollable();if(m.isTree||(m.ownerLockable&&m.ownerLockable.isTree)){j.blockRefresh=false;if(k&&k.loadMask===undefined){j.loadMask=true}}if(j.positionBody){n.refresh=l.onViewRefresh}if(Ext.isWebKit){l.needsPointerEventsFix=true;o.scrollend=l.onViewScrollEnd;n.itemmousedown=l.onViewItemMouseDown}l.grid=m;l.view=j;l.isRTL=j.getInherited().rtl;j.bufferedRenderer=l;j.preserveScrollOnRefresh=true;j.animate=false;l.bindStore(j.dataSource);if(j.hasOwnProperty("rowHeight")){l.rowHeight=j.rowHeight}l.position=0;l.viewListeners=j.on(n);if(l.scroller){l.scrollListeners=l.scroller.on(o)}},checkVariableRowHeight:function(){var c=this.variableRowHeight;this.variableRowHeight=this.view.hasVariableRowHeight();if(Boolean(this.variableRowHeight)!==Boolean(c)){delete this.rowHeight}},bindStore:function(g){var f=this,e=f.store;if(e&&e.isFeatureStore){return}if(e){f.unbindStore()}f.storeListeners=g.on({scope:f,groupchange:f.onStoreGroupChange,clear:f.onStoreClear,beforeload:f.onBeforeStoreLoad,load:f.onStoreLoad,destroyable:true});f.store=g;f.setBodyTop(0);delete f.viewSize;delete f.rowHeight;if(g.isBufferedStore){g.setViewSize(f.viewSize)}},unbindStore:function(){this.storeListeners.destroy();this.storeListeners=this.store=null},onBeforeStoreLoad:function(g){var f=this,e=f.view;if(e&&e.refreshCounter){if(g.isTreeStore||e.preserveScrollOnReload){f.nextRefreshStartIndex=e.all.startIndex}else{if(f.scrollTop!==0){f.setBodyTop(f.bodyTop=f.scrollTop=f.position=f.scrollHeight=f.nextRefreshStartIndex=0);f.scroller.scrollTo(null,0)}}f.lastScrollDirection=f.scrollOffset=null}f.disable()},onStoreLoad:function(){this.enable()},onStoreClear:function(){var e=this,d=e.view;if(d.rendered&&!e.store.destroyed){if(e.scrollTop!==0){e.bodyTop=e.scrollTop=e.position=e.scrollHeight=0;e.nextRefreshStartIndex=null;e.scroller.scrollTo(null,0)}d.refresh();e.lastScrollDirection=e.scrollOffset=null}},onStoreGroupChange:function(c){this.refreshSize()},onViewBoxReady:function(c){this.refreshScroller(c,this.scrollHeight)},onViewRefresh:function(m,l){var k=this,j=m.all,g;k.checkVariableRowHeight();if(!m.componentLayoutCounter&&(m.headerCt.down("{flex}")||k.variableRowHeight)){m.on({boxready:Ext.Function.pass(k.onViewRefresh,[m,l],k),single:true});k.skipNextRefreshSize=true;return}k.skipNextRefreshSize=false;if(k.refreshing){return}k.refreshSize();if(k.scroller){if(k.scrollTop!==k.scroller.getPosition().y){k.onViewScroll();k.onViewScrollEnd()}else{if(!k.hasOwnProperty("bodyTop")){k.bodyTop=j.startIndex*k.rowHeight;k.scroller.scrollTo(null,k.bodyTop)}k.setBodyTop(k.bodyTop);g=m.lastBox&&m.lastBox.height;if(g&&j.getCount()){k.onViewResize(m,null,g);if(l&&(j.getCount()!==l.length)){l.length=0;l.push.apply(l,k.store.getRange(j.startIndex,j.endIndex))}}}}},beforeTableLayout:function(d){var e=this.view.body.dom;if(e){d.bodyHeight=e.offsetHeight;d.bodyWidth=e.offsetWidth}},afterTableLayout:function(g){var k=this,f=k.view,j;if(g.bodyHeight&&f.body.dom){delete k.rowHeight;k.refreshSize();j=f.body.dom.offsetHeight;if(j!==g.bodyHeight){k.onViewResize(f,null,f.el.lastBox.height);j=k.bodyHeight;if(j<g.bodyHeight){if(k.viewSize>=k.store.getCount()){k.setBodyTop(0)}else{if(k.bodyTop>k.scrollTop||k.bodyTop+j<k.scrollTop+k.viewClientHeight){k.setBodyTop(k.scrollTop-k.trailingBufferZone*k.rowHeight)}}}if(f.all.endIndex===(f.dataSource.getCount())-1){k.stretchView(f,k.scrollHeight=k.bodyTop+j-1)}}}},refreshSize:function(){var g=this,e=g.view,f=g.skipNextRefreshSize||(Ext.Component.pendingLayouts&&Ext.Component.layoutSuspendCount)||!e.body.dom;g.skipNextRefreshSize=false;if(f){return}g.bodyHeight=e.body.dom.offsetHeight;g.scrollHeight=g.getScrollHeight();g.stretchView(e,g.scrollHeight)},onViewResize:function(p,n,k,q,l){var m=this,o;m.refreshSize();if(!l||k!==l){m.viewClientHeight=p.lockingPartner?((m.scroller&&m.scroller.getClientSize().y)||k):p.el.dom.clientHeight;o=Math.ceil(k/m.rowHeight)+m.trailingBufferZone+m.leadingBufferZone;m.viewSize=m.setViewSize(o)}},stretchView:function(g,e){var f=this;if(f.scrollTop>e){f.position=f.scrollTop=Math.max(e-f.bodyHeight,0);f.scroller.scrollTo(null,f.scrollTop)}if(f.bodyTop>e){g.body.translate(null,f.bodyTop=f.position)}if(g.getScrollable()){f.refreshScroller(g,e)}},refreshScroller:function(f,g){var e=f.getScrollable();if(e){if(e.setElementSize){e.setElementSize()}e.setSize({x:f.headerCt.getTableWidth(),y:g});if(f.lockingPartner){this.scroller.setSize({x:0,y:g})}}},setViewSize:function(A,I){var B=this,w=B.store,y=B.view,u,K=y.all,E=K.getCount(),C=w.getCount(),J,F,D=B.view.lockingPartner&&B.view.lockingPartner.bufferedRenderer,x=E-A,G=0,H=Math.max(0,C-1),v=Ext.Number.sign((B.getFirstVisibleRowIndex()-K.startIndex)-(K.endIndex-B.getLastVisibleRowIndex()));if(D&&!I&&D.view.componentLayoutCounter){if(D.viewSize>A){A=D.viewSize}else{if(y.componentLayoutCounter){D.setViewSize(A,true)}}}x=E-A;if(x){B.scrollTop=B.scroller?B.scroller.getPosition().y:0;B.viewSize=A;if(w.isBufferedStore){w.setViewSize(A)}if(E){J=Math.max(0,Math.min(K.startIndex,C-A));F=Math.min(J+A-1,H);if(J===K.startIndex&&F===K.endIndex){if(x<0){B.handleViewScroll(v)}}else{if(D){D.disable()}if(x<0){if(C>A&&C>E){w.getRange(J,F,{callback:function(c,b,d){u=y.ownerGrid;if(d>K.endIndex){K.scroll(Ext.Array.slice(c,K.endIndex+1,Infinity),1,0)}if(b<K.startIndex){G=K.first(true);K.scroll(Ext.Array.slice(c,0,K.startIndex-b),-1,0);B.bodyTop-=G.offsetTop}B.setBodyTop(B.bodyTop);if(D&&!I&&(u.syncRowHeight||u.syncRowHeightOnNextLayout)){D.setViewSize(A,true);u.syncRowHeights()}}})}else{B.refreshView(0)}}else{if(v===1){G=K.item(K.startIndex+x,true).offsetTop}K.clip(v,x);B.setBodyTop(B.bodyTop+G)}if(D){D.enable()}}}B.refreshSize()}return A},getViewRange:function(){var p=this,l=p.view,n=l.all,r=n.getCount(),q=l.lockingPartner&&l.lockingPartner.all,s=p.store,m=0,o;if(!p.hasOwnProperty("viewSize")&&p.ownerCt&&p.ownerCt.height){p.viewSize=Math.ceil(p.ownerCt.height/p.rowHeight)}if(!s.data.getCount()){return[]}if(!r&&q&&q.getCount()){m=q.startIndex;o=Math.min(q.endIndex,m+p.viewSize-1,s.getCount()-1)}else{if(r){m=n.startIndex}else{if(s.isBufferedStore){if(!s.currentPage){s.currentPage=1}m=n.startIndex=(s.currentPage-1)*(s.pageSize||1);s.currentPage=1}}o=m+(p.viewSize||s.defaultViewSize)-1}return s.getRange(m,o)},onReplace:function(u,s,A,y){var w=this,x=w.scroller,v=w.view,q=v.all,E,B=q.getCount(),C=s+A.length-1,r=y.length-A.length,D=r*w.rowHeight;if(s>=q.startIndex+w.viewSize){w.refreshSize();return}if(B&&C<q.startIndex&&q.getCount()>=w.viewSize){q.moveBlock(r);w.refreshSize();E=q.startIndex;if(r>0){w.doNotMirror=true;w.handleViewScroll(-1);w.doNotMirror=false}if(q.startIndex===E){if(q.startIndex){w.setBodyTop(w.bodyTop+=D);v.suspendEvent("scroll");v.scrollBy(0,D);v.resumeEvent("scroll");w.position=w.scrollTop=w.scroller.getPosition().y}}else{v.suspendEvent("scroll");v.scrollBy(0,(E-q.startIndex)*w.rowHeight);v.resumeEvent("scroll")}v.refreshSize(q.getCount()!==B);return}if(B&&s>q.endIndex){w.refreshSize();if(r>0){w.onRangeFetched(null,q.startIndex,Math.min(u.getCount(),q.startIndex+w.viewSize)-1,null,true)}v.refreshSize(q.getCount()!==B);return}if(s<q.startIndex&&C<=q.endIndex){w.refreshView(q.startIndex-A.length+y.length);return}if(s<q.startIndex&&C<=q.endIndex&&D){x.suspendEvent("scroll");x.scrollTo(null,w.position=w.scrollTop+=D);x.resumeEvent("scroll")}w.refreshView()},scrollTo:function(w,K){var D=arguments,B=this,y=B.view,E=y.lockingPartner&&y.lockingPartner.grid.isVisible()&&y.lockingPartner.bufferedRenderer,v=B.store,A=v.getCount(),C,I,J,u,H,G,F,x;if(K!==undefined&&!(K instanceof Object)){K={select:D[1],callback:D[2],scope:D[3]}}if((H=y.dataSource.groupingFeature)&&(H.collapsible)){if(w.isEntity){F=w}else{F=y.store.getAt(Math.min(Math.max(w,0),y.store.getCount()-1))}G=H.getMetaGroup(F);if(G&&G.isCollapsed){if(!H.isExpandingOrCollapsing&&F!==G.placeholder){H.expand(H.getGroup(F).getGroupKey());A=v.getCount();w=H.indexOf(F)}else{F=G.placeholder;w=H.indexOfPlaceholder(F)}}else{w=H.indexOf(F)}}else{if(w.isEntity){F=w;w=v.indexOf(F);if(w===-1){return}}else{w=Math.min(Math.max(w,0),A-1);F=v.getAt(w)}}if(F&&(J=y.getNode(F))){y.grid.ensureVisible(F,K);B.onViewScroll();B.onViewScrollEnd();return}if(w<y.all.startIndex){x=-1;C=Math.max(Math.min(w-(Math.floor((B.leadingBufferZone+B.trailingBufferZone)/2)),A-B.viewSize+1),0);I=Math.min(C+B.viewSize-1,A-1)}else{x=1;I=Math.min(w+(Math.floor((B.leadingBufferZone+B.trailingBufferZone)/2)),A-1);C=Math.max(I-(B.viewSize-1),0)}u=Math.max(C*B.rowHeight,0);v.getRange(C,I,{callback:function(c,b,d){B.renderRange(b,d,true,true);F=v.data.getRange(w,w+1)[0];J=y.getNode(F);y.body.translate(null,B.bodyTop=u);if(x===1){B.refreshSize()}if(E){E.renderRange(b,d,true,true);B.syncRowHeights();E.view.body.translate(null,E.bodyTop=u);if(x===1){E.refreshSize()}}if(!J){return}y.grid.ensureVisible(F,K);B.scrollTop=B.position=B.scroller.getPosition().y;if(E){E.position=E.scrollTop=B.scrollTop}}})},onViewItemMouseDown:function(){var c=this;Ext.getDoc().on({mouseup:c.onDocumentMouseUp,scope:c,single:true});c.preservePointerEvents=true},onDocumentMouseUp:function(){this.preservePointerEvents=false},onViewScroll:function(u,p,q){var r=this,v=r.view.body.dom,o=r.store,n=(o.getCount()),s,w,x=r.scrollTop=r.scroller.getPosition().y;if(v){if(r.needsPointerEventsFix&&!r.preservePointerEvents){v.style.pointerEvents="none"}if(!(r.disabled||n<r.viewSize)){s=x-r.position;w=s>0?1:-1;if(Math.abs(s)>=20||(w!==r.lastScrollDirection)){r.lastScrollDirection=w;r.handleViewScroll(r.lastScrollDirection,s)}}}},onViewScrollEnd:function(){var e=this,d=e.view.body.dom;if(d){if(e.needsPointerEventsFix){d.style.pointerEvents="";e.preservePointerEvents=false}}},handleViewScroll:function(s,y){var v=this,o=v.view.all,q=v.store,w=q.getCount(),u=v.viewSize,x=w-1,r=Math.max(0,w-u),A,p;if(s===-1){if(o.startIndex){if(v.topOfViewCloseToEdge()){A=Math.max(0,v.getLastVisibleRowIndex()+v.trailingBufferZone-u);if(A>o.startIndex){A=o.startIndex+Math.floor(y/v.rowHeight)}}}}else{if(o.endIndex<x){if(v.bottomOfViewCloseToEdge()){A=Math.max(0,Math.min(v.getFirstVisibleRowIndex()-v.trailingBufferZone,r))}}}if(A==null){v.position=v.scrollTop;v.loadId++}else{p=Math.min(A+u-1,x);if(v.variableRowHeight&&p===o.endIndex&&p<x){p++;A++}if(A!==o.startIndex||p!==o.endIndex){v.renderRange(A,p);return true}}},bottomOfViewCloseToEdge:function(){var c=this;if(c.variableRowHeight){return c.bodyTop+c.bodyHeight<c.scrollTop+c.view.lastBox.height+(c.numFromEdge*c.rowHeight)}else{return(c.view.all.endIndex-c.getLastVisibleRowIndex())<c.numFromEdge}},topOfViewCloseToEdge:function(){var c=this;if(c.variableRowHeight){return c.bodyTop>c.scrollTop-(c.numFromEdge*c.rowHeight)}else{return(c.getFirstVisibleRowIndex()-c.view.all.startIndex)<c.numFromEdge}},refreshView:function(o){var s=this,r=s.viewSize,q=s.view,n=q.all,p=s.store,u=p.getCount(),x=Math.max(0,u-1),w=q.lockingPartner&&q.lockingPartner.all,v;if(!u){return s.doRefreshView([],0,0)}else{if(u<r){o=0;v=x}else{if(o==null&&!n.getCount()&&w&&w.getCount()){o=w.startIndex;v=Math.min(w.endIndex,o+r-1,x)}else{if(o==null){if(s.nextRefreshStartIndex!=null){o=s.nextRefreshStartIndex;s.nextRefreshStartIndex=null}else{o=n.startIndex}}o=Math.max(0,Math.min(o,x-r+1));v=Math.min(o+r-1,x);if(v-o+1>r){o=v-r+1}}}}if(o===0&&v===-1){s.doRefreshView([],0,0)}else{p.getRange(o,v,{callback:s.doRefreshView,scope:s})}},doRefreshView:function(C,I,L,K){var w=this,D=w.view,y=w.scroller,F=D.all,x=F.startIndex,J=F.endIndex,H,O,N=F.getCount(),E,G=I!==F.startIndex,A,B,M;D.refreshing=w.refreshing=true;if(D.refreshCounter){if(D.hasListeners.beforerefresh&&D.fireEvent("beforerefresh",D)===false){return D.refreshNeeded=D.refreshing=w.refreshing=false}M=D.saveFocusState();D.clearViewEl(true);D.refreshCounter++;if(C.length){E=D.doAdd(C,I);if(G){H=F.item(x,true);O=F.item(J,true);if(H){B=-H.offsetTop}else{if(O){B=F.last(true).offsetTop-O.offsetTop}}if(B){A=Math.max(w.bodyTop+B,0);w.scrollTop=A?w.scrollTop+B:0}else{A=I*w.rowHeight;w.scrollTop=Math.max(A+w.rowHeight*(A<w.bodyTop?w.leadingBufferZone:w.trailingBufferZone),0)}}}else{if(w.scrollTop){A=w.scrollTop=0}D.addEmptyText()}if(G){w.setBodyTop(A);y.suspendEvent("scroll");y.scrollTo(null,w.position=w.scrollTop);y.resumeEvent("scroll")}w.refreshSize();D.refreshSize(F.getCount()!==N);D.fireItemMutationEvent("refresh",D,C);M();D.headerCt.setSortState()}else{D.refresh()}D.refreshNeeded=D.refreshing=w.refreshing=false},renderRange:function(l,k,m,p){var o=this,n=o.view.all,q=o.store;if(!(l===n.startIndex&&k===n.endIndex)){if(q.rangeCached(l,k)){o.cancelLoad();if(o.synchronousRender||m){o.onRangeFetched(null,l,k,null,p)}else{if(!o.renderTask){o.renderTask=new Ext.util.DelayedTask(o.onRangeFetched,o,null,false)}o.renderTask.delay(1,null,null,[null,l,k,null,p])}}else{o.attemptLoad(l,k,o.scrollTop)}}},onRangeFetched:function(P,ad,af,ag,L){var K=this,S=K.view,W=K.scroller,aa=S.el,U=S.all,N=0,X,Y=(S.lockingPartner&&!L&&!K.doNotMirror)&&S.lockingPartner.bufferedRenderer,J=K.variableRowHeight,aj=K.bodyHeight,T=S.componentLayoutCounter,ae,M,I,R,Z,V,O,ah,ai,ac,ab,Q,ak;if(S.destroyed){return}if(P){if(!L){K.scrollTop=K.scroller.getPosition().y}}else{P=K.store.getRange(ad,af);if(!P){return}}ae=Ext.Element.getActiveElement(true);M=aa.contains(ae);if(M){ae.suspendFocusEvents()}X=ad*K.rowHeight;if(ad<U.startIndex&&af>U.endIndex){Q=U.startIndex-ad;S.clearViewEl(true);R=S.doAdd(P,ad);S.fireItemMutationEvent("itemadd",P,ad,R,S);for(I=0;I<Q;I++){N-=R[I].offsetHeight}Z=K.bodyTop+N}else{O=K.teleported||ad>U.endIndex||af<U.startIndex;if(O){S.clearViewEl(true);K.teleported=false}if(!U.getCount()){R=S.doAdd(P,ad);S.fireItemMutationEvent("itemadd",P,ad,R,S);Z=X;if(O&&J){ak=K.scrollTop<K.position?K.leadingBufferZone:K.trailingBufferZone;Z=Math.max(K.scrollTop-U.item(U.startIndex+ak-1,true).offsetTop,0)}}else{if(af>U.endIndex){ab=Math.max(ad-U.startIndex,0);if(J){N=U.item(U.startIndex+ab,true).offsetTop}R=U.scroll(Ext.Array.slice(P,U.endIndex+1-ad),1,ab);if(J){Z=K.bodyTop+N}else{Z=X}}else{ab=Math.max(U.endIndex-af,0);ah=U.startIndex;R=U.scroll(Ext.Array.slice(P,0,U.startIndex-ad),-1,ab);if(J){Z=K.bodyTop-U.item(ah,true).offsetTop;if(!U.startIndex){if(Z){W.scrollTo(null,K.position=(K.scrollTop-=Z));Z=0}}else{if(Z<0){N=U.startIndex*K.rowHeight;W.scrollTo(null,K.position=(K.scrollTop+=N));Z=K.bodyTop+N}}}else{Z=X}}}K.position=K.scrollTop}if(M){ae.resumeFocusEvents();if(!aa.contains(ae)){ac=S.actionableMode?S.actionPosition:S.lastFocused;if(ac&&ac.column){S.renderingRows=true;S.onFocusLeave({});S.renderingRows=false;if(ac.column.focusable){V=ac.column}else{V=ac.column.el.findTabbableElements()[0]}if(!V){V=S.el}V.focus()}}}Z=Math.max(Math.floor(Z),0);if(S.positionBody){K.setBodyTop(Z)}if(R&&Y&&!Y.disabled){Y.scrollTop=Y.position=K.scrollTop;if(Y.view.ownerCt.isVisible()){ai=Y.onRangeFetched(P,ad,af,ag,true);if(S.ownerGrid.syncRowHeight||S.ownerGrid.syncRowHeightOnNextLayout||(Y.variableRowHeight!==J)){K.syncRowHeights(R,ai);S.ownerGrid.syncRowHeightOnNextLayout=false}}if(Y.bodyTop!==Z){Y.setBodyTop(Z)}Y.scroller.scrollTo(null,K.scrollTop)}if(K.variableRowHeight&&K.bodyHeight!==aj&&S.componentLayoutCounter===T){delete K.rowHeight;K.refreshSize()}return R},syncRowHeights:function(r,x){var p=this,q=0,n=1,o=[],w=[],u=Ext.grid.locking.RowSynchronizer,v,s;if(r&&x){q=r.length;n=x.length}if(q!==n){r=p.view.all.slice();x=p.view.lockingPartner.all.slice();q=n=r.length}for(v=0;v<q;v++){o[v]=s=new u(p.view,r[v]);s.measure()}for(v=0;v<n;v++){w[v]=s=new u(p.view.lockingPartner,x[v]);s.measure()}for(v=0;v<q;v++){o[v].finish(w[v]);w[v].finish(o[v])}p.syncRowHeightsFinish()},syncRowHeightsFinish:function(){var f=this,e=f.view,g=e.lockingPartner.bufferedRenderer;if(e.componentLayoutCounter){delete f.rowHeight;f.refreshSize();if(g.rowHeight!==f.rowHeight){delete g.rowHeight;g.refreshSize()}}f.bodyHeight=g.bodyHeight=e.body.dom.offsetHeight},setBodyTop:function(m){var l=this,o=l.view,k=o.all,n=l.store,j=o.body;if(!j.dom){return}l.translateBody(j,m);if(l.variableRowHeight){l.bodyHeight=j.dom.offsetHeight;if(k.endIndex===n.getCount()-1){l.scrollHeight=m+l.bodyHeight-1}else{l.scrollHeight=l.getScrollHeight()}l.stretchView(o,l.scrollHeight)}else{l.bodyHeight=k.getCount()*l.rowHeight}},translateBody:function(d,e){d.translate(null,this.bodyTop=e)},getFirstVisibleRowIndex:function(r,A,B,w){var v=this,u=v.view,p=u.all,C=p.elements,y=v.viewClientHeight,x,q,s=v.bodyTop;if(p.getCount()&&v.variableRowHeight){if(!arguments.length){r=p.startIndex;A=p.endIndex;B=v.scrollTop;w=B+y;if(s>w||s+v.bodyHeight<B){v.teleported=true;return Math.floor(v.scrollTop/v.rowHeight)}x=r+Math.min(v.numFromEdge+((v.lastScrollDirection===-1)?v.leadingBufferZone:v.trailingBufferZone),Math.floor((A-r)/2))}else{if(r===A){return A}x=r+Math.floor((A-r)/2)}q=s+C[x].offsetTop;if(q+C[x].offsetHeight<=B){return v.getFirstVisibleRowIndex(x+1,A,B,w)}if(q<=B){return x}else{if(x!==r){return v.getFirstVisibleRowIndex(r,x-1,B,w)}}}return Math.floor(v.scrollTop/v.rowHeight)},getLastVisibleRowIndex:function(s,C,D,y){var w=this,v=w.view,q=v.all,E=q.elements,B=w.viewClientHeight,A,r,x,u=w.bodyTop;if(q.getCount()&&w.variableRowHeight){if(!arguments.length){s=q.startIndex;C=q.endIndex;D=w.scrollTop;y=D+B;if(u>y||u+w.bodyHeight<D){w.teleported=true;return Math.floor(w.scrollTop/w.rowHeight)+Math.ceil(B/w.rowHeight)}A=C-Math.min(w.numFromEdge+((w.lastScrollDirection===1)?w.leadingBufferZone:w.trailingBufferZone),Math.floor((C-s)/2))}else{if(s===C){return C}A=s+Math.floor((C-s)/2)}r=u+E[A].offsetTop;if(r>y){return w.getLastVisibleRowIndex(s,A-1,D,y)}x=r+E[A].offsetHeight;if(x>=y){return A}else{if(A!==C){return w.getLastVisibleRowIndex(A+1,C,D,y)}}}return w.getFirstVisibleRowIndex()+Math.ceil(B/w.rowHeight)},getScrollHeight:function(){var v=this,s=v.view,o=s.all,r=v.store,n=r.getCount(),u=o.getCount(),p,w,x,q;if(!n){return 0}if(!v.hasOwnProperty("rowHeight")){if(u){if(v.variableRowHeight){v.rowHeight=Math.floor(v.bodyHeight/u)}else{p=o.first();w=p.getHeight();if(Ext.isIE8){x=p.getBorderWidth("b");if(x>0){w-=x}}v.rowHeight=w}}else{delete v.rowHeight}}if(v.variableRowHeight){if(o.endIndex===n-1){q=v.bodyTop+v.bodyHeight-1}else{q=Math.floor((n-u)*v.rowHeight)+v.bodyHeight;q+=v.bodyTop-o.startIndex*v.rowHeight}}else{q=Math.floor(n*v.rowHeight)}return(v.scrollHeight=q)},attemptLoad:function(g,f,j){var k=this;if(k.scrollToLoadBuffer){if(!k.loadTask){k.loadTask=new Ext.util.DelayedTask()}k.loadTask.delay(k.scrollToLoadBuffer,k.doAttemptLoad,k,[g,f,j])}else{k.doAttemptLoad(g,f,j)}},cancelLoad:function(){if(this.loadTask){this.loadTask.cancel()}},doAttemptLoad:function(g,f,j){var k=this;if(!k.destroyed){k.store.getRange(g,f,{loadId:++k.loadId,callback:function(d,b,e,c){if(c.loadId===k.loadId&&k.scrollTop===j){k.onRangeFetched(d,b,e,c)}},fireEvent:false})}},destroy:function(){var e=this,d=e.view;e.cancelLoad();if(d&&d.el){d.un("scroll",e.onViewScroll,e)}if(e.store){e.unbindStore()}Ext.destroy(e.viewListeners,e.stretcher,e.gridListeners,e.scrollListeners);Ext.plugin.Abstract.prototype.destroy.call(this)}},0,0,0,0,["plugin.bufferedrenderer"],0,[Ext.grid.plugin,"BufferedRenderer"],0));(Ext.cmd.derive("Ext.util.Queue",Ext.Base,{constructor:function(){this.clear()},add:function(j,m){var l=this,g=l.getKey(j),k;if(!(k=l.map[g])){++l.length;l.items.push(j);l.map[g]=j}else{if(m){l.map[g]=j;l.items[Ext.Array.indexOf(l.items,k)]=j}}return j},clear:function(){var e=this,d=e.items;e.items=[];e.map={};e.length=0;return d},contains:function(e){var d=this.getKey(e);return this.map.hasOwnProperty(d)},getCount:function(){return this.length},getKey:function(c){return c.id},remove:function(j){var k=this,l=k.getKey(j),g=k.items,m;if(k.map[l]){m=Ext.Array.indexOf(g,j);Ext.Array.erase(g,m,1);delete k.map[l];--k.length}return j}},1,0,0,0,0,0,[Ext.util,"Queue"],0));(Ext.cmd.derive("Ext.layout.ContextItem",Ext.Base,{heightModel:null,widthModel:null,sizeModel:null,optOut:false,ownerSizePolicy:null,boxChildren:null,boxParent:null,children:[],dirty:null,dirtyCount:0,hasRawContent:true,isContextItem:true,isTopLevel:false,consumersContentHeight:0,consumersContentWidth:0,consumersContainerHeight:0,consumersContainerWidth:0,consumersHeight:0,consumersWidth:0,ownerCtContext:null,remainingChildDimensions:0,props:null,state:null,wrapsComponent:false,constructor:function(A){var y=this,C=Ext.layout.SizeModel.sizeModels,H=C.configured,I=C.shrinkWrap,P,B,E,F,L,N,x,M,D,G,O,J,K,Q;Ext.apply(y,A);x=y.target;P=y.el;y.id=x.id;y.flushedProps={};y.props=L={};y.styles={};if(!x.isComponent){B=P.lastBox}else{y.wrapsComponent=true;y.framing=x.frameSize||null;y.isComponentChild=x.ownerLayout&&x.ownerLayout.isComponentLayout;B=x.lastBox;E=x.ownerCt;if(E&&(F=E.el&&y.context.items[E.el.id])){y.ownerCtContext=F}y.sizeModel=N=x.getSizeModel(F&&F.widthModel.pairsByHeightOrdinal[F.heightModel.ordinal]);y.widthModel=J=N.width;y.heightModel=K=N.height;if(B&&B.invalid===false){G=(x.width===(M=B.width));O=(x.height===(D=B.height));if(J===I&&K===I){Q=true}else{if(J===H&&G){Q=K===I||(K===H&&O)}}if(Q){y.optOut=true;L.width=M;L.height=D}}}y.lastBox=B},init:function(L,Q){var C=this,S=C.props,P=C.dirty,J=C.ownerCtContext,G=C.target.ownerLayout,M=!C.state,B=L||M,O,H,I,F,R,A,n=C.heightModel,N=C.widthModel,K,E,D=0;C.dirty=C.invalid=false;C.props={};C.remainingChildDimensions=0;if(C.boxChildren){C.boxChildren.length=0}if(!M){C.clearAllBlocks("blocks");C.clearAllBlocks("domBlocks")}if(!C.wrapsComponent){return B}A=C.target;C.state={};if(M){if(A.beforeLayout&&A.beforeLayout!==Ext.emptyFn){A.beforeLayout()}if(!J&&(F=A.ownerCt)){J=C.context.items[F.el.id]}if(J){C.ownerCtContext=J;C.isBoxParent=G&&G.isItemBoxParent(C)}else{C.isTopLevel=true}C.frameBodyContext=C.getEl("frameBody")}else{J=C.ownerCtContext;C.isTopLevel=!J;O=C.children;for(H=0,I=O.length;H<I;++H){O[H].init(true)}}C.hasRawContent=!(A.isContainer&&A.items.items.length>0);if(L){C.widthModel=C.heightModel=null;R=A.getSizeModel(J&&J.widthModel.pairsByHeightOrdinal[J.heightModel.ordinal]);if(M){C.sizeModel=R}C.widthModel=R.width;C.heightModel=R.height;if(J&&!C.isComponentChild){if(G.needsItemSize||!A.liquidLayout){J.remainingChildDimensions+=2}else{if(C.widthModel.calculated){++J.remainingChildDimensions}if(C.heightModel.calculated){++J.remainingChildDimensions}}}}else{if(S){C.recoverProp("x",S,P);C.recoverProp("y",S,P);if(C.widthModel.calculated){C.recoverProp("width",S,P)}else{if("width" in S){++D}}if(C.heightModel.calculated){C.recoverProp("height",S,P)}else{if("height" in S){++D}}if(J&&!C.isComponentChild){J.remainingChildDimensions+=D}}}if(S&&G&&G.manageMargins){C.recoverProp("margin-top",S,P);C.recoverProp("margin-right",S,P);C.recoverProp("margin-bottom",S,P);C.recoverProp("margin-left",S,P)}if(Q){K=Q.heightModel;E=Q.widthModel;if(E&&K&&N&&n){if(N.shrinkWrap&&n.shrinkWrap){if(E.constrainedMax&&K.constrainedMin){K=null}}}if(E){C.widthModel=E}if(K){C.heightModel=K}if(Q.state){Ext.apply(C.state,Q.state)}}return B},initContinue:function(n){var l=this,o=l.ownerCtContext,k=l.target,p=l.widthModel,m=k.getInherited(),q;if(p.fixed){m.inShrinkWrapTable=false}else{delete m.inShrinkWrapTable}if(n){if(o&&p.shrinkWrap){q=o.isBoxParent?o:o.boxParent;if(q){q.addBoxChild(l)}}else{if(p.natural){l.boxParent=o}}}return n},initDone:function(g){var k=this,f=k.props,j=k.state;if(k.remainingChildDimensions===0){f.containerChildrenSizeDone=true}if(g){f.containerLayoutDone=true}if(k.boxChildren&&k.boxChildren.length&&k.widthModel.shrinkWrap){k.el.setWidth(10000);j.blocks=(j.blocks||0)+1}},initAnimation:function(){var g=this,f=g.target,e=g.ownerCtContext;if(e&&e.isTopLevel){g.animatePolicy=f.ownerLayout.getAnimatePolicy(g)}else{if(!e&&f.isCollapsingOrExpanding&&f.animCollapse){g.animatePolicy=f.componentLayout.getAnimatePolicy(g)}}if(g.animatePolicy){g.context.queueAnimation(g)}},addBlock:function(o,m,l){var n=this,k=n[o]||(n[o]={}),j=k[l]||(k[l]={});if(!j[m.id]){j[m.id]=m;++m.blockCount;++n.context.blockCount}},addBoxChild:function(g){var j=this,k,f=g.widthModel;g.boxParent=this;g.measuresBox=f.shrinkWrap?g.hasRawContent:f.natural;if(g.measuresBox){k=j.boxChildren;if(k){k.push(g)}else{j.boxChildren=[g]}}},addPositionStyles:function(k,m){var g=m.x,j=m.y,l=0;if(g!==undefined){k.left=g+"px";++l}if(j!==undefined){k.top=j+"px";++l}return l},addTrigger:function(o,n){var p=this,l=n?"domTriggers":"triggers",m=p[l]||(p[l]={}),s=p.context,q=s.currentLayout,r=m[o]||(m[o]={});if(!r[q.id]){r[q.id]=q;++q.triggerCount;r=s.triggers[n?"dom":"data"];(r[q.id]||(r[q.id]=[])).push({item:this,prop:o});if(p.props[o]!==undefined){if(!n||!(p.dirty&&(o in p.dirty))){++q.firedTriggers}}}},boxChildMeasured:function(){var g=this,f=g.state,e=(f.boxesMeasured=(f.boxesMeasured||0)+1);if(e===g.boxChildren.length){f.clearBoxWidth=1;++g.context.progressCount;g.markDirty()}},borderNames:["border-top-width","border-right-width","border-bottom-width","border-left-width"],marginNames:["margin-top","margin-right","margin-bottom","margin-left"],paddingNames:["padding-top","padding-right","padding-bottom","padding-left"],trblNames:["top","right","bottom","left"],cacheMissHandlers:{borderInfo:function(d){var e=d.getStyles(d.borderNames,d.trblNames);e.width=e.left+e.right;e.height=e.top+e.bottom;return e},marginInfo:function(d){var e=d.getStyles(d.marginNames,d.trblNames);e.width=e.left+e.right;e.height=e.top+e.bottom;return e},paddingInfo:function(g){var e=g.frameBodyContext||g,f=e.getStyles(g.paddingNames,g.trblNames);f.width=f.left+f.right;f.height=f.top+f.bottom;return f}},checkCache:function(c){return this.cacheMissHandlers[c](this)},clearAllBlocks:function(e){var f=this[e],g;if(f){for(g in f){this.clearBlocks(e,g)}}},clearBlocks:function(p,m){var l=this[p],q=l&&l[m],o,n,k;if(q){delete l[m];o=this.context;for(k in q){n=q[k];--o.blockCount;if(!--n.blockCount&&!n.pending&&!n.done){o.queueLayout(n)}}}},block:function(d,e){this.addBlock("blocks",d,e)},domBlock:function(d,e){this.addBlock("domBlocks",d,e)},fireTriggers:function(q,m){var l=this[q],o=l&&l[m],p=this.context,n,k;if(o){for(k in o){n=o[k];++n.firedTriggers;if(!n.done&&!n.blockCount&&!n.pending){p.queueLayout(n)}}}},flush:function(){var k=this,f=k.dirty,j=k.state,g=k.el;k.dirtyCount=0;if("attributes" in k){g.set(k.attributes);delete k.attributes}if("innerHTML" in k){g.innerHTML=k.innerHTML;delete k.innerHTML}if(j&&j.clearBoxWidth){j.clearBoxWidth=0;k.el.setStyle("width",null);if(!--j.blocks){k.context.queueItemLayouts(k)}}if(f){delete k.dirty;k.writeProps(f,true)}},flushAnimations:function(){var j=this,C=j.previousSize,u,r,A,x,y,B,w,s,v,E,D;if(C){u=j.target;r=u.getAnimationProps();A=r.duration;x=Ext.Object.getKeys(j.animatePolicy);y=Ext.apply({},{from:{},to:{},duration:A||Ext.fx.Anim.prototype.duration},r);for(B=0,w=0,s=x.length;w<s;w++){v=x[w];E=C[v];D=j.peek(v);if(E!==D&&D!=null){v=j.translateProps[v]||v;y.from[v]=E;y.to[v]=D;++B}}if(B){if(j.isCollapsingOrExpanding===1){u.componentLayout.undoLayout(j)}else{j.writeProps(y.from)}j.el.animate(y);y=Ext.fx.Manager.getFxQueue(j.el.id)[0];u.$layoutAnim=y;y.on({afteranimate:function(){delete u.$layoutAnim;if(u.destroying||u.destroyed){return}if(j.isCollapsingOrExpanding===1){u.componentLayout.redoLayout(j);u.afterCollapse(true)}else{if(j.isCollapsingOrExpanding===2){u.afterExpand(true)}}if(u.hasListeners.afterlayoutanimation){u.fireEvent("afterlayoutanimation",u)}}})}else{if(j.isCollapsingOrExpanding===2){u.afterExpand(true)}}}},getBorderInfo:function(){var d=this,e=d.borderInfo;if(!e){d.borderInfo=e=d.checkCache("borderInfo")}return e},getEl:function(n,j){var l=this,k,m,o;if(n){if(n.dom){m=n}else{k=l.target;if(j){k=j}m=k[n];if(typeof m==="function"){m=m.call(k);if(m===l.el){return this}}}if(m){o=l.context.getEl(l,m)}}return o||null},getFrameInfo:function(){var j=this,g=j.frameInfo,k,f;if(!g){k=j.framing;f=j.getBorderInfo();j.frameInfo=g=k?{top:k.top+f.top,right:k.right+f.right,bottom:k.bottom+f.bottom,left:k.left+f.left,width:k.width+f.width,height:k.height+f.height}:f}return g},getMarginInfo:function(){var m=this,k=m.marginInfo,o,j,l,n;if(!k){if(!m.wrapsComponent){k=m.checkCache("marginInfo")}else{o=m.target;l=o.ownerLayout;n=l?l.id:null;j=l&&l.manageMargins;k=o.margin$;if(k&&k.ownerId!==n){k=null}if(!k){k=m.parseMargins(o,o.margin)||m.checkCache("marginInfo");if(j){m.setProp("margin-top",0);m.setProp("margin-right",0);m.setProp("margin-bottom",0);m.setProp("margin-left",0)}k.ownerId=n;o.margin$=k}k.width=k.left+k.right;k.height=k.top+k.bottom}m.marginInfo=k}return k},clearMarginCache:function(){delete this.marginInfo;delete this.target.margin$},getPaddingInfo:function(){var d=this,e=d.paddingInfo;if(!e){d.paddingInfo=e=d.checkCache("paddingInfo")}return e},getProp:function(f){var g=this,e=g.props[f];g.addTrigger(f);return e},getDomProp:function(f){var g=this,e=(g.dirty&&(f in g.dirty))?undefined:g.props[f];g.addTrigger(f,true);return e},getStyle:function(g){var l=this,m=l.styles,j,k;if(g in m){k=m[g]}else{j=l.styleInfo[g];k=l.el.getStyle(g);if(j&&j.parseInt){k=parseInt(k,10)||0}m[g]=k}return k},getStyles:function(u,G){var w=this,D=w.styles,n={},C=0,E=u.length,y,A,x,H,F,B,I,v;G=G||u;for(y=0;y<E;++y){H=u[y];if(H in D){n[G[y]]=D[H];++C;if(y&&C===1){A=u.slice(0,y);x=G.slice(0,y)}}else{if(C){(A||(A=[])).push(H);(x||(x=[])).push(G[y])}}}if(C<E){A=A||u;x=x||G;B=w.styleInfo;I=w.el.getStyle(A);for(y=A.length;y--;){H=A[y];F=B[H];v=I[H];if(F&&F.parseInt){v=parseInt(v,10)||0}n[x[y]]=v;D[H]=v}}return n},hasProp:function(c){return this.getProp(c)!=null},hasDomProp:function(c){return this.getDomProp(c)!=null},invalidate:function(c){this.context.queueInvalidate(this,c)},markDirty:function(){if(++this.dirtyCount===1){this.context.queueFlush(this)}},onBoxMeasured:function(){var d=this.boxParent,e=this.state;if(d&&d.widthModel.shrinkWrap&&!e.boxMeasured&&this.measuresBox){e.boxMeasured=1;d.boxChildMeasured()}},parseMargins:function(f,g){if(g===true){g=5}var j=typeof g,k;if(j==="string"||j==="number"){k=f.parseBox(g)}else{if(g){k={top:0,right:0,bottom:0,left:0};if(g){g=Ext.apply(k,f.parseBox(g))}}}return k},peek:function(c){return this.props[c]},recalculateSizeModel:function(){var l=this,k=l.target,n=k.componentLayout,o=l.ownerCtContext,j=n.ownerContext,m;n.ownerContext=null;l.sizeModel=m=k.getSizeModel(o&&o.widthModel.pairsByHeightOrdinal[o.heightModel.ordinal]);l.widthModel=m.width;l.heightModel=m.height;if(j){n.ownerContext=l}},recoverProp:function(k,o,j){var l=this,m=l.props,n;if(k in o){m[k]=o[k];if(j&&k in j){n=l.dirty||(l.dirty={});n[k]=j[k]}}},redo:function(m){var j=this,l,g,k;j.revertProps(j.props);if(m&&j.wrapsComponent){if(j.childItems){for(k=0,l=j.childItems,g=l.length;k<g;k++){l[k].redo(m)}}for(k=0,l=j.children,g=l.length;k<g;k++){l[k].redo()}}},removeEl:function(m,g){var k=this,j,l;if(m){if(m.dom){l=m}else{j=k.target;if(g){j=g}l=j[m];if(typeof l==="function"){l=l.call(j);if(l===k.el){return this}}}if(l){k.context.removeEl(l,k)}}},revertProps:function(g){var f,k=this.flushedProps,j={};for(f in g){if(k.hasOwnProperty(f)){j[f]=g[f]}}this.writeProps(j)},setAttribute:function(e,f){var g=this;if(!g.attributes){g.attributes={}}g.attributes[e]=f;g.markDirty()},setBox:function(e){var d=this;if("left" in e){d.setProp("x",e.left)}if("top" in e){d.setProp("y",e.top)}d.setSize(e.width,e.height)},setContentHeight:function(d,e){if(!e&&this.hasRawContent){return 1}return this.setProp("contentHeight",d)},setContentWidth:function(e,d){if(!d&&this.hasRawContent){return 1}return this.setProp("contentWidth",e)},setContentSize:function(f,e,g){return this.setContentWidth(f,g)+this.setContentHeight(e,g)===2},setProp:function(m,n,j){var o=this,k=typeof n,l;if(k==="undefined"||(k==="number"&&isNaN(n))){return 0}if(o.props[m]===n){return 1}o.props[m]=n;++o.context.progressCount;if(j===false){o.fireTriggers("domTriggers",m);o.clearBlocks("domBlocks",m)}else{l=o.styleInfo[m];if(l){if(!o.dirty){o.dirty={}}o.dirty[m]=n;o.markDirty()}}o.fireTriggers("triggers",m);o.clearBlocks("blocks",m);return 1},setHeight:function(n,x){var r=this,u=r.target,v=r.ownerCtContext,q,s,w,o,p;if(n<0){n=0}if(!r.wrapsComponent){if(!r.setProp("height",n,x)){return NaN}}else{w=r.collapsedVert?0:(u.minHeight||0);n=Ext.Number.constrain(n,w,u.maxHeight);o=r.props.height;if(!r.setProp("height",n,x)){return NaN}if(v&&!r.isComponentChild&&isNaN(o)){p=--v.remainingChildDimensions;if(!p){v.setProp("containerChildrenSizeDone",true)}}q=r.frameBodyContext;if(q){s=r.getFrameInfo();q[r.el.vertical?"setWidth":"setHeight"](n-s.height,x)}}return n},setWidth:function(w,x){var p=this,r=p.target,s=p.ownerCtContext,o,q,u,v,n;if(w<0){w=0}if(!p.wrapsComponent){if(!p.setProp("width",w,x)){return NaN}}else{u=p.collapsedHorz?0:(r.minWidth||0);w=Ext.Number.constrain(w,u,r.maxWidth);v=p.props.width;if(!p.setProp("width",w,x)){return NaN}if(s&&!p.isComponentChild&&isNaN(v)){n=--s.remainingChildDimensions;if(!n){s.setProp("containerChildrenSizeDone",true)}}o=p.frameBodyContext;if(o){q=p.getFrameInfo();o.setWidth(w-q.width,x)}}return w},setSize:function(f,e,g){this.setWidth(f,g);this.setHeight(e,g)},translateProps:{x:"left",y:"top"},undo:function(m){var j=this,l,g,k;j.revertProps(j.lastBox);if(m&&j.wrapsComponent){if(j.childItems){for(k=0,l=j.childItems,g=l.length;k<g;k++){l[k].undo(m)}}for(k=0,l=j.children,g=l.length;k<g;k++){l[k].undo()}}},unsetProp:function(e){var d=this.dirty;delete this.props[e];if(d){delete d[e]}},writeProps:function(O,P){if(!(O&&typeof O==="object")){return}var A=this,Q=A.el,L={},N=0,R=A.styleInfo,B,K,H,F=O.width,J=O.height,y=A.target,M,S,G,E,D,I,C;if("displayed" in O){Q.setDisplayed(O.displayed)}for(K in O){if(P){A.fireTriggers("domTriggers",K);A.clearBlocks("domBlocks",K);A.flushedProps[K]=1}B=R[K];if(B&&B.dom){if(B.suffix&&(H=parseInt(O[K],10))){L[K]=H+B.suffix}else{L[K]=O[K]}++N}}if("x" in O||"y" in O){if(y.isComponent){y.setPosition(O.x,O.y)}else{N+=A.addPositionStyles(L,O)}}if("overflowX" in O){C=y.getScrollable();if(C){C.setX(O.overflowX)}}if("overflowY" in O){if(C||(C=y.getScrollable())){C.setY(O.overflowY)}}if(A.wrapsComponent&&Ext.isIE9){if((M=F!==undefined&&A.hasOverflowY)||(S=J!==undefined&&A.hasOverflowX)){G=A.isAbsolute;if(G===undefined){G=false;I=A.target.getTargetEl();D=I.getStyle("position");A.isAbsolute=G=(D==="absolute")}if(G){E=Ext.getScrollbarSize();if(M){F=parseInt(F,10)+E.width;L.width=F+"px";++N}if(S){J=parseInt(J,10)+E.height;L.height=J+"px";++N}}}}if(N){Q.setStyle(L)}}},1,0,0,0,0,0,[Ext.layout,"ContextItem"],function(){var f={dom:true,parseInt:true,suffix:"px"},g={dom:true},e={dom:false};this.prototype.styleInfo={containerChildrenSizeDone:e,containerLayoutDone:e,displayed:e,done:e,x:e,y:e,columnsChanged:e,rowHeights:e,viewOverflowY:e,overflowX:e,overflowY:e,left:f,top:f,right:f,bottom:f,width:f,height:f,"border-top-width":f,"border-right-width":f,"border-bottom-width":f,"border-left-width":f,"margin-top":f,"margin-right":f,"margin-bottom":f,"margin-left":f,"padding-top":f,"padding-right":f,"padding-bottom":f,"padding-left":f,"line-height":g,display:g,clear:g}}));(Ext.cmd.derive("Ext.layout.Context",Ext.Base,{remainingLayouts:0,state:0,cycleWatchDog:200,constructor:function(d){var e=this;Ext.apply(e,d);e.items={};e.layouts={};e.blockCount=0;e.cycleCount=0;e.flushCount=0;e.calcCount=0;e.animateQueue=e.newQueue();e.completionQueue=e.newQueue();e.finalizeQueue=e.newQueue();e.finishQueue=e.newQueue();e.flushQueue=e.newQueue();e.invalidateData={};e.layoutQueue=e.newQueue();e.invalidQueue=[];e.triggers={data:{},dom:{}}},callLayout:function(e,d){this.currentLayout=e;e[d](this.getCmp(e.owner))},cancelComponent:function(C,J,A){var w=this,D=C,B=!C.isComponent,I=B?D.length:1,G,H,x,y,E,L,k,M,K,F;for(G=0;G<I;++G){if(B){C=D[G]}if(A){if(C.ownerCt){F=this.items[C.ownerCt.el.id];if(F){Ext.Array.remove(F.childItems,w.getCmp(C))}}else{if(C.rendered){w.removeEl(C.el)}}}if(!J){k=w.invalidQueue;x=k.length;if(x){w.invalidQueue=L=[];for(H=0;H<x;++H){M=k[H];K=M.item.target;if(K!==C&&!K.up(C)){L.push(M)}}}}E=C.componentLayout;w.cancelLayout(E);if(!C.destroying){if(E.getLayoutItems){y=E.getLayoutItems();if(y.length){w.cancelComponent(y,true)}}if(C.isContainer&&!C.collapsed){E=C.layout;w.cancelLayout(E);y=E.getVisibleItems();if(y.length){w.cancelComponent(y,true)}}}}},cancelLayout:function(e){var d=this;d.completionQueue.remove(e);d.finalizeQueue.remove(e);d.finishQueue.remove(e);d.layoutQueue.remove(e);if(e.running){d.layoutDone(e)}e.ownerContext=null},clearTriggers:function(p,o){var v=p.id,q=this.triggers[o?"dom":"data"],n=q&&q[v],u=(n&&n.length)||0,r,m,s;for(r=0;r<u;++r){s=n[r];m=s.item;q=o?m.domTriggers:m.triggers;delete q[s.prop][v]}},flush:function(){var g=this,f=g.flushQueue.clear(),j=f.length,k;if(j){++g.flushCount;for(k=0;k<j;++k){f[k].flush()}}},flushAnimations:function(){var g=this,k=g.animateQueue.clear(),f=k.length,j;if(f){for(j=0;j<f;j++){if(k[j].target.animate!==false){k[j].flushAnimations()}}Ext.fx.Manager.runner()}},flushInvalidates:function(){var l=this,k=l.invalidQueue,m=k&&k.length,q,n,o,p;l.invalidQueue=[];if(m){n=[];for(p=0;p<m;++p){q=(o=k[p]).item.target;if(!q.container.isDetachedBody){n.push(q);if(o.options){l.invalidateData[q.id]=o.options}}}l.invalidate(n,null)}},flushLayouts:function(n,l,r){var o=this,m=r?o[n].items:o[n].clear(),p=m.length,s,q;if(p){for(s=0;s<p;++s){q=m[s];if(!q.running){o.callLayout(q,l)}}o.currentLayout=null}},getCmp:function(c){return this.getItem(c,c.el)},getEl:function(g,e){var f=this.getItem(e,e);if(!f.parent){f.parent=g;if(g.children.length){g.children.push(f)}else{g.children=[f]}}return f},getItem:function(k,m){var j=m.id,g=this.items,l=g[j]||(g[j]=new Ext.layout.ContextItem({context:this,target:k,el:m}));return l},handleFailure:function(){var f=this.layouts,g,e;Ext.failedLayouts=(Ext.failedLayouts||0)+1;for(e in f){g=f[e];if(f.hasOwnProperty(e)){g.running=false;g.ownerContext=null}}},invalidate:function(B,y){var w=this,A=!B.isComponent,I,v,K,F,C,M,x,J,E,D,G,H,L;for(F=0,J=A?B.length:1;F<J;++F){C=A?B[F]:B;if(C.rendered&&!C.hidden){v=C.ownerLayout;E=C.componentLayout;L=false;if((!v||!v.needsItemSize)&&C.liquidLayout){L=true}if(!L||(v&&v.setsItemSize)){M=w.getCmp(C);K=!M.state;D=(C.isContainer&&!C.collapsed)?C.layout:null;G=w.invalidateData[M.id];delete w.invalidateData[M.id];H=M.init(y,G)}if(L){continue}if(G){w.processInvalidate(G,M,"before")}if(E.beforeLayoutCycle){E.beforeLayoutCycle(M)}if(D&&D.beforeLayoutCycle){D.beforeLayoutCycle(M)}H=M.initContinue(H);I=true;if(E.getLayoutItems){E.renderChildren();x=E.getLayoutItems();if(x.length){w.invalidate(x,true)}}if(D){I=false;D.renderChildren();if(D.needsItemSize||D.activeItemCount){x=D.getVisibleItems();if(x.length){w.invalidate(x,true)}}}M.initDone(I);w.resetLayout(E,M,K);if(D){w.resetLayout(D,M,K)}M.initAnimation();if(G){w.processInvalidate(G,M,"after")}}}w.currentLayout=null},isDescendant:function(c,g){if(c.isContainer){for(var f=g.ownerCt;f;f=f.ownerCt){if(f===c){return true}}}return false},layoutDone:function(d){var e=d.ownerContext;d.running=false;if(d.isComponentLayout){if(e.measuresBox){e.onBoxMeasured()}e.setProp("done",true)}else{e.setProp("containerLayoutDone",true)}--this.remainingLayouts;++this.progressCount},newQueue:function(){return new Ext.util.Queue()},processInvalidate:function(m,j,g){if(m[g]){var k=this,l=k.currentLayout;k.currentLayout=m.layout||null;m[g](j,m);k.currentLayout=l}},queueAnimation:function(c){this.animateQueue.add(c)},queueCompletion:function(c){this.completionQueue.add(c)},queueFinalize:function(c){this.finalizeQueue.add(c)},queueFlush:function(e,d){this.flushQueue.add(e,d)},chainFns:function(l,m,o){var q=this,r=l.layout,p=m.layout,s=l[o],n=m[o];return function(c){var b=q.currentLayout;if(s){q.currentLayout=r;s.call(l.scope||l,c,l)}q.currentLayout=p;n.call(m.scope||m,c,m);q.currentLayout=b}},purgeInvalidates:function(){var s=this,p=[],r=s.invalidQueue,v=r.length,q,o,w,x,y,u,A;for(q=0;q<v;++q){y=r[q];u=y.item.target;A=true;for(o=p.length;o--;){w=p[o];x=w.item.target;if(u.isLayoutChild(x)){A=false;break}if(x.isLayoutChild(u)){Ext.Array.erase(p,o,1)}}if(A){p.push(y)}}s.invalidQueue=p},queueInvalidate:function(p,o){var s=this,q=[],r=s.invalidQueue,u=r.length,w,y,v,A,x;if(p.isComponent){w=p;p=s.items[w.el.id];if(p){p.recalculateSizeModel()}else{p=s.getCmp(w)}}else{w=p.target}p.invalid=true;while(u--){y=r[u];v=y.item.target;if(!w.isFloating&&w.up(v)){return}if(v===w){if(!(A=y.options)){y.options=o}else{if(o){if(o.widthModel){A.widthModel=o.widthModel}if(o.heightModel){A.heightModel=o.heightModel}if(!(x=A.state)){A.state=o.state}else{if(o.state){Ext.apply(x,o.state)}}if(o.before){A.before=s.chainFns(A,o,"before")}if(o.after){A.after=s.chainFns(A,o,"after")}}}return}if(!v.isLayoutChild(w)){q.push(y)}}q.push({item:p,options:o});s.invalidQueue=q},queueItemLayouts:function(f){var e=f.isComponent?f:f.target,g=e.componentLayout;if(!g.pending&&!g.invalid&&!g.done){this.queueLayout(g)}g=e.layout;if(g&&!g.pending&&!g.invalid&&!g.done&&!e.collapsed){this.queueLayout(g)}},queueLayout:function(c){this.layoutQueue.add(c);c.pending=true},removeEl:function(k,l){var j=k.id,m=l?l.children:null,g=this.items;if(m){Ext.Array.remove(m,g[j])}delete g[j]},resetLayout:function(k,j,g){var f=this;f.currentLayout=k;k.done=false;k.pending=true;k.firedTriggers=0;f.layoutQueue.add(k);if(g){f.layouts[k.id]=k;k.running=true;if(k.finishedLayout){f.finishQueue.add(k)}++f.remainingLayouts;++k.layoutCount;k.ownerContext=j;k.beginCount=0;k.blockCount=0;k.calcCount=0;k.triggerCount=0;if(!k.initialized){k.initLayout()}k.beginLayout(j)}else{++k.beginCount;if(!k.running){++f.remainingLayouts;k.running=true;k.ownerContext=j;if(k.isComponentLayout){j.unsetProp("done")}f.completionQueue.remove(k);f.finalizeQueue.remove(k)}}k.beginLayoutCycle(j,g)},run:function(){var f=this,g=false,e=f.cycleWatchDog;f.purgeInvalidates();f.flushInvalidates();f.state=1;f.totalCount=f.layoutQueue.getCount();f.flush();while((f.remainingLayouts||f.invalidQueue.length)&&e--){if(f.invalidQueue.length){f.flushInvalidates()}if(f.runCycle()){g=false}else{if(!g){f.flush();g=true;f.flushLayouts("completionQueue","completeLayout")}else{if(!f.invalidQueue.length){f.state=2;break}}}if(!(f.remainingLayouts||f.invalidQueue.length)){f.flush();f.flushLayouts("completionQueue","completeLayout");f.flushLayouts("finalizeQueue","finalizeLayout")}}return f.runComplete()},runComplete:function(){var c=this;c.state=2;if(c.remainingLayouts){c.handleFailure();return false}c.flush();c.flushLayouts("finishQueue","finishedLayout",true);c.flushLayouts("finishQueue","notifyOwner");c.flush();c.flushAnimations();return true},runCycle:function(){var j=this,g=j.layoutQueue.clear(),k=g.length,f;++j.cycleCount;j.progressCount=0;for(f=0;f<k;++f){j.runLayout(j.currentLayout=g[f])}j.currentLayout=null;return j.progressCount>0},runLayout:function(g){var e=this,f=e.getCmp(g.owner);g.pending=false;if(f.state.blocks){return}g.done=true;++g.calcCount;++e.calcCount;g.calculate(f);if(g.done){e.layoutDone(g);if(g.completeLayout){e.queueCompletion(g)}if(g.finalizeLayout){e.queueFinalize(g)}}else{if(!g.pending&&!g.invalid&&!(g.blockCount+g.triggerCount-g.firedTriggers)){e.queueLayout(g)}}},setItemSize:function(l,m,q){var o=l,k=1,p,n;if(l.isComposite){o=l.elements;k=o.length;l=o[0]}else{if(!l.dom&&!l.el){k=o.length;l=o[0]}}for(n=0;n<k;){p=this.get(l);p.setSize(m,q);l=o[++n]}}},1,0,0,0,0,0,[Ext.layout,"Context"],0));(Ext.cmd.derive("Ext.layout.component.Body",Ext.layout.component.Auto,{type:"body",beginLayout:function(c){Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);c.bodyContext=c.getEl("body")},beginLayoutCycle:function(m,o){var n=this,k=n.lastWidthModel,l=n.lastHeightModel,j=n.owner.body;Ext.layout.component.Auto.prototype.beginLayoutCycle.apply(this,arguments);if(k&&k.fixed&&m.widthModel.shrinkWrap){j.setWidth(null)}if(l&&l.fixed&&m.heightModel.shrinkWrap){j.setHeight(null)}},calculateOwnerHeightFromContentHeight:function(f,g){var e=Ext.layout.component.Auto.prototype.calculateOwnerHeightFromContentHeight.apply(this,arguments);if(f.targetContext!==f){e+=f.getPaddingInfo().height}return e},calculateOwnerWidthFromContentWidth:function(f,e){var g=Ext.layout.component.Auto.prototype.calculateOwnerWidthFromContentWidth.apply(this,arguments);if(f.targetContext!==f){g+=f.getPaddingInfo().width}return g},measureContentWidth:function(c){return c.bodyContext.setWidth(c.bodyContext.el.dom.offsetWidth,false)},measureContentHeight:function(c){return c.bodyContext.setHeight(c.bodyContext.el.dom.offsetHeight,false)},publishInnerHeight:function(j,f){var g=f-j.getFrameInfo().height,k=j.targetContext;if(k!==j){g-=j.getPaddingInfo().height}return j.bodyContext.setHeight(g,!j.heightModel.natural)},publishInnerWidth:function(g,j){var f=j-g.getFrameInfo().width,k=g.targetContext;if(k!==g){f-=g.getPaddingInfo().width}g.bodyContext.setWidth(f,!g.widthModel.natural)}},0,0,0,0,["layout.body"],0,[Ext.layout.component,"Body"],0));(Ext.cmd.derive("Ext.layout.component.FieldSet",Ext.layout.component.Body,{type:"fieldset",defaultCollapsedWidth:100,beforeLayoutCycle:function(c){if(c.target.collapsed){c.heightModel=this.sizeModels.shrinkWrap}},beginLayout:function(e){var d=this.owner.legend;Ext.layout.component.Body.prototype.beginLayout.call(this,e);if(d){e.legendContext=e.context.getCmp(d)}},beginLayoutCycle:function(g){var f=g.target,e;Ext.layout.component.Body.prototype.beginLayoutCycle.apply(this,arguments);if(f.collapsed){g.setContentHeight(0);g.restoreMinHeight=f.minHeight;delete f.minHeight;if(g.widthModel.shrinkWrap){e=this.lastComponentSize;g.setContentWidth((e&&e.contentWidth)||this.defaultCollapsedWidth)}}},finishedLayout:function(f){var e=this.owner,g=f.restoreMinHeight;Ext.layout.component.Body.prototype.finishedLayout.apply(this,arguments);if(g){e.minHeight=g}},calculateOwnerWidthFromContentWidth:function(f,e){var g=f.legendContext;if(g){e=Math.max(e,g.getProp("width"))}return Ext.layout.component.Body.prototype.calculateOwnerWidthFromContentWidth.call(this,f,e)},calculateOwnerHeightFromContentHeight:function(g,j){var f=g.getBorderInfo(),k=g.legendContext;return g.getProp("contentHeight")+g.getPaddingInfo().height+(Ext.isIE8?g.bodyContext.getPaddingInfo().top:0)+(k?k.getProp("height"):f.top)+f.bottom},publishInnerHeight:function(g,f){var j=g.legendContext,k=0;if(j){k=j.getProp("height")}if(k===undefined){this.done=false}else{Ext.layout.component.Body.prototype.publishInnerHeight.call(this,g,f-k)}},getLayoutItems:function(){var c=this.owner.legend;return c?[c]:[]}},0,0,0,0,["layout.fieldset"],0,[Ext.layout.component,"FieldSet"],0));(Ext.cmd.derive("Ext.resizer.BorderSplitter",Ext.resizer.Splitter,{collapseTarget:null,getTrackerConfig:function(){var c=Ext.resizer.Splitter.prototype.getTrackerConfig.call(this);c.xclass="Ext.resizer.BorderSplitterTracker";return c},onTargetCollapse:function(c){Ext.resizer.Splitter.prototype.onTargetCollapse.call(this,c);if(this.performCollapse!==false&&c.collapseMode=="mini"){c.addCls(c.baseCls+"-"+c.collapsedCls+"-mini")}},onTargetExpand:function(c){Ext.resizer.Splitter.prototype.onTargetExpand.call(this,c);if(this.performCollapse!==false&&c.collapseMode=="mini"){c.removeCls(c.baseCls+"-"+c.collapsedCls+"-mini")}}},0,["bordersplitter"],["component","box","splitter","bordersplitter"],{component:true,box:true,splitter:true,bordersplitter:true},["widget.bordersplitter"],0,[Ext.resizer,"BorderSplitter"],0));(Ext.cmd.derive("Ext.layout.container.Border",Ext.layout.container.Container,{alternateClassName:"Ext.layout.BorderLayout",targetCls:"x-border-layout-ct",itemCls:["x-border-item","x-box-item"],type:"border",isBorderLayout:true,padding:undefined,percentageRe:/(\d+)%/,horzPositionProp:"left",padOnContainerProp:"left",padNotOnContainerProp:"right",axisProps:{horz:{borderBegin:"west",borderEnd:"east",horizontal:true,posProp:"x",sizeProp:"width",sizePropCap:"Width"},vert:{borderBegin:"north",borderEnd:"south",horizontal:false,posProp:"y",sizeProp:"height",sizePropCap:"Height"}},centerRegion:null,manageMargins:true,panelCollapseAnimate:true,panelCollapseMode:"placeholder",regionWeights:{north:20,south:10,center:0,west:-10,east:-20},beginAxis:function(K,T,A){var C=this,S=C.axisProps[A],F=!S.horizontal,L=S.sizeProp,H=0,U=K.childItems,P=U.length,D,G,I,O,E,Q,M,J,R,B,N;for(G=0;G<P;++G){I=U[G];E=I.target;I.layoutPos={};if(E.region){I.region=Q=E.region;I.isCenter=E.isCenter;I.isHorz=E.isHorz;I.isVert=E.isVert;I.weight=E.weight||C.regionWeights[Q]||0;E.weight=I.weight;T[E.id]=I;if(E.isCenter){D=I;O=E.flex;K.centerRegion=D;continue}if(F!==I.isVert){continue}I.reverseWeighting=(Q===S.borderEnd);J=E[L];R=typeof J;if(!E.collapsed){if(R==="string"&&(M=C.percentageRe.exec(J))){I.percentage=parseInt(M[1],10)}else{if(E.flex){H+=I.flex=E.flex}}}}}if(D){B=D.target;if((N=B.placeholderFor)){if(!O&&F===N.collapsedVertical()){O=0;D.collapseAxis=A}}else{if(B.collapsed&&(F===B.collapsedVertical())){O=0;D.collapseAxis=A}}}if(O==null){O=1}H+=O;return Ext.apply({before:F?"top":"left",totalFlex:H},S)},beginLayout:function(F){var y=this,A=y.getLayoutItems(),E=y.padding,x=typeof E,u=false,s,v,H,C,D,I,G,B,w;if(E){if(x==="string"||x==="number"){E=Ext.util.Format.parseBox(E)}}else{E=F.getEl("getTargetEl").getPaddingInfo();u=true}F.outerPad=E;F.padOnContainer=u;for(C=0,H=A.length;C<H;++C){v=A[C];I=y.getSplitterTarget(v);if(I){G=undefined;B=!!v.hidden;if(!I.split){if(I.isCollapsingOrExpanding){G=!!I.collapsed}}else{if(B!==I.hidden){G=!I.hidden}}if(G){v.show()}else{if(G===false){v.hide()}}}}Ext.layout.container.Container.prototype.beginLayout.apply(this,arguments);A=F.childItems;H=A.length;D={};F.borderAxisHorz=y.beginAxis(F,D,"horz");F.borderAxisVert=y.beginAxis(F,D,"vert");for(C=0;C<H;++C){s=A[C];I=y.getSplitterTarget(s.target);if(I){w=D[I.id];if(!w){w=F.getEl(I.el,y);w.region=I.region}s.collapseTarget=I=w;s.weight=I.weight;s.reverseWeighting=I.reverseWeighting;I.splitter=s;s.isHorz=I.isHorz;s.isVert=I.isVert}}y.sortWeightedItems(A,"reverseWeighting");y.setupSplitterNeighbors(A)},calculate:function(F){var x=this,I=x.getContainerSize(F),B=F.childItems,G=B.length,H=F.borderAxisHorz,A=F.borderAxisVert,E=F.outerPad,v=F.padOnContainer,C,s,y,u,w,D;H.begin=E[x.padOnContainerProp];A.begin=E.top;w=H.end=H.flexSpace=I.width+(v?E[x.padOnContainerProp]:-E[x.padNotOnContainerProp]);D=A.end=A.flexSpace=I.height+(v?E.top:-E.bottom);for(C=0;C<G;++C){s=B[C];y=s.getMarginInfo();if(s.isHorz||s.isCenter){H.addUnflexed(y.width);w-=y.width}if(s.isVert||s.isCenter){A.addUnflexed(y.height);D-=y.height}if(!s.flex&&!s.percentage){if(s.isHorz||(s.isCenter&&s.collapseAxis==="horz")){u=s.getProp("width");H.addUnflexed(u);if(s.collapseTarget){w-=u}}else{if(s.isVert||(s.isCenter&&s.collapseAxis==="vert")){u=s.getProp("height");A.addUnflexed(u);if(s.collapseTarget){D-=u}}}}}for(C=0;C<G;++C){s=B[C];y=s.getMarginInfo();if(s.percentage){if(s.isHorz){u=Math.ceil(w*s.percentage/100);u=s.setWidth(u);H.addUnflexed(u)}else{if(s.isVert){u=Math.ceil(D*s.percentage/100);u=s.setHeight(u);A.addUnflexed(u)}}}}for(C=0;C<G;++C){s=B[C];if(!s.isCenter){x.calculateChildAxis(s,H);x.calculateChildAxis(s,A)}}if(x.finishAxis(F,A)+x.finishAxis(F,H)<2){x.done=false}else{x.finishPositions(B)}},calculateChildAxis:function(o,x){var A=o.collapseTarget,s="set"+x.sizePropCap,v=x.sizeProp,w=o.getMarginInfo()[v],q,y,u,r,p;if(A){q=A.region}else{q=o.region;u=o.flex}y=q===x.borderBegin;if(!y&&q!==x.borderEnd){o[s](x.end-x.begin-w);r=x.begin}else{if(u){p=Math.ceil(x.flexSpace*(u/x.totalFlex));p=o[s](p)}else{if(o.percentage){p=o.peek(v)}else{p=o.getProp(v)}}p+=w;if(y){r=x.begin;x.begin+=p}else{x.end=r=x.end-p}}o.layoutPos[x.posProp]=r},eachItem:function(l,o,p){var m=this,k=m.getLayoutItems(),q=0,n;if(Ext.isFunction(l)){o=l;p=o}for(q;q<k.length;q++){n=k[q];if(!l||n.region===l){if(o.call(p,n)===false){break}}}},finishAxis:function(g,j){var k=j.end-j.begin,f=g.centerRegion;if(f){f["set"+j.sizePropCap](k-f.getMarginInfo()[j.sizeProp]);f.layoutPos[j.posProp]=j.begin}return Ext.isNumber(k)?1:0},finishPositions:function(j){var l=j.length,m,g,k=this.horzPositionProp;for(m=0;m<l;++m){g=j[m];g.setProp("x",g.layoutPos.x+g.marginInfo[k]);g.setProp("y",g.layoutPos.y+g.marginInfo.top)}},getLayoutItems:function(){var k=this.owner,n=(k&&k.items&&k.items.items)||[],o=n.length,q=[],p=0,m,l;for(;p<o;p++){m=n[p];l=m.placeholderFor;if(m.hidden||((!m.floated||m.isCollapsingOrExpanding===2)&&!(l&&l.isCollapsingOrExpanding===2))){q.push(m)}}return q},getPlaceholder:function(c){return c.getPlaceholder&&c.getPlaceholder()},getMaxWeight:function(c){return this.getMinMaxWeight(c)},getMinWeight:function(c){return this.getMinMaxWeight(c,true)},getMinMaxWeight:function(g,f){var k=this,j=null;k.eachItem(g,function(b){if(b.hasOwnProperty("weight")){if(j===null){j=b.weight;return}if((f&&b.weight<j)||b.weight>j){j=b.weight}}},this);return j},getSplitterTarget:function(e){var d=e.collapseTarget;if(d&&d.collapsed){return d.placeholder||d}return d},isItemBoxParent:function(c){return true},isItemShrinkWrap:function(c){return true},insertSplitter:function(o,p,m,q){var l=o.region,n=Ext.apply({xtype:"bordersplitter",collapseTarget:o,id:o.id+"-splitter",hidden:m,canResize:o.splitterResize!==false,splitterFor:o,synthetic:true},q),k=p+((l==="south"||l==="east")?0:1);if(o.collapseMode==="mini"){n.collapsedCls=o.collapsedCls}o.splitter=this.owner.add(k,n)},getMoveAfterIndex:function(e){var d=Ext.layout.container.Container.prototype.getMoveAfterIndex.apply(this,arguments);if(e.splitter){d++}return d},moveItemBefore:function(e,f){var g;if(f&&f.splitter){g=f.region;if(g==="south"||g==="east"){f=f.splitter}}return Ext.layout.container.Container.prototype.moveItemBefore.call(this,e,f)},onAdd:function(m,r){var p=this,s=m.placeholderFor,n=m.region,q,o,v,u;Ext.layout.container.Container.prototype.onAdd.apply(this,arguments);if(n){Ext.apply(m,p.regionFlags[n]);if(p.owner.isViewport){m.isViewportBorderChild=true}if(m.initBorderRegion){m.initBorderRegion()}q=n==="center";if(q){p.centerRegion=m}else{o=m.split;v=!!m.hidden;if(typeof o==="object"){u=o;o=true}if((m.isHorz||m.isVert)&&(o||m.collapseMode==="mini")){p.insertSplitter(m,r,v||!o,u)}}if(!q&&!m.hasOwnProperty("collapseMode")){m.collapseMode=p.panelCollapseMode}if(!m.hasOwnProperty("animCollapse")){if(m.collapseMode!=="placeholder"){m.animCollapse=false}else{m.animCollapse=p.panelCollapseAnimate}}if(v&&m.placeholder&&m.placeholder.isVisible()){p.owner.insert(r,m.placeholder)}}else{if(s){Ext.apply(m,p.regionFlags[s.region]);m.region=s.region;m.weight=s.weight}}},onDestroy:function(){this.centerRegion=null;Ext.layout.container.Container.prototype.onDestroy.call(this)},onRemove:function(s,q){var p=this,m=s.region,o=s.splitter,l=p.owner,n=l.destroying,r;if(m){if(s.isCenter){p.centerRegion=null}delete s.isCenter;delete s.isHorz;delete s.isVert;if(o&&!l.destroying){l.doRemove(o,true)}delete s.splitter}Ext.layout.container.Container.prototype.onRemove.apply(this,arguments);if(!n&&!q&&s.rendered){r=s.getEl();if(r){r.setStyle("top","");r.setStyle(p.horzPositionProp,"")}}},regionMeta:{center:{splitterDelta:0},north:{splitterDelta:1},south:{splitterDelta:-1},west:{splitterDelta:1},east:{splitterDelta:-1}},regionFlags:{center:{isCenter:true,isHorz:false,isVert:false},north:{isCenter:false,isHorz:false,isVert:true,collapseDirection:"top"},south:{isCenter:false,isHorz:false,isVert:true,collapseDirection:"bottom"},west:{isCenter:false,isHorz:true,isVert:false,collapseDirection:"left"},east:{isCenter:false,isHorz:true,isVert:false,collapseDirection:"right"}},setupSplitterNeighbors:function(u){var j={},A=u.length,r=this.touchedRegions,x,y,E,v,B,w,s,D,C;for(x=0;x<A;++x){w=u[x].target;s=w.region;if(w.isCenter){E=w}else{if(s){C=r[s];for(y=0,v=C.length;y<v;++y){B=j[C[y]];if(B){B.neighbors.push(w)}}if(w.placeholderFor){D=w.placeholderFor.splitter}else{D=w.splitter}if(D){D.neighbors=[]}j[s]=D}}}if(E){C=r.center;for(y=0,v=C.length;y<v;++y){B=j[C[y]];if(B){B.neighbors.push(E)}}}},touchedRegions:{center:["north","south","east","west"],north:["north","east","west"],south:["south","east","west"],east:["east","north","south"],west:["west","north","south"]},sizePolicies:{vert:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},horz:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},flexAll:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(n){var o=this,k=this.sizePolicies,p,q,m,l;if(n.isCenter){l=n.placeholderFor;if(l){if(l.collapsedVertical()){return k.vert}return k.horz}if(n.collapsed){if(n.collapsedVertical()){return k.vert}return k.horz}return k.flexAll}p=n.collapseTarget;if(p){return p.isVert?k.vert:k.horz}if(n.region){if(n.isVert){q=n.height;m=k.vert}else{q=n.width;m=k.horz}if(n.flex||(typeof q==="string"&&o.percentageRe.test(q))){return k.flexAll}return m}return o.autoSizePolicy}},0,0,0,0,["layout.border"],0,[Ext.layout.container,"Border",Ext.layout,"BorderLayout"],function(){var d={addUnflexed:function(b){this.flexSpace=Math.max(this.flexSpace-b,0)}},e=this.prototype.axisProps;Ext.apply(e.horz,d);Ext.apply(e.vert,d)}));(Ext.cmd.derive("Ext.layout.container.Card",Ext.layout.container.Fit,{alternateClassName:"Ext.layout.CardLayout",type:"card",hideInactive:true,deferredRender:false,getRenderTree:function(){var d=this,e=d.getActiveItem();if(e){if(e.hasListeners.beforeactivate&&e.fireEvent("beforeactivate",e)===false){e=d.activeItem=d.owner.activeItem=null}else{if(e.hasListeners.activate){e.on({boxready:function(){e.fireEvent("activate",e)},single:true})}}if(d.deferredRender){if(e){return d.getItemsRenderTree([e])}}else{return Ext.layout.container.Fit.prototype.getRenderTree.apply(this,arguments)}}},renderChildren:function(){var d=this,e=d.getActiveItem();if(!d.deferredRender){Ext.layout.container.Fit.prototype.renderChildren.call(this)}else{if(e){d.renderItems([e],d.getRenderTarget())}}},isValidParent:function(j,g,f){var k=j.el?j.el.dom:Ext.getDom(j);return(k&&k.parentNode===(g.dom||g))||false},getActiveItem:function(){var f=this,g=f.activeItem===undefined?(f.owner&&f.owner.activeItem):f.activeItem,e=f.parseActiveItem(g);if(e&&f.owner.items.indexOf(e)!==-1){f.activeItem=e}return e==null?null:(f.activeItem||f.owner.activeItem)},parseActiveItem:function(d){var e;if(d&&d.isComponent){e=d}else{if(typeof d==="number"||d===undefined){e=this.getLayoutItems()[d||0]}else{if(d===null){e=null}else{e=this.owner.getComponent(d)}}}return e},configureItem:function(c){c.setHiddenState(c!==this.getActiveItem());Ext.layout.container.Fit.prototype.configureItem.apply(this,arguments)},onAdd:function(d,e){Ext.layout.container.Fit.prototype.onAdd.call(this,d,e);this.setItemHideMode(d)},onRemove:function(d){var e=this;Ext.layout.container.Fit.prototype.onRemove.call(this,d);e.resetItemHideMode(d);if(d===e.activeItem){e.activeItem=undefined}},getAnimation:function(g,e){var f=(g||{}).cardSwitchAnimation;if(f===false){return false}return f||e.cardSwitchAnimation},getNext:function(){var f=arguments[0],e=this.getLayoutItems(),g=Ext.Array.indexOf(e,this.activeItem);return e[g+1]||(f?e[0]:false)},next:function(){var e=arguments[0],d=arguments[1];return this.setActiveItem(this.getNext(d),e)},getPrev:function(){var f=arguments[0],e=this.getLayoutItems(),g=Ext.Array.indexOf(e,this.activeItem);return e[g-1]||(f?e[e.length-1]:false)},prev:function(){var e=arguments[0],d=arguments[1];return this.setActiveItem(this.getPrev(d),e)},setActiveItem:function(q){var n=this,k=n.owner,o=n.activeItem,l=k.rendered,p,m;q=n.parseActiveItem(q);p=k.items.indexOf(q);if(p===-1){p=k.items.items.length;Ext.suspendLayouts();q=k.add(q);Ext.resumeLayouts()}if(q&&o!==q){if(q.fireEvent("beforeactivate",q,o)===false){return false}if(o&&o.fireEvent("beforedeactivate",o,q)===false){return false}if(l){Ext.suspendLayouts();if(!q.rendered){n.renderItem(q,n.getRenderTarget(),k.items.length)}if(o){if(n.hideInactive){m=o.el.contains(Ext.Element.getActiveElement());o.hide();if(o.hidden){o.hiddenByLayout=true;o.fireEvent("deactivate",o,q)}else{return false}}}if(q.hidden){q.show()}if(q.hidden){n.activeItem=q=null}else{n.activeItem=q;if(m){if(!q.defaultFocus){q.defaultFocus=":focusable"}q.focus()}}Ext.resumeLayouts(true)}else{n.activeItem=q}q.fireEvent("activate",q,o);return n.activeItem}return false},resetItemHideMode:function(c){c.hideMode=c.originalHideMode;delete c.originalHideMode},setItemHideMode:function(c){c.originalHideMode=c.hideMode;c.hideMode="offsets"}},0,0,0,0,["layout.card"],0,[Ext.layout.container,"Card",Ext.layout,"CardLayout"],0));(Ext.cmd.derive("Ext.layout.container.Center",Ext.layout.container.Fit,{alternateClassName:"Ext.ux.layout.Center",type:"center",percentRe:/^\d+(?:\.\d+)?\%$/,itemCls:"x-center-layout-item",childEls:["targetEl"],renderTpl:['<div id="{ownerId}-targetEl" data-ref="targetEl" class="{targetElCls}" role="presentation">{%this.renderBody(out, values)%}</div>'],targetElCls:"x-center-target",beginLayout:function(w){var o=this,v=o.percentRe,r,p,u,x,n,q,s;Ext.layout.container.Fit.prototype.beginLayout.call(this,w);r=w.childItems;for(u=0,p=r.length;u<p;++u){x=r[u];n=x.target;q=x.widthModel;s=x.heightModel;if(v.test(n.width)){n.getEl().setStyle("width","")}if(v.test(n.height)){n.getEl().setStyle("height","")}}w.targetElContext=w.getEl("targetEl",o)},beginLayoutCycle:function(g,e){var f=this.targetEl;Ext.layout.container.Fit.prototype.beginLayoutCycle.call(this,g,e);f.setStyle("width","");f.setStyle("height","")},getRenderData:function(){var c=Ext.layout.container.Fit.prototype.getRenderData.call(this);c.targetElCls=this.targetElCls;return c},getRenderTarget:function(){return this.targetEl},getItemSizePolicy:function(n,l){var o=this,j=l||o.owner.getSizeModel(),m=o.percentRe,k=((j.width.shrinkWrap||!m.test(n.width))?0:1)|((j.height.shrinkWrap||!m.test(n.height))?0:2);return o.sizePolicies[k]},isItemShrinkWrap:function(c){return true},calculate:function(g){var e=g.targetElContext,f;Ext.layout.container.Fit.prototype.calculate.call(this,g);f=g.state.info;if(g.widthModel.shrinkWrap){e.setWidth(f.contentWidth)}if(g.heightModel.shrinkWrap){e.setHeight(f.contentHeight)}},getPos:function(n,l,m){var j=m+"Model",o=n.props[m],k=0;if(!n[j].calculated){o+=l.margins[m]}if(!l.ownerContext[j].shrinkWrap){k=Math.round((l.targetSize[m]-o)/2);if(isNaN(k)){this.done=false}}return Math.max(k,0)},positionItemX:function(e,f){var g=this.getPos(e,f,"width");e.setProp("x",g)},positionItemY:function(e,f){var g=this.getPos(e,f,"height");e.setProp("y",g)},setItemHeight:function(g,f){var e=parseFloat(g.target.height)/100;g.setHeight(Math.round((f.targetSize.height-f.margins.height)*e))},setItemWidth:function(g,f){var e=parseFloat(g.target.width)/100;g.setWidth(Math.round((f.targetSize.width-f.margins.width)*e))}},0,0,0,0,["layout.center","layout.ux.center"],0,[Ext.layout.container,"Center",Ext.ux.layout,"Center"],0));(Ext.cmd.derive("Ext.plugin.Manager",Ext.Base,{alternateClassName:["Ext.PluginManager","Ext.PluginMgr"],singleton:true,typeName:"ptype",create:function(m,j,k){var g,l;if(m.init){g=m}else{if(k){m=Ext.apply({},m);m.cmp=k}else{k=m.cmp}if(m.xclass){g=Ext.create(m)}else{l="plugin."+(m.ptype||j);g=Ext.ClassManager.instantiateByAlias(l,m)}}if(g&&k&&g.setCmp&&!g.setCmpCalled){g.setCmp(k);g.setCmpCalled=true}return g}},0,0,0,0,0,0,[Ext.plugin,"Manager",Ext,"PluginManager",Ext,"PluginMgr"],0));(Ext.cmd.derive("Ext.resizer.BorderSplitterTracker",Ext.resizer.SplitterTracker,{getPrevCmp:null,getNextCmp:null,calculateConstrainRegion:function(){var K=this,aa=K.splitter,O=aa.collapseTarget,X=aa.defaultSplitMin,U=aa.vertical?"Width":"Height",Y="min"+U,E="max"+U,T="get"+U,F=aa.neighbors,W=F.length,P=O.el.getBox(),V=P.x,M=P.y,L=P.right,S=P.bottom,I=aa.vertical?(L-V):(S-M),N,R,H,Q,D,G,J,Z;Q=(O[Y]||Math.min(I,X))-I;D=O[E];if(!D){D=1000000000}else{D-=I}Z=I;for(N=0;N<W;++N){R=F[N];I=R[T]();H=R[E];if(H===null){H=undefined}G=I-H;J=I-(R[Y]||Math.min(I,X));if(!isNaN(G)){if(Q<G){Q=G}}if(D>J){D=J}}if(D-Q<2){return null}P=new Ext.util.Region(M,L,S,V);K.constraintAdjusters[K.getCollapseDirection()](P,Q,D,aa);K.dragInfo={minRange:Q,maxRange:D,targetSize:Z};return P},constraintAdjusters:{left:function(j,f,k,g){j[0]=j.x=j.left=j.right+f;j.right+=k+g.getWidth()},top:function(j,f,k,g){j[1]=j.y=j.top=j.bottom+f;j.bottom+=k+g.getHeight()},bottom:function(j,f,k,g){j.bottom=j.top-f;j.top-=k+g.getHeight()},right:function(j,f,k,g){j.right=j.left-f;j[0]=j.x=j.left=j.x-k+g.getWidth()}},onBeforeStart:function(m){var p=this,o=p.splitter,q=o.collapseTarget,s=o.neighbors,r=s.length,e,n;if(q.collapsed){return false}for(e=0;e<r;++e){n=s[e];if(n.collapsed&&n.isHorz===q.isHorz){return false}}if(!(p.constrainTo=p.calculateConstrainRegion())){return false}return true},performResize:function(p,q){var o=this,w=o.splitter,r=w.getCollapseDirection(),x=w.collapseTarget,s=o.splitAdjusters[w.vertical?"horz":"vert"],e=q[s.index],u=o.dragInfo,v;if(r==="right"||r==="bottom"){e=-e}e=Math.min(Math.max(u.minRange,e),u.maxRange);if(e){(v=w.ownerCt).suspendLayouts();s.adjustTarget(x,u.targetSize,e);v.resumeLayouts(true)}},splitAdjusters:{horz:{index:0,adjustTarget:function(g,e,f){g.flex=null;g.setSize(e+f)}},vert:{index:1,adjustTarget:function(g,e,f){g.flex=null;g.setSize(undefined,e+f)}}},getCollapseDirection:function(){return this.splitter.getCollapseDirection()}},0,0,0,0,0,0,[Ext.resizer,"BorderSplitterTracker"],0));(Ext.cmd.derive("Ext.resizer.ResizeTracker",Ext.dd.DragTracker,{dynamic:true,preserveRatio:false,preventDefault:false,constrainTo:null,proxyCls:"x-resizable-proxy",constructor:function(m){var k=this,l,g,j;if(!m.el){if(m.target.isComponent){k.el=m.target.getEl()}else{k.el=m.target}}Ext.dd.DragTracker.prototype.constructor.apply(this,arguments);if(k.preserveRatio&&k.minWidth&&k.minHeight){l=k.minWidth/k.el.getWidth();g=k.minHeight/k.el.getHeight();if(g>l){k.minWidth=k.el.getWidth()*g}else{k.minHeight=k.el.getHeight()*l}}if(k.throttle){j=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(k,arguments)},k.throttle);k.resize=function(c,b,d){if(d){Ext.resizer.ResizeTracker.prototype.resize.apply(k,arguments)}else{j.apply(null,arguments)}}}},onBeforeStart:function(c){this.startBox=this.target.getBox()},getProxy:function(){var c=this;if(!c.dynamic&&!c.proxy){c.proxy=c.createProxy(c.target||c.el);c.hideProxy=true}if(c.proxy){c.proxy.show();return c.proxy}},createProxy:function(f){var g,e=this.proxyCls;if(f.isComponent){g=f.getProxy().addCls(e)}else{g=f.createProxy({tag:"div",role:"presentation",cls:e,id:f.id+"-rzproxy"},Ext.getBody())}g.removeCls("x-proxy-el");return g},onStart:function(c){this.activeResizeHandle=Ext.get(this.getDragTarget().id);if(!this.dynamic){this.resize(this.startBox)}},onMouseDown:function(e,d){Ext.dd.DragTracker.prototype.onMouseDown.call(this,e,d);Ext.dom.Element.maskIframes()},onMouseUp:function(c){Ext.dd.DragTracker.prototype.onMouseUp.call(this,c);Ext.dom.Element.unmaskIframes()},onDrag:function(c){if(this.dynamic||this.proxy){this.updateDimensions(c)}},updateDimensions:function(C,G){var B=this,O=B.activeResizeHandle.region,M=B.getOffset(B.constrainTo?"dragTarget":null),I=B.startBox,L,E=0,A=0,J,D,Q=0,e=0,y,K,P,N,F,H;O=B.convertRegionName(O);switch(O){case"south":A=M[1];P=2;break;case"north":A=-M[1];e=-A;P=2;break;case"east":E=M[0];P=1;break;case"west":E=-M[0];Q=-E;P=1;break;case"northeast":A=-M[1];e=-A;E=M[0];K=[I.x,I.y+I.height];P=3;break;case"southeast":A=M[1];E=M[0];K=[I.x,I.y];P=3;break;case"southwest":E=-M[0];Q=-E;A=M[1];K=[I.x+I.width,I.y];P=3;break;case"northwest":A=-M[1];e=-A;E=-M[0];Q=-E;K=[I.x+I.width,I.y+I.height];P=3;break}N={width:I.width+E,height:I.height+A,x:I.x+Q,y:I.y+e};J=Ext.Number.snap(N.width,B.widthIncrement);D=Ext.Number.snap(N.height,B.heightIncrement);if(J!==N.width||D!==N.height){switch(O){case"northeast":N.y-=D-N.height;break;case"north":N.y-=D-N.height;break;case"southwest":N.x-=J-N.width;break;case"west":N.x-=J-N.width;break;case"northwest":N.x-=J-N.width;N.y-=D-N.height}N.width=J;N.height=D}if(N.width<B.minWidth||N.width>B.maxWidth){N.width=Ext.Number.constrain(N.width,B.minWidth,B.maxWidth);if(Q){N.x=I.x+(I.width-N.width)}}else{B.lastX=N.x}if(N.height<B.minHeight||N.height>B.maxHeight){N.height=Ext.Number.constrain(N.height,B.minHeight,B.maxHeight);if(e){N.y=I.y+(I.height-N.height)}}else{B.lastY=N.y}if(B.preserveRatio||C.shiftKey){L=B.startBox.width/B.startBox.height;F=Math.min(Math.max(B.minHeight,N.width/L),B.maxHeight);H=Math.min(Math.max(B.minWidth,N.height*L),B.maxWidth);if(P===1){N.height=F}else{if(P===2){N.width=H}else{y=Math.abs(K[0]-this.lastXY[0])/Math.abs(K[1]-this.lastXY[1]);if(y>L){N.height=F}else{N.width=H}if(O==="northeast"){N.y=I.y-(N.height-I.height)}else{if(O==="northwest"){N.y=I.y-(N.height-I.height);N.x=I.x-(N.width-I.width)}else{if(O==="southwest"){N.x=I.x-(N.width-I.width)}}}}}}B.setPosition=N.x!==B.startBox.x||N.y!==B.startBox.y;B.resize(N,G)},resize:function(k,g){var l=this,j,m=l.setPosition;if(l.dynamic||(!l.dynamic&&g)){if(m){l.target.setBox(k)}else{l.target.setSize(k.width,k.height)}}if(!g){j=l.getProxy();if(j&&j!==l.target){if(m||l.hideProxy){j.setBox(k)}else{j.setSize(k.width,k.height)}}}},onEnd:function(c){this.updateDimensions(c,true);if(this.proxy&&this.hideProxy){this.proxy.hide()}},convertRegionName:function(c){return c}},1,0,0,0,0,0,[Ext.resizer,"ResizeTracker"],0));(Ext.cmd.derive("Ext.resizer.Resizer",Ext.Base,{alternateClassName:"Ext.Resizable",handleCls:"x-resizable-handle",overCls:"x-resizable-handle-over",pinnedCls:"x-resizable-pinned",wrapCls:"x-resizable-wrap",wrappedCls:"x-resizable-wrapped",delimiterRe:/(?:\s*[,;]\s*)|\s+/,dynamic:true,handles:"s e se",height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:10000,maxWidth:10000,pinned:false,preserveRatio:false,transparent:false,possiblePositions:{n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},touchActionMap:{n:{panY:false},s:{panY:false},e:{panX:false},w:{panX:false},se:{panX:false,panY:false},sw:{panX:false,panY:false},nw:{panX:false,panY:false},ne:{panX:false,panY:false}},ariaRole:"presentation",constructor:function(y){var x=this,E=Ext.dom.Element.unselectableCls,D=[],I,F,N,w,B,C,J,H,A,O,G,M,L,K;if(Ext.isString(y)||Ext.isElement(y)||y.dom){I=y;y=arguments[1]||{};y.target=I}x.mixins.observable.constructor.call(x,y);I=x.target;if(I){if(I.isComponent){I.addClsWithUI("resizable");if(I.minWidth){x.minWidth=I.minWidth}if(I.minHeight){x.minHeight=I.minHeight}if(I.maxWidth){x.maxWidth=I.maxWidth}if(I.maxHeight){x.maxHeight=I.maxHeight}if(I.floating){if(!x.hasOwnProperty("handles")){x.handles="n ne e se s sw w nw"}}x.el=I.getEl()}else{I=x.el=x.target=Ext.get(I)}}else{I=x.target=x.el=Ext.get(x.el)}x.el.addCls(Ext.Component.prototype.borderBoxCls);if(Ext.isNumber(x.width)){x.width=Ext.Number.constrain(x.width,x.minWidth,x.maxWidth)}if(Ext.isNumber(x.height)){x.height=Ext.Number.constrain(x.height,x.minHeight,x.maxHeight)}if(x.width!==null||x.height!==null){x.target.setSize(x.width,x.height)}w=x.el.dom.tagName.toUpperCase();if(w==="TEXTAREA"||w==="IMG"||w==="TABLE"){x.originalTarget=x.target;M=I.isComponent?I.getEl():I;x.el.addCls(x.wrappedCls);x.target=x.el=x.el.wrap({role:"presentation",cls:x.wrapCls,id:x.el.id+"-rzwrap",style:M.getStyle(["margin-top","margin-bottom"])});L=M.getPositioning();x.el.setPositioning(L);M.clearPositioning();H=M.getBox();if(L.position!=="absolute"){H.x=0;H.y=0}x.el.setBox(H);M.setStyle("position","absolute");x.isTargetWrapped=true}x.el.position();if(x.pinned){x.el.addCls(x.pinnedCls)}x.resizeTracker=new Ext.resizer.ResizeTracker({disabled:x.disabled,target:I,el:x.el,constrainTo:x.constrainTo,handleCls:x.handleCls,overCls:x.overCls,throttle:x.throttle,proxy:x.originalTarget?x.el:null,dynamic:x.originalTarget?true:x.dynamic,originalTarget:x.originalTarget,delegate:"."+x.handleCls,preserveRatio:x.preserveRatio,heightIncrement:x.heightIncrement,widthIncrement:x.widthIncrement,minHeight:x.minHeight,maxHeight:x.maxHeight,minWidth:x.minWidth,maxWidth:x.maxWidth});x.resizeTracker.on({mousedown:x.onBeforeResize,drag:x.onResize,dragend:x.onResizeEnd,scope:x});if(x.handles==="all"){x.handles="n s e w ne nw se sw"}O=x.handles=x.handles.split(x.delimiterRe);N=x.possiblePositions;B=O.length;F=x.handleCls+" "+x.handleCls+"-{0}";if(x.target.isComponent){K=x.target.baseCls;F+=" "+K+"-handle "+K+"-handle-{0}";if(Ext.supports.CSS3BorderRadius){F+=" "+K+"-handle-{0}-br"}}for(C=0;C<B;C++){A=O[C];if(A&&N[A]){J=N[A];G=x[J]=x.el.createChild({id:x.el.id+"-"+J+"-handle",cls:Ext.String.format(F,J)+" "+E,unselectable:"on",role:"presentation"});G.region=J;if(x.transparent){G.setOpacity(0)}G.setTouchAction(x.touchActionMap[A]);D.push(G)}}x.resizeTracker.handleEls=D},disable:function(){this.disabled=true;this.resizeTracker.disable()},enable:function(){this.disabled=false;this.resizeTracker.enable()},onBeforeResize:function(d,e){return this.fireResizeEvent("beforeresize",d,e)},onResize:function(d,e){return this.fireResizeEvent("resizedrag",d,e)},onResizeEnd:function(d,e){return this.fireResizeEvent("resize",d,e)},fireResizeEvent:function(e,k,j){var l=this,m;if(l.hasListeners[e]){m=l.el.getBox();return l.fireEvent(e,l,m.width,m.height,j)}},resizeTo:function(g,e){var f=this;f.target.setSize(g,e);f.fireEvent("resize",f,g,e,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){var n=this,o=n.handles,k=o.length,q=n.possiblePositions,m,l,p;n.resizeTracker.destroy();if(n.isTargetWrapped){n.target.destroy()}for(p=0;p<k;p++){l=q[o[p]];if((m=n[l])){m.destroy();n[l]=null}}n.callParent()}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.resizer,"Resizer",Ext,"Resizable"],0));(Ext.cmd.derive("Ext.selection.CellModel",Ext.selection.DataViewModel,{isCellModel:true,deselectOnContainerClick:false,enableKeyNav:true,preventWrap:false,bindComponent:function(e){var f=this,g;if(f.view&&f.gridListeners){f.gridListeners.destroy()}Ext.selection.DataViewModel.prototype.bindComponent.call(this,e);if(e){g=e.grid||e.ownerCt;if(g.optimizedColumnMove!==false){f.gridListeners=g.on({columnmove:f.onColumnMove,scope:f,destroyable:true})}}},getViewListeners:function(){var c=Ext.selection.DataViewModel.prototype.getViewListeners.call(this);c.refresh=this.onViewRefresh;return c},getHeaderCt:function(){var e=this.navigationModel.getPosition(),d=e?e.view:this.primaryView;return d.headerCt},onNavigate:function(c){if(!c.record||c.keyEvent.stopSelection){return}this.setPosition(c.position)},selectWithEvent:function(d,e){this.select(d)},select:function(l,n,q){var o=this,m,p=o.getPosition(),k=o.view.store;if(l||l===0){if(l.isModel){m=k.indexOf(l);if(m!==-1){l={row:m,column:p?p.column:0}}else{l=null}}else{if(typeof l==="number"){l={row:l,column:0}}}}if(l){o.selectByPosition(l,q)}else{o.deselect()}},getCurrentPosition:function(){var c=this.selecting?this.nextSelection:this.selection;return c?{view:c.view,record:c.record,row:c.rowIdx,columnHeader:c.column,column:c.view.getColumnManager().indexOf(c.column)}:c},getPosition:function(){return(this.selecting?this.nextSelection:this.selection)||null},setCurrentPosition:function(f,e,g){if(f&&!f.isCellContext){f=new Ext.grid.CellContext(this.view).setPosition({row:f.row,column:typeof f.column==="number"?this.view.getColumnManager().getColumns()[f.column]:f.column})}return this.setPosition(f,e,g)},setPosition:function(j,g,k){var l=this,m=l.selection;if(j){j=j.isCellContext?j.clone():new Ext.grid.CellContext(l.view).setPosition(j)}if(!k&&m){if(j&&(j.record===m.record&&j.column===m.column&&j.view===m.view)){j=null}else{l.onCellDeselect(l.selection,g)}}if(j){l.nextSelection=j;l.selecting=true;l.onCellSelect(l.nextSelection,g);l.selecting=false;return(l.selection=j)}},isCellSelected:function(j,l,n){var m=this,o,k=m.getPosition();if(k&&k.view===j){o=new Ext.grid.CellContext(j).setPosition({row:l,column:typeof n==="number"?j.getColumnManager().getColumns()[n]:n});return(o.record===k.record)&&(o.column===k.column)}},onStoreRemove:function(m,g,k){var l=this,j=l.getPosition();Ext.selection.DataViewModel.prototype.onStoreRemove.apply(this,arguments);if(j&&m.isMoving(j.record)){return}if(j&&m.getCount()&&m.indexOf(j.record)!==-1){j.setRow(j.record)}else{l.selection=null}},onStoreClear:function(){Ext.selection.DataViewModel.prototype.onStoreClear.apply(this,arguments);this.selection=null},onStoreAdd:function(){var d=this,e=d.getPosition();Ext.selection.DataViewModel.prototype.onStoreAdd.apply(this,arguments);if(e){e.setRow(e.record)}else{d.selection=null}},updateSelectedInstances:function(e){var f=this.getPosition(),g=e.getAt(0);if(g&&f&&f.record.id===g.id){f.setRow(g)}Ext.selection.DataViewModel.prototype.updateSelectedInstances.call(this,e)},onCellClick:function(p,e,n,q,l,o,m){if(o!==-1){this.setPosition(m.position)}},onCellSelect:function(d,e){if(d&&d.rowIdx!==undefined&&d.rowIdx>-1){this.doSelect(d.record,false,e)}},onCellDeselect:function(d,e){if(d&&d.rowIdx!==undefined){this.doDeselect(d.record,e)}},onSelectChange:function(s,p,q,n){var o=this,m,r,l;if(p){m=o.nextSelection;r="select"}else{m=o.selection;r="deselect"}l=m.view||o.primaryView;if((q||o.fireEvent("before"+r,o,s,m.rowIdx,m.colIdx))!==false&&n()!==false){if(p){l.onCellSelect(m)}else{l.onCellDeselect(m);delete o.selection}if(!q){o.fireEvent(r,o,s,m.rowIdx,m.colIdx)}}},refresh:function(){var e=this.getPosition(),d;if(e&&(d=this.store.indexOf(this.selected.last()))!==-1){e.rowIdx=d}},onColumnMove:function(k,j,m,l){var g=k.up("tablepanel");if(g){this.onViewRefresh(g.view)}},onUpdate:function(e){var g=this,f;if(g.isSelected(e)){f=g.selecting?g.nextSelection:g.selection;g.view.onCellSelect(f)}},onViewRefresh:function(q){var n=this,l=n.getPosition(),p,m=q.headerCt,k,o;if(l&&l.view===q){k=l.record;o=q.getColumnByPosition(l);if(!o.isDescendantOf(m)){o=m.queryById(o.id)||m.down('[text="'+o.text+'"]')||m.down('[dataIndex="'+o.dataIndex+'"]')}if(l.record){if(o&&(q.store.indexOfId(k.getId())!==-1)){p=new Ext.grid.CellContext(q).setPosition({row:k,column:o});n.setPosition(p)}}else{n.selection=null}}},selectByPosition:function(d,e){this.setPosition(d,e)}},0,0,0,0,["selection.cellmodel"],0,[Ext.selection,"CellModel"],0));(Ext.cmd.derive("Ext.selection.RowModel",Ext.selection.DataViewModel,{enableKeyNav:true,isRowModel:true,deselectOnContainerClick:false,onUpdate:function(k){var g=this,f=g.view,j;if(f&&g.isSelected(k)){j=f.indexOf(k);f.onRowSelect(j);if(k===g.lastFocused){f.onRowFocus(j,true)}}},onSelectChange:function(u,y,p,A){var r=this,o=r.views||[r.view],x=o.length,w=r.store.indexOf(u),s=y?"select":"deselect",v,q;if((p||r.fireEvent("before"+s,r,u,w))!==false&&A()!==false){for(v=0;v<x;v++){q=o[v];w=q.indexOf(u);if(q.indexOf(u)!==-1){if(y){q.onRowSelect(w,p)}else{q.onRowDeselect(w,p)}}}if(!p){r.fireEvent(s,r,u,w)}}},getCurrentPosition:function(){var c=this.selected.getAt(0);if(c){return new Ext.grid.CellContext(this.view).setPosition(this.store.indexOf(c),0)}},selectByPosition:function(d,e){if(!d.isCellContext){d=new Ext.grid.CellContext(this.view).setPosition(d.row,d.column)}this.select(d.record,e)},selectNext:function(n,r){var o=this,s=o.store,p=o.getSelection(),l=p[p.length-1],q=o.view.indexOf(l)+1,m;if(q===s.getCount()||q===0){m=false}else{o.doSelect(q,n,r);m=true}return m},selectPrevious:function(m,q){var n=this,o=n.getSelection(),k=o[0],p=n.view.indexOf(k)-1,l;if(p<0){l=false}else{n.doSelect(p,m,q);l=true}return l},isRowSelected:function(c){return this.isSelected(c)},isCellSelected:function(g,e,f){return this.isSelected(e)},vetoSelection:function(j){var k=this.view.getNavigationModel(),e=j.getKey(),g=e===j.RIGHT||e===j.LEFT;return(g&&k.previousRecord===k.record)||Ext.selection.DataViewModel.prototype.vetoSelection.call(this,j)}},0,0,0,0,["selection.rowmodel"],0,[Ext.selection,"RowModel"],0));(Ext.cmd.derive("Ext.selection.CheckboxModel",Ext.selection.RowModel,{mode:"MULTI",injectCheckbox:0,checkOnly:false,showHeaderCheckbox:undefined,headerText:undefined,headerAriaLabel:"Row selector",headerSelectText:"Press Space to select all rows",headerDeselectText:"Press Space to deselect all rows",rowSelectText:"Press Space to select this row",rowDeselectText:"Press Space to deselect this row",allowDeselect:true,headerWidth:24,checkerOnCls:"x-grid-hd-checker-on",tdCls:"x-grid-cell-special x-selmodel-column",constructor:function(){var c=this;Ext.selection.RowModel.prototype.constructor.apply(this,arguments);if(c.mode==="SINGLE"){c.showHeaderCheckbox=false}},beforeViewRender:function(k){var j=this,f,g=k.grid.ownerLockable;Ext.selection.RowModel.prototype.beforeViewRender.apply(this,arguments);if(j.injectCheckbox!==false){if(g&&!j.lockListeners){j.lockListeners=g.mon(g,{lockcolumn:j.onColumnLock,unlockcolumn:j.onColumnUnlock,scope:j,destroyable:true})}if(!g||(k.isLockedView&&j.hasLockedHeader())||(k.isNormalView&&!j.column)){j.addCheckbox(k);f=k.ownerCt;if(k.headerCt.lockedCt){f=f.ownerCt}j.mon(k.ownerGrid,{beforereconfigure:j.onBeforeReconfigure,reconfigure:j.onReconfigure,scope:j})}}},onColumnUnlock:function(l,g){var m=this,k=m.injectCheckbox,j=l.lockedGrid.visibleColumnManager.getColumns();if(j.length===1&&j[0]===m.column){if(k==="first"){k=0}else{if(k==="last"){k=l.normalGrid.visibleColumnManager.getColumns().length}}l.unlock(m.column,k)}},onColumnLock:function(l,g){var m=this,k=m.injectCheckbox,j=l.lockedGrid.visibleColumnManager.getColumns();if(j.length===1){if(k==="first"){k=0}else{if(k==="last"){k=l.lockedGrid.visibleColumnManager.getColumns().length}}l.lock(m.column,k)}},bindComponent:function(c){this.sortable=false;Ext.selection.RowModel.prototype.bindComponent.apply(this,arguments)},hasLockedHeader:function(){var f=this.view.ownerGrid.getVisibleColumnManager().getColumns(),e=f.length,g;for(g=0;g<e;g++){if(f[g].locked){return true}}return false},addCheckbox:function(k){var j=this,f=j.injectCheckbox,g=k.headerCt;if(f!==false){if(f==="first"){f=0}else{if(f==="last"){f=g.getColumnCount()}}Ext.suspendLayouts();if(k.getStore().isBufferedStore){j.showHeaderCheckbox=false}j.column=g.add(f,j.column||j.getHeaderConfig());Ext.resumeLayouts()}},onBeforeReconfigure:function(o,k,p,l,q){var n=this.column,m=n.ownerCt;if(p&&m){m.remove(n,false)}},onReconfigure:function(j,f,k){var g=this;if(k){if(j.lockable){if(j.lockedGrid.isVisible()){j.lock(g.column,0)}else{j.unlock(g.column,0)}}else{g.addCheckbox(g.view)}j.view.refreshView()}},onHeaderClick:function(B,v,s){var r=this,e=r.store,x=r.column,y,A,w,u,C,q;if(r.showHeaderCheckbox!==false&&v===r.column&&r.mode!=="SINGLE"){s.stopEvent();y=v.el.hasCls("x-grid-hd-checker-on");if(y){A=[];C=this.getSelection();for(w=0,u=C.length;w<u;++w){q=C[w];if(e.indexOf(q)>-1){A.push(q)}}if(A.length>0){r.deselect(A)}}else{r.selectAll()}}},getHeaderConfig:function(){var k=this,g=k.showHeaderCheckbox!==false,j=Ext.String.htmlEncode,f;f={xtype:"checkcolumn",headerCheckbox:g,isCheckerHd:g,ignoreExport:true,text:k.headerText,width:k.headerWidth,sortable:false,draggable:false,resizable:false,hideable:false,menuDisabled:true,checkOnly:k.checkOnly,checkboxAriaRole:"presentation",tdCls:k.tdCls,cls:"x-selmodel-column",editRenderer:k.editRenderer||k.renderEmpty,locked:k.hasLockedHeader(),processEvent:k.processColumnEvent,toggleAll:Ext.emptyFn,setRecordCheck:Ext.emptyFn,isRecordChecked:k.isRowSelected.bind(k)};if(!k.checkOnly){f.tabIndex=undefined;f.ariaRole="presentation";f.focusable=false;f.cellFocusable=false}else{f.useAriaElements=true;f.ariaLabel=j(k.headerAriaLabel);f.headerSelectText=j(k.headerSelectText);f.headerDeselectText=j(k.headerDeselectText);f.rowSelectText=j(k.rowSelectText);f.rowDeselectText=j(k.rowDeselectText)}return f},processColumnEvent:function(q,o,n,u,p,r,s,e){var v=o.getNavigationModel();if((r.type==="keydown"&&o.actionableMode&&r.getKey()===r.SPACE)||(!this.checkOnly&&r.type===this.triggerEvent)){v.fireEvent("navigate",{view:o,navigationModel:v,keyEvent:r,position:r.position,recordIndex:u,record:s,item:r.item,cell:r.position.cellElement,columnIndex:r.position.colIdx,column:r.position.column})}},toggleRecord:function(k,j,g,f){this[g?"select":"deselect"]([k],this.mode!=="SINGLE")},renderEmpty:function(){return"&#160;"},refresh:function(){Ext.selection.RowModel.prototype.refresh.apply(this,arguments);this.updateHeaderState()},selectByPosition:function(d,e){if(!d.isCellContext){d=new Ext.grid.CellContext(this.view).setPosition(d.row,d.column)}if(!this.checkOnly||d.column===this.column){Ext.selection.RowModel.prototype.selectByPosition.call(this,d,e)}},onSelectChange:function(f,j){var g=this,k;Ext.selection.RowModel.prototype.onSelectChange.apply(this,arguments);if(g.column){g.column.updateCellAriaDescription(f,j)}if(!g.suspendChange){g.updateHeaderState()}},onStoreLoad:function(){Ext.selection.RowModel.prototype.onStoreLoad.apply(this,arguments);this.updateHeaderState()},onStoreAdd:function(){Ext.selection.RowModel.prototype.onStoreAdd.apply(this,arguments);this.updateHeaderState()},onStoreRemove:function(){Ext.selection.RowModel.prototype.onStoreRemove.apply(this,arguments);this.updateHeaderState()},onStoreRefresh:function(){Ext.selection.RowModel.prototype.onStoreRefresh.apply(this,arguments);this.updateHeaderState()},maybeFireSelectionChange:function(c){if(c&&!this.suspendChange){this.updateHeaderState()}Ext.selection.RowModel.prototype.maybeFireSelectionChange.apply(this,arguments)},resumeChanges:function(){Ext.selection.RowModel.prototype.resumeChanges.call(this);if(!this.suspendChange){this.updateHeaderState()}},updateHeaderState:function(){var p=this,o=p.store,q=o.getCount(),n=p.views,m=false,v=0,u,r,s;if(!o.isBufferedStore&&q>0){u=p.selected;m=true;for(s=0,r=u.getCount();s<r;++s){if(o.indexOfId(u.getAt(s).id)>-1){++v}}m=q===v}if(n&&n.length){p.column.setHeaderStatus(m)}},vetoSelection:function(l){var n=this,o=n.column,e,m,k;if(n.checkOnly){m=l.type===o.triggerEvent&&l.getTarget(n.column.getCellSelector());k=l.getKey()===l.SPACE&&l.position.column===o;e=!(m||k)}return e||Ext.selection.RowModel.prototype.vetoSelection.call(this,l)},privates:{onBeforeNavigate:function(d){var e=d.keyEvent;if(this.selectionMode!=="SINGLE"){d.ctrlKey=d.ctrlKey||e.ctrlKey||(e.type===this.column.triggerEvent&&!e.shiftKey)||e.getKey()===e.SPACE}},selectWithEventMulti:function(e,g,k){var j=this;if(!g.shiftKey&&!g.ctrlKey&&g.getTarget(j.column.getCellSelector())){if(k){j.doDeselect(e)}else{j.doSelect(e,true)}}else{Ext.selection.RowModel.prototype.selectWithEventMulti.call(this,e,g,k)}}}},1,0,0,0,["selection.checkboxmodel"],0,[Ext.selection,"CheckboxModel"],function(c){c.prototype.checkSelector="."+Ext.grid.column.Check.prototype.checkboxCls}));Ext.define("Ext.theme.triton.selection.CheckboxModel",{override:"Ext.selection.CheckboxModel",headerWidth:32,onHeaderClick:function(g,f,e){(arguments.callee.$previous||Ext.selection.RowModel.prototype.onHeaderClick).call(this,g,f,e);if(Ext.isIE8){f.getView().ownerGrid.el.syncRepaint()}}});(Ext.cmd.derive("Ext.toolbar.Fill",Ext.Component,{alternateClassName:"Ext.Toolbar.Fill",ariaRole:"presentation",isFill:true,flex:1},0,["tbfill"],["component","box","tbfill"],{component:true,box:true,tbfill:true},["widget.tbfill"],0,[Ext.toolbar,"Fill",Ext.Toolbar,"Fill"],0));(Ext.cmd.derive("Ext.toolbar.Spacer",Ext.Component,{alternateClassName:"Ext.Toolbar.Spacer",baseCls:"x-toolbar-spacer",ariaRole:"presentation"},0,["tbspacer"],["component","box","tbspacer"],{component:true,box:true,tbspacer:true},["widget.tbspacer"],0,[Ext.toolbar,"Spacer",Ext.Toolbar,"Spacer"],0));Ext.namespace("Ext.theme.is")["Cryptic"]=true;Ext.theme.name="Cryptic";(Ext.cmd.derive("Smart.ux.app.Application",Ext.app.Application,{init:function(){Ext.USE_NATIVE_JSON=true;Ext.manifest.appType="pro";Ext.enableAriaButtons=false},launch:function(){}},0,0,0,0,0,0,[Smart.ux.app,"Application"],0));(Ext.cmd.derive("Smart.app.ControllerBase",Ext.app.Controller,{},0,0,0,0,0,0,[Smart.app,"ControllerBase"],0));(Ext.cmd.derive("Smart.ux.modern.login.LoginComeIn",Ext.form.Panel,{fullscreen:true,items:[{xtype:"fieldset",items:[{xtype:"textfield",name:"username",label:"Nome",labelAlign:"placeholder",required:true,clearIcon:false},{xtype:"passwordfield",name:"password",label:"Senha",labelAlign:"placeholder",required:true,clearIcon:false}]},{xtype:"container",defaults:{xtype:"button",style:"margin: 0.5em",flex:1},layout:{type:"hbox"},items:[{text:"Sign In",ui:"action",height:40}]}]},0,["logincomein"],["component","box","container","panel","form","logincomein"],{component:true,box:true,container:true,panel:true,form:true,logincomein:true},["widget.logincomein"],0,[Smart.ux.modern.login,"LoginComeIn"],0));(Ext.cmd.derive("Smart.ux.classic.login.LoginComeIn",Ext.form.Panel,{layout:"anchor",defaults:{anchor:"100%"},listeners:{afterrender:function(){this.down("textfield[name=username]").focus(false,200)}},initComponent:function(){var c=this;c.buildItems();Ext.form.Panel.prototype.initComponent.call(this)},buildItems:function(){var c=this;c.items=[{xtype:"label",text:"Login ...",style:{fontSize:"46px;",display:"table-cell;",textAlign:"center;",lineHeight:"50px;"}},{height:20,xtype:"container"},{xtype:"fieldcontainer",layout:"anchor",defaultType:"textfield",defaults:{anchor:"100%",allowBlank:false},items:[{name:"username",fieldLabel:"Nome"},{name:"password",vtype:"alphanum",inputType:"password",fieldLabel:"Senha",listeners:{specialkey:function(b,e,j){if(e.getKey()===e.ENTER){var k=b.up("form").down("button");k.fireEvent("click",k)}}}},{xtype:"button",text:"Sign In",scale:"small",formBind:true,name:"comeinsend"},{margin:"20 0 0 0",xtype:"container",style:{fontSize:"14px;",lineHeight:"20px;"},items:[{xtype:"label",router:"login/forgot",text:"Esqueci minha senha!",style:{cursor:"pointer;",textDecoration:"underline;"}}]},{margin:"3 0 0 0",xtype:"container",style:{fontSize:"14px;",lineHeight:"20px;"},items:[{xtype:"label",router:"login/invite",text:"Cdigo de ativao...",style:{cursor:"pointer;",textDecoration:"underline;"}}]}]}]}},0,["logincomein"],["component","box","container","panel","form","logincomein"],{component:true,box:true,container:true,panel:true,form:true,logincomein:true},["widget.logincomein"],0,[Smart.ux.classic.login,"LoginComeIn"],0));(Ext.cmd.derive("Smart.ux.classic.login.LoginForgot",Ext.form.Panel,{layout:"anchor",defaults:{anchor:"100%"},initComponent:function(){var c=this;c.buildItems();Ext.form.Panel.prototype.initComponent.call(this)},buildItems:function(){var c=this;c.items=[{xtype:"label",text:"Esqueci ...",style:{fontSize:"46px;",display:"table-cell;",textAlign:"center;",lineHeight:"50px;"}},{height:20,xtype:"container"},{xtype:"fieldcontainer",layout:"anchor",defaultType:"textfield",defaults:{anchor:"100%",allowBlank:false},items:[{name:"username",fieldLabel:"Nome"},{fieldLabel:"Nascimento",name:"birthdate",xtype:"datefield",allowBlank:false,hideTrigger:true,listeners:{specialkey:function(b,e,j){if(e.getKey()===e.ENTER){var k=b.up("form").down("button");k.fireEvent("click",k)}}}},{xtype:"button",text:"Enviar",scale:"small",formBind:true},{margin:"20 0 0 0",xtype:"container",style:{fontSize:"14px;",lineHeight:"20px;"},items:[{xtype:"label",router:"login/comein",text:"Login de acesso!",style:{cursor:"pointer;",textDecoration:"underline;"}}]},{margin:"3 0 0 0",xtype:"container",style:{fontSize:"14px;",lineHeight:"20px;"},items:[{xtype:"label",router:"login/invite",text:"Cdigo de ativao...",style:{cursor:"pointer;",textDecoration:"underline;"}}]}]}]},dockedItems_:[{xtype:"panel",dock:"bottom",layout:"anchor",bodyStyle:"padding-top: 20px;",style:{borderTop:"dotted 1px #cecece"},defaultType:"button",defaults:{anchor:"100%",scale:"large"},items:[{xtype:"container"},{text:"Enviar",formBind:true,showSmartTheme:"red",listeners:{click:"onForgotSend"}},{xtype:"splitter"},{xtype:"label",text:"Login de acesso!",listeners:{click:"onComeInGoView"},style:{cursor:"pointer;",textDecoration:"underline;"}},{xtype:"splitter"},{xtype:"label",text:"Cdigo de ativao...",listeners:{click:"onInviteGoView"},style:{cursor:"pointer;",textDecoration:"underline;"}}]}]},0,["loginforgot"],["component","box","container","panel","form","loginforgot"],{component:true,box:true,container:true,panel:true,form:true,loginforgot:true},["widget.loginforgot"],0,[Smart.ux.classic.login,"LoginForgot"],0));(Ext.cmd.derive("Smart.ux.classic.login.Login",Ext.panel.Panel,{plain:true,layout:"center",headerPosition:"bottom",header:{title:Ext.manifest.name,items:[{xtype:"label",text:Ext.manifest.version,style:{color:"white;"}}]},items:[{xtype:"container",layout:"center",items:[{xtype:"container",width:"20%",minWidth:300,maxWidth:350,layout:"card",name:"userlogin",items:[{xtype:"logincomein"},{xtype:"loginforgot"}]}]}]},0,0,["component","box","container","panel"],{component:true,box:true,container:true,panel:true},0,0,[Smart.ux.classic.login,"Login"],0));(Ext.cmd.derive("Cryptic.view.login.Login",Smart.ux.classic.login.Login,{plugins:"viewport"},0,["app-login"],["component","box","container","panel","app-login"],{component:true,box:true,container:true,panel:true,"app-login":true},["widget.app-login"],0,[Cryptic.view.login,"Login"],0));(Ext.cmd.derive("Smart.ux.classic.main.Main",Ext.panel.Panel,{plain:true,layout:"fit",headerPosition:"bottom",header:{title:Ext.manifest.name,items:[{xtype:"label",text:Ext.manifest.version,style:{color:"white;"}}]},items_:[{xtype:"container",layout:"center",items:[{xtype:"container",width:"30%",minWidth:500,maxWidth:550,layout:"card",items:[{title:Ext.manifest.made,xtype:"panel"},{}]}]}]},0,0,["component","box","container","panel"],{component:true,box:true,container:true,panel:true},0,0,[Smart.ux.classic.main,"Main"],0));(Ext.cmd.derive("Cryptic.view.main.Main",Ext.panel.Panel,{plugins:"viewport",layout:"border",headerPosition:"bottom",header:{title:Ext.manifest.name,items:[{xtype:"label",text:Ext.manifest.version,style:{color:"white;"}}]},items_:[{region:"west",width:250,split:true,layout:{type:"vbox",align:"stretch"},border:false,scrollable:"y",items:[{xtype:"treelist",bind:"{navItems}"}]},{region:"center",bodyPadding:10,bind:{html:"{selectionText}"}}],items:[{width:400,region:"west",xtype:"treelist",title:"OlaMundo",store:{root:{expanded:true,children:[{text:"detention",leaf:true,iconCls:"x-fa fa-frown-o"},{text:"homework",expanded:true,iconCls:"x-fa fa-folder",children:[{text:"book report",leaf:true,iconCls:"x-fa fa-book"},{text:"algebra",leaf:true,iconCls:"x-fa fa-graduation-cap"}]},{text:"buy lottery tickets",leaf:true,iconCls:"x-fa fa-usd"}]}}},{region:"center",bodyPadding:10}]},0,["app-main"],["component","box","container","panel","app-main"],{component:true,box:true,container:true,panel:true,"app-main":true},["widget.app-main"],0,[Cryptic.view.main,"Main"],0));(Ext.cmd.derive("Cryptic.controller.App",Smart.app.ControllerBase,{views:["Cryptic.view.main.Main","Cryptic.view.login.Login"],routes:{app:{action:"onSelectGoMain"},"login/comein":{action:"onComeInGoView"},"login/forgot":{action:"onForgotGoView"}},refs:[{ref:"main",selector:"app-main"},{ref:"login",selector:"app-login"}],init:function(){var c=this;c.control({"app-login label":{click:c.onChangeRouter},"app-login button[name=comeinsend]":{click:c.onComeInSend}})},onSelectGoMain:function(){var c=this;if(c.getMain()){c.getMain().destroy()}if(c.getLogin()){c.getLogin().destroy()}Ext.create({xtype:"app-main"})},onComeInGoView:function(){var c=this;if(c.getMain()){c.getMain().destroy()}if(c.getLogin()){c.getLogin().destroy()}Ext.create({xtype:"app-login"})},onForgotGoView:function(){var e=this,d=e.getLogin().down("container[name=userlogin]").getLayout();d.setActiveItem(1)},onChangeRouter:function(e){var d=this;d.redirectTo(e.router)},onComeInSend:function(){var m=this,k=m.getLogin(),n=k.down("logincomein"),q=Ext.getStore("Users")||Ext.create("Cryptic.store.profile.Users"),p=q.getModel(),l=n.getValues(),o=(new p()).getRouteList();if(!n.isValid()){return false}k.setLoading("Autenticando usurio...");q.getProxy().setRoute(o.route.logincomein+"?username="+l.username+"&password="+l.password);q.load({scope:m,callback:function(c,d,b){Ext.manifest.auth="";k.setLoading(false);if(b==true){k.destroy();m.redirectTo("app");Ext.manifest.auth=Ext.decode(d.getResponse().responseText).message}}})},onForgotSend:function(){var f=this,e=f.getView(),g=e.down("loginforgot");if(!g.isValid()){return false}}},0,0,0,0,0,0,[Cryptic.controller,"App"],0));(Ext.cmd.derive("Cryptic.Application",Smart.ux.app.Application,{name:"Cryptic",launch:function(){var c=this;Smart.ux.app.Application.prototype.launch.apply(this,arguments);c.getController("App").redirectTo("login/comein")}},0,0,0,0,0,0,[Cryptic,"Application"],0));(Ext.cmd.derive("Smart.data.proxy.RestBase",Ext.data.proxy.Rest,{reader:{type:"json",idProperty:"id",rootProperty:"rows",messageProperty:"text",totalProperty:"records",successProperty:"success"},writer:{type:"json",encode:true,idProperty:"id",dateFormat:"Y-m-d",rootProperty:"model",writeAllFields:false},setRoute:function(d){var e=this;e.setUrl(Ext.String.format("{0}/{1}",Ext.manifest.routeBase,d))}},0,0,0,0,["proxy.restbase"],0,[Smart.data.proxy,"RestBase"],0));(Ext.cmd.derive("Smart.data.ModelBase",Ext.data.Model,{route:{},routePrefix:"",proxy:{type:"restbase"},startWithRoutePrefix:false,constructor:function(){var c=this;Ext.data.Model.prototype.constructor.apply(this,arguments);if(c.startWithRoutePrefix==true){c.setProxyByRoutePrefix()}},getRoute:function(){var c=this;return c.route},getRoutePrefix:function(){var c=this;return c.routePrefix},getRouteList:function(){var c=this;return{route:c.route,routePrefix:c.routePrefix}},setProxyByRoutePrefix:function(){var c=this;c.getProxy().setRoute(c.routePrefix)}},1,0,0,0,0,0,[Smart.data,"ModelBase"],0));(Ext.cmd.derive("Cryptic.model.profile.Users",Smart.data.ModelBase,{route:{id:"users/{id}",list:"users/list",logincomein:"users/logincomein"},routePrefix:"users",startWithRoutePrefix:true,fields:[{name:"id",type:"int"},{name:"username",type:"auto"},{name:"password",type:"auto"},{name:"fullname",type:"auto"},{name:"mainmail",type:"auto"},{name:"isactive",type:"boolean"}]},0,0,0,0,0,0,[Cryptic.model.profile,"Users"],0));(Ext.cmd.derive("Cryptic.store.profile.Users",Ext.data.Store,{pageSize:10,storeId:"users",model:Ext.create("Cryptic.model.profile.Users")},0,0,0,0,["store.users"],0,[Cryptic.store.profile,"Users"],0));Ext.Loader.setConfig({enabled:true,paths:{"Smart.app":"library/app","Smart.data":"library/data","Smart.data.proxy":"library/data/proxy","Smart.data.field":"library/data/field","Smart.ux.app":"library/ux/app","Smart.ux.classic.main":"library/ux/classic/main","Smart.ux.classic.login":"library/ux/classic/login","Smart.ux.modern.login":"library/ux/modern/login"}});Ext.application({name:"Cryptic",extend:Cryptic.Application});if(typeof YAHOO=="undefined"||!YAHOO){var YAHOO={}}YAHOO.namespace=function(){var g=arguments,f=null,c,b,e;for(c=0;c<g.length;c=c+1){e=(""+g[c]).split(".");f=YAHOO;for(b=(e[0]=="YAHOO")?1:0;b<e.length;b=b+1){f[e[b]]=f[e[b]]||{};f=f[e[b]]}}return f};YAHOO.log=function(c,d,b){var k=YAHOO.widget.Logger;if(k&&k.log){return k.log(c,d,b)}else{return false}};YAHOO.register=function(v,f,e){var u=YAHOO.env.modules,c,k,j,g,d;if(!u[v]){u[v]={versions:[],builds:[]}}c=u[v];k=e.version;j=e.build;g=YAHOO.env.listeners;c.name=v;c.version=k;c.build=j;c.versions.push(k);c.builds.push(j);c.mainClass=f;for(d=0;d<g.length;d=d+1){g[d](c)}if(f){f.VERSION=k;f.BUILD=j}else{YAHOO.log("mainClass is undefined for module "+v,"warn")}};YAHOO.env=YAHOO.env||{modules:[],listeners:[]};YAHOO.env.getVersion=function(c){return YAHOO.env.modules[c]||null};YAHOO.env.parseUA=function(g){var r=function(k){var j=0;return parseFloat(k.replace(/\./g,function(){return(j++==1)?"":"."}))},c=navigator,b={ie:0,opera:0,gecko:0,webkit:0,chrome:0,mobile:null,air:0,ipad:0,iphone:0,ipod:0,ios:null,android:0,webos:0,caja:c&&c.cajaVersion,secure:false,os:null},f=g||(navigator&&navigator.userAgent),s=window&&window.location,e=s&&s.href,d;b.secure=e&&(e.toLowerCase().indexOf("https")===0);if(f){if((/windows|win32/i).test(f)){b.os="windows"}else{if((/macintosh/i).test(f)){b.os="macintosh"}else{if((/rhino/i).test(f)){b.os="rhino"}}}if((/KHTML/).test(f)){b.webkit=1}d=f.match(/AppleWebKit\/([^\s]*)/);if(d&&d[1]){b.webkit=r(d[1]);if(/ Mobile\//.test(f)){b.mobile="Apple";d=f.match(/OS ([^\s]*)/);if(d&&d[1]){d=r(d[1].replace("_","."))}b.ios=d;b.ipad=b.ipod=b.iphone=0;d=f.match(/iPad|iPod|iPhone/);if(d&&d[0]){b[d[0].toLowerCase()]=b.ios}}else{d=f.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/);if(d){b.mobile=d[0]}if(/webOS/.test(f)){b.mobile="WebOS";d=f.match(/webOS\/([^\s]*);/);if(d&&d[1]){b.webos=r(d[1])}}if(/ Android/.test(f)){b.mobile="Android";d=f.match(/Android ([^\s]*);/);if(d&&d[1]){b.android=r(d[1])}}}d=f.match(/Chrome\/([^\s]*)/);if(d&&d[1]){b.chrome=r(d[1])}else{d=f.match(/AdobeAIR\/([^\s]*)/);if(d){b.air=d[0]}}}if(!b.webkit){d=f.match(/Opera[\s\/]([^\s]*)/);if(d&&d[1]){b.opera=r(d[1]);d=f.match(/Version\/([^\s]*)/);if(d&&d[1]){b.opera=r(d[1])}d=f.match(/Opera Mini[^;]*/);if(d){b.mobile=d[0]}}else{d=f.match(/MSIE\s([^;]*)/);if(d&&d[1]){b.ie=r(d[1])}else{d=f.match(/Gecko\/([^\s]*)/);if(d){b.gecko=1;d=f.match(/rv:([^\s\)]*)/);if(d&&d[1]){b.gecko=r(d[1])}}}}}}return b};YAHOO.env.ua=YAHOO.env.parseUA();(function(){YAHOO.namespace("util","widget","example");if("undefined"!==typeof YAHOO_config){var k=YAHOO_config.listener,d=YAHOO.env.listeners,c=true,b;if(k){for(b=0;b<d.length;b++){if(d[b]==k){c=false;break}}if(c){d.push(k)}}}})();YAHOO.lang=YAHOO.lang||{};(function(){var g=YAHOO.lang,b=Object.prototype,d="[object Array]",u="[object Function]",v="[object Object]",c=[],s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","`":"&#x60;"},e=["toString","valueOf"],f={isArray:function(j){return b.toString.apply(j)===d},isBoolean:function(j){return typeof j==="boolean"},isFunction:function(j){return(typeof j==="function")||b.toString.apply(j)===u},isNull:function(j){return j===null},isNumber:function(j){return typeof j==="number"&&isFinite(j)},isObject:function(j){return(j&&(typeof j==="object"||g.isFunction(j)))||false},isString:function(j){return typeof j==="string"},isUndefined:function(j){return typeof j==="undefined"},_IEEnumFix:(YAHOO.env.ua.ie)?function(n,m){var l,k,j;for(l=0;l<e.length;l=l+1){k=e[l];j=m[k];if(g.isFunction(j)&&j!=b[k]){n[k]=j}}}:function(){},escapeHTML:function(j){return j.replace(/[&<>"'\/`]/g,function(k){return s[k]})},extend:function(j,k,n){if(!k||!j){throw new Error("extend failed, please check that all dependencies are included.")}var m=function(){},l;m.prototype=k.prototype;j.prototype=new m();j.prototype.constructor=j;j.superclass=k.prototype;if(k.prototype.constructor==b.constructor){k.prototype.constructor=k}if(n){for(l in n){if(g.hasOwnProperty(n,l)){j.prototype[l]=n[l]}}g._IEEnumFix(j.prototype,n)}},augmentObject:function(k,j){if(!j||!k){throw new Error("Absorb failed, verify dependencies.")}var m=arguments,o,l,n=m[2];if(n&&n!==true){for(o=2;o<m.length;o=o+1){k[m[o]]=j[m[o]]}}else{for(l in j){if(n||!(l in k)){k[l]=j[l]}}g._IEEnumFix(k,j)}return k},augmentProto:function(j,m){if(!m||!j){throw new Error("Augment failed, verify dependencies.")}var k=[j.prototype,m.prototype],l;for(l=2;l<arguments.length;l=l+1){k.push(arguments[l])}g.augmentObject.apply(this,k);return j},dump:function(q,m){var j,l,o=[],p="{...}",r="f(){...}",n=", ",k=" => ";if(!g.isObject(q)){return q+""}else{if(q instanceof Date||("nodeType" in q&&"tagName" in q)){return q}else{if(g.isFunction(q)){return r}}}m=(g.isNumber(m))?m:3;if(g.isArray(q)){o.push("[");for(j=0,l=q.length;j<l;j=j+1){if(g.isObject(q[j])){o.push((m>0)?g.dump(q[j],m-1):p)}else{o.push(q[j])}o.push(n)}if(o.length>1){o.pop()}o.push("]")}else{o.push("{");for(j in q){if(g.hasOwnProperty(q,j)){o.push(j+k);if(g.isObject(q[j])){o.push((m>0)?g.dump(q[j],m-1):p)}else{o.push(q[j])}o.push(n)}}if(o.length>1){o.pop()}o.push("}")}return o.join("")},substitute:function(E,F,y,j){var w,r,p,C,x,A,B=[],m,G=E.length,n="dump",q=" ",o="{",k="}",l,D;for(;;){w=E.lastIndexOf(o,G);if(w<0){break}r=E.indexOf(k,w);if(w+1>r){break}m=E.substring(w+1,r);C=m;A=null;p=C.indexOf(q);if(p>-1){A=C.substring(p+1);C=C.substring(0,p)}x=F[C];if(y){x=y(C,x,A)}if(g.isObject(x)){if(g.isArray(x)){x=g.dump(x,parseInt(A,10))}else{A=A||"";l=A.indexOf(n);if(l>-1){A=A.substring(4)}D=x.toString();if(D===v||l>-1){x=g.dump(x,parseInt(A,10))}else{x=D}}}else{if(!g.isString(x)&&!g.isNumber(x)){x="~-"+B.length+"-~";B[B.length]=m}}E=E.substring(0,w)+x+E.substring(r+1);if(j===false){G=w-1}}for(w=B.length-1;w>=0;w=w-1){E=E.replace(new RegExp("~-"+w+"-~"),"{"+B[w]+"}","g")}return E},trim:function(k){try{return k.replace(/^\s+|\s+$/g,"")}catch(j){return k}},merge:function(){var k={},m=arguments,l=m.length,j;for(j=0;j<l;j=j+1){g.augmentObject(k,m[j],true)}return k},later:function(q,k,r,m,n){q=q||0;k=k||{};var l=r,p=m,o,j;if(g.isString(r)){l=k[r]}if(!l){throw new TypeError("method undefined")}if(!g.isUndefined(m)&&!g.isArray(p)){p=[m]}o=function(){l.apply(k,p||c)};j=(n)?setInterval(o,q):setTimeout(o,q);return{interval:n,cancel:function(){if(this.interval){clearInterval(j)}else{clearTimeout(j)}}}},isValue:function(j){return(g.isObject(j)||g.isString(j)||g.isNumber(j)||g.isBoolean(j))}};g.hasOwnProperty=(b.hasOwnProperty)?function(k,j){return k&&k.hasOwnProperty&&k.hasOwnProperty(j)}:function(k,j){return !g.isUndefined(k[j])&&k.constructor.prototype[j]!==k[j]};f.augmentObject(g,f,true);YAHOO.util.Lang=g;g.augment=g.augmentProto;YAHOO.augment=g.augmentProto;YAHOO.extend=g.extend})();YAHOO.register("yahoo",YAHOO,{version:"2.9.0",build:"2800"});var CryptoJS=CryptoJS||(function(m,D){var e={};var g=e.lib={};var c=g.Base=(function(){function n(){}return{extend:function(p){n.prototype=this;var o=new n();if(p){o.mixIn(p)}if(!o.hasOwnProperty("init")){o.init=function(){o.$super.init.apply(this,arguments)}}o.init.prototype=o;o.$super=this;return o},create:function(){var o=this.extend();o.init.apply(o,arguments);return o},init:function(){},mixIn:function(p){for(var o in p){if(p.hasOwnProperty(o)){this[o]=p[o]}}if(p.hasOwnProperty("toString")){this.toString=p.toString}},clone:function(){return this.init.prototype.extend(this)}}}());var f=g.WordArray=c.extend({init:function(n,o){n=this.words=n||[];if(o!=D){this.sigBytes=o}else{this.sigBytes=n.length*4}},toString:function(n){return(n||E).stringify(this)},concat:function(n){var r=this.words;var q=n.words;var o=this.sigBytes;var u=n.sigBytes;this.clamp();if(o%4){for(var s=0;s<u;s++){var p=(q[s>>>2]>>>(24-(s%4)*8))&255;r[(o+s)>>>2]|=p<<(24-((o+s)%4)*8)}}else{for(var s=0;s<u;s+=4){r[(o+s)>>>2]=q[s>>>2]}}this.sigBytes+=u;return this},clamp:function(){var n=this.words;var o=this.sigBytes;n[o>>>2]&=4294967295<<(32-(o%4)*8);n.length=m.ceil(o/4)},clone:function(){var n=c.clone.call(this);n.words=this.words.slice(0);return n},random:function(n){var p=[];for(var o=0;o<n;o+=4){p.push((m.random()*4294967296)|0)}return new f.init(p,n)}});var j=e.enc={};var E=j.Hex={stringify:function(q){var s=q.words;var p=q.sigBytes;var r=[];for(var o=0;o<p;o++){var n=(s[o>>>2]>>>(24-(o%4)*8))&255;r.push((n>>>4).toString(16));r.push((n&15).toString(16))}return r.join("")},parse:function(q){var o=q.length;var n=[];for(var p=0;p<o;p+=2){n[p>>>3]|=parseInt(q.substr(p,2),16)<<(24-(p%8)*4)}return new f.init(n,o/2)}};var l=j.Latin1={stringify:function(r){var s=r.words;var q=r.sigBytes;var o=[];for(var p=0;p<q;p++){var n=(s[p>>>2]>>>(24-(p%4)*8))&255;o.push(String.fromCharCode(n))}return o.join("")},parse:function(q){var o=q.length;var n=[];for(var p=0;p<o;p++){n[p>>>2]|=(q.charCodeAt(p)&255)<<(24-(p%4)*8)}return new f.init(n,o)}};var k=j.Utf8={stringify:function(o){try{return decodeURIComponent(escape(l.stringify(o)))}catch(n){throw new Error("Malformed UTF-8 data")}},parse:function(n){return l.parse(unescape(encodeURIComponent(n)))}};var b=g.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new f.init();this._nDataBytes=0},_append:function(n){if(typeof n=="string"){n=k.parse(n)}this._data.concat(n);this._nDataBytes+=n.sigBytes},_process:function(r){var x=this._data;var s=x.words;var u=x.sigBytes;var o=this.blockSize;var q=o*4;var p=u/q;if(r){p=m.ceil(p)}else{p=m.max((p|0)-this._minBufferSize,0)}var n=p*o;var y=m.min(n*4,u);if(n){for(var w=0;w<n;w+=o){this._doProcessBlock(s,w)}var v=s.splice(0,n);x.sigBytes-=y}return new f.init(v,y)},clone:function(){var n=c.clone.call(this);n._data=this._data.clone();return n},_minBufferSize:0});var C=g.Hasher=b.extend({cfg:c.extend(),init:function(n){this.cfg=this.cfg.extend(n);this.reset()},reset:function(){b.reset.call(this);this._doReset()},update:function(n){this._append(n);this._process();return this},finalize:function(o){if(o){this._append(o)}var n=this._doFinalize();return n},blockSize:512/32,_createHelper:function(n){return function(p,o){return new n.init(o).finalize(p)}},_createHmacHelper:function(n){return function(p,o){return new d.HMAC.init(n,o).finalize(p)}}});var d=e.algo={};return e}(Math));(function(l){var e=CryptoJS,g=e.lib,f=g.Base,m=g.WordArray,e=e.x64={};e.Word=f.extend({init:function(c,b){this.high=c;this.low=b}});e.WordArray=f.extend({init:function(c,b){c=this.words=c||[];this.sigBytes=b!=l?b:8*c.length},toX32:function(){for(var j=this.words,k=j.length,d=[],b=0;b<k;b++){var c=j[b];d.push(c.high);d.push(c.low)}return m.create(d,this.sigBytes)},clone:function(){for(var j=f.clone.call(this),b=j.words=this.words.slice(0),d=b.length,c=0;c<d;c++){b[c]=b[c].clone()}return j}})})();CryptoJS.lib.Cipher||function(I){var j=CryptoJS,g=j.lib,s=g.Base,u=g.WordArray,p=g.BufferedBlockAlgorithm,r=j.enc.Base64,f=j.algo.EvpKDF,m=g.Cipher=p.extend({cfg:s.extend(),createEncryptor:function(b,c){return this.create(this._ENC_XFORM_MODE,b,c)},createDecryptor:function(b,c){return this.create(this._DEC_XFORM_MODE,b,c)},init:function(c,d,b){this.cfg=this.cfg.extend(b);this._xformMode=c;this._key=d;this.reset()},reset:function(){p.reset.call(this);this._doReset()},process:function(b){this._append(b);return this._process()},finalize:function(b){b&&this._append(b);return this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(b){return{encrypt:function(e,c,d){return("string"==typeof c?v:q).encrypt(b,e,c,d)},decrypt:function(e,c,d){return("string"==typeof c?v:q).decrypt(b,e,c,d)}}}});g.StreamCipher=m.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var l=j.mode={},H=function(e,o,b){var c=this._iv;c?this._iv=I:c=this._prevBlock;for(var d=0;d<b;d++){e[o+d]^=c[d]}},k=(g.BlockCipherMode=s.extend({createEncryptor:function(b,c){return this.Encryptor.create(b,c)},createDecryptor:function(b,c){return this.Decryptor.create(b,c)},init:function(b,c){this._cipher=b;this._iv=c}})).extend();k.Encryptor=k.extend({processBlock:function(d,e){var b=this._cipher,c=b.blockSize;H.call(this,d,e,c);b.encryptBlock(d,e);this._prevBlock=d.slice(e,e+c)}});k.Decryptor=k.extend({processBlock:function(e,o){var b=this._cipher,c=b.blockSize,d=e.slice(o,o+c);b.decryptBlock(e,o);H.call(this,e,o,c);this._prevBlock=d}});l=l.CBC=k;k=(j.pad={}).Pkcs7={pad:function(e,o){for(var w=4*o,w=w-e.sigBytes%w,b=w<<24|w<<16|w<<8|w,c=[],d=0;d<w;d+=4){c.push(b)}w=u.create(c,w);e.concat(w)},unpad:function(b){b.sigBytes-=b.words[b.sigBytes-1>>>2]&255}};g.BlockCipher=m.extend({cfg:m.cfg.extend({mode:l,padding:k}),reset:function(){m.reset.call(this);var c=this.cfg,d=c.iv,c=c.mode;if(this._xformMode==this._ENC_XFORM_MODE){var b=c.createEncryptor}else{b=c.createDecryptor,this._minBufferSize=1}this._mode=b.call(c,this,d&&d.words)},_doProcessBlock:function(b,c){this._mode.processBlock(b,c)},_doFinalize:function(){var b=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){b.pad(this._data,this.blockSize);var c=this._process(!0)}else{c=this._process(!0),b.unpad(c)}return c},blockSize:4});var n=g.CipherParams=s.extend({init:function(b){this.mixIn(b)},toString:function(b){return(b||this.formatter).stringify(this)}}),l=(j.format={}).OpenSSL={stringify:function(b){var c=b.ciphertext;b=b.salt;return(b?u.create([1398893684,1701076831]).concat(b).concat(c):c).toString(r)},parse:function(c){c=r.parse(c);var d=c.words;if(1398893684==d[0]&&1701076831==d[1]){var b=u.create(d.slice(2,4));d.splice(0,4);c.sigBytes-=16}return n.create({ciphertext:c,salt:b})}},q=g.SerializableCipher=s.extend({cfg:s.extend({format:l}),encrypt:function(e,o,b,c){c=this.cfg.extend(c);var d=e.createEncryptor(b,c);o=d.finalize(o);d=d.cfg;return n.create({ciphertext:o,key:b,iv:d.iv,algorithm:e,mode:d.mode,padding:d.padding,blockSize:e.blockSize,formatter:c.format})},decrypt:function(d,e,b,c){c=this.cfg.extend(c);e=this._parse(e,c.format);return d.createDecryptor(b,c).finalize(e.ciphertext)},_parse:function(b,c){return"string"==typeof b?c.parse(b,this):b}}),j=(j.kdf={}).OpenSSL={execute:function(d,e,b,c){c||(c=u.random(8));d=f.create({keySize:e+b}).compute(d,c);b=u.create(d.words.slice(e),4*b);d.sigBytes=4*e;return n.create({key:d,iv:b,salt:c})}},v=g.PasswordBasedCipher=q.extend({cfg:q.cfg.extend({kdf:j}),encrypt:function(d,e,b,c){c=this.cfg.extend(c);b=c.kdf.execute(b,d.keySize,d.ivSize);c.iv=b.iv;d=q.encrypt.call(this,d,e,b.key,c);d.mixIn(b);return d},decrypt:function(d,e,b,c){c=this.cfg.extend(c);e=this._parse(e,c.format);b=c.kdf.execute(b,d.keySize,d.ivSize,e.salt);c.iv=b.iv;return q.decrypt.call(this,d,e,b.key,c)}})}();(function(){for(var r=CryptoJS,F=r.lib.BlockCipher,u=r.algo,j=[],X=[],Y=[],q=[],s=[],v=[],w=[],B=[],D=[],E=[],g=[],k=0;256>k;k++){g[k]=128>k?k<<1:k<<1^283}for(var n=0,l=0,k=0;256>k;k++){var f=l^l<<1^l<<2^l<<3^l<<4,f=f>>>8^f&255^99;j[n]=f;X[f]=n;var y=g[n],x=g[y],A=g[x],b=257*g[f]^16843008*f;Y[n]=b<<24|b>>>8;q[n]=b<<16|b>>>16;s[n]=b<<8|b>>>24;v[n]=b;b=16843009*A^65537*x^257*y^16843008*n;w[f]=b<<24|b>>>8;B[f]=b<<16|b>>>16;D[f]=b<<8|b>>>24;E[f]=b;n?(n=y^g[g[g[A^y]]],l^=g[g[l]]):n=l=1}var C=[0,1,2,4,8,16,32,64,128,27,54],u=u.AES=F.extend({_doReset:function(){for(var p=this._key,d=p.words,m=p.sigBytes/4,p=4*((this._nRounds=m+6)+1),o=this._keySchedule=[],e=0;e<p;e++){if(e<m){o[e]=d[e]}else{var c=o[e-1];e%m?6<m&&4==e%m&&(c=j[c>>>24]<<24|j[c>>>16&255]<<16|j[c>>>8&255]<<8|j[c&255]):(c=c<<8|c>>>24,c=j[c>>>24]<<24|j[c>>>16&255]<<16|j[c>>>8&255]<<8|j[c&255],c^=C[e/m|0]<<24);o[e]=o[e-m]^c}}d=this._invKeySchedule=[];for(m=0;m<p;m++){e=p-m,c=m%4?o[e]:o[e-4],d[m]=4>m||4>=e?c:w[j[c>>>24]]^B[j[c>>>16&255]]^D[j[c>>>8&255]]^E[j[c&255]]}},encryptBlock:function(d,c){this._doCryptBlock(d,c,this._keySchedule,Y,q,s,v,j)},decryptBlock:function(d,e){var c=d[e+1];d[e+1]=d[e+3];d[e+3]=c;this._doCryptBlock(d,e,this._invKeySchedule,w,B,D,E,X);c=d[e+1];d[e+1]=d[e+3];d[e+3]=c},_doCryptBlock:function(Q,c,O,P,H,R,J,M){for(var N=this._nRounds,d=Q[c]^O[0],e=Q[c+1]^O[1],K=Q[c+2]^O[2],m=Q[c+3]^O[3],L=4,I=1;I<N;I++){var o=P[d>>>24]^H[e>>>16&255]^R[K>>>8&255]^J[m&255]^O[L++],p=P[e>>>24]^H[K>>>16&255]^R[m>>>8&255]^J[d&255]^O[L++],G=P[K>>>24]^H[m>>>16&255]^R[d>>>8&255]^J[e&255]^O[L++],m=P[m>>>24]^H[d>>>16&255]^R[e>>>8&255]^J[K&255]^O[L++],d=o,e=p,K=G}o=(M[d>>>24]<<24|M[e>>>16&255]<<16|M[K>>>8&255]<<8|M[m&255])^O[L++];p=(M[e>>>24]<<24|M[K>>>16&255]<<16|M[m>>>8&255]<<8|M[d&255])^O[L++];G=(M[K>>>24]<<24|M[m>>>16&255]<<16|M[d>>>8&255]<<8|M[e&255])^O[L++];m=(M[m>>>24]<<24|M[d>>>16&255]<<16|M[e>>>8&255]<<8|M[K&255])^O[L++];Q[c]=o;Q[c+1]=p;Q[c+2]=G;Q[c+3]=m},keySize:8});r.AES=F._createHelper(u)})();(function(){function C(d,b){var c=(this._lBlock>>>d^this._rBlock)&b;this._rBlock^=c;this._lBlock^=c<<d}function g(d,b){var c=(this._rBlock>>>d^this._lBlock)&b;this._lBlock^=c;this._rBlock^=c<<d}var B=CryptoJS,r=B.lib,l=r.WordArray,r=r.BlockCipher,s=B.algo,n=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],m=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],q=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],e=[{"0":8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{"0":1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{"0":260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{"0":2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{"0":128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{"0":268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{"0":1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{"0":134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],p=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],j=s.DES=r.extend({_doReset:function(){for(var f=this._key.words,k=[],d=0;56>d;d++){var c=n[d]-1;k[d]=f[c>>>5]>>>31-c%32&1}f=this._subKeys=[];for(c=0;16>c;c++){for(var o=f[c]=[],b=q[c],d=0;24>d;d++){o[d/6|0]|=k[(m[d]-1+b)%28]<<31-d%6,o[4+(d/6|0)]|=k[28+(m[d+24]-1+b)%28]<<31-d%6}o[0]=o[0]<<1|o[0]>>>31;for(d=1;7>d;d++){o[d]>>>=4*(d-1)+3}o[7]=o[7]<<5|o[7]>>>27}k=this._invSubKeys=[];for(d=0;16>d;d++){k[d]=f[15-d]}},encryptBlock:function(c,b){this._doCryptBlock(c,b,this._subKeys)},decryptBlock:function(c,b){this._doCryptBlock(c,b,this._invSubKeys)},_doCryptBlock:function(w,b,d){this._lBlock=w[b];this._rBlock=w[b+1];C.call(this,4,252645135);C.call(this,16,65535);g.call(this,2,858993459);g.call(this,8,16711935);C.call(this,1,1431655765);for(var k=0;16>k;k++){for(var c=d[k],f=this._lBlock,u=this._rBlock,o=0,v=0;8>v;v++){o|=e[v][((u^c[v])&p[v])>>>0]}this._lBlock=u;this._rBlock=f^o}d=this._lBlock;this._lBlock=this._rBlock;this._rBlock=d;C.call(this,1,1431655765);g.call(this,8,16711935);g.call(this,2,858993459);C.call(this,16,65535);C.call(this,4,252645135);w[b]=this._lBlock;w[b+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});B.DES=r._createHelper(j);s=s.TripleDES=r.extend({_doReset:function(){var b=this._key.words;this._des1=j.createEncryptor(l.create(b.slice(0,2)));this._des2=j.createEncryptor(l.create(b.slice(2,4)));this._des3=j.createEncryptor(l.create(b.slice(4,6)))},encryptBlock:function(c,b){this._des1.encryptBlock(c,b);this._des2.decryptBlock(c,b);this._des3.encryptBlock(c,b)},decryptBlock:function(c,b){this._des3.decryptBlock(c,b);this._des2.encryptBlock(c,b);this._des1.decryptBlock(c,b)},keySize:6,ivSize:2,blockSize:2});B.TripleDES=r._createHelper(s)})();(function(){var e=CryptoJS,d=e.lib.WordArray;e.enc.Base64={stringify:function(g){var s=g.words,b=g.sigBytes,q=this._map;g.clamp();g=[];for(var f=0;f<b;f+=3){for(var r=(s[f>>>2]>>>24-8*(f%4)&255)<<16|(s[f+1>>>2]>>>24-8*((f+1)%4)&255)<<8|s[f+2>>>2]>>>24-8*((f+2)%4)&255,c=0;4>c&&f+0.75*c<b;c++){g.push(q.charAt(r>>>6*(3-c)&63))}}if(s=q.charAt(64)){for(;g.length%4;){g.push(s)}}return g.join("")},parse:function(g){var u=g.length,v=this._map,r=v.charAt(64);r&&(r=g.indexOf(r),-1!=r&&(u=r));for(var r=[],f=0,s=0;s<u;s++){if(s%4){var b=v.indexOf(g.charAt(s-1))<<2*(s%4),c=v.indexOf(g.charAt(s))>>>6-2*(s%4);r[f>>>2]|=(b|c)<<24-8*(f%4);f++}}return d.create(r,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();(function(A){function r(c,d,e,g,b,f,j){c=c+(d&e|~d&g)+b+j;return(c<<f|c>>>32-f)+d}function s(c,d,e,g,b,f,j){c=c+(d&g|e&~g)+b+j;return(c<<f|c>>>32-f)+d}function v(g,b,c,e,d,f,j){g=g+(b^c^e)+d+j;return(g<<f|g>>>32-f)+b}function w(g,b,c,e,d,f,j){g=g+(c^(b|~e))+d+j;return(g<<f|g>>>32-f)+b}for(var y=CryptoJS,x=y.lib,l=x.WordArray,k=x.Hasher,x=y.algo,q=[],n=0;64>n;n++){q[n]=4294967296*A.abs(A.sin(n+1))|0}x=x.MD5=k.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(m,f){for(var g=0;16>g;g++){var j=f+g,o=m[j];m[j]=(o<<8|o>>>24)&16711935|(o<<24|o>>>8)&4278255360}var g=this._hash.words,j=m[f+0],o=m[f+1],u=m[f+2],C=m[f+3],Y=m[f+4],aa=m[f+5],ab=m[f+6],ac=m[f+7],ad=m[f+8],ae=m[f+9],af=m[f+10],ag=m[f+11],p=m[f+12],B=m[f+13],D=m[f+14],Z=m[f+15],b=g[0],c=g[1],d=g[2],e=g[3],b=r(b,c,d,e,j,7,q[0]),e=r(e,b,c,d,o,12,q[1]),d=r(d,e,b,c,u,17,q[2]),c=r(c,d,e,b,C,22,q[3]),b=r(b,c,d,e,Y,7,q[4]),e=r(e,b,c,d,aa,12,q[5]),d=r(d,e,b,c,ab,17,q[6]),c=r(c,d,e,b,ac,22,q[7]),b=r(b,c,d,e,ad,7,q[8]),e=r(e,b,c,d,ae,12,q[9]),d=r(d,e,b,c,af,17,q[10]),c=r(c,d,e,b,ag,22,q[11]),b=r(b,c,d,e,p,7,q[12]),e=r(e,b,c,d,B,12,q[13]),d=r(d,e,b,c,D,17,q[14]),c=r(c,d,e,b,Z,22,q[15]),b=s(b,c,d,e,o,5,q[16]),e=s(e,b,c,d,ab,9,q[17]),d=s(d,e,b,c,ag,14,q[18]),c=s(c,d,e,b,j,20,q[19]),b=s(b,c,d,e,aa,5,q[20]),e=s(e,b,c,d,af,9,q[21]),d=s(d,e,b,c,Z,14,q[22]),c=s(c,d,e,b,Y,20,q[23]),b=s(b,c,d,e,ae,5,q[24]),e=s(e,b,c,d,D,9,q[25]),d=s(d,e,b,c,C,14,q[26]),c=s(c,d,e,b,ad,20,q[27]),b=s(b,c,d,e,B,5,q[28]),e=s(e,b,c,d,u,9,q[29]),d=s(d,e,b,c,ac,14,q[30]),c=s(c,d,e,b,p,20,q[31]),b=v(b,c,d,e,aa,4,q[32]),e=v(e,b,c,d,ad,11,q[33]),d=v(d,e,b,c,ag,16,q[34]),c=v(c,d,e,b,D,23,q[35]),b=v(b,c,d,e,o,4,q[36]),e=v(e,b,c,d,Y,11,q[37]),d=v(d,e,b,c,ac,16,q[38]),c=v(c,d,e,b,af,23,q[39]),b=v(b,c,d,e,B,4,q[40]),e=v(e,b,c,d,j,11,q[41]),d=v(d,e,b,c,C,16,q[42]),c=v(c,d,e,b,ab,23,q[43]),b=v(b,c,d,e,ae,4,q[44]),e=v(e,b,c,d,p,11,q[45]),d=v(d,e,b,c,Z,16,q[46]),c=v(c,d,e,b,u,23,q[47]),b=w(b,c,d,e,j,6,q[48]),e=w(e,b,c,d,ac,10,q[49]),d=w(d,e,b,c,D,15,q[50]),c=w(c,d,e,b,aa,21,q[51]),b=w(b,c,d,e,p,6,q[52]),e=w(e,b,c,d,C,10,q[53]),d=w(d,e,b,c,af,15,q[54]),c=w(c,d,e,b,o,21,q[55]),b=w(b,c,d,e,ad,6,q[56]),e=w(e,b,c,d,Z,10,q[57]),d=w(d,e,b,c,ab,15,q[58]),c=w(c,d,e,b,B,21,q[59]),b=w(b,c,d,e,Y,6,q[60]),e=w(e,b,c,d,ag,10,q[61]),d=w(d,e,b,c,u,15,q[62]),c=w(c,d,e,b,ae,21,q[63]);g[0]=g[0]+b|0;g[1]=g[1]+c|0;g[2]=g[2]+d|0;g[3]=g[3]+e|0},_doFinalize:function(){var c=this._data,d=c.words,e=8*this._nDataBytes,b=8*c.sigBytes;d[b>>>5]|=128<<24-b%32;var f=A.floor(e/4294967296);d[(b+64>>>9<<4)+15]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360;d[(b+64>>>9<<4)+14]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360;c.sigBytes=4*(d.length+1);this._process();c=this._hash;d=c.words;for(e=0;4>e;e++){b=d[e],d[e]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360}return c},clone:function(){var b=k.clone.call(this);b._hash=this._hash.clone();return b}});y.MD5=k._createHelper(x);y.HmacMD5=k._createHmacHelper(x)})(Math);(function(){var d=CryptoJS,l=d.lib,m=l.WordArray,k=l.Hasher,b=[],l=d.algo.SHA1=k.extend({_doReset:function(){this._hash=new m.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(n,p){for(var w=this._hash.words,c=w[0],e=w[1],g=w[2],j=w[3],x=w[4],y=0;80>y;y++){if(16>y){b[y]=n[p+y]|0}else{var f=b[y-3]^b[y-8]^b[y-14]^b[y-16];b[y]=f<<1|f>>>31}f=(c<<5|c>>>27)+x+b[y];f=20>y?f+((e&g|~e&j)+1518500249):40>y?f+((e^g^j)+1859775393):60>y?f+((e&g|e&j|g&j)-1894007588):f+((e^g^j)-899497514);x=j;j=g;g=e<<30|e>>>2;e=c;c=f}w[0]=w[0]+c|0;w[1]=w[1]+e|0;w[2]=w[2]+g|0;w[3]=w[3]+j|0;w[4]=w[4]+x|0},_doFinalize:function(){var f=this._data,g=f.words,e=8*this._nDataBytes,c=8*f.sigBytes;g[c>>>5]|=128<<24-c%32;g[(c+64>>>9<<4)+14]=Math.floor(e/4294967296);g[(c+64>>>9<<4)+15]=e;f.sigBytes=4*g.length;this._process();return this._hash},clone:function(){var c=k.clone.call(this);c._hash=this._hash.clone();return c}});d.SHA1=k._createHelper(l);d.HmacSHA1=k._createHmacHelper(l)})();(function(r){for(var g=CryptoJS,k=g.lib,j=k.WordArray,n=k.Hasher,k=g.algo,G=[],b=[],d=function(c){return 4294967296*(c-(c|0))|0},s=2,w=0;64>w;){var F;a:{F=s;for(var l=r.sqrt(F),v=2;v<=l;v++){if(!(F%v)){F=!1;break a}}F=!0}F&&(8>w&&(G[w]=d(r.pow(s,0.5))),b[w]=d(r.pow(s,1/3)),w++);s++}var u=[],k=k.SHA256=n.extend({_doReset:function(){this._hash=new j.init(G.slice(0))},_doProcessBlock:function(e,D){for(var f=this._hash.words,o=f[0],p=f[1],m=f[2],A=f[3],y=f[4],C=f[5],x=f[6],B=f[7],q=0;64>q;q++){if(16>q){u[q]=e[D+q]|0}else{var E=u[q-15],c=u[q-2];u[q]=((E<<25|E>>>7)^(E<<14|E>>>18)^E>>>3)+u[q-7]+((c<<15|c>>>17)^(c<<13|c>>>19)^c>>>10)+u[q-16]}E=B+((y<<26|y>>>6)^(y<<21|y>>>11)^(y<<7|y>>>25))+(y&C^~y&x)+b[q]+u[q];c=((o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22))+(o&p^o&m^p&m);B=x;x=C;C=y;y=A+E|0;A=m;m=p;p=o;o=E+c|0}f[0]=f[0]+o|0;f[1]=f[1]+p|0;f[2]=f[2]+m|0;f[3]=f[3]+A|0;f[4]=f[4]+y|0;f[5]=f[5]+C|0;f[6]=f[6]+x|0;f[7]=f[7]+B|0},_doFinalize:function(){var e=this._data,m=e.words,f=8*this._nDataBytes,c=8*e.sigBytes;m[c>>>5]|=128<<24-c%32;m[(c+64>>>9<<4)+14]=r.floor(f/4294967296);m[(c+64>>>9<<4)+15]=f;e.sigBytes=4*m.length;this._process();return this._hash},clone:function(){var c=n.clone.call(this);c._hash=this._hash.clone();return c}});g.SHA256=n._createHelper(k);g.HmacSHA256=n._createHmacHelper(k)})(Math);(function(){var k=CryptoJS,c=k.lib.WordArray,d=k.algo,b=d.SHA256,d=d.SHA224=b.extend({_doReset:function(){this._hash=new c.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=b._doFinalize.call(this);e.sigBytes-=4;return e}});k.SHA224=b._createHelper(d);k.HmacSHA224=b._createHmacHelper(d)})();(function(){function n(){return q.create.apply(q,arguments)}for(var u=CryptoJS,v=u.lib.Hasher,r=u.x64,q=r.Word,s=r.WordArray,r=u.algo,p=[n(1116352408,3609767458),n(1899447441,602891725),n(3049323471,3964484399),n(3921009573,2173295548),n(961987163,4081628472),n(1508970993,3053834265),n(2453635748,2937671579),n(2870763221,3664609560),n(3624381080,2734883394),n(310598401,1164996542),n(607225278,1323610764),n(1426881987,3590304994),n(1925078388,4068182383),n(2162078206,991336113),n(2614888103,633803317),n(3248222580,3479774868),n(3835390401,2666613458),n(4022224774,944711139),n(264347078,2341262773),n(604807628,2007800933),n(770255983,1495990901),n(1249150122,1856431235),n(1555081692,3175218132),n(1996064986,2198950837),n(2554220882,3999719339),n(2821834349,766784016),n(2952996808,2566594879),n(3210313671,3203337956),n(3336571891,1034457026),n(3584528711,2466948901),n(113926993,3758326383),n(338241895,168717936),n(666307205,1188179964),n(773529912,1546045734),n(1294757372,1522805485),n(1396182291,2643833823),n(1695183700,2343527390),n(1986661051,1014477480),n(2177026350,1206759142),n(2456956037,344077627),n(2730485921,1290863460),n(2820302411,3158454273),n(3259730800,3505952657),n(3345764771,106217008),n(3516065817,3606008344),n(3600352804,1432725776),n(4094571909,1467031594),n(275423344,851169720),n(430227734,3100823752),n(506948616,1363258195),n(659060556,3750685593),n(883997877,3785050280),n(958139571,3318307427),n(1322822218,3812723403),n(1537002063,2003034995),n(1747873779,3602036899),n(1955562222,1575990012),n(2024104815,1125592928),n(2227730452,2716904306),n(2361852424,442776044),n(2428436474,593698344),n(2756734187,3733110249),n(3204031479,2999351573),n(3329325298,3815920427),n(3391569614,3928383900),n(3515267271,566280711),n(3940187606,3454069534),n(4118630271,4000239992),n(116418474,1914138554),n(174292421,2731055270),n(289380356,3203993006),n(460393269,320620315),n(685471733,587496836),n(852142971,1086792851),n(1017036298,365543100),n(1126000580,2618297676),n(1288033470,3409855158),n(1501505948,4234509866),n(1607167915,987167468),n(1816402316,1246189591)],d=[],e=0;80>e;e++){d[e]=n()}r=r.SHA512=v.extend({_doReset:function(){this._hash=new s.init([new q.init(1779033703,4089235720),new q.init(3144134277,2227873595),new q.init(1013904242,4271175723),new q.init(2773480762,1595750129),new q.init(1359893119,2917565137),new q.init(2600822924,725511199),new q.init(528734635,4215389547),new q.init(1541459225,327033209)])},_doProcessBlock:function(ao,M){for(var O=this._hash.words,j=O[0],N=O[1],V=O[2],Y=O[3],k=O[4],l=O[5],m=O[6],O=O[7],ac=j.high,o=j.low,K=N.high,w=N.low,L=V.high,x=V.low,am=Y.high,y=Y.low,ai=k.high,A=k.low,ak=l.high,B=l.low,an=m.high,C=m.low,ah=O.high,D=O.low,S=ac,P=o,af=K,ad=w,al=L,ae=x,H=am,b=y,T=ai,Q=A,E=ak,c=B,F=an,f=C,I=ah,g=D,U=0;80>U;U++){var Z=d[U];if(16>U){var R=Z.high=ao[M+2*U]|0,ap=Z.low=ao[M+2*U+1]|0}else{var R=d[U-15],ap=R.high,W=R.low,R=(ap>>>1|W<<31)^(ap>>>8|W<<24)^ap>>>7,W=(W>>>1|ap<<31)^(W>>>8|ap<<24)^(W>>>7|ap<<25),ab=d[U-2],ap=ab.high,aq=ab.low,ab=(ap>>>19|aq<<13)^(ap<<3|aq>>>29)^ap>>>6,aq=(aq>>>19|ap<<13)^(aq<<3|ap>>>29)^(aq>>>6|ap<<26),ap=d[U-7],J=ap.high,aa=d[U-16],X=aa.high,aa=aa.low,ap=W+ap.low,R=R+J+(ap>>>0<W>>>0?1:0),ap=ap+aq,R=R+ab+(ap>>>0<aq>>>0?1:0),ap=ap+aa,R=R+X+(ap>>>0<aa>>>0?1:0);Z.high=R;Z.low=ap}var J=T&E^~T&F,aa=Q&c^~Q&f,Z=S&af^S&al^af&al,G=P&ad^P&ae^ad&ae,W=(S>>>28|P<<4)^(S<<30|P>>>2)^(S<<25|P>>>7),ab=(P>>>28|S<<4)^(P<<30|S>>>2)^(P<<25|S>>>7),aq=p[U],ag=aq.high,aj=aq.low,aq=g+((Q>>>14|T<<18)^(Q>>>18|T<<14)^(Q<<23|T>>>9)),X=I+((T>>>14|Q<<18)^(T>>>18|Q<<14)^(T<<23|Q>>>9))+(aq>>>0<g>>>0?1:0),aq=aq+aa,X=X+J+(aq>>>0<aa>>>0?1:0),aq=aq+aj,X=X+ag+(aq>>>0<aj>>>0?1:0),aq=aq+ap,X=X+R+(aq>>>0<ap>>>0?1:0),ap=ab+G,Z=W+Z+(ap>>>0<ab>>>0?1:0),I=F,g=f,F=E,f=c,E=T,c=Q,Q=b+aq|0,T=H+X+(Q>>>0<b>>>0?1:0)|0,H=al,b=ae,al=af,ae=ad,af=S,ad=P,P=aq+ap|0,S=X+Z+(P>>>0<aq>>>0?1:0)|0}o=j.low=o+P;j.high=ac+S+(o>>>0<P>>>0?1:0);w=N.low=w+ad;N.high=K+af+(w>>>0<ad>>>0?1:0);x=V.low=x+ae;V.high=L+al+(x>>>0<ae>>>0?1:0);y=Y.low=y+b;Y.high=am+H+(y>>>0<b>>>0?1:0);A=k.low=A+Q;k.high=ai+T+(A>>>0<Q>>>0?1:0);B=l.low=B+c;l.high=ak+E+(B>>>0<c>>>0?1:0);C=m.low=C+f;m.high=an+F+(C>>>0<f>>>0?1:0);D=O.low=D+g;O.high=ah+I+(D>>>0<g>>>0?1:0)},_doFinalize:function(){var g=this._data,b=g.words,f=8*this._nDataBytes,c=8*g.sigBytes;b[c>>>5]|=128<<24-c%32;b[(c+128>>>10<<5)+30]=Math.floor(f/4294967296);b[(c+128>>>10<<5)+31]=f;g.sigBytes=4*b.length;this._process();return this._hash.toX32()},clone:function(){var b=v.clone.call(this);b._hash=this._hash.clone();return b},blockSize:32});u.SHA512=v._createHelper(r);u.HmacSHA512=v._createHmacHelper(r)})();(function(){var b=CryptoJS,e=b.x64,m=e.Word,d=e.WordArray,e=b.algo,c=e.SHA512,e=e.SHA384=c.extend({_doReset:function(){this._hash=new d.init([new m.init(3418070365,3238371032),new m.init(1654270250,914150663),new m.init(2438529370,812702999),new m.init(355462360,4144912697),new m.init(1731405415,4290775857),new m.init(2394180231,1750603025),new m.init(3675008525,1694076839),new m.init(1203062813,3204075428)])},_doFinalize:function(){var f=c._doFinalize.call(this);f.sigBytes-=16;return f}});b.SHA384=c._createHelper(e);b.HmacSHA384=c._createHmacHelper(e)})();(function(){var w=CryptoJS,q=w.lib,r=q.WordArray,u=q.Hasher,q=w.algo,d=r.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),n=r.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),p=r.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),s=r.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),v=r.create([0,1518500249,1859775393,2400959708,2840853838]),x=r.create([1352829926,1548603684,1836072691,2053994217,0]),q=q.RIPEMD160=u.extend({_doReset:function(){this._hash=r.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(g,T){for(var c=0;16>c;c++){var e=T+c,j=g[e];g[e]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360}var e=this._hash.words,j=v.words,f=x.words,X=d.words,Z=n.words,Y=p.words,V=s.words,ac,k,l,m,aa,ad,o,U,W,ab;ad=ac=e[0];o=k=e[1];U=l=e[2];W=m=e[3];ab=aa=e[4];for(var b,c=0;80>c;c+=1){b=ac+g[T+X[c]]|0,b=16>c?b+((k^l^m)+j[0]):32>c?b+((k&l|~k&m)+j[1]):48>c?b+(((k|~l)^m)+j[2]):64>c?b+((k&m|l&~m)+j[3]):b+((k^(l|~m))+j[4]),b|=0,b=b<<Y[c]|b>>>32-Y[c],b=b+aa|0,ac=aa,aa=m,m=l<<10|l>>>22,l=k,k=b,b=ad+g[T+Z[c]]|0,b=16>c?b+((o^(U|~W))+f[0]):32>c?b+((o&W|U&~W)+f[1]):48>c?b+(((o|~U)^W)+f[2]):64>c?b+((o&U|~o&W)+f[3]):b+((o^U^W)+f[4]),b|=0,b=b<<V[c]|b>>>32-V[c],b=b+ab|0,ad=ab,ab=W,W=U<<10|U>>>22,U=o,o=b}b=e[1]+l+W|0;e[1]=e[2]+m+ab|0;e[2]=e[3]+aa+ad|0;e[3]=e[4]+ac+o|0;e[4]=e[0]+k+U|0;e[0]=b},_doFinalize:function(){var e=this._data,c=e.words,f=8*this._nDataBytes,b=8*e.sigBytes;c[b>>>5]|=128<<24-b%32;c[(b+64>>>9<<4)+14]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360;e.sigBytes=4*(c.length+1);this._process();e=this._hash;c=e.words;for(f=0;5>f;f++){b=c[f],c[f]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360}return e},clone:function(){var b=u.clone.call(this);b._hash=this._hash.clone();return b}});w.RIPEMD160=u._createHelper(q);w.HmacRIPEMD160=u._createHmacHelper(q)})(Math);(function(){var e=CryptoJS,c=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(x,b){x=this._hasher=new x.init();"string"==typeof b&&(b=c.parse(b));var d=x.blockSize,g=4*d;b.sigBytes>g&&(b=x.finalize(b));b.clamp();for(var j=this._oKey=b.clone(),u=this._iKey=b.clone(),v=j.words,w=u.words,f=0;f<d;f++){v[f]^=1549556828,w[f]^=909522486}j.sigBytes=u.sigBytes=g;this.reset()},reset:function(){var b=this._hasher;b.reset();b.update(this._iKey)},update:function(b){this._hasher.update(b);return this},finalize:function(b){var d=this._hasher;b=d.finalize(b);d.reset();return d.finalize(this._oKey.clone().concat(b))}})})();(function(){var n=CryptoJS,l=n.lib,b=l.Base,o=l.WordArray,l=n.algo,d=l.HMAC,m=l.PBKDF2=b.extend({cfg:b.extend({keySize:4,hasher:l.SHA1,iterations:1}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(N,O){for(var c=this.cfg,k=d.create(c.hasher,N),r=o.create(),f=o.create([1]),M=r.words,p=f.words,e=c.keySize,c=c.iterations;M.length<e;){var s=k.update(O).finalize(f);k.reset();for(var I=s.words,K=I.length,J=s,j=1;j<c;j++){J=k.finalize(J);k.reset();for(var L=J.words,g=0;g<K;g++){I[g]^=L[g]}}r.concat(s);p[0]++}r.sigBytes=4*e;return r}});n.PBKDF2=function(e,f,c){return m.create(c).compute(e,f)}})();var b64map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var b64pad="=";function hex2b64(b){var k;var d;var e="";for(k=0;k+3<=b.length;k+=3){d=parseInt(b.substring(k,k+3),16);e+=b64map.charAt(d>>6)+b64map.charAt(d&63)}if(k+1==b.length){d=parseInt(b.substring(k,k+1),16);e+=b64map.charAt(d<<2)}else{if(k+2==b.length){d=parseInt(b.substring(k,k+2),16);e+=b64map.charAt(d>>2)+b64map.charAt((d&3)<<4)}}if(b64pad){while((e.length&3)>0){e+=b64pad}}return e}function b64tohex(d){var b="";var c;var f=0;var o;var e;for(c=0;c<d.length;++c){if(d.charAt(c)==b64pad){break}e=b64map.indexOf(d.charAt(c));if(e<0){continue}if(f==0){b+=int2char(e>>2);o=e&3;f=1}else{if(f==1){b+=int2char((o<<2)|(e>>4));o=e&15;f=2}else{if(f==2){b+=int2char(o);b+=int2char(e>>2);o=e&3;f=3}else{b+=int2char((o<<2)|(e>>4));b+=int2char(e&15);f=0}}}}if(f==1){b+=int2char(o<<2)}return b}function b64toBA(d){var c=b64tohex(d);var b;var e=new Array();for(b=0;2*b<c.length;++b){e[b]=parseInt(c.substring(2*b,2*b+2),16)}return e}var dbits;var canary=244837814094590;var j_lm=((canary&16777215)==15715070);function BigInteger(f,e,d){if(f!=null){if("number"==typeof f){this.fromNumber(f,e,d)}else{if(e==null&&"string"!=typeof f){this.fromString(f,256)}else{this.fromString(f,e)}}}}function nbi(){return new BigInteger(null)}function am1(b,f,q,p,e,d){while(--d>=0){var g=f*this[b++]+q[p]+e;e=Math.floor(g/67108864);q[p++]=g&67108863}return e}function am2(r,f,g,q,d,k){var b=f&32767,e=f>>15;while(--k>=0){var p=this[r]&32767;var A=this[r++]>>15;var o=e*p+A*b;p=b*p+((o&32767)<<15)+g[q]+(d&1073741823);d=(p>>>30)+(o>>>15)+e*A+(d>>>30);g[q++]=p&1073741823}return d}function am3(r,f,g,q,d,k){var b=f&16383,e=f>>14;while(--k>=0){var p=this[r]&16383;var A=this[r++]>>14;var o=e*p+A*b;p=b*p+((o&16383)<<14)+g[q]+d;d=(p>>28)+(o>>14)+e*A;g[q++]=p&268435455}return d}if(j_lm&&(navigator.appName=="Microsoft Internet Explorer")){BigInteger.prototype.am=am2;dbits=30}else{if(j_lm&&(navigator.appName!="Netscape")){BigInteger.prototype.am=am1;dbits=26}else{BigInteger.prototype.am=am3;dbits=28}}BigInteger.prototype.DB=dbits;BigInteger.prototype.DM=((1<<dbits)-1);BigInteger.prototype.DV=(1<<dbits);var BI_FP=52;BigInteger.prototype.FV=Math.pow(2,BI_FP);BigInteger.prototype.F1=BI_FP-dbits;BigInteger.prototype.F2=2*dbits-BI_FP;var BI_RM="0123456789abcdefghijklmnopqrstuvwxyz";var BI_RC=new Array();var rr,vv;rr="0".charCodeAt(0);for(vv=0;vv<=9;++vv){BI_RC[rr++]=vv}rr="a".charCodeAt(0);for(vv=10;vv<36;++vv){BI_RC[rr++]=vv}rr="A".charCodeAt(0);for(vv=10;vv<36;++vv){BI_RC[rr++]=vv}function int2char(c){return BI_RM.charAt(c)}function intAt(g,d){var b=BI_RC[g.charCodeAt(d)];return(b==null)?-1:b}function bnpCopyTo(e){for(var b=this.t-1;b>=0;--b){e[b]=this[b]}e.t=this.t;e.s=this.s}function bnpFromInt(c){this.t=1;this.s=(c<0)?-1:0;if(c>0){this[0]=c}else{if(c<-1){this[0]=c+this.DV}else{this.t=0}}}function nbv(b){var e=nbi();e.fromInt(b);return e}function bnpFromString(g,p){var d;if(p==16){d=4}else{if(p==8){d=3}else{if(p==256){d=8}else{if(p==2){d=1}else{if(p==32){d=5}else{if(p==4){d=2}else{this.fromRadix(g,p);return}}}}}}this.t=0;this.s=0;var f=g.length,q=false,e=0;while(--f>=0){var c=(d==8)?g[f]&255:intAt(g,f);if(c<0){if(g.charAt(f)=="-"){q=true}continue}q=false;if(e==0){this[this.t++]=c}else{if(e+d>this.DB){this[this.t-1]|=(c&((1<<(this.DB-e))-1))<<e;this[this.t++]=(c>>(this.DB-e))}else{this[this.t-1]|=c<<e}}e+=d;if(e>=this.DB){e-=this.DB}}if(d==8&&(g[0]&128)!=0){this.s=-1;if(e>0){this[this.t-1]|=((1<<(this.DB-e))-1)<<e}}this.clamp();if(q){BigInteger.ZERO.subTo(this,this)}}function bnpClamp(){var c=this.s&this.DM;while(this.t>0&&this[this.t-1]==c){--this.t}}function bnToString(g){if(this.s<0){return"-"+this.negate().toString(g)}var j;if(g==16){j=4}else{if(g==8){j=3}else{if(g==2){j=1}else{if(g==32){j=5}else{if(g==4){j=2}else{return this.toRadix(g)}}}}}var s=(1<<j)-1,r,e=false,c="",l=this.t;var f=this.DB-(l*this.DB)%j;if(l-->0){if(f<this.DB&&(r=this[l]>>f)>0){e=true;c=int2char(r)}while(l>=0){if(f<j){r=(this[l]&((1<<f)-1))<<(j-f);r|=this[--l]>>(f+=this.DB-j)}else{r=(this[l]>>(f-=j))&s;if(f<=0){f+=this.DB;--l}}if(r>0){e=true}if(e){c+=int2char(r)}}}return e?c:"0"}function bnNegate(){var c=nbi();BigInteger.ZERO.subTo(this,c);return c}function bnAbs(){return(this.s<0)?this.negate():this}function bnCompareTo(d){var c=this.s-d.s;if(c!=0){return c}var b=this.t;c=b-d.t;if(c!=0){return(this.s<0)?-c:c}while(--b>=0){if((c=this[b]-d[b])!=0){return c}}return 0}function nbits(c){var b=1,g;if((g=c>>>16)!=0){c=g;b+=16}if((g=c>>8)!=0){c=g;b+=8}if((g=c>>4)!=0){c=g;b+=4}if((g=c>>2)!=0){c=g;b+=2}if((g=c>>1)!=0){c=g;b+=1}return b}function bnBitLength(){if(this.t<=0){return 0}return this.DB*(this.t-1)+nbits(this[this.t-1]^(this.s&this.DM))}function bnpDLShiftTo(b,g){var c;for(c=this.t-1;c>=0;--c){g[c+b]=this[c]}for(c=b-1;c>=0;--c){g[c]=0}g.t=this.t+b;g.s=this.s}function bnpDRShiftTo(b,g){for(var c=b;c<this.t;++c){g[c-b]=this[c]}g.t=Math.max(this.t-b,0);g.s=this.s}function bnpLShiftTo(d,g){var s=d%this.DB;var e=this.DB-s;var r=(1<<e)-1;var j=Math.floor(d/this.DB),b=(this.s<<s)&this.DM,f;for(f=this.t-1;f>=0;--f){g[f+j+1]=(this[f]>>e)|b;b=(this[f]&r)<<s}for(f=j-1;f>=0;--f){g[f]=0}g[j]=b;g.t=this.t+j+1;g.s=this.s;g.clamp()}function bnpRShiftTo(c,g){g.s=this.s;var q=Math.floor(c/this.DB);if(q>=this.t){g.t=0;return}var e=c%this.DB;var d=this.DB-e;var b=(1<<e)-1;g[0]=this[q]>>e;for(var f=q+1;f<this.t;++f){g[f-q-1]|=(this[f]&b)<<d;g[f-q]=this[f]>>e}if(e>0){g[this.t-q-1]|=(this.s&b)<<d}g.t=this.t-q;g.clamp()}function bnpSubTo(b,e){var d=0,f=0,g=Math.min(b.t,this.t);while(d<g){f+=this[d]-b[d];e[d++]=f&this.DM;f>>=this.DB}if(b.t<this.t){f-=b.s;while(d<this.t){f+=this[d];e[d++]=f&this.DM;f>>=this.DB}f+=this.s}else{f+=this.s;while(d<b.t){f-=b[d];e[d++]=f&this.DM;f>>=this.DB}f-=b.s}e.s=(f<0)?-1:0;if(f<-1){e[d++]=this.DV+f}else{if(f>0){e[d++]=f}}e.t=d;e.clamp()}function bnpMultiplyTo(b,d){var f=this.abs(),e=b.abs();var c=f.t;d.t=c+e.t;while(--c>=0){d[c]=0}for(c=0;c<e.t;++c){d[c+f.t]=f.am(0,e[c],d,c,0,f.t)}d.s=0;d.clamp();if(this.s!=b.s){BigInteger.ZERO.subTo(d,d)}}function bnpSquareTo(b){var e=this.abs();var k=b.t=2*e.t;while(--k>=0){b[k]=0}for(k=0;k<e.t-1;++k){var d=e.am(k,e[k],b,2*k,0,1);if((b[k+e.t]+=e.am(k+1,2*e[k],b,2*k+1,d,e.t-k-1))>=e.DV){b[k+e.t]-=e.DV;b[k+e.t+1]=1}}if(b.t>0){b[b.t-1]+=e.am(k,e[k],b,2*k,0,1)}b.s=0;b.clamp()}function bnpDivRemTo(s,n,l){var O=s.abs();if(O.t<=0){return}var o=this.abs();if(o.t<O.t){if(n!=null){n.fromInt(0)}if(l!=null){this.copyTo(l)}return}if(l==null){l=nbi()}var f=nbi(),b=this.s,p=s.s;var A=this.DB-nbits(O[O.t-1]);if(A>0){O.lShiftTo(A,f);o.lShiftTo(A,l)}else{O.copyTo(f);o.copyTo(l)}var v=f.t;var c=f[v-1];if(c==0){return}var u=c*(1<<this.F1)+((v>1)?f[v-2]>>this.F2:0);var x=this.FV/u,Q=(1<<this.F1)/u,P=1<<this.F2;var w=l.t,k=w-v,g=(n==null)?nbi():n;f.dlShiftTo(k,g);if(l.compareTo(g)>=0){l[l.t++]=1;l.subTo(g,l)}BigInteger.ONE.dlShiftTo(v,g);g.subTo(f,f);while(f.t<v){f[f.t++]=0}while(--k>=0){var d=(l[--w]==c)?this.DM:Math.floor(l[w]*x+(l[w-1]+P)*Q);if((l[w]+=f.am(0,d,l,k,0,v))<d){f.dlShiftTo(k,g);l.subTo(g,l);while(l[w]<--d){l.subTo(g,l)}}}if(n!=null){l.drShiftTo(v,n);if(b!=p){BigInteger.ZERO.subTo(n,n)}}l.t=v;l.clamp();if(A>0){l.rShiftTo(A,l)}if(b<0){BigInteger.ZERO.subTo(l,l)}}function bnMod(c){var b=nbi();this.abs().divRemTo(c,null,b);if(this.s<0&&b.compareTo(BigInteger.ZERO)>0){c.subTo(b,b)}return b}function Classic(c){this.m=c}function cConvert(c){if(c.s<0||c.compareTo(this.m)>=0){return c.mod(this.m)}else{return c}}function cRevert(c){return c}function cReduce(c){c.divRemTo(this.m,null,c)}function cMulTo(c,b,g){c.multiplyTo(b,g);this.reduce(g)}function cSqrTo(b,e){b.squareTo(e);this.reduce(e)}Classic.prototype.convert=cConvert;Classic.prototype.revert=cRevert;Classic.prototype.reduce=cReduce;Classic.prototype.mulTo=cMulTo;Classic.prototype.sqrTo=cSqrTo;function bnpInvDigit(){if(this.t<1){return 0}var b=this[0];if((b&1)==0){return 0}var e=b&3;e=(e*(2-(b&15)*e))&15;e=(e*(2-(b&255)*e))&255;e=(e*(2-(((b&65535)*e)&65535)))&65535;e=(e*(2-b*e%this.DV))%this.DV;return(e>0)?this.DV-e:-e}function Montgomery(c){this.m=c;this.mp=c.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<(c.DB-15))-1;this.mt2=2*c.t}function montConvert(b){var e=nbi();b.abs().dlShiftTo(this.m.t,e);e.divRemTo(this.m,null,e);if(b.s<0&&e.compareTo(BigInteger.ZERO)>0){this.m.subTo(e,e)}return e}function montRevert(b){var e=nbi();b.copyTo(e);this.reduce(e);return e}function montReduce(d){while(d.t<=this.mt2){d[d.t++]=0}for(var b=0;b<this.m.t;++b){var k=d[b]&32767;var c=(k*this.mpl+(((k*this.mph+(d[b]>>15)*this.mpl)&this.um)<<15))&d.DM;k=b+this.m.t;d[k]+=this.m.am(0,c,d,b,0,this.m.t);while(d[k]>=d.DV){d[k]-=d.DV;d[++k]++}}d.clamp();d.drShiftTo(this.m.t,d);if(d.compareTo(this.m)>=0){d.subTo(this.m,d)}}function montSqrTo(b,e){b.squareTo(e);this.reduce(e)}function montMulTo(c,b,g){c.multiplyTo(b,g);this.reduce(g)}Montgomery.prototype.convert=montConvert;Montgomery.prototype.revert=montRevert;Montgomery.prototype.reduce=montReduce;Montgomery.prototype.mulTo=montMulTo;Montgomery.prototype.sqrTo=montSqrTo;function bnpIsEven(){return((this.t>0)?(this[0]&1):this.s)==0}function bnpExp(c,d){if(c>4294967295||c<1){return BigInteger.ONE}var b=nbi(),f=nbi(),q=d.convert(this),p=nbits(c)-1;q.copyTo(b);while(--p>=0){d.sqrTo(b,f);if((c&(1<<p))>0){d.mulTo(f,q,b)}else{var j=b;b=f;f=j}}return d.revert(b)}function bnModPowInt(g,c){var b;if(g<256||c.isEven()){b=new Classic(c)}else{b=new Montgomery(c)}return this.exp(g,b)}BigInteger.prototype.copyTo=bnpCopyTo;BigInteger.prototype.fromInt=bnpFromInt;BigInteger.prototype.fromString=bnpFromString;BigInteger.prototype.clamp=bnpClamp;BigInteger.prototype.dlShiftTo=bnpDLShiftTo;BigInteger.prototype.drShiftTo=bnpDRShiftTo;BigInteger.prototype.lShiftTo=bnpLShiftTo;BigInteger.prototype.rShiftTo=bnpRShiftTo;BigInteger.prototype.subTo=bnpSubTo;BigInteger.prototype.multiplyTo=bnpMultiplyTo;BigInteger.prototype.squareTo=bnpSquareTo;BigInteger.prototype.divRemTo=bnpDivRemTo;BigInteger.prototype.invDigit=bnpInvDigit;BigInteger.prototype.isEven=bnpIsEven;BigInteger.prototype.exp=bnpExp;BigInteger.prototype.toString=bnToString;BigInteger.prototype.negate=bnNegate;BigInteger.prototype.abs=bnAbs;BigInteger.prototype.compareTo=bnCompareTo;BigInteger.prototype.bitLength=bnBitLength;BigInteger.prototype.mod=bnMod;BigInteger.prototype.modPowInt=bnModPowInt;BigInteger.ZERO=nbv(0);BigInteger.ONE=nbv(1);function bnClone(){var c=nbi();this.copyTo(c);return c}function bnIntValue(){if(this.s<0){if(this.t==1){return this[0]-this.DV}else{if(this.t==0){return -1}}}else{if(this.t==1){return this[0]}else{if(this.t==0){return 0}}}return((this[1]&((1<<(32-this.DB))-1))<<this.DB)|this[0]}function bnByteValue(){return(this.t==0)?this.s:(this[0]<<24)>>24}function bnShortValue(){return(this.t==0)?this.s:(this[0]<<16)>>16}function bnpChunkSize(c){return Math.floor(Math.LN2*this.DB/Math.log(c))}function bnSigNum(){if(this.s<0){return -1}else{if(this.t<=0||(this.t==1&&this[0]<=0)){return 0}else{return 1}}}function bnpToRadix(p){if(p==null){p=10}if(this.signum()==0||p<2||p>36){return"0"}var e=this.chunkSize(p);var q=Math.pow(p,e);var j=nbv(q),c=nbi(),g=nbi(),f="";this.divRemTo(j,c,g);while(c.signum()>0){f=(q+g.intValue()).toString(p).substr(1)+f;c.divRemTo(j,c,g)}return g.intValue().toString(p)+f}function bnpFromRadix(u,k){this.fromInt(0);if(k==null){k=10}var f=this.chunkSize(k);var g=Math.pow(k,f),e=false,v=0,m=0;for(var c=0;c<u.length;++c){var l=intAt(u,c);if(l<0){if(u.charAt(c)=="-"&&this.signum()==0){e=true}continue}m=k*m+l;if(++v>=f){this.dMultiply(g);this.dAddOffset(m,0);v=0;m=0}}if(v>0){this.dMultiply(Math.pow(k,v));this.dAddOffset(m,0)}if(e){BigInteger.ZERO.subTo(this,this)}}function bnpFromNumber(g,f,d){if("number"==typeof f){if(g<2){this.fromInt(1)}else{this.fromNumber(g,d);if(!this.testBit(g-1)){this.bitwiseTo(BigInteger.ONE.shiftLeft(g-1),op_or,this)}if(this.isEven()){this.dAddOffset(1,0)}while(!this.isProbablePrime(f)){this.dAddOffset(2,0);if(this.bitLength()>g){this.subTo(BigInteger.ONE.shiftLeft(g-1),this)}}}}else{var e=new Array(),m=g&7;e.length=(g>>3)+1;f.nextBytes(e);if(m>0){e[0]&=((1<<m)-1)}else{e[0]=0}this.fromString(e,256)}}function bnToByteArray(){var m=this.t,b=new Array();b[0]=this.s;var c=this.DB-(m*this.DB)%8,e,f=0;if(m-->0){if(c<this.DB&&(e=this[m]>>c)!=(this.s&this.DM)>>c){b[f++]=e|(this.s<<(this.DB-c))}while(m>=0){if(c<8){e=(this[m]&((1<<c)-1))<<(8-c);e|=this[--m]>>(c+=this.DB-8)}else{e=(this[m]>>(c-=8))&255;if(c<=0){c+=this.DB;--m}}if((e&128)!=0){e|=-256}if(f==0&&(this.s&128)!=(e&128)){++f}if(f>0||e!=this.s){b[f++]=e}}}return b}function bnEquals(b){return(this.compareTo(b)==0)}function bnMin(b){return(this.compareTo(b)<0)?this:b}function bnMax(b){return(this.compareTo(b)>0)?this:b}function bnpBitwiseTo(o,e,c){var b,d,g=Math.min(o.t,this.t);for(b=0;b<g;++b){c[b]=e(this[b],o[b])}if(o.t<this.t){d=o.s&this.DM;for(b=g;b<this.t;++b){c[b]=e(this[b],d)}c.t=this.t}else{d=this.s&this.DM;for(b=g;b<o.t;++b){c[b]=e(d,o[b])}c.t=o.t}c.s=e(this.s,o.s);c.clamp()}function op_and(b,e){return b&e}function bnAnd(c){var b=nbi();this.bitwiseTo(c,op_and,b);return b}function op_or(b,e){return b|e}function bnOr(c){var b=nbi();this.bitwiseTo(c,op_or,b);return b}function op_xor(b,e){return b^e}function bnXor(c){var b=nbi();this.bitwiseTo(c,op_xor,b);return b}function op_andnot(b,e){return b&~e}function bnAndNot(c){var b=nbi();this.bitwiseTo(c,op_andnot,b);return b}function bnNot(){var e=nbi();for(var b=0;b<this.t;++b){e[b]=this.DM&~this[b]}e.t=this.t;e.s=~this.s;return e}function bnShiftLeft(e){var b=nbi();if(e<0){this.rShiftTo(-e,b)}else{this.lShiftTo(e,b)}return b}function bnShiftRight(e){var b=nbi();if(e<0){this.lShiftTo(-e,b)}else{this.rShiftTo(e,b)}return b}function lbit(b){if(b==0){return -1}var e=0;if((b&65535)==0){b>>=16;e+=16}if((b&255)==0){b>>=8;e+=8}if((b&15)==0){b>>=4;e+=4}if((b&3)==0){b>>=2;e+=2}if((b&1)==0){++e}return e}function bnGetLowestSetBit(){for(var c=0;c<this.t;++c){if(this[c]!=0){return c*this.DB+lbit(this[c])}}if(this.s<0){return this.t*this.DB}return -1}function cbit(b){var e=0;while(b!=0){b&=b-1;++e}return e}function bnBitCount(){var b=0,c=this.s&this.DM;for(var g=0;g<this.t;++g){b+=cbit(this[g]^c)}return b}function bnTestBit(e){var b=Math.floor(e/this.DB);if(b>=this.t){return(this.s!=0)}return((this[b]&(1<<(e%this.DB)))!=0)}function bnpChangeBit(b,g){var c=BigInteger.ONE.shiftLeft(b);this.bitwiseTo(c,g,c);return c}function bnSetBit(c){return this.changeBit(c,op_or)}function bnClearBit(c){return this.changeBit(c,op_andnot)}function bnFlipBit(c){return this.changeBit(c,op_xor)}function bnpAddTo(b,e){var d=0,f=0,g=Math.min(b.t,this.t);while(d<g){f+=this[d]+b[d];e[d++]=f&this.DM;f>>=this.DB}if(b.t<this.t){f+=b.s;while(d<this.t){f+=this[d];e[d++]=f&this.DM;f>>=this.DB}f+=this.s}else{f+=this.s;while(d<b.t){f+=b[d];e[d++]=f&this.DM;f>>=this.DB}f+=b.s}e.s=(f<0)?-1:0;if(f>0){e[d++]=f}else{if(f<-1){e[d++]=this.DV+f}}e.t=d;e.clamp()}function bnAdd(c){var b=nbi();this.addTo(c,b);return b}function bnSubtract(c){var b=nbi();this.subTo(c,b);return b}function bnMultiply(c){var b=nbi();this.multiplyTo(c,b);return b}function bnSquare(){var c=nbi();this.squareTo(c);return c}function bnDivide(c){var b=nbi();this.divRemTo(c,b,null);return b}function bnRemainder(c){var b=nbi();this.divRemTo(c,null,b);return b}function bnDivideAndRemainder(d){var c=nbi(),b=nbi();this.divRemTo(d,c,b);return new Array(c,b)}function bnpDMultiply(c){this[this.t]=this.am(0,c-1,this,0,0,this.t);++this.t;this.clamp()}function bnpDAddOffset(e,b){if(e==0){return}while(this.t<=b){this[this.t++]=0}this[b]+=e;while(this[b]>=this.DV){this[b]-=this.DV;if(++b>=this.t){this[this.t++]=0}++this[b]}}function NullExp(){}function nNop(c){return c}function nMulTo(c,b,g){c.multiplyTo(b,g)}function nSqrTo(b,e){b.squareTo(e)}NullExp.prototype.convert=nNop;NullExp.prototype.revert=nNop;NullExp.prototype.mulTo=nMulTo;NullExp.prototype.sqrTo=nSqrTo;function bnPow(c){return this.exp(c,new NullExp())}function bnpMultiplyLowerTo(f,e,d){var c=Math.min(this.t+f.t,e);d.s=0;d.t=c;while(c>0){d[--c]=0}var b;for(b=d.t-this.t;c<b;++c){d[c+this.t]=this.am(0,f[c],d,c,0,this.t)}for(b=Math.min(f.t,e);c<b;++c){this.am(0,f[c],d,c,0,e-c)}d.clamp()}function bnpMultiplyUpperTo(e,d,c){--d;var b=c.t=this.t+e.t-d;c.s=0;while(--b>=0){c[b]=0}for(b=Math.max(d-this.t,0);b<e.t;++b){c[this.t+b-d]=this.am(d-b,e[b],c,0,0,this.t+b-d)}c.clamp();c.drShiftTo(1,c)}function Barrett(c){this.r2=nbi();this.q3=nbi();BigInteger.ONE.dlShiftTo(2*c.t,this.r2);this.mu=this.r2.divide(c);this.m=c}function barrettConvert(b){if(b.s<0||b.t>2*this.m.t){return b.mod(this.m)}else{if(b.compareTo(this.m)<0){return b}else{var e=nbi();b.copyTo(e);this.reduce(e);return e}}}function barrettRevert(c){return c}function barrettReduce(c){c.drShiftTo(this.m.t-1,this.r2);if(c.t>this.m.t+1){c.t=this.m.t+1;c.clamp()}this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);while(c.compareTo(this.r2)<0){c.dAddOffset(1,this.m.t+1)}c.subTo(this.r2,c);while(c.compareTo(this.m)>=0){c.subTo(this.m,c)}}function barrettSqrTo(b,e){b.squareTo(e);this.reduce(e)}function barrettMulTo(c,b,g){c.multiplyTo(b,g);this.reduce(g)}Barrett.prototype.convert=barrettConvert;Barrett.prototype.revert=barrettRevert;Barrett.prototype.reduce=barrettReduce;Barrett.prototype.mulTo=barrettMulTo;Barrett.prototype.sqrTo=barrettSqrTo;function bnModPow(u,c){var p=u.bitLength(),l,b=nbv(1),A;if(p<=0){return b}else{if(p<18){l=1}else{if(p<48){l=3}else{if(p<144){l=4}else{if(p<768){l=5}else{l=6}}}}}if(p<8){A=new Classic(c)}else{if(c.isEven()){A=new Barrett(c)}else{A=new Montgomery(c)}}var s=new Array(),x=3,v=l-1,J=(1<<l)-1;s[1]=A.convert(this);if(l>1){var q=nbi();A.sqrTo(s[1],q);while(x<=J){s[x]=nbi();A.mulTo(q,s[x-2],s[x]);x+=2}}var o=u.t-1,K,y=true,f=nbi(),d;p=nbits(u[o])-1;while(o>=0){if(p>=v){K=(u[o]>>(p-v))&J}else{K=(u[o]&((1<<(p+1))-1))<<(v-p);if(o>0){K|=u[o-1]>>(this.DB+p-v)}}x=l;while((K&1)==0){K>>=1;--x}if((p-=x)<0){p+=this.DB;--o}if(y){s[K].copyTo(b);y=false}else{while(x>1){A.sqrTo(b,f);A.sqrTo(f,b);x-=2}if(x>0){A.sqrTo(b,f)}else{d=b;b=f;f=d}A.mulTo(f,s[K],b)}while(o>=0&&(u[o]&(1<<p))==0){A.sqrTo(b,f);d=b;b=f;f=d;if(--p<0){p=this.DB-1;--o}}}return A.revert(b)}function bnGCD(o){var f=(this.s<0)?this.negate():this.clone();var e=(o.s<0)?o.negate():o.clone();if(f.compareTo(e)<0){var c=f;f=e;e=c}var b=f.getLowestSetBit(),d=e.getLowestSetBit();if(d<0){return f}if(b<d){d=b}if(d>0){f.rShiftTo(d,f);e.rShiftTo(d,e)}while(f.signum()>0){if((b=f.getLowestSetBit())>0){f.rShiftTo(b,f)}if((b=e.getLowestSetBit())>0){e.rShiftTo(b,e)}if(f.compareTo(e)>=0){f.subTo(e,f);f.rShiftTo(1,f)}else{e.subTo(f,e);e.rShiftTo(1,e)}}if(d>0){e.lShiftTo(d,e)}return e}function bnpModInt(c){if(c<=0){return 0}var b=this.DV%c,k=(this.s<0)?c-1:0;if(this.t>0){if(b==0){k=this[0]%c}else{for(var e=this.t-1;e>=0;--e){k=(b*k+this[e])%c}}}return k}function bnModInverse(j){var l=j.isEven();if((this.isEven()&&l)||j.signum()==0){return BigInteger.ZERO}var f=j.clone(),s=this.clone();var k=nbv(1),g=nbv(0),e=nbv(0),r=nbv(1);while(f.signum()!=0){while(f.isEven()){f.rShiftTo(1,f);if(l){if(!k.isEven()||!g.isEven()){k.addTo(this,k);g.subTo(j,g)}k.rShiftTo(1,k)}else{if(!g.isEven()){g.subTo(j,g)}}g.rShiftTo(1,g)}while(s.isEven()){s.rShiftTo(1,s);if(l){if(!e.isEven()||!r.isEven()){e.addTo(this,e);r.subTo(j,r)}e.rShiftTo(1,e)}else{if(!r.isEven()){r.subTo(j,r)}}r.rShiftTo(1,r)}if(f.compareTo(s)>=0){f.subTo(s,f);if(l){k.subTo(e,k)}g.subTo(r,g)}else{s.subTo(f,s);if(l){e.subTo(k,e)}r.subTo(g,r)}}if(s.compareTo(BigInteger.ONE)!=0){return BigInteger.ZERO}if(r.compareTo(j)>=0){return r.subtract(j)}if(r.signum()<0){r.addTo(j,r)}else{return r}if(r.signum()<0){return r.add(j)}else{return r}}var lowprimes=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997];var lplim=(1<<26)/lowprimes[lowprimes.length-1];function bnIsProbablePrime(d){var c,m=this.abs();if(m.t==1&&m[0]<=lowprimes[lowprimes.length-1]){for(c=0;c<lowprimes.length;++c){if(m[0]==lowprimes[c]){return true}}return false}if(m.isEven()){return false}c=1;while(c<lowprimes.length){var e=lowprimes[c],b=c+1;while(b<lowprimes.length&&e<lplim){e*=lowprimes[b++]}e=m.modInt(e);while(c<b){if(e%lowprimes[c++]==0){return false}}}return m.millerRabin(d)}function bnpMillerRabin(l){var s=this.subtract(BigInteger.ONE);var e=s.getLowestSetBit();if(e<=0){return false}var b=s.shiftRight(e);l=(l+1)>>1;if(l>lowprimes.length){l=lowprimes.length}var d=nbi();for(var g=0;g<l;++g){d.fromInt(lowprimes[Math.floor(Math.random()*lowprimes.length)]);var c=d.modPow(b,this);if(c.compareTo(BigInteger.ONE)!=0&&c.compareTo(s)!=0){var f=1;while(f++<e&&c.compareTo(s)!=0){c=c.modPowInt(2,this);if(c.compareTo(BigInteger.ONE)==0){return false}}if(c.compareTo(s)!=0){return false}}}return true}BigInteger.prototype.chunkSize=bnpChunkSize;BigInteger.prototype.toRadix=bnpToRadix;BigInteger.prototype.fromRadix=bnpFromRadix;BigInteger.prototype.fromNumber=bnpFromNumber;BigInteger.prototype.bitwiseTo=bnpBitwiseTo;BigInteger.prototype.changeBit=bnpChangeBit;BigInteger.prototype.addTo=bnpAddTo;BigInteger.prototype.dMultiply=bnpDMultiply;BigInteger.prototype.dAddOffset=bnpDAddOffset;BigInteger.prototype.multiplyLowerTo=bnpMultiplyLowerTo;BigInteger.prototype.multiplyUpperTo=bnpMultiplyUpperTo;BigInteger.prototype.modInt=bnpModInt;BigInteger.prototype.millerRabin=bnpMillerRabin;BigInteger.prototype.clone=bnClone;BigInteger.prototype.intValue=bnIntValue;BigInteger.prototype.byteValue=bnByteValue;BigInteger.prototype.shortValue=bnShortValue;BigInteger.prototype.signum=bnSigNum;BigInteger.prototype.toByteArray=bnToByteArray;BigInteger.prototype.equals=bnEquals;BigInteger.prototype.min=bnMin;BigInteger.prototype.max=bnMax;BigInteger.prototype.and=bnAnd;BigInteger.prototype.or=bnOr;BigInteger.prototype.xor=bnXor;BigInteger.prototype.andNot=bnAndNot;BigInteger.prototype.not=bnNot;BigInteger.prototype.shiftLeft=bnShiftLeft;BigInteger.prototype.shiftRight=bnShiftRight;BigInteger.prototype.getLowestSetBit=bnGetLowestSetBit;BigInteger.prototype.bitCount=bnBitCount;BigInteger.prototype.testBit=bnTestBit;BigInteger.prototype.setBit=bnSetBit;BigInteger.prototype.clearBit=bnClearBit;BigInteger.prototype.flipBit=bnFlipBit;BigInteger.prototype.add=bnAdd;BigInteger.prototype.subtract=bnSubtract;BigInteger.prototype.multiply=bnMultiply;BigInteger.prototype.divide=bnDivide;BigInteger.prototype.remainder=bnRemainder;BigInteger.prototype.divideAndRemainder=bnDivideAndRemainder;BigInteger.prototype.modPow=bnModPow;BigInteger.prototype.modInverse=bnModInverse;BigInteger.prototype.pow=bnPow;BigInteger.prototype.gcd=bnGCD;BigInteger.prototype.isProbablePrime=bnIsProbablePrime;BigInteger.prototype.square=bnSquare;function Arcfour(){this.i=0;this.j=0;this.S=new Array()}function ARC4init(c){var b,d,k;for(b=0;b<256;++b){this.S[b]=b}d=0;for(b=0;b<256;++b){d=(d+this.S[b]+c[b%c.length])&255;k=this.S[b];this.S[b]=this.S[d];this.S[d]=k}this.i=0;this.j=0}function ARC4next(){var c;this.i=(this.i+1)&255;this.j=(this.j+this.S[this.i])&255;c=this.S[this.i];this.S[this.i]=this.S[this.j];this.S[this.j]=c;return this.S[(c+this.S[this.i])&255]}Arcfour.prototype.init=ARC4init;Arcfour.prototype.next=ARC4next;function prng_newstate(){return new Arcfour()}var rng_psize=256;var rng_state;var rng_pool;var rng_pptr;function rng_seed_int(c){rng_pool[rng_pptr++]^=c&255;rng_pool[rng_pptr++]^=(c>>8)&255;rng_pool[rng_pptr++]^=(c>>16)&255;rng_pool[rng_pptr++]^=(c>>24)&255;if(rng_pptr>=rng_psize){rng_pptr-=rng_psize}}function rng_seed_time(){rng_seed_int(new Date().getTime())}if(rng_pool==null){rng_pool=new Array();rng_pptr=0;var t;if(window.crypto&&window.crypto.getRandomValues){var ua=new Uint8Array(32);window.crypto.getRandomValues(ua);for(t=0;t<32;++t){rng_pool[rng_pptr++]=ua[t]}}if(navigator.appName=="Netscape"&&navigator.appVersion<"5"&&window.crypto){var z=window.crypto.random(32);for(t=0;t<z.length;++t){rng_pool[rng_pptr++]=z.charCodeAt(t)&255}}while(rng_pptr<rng_psize){t=Math.floor(65536*Math.random());rng_pool[rng_pptr++]=t>>>8;rng_pool[rng_pptr++]=t&255}rng_pptr=0;rng_seed_time()}function rng_get_byte(){if(rng_state==null){rng_seed_time();rng_state=prng_newstate();rng_state.init(rng_pool);for(rng_pptr=0;rng_pptr<rng_pool.length;++rng_pptr){rng_pool[rng_pptr]=0}rng_pptr=0}return rng_state.next()}function rng_get_bytes(e){var b;for(b=0;b<e.length;++b){e[b]=rng_get_byte()}}function SecureRandom(){}SecureRandom.prototype.nextBytes=rng_get_bytes;function parseBigInt(e,b){return new BigInteger(e,b)}function linebrk(b,c){var d="";var k=0;while(k+c<b.length){d+=b.substring(k,k+c)+"\n";k+=c}return d+b.substring(k,b.length)}function byte2Hex(c){if(c<16){return"0"+c.toString(16)}else{return c.toString(16)}}function pkcs1pad2(q,e){if(e<q.length+11){alert("Message too long for RSA");return null}var d=new Array();var g=q.length-1;while(g>=0&&e>0){var b=q.charCodeAt(g--);if(b<128){d[--e]=b}else{if((b>127)&&(b<2048)){d[--e]=(b&63)|128;d[--e]=(b>>6)|192}else{d[--e]=(b&63)|128;d[--e]=((b>>6)&63)|128;d[--e]=(b>>12)|224}}}d[--e]=0;var p=new SecureRandom();var f=new Array();while(e>2){f[0]=0;while(f[0]==0){p.nextBytes(f)}d[--e]=f[0]}d[--e]=2;d[--e]=0;return new BigInteger(d)}function oaep_mgf1_arr(b,e,d){var m="",c=0;while(m.length<e){m+=d(String.fromCharCode.apply(String,b.concat([(c&4278190080)>>24,(c&16711680)>>16,(c&65280)>>8,c&255])));c+=1}return m}function oaep_pad(g,p,e,m){var H=Ext.crypto.MessageDigest;var I=Ext.crypto.Util;var q=null;if(!e){e="sha1"}if(typeof e==="string"){q=H.getCanonicalAlgName(e);m=H.getHashLength(q);e=function(n){return hextorstr(I.hashString(n,q))}}if(g.length+2*m+2>p){throw"Message too long for RSA"}var l="",d;for(d=0;d<p-g.length-2*m-2;d+=1){l+="\x00"}var j=e("")+l+"\x01"+g;var f=new Array(m);new SecureRandom().nextBytes(f);var k=oaep_mgf1_arr(f,j.length,e);var c=[];for(d=0;d<j.length;d+=1){c[d]=j.charCodeAt(d)^k.charCodeAt(d)}var o=oaep_mgf1_arr(c,f.length,e);var b=[0];for(d=0;d<f.length;d+=1){b[d+1]=f[d]^o.charCodeAt(d)}return new BigInteger(b.concat(c))}function RSAKey(){this.n=null;this.e=0;this.d=null;this.p=null;this.q=null;this.dmp1=null;this.dmq1=null;this.coeff=null}function RSASetPublic(e,b){this.isPublic=true;this.isPrivate=false;if(typeof e!=="string"){this.n=e;this.e=b}else{if(e!=null&&b!=null&&e.length>0&&b.length>0){this.n=parseBigInt(e,16);this.e=parseInt(b,16)}else{throw"Invalid RSA public key"}}}function RSADoPublic(c){return c.modPowInt(this.e,this.n)}function RSAEncrypt(b){var e=pkcs1pad2(b,(this.n.bitLength()+7)>>3);if(e==null){return null}var d=this.doPublic(e);if(d==null){return null}var k=d.toString(16);if((k.length&1)==0){return k}else{return"0"+k}}function RSAEncryptOAEP(d,b,o){var f=oaep_pad(d,(this.n.bitLength()+7)>>3,b,o);if(f==null){return null}var e=this.doPublic(f);if(e==null){return null}var g=e.toString(16);if((g.length&1)==0){return g}else{return"0"+g}}RSAKey.prototype.doPublic=RSADoPublic;RSAKey.prototype.setPublic=RSASetPublic;RSAKey.prototype.encrypt=RSAEncrypt;RSAKey.prototype.encryptOAEP=RSAEncryptOAEP;RSAKey.prototype.type="RSA";function pkcs1unpad2(j,o){var f=j.toByteArray();var g=0;while(g<f.length&&f[g]==0){++g}if(f.length-g!=o-1||f[g]!=2){return null}++g;while(f[g]!=0){if(++g>=f.length){return null}}var e="";while(++g<f.length){var n=f[g]&255;if(n<128){e+=String.fromCharCode(n)}else{if((n>191)&&(n<224)){e+=String.fromCharCode(((n&31)<<6)|(f[g+1]&63));++g}else{e+=String.fromCharCode(((n&15)<<12)|((f[g+1]&63)<<6)|(f[g+2]&63));g+=2}}}return e}function oaep_mgf1_str(b,e,d){var m="",c=0;while(m.length<e){m+=d(b+String.fromCharCode.apply(String,[(c&4278190080)>>24,(c&16711680)>>16,(c&65280)>>8,c&255]));c+=1}return m}function oaep_unpad(q,r,c,s){var K=Ext.crypto.MessageDigest;var j=Ext.crypto.Util;var J=null;if(!c){c="sha1"}if(typeof c==="string"){J=K.getCanonicalAlgName(c);s=K.getHashLength(J);c=function(d){return hextorstr(j.hashString(d,J))}}q=q.toByteArray();var e;for(e=0;e<q.length;e+=1){q[e]&=255}while(q.length<r){q.unshift(0)}q=String.fromCharCode.apply(String,q);if(q.length<2*s+2){throw"Cipher too short"}var b=q.substr(1,s);var o=q.substr(s+1);var g=oaep_mgf1_str(o,s,c);var k=[],e;for(e=0;e<b.length;e+=1){k[e]=b.charCodeAt(e)^g.charCodeAt(e)}var l=oaep_mgf1_str(String.fromCharCode.apply(String,k),q.length-s,c);var f=[];for(e=0;e<o.length;e+=1){f[e]=o.charCodeAt(e)^l.charCodeAt(e)}f=String.fromCharCode.apply(String,f);if(f.substr(0,s)!==c("")){throw"Hash mismatch"}f=f.substr(s);var p=f.indexOf("\x01");var m=(p!=-1)?f.substr(0,p).lastIndexOf("\x00"):-1;if(m+1!=p){throw"Malformed data"}return f.substr(p+1)}function RSASetPrivate(b,c,g){this.isPrivate=true;if(typeof b!=="string"){this.n=b;this.e=c;this.d=g}else{if(b!=null&&c!=null&&b.length>0&&c.length>0){this.n=parseBigInt(b,16);this.e=parseInt(c,16);this.d=parseBigInt(g,16)}else{alert("Invalid RSA private key")}}}function RSASetPrivateEx(b,g,r,f,e,d,c,s){this.isPrivate=true;this.isPublic=false;if(b==null){throw"RSASetPrivateEx N == null"}if(g==null){throw"RSASetPrivateEx E == null"}if(b.length==0){throw"RSASetPrivateEx N.length == 0"}if(g.length==0){throw"RSASetPrivateEx E.length == 0"}if(b!=null&&g!=null&&b.length>0&&g.length>0){this.n=parseBigInt(b,16);this.e=parseInt(g,16);this.d=parseBigInt(r,16);this.p=parseBigInt(f,16);this.q=parseBigInt(e,16);this.dmp1=parseBigInt(d,16);this.dmq1=parseBigInt(c,16);this.coeff=parseBigInt(s,16)}else{alert("Invalid RSA private key in RSASetPrivateEx")}}function RSAGenerate(c,v){var b=new SecureRandom();var g=c>>1;this.e=parseInt(v,16);var d=new BigInteger(v,16);for(;;){for(;;){this.p=new BigInteger(c-g,1,b);if(this.p.subtract(BigInteger.ONE).gcd(d).compareTo(BigInteger.ONE)==0&&this.p.isProbablePrime(10)){break}}for(;;){this.q=new BigInteger(g,1,b);if(this.q.subtract(BigInteger.ONE).gcd(d).compareTo(BigInteger.ONE)==0&&this.q.isProbablePrime(10)){break}}if(this.p.compareTo(this.q)<=0){var u=this.p;this.p=this.q;this.q=u}var s=this.p.subtract(BigInteger.ONE);var e=this.q.subtract(BigInteger.ONE);var f=s.multiply(e);if(f.gcd(d).compareTo(BigInteger.ONE)==0){this.n=this.p.multiply(this.q);this.d=d.modInverse(f);this.dmp1=this.d.mod(s);this.dmq1=this.d.mod(e);this.coeff=this.q.modInverse(this.p);break}}this.isPrivate=true}function RSADoPrivate(c){if(this.p==null||this.q==null){return c.modPow(this.d,this.n)}var b=c.mod(this.p).modPow(this.dmp1,this.p);var g=c.mod(this.q).modPow(this.dmq1,this.q);while(b.compareTo(g)<0){b=b.add(this.p)}return b.subtract(g).multiply(this.coeff).mod(this.p).multiply(this.q).add(g)}function RSADecrypt(g){var b=parseBigInt(g,16);var d=this.doPrivate(b);if(d==null){return null}return pkcs1unpad2(d,(this.n.bitLength()+7)>>3)}function RSADecryptOAEP(d,b,m){var e=parseBigInt(d,16);var f=this.doPrivate(e);if(f==null){return null}return oaep_unpad(f,(this.n.bitLength()+7)>>3,b,m)}RSAKey.prototype.doPrivate=RSADoPrivate;RSAKey.prototype.setPrivate=RSASetPrivate;RSAKey.prototype.setPrivateEx=RSASetPrivateEx;RSAKey.prototype.generate=RSAGenerate;RSAKey.prototype.decrypt=RSADecrypt;RSAKey.prototype.decryptOAEP=RSADecryptOAEP;function ECFieldElementFp(e,b){this.x=b;this.q=e}function feFpEquals(c){if(c==this){return true}return(this.q.equals(c.q)&&this.x.equals(c.x))}function feFpToBigInteger(){return this.x}function feFpNegate(){return new ECFieldElementFp(this.q,this.x.negate().mod(this.q))}function feFpAdd(c){return new ECFieldElementFp(this.q,this.x.add(c.toBigInteger()).mod(this.q))}function feFpSubtract(c){return new ECFieldElementFp(this.q,this.x.subtract(c.toBigInteger()).mod(this.q))}function feFpMultiply(c){return new ECFieldElementFp(this.q,this.x.multiply(c.toBigInteger()).mod(this.q))}function feFpSquare(){return new ECFieldElementFp(this.q,this.x.square().mod(this.q))}function feFpDivide(c){return new ECFieldElementFp(this.q,this.x.multiply(c.toBigInteger().modInverse(this.q)).mod(this.q))}ECFieldElementFp.prototype.equals=feFpEquals;ECFieldElementFp.prototype.toBigInteger=feFpToBigInteger;ECFieldElementFp.prototype.negate=feFpNegate;ECFieldElementFp.prototype.add=feFpAdd;ECFieldElementFp.prototype.subtract=feFpSubtract;ECFieldElementFp.prototype.multiply=feFpMultiply;ECFieldElementFp.prototype.square=feFpSquare;ECFieldElementFp.prototype.divide=feFpDivide;function ECPointFp(b,d,c,k){this.curve=b;this.x=d;this.y=c;if(k==null){this.z=BigInteger.ONE}else{this.z=k}this.zinv=null}function pointFpGetX(){if(this.zinv==null){this.zinv=this.z.modInverse(this.curve.q)}return this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function pointFpGetY(){if(this.zinv==null){this.zinv=this.z.modInverse(this.curve.q)}return this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function pointFpEquals(c){if(c==this){return true}if(this.isInfinity()){return c.isInfinity()}if(c.isInfinity()){return this.isInfinity()}var b,g;b=c.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(c.z)).mod(this.curve.q);if(!b.equals(BigInteger.ZERO)){return false}g=c.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(c.z)).mod(this.curve.q);return g.equals(BigInteger.ZERO)}function pointFpIsInfinity(){if((this.x==null)&&(this.y==null)){return true}return this.z.equals(BigInteger.ZERO)&&!this.y.toBigInteger().equals(BigInteger.ZERO)}function pointFpNegate(){return new ECPointFp(this.curve,this.x,this.y.negate(),this.z)}function pointFpAdd(p){if(this.isInfinity()){return p}if(p.isInfinity()){return this}var l=p.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(p.z)).mod(this.curve.q);var f=p.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(p.z)).mod(this.curve.q);if(BigInteger.ZERO.equals(f)){if(BigInteger.ZERO.equals(l)){return this.twice()}return this.curve.getInfinity()}var n=new BigInteger("3");var e=this.x.toBigInteger();var d=this.y.toBigInteger();var I=p.x.toBigInteger();var o=p.y.toBigInteger();var H=f.square();var m=H.multiply(f);var c=e.multiply(H);var j=l.square().multiply(this.z);var G=j.subtract(c.shiftLeft(1)).multiply(p.z).subtract(m).multiply(f).mod(this.curve.q);var k=c.multiply(n).multiply(l).subtract(d.multiply(m)).subtract(j.multiply(l)).multiply(p.z).add(l.multiply(m)).mod(this.curve.q);var g=m.multiply(this.z).multiply(p.z).mod(this.curve.q);return new ECPointFp(this.curve,this.curve.fromBigInteger(G),this.curve.fromBigInteger(k),g)}function pointFpTwice(){if(this.isInfinity()){return this}if(this.y.toBigInteger().signum()==0){return this.curve.getInfinity()}var d=new BigInteger("3");var w=this.x.toBigInteger();var e=this.y.toBigInteger();var b=e.multiply(this.z);var g=b.multiply(e).mod(this.curve.q);var f=this.curve.a.toBigInteger();var j=w.square().multiply(d);if(!BigInteger.ZERO.equals(f)){j=j.add(this.z.square().multiply(f))}j=j.mod(this.curve.q);var k=j.square().subtract(w.shiftLeft(3).multiply(g)).shiftLeft(1).multiply(b).mod(this.curve.q);var c=j.multiply(d).multiply(w).subtract(g.shiftLeft(1)).shiftLeft(2).multiply(g).subtract(j.square().multiply(j)).mod(this.curve.q);var x=b.square().multiply(b).shiftLeft(3).mod(this.curve.q);return new ECPointFp(this.curve,this.curve.fromBigInteger(k),this.curve.fromBigInteger(c),x)}function pointFpMultiply(j){if(this.isInfinity()){return this}if(j.signum()==0){return this.curve.getInfinity()}var l=j;var g=l.multiply(new BigInteger("3"));var b=this.negate();var f=this;var d;for(d=g.bitLength()-2;d>0;--d){f=f.twice();var c=g.testBit(d);var s=l.testBit(d);if(c!=s){f=f.add(c?this:b)}}return f}function pointFpMultiplyTwo(o,e,f){var b;if(o.bitLength()>f.bitLength()){b=o.bitLength()-1}else{b=f.bitLength()-1}var d=this.curve.getInfinity();var c=this.add(e);while(b>=0){d=d.twice();if(o.testBit(b)){if(f.testBit(b)){d=d.add(c)}else{d=d.add(this)}}else{if(f.testBit(b)){d=d.add(e)}}--b}return d}ECPointFp.prototype.getX=pointFpGetX;ECPointFp.prototype.getY=pointFpGetY;ECPointFp.prototype.equals=pointFpEquals;ECPointFp.prototype.isInfinity=pointFpIsInfinity;ECPointFp.prototype.negate=pointFpNegate;ECPointFp.prototype.add=pointFpAdd;ECPointFp.prototype.twice=pointFpTwice;ECPointFp.prototype.multiply=pointFpMultiply;ECPointFp.prototype.multiplyTwo=pointFpMultiplyTwo;function ECCurveFp(c,e,d){this.q=c;this.a=this.fromBigInteger(e);this.b=this.fromBigInteger(d);this.infinity=new ECPointFp(this,null,null)}function curveFpGetQ(){return this.q}function curveFpGetA(){return this.a}function curveFpGetB(){return this.b}function curveFpEquals(c){if(c==this){return true}return(this.q.equals(c.q)&&this.a.equals(c.a)&&this.b.equals(c.b))}function curveFpGetInfinity(){return this.infinity}function curveFpFromBigInteger(c){return new ECFieldElementFp(this.q,c)}function curveFpDecodePointHex(c){switch(parseInt(c.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var d=(c.length-2)/2;var b=c.substr(2,d);var k=c.substr(d+2,d);return new ECPointFp(this,this.fromBigInteger(new BigInteger(b,16)),this.fromBigInteger(new BigInteger(k,16)));default:return null}}ECCurveFp.prototype.getQ=curveFpGetQ;ECCurveFp.prototype.getA=curveFpGetA;ECCurveFp.prototype.getB=curveFpGetB;ECCurveFp.prototype.equals=curveFpEquals;ECCurveFp.prototype.getInfinity=curveFpGetInfinity;ECCurveFp.prototype.fromBigInteger=curveFpFromBigInteger;ECCurveFp.prototype.decodePointHex=curveFpDecodePointHex;ECFieldElementFp.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)};ECPointFp.prototype.getEncoded=function(b){var c=function(f,g){var j=f.toByteArrayUnsigned();if(g<j.length){j=j.slice(j.length-g)}else{while(g>j.length){j.unshift(0)}}return j};var e=this.getX().toBigInteger();var d=this.getY().toBigInteger();var m=c(e,32);if(b){if(d.isEven()){m.unshift(2)}else{m.unshift(3)}}else{m.unshift(4);m=m.concat(c(d,32))}return m};ECPointFp.decodeFrom=function(b,f){var s=f[0];var r=f.length-1;var g=f.slice(1,1+r/2);var e=f.slice(1+r/2,1+r);g.unshift(0);e.unshift(0);var d=new BigInteger(g);var c=new BigInteger(e);return new ECPointFp(b,b.fromBigInteger(d),b.fromBigInteger(c))};ECPointFp.decodeFromHex=function(b,f){var s=f.substr(0,2);var r=f.length-2;var g=f.substr(2,r/2);var e=f.substr(2+r/2,r/2);var d=new BigInteger(g,16);var c=new BigInteger(e,16);return new ECPointFp(b,b.fromBigInteger(d),b.fromBigInteger(c))};ECPointFp.prototype.add2D=function(o){if(this.isInfinity()){return o}if(o.isInfinity()){return this}if(this.x.equals(o.x)){if(this.y.equals(o.y)){return this.twice()}return this.curve.getInfinity()}var g=o.x.subtract(this.x);var e=o.y.subtract(this.y);var d=e.divide(g);var c=d.square().subtract(this.x).subtract(o.x);var f=d.multiply(this.x.subtract(c)).subtract(this.y);return new ECPointFp(this.curve,c,f)};ECPointFp.prototype.twice2D=function(){if(this.isInfinity()){return this}if(this.y.toBigInteger().signum()==0){return this.curve.getInfinity()}var m=this.curve.fromBigInteger(BigInteger.valueOf(2));var d=this.curve.fromBigInteger(BigInteger.valueOf(3));var e=this.x.square().multiply(d).add(this.curve.a).divide(this.y.multiply(m));var b=e.square().subtract(this.x.multiply(m));var c=e.multiply(this.x.subtract(b)).subtract(this.y);return new ECPointFp(this.curve,b,c)};ECPointFp.prototype.multiply2D=function(j){if(this.isInfinity()){return this}if(j.signum()==0){return this.curve.getInfinity()}var l=j;var g=l.multiply(new BigInteger("3"));var b=this.negate();var f=this;var d;for(d=g.bitLength()-2;d>0;--d){f=f.twice();var c=g.testBit(d);var s=l.testBit(d);if(c!=s){f=f.add2D(c?this:b)}}return f};ECPointFp.prototype.isOnCurve=function(){var q=this.getX().toBigInteger();var d=this.getY().toBigInteger();var e=this.curve.getA().toBigInteger();var p=this.curve.getB().toBigInteger();var g=this.curve.getQ();var c=d.multiply(d).mod(g);var f=q.multiply(q).multiply(q).add(e.multiply(q)).add(p).mod(g);return c.equals(f)};ECPointFp.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"};ECPointFp.prototype.validate=function(){var b=this.curve.getQ();if(this.isInfinity()){throw new Error("Point is at infinity.")}var c=this.getX().toBigInteger();var g=this.getY().toBigInteger();if(c.compareTo(BigInteger.ONE)<0||c.compareTo(b.subtract(BigInteger.ONE))>0){throw new Error("x coordinate out of bounds")}if(g.compareTo(BigInteger.ONE)<0||g.compareTo(b.subtract(BigInteger.ONE))>0){throw new Error("y coordinate out of bounds")}if(!this.isOnCurve()){throw new Error("Point is not on the curve.")}if(this.multiply(b).isInfinity()){throw new Error("Point is not a scalar multiple of G.")}return true};var jsonParse=(function(){var b="(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)";var g='(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))';var f='(?:"'+g+'*")';var A=new RegExp("(?:false|true|null|[\\{\\}\\[\\]]|"+b+"|"+f+")","g");var j=new RegExp("\\\\(?:([^u])|u(.{4}))","g");var d={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function e(n,l,m){return l?d[l]:String.fromCharCode(parseInt(m,16))}var y=new String("");var k="\\";var c={"{":Object,"[":Array};var x=Object.hasOwnProperty;return function(n,v){var u=n.match(A);var p;var w=u[0];var q=false;if("{"===w){p={}}else{if("["===w){p=[]}else{p=[];q=true}}var m;var D=[p];for(var s=1-q,r=u.length;s<r;++s){w=u[s];var o;switch(w.charCodeAt(0)){default:o=D[0];o[m||o.length]=+(w);m=void 0;break;case 34:w=w.substring(1,w.length-1);if(w.indexOf(k)!==-1){w=w.replace(j,e)}o=D[0];if(!m){if(o instanceof Array){m=o.length}else{m=w||y;break}}o[m]=w;m=void 0;break;case 91:o=D[0];D.unshift(o[m||o.length]=[]);m=void 0;break;case 93:D.shift();break;case 102:o=D[0];o[m||o.length]=false;m=void 0;break;case 110:o=D[0];o[m||o.length]=null;m=void 0;break;case 116:o=D[0];o[m||o.length]=true;m=void 0;break;case 123:o=D[0];D.unshift(o[m||o.length]={});m=void 0;break;case 125:D.shift();break}}if(q){if(D.length!==1){throw new Error()}p=p[0]}else{if(D.length){throw new Error()}}if(v){var l=function(M,C){var O=M[C];if(O&&typeof O==="object"){var K=null;for(var N in O){if(x.call(O,N)&&O!==M){var L=l(O,N);if(L!==void 0){O[N]=L}else{if(!K){K=[]}K.push(N)}}}if(K){for(var B=K.length;--B>=0;){delete O[K[B]]}}}return v.call(M,C,O)};p=l({"":p},"")}return p}})();if(typeof Ext=="undefined"||!Ext){Ext={}}if(typeof Ext.asn1=="undefined"||!Ext.asn1){Ext.asn1={}}Ext.asn1.ASN1Util=new function(){this.integerToByteHex=function(b){var e=b.toString(16);if((e.length%2)==1){e="0"+e}return e};this.bigIntToMinTwosComplementsHex=function(b){var j=b.toString(16);if(j.substr(0,1)!="-"){if(j.length%2==1){j="0"+j}else{if(!j.match(/^[0-7]/)){j="00"+j}}}else{var c=j.substr(1);var g=c.length;if(g%2==1){g+=1}else{if(!j.match(/^[0-7]/)){g+=2}}var s="";for(var f=0;f<g;f++){s+="f"}var e=new BigInteger(s,16);var d=e.xor(b).add(BigInteger.ONE);j=d.toString(16).replace(/^-/,"")}return j};this.getPEMStringFromHex=function(d,k){var b=hextob64(d);var c=b.replace(/(.{64})/g,"$1\r\n");c=c.replace(/\r\n$/,"");return"-----BEGIN "+k+"-----\r\n"+c+"\r\n-----END "+k+"-----\r\n"};this.newObject=function(g){var A=Ext.asn1;var d=Object.keys(g);if(d.length!=1){throw"key of param shall be only one."}var c=d[0];if(":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+c+":")==-1){throw"undefined key: "+c}if(c=="bool"){return new A.DERBoolean(g[c])}if(c=="int"){return new A.DERInteger(g[c])}if(c=="bitstr"){return new A.DERBitString(g[c])}if(c=="octstr"){return new A.DEROctetString(g[c])}if(c=="null"){return new A.DERNull(g[c])}if(c=="oid"){return new A.DERObjectIdentifier(g[c])}if(c=="enum"){return new A.DEREnumerated(g[c])}if(c=="utf8str"){return new A.DERUTF8String(g[c])}if(c=="numstr"){return new A.DERNumericString(g[c])}if(c=="prnstr"){return new A.DERPrintableString(g[c])}if(c=="telstr"){return new A.DERTeletexString(g[c])}if(c=="ia5str"){return new A.DERIA5String(g[c])}if(c=="utctime"){return new A.DERUTCTime(g[c])}if(c=="gentime"){return new A.DERGeneralizedTime(g[c])}if(c=="seq"){var f=g[c];var b=[];for(var l=0;l<f.length;l++){var e=A.ASN1Util.newObject(f[l]);b.push(e)}return new A.DERSequence({array:b})}if(c=="set"){var f=g[c];var b=[];for(var l=0;l<f.length;l++){var e=A.ASN1Util.newObject(f[l]);b.push(e)}return new A.DERSet({array:b})}if(c=="tag"){var j=g[c];if(Object.prototype.toString.call(j)==="[object Array]"&&j.length==3){var k=A.ASN1Util.newObject(j[2]);return new A.DERTaggedObject({tag:j[0],explicit:j[1],obj:k})}else{var m={};if(j.explicit!==undefined){m.explicit=j.explicit}if(j.tag!==undefined){m.tag=j.tag}if(j.obj===undefined){throw"obj shall be specified for 'tag'."}m.obj=A.ASN1Util.newObject(j.obj);return new A.DERTaggedObject(m)}}};this.jsonToASN1HEX=function(e){var b=this.newObject(e);return b.getEncodedHex()}}();Ext.asn1.ASN1Util.oidHexToInt=function(k){var g="";var j=parseInt(k.substr(0,2),16);var b=Math.floor(j/40);var x=j%40;var g=b+"."+x;var c="";for(var d=2;d<k.length;d+=2){var e=parseInt(k.substr(d,2),16);var f=("00000000"+e.toString(2)).slice(-8);c=c+f.substr(1,7);if(f.substr(0,1)=="0"){var w=new BigInteger(c,2);g=g+"."+w.toString(10);c=""}}return g};Ext.asn1.ASN1Util.oidIntToHex=function(j){var g=function(k){var l=k.toString(16);if(l.length==1){l="0"+l}return l};var f=function(l){var n="";var p=new BigInteger(l,10);var q=p.toString(2);var s=7-q.length%7;if(s==7){s=0}var o="";for(var k=0;k<s;k++){o+="0"}q=o+q;for(var k=0;k<q.length-1;k+=7){var m=q.substr(k,7);if(k!=q.length-7){m="1"+m}n+=g(parseInt(m,2))}return n};if(!j.match(/^[0-9.]+$/)){throw"malformed oid string: "+j}var b="";var d=j.split(".");var c=parseInt(d[0])*40+parseInt(d[1]);b+=g(c);d.splice(0,2);for(var e=0;e<d.length;e++){b+=f(d[e])}return b};Ext.asn1.ASN1Object=function(){var b=true;var m=null;var c="00";var d="00";var e="";this.getLengthHexFromValue=function(){if(typeof this.hV=="undefined"||this.hV==null){throw"this.hV is null or undefined."}if(this.hV.length%2==1){throw"value hex must be even length: n="+e.length+",v="+this.hV}var f=this.hV.length/2;var k=f.toString(16);if(k.length%2==1){k="0"+k}if(f<128){return k}else{var j=k.length/2;if(j>15){throw"ASN.1 length too long to represent by 8x: n = "+f.toString(16)}var g=128+j;return g.toString(16)+k}};this.getEncodedHex=function(){if(this.hTLV==null||this.isModified){this.hV=this.getFreshValueHex();this.hL=this.getLengthHexFromValue();this.hTLV=this.hT+this.hL+this.hV;this.isModified=false}return this.hTLV};this.getValueHex=function(){this.getEncodedHex();return this.hV};this.getFreshValueHex=function(){return""}};Ext.asn1.DERAbstractString=function(b){Ext.asn1.DERAbstractString.superclass.constructor.call(this);var g=null;var c=null;this.getString=function(){return this.s};this.setString=function(d){this.hTLV=null;this.isModified=true;this.s=d;this.hV=stohex(this.s)};this.setStringHex=function(d){this.hTLV=null;this.isModified=true;this.s=null;this.hV=d};this.getFreshValueHex=function(){return this.hV};if(typeof b!="undefined"){if(typeof b=="string"){this.setString(b)}else{if(typeof b.str!="undefined"){this.setString(b.str)}else{if(typeof b.hex!="undefined"){this.setStringHex(b.hex)}}}}};YAHOO.lang.extend(Ext.asn1.DERAbstractString,Ext.asn1.ASN1Object);Ext.asn1.DERAbstractTime=function(b){Ext.asn1.DERAbstractTime.superclass.constructor.call(this);var g=null;var c=null;this.localDateToUTC=function(d){utc=d.getTime()+(d.getTimezoneOffset()*60000);var e=new Date(utc);return e};this.formatDate=function(o,q,r){var d=this.zeroPadding;var p=this.localDateToUTC(o);var H=String(p.getFullYear());if(q=="utc"){H=H.substr(2,2)}var n=d(String(p.getMonth()+1),2);var k=d(String(p.getDate()),2);var e=d(String(p.getHours()),2);var f=d(String(p.getMinutes()),2);var j=d(String(p.getSeconds()),2);var m=H+n+k+e+f+j;if(r===true){var G=p.getMilliseconds();if(G!=0){var l=d(String(G),3);l=l.replace(/[0]+$/,"");m=m+"."+l}}return m+"Z"};this.zeroPadding=function(d,e){if(d.length>=e){return d}return new Array(e-d.length+1).join("0")+d};this.getString=function(){return this.s};this.setString=function(d){this.hTLV=null;this.isModified=true;this.s=d;this.hV=stohex(d)};this.setByDateValue=function(j,e,r,p,d,f){var q=new Date(Date.UTC(j,e-1,r,p,d,f,0));this.setByDate(q)};this.getFreshValueHex=function(){return this.hV}};YAHOO.lang.extend(Ext.asn1.DERAbstractTime,Ext.asn1.ASN1Object);Ext.asn1.DERAbstractStructured=function(e){Ext.asn1.DERAbstractString.superclass.constructor.call(this);var b=null;this.setByASN1ObjectArray=function(c){this.hTLV=null;this.isModified=true;this.asn1Array=c};this.appendASN1Object=function(c){this.hTLV=null;this.isModified=true;this.asn1Array.push(c)};this.asn1Array=new Array();if(typeof e!="undefined"){if(typeof e.array!="undefined"){this.asn1Array=e.array}}};YAHOO.lang.extend(Ext.asn1.DERAbstractStructured,Ext.asn1.ASN1Object);Ext.asn1.DERBoolean=function(){Ext.asn1.DERBoolean.superclass.constructor.call(this);this.hT="01";this.hTLV="0101ff"};YAHOO.lang.extend(Ext.asn1.DERBoolean,Ext.asn1.ASN1Object);Ext.asn1.DERInteger=function(c){Ext.asn1.DERInteger.superclass.constructor.call(this);this.hT="02";this.setByBigInteger=function(b){this.hTLV=null;this.isModified=true;this.hV=Ext.asn1.ASN1Util.bigIntToMinTwosComplementsHex(b)};this.setByInteger=function(b){var f=new BigInteger(String(b),10);this.setByBigInteger(f)};this.setValueHex=function(b){this.hV=b};this.getFreshValueHex=function(){return this.hV};if(typeof c!="undefined"){if(typeof c.bigint!="undefined"){this.setByBigInteger(c.bigint)}else{if(typeof c["int"]!="undefined"){this.setByInteger(c["int"])}else{if(typeof c=="number"){this.setByInteger(c)}else{if(typeof c.hex!="undefined"){this.setValueHex(c.hex)}}}}}};YAHOO.lang.extend(Ext.asn1.DERInteger,Ext.asn1.ASN1Object);Ext.asn1.DERBitString=function(e){if(e!==undefined&&typeof e.obj!=="undefined"){var b=Ext.asn1.ASN1Util.newObject(e.obj);e.hex="00"+b.getEncodedHex()}Ext.asn1.DERBitString.superclass.constructor.call(this);this.hT="03";this.setHexValueIncludingUnusedBits=function(c){this.hTLV=null;this.isModified=true;this.hV=c};this.setUnusedBitsAndHexValue=function(d,c){if(d<0||7<d){throw"unused bits shall be from 0 to 7: u = "+d}var j="0"+d;this.hTLV=null;this.isModified=true;this.hV=j+c};this.setByBinaryString=function(d){d=d.replace(/0+$/,"");var f=8-d.length%8;if(f==8){f=0}for(var g=0;g<=f;g++){d+="0"}var c="";for(var g=0;g<d.length-1;g+=8){var p=d.substr(g,8);var j=parseInt(p,2).toString(16);if(j.length==1){j="0"+j}c+=j}this.hTLV=null;this.isModified=true;this.hV="0"+f+c};this.setByBooleanArray=function(c){var j="";for(var d=0;d<c.length;d++){if(c[d]==true){j+="1"}else{j+="0"}}this.setByBinaryString(j)};this.newFalseArray=function(c){var d=new Array(c);for(var j=0;j<c;j++){d[j]=false}return d};this.getFreshValueHex=function(){return this.hV};if(typeof e!="undefined"){if(typeof e=="string"&&e.toLowerCase().match(/^[0-9a-f]+$/)){this.setHexValueIncludingUnusedBits(e)}else{if(typeof e.hex!="undefined"){this.setHexValueIncludingUnusedBits(e.hex)}else{if(typeof e.bin!="undefined"){this.setByBinaryString(e.bin)}else{if(typeof e.array!="undefined"){this.setByBooleanArray(e.array)}}}}}};YAHOO.lang.extend(Ext.asn1.DERBitString,Ext.asn1.ASN1Object);Ext.asn1.DEROctetString=function(e){if(e!==undefined&&typeof e.obj!=="undefined"){var b=Ext.asn1.ASN1Util.newObject(e.obj);e.hex=b.getEncodedHex()}Ext.asn1.DEROctetString.superclass.constructor.call(this,e);this.hT="04"};YAHOO.lang.extend(Ext.asn1.DEROctetString,Ext.asn1.DERAbstractString);Ext.asn1.DERNull=function(){Ext.asn1.DERNull.superclass.constructor.call(this);this.hT="05";this.hTLV="0500"};YAHOO.lang.extend(Ext.asn1.DERNull,Ext.asn1.ASN1Object);Ext.asn1.DERObjectIdentifier=function(b){var g=function(e){var d=e.toString(16);if(d.length==1){d="0"+d}return d};var c=function(u){var l="";var f=new BigInteger(u,10);var e=f.toString(2);var j=7-e.length%7;if(j==7){j=0}var d="";for(var k=0;k<j;k++){d+="0"}e=d+e;for(var k=0;k<e.length-1;k+=7){var m=e.substr(k,7);if(k!=e.length-7){m="1"+m}l+=g(parseInt(m,2))}return l};Ext.asn1.DERObjectIdentifier.superclass.constructor.call(this);this.hT="06";this.setValueHex=function(d){this.hTLV=null;this.isModified=true;this.s=null;this.hV=d};this.setValueOidString=function(j){if(!j.match(/^[0-9.]+$/)){throw"malformed oid string: "+j}var n="";var e=j.split(".");var d=parseInt(e[0])*40+parseInt(e[1]);n+=g(d);e.splice(0,2);for(var f=0;f<e.length;f++){n+=c(e[f])}this.hTLV=null;this.isModified=true;this.s=null;this.hV=n};this.setValueName=function(d){var e=Ext.asn1.x509.OID.name2oid(d);if(e!==""){this.setValueOidString(e)}else{throw"DERObjectIdentifier oidName undefined: "+d}};this.getFreshValueHex=function(){return this.hV};if(b!==undefined){if(typeof b==="string"){if(b.match(/^[0-2].[0-9.]+$/)){this.setValueOidString(b)}else{this.setValueName(b)}}else{if(b.oid!==undefined){this.setValueOidString(b.oid)}else{if(b.hex!==undefined){this.setValueHex(b.hex)}else{if(b.name!==undefined){this.setValueName(b.name)}}}}}};YAHOO.lang.extend(Ext.asn1.DERObjectIdentifier,Ext.asn1.ASN1Object);Ext.asn1.DEREnumerated=function(c){Ext.asn1.DEREnumerated.superclass.constructor.call(this);this.hT="0a";this.setByBigInteger=function(b){this.hTLV=null;this.isModified=true;this.hV=Ext.asn1.ASN1Util.bigIntToMinTwosComplementsHex(b)};this.setByInteger=function(b){var f=new BigInteger(String(b),10);this.setByBigInteger(f)};this.setValueHex=function(b){this.hV=b};this.getFreshValueHex=function(){return this.hV};if(typeof c!="undefined"){if(typeof c["int"]!="undefined"){this.setByInteger(c["int"])}else{if(typeof c=="number"){this.setByInteger(c)}else{if(typeof c.hex!="undefined"){this.setValueHex(c.hex)}}}}};YAHOO.lang.extend(Ext.asn1.DEREnumerated,Ext.asn1.ASN1Object);Ext.asn1.DERUTF8String=function(c){Ext.asn1.DERUTF8String.superclass.constructor.call(this,c);this.hT="0c"};YAHOO.lang.extend(Ext.asn1.DERUTF8String,Ext.asn1.DERAbstractString);Ext.asn1.DERNumericString=function(c){Ext.asn1.DERNumericString.superclass.constructor.call(this,c);this.hT="12"};YAHOO.lang.extend(Ext.asn1.DERNumericString,Ext.asn1.DERAbstractString);Ext.asn1.DERPrintableString=function(c){Ext.asn1.DERPrintableString.superclass.constructor.call(this,c);this.hT="13"};YAHOO.lang.extend(Ext.asn1.DERPrintableString,Ext.asn1.DERAbstractString);Ext.asn1.DERTeletexString=function(c){Ext.asn1.DERTeletexString.superclass.constructor.call(this,c);this.hT="14"};YAHOO.lang.extend(Ext.asn1.DERTeletexString,Ext.asn1.DERAbstractString);Ext.asn1.DERIA5String=function(c){Ext.asn1.DERIA5String.superclass.constructor.call(this,c);this.hT="16"};YAHOO.lang.extend(Ext.asn1.DERIA5String,Ext.asn1.DERAbstractString);Ext.asn1.DERUTCTime=function(c){Ext.asn1.DERUTCTime.superclass.constructor.call(this,c);this.hT="17";this.setByDate=function(b){this.hTLV=null;this.isModified=true;this.date=b;this.s=this.formatDate(this.date,"utc");this.hV=stohex(this.s)};this.getFreshValueHex=function(){if(typeof this.date=="undefined"&&typeof this.s=="undefined"){this.date=new Date();this.s=this.formatDate(this.date,"utc");this.hV=stohex(this.s)}return this.hV};if(c!==undefined){if(c.str!==undefined){this.setString(c.str)}else{if(typeof c=="string"&&c.match(/^[0-9]{12}Z$/)){this.setString(c)}else{if(c.hex!==undefined){this.setStringHex(c.hex)}else{if(c.date!==undefined){this.setByDate(c.date)}}}}}};YAHOO.lang.extend(Ext.asn1.DERUTCTime,Ext.asn1.DERAbstractTime);Ext.asn1.DERGeneralizedTime=function(c){Ext.asn1.DERGeneralizedTime.superclass.constructor.call(this,c);this.hT="18";this.withMillis=false;this.setByDate=function(b){this.hTLV=null;this.isModified=true;this.date=b;this.s=this.formatDate(this.date,"gen",this.withMillis);this.hV=stohex(this.s)};this.getFreshValueHex=function(){if(this.date===undefined&&this.s===undefined){this.date=new Date();this.s=this.formatDate(this.date,"gen",this.withMillis);this.hV=stohex(this.s)}return this.hV};if(c!==undefined){if(c.str!==undefined){this.setString(c.str)}else{if(typeof c=="string"&&c.match(/^[0-9]{14}Z$/)){this.setString(c)}else{if(c.hex!==undefined){this.setStringHex(c.hex)}else{if(c.date!==undefined){this.setByDate(c.date)}}}}if(c.millis===true){this.withMillis=true}}};YAHOO.lang.extend(Ext.asn1.DERGeneralizedTime,Ext.asn1.DERAbstractTime);Ext.asn1.DERSequence=function(c){Ext.asn1.DERSequence.superclass.constructor.call(this,c);this.hT="30";this.getFreshValueHex=function(){var b="";for(var j=0;j<this.asn1Array.length;j++){var d=this.asn1Array[j];b+=d.getEncodedHex()}this.hV=b;return this.hV}};YAHOO.lang.extend(Ext.asn1.DERSequence,Ext.asn1.DERAbstractStructured);Ext.asn1.DERSet=function(c){Ext.asn1.DERSet.superclass.constructor.call(this,c);this.hT="31";this.sortFlag=true;this.getFreshValueHex=function(){var j=new Array();for(var b=0;b<this.asn1Array.length;b++){var d=this.asn1Array[b];j.push(d.getEncodedHex())}if(this.sortFlag==true){j.sort()}this.hV=j.join("");return this.hV};if(typeof c!="undefined"){if(typeof c.sortflag!="undefined"&&c.sortflag==false){this.sortFlag=false}}};YAHOO.lang.extend(Ext.asn1.DERSet,Ext.asn1.DERAbstractStructured);Ext.asn1.DERTaggedObject=function(c){Ext.asn1.DERTaggedObject.superclass.constructor.call(this);this.hT="a0";this.hV="";this.isExplicit=true;this.asn1Object=null;this.setASN1Object=function(j,b,d){this.hT=b;this.isExplicit=j;this.asn1Object=d;if(this.isExplicit){this.hV=this.asn1Object.getEncodedHex();this.hTLV=null;this.isModified=true}else{this.hV=null;this.hTLV=d.getEncodedHex();this.hTLV=this.hTLV.replace(/^../,b);this.isModified=false}};this.getFreshValueHex=function(){return this.hV};if(typeof c!="undefined"){if(typeof c.tag!="undefined"){this.hT=c.tag}if(typeof c.explicit!="undefined"){this.isExplicit=c.explicit}if(typeof c.obj!="undefined"){this.asn1Object=c.obj;this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)}}};YAHOO.lang.extend(Ext.asn1.DERTaggedObject,Ext.asn1.ASN1Object);var ASN1HEX=new function(){}();ASN1HEX.getByteLengthOfL_AtObj=function(g,b){if(g.substring(b+2,b+3)!="8"){return 1}var c=parseInt(g.substring(b+3,b+4));if(c==0){return -1}if(0<c&&c<10){return c+1}return -2};ASN1HEX.getHexOfL_AtObj=function(g,b){var c=ASN1HEX.getByteLengthOfL_AtObj(g,b);if(c<1){return""}return g.substring(b+2,b+2+c*2)};ASN1HEX.getIntOfL_AtObj=function(b,c){var k=ASN1HEX.getHexOfL_AtObj(b,c);if(k==""){return -1}var d;if(parseInt(k.substring(0,1))<8){d=new BigInteger(k,16)}else{d=new BigInteger(k.substring(2),16)}return d.intValue()};ASN1HEX.getStartPosOfV_AtObj=function(g,b){var c=ASN1HEX.getByteLengthOfL_AtObj(g,b);if(c<0){return c}return b+(c+1)*2};ASN1HEX.getHexOfV_AtObj=function(b,c){var k=ASN1HEX.getStartPosOfV_AtObj(b,c);var d=ASN1HEX.getIntOfL_AtObj(b,c);return b.substring(k,k+d*2)};ASN1HEX.getHexOfTLV_AtObj=function(b,d){var m=b.substr(d,2);var c=ASN1HEX.getHexOfL_AtObj(b,d);var e=ASN1HEX.getHexOfV_AtObj(b,d);return m+c+e};ASN1HEX.getPosOfNextSibling_AtObj=function(b,c){var k=ASN1HEX.getStartPosOfV_AtObj(b,c);var d=ASN1HEX.getIntOfL_AtObj(b,c);return k+d*2};ASN1HEX.getPosArrayOfChildren_AtObj=function(j,c){var e=new Array();var b=ASN1HEX.getStartPosOfV_AtObj(j,c);if(j.substr(c,2)=="03"){e.push(b+2)}else{e.push(b)}var d=ASN1HEX.getIntOfL_AtObj(j,c);var s=b;var f=0;while(1){var g=ASN1HEX.getPosOfNextSibling_AtObj(j,s);if(g==null||(g-b>=(d*2))){break}if(f>=200){break}e.push(g);s=g;f++}return e};ASN1HEX.getNthChildIndex_AtObj=function(c,e,d){var b=ASN1HEX.getPosArrayOfChildren_AtObj(c,e);return b[d]};ASN1HEX.getDecendantIndexByNthList=function(d,c,b){if(b.length==0){return c}var e=b.shift();var f=ASN1HEX.getPosArrayOfChildren_AtObj(d,c);return ASN1HEX.getDecendantIndexByNthList(d,f[e],b)};ASN1HEX.getDecendantHexTLVByNthList=function(c,b,k){var d=ASN1HEX.getDecendantIndexByNthList(c,b,k);return ASN1HEX.getHexOfTLV_AtObj(c,d)};ASN1HEX.getDecendantHexVByNthList=function(c,b,k){var d=ASN1HEX.getDecendantIndexByNthList(c,b,k);return ASN1HEX.getHexOfV_AtObj(c,d)};ASN1HEX.getVbyList=function(c,b,m,d){var e=ASN1HEX.getDecendantIndexByNthList(c,b,m);if(e===undefined){throw"can't find nthList object"}if(d!==undefined){if(c.substr(e,2)!=d){throw"checking tag doesn't match: "+c.substr(e,2)+"!="+d}}return ASN1HEX.getHexOfV_AtObj(c,e)};ASN1HEX.hextooidstr=function(l){var o=function(c,b){if(c.length>=b){return c}return new Array(b-c.length+1).join("0")+c};var e=[];var k=l.substr(0,2);var m=parseInt(k,16);e[0]=new String(Math.floor(m/40));e[1]=new String(m%40);var f=l.substr(2);var d=[];for(var n=0;n<f.length/2;n++){d.push(parseInt(f.substr(n*2,2),16))}var A=[];var j="";for(var n=0;n<d.length;n++){if(d[n]&128){j=j+o((d[n]&127).toString(2),7)}else{j=j+o((d[n]&127).toString(2),7);A.push(new String(parseInt(j,2)));j=""}}var g=e.join(".");if(A.length>0){g=g+"."+A.join(".")}return g};ASN1HEX.dump=function(S,d,o,k){var f=S;if(S instanceof Ext.asn1.ASN1Object){f=S.getEncodedHex()}var Q=function(s,v){if(s.length<=v*2){return s}else{var x=s.substr(0,v)+"..(total "+s.length/2+"bytes).."+s.substr(s.length-v,v);return x}};if(d===undefined){d={ommit_long_octet:32}}if(o===undefined){o=0}if(k===undefined){k=""}var m=d.ommit_long_octet;if(f.substr(o,2)=="01"){var l=ASN1HEX.getHexOfV_AtObj(f,o);if(l=="00"){return k+"BOOLEAN FALSE\n"}else{return k+"BOOLEAN TRUE\n"}}if(f.substr(o,2)=="02"){var l=ASN1HEX.getHexOfV_AtObj(f,o);return k+"INTEGER "+Q(l,m)+"\n"}if(f.substr(o,2)=="03"){var l=ASN1HEX.getHexOfV_AtObj(f,o);return k+"BITSTRING "+Q(l,m)+"\n"}if(f.substr(o,2)=="04"){var l=ASN1HEX.getHexOfV_AtObj(f,o);if(ASN1HEX.isASN1HEX(l)){var n=k+"OCTETSTRING, encapsulates\n";n=n+ASN1HEX.dump(l,d,0,k+"  ");return n}else{return k+"OCTETSTRING "+Q(l,m)+"\n"}}if(f.substr(o,2)=="05"){return k+"NULL\n"}if(f.substr(o,2)=="06"){var q=ASN1HEX.getHexOfV_AtObj(f,o);var b=Ext.asn1.ASN1Util.oidHexToInt(q);var w=Ext.asn1.x509.OID.oid2name(b);var c=b.replace(/\./g," ");if(w!=""){return k+"ObjectIdentifier "+w+" ("+c+")\n"}else{return k+"ObjectIdentifier ("+c+")\n"}}if(f.substr(o,2)=="0c"){return k+"UTF8String '"+hextoutf8(ASN1HEX.getHexOfV_AtObj(f,o))+"'\n"}if(f.substr(o,2)=="13"){return k+"PrintableString '"+hextoutf8(ASN1HEX.getHexOfV_AtObj(f,o))+"'\n"}if(f.substr(o,2)=="14"){return k+"TeletexString '"+hextoutf8(ASN1HEX.getHexOfV_AtObj(f,o))+"'\n"}if(f.substr(o,2)=="16"){return k+"IA5String '"+hextoutf8(ASN1HEX.getHexOfV_AtObj(f,o))+"'\n"}if(f.substr(o,2)=="17"){return k+"UTCTime "+hextoutf8(ASN1HEX.getHexOfV_AtObj(f,o))+"\n"}if(f.substr(o,2)=="18"){return k+"GeneralizedTime "+hextoutf8(ASN1HEX.getHexOfV_AtObj(f,o))+"\n"}if(f.substr(o,2)=="30"){if(f.substr(o,4)=="3000"){return k+"SEQUENCE {}\n"}var n=k+"SEQUENCE\n";var e=ASN1HEX.getPosArrayOfChildren_AtObj(f,o);var g=d;if((e.length==2||e.length==3)&&f.substr(e[0],2)=="06"&&f.substr(e[e.length-1],2)=="04"){var p=ASN1HEX.getHexOfV_AtObj(f,e[0]);var b=Ext.asn1.ASN1Util.oidHexToInt(p);var w=Ext.asn1.x509.OID.oid2name(b);var R=JSON.parse(JSON.stringify(d));R.x509ExtName=w;g=R}for(var j=0;j<e.length;j++){n=n+ASN1HEX.dump(f,g,e[j],k+"  ")}return n}if(f.substr(o,2)=="31"){var n=k+"SET\n";var e=ASN1HEX.getPosArrayOfChildren_AtObj(f,o);for(var j=0;j<e.length;j++){n=n+ASN1HEX.dump(f,d,e[j],k+"  ")}return n}var u=parseInt(f.substr(o,2),16);if((u&128)!=0){var r=u&31;if((u&32)!=0){var n=k+"["+r+"]\n";var e=ASN1HEX.getPosArrayOfChildren_AtObj(f,o);for(var j=0;j<e.length;j++){n=n+ASN1HEX.dump(f,d,e[j],k+"  ")}return n}else{var l=ASN1HEX.getHexOfV_AtObj(f,o);if(l.substr(0,8)=="68747470"){l=hextoutf8(l)}if(d.x509ExtName==="subjectAltName"&&r==2){l=hextoutf8(l)}var n=k+"["+r+"] "+l+"\n";return n}}return k+"UNKNOWN("+f.substr(o,2)+") "+ASN1HEX.getHexOfV_AtObj(f,o)+"\n"};ASN1HEX.isASN1HEX=function(c){if(c.length%2==1){return false}var b=ASN1HEX.getIntOfL_AtObj(c,0);var m=c.substr(0,2);var d=ASN1HEX.getHexOfL_AtObj(c,0);var e=c.length-m.length-d.length;if(e==b*2){return true}return false};ASN1HEX.pemToHex=function(k,c){if(k.indexOf("-----BEGIN ")==-1){throw"can't find PEM header: "+c}if(c!==undefined){k=k.replace("-----BEGIN "+c+"-----","");k=k.replace("-----END "+c+"-----","")}else{k=k.replace(/-----BEGIN [^-]+-----/,"");k=k.replace(/-----END [^-]+-----/,"")}var b=k.replace(/\s+/g,"");var d=b64tohex(b);return d};if(typeof Ext=="undefined"||!Ext){Ext={}}if(typeof Ext.asn1=="undefined"||!Ext.asn1){Ext.asn1={}}if(typeof Ext.asn1.x509=="undefined"||!Ext.asn1.x509){Ext.asn1.x509={}}Ext.asn1.x509.Certificate=function(c){Ext.asn1.x509.Certificate.superclass.constructor.call(this);var e=null;var g=null;var b=null;var f=null;var d=null;var q=null;this.setRsaPrvKeyByPEMandPass=function(l,j){var k=PKCS5PKEY.getDecryptedKeyHex(l,j);var m=new RSAKey();m.readPrivateKeyFromASN1HexString(k);this.prvKey=m};this.sign=function(){this.asn1SignatureAlg=this.asn1TBSCert.asn1SignatureAlg;sig=new Ext.crypto.Signature({alg:"SHA1withRSA"});sig.init(this.prvKey);sig.updateHex(this.asn1TBSCert.getEncodedHex());this.hexSig=sig.sign();this.asn1Sig=new Ext.asn1.DERBitString({hex:"00"+this.hexSig});var j=new Ext.asn1.DERSequence({array:[this.asn1TBSCert,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=j.getEncodedHex();this.isModified=false};this.setSignatureHex=function(k){this.asn1SignatureAlg=this.asn1TBSCert.asn1SignatureAlg;this.hexSig=k;this.asn1Sig=new Ext.asn1.DERBitString({hex:"00"+this.hexSig});var j=new Ext.asn1.DERSequence({array:[this.asn1TBSCert,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=j.getEncodedHex();this.isModified=false};this.getEncodedHex=function(){if(this.isModified==false&&this.hTLV!=null){return this.hTLV}throw"not signed yet"};this.getPEMString=function(){var m=this.getEncodedHex();var k=CryptoJS.enc.Hex.parse(m);var l=CryptoJS.enc.Base64.stringify(k);var j=l.replace(/(.{64})/g,"$1\r\n");return"-----BEGIN CERTIFICATE-----\r\n"+j+"\r\n-----END CERTIFICATE-----\r\n"};if(typeof c!="undefined"){if(typeof c.tbscertobj!="undefined"){this.asn1TBSCert=c.tbscertobj}if(typeof c.prvkeyobj!="undefined"){this.prvKey=c.prvkeyobj}else{if(typeof c.rsaprvkey!="undefined"){this.prvKey=c.rsaprvkey}else{if((typeof c.rsaprvpem!="undefined")&&(typeof c.rsaprvpas!="undefined")){this.setRsaPrvKeyByPEMandPass(c.rsaprvpem,c.rsaprvpas)}}}}};YAHOO.lang.extend(Ext.asn1.x509.Certificate,Ext.asn1.ASN1Object);Ext.asn1.x509.TBSCertificate=function(c){Ext.asn1.x509.TBSCertificate.superclass.constructor.call(this);this._initialize=function(){this.asn1Array=new Array();this.asn1Version=new Ext.asn1.DERTaggedObject({obj:new Ext.asn1.DERInteger({"int":2})});this.asn1SerialNumber=null;this.asn1SignatureAlg=null;this.asn1Issuer=null;this.asn1NotBefore=null;this.asn1NotAfter=null;this.asn1Subject=null;this.asn1SubjPKey=null;this.extensionsArray=new Array()};this.setSerialNumberByParam=function(b){this.asn1SerialNumber=new Ext.asn1.DERInteger(b)};this.setSignatureAlgByParam=function(b){this.asn1SignatureAlg=new Ext.asn1.x509.AlgorithmIdentifier(b)};this.setIssuerByParam=function(b){this.asn1Issuer=new Ext.asn1.x509.X500Name(b)};this.setNotBeforeByParam=function(b){this.asn1NotBefore=new Ext.asn1.x509.Time(b)};this.setNotAfterByParam=function(b){this.asn1NotAfter=new Ext.asn1.x509.Time(b)};this.setSubjectByParam=function(b){this.asn1Subject=new Ext.asn1.x509.X500Name(b)};this.setSubjectPublicKeyByParam=function(b){this.asn1SubjPKey=new Ext.asn1.x509.SubjectPublicKeyInfo(b)};this.setSubjectPublicKeyByGetKey=function(b){var f=KEYUTIL.getKey(b);this.asn1SubjPKey=new Ext.asn1.x509.SubjectPublicKeyInfo(f)};this.appendExtension=function(b){this.extensionsArray.push(b)};this.appendExtensionByName=function(b,f){Ext.asn1.x509.Extension.appendByNameToArray(b,f,this.extensionsArray)};this.getEncodedHex=function(){if(this.asn1NotBefore==null||this.asn1NotAfter==null){throw"notBefore and/or notAfter not set"}var b=new Ext.asn1.DERSequence({array:[this.asn1NotBefore,this.asn1NotAfter]});this.asn1Array=new Array();this.asn1Array.push(this.asn1Version);this.asn1Array.push(this.asn1SerialNumber);this.asn1Array.push(this.asn1SignatureAlg);this.asn1Array.push(this.asn1Issuer);this.asn1Array.push(b);this.asn1Array.push(this.asn1Subject);this.asn1Array.push(this.asn1SubjPKey);if(this.extensionsArray.length>0){var d=new Ext.asn1.DERSequence({array:this.extensionsArray});var l=new Ext.asn1.DERTaggedObject({explicit:true,tag:"a3",obj:d});this.asn1Array.push(l)}var e=new Ext.asn1.DERSequence({array:this.asn1Array});this.hTLV=e.getEncodedHex();this.isModified=false;return this.hTLV};this._initialize()};YAHOO.lang.extend(Ext.asn1.x509.TBSCertificate,Ext.asn1.ASN1Object);Ext.asn1.x509.Extension=function(e){Ext.asn1.x509.Extension.superclass.constructor.call(this);var b=null;this.getEncodedHex=function(){var c=new Ext.asn1.DERObjectIdentifier({oid:this.oid});var l=new Ext.asn1.DEROctetString({hex:this.getExtnValueHex()});var f=new Array();f.push(c);if(this.critical){f.push(new Ext.asn1.DERBoolean())}f.push(l);var d=new Ext.asn1.DERSequence({array:f});return d.getEncodedHex()};this.critical=false;if(typeof e!="undefined"){if(typeof e.critical!="undefined"){this.critical=e.critical}}};YAHOO.lang.extend(Ext.asn1.x509.Extension,Ext.asn1.ASN1Object);Ext.asn1.x509.Extension.appendByNameToArray=function(d,b,e){if(d.toLowerCase()=="basicconstraints"){var c=new Ext.asn1.x509.BasicConstraints(b);e.push(c)}else{if(d.toLowerCase()=="keyusage"){var c=new Ext.asn1.x509.KeyUsage(b);e.push(c)}else{if(d.toLowerCase()=="crldistributionpoints"){var c=new Ext.asn1.x509.CRLDistributionPoints(b);e.push(c)}else{if(d.toLowerCase()=="extkeyusage"){var c=new Ext.asn1.x509.ExtKeyUsage(b);e.push(c)}else{if(d.toLowerCase()=="authoritykeyidentifier"){var c=new Ext.asn1.x509.AuthorityKeyIdentifier(b);e.push(c)}else{if(d.toLowerCase()=="authorityinfoaccess"){var c=new Ext.asn1.x509.AuthorityInfoAccess(b);e.push(c)}else{if(d.toLowerCase()=="subjectaltname"){var c=new Ext.asn1.x509.SubjectAltName(b);e.push(c)}else{if(d.toLowerCase()=="issueraltname"){var c=new Ext.asn1.x509.IssuerAltName(b);e.push(c)}else{throw"unsupported extension name: "+d}}}}}}}}};Ext.asn1.x509.KeyUsage=function(c){Ext.asn1.x509.KeyUsage.superclass.constructor.call(this,c);this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()};this.oid="2.5.29.15";if(typeof c!="undefined"){if(typeof c.bin!="undefined"){this.asn1ExtnValue=new Ext.asn1.DERBitString(c)}}};YAHOO.lang.extend(Ext.asn1.x509.KeyUsage,Ext.asn1.x509.Extension);Ext.asn1.x509.BasicConstraints=function(b){Ext.asn1.x509.BasicConstraints.superclass.constructor.call(this,b);var c=false;var g=-1;this.getExtnValueHex=function(){var d=new Array();if(this.cA){d.push(new Ext.asn1.DERBoolean())}if(this.pathLen>-1){d.push(new Ext.asn1.DERInteger({"int":this.pathLen}))}var e=new Ext.asn1.DERSequence({array:d});this.asn1ExtnValue=e;return this.asn1ExtnValue.getEncodedHex()};this.oid="2.5.29.19";this.cA=false;this.pathLen=-1;if(typeof b!="undefined"){if(typeof b.cA!="undefined"){this.cA=b.cA}if(typeof b.pathLen!="undefined"){this.pathLen=b.pathLen}}};YAHOO.lang.extend(Ext.asn1.x509.BasicConstraints,Ext.asn1.x509.Extension);Ext.asn1.x509.CRLDistributionPoints=function(c){Ext.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,c);this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()};this.setByDPArray=function(b){this.asn1ExtnValue=new Ext.asn1.DERSequence({array:b})};this.setByOneURI=function(e){var l=new Ext.asn1.x509.GeneralNames([{uri:e}]);var d=new Ext.asn1.x509.DistributionPointName(l);var b=new Ext.asn1.x509.DistributionPoint({dpobj:d});this.setByDPArray([b])};this.oid="2.5.29.31";if(typeof c!="undefined"){if(typeof c.array!="undefined"){this.setByDPArray(c.array)}else{if(typeof c.uri!="undefined"){this.setByOneURI(c.uri)}}}};YAHOO.lang.extend(Ext.asn1.x509.CRLDistributionPoints,Ext.asn1.x509.Extension);Ext.asn1.x509.ExtKeyUsage=function(c){Ext.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,c);this.setPurposeArray=function(j){this.asn1ExtnValue=new Ext.asn1.DERSequence();for(var b=0;b<j.length;b++){var d=new Ext.asn1.DERObjectIdentifier(j[b]);this.asn1ExtnValue.appendASN1Object(d)}};this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()};this.oid="2.5.29.37";if(typeof c!="undefined"){if(typeof c.array!="undefined"){this.setPurposeArray(c.array)}}};YAHOO.lang.extend(Ext.asn1.x509.ExtKeyUsage,Ext.asn1.x509.Extension);Ext.asn1.x509.AuthorityKeyIdentifier=function(c){Ext.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,c);this.asn1KID=null;this.asn1CertIssuer=null;this.asn1CertSN=null;this.getExtnValueHex=function(){var b=new Array();if(this.asn1KID){b.push(new Ext.asn1.DERTaggedObject({explicit:false,tag:"80",obj:this.asn1KID}))}if(this.asn1CertIssuer){b.push(new Ext.asn1.DERTaggedObject({explicit:false,tag:"a1",obj:this.asn1CertIssuer}))}if(this.asn1CertSN){b.push(new Ext.asn1.DERTaggedObject({explicit:false,tag:"82",obj:this.asn1CertSN}))}var f=new Ext.asn1.DERSequence({array:b});this.asn1ExtnValue=f;return this.asn1ExtnValue.getEncodedHex()};this.setKIDByParam=function(b){this.asn1KID=new Ext.asn1.DEROctetString(b)};this.setCertIssuerByParam=function(b){this.asn1CertIssuer=new Ext.asn1.x509.X500Name(b)};this.setCertSNByParam=function(b){this.asn1CertSN=new Ext.asn1.DERInteger(b)};this.oid="2.5.29.35";if(typeof c!="undefined"){if(typeof c.kid!="undefined"){this.setKIDByParam(c.kid)}if(typeof c.issuer!="undefined"){this.setCertIssuerByParam(c.issuer)}if(typeof c.sn!="undefined"){this.setCertSNByParam(c.sn)}}};YAHOO.lang.extend(Ext.asn1.x509.AuthorityKeyIdentifier,Ext.asn1.x509.Extension);Ext.asn1.x509.AuthorityInfoAccess=function(c){Ext.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,c);this.setAccessDescriptionArray=function(g){var e=new Array();for(var f=0;f<g.length;f++){var b=new Ext.asn1.DERObjectIdentifier(g[f].accessMethod);var p=new Ext.asn1.x509.GeneralName(g[f].accessLocation);var d=new Ext.asn1.DERSequence({array:[b,p]});e.push(d)}this.asn1ExtnValue=new Ext.asn1.DERSequence({array:e})};this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()};this.oid="1.3.6.1.5.5.7.1.1";if(typeof c!="undefined"){if(typeof c.array!="undefined"){this.setAccessDescriptionArray(c.array)}}};YAHOO.lang.extend(Ext.asn1.x509.AuthorityInfoAccess,Ext.asn1.x509.Extension);Ext.asn1.x509.SubjectAltName=function(c){Ext.asn1.x509.SubjectAltName.superclass.constructor.call(this,c);this.setNameArray=function(b){this.asn1ExtnValue=new Ext.asn1.x509.GeneralNames(b)};this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()};this.oid="2.5.29.17";if(c!==undefined){if(c.array!==undefined){this.setNameArray(c.array)}}};YAHOO.lang.extend(Ext.asn1.x509.SubjectAltName,Ext.asn1.x509.Extension);Ext.asn1.x509.IssuerAltName=function(c){Ext.asn1.x509.IssuerAltName.superclass.constructor.call(this,c);this.setNameArray=function(b){this.asn1ExtnValue=new Ext.asn1.x509.GeneralNames(b)};this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()};this.oid="2.5.29.18";if(c!==undefined){if(c.array!==undefined){this.setNameArray(c.array)}}};YAHOO.lang.extend(Ext.asn1.x509.IssuerAltName,Ext.asn1.x509.Extension);Ext.asn1.x509.CRL=function(d){Ext.asn1.x509.CRL.superclass.constructor.call(this);var e=null;var o=null;var c=null;var f=null;var b=null;this.setRsaPrvKeyByPEMandPass=function(k,g){var j=PKCS5PKEY.getDecryptedKeyHex(k,g);var l=new RSAKey();l.readPrivateKeyFromASN1HexString(j);this.rsaPrvKey=l};this.sign=function(){this.asn1SignatureAlg=this.asn1TBSCertList.asn1SignatureAlg;sig=new Ext.crypto.Signature({alg:"SHA1withRSA",prov:"cryptojs/jsrsa"});sig.initSign(this.rsaPrvKey);sig.updateHex(this.asn1TBSCertList.getEncodedHex());this.hexSig=sig.sign();this.asn1Sig=new Ext.asn1.DERBitString({hex:"00"+this.hexSig});var g=new Ext.asn1.DERSequence({array:[this.asn1TBSCertList,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=g.getEncodedHex();this.isModified=false};this.getEncodedHex=function(){if(this.isModified==false&&this.hTLV!=null){return this.hTLV}throw"not signed yet"};this.getPEMString=function(){var l=this.getEncodedHex();var j=CryptoJS.enc.Hex.parse(l);var k=CryptoJS.enc.Base64.stringify(j);var g=k.replace(/(.{64})/g,"$1\r\n");return"-----BEGIN X509 CRL-----\r\n"+g+"\r\n-----END X509 CRL-----\r\n"};if(typeof d!="undefined"){if(typeof d.tbsobj!="undefined"){this.asn1TBSCertList=d.tbsobj}if(typeof d.rsaprvkey!="undefined"){this.rsaPrvKey=d.rsaprvkey}if((typeof d.rsaprvpem!="undefined")&&(typeof d.rsaprvpas!="undefined")){this.setRsaPrvKeyByPEMandPass(d.rsaprvpem,d.rsaprvpas)}}};YAHOO.lang.extend(Ext.asn1.x509.CRL,Ext.asn1.ASN1Object);Ext.asn1.x509.TBSCertList=function(e){Ext.asn1.x509.TBSCertList.superclass.constructor.call(this);var b=null;this.setSignatureAlgByParam=function(c){this.asn1SignatureAlg=new Ext.asn1.x509.AlgorithmIdentifier(c)};this.setIssuerByParam=function(c){this.asn1Issuer=new Ext.asn1.x509.X500Name(c)};this.setThisUpdateByParam=function(c){this.asn1ThisUpdate=new Ext.asn1.x509.Time(c)};this.setNextUpdateByParam=function(c){this.asn1NextUpdate=new Ext.asn1.x509.Time(c)};this.addRevokedCert=function(d,f){var c={};if(d!=undefined&&d!=null){c.sn=d}if(f!=undefined&&f!=null){c.time=f}var l=new Ext.asn1.x509.CRLEntry(c);this.aRevokedCert.push(l)};this.getEncodedHex=function(){this.asn1Array=new Array();if(this.asn1Version!=null){this.asn1Array.push(this.asn1Version)}this.asn1Array.push(this.asn1SignatureAlg);this.asn1Array.push(this.asn1Issuer);this.asn1Array.push(this.asn1ThisUpdate);if(this.asn1NextUpdate!=null){this.asn1Array.push(this.asn1NextUpdate)}if(this.aRevokedCert.length>0){var d=new Ext.asn1.DERSequence({array:this.aRevokedCert});this.asn1Array.push(d)}var c=new Ext.asn1.DERSequence({array:this.asn1Array});this.hTLV=c.getEncodedHex();this.isModified=false;return this.hTLV};this._initialize=function(){this.asn1Version=null;this.asn1SignatureAlg=null;this.asn1Issuer=null;this.asn1ThisUpdate=null;this.asn1NextUpdate=null;this.aRevokedCert=new Array()};this._initialize()};YAHOO.lang.extend(Ext.asn1.x509.TBSCertList,Ext.asn1.ASN1Object);Ext.asn1.x509.CRLEntry=function(b){Ext.asn1.x509.CRLEntry.superclass.constructor.call(this);var g=null;var c=null;this.setCertSerial=function(d){this.sn=new Ext.asn1.DERInteger(d)};this.setRevocationDate=function(d){this.time=new Ext.asn1.x509.Time(d)};this.getEncodedHex=function(){var d=new Ext.asn1.DERSequence({array:[this.sn,this.time]});this.TLV=d.getEncodedHex();return this.TLV};if(typeof b!="undefined"){if(typeof b.time!="undefined"){this.setRevocationDate(b.time)}if(typeof b.sn!="undefined"){this.setCertSerial(b.sn)}}};YAHOO.lang.extend(Ext.asn1.x509.CRLEntry,Ext.asn1.ASN1Object);Ext.asn1.x509.X500Name=function(e){Ext.asn1.x509.X500Name.superclass.constructor.call(this);this.asn1Array=new Array();this.setByString=function(d){var j=d.split("/");j.shift();for(var c=0;c<j.length;c++){this.asn1Array.push(new Ext.asn1.x509.RDN({str:j[c]}))}};this.setByLdapString=function(d){var c=Ext.asn1.x509.X500Name.ldapToOneline(d);this.setByString(c)};this.setByObject=function(c){for(var d in c){if(c.hasOwnProperty(d)){var j=new Ext.asn1.x509.RDN({str:d+"="+c[d]});this.asn1Array?this.asn1Array.push(j):this.asn1Array=[j]}}};this.getEncodedHex=function(){if(typeof this.hTLV=="string"){return this.hTLV}var c=new Ext.asn1.DERSequence({array:this.asn1Array});this.hTLV=c.getEncodedHex();return this.hTLV};if(e!==undefined){if(e.str!==undefined){this.setByString(e.str)}else{if(e.ldapstr!==undefined){this.setByLdapString(e.ldapstr)}else{if(typeof e==="object"){this.setByObject(e)}}}if(e.certissuer!==undefined){var b=new X509();b.hex=ASN1HEX.pemToHex(e.certissuer);this.hTLV=b.getIssuerHex()}if(e.certsubject!==undefined){var b=new X509();b.hex=ASN1HEX.pemToHex(e.certsubject);this.hTLV=b.getSubjectHex()}}};YAHOO.lang.extend(Ext.asn1.x509.X500Name,Ext.asn1.ASN1Object);Ext.asn1.x509.X500Name.onelineToLDAP=function(c){if(c.substr(0,1)!=="/"){throw"malformed input"}var d="";c=c.substr(1);var b=c.split("/");b.reverse();b=b.map(function(e){return e.replace(/,/,"\\,")});return b.join(",")};Ext.asn1.x509.X500Name.ldapToOneline=function(s){var e=s.split(",");var g=false;var d=[];for(var j=0;e.length>0;j++){var b=e.shift();if(g===true){var f=d.pop();var c=(f+","+b).replace(/\\,/g,",");d.push(c);g=false}else{d.push(b)}if(b.substr(-1,1)==="\\"){g=true}}d=d.map(function(k){return k.replace("/","\\/")});d.reverse();return"/"+d.join("/")};Ext.asn1.x509.RDN=function(c){Ext.asn1.x509.RDN.superclass.constructor.call(this);this.asn1Array=new Array();this.addByString=function(b){this.asn1Array.push(new Ext.asn1.x509.AttributeTypeAndValue({str:b}))};this.addByMultiValuedString=function(d){var j=Ext.asn1.x509.RDN.parseString(d);for(var b=0;b<j.length;b++){this.addByString(j[b])}};this.getEncodedHex=function(){var b=new Ext.asn1.DERSet({array:this.asn1Array});this.TLV=b.getEncodedHex();return this.TLV};if(typeof c!="undefined"){if(typeof c.str!="undefined"){this.addByMultiValuedString(c.str)}}};YAHOO.lang.extend(Ext.asn1.x509.RDN,Ext.asn1.ASN1Object);Ext.asn1.x509.RDN.parseString=function(f){var c=f.split(/\+/);var b=false;var j=[];for(var A=0;c.length>0;A++){var d=c.shift();if(b===true){var m=j.pop();var k=(m+"+"+d).replace(/\\\+/g,"+");j.push(k);b=false}else{j.push(d)}if(d.substr(-1,1)==="\\"){b=true}}var e=false;var g=[];for(var A=0;j.length>0;A++){var d=j.shift();if(e===true){var l=g.pop();if(d.match(/"$/)){var k=(l+"+"+d).replace(/^([^=]+)="(.*)"$/,"$1=$2");g.push(k);e=false}else{g.push(l+"+"+d)}}else{g.push(d)}if(d.match(/^[^=]+="/)){e=true}}return g};Ext.asn1.x509.AttributeTypeAndValue=function(k){Ext.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this);var c=null;var b=null;var d="utf8";this.setByString=function(e){var f=e.match(/^([^=]+)=(.+)$/);if(f){this.setByAttrTypeAndValueStr(f[1],f[2])}else{throw"malformed attrTypeAndValueStr: "+e}};this.setByAttrTypeAndValueStr=function(e,g){this.typeObj=Ext.asn1.x509.OID.atype2obj(e);var f=d;if(e=="C"){f="prn"}this.valueObj=this.getValueObj(f,g)};this.getValueObj=function(e,f){if(e=="utf8"){return new Ext.asn1.DERUTF8String({str:f})}if(e=="prn"){return new Ext.asn1.DERPrintableString({str:f})}if(e=="tel"){return new Ext.asn1.DERTeletexString({str:f})}if(e=="ia5"){return new Ext.asn1.DERIA5String({str:f})}throw"unsupported directory string type: type="+e+" value="+f};this.getEncodedHex=function(){var e=new Ext.asn1.DERSequence({array:[this.typeObj,this.valueObj]});this.TLV=e.getEncodedHex();return this.TLV};if(typeof k!="undefined"){if(typeof k.str!="undefined"){this.setByString(k.str)}}};YAHOO.lang.extend(Ext.asn1.x509.AttributeTypeAndValue,Ext.asn1.ASN1Object);Ext.asn1.x509.SubjectPublicKeyInfo=function(c){Ext.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var k=null;var b=null;var d=null;this.setRSAKey=function(f){if(!RSAKey.prototype.isPrototypeOf(f)){throw"argument is not RSAKey instance"}this.rsaKey=f;var j=new Ext.asn1.DERInteger({bigint:f.n});var g=new Ext.asn1.DERInteger({"int":f.e});var e=new Ext.asn1.DERSequence({array:[j,g]});var m=e.getEncodedHex();this.asn1AlgId=new Ext.asn1.x509.AlgorithmIdentifier({name:"rsaEncryption"});this.asn1SubjPKey=new Ext.asn1.DERBitString({hex:"00"+m})};this.setRSAPEM=function(y){if(y.match(/-----BEGIN PUBLIC KEY-----/)){var n=y;n=n.replace(/^-----[^-]+-----/,"");n=n.replace(/-----[^-]+-----\s*$/,"");var m=n.replace(/\s+/g,"");var x=CryptoJS.enc.Base64.parse(m);var f=CryptoJS.enc.Hex.stringify(x);var j=RSAKey.getHexValueArrayOfChildrenFromHex(f);var e=j[1];var l=e.substr(2);var w=RSAKey.getHexValueArrayOfChildrenFromHex(l);var g=new RSAKey();g.setPublic(w[0],w[1]);this.setRSAKey(g)}else{throw"key not supported"}};this.getASN1Object=function(){if(this.asn1AlgId==null||this.asn1SubjPKey==null){throw"algId and/or subjPubKey not set"}var e=new Ext.asn1.DERSequence({array:[this.asn1AlgId,this.asn1SubjPKey]});return e};this.getEncodedHex=function(){var e=this.getASN1Object();this.hTLV=e.getEncodedHex();return this.hTLV};this._setRSAKey=function(f){var e=Ext.asn1.ASN1Util.newObject({seq:[{"int":{bigint:f.n}},{"int":{"int":f.e}}]});var g=e.getEncodedHex();this.asn1AlgId=new Ext.asn1.x509.AlgorithmIdentifier({name:"rsaEncryption"});this.asn1SubjPKey=new Ext.asn1.DERBitString({hex:"00"+g})};this._setEC=function(f){var e=new Ext.asn1.DERObjectIdentifier({name:f.curveName});this.asn1AlgId=new Ext.asn1.x509.AlgorithmIdentifier({name:"ecPublicKey",asn1params:e});this.asn1SubjPKey=new Ext.asn1.DERBitString({hex:"00"+f.pubKeyHex})};this._setDSA=function(f){var g=new Ext.asn1.ASN1Util.newObject({seq:[{"int":{bigint:f.p}},{"int":{bigint:f.q}},{"int":{bigint:f.g}}]});this.asn1AlgId=new Ext.asn1.x509.AlgorithmIdentifier({name:"dsa",asn1params:g});var e=new Ext.asn1.DERInteger({bigint:f.y});this.asn1SubjPKey=new Ext.asn1.DERBitString({hex:"00"+e.getEncodedHex()})};if(typeof c!="undefined"){if(typeof RSAKey!="undefined"&&c instanceof RSAKey){this._setRSAKey(c)}else{if(typeof Ext.crypto.ECDSA!="undefined"&&c instanceof Ext.crypto.ECDSA){this._setEC(c)}else{if(typeof Ext.crypto.DSA!="undefined"&&c instanceof Ext.crypto.DSA){this._setDSA(c)}else{if(typeof c.rsakey!="undefined"){this.setRSAKey(c.rsakey)}else{if(typeof c.rsapem!="undefined"){this.setRSAPEM(c.rsapem)}}}}}}};YAHOO.lang.extend(Ext.asn1.x509.SubjectPublicKeyInfo,Ext.asn1.ASN1Object);Ext.asn1.x509.Time=function(b){Ext.asn1.x509.Time.superclass.constructor.call(this);var g=null;var c=null;this.setTimeParams=function(d){this.timeParams=d};this.getEncodedHex=function(){var d=null;if(this.timeParams!=null){if(this.type=="utc"){d=new Ext.asn1.DERUTCTime(this.timeParams)}else{d=new Ext.asn1.DERGeneralizedTime(this.timeParams)}}else{if(this.type=="utc"){d=new Ext.asn1.DERUTCTime()}else{d=new Ext.asn1.DERGeneralizedTime()}}this.TLV=d.getEncodedHex();return this.TLV};this.type="utc";if(typeof b!="undefined"){if(typeof b.type!="undefined"){this.type=b.type}else{if(typeof b.str!="undefined"){if(b.str.match(/^[0-9]{12}Z$/)){this.type="utc"}if(b.str.match(/^[0-9]{14}Z$/)){this.type="gen"}}}this.timeParams=b}};YAHOO.lang.extend(Ext.asn1.x509.Time,Ext.asn1.ASN1Object);Ext.asn1.x509.AlgorithmIdentifier=function(d){Ext.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this);var e=null;var c=null;var m=null;var b=false;this.getEncodedHex=function(){if(this.nameAlg==null&&this.asn1Alg==null){throw"algorithm not specified"}if(this.nameAlg!=null&&this.asn1Alg==null){this.asn1Alg=Ext.asn1.x509.OID.name2obj(this.nameAlg)}var g=[this.asn1Alg];if(!this.paramEmpty){g.push(this.asn1Params)}var f=new Ext.asn1.DERSequence({array:g});this.hTLV=f.getEncodedHex();return this.hTLV};if(typeof d!="undefined"){if(typeof d.name!="undefined"){this.nameAlg=d.name}if(typeof d.asn1params!="undefined"){this.asn1Params=d.asn1params}if(typeof d.paramempty!="undefined"){this.paramEmpty=d.paramempty}}if(this.asn1Params==null){this.asn1Params=new Ext.asn1.DERNull()}};YAHOO.lang.extend(Ext.asn1.x509.AlgorithmIdentifier,Ext.asn1.ASN1Object);Ext.asn1.x509.GeneralName=function(c){Ext.asn1.x509.GeneralName.superclass.constructor.call(this);var b=null;var k=null;var d={rfc822:"81",dns:"82",dn:"a4",uri:"86"};this.explicit=false;this.setByParam=function(f){var r=null;var e=null;if(f===undefined){return}if(f.rfc822!==undefined){this.type="rfc822";e=new Ext.asn1.DERIA5String({str:f[this.type]})}if(f.dns!==undefined){this.type="dns";e=new Ext.asn1.DERIA5String({str:f[this.type]})}if(f.uri!==undefined){this.type="uri";e=new Ext.asn1.DERIA5String({str:f[this.type]})}if(f.dn!==undefined){this.type="dn";e=new Ext.asn1.x509.X500Name({str:f.dn})}if(f.ldapdn!==undefined){this.type="dn";e=new Ext.asn1.x509.X500Name({ldapstr:f.ldapdn})}if(f.certissuer!==undefined){this.type="dn";this.explicit=true;var g=f.certissuer;var q=null;if(g.match(/^[0-9A-Fa-f]+$/)){q==g}if(g.indexOf("-----BEGIN ")!=-1){q=ASN1HEX.pemToHex(g)}if(q==null){throw"certissuer param not cert"}var p=new X509();p.hex=q;var j=p.getIssuerHex();e=new Ext.asn1.ASN1Object();e.hTLV=j}if(f.certsubj!==undefined){this.type="dn";this.explicit=true;var g=f.certsubj;var q=null;if(g.match(/^[0-9A-Fa-f]+$/)){q==g}if(g.indexOf("-----BEGIN ")!=-1){q=ASN1HEX.pemToHex(g)}if(q==null){throw"certsubj param not cert"}var p=new X509();p.hex=q;var j=p.getSubjectHex();e=new Ext.asn1.ASN1Object();e.hTLV=j}if(this.type==null){throw"unsupported type in params="+f}this.asn1Obj=new Ext.asn1.DERTaggedObject({explicit:this.explicit,tag:d[this.type],obj:e})};this.getEncodedHex=function(){return this.asn1Obj.getEncodedHex()};if(c!==undefined){this.setByParam(c)}};YAHOO.lang.extend(Ext.asn1.x509.GeneralName,Ext.asn1.ASN1Object);Ext.asn1.x509.GeneralNames=function(e){Ext.asn1.x509.GeneralNames.superclass.constructor.call(this);var b=null;this.setByParamArray=function(c){for(var d=0;d<c.length;d++){var j=new Ext.asn1.x509.GeneralName(c[d]);this.asn1Array.push(j)}};this.getEncodedHex=function(){var c=new Ext.asn1.DERSequence({array:this.asn1Array});return c.getEncodedHex()};this.asn1Array=new Array();if(typeof e!="undefined"){this.setByParamArray(e)}};YAHOO.lang.extend(Ext.asn1.x509.GeneralNames,Ext.asn1.ASN1Object);Ext.asn1.x509.DistributionPointName=function(m){Ext.asn1.x509.DistributionPointName.superclass.constructor.call(this);var d=null;var b=null;var e=null;var c=null;this.getEncodedHex=function(){if(this.type!="full"){throw"currently type shall be 'full': "+this.type}this.asn1Obj=new Ext.asn1.DERTaggedObject({explicit:false,tag:this.tag,obj:this.asn1V});this.hTLV=this.asn1Obj.getEncodedHex();return this.hTLV};if(typeof m!="undefined"){if(Ext.asn1.x509.GeneralNames.prototype.isPrototypeOf(m)){this.type="full";this.tag="a0";this.asn1V=m}else{throw"This class supports GeneralNames only as argument"}}};YAHOO.lang.extend(Ext.asn1.x509.DistributionPointName,Ext.asn1.ASN1Object);Ext.asn1.x509.DistributionPoint=function(e){Ext.asn1.x509.DistributionPoint.superclass.constructor.call(this);var b=null;this.getEncodedHex=function(){var d=new Ext.asn1.DERSequence();if(this.asn1DP!=null){var c=new Ext.asn1.DERTaggedObject({explicit:true,tag:"a0",obj:this.asn1DP});d.appendASN1Object(c)}this.hTLV=d.getEncodedHex();return this.hTLV};if(typeof e!="undefined"){if(typeof e.dpobj!="undefined"){this.asn1DP=e.dpobj}}};YAHOO.lang.extend(Ext.asn1.x509.DistributionPoint,Ext.asn1.ASN1Object);Ext.asn1.x509.OID=new function(c){this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"};this.name2oidList={sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",countryName:"2.5.4.6",streetAddress:"2.5.4.9",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",ecPublicKey:"1.2.840.10045.2.1",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",extensionRequest:"1.2.840.113549.1.9.14"};this.objCache={};this.name2obj=function(j){if(typeof this.objCache[j]!="undefined"){return this.objCache[j]}if(typeof this.name2oidList[j]=="undefined"){throw"Name of ObjectIdentifier not defined: "+j}var b=this.name2oidList[j];var d=new Ext.asn1.DERObjectIdentifier({oid:b});this.objCache[j]=d;return d};this.atype2obj=function(j){if(typeof this.objCache[j]!="undefined"){return this.objCache[j]}if(typeof this.atype2oidList[j]=="undefined"){throw"AttributeType name undefined: "+j}var b=this.atype2oidList[j];var d=new Ext.asn1.DERObjectIdentifier({oid:b});this.objCache[j]=d;return d}}();Ext.asn1.x509.OID.oid2name=function(g){var b=Ext.asn1.x509.OID.name2oidList;for(var c in b){if(b[c]==g){return c}}return""};Ext.asn1.x509.OID.oid2atype=function(g){var b=Ext.asn1.x509.OID.atype2oidList;for(var c in b){if(b[c]==g){return c}}return g};Ext.asn1.x509.OID.name2oid=function(b){var e=Ext.asn1.x509.OID.name2oidList;if(e[b]===undefined){return""}return e[b]};Ext.asn1.x509.X509Util=new function(){this.getPKCS8PubKeyPEMfromRSAKey=function(d){var c=null;var C=Ext.asn1.ASN1Util.bigIntToMinTwosComplementsHex(d.n);var e=Ext.asn1.ASN1Util.integerToByteHex(d.e);var j=new Ext.asn1.DERInteger({hex:C});var b=new Ext.asn1.DERInteger({hex:e});var g=new Ext.asn1.DERSequence({array:[j,b]});var l=g.getEncodedHex();var A=new Ext.asn1.x509.AlgorithmIdentifier({name:"rsaEncryption"});var k=new Ext.asn1.DERBitString({hex:"00"+l});var f=new Ext.asn1.DERSequence({array:[A,k]});var B=f.getEncodedHex();var c=Ext.asn1.ASN1Util.getPEMStringFromHex(B,"PUBLIC KEY");return c}}();Ext.asn1.x509.X509Util.newCertPEM=function(d){var o=Ext.asn1.x509;var c=new o.TBSCertificate();if(d.serial!==undefined){c.setSerialNumberByParam(d.serial)}else{throw"serial number undefined."}if(typeof d.sigalg.name=="string"){c.setSignatureAlgByParam(d.sigalg)}else{throw"unproper signature algorithm name"}if(d.issuer!==undefined){c.setIssuerByParam(d.issuer)}else{throw"issuer name undefined."}if(d.notbefore!==undefined){c.setNotBeforeByParam(d.notbefore)}else{throw"notbefore undefined."}if(d.notafter!==undefined){c.setNotAfterByParam(d.notafter)}else{throw"notafter undefined."}if(d.subject!==undefined){c.setSubjectByParam(d.subject)}else{throw"subject name undefined."}if(d.sbjpubkey!==undefined){c.setSubjectPublicKeyByGetKey(d.sbjpubkey)}else{throw"subject public key undefined."}if(d.ext!==undefined&&d.ext.length!==undefined){for(var f=0;f<d.ext.length;f++){for(key in d.ext[f]){c.appendExtensionByName(key,d.ext[f][key])}}}if(d.cakey===undefined&&d.sighex===undefined){throw"param cakey and sighex undefined."}var b=null;var e=null;if(d.cakey){b=KEYUTIL.getKey.apply(null,d.cakey);e=new o.Certificate({tbscertobj:c,prvkeyobj:b});e.sign()}if(d.sighex){e=new o.Certificate({tbscertobj:c});e.setSignatureHex(d.sighex)}return e.getPEMString()};if(typeof Ext=="undefined"||!Ext){Ext={}}if(typeof Ext.asn1=="undefined"||!Ext.asn1){Ext.asn1={}}if(typeof Ext.asn1.cms=="undefined"||!Ext.asn1.cms){Ext.asn1.cms={}}Ext.asn1.cms.Attribute=function(e){Ext.asn1.cms.Attribute.superclass.constructor.call(this);var b=[];this.getEncodedHex=function(){var c,l,d;c=new Ext.asn1.DERObjectIdentifier({oid:this.attrTypeOid});l=new Ext.asn1.DERSet({array:this.valueList});try{l.getEncodedHex()}catch(f){throw"fail valueSet.getEncodedHex in Attribute(1)/"+f}d=new Ext.asn1.DERSequence({array:[c,l]});try{this.hTLV=d.getEncodedHex()}catch(f){throw"failed seq.getEncodedHex in Attribute(2)/"+f}return this.hTLV}};YAHOO.lang.extend(Ext.asn1.cms.Attribute,Ext.asn1.ASN1Object);Ext.asn1.cms.ContentType=function(e){Ext.asn1.cms.ContentType.superclass.constructor.call(this);this.attrTypeOid="1.2.840.113549.1.9.3";var b=null;if(typeof e!="undefined"){var b=new Ext.asn1.DERObjectIdentifier(e);this.valueList=[b]}};YAHOO.lang.extend(Ext.asn1.cms.ContentType,Ext.asn1.cms.Attribute);Ext.asn1.cms.MessageDigest=function(d){Ext.asn1.cms.MessageDigest.superclass.constructor.call(this);this.attrTypeOid="1.2.840.113549.1.9.4";if(typeof d!="undefined"){if(d.eciObj instanceof Ext.asn1.cms.EncapsulatedContentInfo&&typeof d.hashAlg=="string"){var m=d.eciObj.eContentValueHex;var e=d.hashAlg;var b=Ext.crypto.Util.hashHex(m,e);var c=new Ext.asn1.DEROctetString({hex:b});c.getEncodedHex();this.valueList=[c]}else{var c=new Ext.asn1.DEROctetString(d);c.getEncodedHex();this.valueList=[c]}}};YAHOO.lang.extend(Ext.asn1.cms.MessageDigest,Ext.asn1.cms.Attribute);Ext.asn1.cms.SigningTime=function(b){Ext.asn1.cms.SigningTime.superclass.constructor.call(this);this.attrTypeOid="1.2.840.113549.1.9.5";if(typeof b!="undefined"){var c=new Ext.asn1.x509.Time(b);try{c.getEncodedHex()}catch(g){throw"SigningTime.getEncodedHex() failed/"+g}this.valueList=[c]}};YAHOO.lang.extend(Ext.asn1.cms.SigningTime,Ext.asn1.cms.Attribute);Ext.asn1.cms.SigningCertificate=function(c){Ext.asn1.cms.SigningCertificate.superclass.constructor.call(this);this.attrTypeOid="1.2.840.113549.1.9.16.2.12";var d=Ext.asn1;var b=Ext.asn1.cms;var k=Ext.crypto;this.setCerts=function(l){var g=[];for(var f=0;f<l.length;f++){var w=ASN1HEX.pemToHex(l[f]);var v=k.Util.hashHex(w,"sha1");var m=new d.DEROctetString({hex:v});m.getEncodedHex();var j=new b.IssuerAndSerialNumber({cert:l[f]});j.getEncodedHex();var n=new d.DERSequence({array:[m,j]});n.getEncodedHex();g.push(n)}var e=new d.DERSequence({array:g});e.getEncodedHex();this.valueList=[e]};if(typeof c!="undefined"){if(typeof c.array=="object"){this.setCerts(c.array)}}};YAHOO.lang.extend(Ext.asn1.cms.SigningCertificate,Ext.asn1.cms.Attribute);Ext.asn1.cms.SigningCertificateV2=function(c){Ext.asn1.cms.SigningCertificateV2.superclass.constructor.call(this);this.attrTypeOid="1.2.840.113549.1.9.16.2.47";var f=Ext.asn1;var d=Ext.asn1.x509;var b=Ext.asn1.cms;var o=Ext.crypto;this.setCerts=function(k,p){var g=[];for(var A=0;A<k.length;A++){var q=ASN1HEX.pemToHex(k[A]);var n=[];if(p!="sha256"){n.push(new d.AlgorithmIdentifier({name:p}))}var m=o.Util.hashHex(q,p);var l=new f.DEROctetString({hex:m});l.getEncodedHex();n.push(l);var B=new b.IssuerAndSerialNumber({cert:k[A]});B.getEncodedHex();n.push(B);var j=new f.DERSequence({array:n});j.getEncodedHex();g.push(j)}var r=new f.DERSequence({array:g});r.getEncodedHex();this.valueList=[r]};if(typeof c!="undefined"){if(typeof c.array=="object"){var e="sha256";if(typeof c.hashAlg=="string"){e=c.hashAlg}this.setCerts(c.array,e)}}};YAHOO.lang.extend(Ext.asn1.cms.SigningCertificateV2,Ext.asn1.cms.Attribute);Ext.asn1.cms.IssuerAndSerialNumber=function(b){Ext.asn1.cms.IssuerAndSerialNumber.superclass.constructor.call(this);var d=null;var m=null;var e=Ext.asn1;var c=e.x509;this.setByCertPEM=function(l){var j=ASN1HEX.pemToHex(l);var g=new X509();g.hex=j;var f=g.getIssuerHex();this.dIssuer=new c.X500Name();this.dIssuer.hTLV=f;var k=g.getSerialNumberHex();this.dSerial=new e.DERInteger({hex:k})};this.getEncodedHex=function(){var f=new Ext.asn1.DERSequence({array:[this.dIssuer,this.dSerial]});this.hTLV=f.getEncodedHex();return this.hTLV};if(typeof b!="undefined"){if(typeof b=="string"&&b.indexOf("-----BEGIN ")!=-1){this.setByCertPEM(b)}if(b.issuer&&b.serial){if(b.issuer instanceof Ext.asn1.x509.X500Name){this.dIssuer=b.issuer}else{this.dIssuer=new Ext.asn1.x509.X500Name(b.issuer)}if(b.serial instanceof Ext.asn1.DERInteger){this.dSerial=b.serial}else{this.dSerial=new Ext.asn1.DERInteger(b.serial)}}if(typeof b.cert=="string"){this.setByCertPEM(b.cert)}}};YAHOO.lang.extend(Ext.asn1.cms.IssuerAndSerialNumber,Ext.asn1.ASN1Object);Ext.asn1.cms.AttributeList=function(c){Ext.asn1.cms.AttributeList.superclass.constructor.call(this);this.list=new Array();this.sortFlag=true;this.add=function(b){if(b instanceof Ext.asn1.cms.Attribute){this.list.push(b)}};this.length=function(){return this.list.length};this.clear=function(){this.list=new Array();this.hTLV=null;this.hV=null};this.getEncodedHex=function(){if(typeof this.hTLV=="string"){return this.hTLV}var b=new Ext.asn1.DERSet({array:this.list,sortflag:this.sortFlag});this.hTLV=b.getEncodedHex();return this.hTLV};if(typeof c!="undefined"){if(typeof c.sortflag!="undefined"&&c.sortflag==false){this.sortFlag=false}}};YAHOO.lang.extend(Ext.asn1.cms.AttributeList,Ext.asn1.ASN1Object);Ext.asn1.cms.SignerInfo=function(b){Ext.asn1.cms.SignerInfo.superclass.constructor.call(this);var d=Ext.asn1;var k=Ext.asn1.cms;var c=Ext.asn1.x509;this.dCMSVersion=new d.DERInteger({"int":1});this.dSignerIdentifier=null;this.dDigestAlgorithm=null;this.dSignedAttrs=new k.AttributeList();this.dSigAlg=null;this.dSig=null;this.dUnsignedAttrs=new k.AttributeList();this.setSignerIdentifier=function(e){if(typeof e=="string"&&e.indexOf("CERTIFICATE")!=-1&&e.indexOf("BEGIN")!=-1&&e.indexOf("END")!=-1){var f=e;this.dSignerIdentifier=new k.IssuerAndSerialNumber({cert:e})}};this.setForContentAndHash=function(e){if(typeof e!="undefined"){if(e.eciObj instanceof Ext.asn1.cms.EncapsulatedContentInfo){this.dSignedAttrs.add(new k.ContentType({oid:"1.2.840.113549.1.7.1"}));this.dSignedAttrs.add(new k.MessageDigest({eciObj:e.eciObj,hashAlg:e.hashAlg}))}if(typeof e.sdObj!="undefined"&&e.sdObj instanceof Ext.asn1.cms.SignedData){if(e.sdObj.digestAlgNameList.join(":").indexOf(e.hashAlg)==-1){e.sdObj.digestAlgNameList.push(e.hashAlg)}}if(typeof e.hashAlg=="string"){this.dDigestAlgorithm=new c.AlgorithmIdentifier({name:e.hashAlg})}}};this.sign=function(f,g){this.dSigAlg=new c.AlgorithmIdentifier({name:g});var j=this.dSignedAttrs.getEncodedHex();var e=KEYUTIL.getKey(f);var o=new Ext.crypto.Signature({alg:g});o.init(e);o.updateHex(j);var n=o.sign();this.dSig=new d.DEROctetString({hex:n})};this.addUnsigned=function(e){this.hTLV=null;this.dUnsignedAttrs.hTLV=null;this.dUnsignedAttrs.add(e)};this.getEncodedHex=function(){if(this.dSignedAttrs instanceof Ext.asn1.cms.AttributeList&&this.dSignedAttrs.length()==0){throw"SignedAttrs length = 0 (empty)"}var f=new d.DERTaggedObject({obj:this.dSignedAttrs,tag:"a0",explicit:false});var e=null;if(this.dUnsignedAttrs.length()>0){e=new d.DERTaggedObject({obj:this.dUnsignedAttrs,tag:"a1",explicit:false})}var j=[this.dCMSVersion,this.dSignerIdentifier,this.dDigestAlgorithm,f,this.dSigAlg,this.dSig];if(e!=null){j.push(e)}var g=new d.DERSequence({array:j});this.hTLV=g.getEncodedHex();return this.hTLV}};YAHOO.lang.extend(Ext.asn1.cms.SignerInfo,Ext.asn1.ASN1Object);Ext.asn1.cms.EncapsulatedContentInfo=function(b){Ext.asn1.cms.EncapsulatedContentInfo.superclass.constructor.call(this);var d=Ext.asn1;var k=Ext.asn1.cms;var c=Ext.asn1.x509;this.dEContentType=new d.DERObjectIdentifier({name:"data"});this.dEContent=null;this.isDetached=false;this.eContentValueHex=null;this.setContentType=function(e){if(e.match(/^[0-2][.][0-9.]+$/)){this.dEContentType=new d.DERObjectIdentifier({oid:e})}else{this.dEContentType=new d.DERObjectIdentifier({name:e})}};this.setContentValue=function(e){if(typeof e!="undefined"){if(typeof e.hex=="string"){this.eContentValueHex=e.hex}else{if(typeof e.str=="string"){this.eContentValueHex=utf8tohex(e.str)}}}};this.setContentValueHex=function(e){this.eContentValueHex=e};this.setContentValueStr=function(e){this.eContentValueHex=utf8tohex(e)};this.getEncodedHex=function(){if(typeof this.eContentValueHex!="string"){throw"eContentValue not yet set"}var e=new d.DEROctetString({hex:this.eContentValueHex});this.dEContent=new d.DERTaggedObject({obj:e,tag:"a0",explicit:true});var f=[this.dEContentType];if(!this.isDetached){f.push(this.dEContent)}var g=new d.DERSequence({array:f});this.hTLV=g.getEncodedHex();return this.hTLV}};YAHOO.lang.extend(Ext.asn1.cms.EncapsulatedContentInfo,Ext.asn1.ASN1Object);Ext.asn1.cms.ContentInfo=function(b){Ext.asn1.cms.ContentInfo.superclass.constructor.call(this);var d=Ext.asn1;var k=Ext.asn1.cms;var c=Ext.asn1.x509;this.dContentType=null;this.dContent=null;this.setContentType=function(e){if(typeof e=="string"){this.dContentType=c.OID.name2obj(e)}};this.getEncodedHex=function(){var e=new d.DERTaggedObject({obj:this.dContent,tag:"a0",explicit:true});var f=new d.DERSequence({array:[this.dContentType,e]});this.hTLV=f.getEncodedHex();return this.hTLV};if(typeof b!="undefined"){if(b.type){this.setContentType(b.type)}if(b.obj&&b.obj instanceof d.ASN1Object){this.dContent=b.obj}}};YAHOO.lang.extend(Ext.asn1.cms.ContentInfo,Ext.asn1.ASN1Object);Ext.asn1.cms.SignedData=function(b){Ext.asn1.cms.SignedData.superclass.constructor.call(this);var d=Ext.asn1;var k=Ext.asn1.cms;var c=Ext.asn1.x509;this.dCMSVersion=new d.DERInteger({"int":1});this.dDigestAlgs=null;this.digestAlgNameList=[];this.dEncapContentInfo=new k.EncapsulatedContentInfo();this.dCerts=null;this.certificateList=[];this.crlList=[];this.signerInfoList=[new k.SignerInfo()];this.addCertificatesByPEM=function(f){var g=ASN1HEX.pemToHex(f);var e=new d.ASN1Object();e.hTLV=g;this.certificateList.push(e)};this.getEncodedHex=function(){if(typeof this.hTLV=="string"){return this.hTLV}if(this.dDigestAlgs==null){var m=[];for(var u=0;u<this.digestAlgNameList.length;u++){var l=this.digestAlgNameList[u];var e=new c.AlgorithmIdentifier({name:l});m.push(e)}this.dDigestAlgs=new d.DERSet({array:m})}var f=[this.dCMSVersion,this.dDigestAlgs,this.dEncapContentInfo];if(this.dCerts==null){if(this.certificateList.length>0){var s=new d.DERSet({array:this.certificateList});this.dCerts=new d.DERTaggedObject({obj:s,tag:"a0",explicit:false})}}if(this.dCerts!=null){f.push(this.dCerts)}var j=new d.DERSet({array:this.signerInfoList});f.push(j);var g=new d.DERSequence({array:f});this.hTLV=g.getEncodedHex();return this.hTLV};this.getContentInfo=function(){this.getEncodedHex();var e=new k.ContentInfo({type:"signed-data",obj:this});return e};this.getContentInfoEncodedHex=function(){var f=this.getContentInfo();var e=f.getEncodedHex();return e};this.getPEM=function(){var f=this.getContentInfoEncodedHex();var e=d.ASN1Util.getPEMStringFromHex(f,"CMS");return e}};YAHOO.lang.extend(Ext.asn1.cms.SignedData,Ext.asn1.ASN1Object);Ext.asn1.cms.CMSUtil=new function(){}();Ext.asn1.cms.CMSUtil.newSignedData=function(v){var j=Ext.asn1.cms;var g=Ext.asn1.cades;var f=new j.SignedData();f.dEncapContentInfo.setContentValue(v.content);if(typeof v.certs=="object"){for(var b=0;b<v.certs.length;b++){f.addCertificatesByPEM(v.certs[b])}}f.signerInfoList=[];for(var b=0;b<v.signerInfos.length;b++){var d=v.signerInfos[b];var c=new j.SignerInfo();c.setSignerIdentifier(d.signerCert);c.setForContentAndHash({sdObj:f,eciObj:f.dEncapContentInfo,hashAlg:d.hashAlg});for(attrName in d.sAttr){var u=d.sAttr[attrName];if(attrName=="SigningTime"){var e=new j.SigningTime(u);c.dSignedAttrs.add(e)}if(attrName=="SigningCertificate"){var e=new j.SigningCertificate(u);c.dSignedAttrs.add(e)}if(attrName=="SigningCertificateV2"){var e=new j.SigningCertificateV2(u);c.dSignedAttrs.add(e)}if(attrName=="SignaturePolicyIdentifier"){var e=new g.SignaturePolicyIdentifier(u);c.dSignedAttrs.add(e)}}c.sign(d.signerPrvKey,d.sigAlg);f.signerInfoList.push(c)}return f};if(typeof Ext=="undefined"||!Ext){Ext={}}if(typeof Ext.asn1=="undefined"||!Ext.asn1){Ext.asn1={}}if(typeof Ext.asn1.tsp=="undefined"||!Ext.asn1.tsp){Ext.asn1.tsp={}}Ext.asn1.tsp.Accuracy=function(e){Ext.asn1.tsp.Accuracy.superclass.constructor.call(this);var b=Ext.asn1;this.seconds=null;this.millis=null;this.micros=null;this.getEncodedHex=function(){var d=null;var g=null;var c=null;var q=[];if(this.seconds!=null){d=new b.DERInteger({"int":this.seconds});q.push(d)}if(this.millis!=null){var p=new b.DERInteger({"int":this.millis});g=new b.DERTaggedObject({obj:p,tag:"80",explicit:false});q.push(g)}if(this.micros!=null){var f=new b.DERInteger({"int":this.micros});c=new b.DERTaggedObject({obj:f,tag:"81",explicit:false});q.push(c)}var r=new b.DERSequence({array:q});this.hTLV=r.getEncodedHex();return this.hTLV};if(typeof e!="undefined"){if(typeof e.seconds=="number"){this.seconds=e.seconds}if(typeof e.millis=="number"){this.millis=e.millis}if(typeof e.micros=="number"){this.micros=e.micros}}};YAHOO.lang.extend(Ext.asn1.tsp.Accuracy,Ext.asn1.ASN1Object);Ext.asn1.tsp.MessageImprint=function(g){Ext.asn1.tsp.MessageImprint.superclass.constructor.call(this);var c=Ext.asn1;var b=Ext.asn1.x509;this.dHashAlg=null;this.dHashValue=null;this.getEncodedHex=function(){if(typeof this.hTLV=="string"){return this.hTLV}var d=new c.DERSequence({array:[this.dHashAlg,this.dHashValue]});return d.getEncodedHex()};if(typeof g!="undefined"){if(typeof g.hashAlg=="string"){this.dHashAlg=new b.AlgorithmIdentifier({name:g.hashAlg})}if(typeof g.hashValue=="string"){this.dHashValue=new c.DEROctetString({hex:g.hashValue})}}};YAHOO.lang.extend(Ext.asn1.tsp.MessageImprint,Ext.asn1.ASN1Object);Ext.asn1.tsp.TimeStampReq=function(b){Ext.asn1.tsp.TimeStampReq.superclass.constructor.call(this);var c=Ext.asn1;var g=Ext.asn1.tsp;this.dVersion=new c.DERInteger({"int":1});this.dMessageImprint=null;this.dPolicy=null;this.dNonce=null;this.certReq=true;this.setMessageImprint=function(d){if(d instanceof Ext.asn1.tsp.MessageImprint){this.dMessageImprint=d;return}if(typeof d=="object"){this.dMessageImprint=new g.MessageImprint(d)}};this.getEncodedHex=function(){if(this.dMessageImprint==null){throw"messageImprint shall be specified"}var e=[this.dVersion,this.dMessageImprint];if(this.dPolicy!=null){e.push(this.dPolicy)}if(this.dNonce!=null){e.push(this.dNonce)}if(this.certReq){e.push(new c.DERBoolean())}var d=new c.DERSequence({array:e});this.hTLV=d.getEncodedHex();return this.hTLV};if(typeof b!="undefined"){if(typeof b.mi=="object"){this.setMessageImprint(b.mi)}if(typeof b.policy=="object"){this.dPolicy=new c.DERObjectIdentifier(b.policy)}if(typeof b.nonce=="object"){this.dNonce=new c.DERInteger(b.nonce)}if(typeof b.certreq=="boolean"){this.certReq=b.certreq}}};YAHOO.lang.extend(Ext.asn1.tsp.TimeStampReq,Ext.asn1.ASN1Object);Ext.asn1.tsp.TSTInfo=function(b){Ext.asn1.tsp.TSTInfo.superclass.constructor.call(this);var d=Ext.asn1;var c=Ext.asn1.x509;var k=Ext.asn1.tsp;this.dVersion=new d.DERInteger({"int":1});this.dPolicy=null;this.dMessageImprint=null;this.dSerialNumber=null;this.dGenTime=null;this.dAccuracy=null;this.dOrdering=null;this.dNonce=null;this.dTsa=null;this.getEncodedHex=function(){var f=[this.dVersion];if(this.dPolicy==null){throw"policy shall be specified."}f.push(this.dPolicy);if(this.dMessageImprint==null){throw"messageImprint shall be specified."}f.push(this.dMessageImprint);if(this.dSerialNumber==null){throw"serialNumber shall be specified."}f.push(this.dSerialNumber);if(this.dGenTime==null){throw"genTime shall be specified."}f.push(this.dGenTime);if(this.dAccuracy!=null){f.push(this.dAccuracy)}if(this.dOrdering!=null){f.push(this.dOrdering)}if(this.dNonce!=null){f.push(this.dNonce)}if(this.dTsa!=null){f.push(this.dTsa)}var e=new d.DERSequence({array:f});this.hTLV=e.getEncodedHex();return this.hTLV};if(typeof b!="undefined"){if(typeof b.policy=="string"){if(!b.policy.match(/^[0-9.]+$/)){throw"policy shall be oid like 0.1.4.134"}this.dPolicy=new d.DERObjectIdentifier({oid:b.policy})}if(typeof b.messageImprint!="undefined"){this.dMessageImprint=new k.MessageImprint(b.messageImprint)}if(typeof b.serialNumber!="undefined"){this.dSerialNumber=new d.DERInteger(b.serialNumber)}if(typeof b.genTime!="undefined"){this.dGenTime=new d.DERGeneralizedTime(b.genTime)}if(typeof b.accuracy!="undefind"){this.dAccuracy=new k.Accuracy(b.accuracy)}if(typeof b.ordering!="undefined"&&b.ordering==true){this.dOrdering=new d.DERBoolean()}if(typeof b.nonce!="undefined"){this.dNonce=new d.DERInteger(b.nonce)}if(typeof b.tsa!="undefined"){this.dTsa=new c.X500Name(b.tsa)}}};YAHOO.lang.extend(Ext.asn1.tsp.TSTInfo,Ext.asn1.ASN1Object);Ext.asn1.tsp.TimeStampResp=function(b){Ext.asn1.tsp.TimeStampResp.superclass.constructor.call(this);var c=Ext.asn1;var g=Ext.asn1.tsp;this.dStatus=null;this.dTST=null;this.getEncodedHex=function(){if(this.dStatus==null){throw"status shall be specified"}var e=[this.dStatus];if(this.dTST!=null){e.push(this.dTST)}var d=new c.DERSequence({array:e});this.hTLV=d.getEncodedHex();return this.hTLV};if(typeof b!="undefined"){if(typeof b.status=="object"){this.dStatus=new g.PKIStatusInfo(b.status)}if(typeof b.tst!="undefined"&&b.tst instanceof Ext.asn1.ASN1Object){this.dTST=b.tst.getContentInfo()}}};YAHOO.lang.extend(Ext.asn1.tsp.TimeStampResp,Ext.asn1.ASN1Object);Ext.asn1.tsp.PKIStatusInfo=function(b){Ext.asn1.tsp.PKIStatusInfo.superclass.constructor.call(this);var c=Ext.asn1;var g=Ext.asn1.tsp;this.dStatus=null;this.dStatusString=null;this.dFailureInfo=null;this.getEncodedHex=function(){if(this.dStatus==null){throw"status shall be specified"}var e=[this.dStatus];if(this.dStatusString!=null){e.push(this.dStatusString)}if(this.dFailureInfo!=null){e.push(this.dFailureInfo)}var d=new c.DERSequence({array:e});this.hTLV=d.getEncodedHex();return this.hTLV};if(typeof b!="undefined"){if(typeof b.status=="object"){this.dStatus=new g.PKIStatus(b.status)}if(typeof b.statstr=="object"){this.dStatusString=new g.PKIFreeText({array:b.statstr})}if(typeof b.failinfo=="object"){this.dFailureInfo=new g.PKIFailureInfo(b.failinfo)}}};YAHOO.lang.extend(Ext.asn1.tsp.PKIStatusInfo,Ext.asn1.ASN1Object);Ext.asn1.tsp.PKIStatus=function(d){Ext.asn1.tsp.PKIStatus.superclass.constructor.call(this);var e=Ext.asn1;var m=Ext.asn1.tsp;var c=null;this.getEncodedHex=function(){this.hTLV=this.dStatus.getEncodedHex();return this.hTLV};if(typeof d!="undefined"){if(typeof d.name!="undefined"){var b=m.PKIStatus.valueList;if(typeof b[d.name]=="undefined"){throw"name undefined: "+d.name}this.dStatus=new e.DERInteger({"int":b[d.name]})}else{this.dStatus=new e.DERInteger(d)}}};YAHOO.lang.extend(Ext.asn1.tsp.PKIStatus,Ext.asn1.ASN1Object);Ext.asn1.tsp.PKIStatus.valueList={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5};Ext.asn1.tsp.PKIFreeText=function(e){Ext.asn1.tsp.PKIFreeText.superclass.constructor.call(this);var b=Ext.asn1;this.textList=[];this.getEncodedHex=function(){var d=[];for(var c=0;c<this.textList.length;c++){d.push(new b.DERUTF8String({str:this.textList[c]}))}var j=new b.DERSequence({array:d});this.hTLV=j.getEncodedHex();return this.hTLV};if(typeof e!="undefined"){if(typeof e.array=="object"){this.textList=e.array}}};YAHOO.lang.extend(Ext.asn1.tsp.PKIFreeText,Ext.asn1.ASN1Object);Ext.asn1.tsp.PKIFailureInfo=function(c){Ext.asn1.tsp.PKIFailureInfo.superclass.constructor.call(this);var d=Ext.asn1;var k=Ext.asn1.tsp;this.value=null;this.getEncodedHex=function(){if(this.value==null){throw"value shall be specified"}var f=new Number(this.value).toString(2);var e=new d.DERBitString();e.setByBinaryString(f);this.hTLV=e.getEncodedHex();return this.hTLV};if(typeof c!="undefined"){if(typeof c.name=="string"){var b=k.PKIFailureInfo.valueList;if(typeof b[c.name]=="undefined"){throw"name undefined: "+c.name}this.value=b[c.name]}else{if(typeof c["int"]=="number"){this.value=c["int"]}}}};YAHOO.lang.extend(Ext.asn1.tsp.PKIFailureInfo,Ext.asn1.ASN1Object);Ext.asn1.tsp.PKIFailureInfo.valueList={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25};Ext.asn1.tsp.AbstractTSAAdapter=function(c){this.getTSTHex=function(b,f){throw"not implemented yet"}};Ext.asn1.tsp.SimpleTSAAdapter=function(c){Ext.asn1.tsp.SimpleTSAAdapter.superclass.constructor.call(this);this.params=null;this.serial=0;this.getTSTHex=function(b,n){var e=Ext.crypto.Util.hashHex(b,n);this.params.tstInfo.messageImprint={hashAlg:n,hashValue:e};this.params.tstInfo.serialNumber={"int":this.serial++};var d=Math.floor(Math.random()*1000000000);this.params.tstInfo.nonce={"int":d};var f=Ext.asn1.tsp.TSPUtil.newTimeStampToken(this.params);return f.getContentInfoEncodedHex()};if(typeof c!="undefined"){this.params=c}};YAHOO.lang.extend(Ext.asn1.tsp.SimpleTSAAdapter,Ext.asn1.tsp.AbstractTSAAdapter);Ext.asn1.tsp.FixedTSAAdapter=function(c){Ext.asn1.tsp.FixedTSAAdapter.superclass.constructor.call(this);this.params=null;this.getTSTHex=function(b,l){var d=Ext.crypto.Util.hashHex(b,l);this.params.tstInfo.messageImprint={hashAlg:l,hashValue:d};var e=Ext.asn1.tsp.TSPUtil.newTimeStampToken(this.params);return e.getContentInfoEncodedHex()};if(typeof c!="undefined"){this.params=c}};YAHOO.lang.extend(Ext.asn1.tsp.FixedTSAAdapter,Ext.asn1.tsp.AbstractTSAAdapter);Ext.asn1.tsp.TSPUtil=new function(){}();Ext.asn1.tsp.TSPUtil.newTimeStampToken=function(b){var u=Ext.asn1.cms;var v=Ext.asn1.tsp;var g=new u.SignedData();var e=new v.TSTInfo(b.tstInfo);var f=e.getEncodedHex();g.dEncapContentInfo.setContentValue({hex:f});g.dEncapContentInfo.setContentType("tstinfo");if(typeof b.certs=="object"){for(var c=0;c<b.certs.length;c++){g.addCertificatesByPEM(b.certs[c])}}var d=g.signerInfoList[0];d.setSignerIdentifier(b.signerCert);d.setForContentAndHash({sdObj:g,eciObj:g.dEncapContentInfo,hashAlg:b.hashAlg});var j=new u.SigningCertificate({array:[b.signerCert]});d.dSignedAttrs.add(j);d.sign(b.signerPrvKey,b.sigAlg);return g};Ext.asn1.tsp.TSPUtil.parseTimeStampReq=function(g){var s={};s.certreq=false;var c=ASN1HEX.getPosArrayOfChildren_AtObj(g,0);if(c.length<2){throw"TimeStampReq must have at least 2 items"}var f=ASN1HEX.getHexOfTLV_AtObj(g,c[1]);s.mi=Ext.asn1.tsp.TSPUtil.parseMessageImprint(f);for(var r=2;r<c.length;r++){var e=c[r];var d=g.substr(e,2);if(d=="06"){var b=ASN1HEX.getHexOfV_AtObj(g,e);s.policy=ASN1HEX.hextooidstr(b)}if(d=="02"){s.nonce=ASN1HEX.getHexOfV_AtObj(g,e)}if(d=="01"){s.certreq=true}}return s};Ext.asn1.tsp.TSPUtil.parseMessageImprint=function(d){var u={};if(d.substr(0,2)!="30"){throw"head of messageImprint hex shall be '30'"}var b=ASN1HEX.getPosArrayOfChildren_AtObj(d,0);var v=ASN1HEX.getDecendantIndexByNthList(d,0,[0,0]);var e=ASN1HEX.getHexOfV_AtObj(d,v);var f=ASN1HEX.hextooidstr(e);var s=Ext.asn1.x509.OID.oid2name(f);if(s==""){throw"hashAlg name undefined: "+f}var c=s;var g=ASN1HEX.getDecendantIndexByNthList(d,0,[1]);u.hashAlg=c;u.hashValue=ASN1HEX.getHexOfV_AtObj(d,g);return u};if(typeof Ext=="undefined"||!Ext){Ext={}}if(typeof Ext.asn1=="undefined"||!Ext.asn1){Ext.asn1={}}if(typeof Ext.asn1.cades=="undefined"||!Ext.asn1.cades){Ext.asn1.cades={}}Ext.asn1.cades.SignaturePolicyIdentifier=function(c){Ext.asn1.cades.SignaturePolicyIdentifier.superclass.constructor.call(this);this.attrTypeOid="1.2.840.113549.1.9.16.2.15";var f=Ext.asn1;var b=Ext.asn1.cades;if(typeof c!="undefined"){if(typeof c.oid=="string"&&typeof c.hash=="object"){var d=new f.DERObjectIdentifier({oid:c.oid});var e=new b.OtherHashAlgAndValue(c.hash);var o=new f.DERSequence({array:[d,e]});this.valueList=[o]}}};YAHOO.lang.extend(Ext.asn1.cades.SignaturePolicyIdentifier,Ext.asn1.cms.Attribute);Ext.asn1.cades.OtherHashAlgAndValue=function(g){Ext.asn1.cades.OtherHashAlgAndValue.superclass.constructor.call(this);var c=Ext.asn1;var b=Ext.asn1.x509;this.dAlg=null;this.dHash=null;this.getEncodedHex=function(){var d=new c.DERSequence({array:[this.dAlg,this.dHash]});this.hTLV=d.getEncodedHex();return this.hTLV};if(typeof g!="undefined"){if(typeof g.alg=="string"&&typeof g.hash=="string"){this.dAlg=new b.AlgorithmIdentifier({name:g.alg});this.dHash=new c.DEROctetString({hex:g.hash})}}};YAHOO.lang.extend(Ext.asn1.cades.OtherHashAlgAndValue,Ext.asn1.ASN1Object);Ext.asn1.cades.SignatureTimeStamp=function(b){Ext.asn1.cades.SignatureTimeStamp.superclass.constructor.call(this);this.attrTypeOid="1.2.840.113549.1.9.16.2.14";this.tstHex=null;var c=Ext.asn1;if(typeof b!="undefined"){if(typeof b.res!="undefined"){if(typeof b.res=="string"&&b.res.match(/^[0-9A-Fa-f]+$/)){}else{if(b.res instanceof Ext.asn1.ASN1Object){}else{throw"res param shall be ASN1Object or hex string"}}}if(typeof b.tst!="undefined"){if(typeof b.tst=="string"&&b.tst.match(/^[0-9A-Fa-f]+$/)){var g=new c.ASN1Object();this.tstHex=b.tst;g.hTLV=this.tstHex;g.getEncodedHex();this.valueList=[g]}else{if(b.tst instanceof Ext.asn1.ASN1Object){}else{throw"tst param shall be ASN1Object or hex string"}}}}};YAHOO.lang.extend(Ext.asn1.cades.SignatureTimeStamp,Ext.asn1.cms.Attribute);Ext.asn1.cades.CompleteCertificateRefs=function(b){Ext.asn1.cades.CompleteCertificateRefs.superclass.constructor.call(this);this.attrTypeOid="1.2.840.113549.1.9.16.2.21";var c=Ext.asn1;var g=Ext.asn1.cades;this.setByArray=function(e){this.valueList=[];for(var f=0;f<e.length;f++){var d=new g.OtherCertID(e[f]);this.valueList.push(d)}};if(typeof b!="undefined"){if(typeof b=="object"&&typeof b.length=="number"){this.setByArray(b)}}};YAHOO.lang.extend(Ext.asn1.cades.CompleteCertificateRefs,Ext.asn1.cms.Attribute);Ext.asn1.cades.OtherCertID=function(c){Ext.asn1.cades.OtherCertID.superclass.constructor.call(this);var d=Ext.asn1;var b=Ext.asn1.cms;var k=Ext.asn1.cades;this.hasIssuerSerial=true;this.dOtherCertHash=null;this.dIssuerSerial=null;this.setByCertPEM=function(e){this.dOtherCertHash=new k.OtherHash(e);if(this.hasIssuerSerial){this.dIssuerSerial=new b.IssuerAndSerialNumber(e)}};this.getEncodedHex=function(){if(this.hTLV!=null){return this.hTLV}if(this.dOtherCertHash==null){throw"otherCertHash not set"}var f=[this.dOtherCertHash];if(this.dIssuerSerial!=null){f.push(this.dIssuerSerial)}var e=new d.DERSequence({array:f});this.hTLV=e.getEncodedHex();return this.hTLV};if(typeof c!="undefined"){if(typeof c=="string"&&c.indexOf("-----BEGIN ")!=-1){this.setByCertPEM(c)}if(typeof c=="object"){if(c.hasis===false){this.hasIssuerSerial=false}if(typeof c.cert=="string"){this.setByCertPEM(c.cert)}}}};YAHOO.lang.extend(Ext.asn1.cades.OtherCertID,Ext.asn1.ASN1Object);Ext.asn1.cades.OtherHash=function(b){Ext.asn1.cades.OtherHash.superclass.constructor.call(this);var c=Ext.asn1;var g=Ext.asn1.cades;this.alg="sha256";this.dOtherHash=null;this.setByCertPEM=function(e){if(e.indexOf("-----BEGIN ")==-1){throw"certPEM not to seem PEM format"}var f=ASN1HEX.pemToHex(e);var d=Ext.crypto.Util.hashHex(f,this.alg);this.dOtherHash=new g.OtherHashAlgAndValue({alg:this.alg,hash:d})};this.getEncodedHex=function(){if(this.dOtherHash==null){throw"OtherHash not set"}return this.dOtherHash.getEncodedHex()};if(typeof b!="undefined"){if(typeof b=="string"){if(b.indexOf("-----BEGIN ")!=-1){this.setByCertPEM(b)}else{if(b.match(/^[0-9A-Fa-f]+$/)){this.dOtherHash=new c.DEROctetString({hex:b})}else{throw"unsupported string value for params"}}}else{if(typeof b=="object"){if(typeof b.cert=="string"){if(typeof b.alg=="string"){this.alg=b.alg}this.setByCertPEM(b.cert)}else{this.dOtherHash=new g.OtherHashAlgAndValue(b)}}}}};YAHOO.lang.extend(Ext.asn1.cades.OtherHash,Ext.asn1.ASN1Object);Ext.asn1.cades.CAdESUtil=new function(){}();Ext.asn1.cades.CAdESUtil.addSigTS=function(b,g,c){};Ext.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(q){var c=Ext.asn1;var s=Ext.asn1.cms;var p=Ext.asn1.cades.CAdESUtil;var l={};if(ASN1HEX.getDecendantHexTLVByNthList(q,0,[0])!="06092a864886f70d010702"){throw"hex is not CMS SignedData"}var j=ASN1HEX.getDecendantIndexByNthList(q,0,[1,0]);var n=ASN1HEX.getPosArrayOfChildren_AtObj(q,j);if(n.length<4){throw"num of SignedData elem shall be 4 at least"}var M=n.shift();l.version=ASN1HEX.getHexOfTLV_AtObj(q,M);var g=n.shift();l.algs=ASN1HEX.getHexOfTLV_AtObj(q,g);var k=n.shift();l.encapcontent=ASN1HEX.getHexOfTLV_AtObj(q,k);l.certs=null;l.revs=null;l.si=[];var m=n.shift();if(q.substr(m,2)=="a0"){l.certs=ASN1HEX.getHexOfTLV_AtObj(q,m);m=n.shift()}if(q.substr(m,2)=="a1"){l.revs=ASN1HEX.getHexOfTLV_AtObj(q,m);m=n.shift()}var f=m;if(q.substr(f,2)!="31"){throw"Can't find signerInfos"}var e=ASN1HEX.getPosArrayOfChildren_AtObj(q,f);for(var d=0;d<e.length;d++){var o=e[d];var L=p.parseSignerInfoForAddingUnsigned(q,o,d);l.si[d]=L}var b=null;l.obj=new s.SignedData();b=new c.ASN1Object();b.hTLV=l.version;l.obj.dCMSVersion=b;b=new c.ASN1Object();b.hTLV=l.algs;l.obj.dDigestAlgs=b;b=new c.ASN1Object();b.hTLV=l.encapcontent;l.obj.dEncapContentInfo=b;b=new c.ASN1Object();b.hTLV=l.certs;l.obj.dCerts=b;l.obj.signerInfoList=[];for(var d=0;d<l.si.length;d++){l.obj.signerInfoList.push(l.si[d].obj)}return l};Ext.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(k,c,b){var g=Ext.asn1;var e=Ext.asn1.cms;var d={};var l=ASN1HEX.getPosArrayOfChildren_AtObj(k,c);if(l.length!=6){throw"not supported items for SignerInfo (!=6)"}var m=l.shift();d.version=ASN1HEX.getHexOfTLV_AtObj(k,m);var j=l.shift();d.si=ASN1HEX.getHexOfTLV_AtObj(k,j);var E=l.shift();d.digalg=ASN1HEX.getHexOfTLV_AtObj(k,E);var f=l.shift();d.sattrs=ASN1HEX.getHexOfTLV_AtObj(k,f);var F=l.shift();d.sigalg=ASN1HEX.getHexOfTLV_AtObj(k,F);var G=l.shift();d.sig=ASN1HEX.getHexOfTLV_AtObj(k,G);d.sigval=ASN1HEX.getHexOfV_AtObj(k,G);var n=null;d.obj=new e.SignerInfo();n=new g.ASN1Object();n.hTLV=d.version;d.obj.dCMSVersion=n;n=new g.ASN1Object();n.hTLV=d.si;d.obj.dSignerIdentifier=n;n=new g.ASN1Object();n.hTLV=d.digalg;d.obj.dDigestAlgorithm=n;n=new g.ASN1Object();n.hTLV=d.sattrs;d.obj.dSignedAttrs=n;n=new g.ASN1Object();n.hTLV=d.sigalg;d.obj.dSigAlg=n;n=new g.ASN1Object();n.hTLV=d.sig;d.obj.dSig=n;d.obj.dUnsignedAttrs=new e.AttributeList();return d};if(typeof Ext.asn1.csr=="undefined"||!Ext.asn1.csr){Ext.asn1.csr={}}Ext.asn1.csr.CertificationRequest=function(d){Ext.asn1.csr.CertificationRequest.superclass.constructor.call(this);var f=null;var b=null;var c=null;var o=null;var e=null;this.sign=function(g,k){if(this.prvKey==null){this.prvKey=k}this.asn1SignatureAlg=new Ext.asn1.x509.AlgorithmIdentifier({name:g});sig=new Ext.crypto.Signature({alg:g});sig.initSign(this.prvKey);sig.updateHex(this.asn1CSRInfo.getEncodedHex());this.hexSig=sig.sign();this.asn1Sig=new Ext.asn1.DERBitString({hex:"00"+this.hexSig});var j=new Ext.asn1.DERSequence({array:[this.asn1CSRInfo,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=j.getEncodedHex();this.isModified=false};this.getPEMString=function(){var g=Ext.asn1.ASN1Util.getPEMStringFromHex(this.getEncodedHex(),"CERTIFICATE REQUEST");return g};this.getEncodedHex=function(){if(this.isModified==false&&this.hTLV!=null){return this.hTLV}throw"not signed yet"};if(typeof d!="undefined"){if(typeof d.csrinfo!="undefined"){this.asn1CSRInfo=d.csrinfo}}};YAHOO.lang.extend(Ext.asn1.csr.CertificationRequest,Ext.asn1.ASN1Object);Ext.asn1.csr.CertificationRequestInfo=function(c){Ext.asn1.csr.CertificationRequestInfo.superclass.constructor.call(this);this._initialize=function(){this.asn1Array=new Array();this.asn1Version=new Ext.asn1.DERInteger({"int":0});this.asn1Subject=null;this.asn1SubjPKey=null;this.extensionsArray=new Array()};this.setSubjectByParam=function(b){this.asn1Subject=new Ext.asn1.x509.X500Name(b)};this.setSubjectPublicKeyByGetKey=function(b){var f=KEYUTIL.getKey(b);this.asn1SubjPKey=new Ext.asn1.x509.SubjectPublicKeyInfo(f)};this.appendExtensionByName=function(b,f){Ext.asn1.x509.Extension.appendByNameToArray(b,f,this.extensionsArray)};this.getEncodedHex=function(){this.asn1Array=new Array();this.asn1Array.push(this.asn1Version);this.asn1Array.push(this.asn1Subject);this.asn1Array.push(this.asn1SubjPKey);if(this.extensionsArray.length>0){var e=new Ext.asn1.DERSequence({array:this.extensionsArray});var d=new Ext.asn1.DERSet({array:[e]});var b=new Ext.asn1.DERSequence({array:[new Ext.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.9.14"}),d]});var n=new Ext.asn1.DERTaggedObject({explicit:true,tag:"a0",obj:b});this.asn1Array.push(n)}else{var n=new Ext.asn1.DERTaggedObject({explicit:false,tag:"a0",obj:new Ext.asn1.DERNull()});this.asn1Array.push(n)}var f=new Ext.asn1.DERSequence({array:this.asn1Array});this.hTLV=f.getEncodedHex();this.isModified=false;return this.hTLV};this._initialize()};YAHOO.lang.extend(Ext.asn1.csr.CertificationRequestInfo,Ext.asn1.ASN1Object);Ext.asn1.csr.CSRUtil=new function(){}();Ext.asn1.csr.CSRUtil.newCSRPEM=function(c){var g=Ext.asn1.csr;if(c.subject===undefined){throw"parameter subject undefined"}if(c.sbjpubkey===undefined){throw"parameter sbjpubkey undefined"}if(c.sigalg===undefined){throw"parameter sigalg undefined"}if(c.sbjprvkey===undefined){throw"parameter sbjpubkey undefined"}var e=new g.CertificationRequestInfo();e.setSubjectByParam(c.subject);e.setSubjectPublicKeyByGetKey(c.sbjpubkey);if(c.ext!==undefined&&c.ext.length!==undefined){for(var f=0;f<c.ext.length;f++){for(key in c.ext[f]){e.appendExtensionByName(key,c.ext[f][key])}}}var q=new g.CertificationRequest({csrinfo:e});var d=KEYUTIL.getKey(c.sbjprvkey);q.sign(c.sigalg,d);var b=q.getPEMString();return b};Ext.asn1.csr.CSRUtil.getInfo=function(g){var c={};c.subject={};c.pubkey={};if(g.indexOf("-----BEGIN CERTIFICATE REQUEST")==-1){throw"argument is not PEM file"}var b=ASN1HEX.pemToHex(g,"CERTIFICATE REQUEST");c.subject.hex=ASN1HEX.getDecendantHexTLVByNthList(b,0,[0,1]);c.subject.name=X509.hex2dn(c.subject.hex);c.pubkey.hex=ASN1HEX.getDecendantHexTLVByNthList(b,0,[0,2]);c.pubkey.obj=KEYUTIL.getKey(c.pubkey.hex,null,"pkcs8pub");return c};if(typeof Ext=="undefined"||!Ext){Ext={}}if(typeof Ext.asn1=="undefined"||!Ext.asn1){Ext.asn1={}}if(typeof Ext.asn1.ocsp=="undefined"||!Ext.asn1.ocsp){Ext.asn1.ocsp={}}Ext.asn1.ocsp.DEFAULT_HASH="sha1";Ext.asn1.ocsp.CertID=function(b){Ext.asn1.ocsp.CertID.superclass.constructor.call(this);var e=Ext.asn1;var d=Ext.asn1.x509;this.dHashAlg=null;this.dIssuerNameHash=null;this.dIssuerKeyHash=null;this.dSerialNumber=null;this.setByValue=function(f,k,g,j){if(j===undefined){j=Ext.asn1.ocsp.DEFAULT_HASH}this.dHashAlg=new d.AlgorithmIdentifier({name:j});this.dIssuerNameHash=new e.DEROctetString({hex:f});this.dIssuerKeyHash=new e.DEROctetString({hex:k});this.dSerialNumber=new e.DERInteger({hex:g})};this.setByCert=function(l,f,j){if(j===undefined){j=Ext.asn1.ocsp.DEFAULT_HASH}var w=new X509();w.readCertPEM(f);var n=new X509();n.readCertPEM(l);var o=X509.getPublicKeyInfoPropOfCertPEM(l);var k=o.keyhex;var x=w.getSerialNumberHex();var y=Ext.crypto.Util.hashHex(n.getSubjectHex(),j);var g=Ext.crypto.Util.hashHex(k,j);this.setByValue(y,g,x,j);this.hoge=w.getSerialNumberHex()};this.getEncodedHex=function(){if(this.dHashAlg===null&&this.dIssuerNameHash===null&&this.dIssuerKeyHash===null&&this.dSerialNumber===null){throw"not yet set values"}var g=[this.dHashAlg,this.dIssuerNameHash,this.dIssuerKeyHash,this.dSerialNumber];var f=new e.DERSequence({array:g});this.hTLV=f.getEncodedHex();return this.hTLV};if(typeof b!=="undefined"){var m=b;if(typeof m.issuerCert!=="undefined"&&typeof m.subjectCert!=="undefined"){var c=Ext.asn1.ocsp.DEFAULT_HASH;if(typeof m.alg==="undefined"){c=undefined}this.setByCert(m.issuerCert,m.subjectCert,c)}else{if(typeof m.namehash!=="undefined"&&typeof m.keyhash!=="undefined"&&typeof m.serial!=="undefined"){var c=Ext.asn1.ocsp.DEFAULT_HASH;if(typeof m.alg==="undefined"){c=undefined}this.setByValue(m.namehash,m.keyhash,m.serial,c)}else{throw"invalid constructor arguments"}}}};YAHOO.lang.extend(Ext.asn1.ocsp.CertID,Ext.asn1.ASN1Object);Ext.asn1.ocsp.Request=function(e){Ext.asn1.ocsp.Request.superclass.constructor.call(this);this.dReqCert=null;this.dExt=null;this.getEncodedHex=function(){var d=[];if(this.dReqCert===null){throw"reqCert not set"}d.push(this.dReqCert);var c=new Ext.asn1.DERSequence({array:d});this.hTLV=c.getEncodedHex();return this.hTLV};if(typeof e!=="undefined"){var b=new Ext.asn1.ocsp.CertID(e);this.dReqCert=b}};YAHOO.lang.extend(Ext.asn1.ocsp.Request,Ext.asn1.ASN1Object);Ext.asn1.ocsp.TBSRequest=function(c){Ext.asn1.ocsp.TBSRequest.superclass.constructor.call(this);this.version=0;this.dRequestorName=null;this.dRequestList=[];this.dRequestExt=null;this.setRequestListByParam=function(d){var l=[];for(var b=0;b<d.length;b++){var e=new Ext.asn1.ocsp.Request(d[0]);l.push(e)}this.dRequestList=l};this.getEncodedHex=function(){var j=[];if(this.version!==0){throw"not supported version: "+this.version}if(this.dRequestorName!==null){throw"requestorName not supported"}var d=new Ext.asn1.DERSequence({array:this.dRequestList});j.push(d);if(this.dRequestExt!==null){throw"requestExtensions not supported"}var b=new Ext.asn1.DERSequence({array:j});this.hTLV=b.getEncodedHex();return this.hTLV};if(typeof c!=="undefined"){if(typeof c.reqList!=="undefined"){this.setRequestListByParam(c.reqList)}}};YAHOO.lang.extend(Ext.asn1.ocsp.TBSRequest,Ext.asn1.ASN1Object);Ext.asn1.ocsp.OCSPRequest=function(e){Ext.asn1.ocsp.OCSPRequest.superclass.constructor.call(this);this.dTbsRequest=null;this.dOptionalSignature=null;this.getEncodedHex=function(){var d=[];if(this.dTbsRequest!==null){d.push(this.dTbsRequest)}else{throw"tbsRequest not set"}if(this.dOptionalSignature!==null){throw"optionalSignature not supported"}var c=new Ext.asn1.DERSequence({array:d});this.hTLV=c.getEncodedHex();return this.hTLV};if(typeof e!=="undefined"){if(typeof e.reqList!=="undefined"){var b=new Ext.asn1.ocsp.TBSRequest(e);this.dTbsRequest=b}}};YAHOO.lang.extend(Ext.asn1.ocsp.OCSPRequest,Ext.asn1.ASN1Object);Ext.asn1.ocsp.OCSPUtil={};Ext.asn1.ocsp.OCSPUtil.getRequestHex=function(e,m,d){if(d===undefined){d=Ext.asn1.ocsp.DEFAULT_HASH}var c={alg:d,issuerCert:e,subjectCert:m};var b=new Ext.asn1.ocsp.OCSPRequest({reqList:[c]});return b.getEncodedHex()};Ext.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(b){var d={};try{var e=ASN1HEX.getVbyList(b,0,[0],"0a");d.responseStatus=parseInt(e,16)}catch(g){}if(d.responseStatus!==0){return d}try{var q=ASN1HEX.getDecendantIndexByNthList(b,0,[1,0,1,0,0,2,0,1]);if(b.substr(q,2)==="80"){d.certStatus="good"}else{if(b.substr(q,2)==="a1"){d.certStatus="revoked";d.revocationTime=hextoutf8(ASN1HEX.getDecendantHexVByNthList(b,q,[0]))}else{if(b.substr(q,2)==="82"){d.certStatus="unknown"}}}}catch(g){}try{var f=ASN1HEX.getDecendantIndexByNthList(b,0,[1,0,1,0,0,2,0,2]);d.thisUpdate=hextoutf8(ASN1HEX.getHexOfV_AtObj(b,f))}catch(g){}try{var c=ASN1HEX.getDecendantIndexByNthList(b,0,[1,0,1,0,0,2,0,3]);if(b.substr(c,2)==="a0"){d.nextUpdate=hextoutf8(ASN1HEX.getDecendantHexVByNthList(b,c,[0]))}}catch(g){}return d};var Ext;if(typeof Ext=="undefined"||!Ext){Ext={}}if(typeof Ext.lang=="undefined"||!Ext.lang){Ext.lang={}}Ext.lang.String=function(){};function Base64x(){}function stoBA(c){var d=new Array();for(var b=0;b<c.length;b++){d[b]=c.charCodeAt(b)}return d}function BAtos(d){var c="";for(var b=0;b<d.length;b++){c=c+String.fromCharCode(d[b])}return c}function BAtohex(e){var d="";for(var c=0;c<e.length;c++){var b=e[c].toString(16);if(b.length==1){b="0"+b}d=d+b}return d}function stohex(c){return BAtohex(stoBA(c))}function stob64(c){return hex2b64(stohex(c))}function stob64u(c){return b64tob64u(hex2b64(stohex(c)))}function b64utos(c){return BAtos(b64toBA(b64utob64(c)))}function b64tob64u(c){c=c.replace(/\=/g,"");c=c.replace(/\+/g,"-");c=c.replace(/\//g,"_");return c}function b64utob64(c){if(c.length%4==2){c=c+"=="}else{if(c.length%4==3){c=c+"="}}c=c.replace(/-/g,"+");c=c.replace(/_/g,"/");return c}function hextob64u(c){if(c.length%2==1){c="0"+c}return b64tob64u(hex2b64(c))}function b64utohex(c){return b64tohex(b64utob64(c))}var utf8tob64u,b64utoutf8;if(typeof Buffer==="function"){utf8tob64u=function(c){return b64tob64u(new Buffer(c,"utf8").toString("base64"))};b64utoutf8=function(c){return new Buffer(b64utob64(c),"base64").toString("utf8")}}else{utf8tob64u=function(c){return hextob64u(uricmptohex(encodeURIComponentAll(c)))};b64utoutf8=function(c){return decodeURIComponent(hextouricmp(b64utohex(c)))}}function utf8tob64(c){return hex2b64(uricmptohex(encodeURIComponentAll(c)))}function b64toutf8(c){return decodeURIComponent(hextouricmp(b64tohex(c)))}function utf8tohex(c){return uricmptohex(encodeURIComponentAll(c))}function hextoutf8(c){return decodeURIComponent(hextouricmp(c))}function hextorstr(b){var g="";for(var c=0;c<b.length-1;c+=2){g+=String.fromCharCode(parseInt(b.substr(c,2),16))}return g}function rstrtohex(b){var c="";for(var g=0;g<b.length;g++){c+=("0"+b.charCodeAt(g).toString(16)).slice(-2)}return c}function hextob64(c){return hex2b64(c)}function hextob64nl(g){var c=hextob64(g);var b=c.replace(/(.{64})/g,"$1\r\n");b=b.replace(/\r\n$/,"");return b}function b64nltohex(g){var c=g.replace(/[^0-9A-Za-z\/+=]*/g,"");var b=b64tohex(c);return b}function hextoArrayBuffer(c){if(c.length%2!=0){throw"input is not even length"}if(c.match(/^[0-9A-Fa-f]+$/)==null){throw"input is not hexadecimal"}var k=new ArrayBuffer(c.length/2);var d=new DataView(k);for(var b=0;b<c.length/2;b++){d.setUint8(b,parseInt(c.substr(b*2,2),16))}return k}function ArrayBuffertohex(k){var c="";var d=new DataView(k);for(var b=0;b<k.byteLength;b++){c+=("00"+d.getUint8(b).toString(16)).slice(-2)}return c}function uricmptohex(c){return c.replace(/%/g,"")}function hextouricmp(c){return c.replace(/(..)/g,"%$1")}function encodeURIComponentAll(d){var c=encodeURIComponent(d);var k="";for(var b=0;b<c.length;b++){if(c[b]=="%"){k=k+c.substr(b,3);b=b+2}else{k=k+"%"+stohex(c[b])}}return k}function newline_toUnix(c){c=c.replace(/\r\n/mg,"\n");return c}function newline_toDos(c){c=c.replace(/\r\n/mg,"\n");c=c.replace(/\n/mg,"\r\n");return c}Ext.lang.String.isInteger=function(c){if(c.match(/^[0-9]+$/)){return true}else{if(c.match(/^-[0-9]+$/)){return true}else{return false}}};Ext.lang.String.isHex=function(c){if(c.length%2==0&&(c.match(/^[0-9a-f]+$/)||c.match(/^[0-9A-F]+$/))){return true}else{return false}};Ext.lang.String.isBase64=function(c){c=c.replace(/\s+/g,"");if(c.match(/^[0-9A-Za-z+\/]+={0,3}$/)&&c.length%4==0){return true}else{return false}};Ext.lang.String.isBase64URL=function(c){if(c.match(/[+/=]/)){return false}c=b64utob64(c);return Ext.lang.String.isBase64(c)};Ext.lang.String.isIntegerArray=function(c){c=c.replace(/\s+/g,"");if(c.match(/^\[[0-9,]+\]$/)){return true}else{return false}};function intarystrtohex(g){g=g.replace(/^\s*\[\s*/,"");g=g.replace(/\s*\]\s*$/,"");g=g.replace(/\s*/g,"");try{var b=g.split(/,/).map(function(n,f,d){var m=parseInt(n);if(m<0||255<m){throw"integer not in range 0-255"}var e=("00"+m.toString(16)).slice(-2);return e}).join("");return b}catch(c){throw"malformed integer array string: "+c}}var strdiffidx=function(b,d){var c=b.length;if(b.length>d.length){c=d.length}for(var k=0;k<c;k++){if(b.charCodeAt(k)!=d.charCodeAt(k)){return k}}if(b.length!=d.length){return c}return -1};if(typeof Ext=="undefined"||!Ext){Ext={}}if(typeof Ext.crypto=="undefined"||!Ext.crypto){Ext.crypto={}}Ext.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"};this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"};this.CRYPTOJSMESSAGEDIGESTNAME={md5:CryptoJS.algo.MD5,sha1:CryptoJS.algo.SHA1,sha224:CryptoJS.algo.SHA224,sha256:CryptoJS.algo.SHA256,sha384:CryptoJS.algo.SHA384,sha512:CryptoJS.algo.SHA512,ripemd160:CryptoJS.algo.RIPEMD160};this.getDigestInfoHex=function(b,e){if(typeof this.DIGESTINFOHEAD[e]=="undefined"){throw"alg not supported in Util.DIGESTINFOHEAD: "+e}return this.DIGESTINFOHEAD[e]+b};this.getPaddedDigestInfoHex=function(d,j,e){var l=this.getDigestInfoHex(d,j);var y=e/4;if(l.length+22>y){throw"key is too short for SigAlg: keylen="+e+","+j}var k="0001";var f="00"+l;var c="";var g=y-k.length-f.length;for(var b=0;b<g;b+=2){c+="ff"}var A=k+c+f;return A};this.hashString=function(c,b){var g=new Ext.crypto.MessageDigest({alg:b});return g.digestString(c)};this.hashHex=function(g,b){var c=new Ext.crypto.MessageDigest({alg:b});return c.digestHex(g)};this.sha1=function(b){var e=new Ext.crypto.MessageDigest({alg:"sha1",prov:"cryptojs"});return e.digestString(b)};this.sha256=function(b){var e=new Ext.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"});return e.digestString(b)};this.sha256Hex=function(b){var e=new Ext.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"});return e.digestHex(b)};this.sha512=function(b){var e=new Ext.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"});return e.digestString(b)};this.sha512Hex=function(b){var e=new Ext.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"});return e.digestHex(b)}}();Ext.crypto.Util.md5=function(b){var e=new Ext.crypto.MessageDigest({alg:"md5",prov:"cryptojs"});return e.digestString(b)};Ext.crypto.Util.ripemd160=function(b){var e=new Ext.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"});return e.digestString(b)};Ext.crypto.Util.SECURERANDOMGEN=new SecureRandom();Ext.crypto.Util.getRandomHexOfNbytes=function(e){var b=new Array(e);Ext.crypto.Util.SECURERANDOMGEN.nextBytes(b);return BAtohex(b)};Ext.crypto.Util.getRandomBigIntegerOfNbytes=function(c){return new BigInteger(Ext.crypto.Util.getRandomHexOfNbytes(c),16)};Ext.crypto.Util.getRandomHexOfNbits=function(c){var b=c%8;var d=(c-b)/8;var k=new Array(d+1);Ext.crypto.Util.SECURERANDOMGEN.nextBytes(k);k[0]=(((255<<b)&255)^255)&k[0];return BAtohex(k)};Ext.crypto.Util.getRandomBigIntegerOfNbits=function(c){return new BigInteger(Ext.crypto.Util.getRandomHexOfNbits(c),16)};Ext.crypto.Util.getRandomBigIntegerZeroToMax=function(g){var c=g.bitLength();while(1){var b=Ext.crypto.Util.getRandomBigIntegerOfNbits(c);if(g.compareTo(b)!=-1){return b}}};Ext.crypto.Util.getRandomBigIntegerMinToMax=function(d,m){var b=d.compareTo(m);if(b==1){throw"biMin is greater than biMax"}if(b==0){return d}var e=m.subtract(d);var c=Ext.crypto.Util.getRandomBigIntegerZeroToMax(e);return c.add(d)};Ext.crypto.MessageDigest=function(b){var k=null;var d=null;var c=null;this.setAlgAndProvider=function(e,g){e=Ext.crypto.MessageDigest.getCanonicalAlgName(e);if(e!==null&&g===undefined){g=Ext.crypto.Util.DEFAULTPROVIDER[e]}if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(e)!=-1&&g=="cryptojs"){try{this.md=Ext.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[e].create()}catch(f){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+f}this.updateString=function(j){this.md.update(j)};this.updateHex=function(j){var m=CryptoJS.enc.Hex.parse(j);this.md.update(m)};this.digest=function(){var j=this.md.finalize();return j.toString(CryptoJS.enc.Hex)};this.digestString=function(j){this.updateString(j);return this.digest()};this.digestHex=function(j){this.updateHex(j);return this.digest()}}if(":sha256:".indexOf(e)!=-1&&g=="sjcl"){try{this.md=new sjcl.hash.sha256()}catch(f){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+f}this.updateString=function(j){this.md.update(j)};this.updateHex=function(m){var j=sjcl.codec.hex.toBits(m);this.md.update(j)};this.digest=function(){var j=this.md.finalize();return sjcl.codec.hex.fromBits(j)};this.digestString=function(j){this.updateString(j);return this.digest()};this.digestHex=function(j){this.updateHex(j);return this.digest()}}};this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName};this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName};this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName};this.digestString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName};this.digestHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName};if(b!==undefined){if(b.alg!==undefined){this.algName=b.alg;if(b.prov===undefined){this.provName=Ext.crypto.Util.DEFAULTPROVIDER[this.algName]}this.setAlgAndProvider(this.algName,this.provName)}}};Ext.crypto.MessageDigest.getCanonicalAlgName=function(c){if(typeof c==="string"){c=c.toLowerCase();c=c.replace(/-/,"")}return c};Ext.crypto.MessageDigest.getHashLength=function(b){var g=Ext.crypto.MessageDigest;var c=g.getCanonicalAlgName(b);if(g.HASHLENGTH[c]===undefined){throw"not supported algorithm: "+b}return g.HASHLENGTH[c]};Ext.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20};Ext.crypto.Mac=function(b){var d=null;var o=null;var e=null;var c=null;var f=null;this.setAlgAndProvider=function(g,l){g=g.toLowerCase();if(g==null){g="hmacsha1"}g=g.toLowerCase();if(g.substr(0,4)!="hmac"){throw"setAlgAndProvider unsupported HMAC alg: "+g}if(l===undefined){l=Ext.crypto.Util.DEFAULTPROVIDER[g]}this.algProv=g+"/"+l;var j=g.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(j)!=-1&&l=="cryptojs"){try{var m=Ext.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[j];this.mac=CryptoJS.algo.HMAC.create(m,this.pass)}catch(k){throw"setAlgAndProvider hash alg set fail hashAlg="+j+"/"+k}this.updateString=function(n){this.mac.update(n)};this.updateHex=function(n){var q=CryptoJS.enc.Hex.parse(n);this.mac.update(q)};this.doFinal=function(){var n=this.mac.finalize();return n.toString(CryptoJS.enc.Hex)};this.doFinalString=function(n){this.updateString(n);return this.doFinal()};this.doFinalHex=function(n){this.updateHex(n);return this.doFinal()}}};this.updateString=function(g){throw"updateString(str) not supported for this alg/prov: "+this.algProv};this.updateHex=function(g){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv};this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv};this.doFinalString=function(g){throw"digestString(str) not supported for this alg/prov: "+this.algProv};this.doFinalHex=function(g){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv};this.setPassword=function(g){if(typeof g=="string"){var j=g;if(g.length%2==1||!g.match(/^[0-9A-Fa-f]+$/)){j=rstrtohex(g)}this.pass=CryptoJS.enc.Hex.parse(j);return}if(typeof g!="object"){throw"Ext.crypto.Mac unsupported password type: "+g}var j=null;if(g.hex!==undefined){if(g.hex.length%2!=0||!g.hex.match(/^[0-9A-Fa-f]+$/)){throw"Mac: wrong hex password: "+g.hex}j=g.hex}if(g.utf8!==undefined){j=utf8tohex(g.utf8)}if(g.rstr!==undefined){j=rstrtohex(g.rstr)}if(g.b64!==undefined){j=b64tohex(g.b64)}if(g.b64u!==undefined){j=b64utohex(g.b64u)}if(j==null){throw"Ext.crypto.Mac unsupported password type: "+g}this.pass=CryptoJS.enc.Hex.parse(j)};if(b!==undefined){if(b.pass!==undefined){this.setPassword(b.pass)}if(b.alg!==undefined){this.algName=b.alg;if(b.prov===undefined){this.provName=Ext.crypto.Util.DEFAULTPROVIDER[this.algName]}this.setAlgAndProvider(this.algName,this.provName)}}};Ext.crypto.Signature=function(k){var o=null;var g=null;var q=null;var e=null;var O=null;var f=null;var N=null;var p=null;var m=null;var j=null;var c=-1;var n=null;var M=null;var b=null;var r=null;var l=null;this._setAlgNames=function(){var s=this.algName.match(/^(.+)with(.+)$/);if(s){this.mdAlgName=s[1].toLowerCase();this.pubkeyAlgName=s[2].toLowerCase()}};this._zeroPaddingOfSignature=function(s,x){var w="";var u=x/4-s.length;for(var v=0;v<u;v++){w=w+"0"}return w+s};this.setAlgAndProvider=function(s,v){this._setAlgNames();if(v!="cryptojs/jsrsa"){throw"provider not supported: "+v}if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)!=-1){try{this.md=new Ext.crypto.MessageDigest({alg:this.mdAlgName})}catch(u){throw"setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+u}this.init=function(y,A){var w=null;try{if(A===undefined){w=KEYUTIL.getKey(y)}else{w=KEYUTIL.getKey(y,A)}}catch(x){throw"init failed:"+x}if(w.isPrivate===true){this.prvKey=w;this.state="SIGN"}else{if(w.isPublic===true){this.pubKey=w;this.state="VERIFY"}else{throw"init failed.:"+w}}};this.initSign=function(w){if(typeof w.ecprvhex=="string"&&typeof w.eccurvename=="string"){this.ecprvhex=w.ecprvhex;this.eccurvename=w.eccurvename}else{this.prvKey=w}this.state="SIGN"};this.initVerifyByPublicKey=function(w){if(typeof w.ecpubhex=="string"&&typeof w.eccurvename=="string"){this.ecpubhex=w.ecpubhex;this.eccurvename=w.eccurvename}else{if(w instanceof Ext.crypto.ECDSA){this.pubKey=w}else{if(w instanceof RSAKey){this.pubKey=w}}}this.state="VERIFY"};this.initVerifyByCertificatePEM=function(w){var x=new X509();x.readCertPEM(w);this.pubKey=x.subjectPublicKeyRSA;this.state="VERIFY"};this.updateString=function(w){this.md.updateString(w)};this.updateHex=function(w){this.md.updateHex(w)};this.sign=function(){this.sHashHex=this.md.digest();if(typeof this.ecprvhex!="undefined"&&typeof this.eccurvename!="undefined"){var w=new Ext.crypto.ECDSA({curve:this.eccurvename});this.hSign=w.signHex(this.sHashHex,this.ecprvhex)}else{if(this.prvKey instanceof RSAKey&&this.pubkeyAlgName=="rsaandmgf1"){this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen)}else{if(this.prvKey instanceof RSAKey&&this.pubkeyAlgName=="rsa"){this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName)}else{if(this.prvKey instanceof Ext.crypto.ECDSA){this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}else{if(this.prvKey instanceof Ext.crypto.DSA){this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}else{throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}}}}return this.hSign};this.signString=function(w){this.updateString(w);return this.sign()};this.signHex=function(w){this.updateHex(w);return this.sign()};this.verify=function(w){this.sHashHex=this.md.digest();if(typeof this.ecpubhex!="undefined"&&typeof this.eccurvename!="undefined"){var x=new Ext.crypto.ECDSA({curve:this.eccurvename});return x.verifyHex(this.sHashHex,w,this.ecpubhex)}else{if(this.pubKey instanceof RSAKey&&this.pubkeyAlgName=="rsaandmgf1"){return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,w,this.mdAlgName,this.pssSaltLen)}else{if(this.pubKey instanceof RSAKey&&this.pubkeyAlgName=="rsa"){return this.pubKey.verifyWithMessageHash(this.sHashHex,w)}else{if(this.pubKey instanceof Ext.crypto.ECDSA){return this.pubKey.verifyWithMessageHash(this.sHashHex,w)}else{if(this.pubKey instanceof Ext.crypto.DSA){return this.pubKey.verifyWithMessageHash(this.sHashHex,w)}else{throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}}}}}}};this.init=function(u,s){throw"init(key, pass) not supported for this alg:prov="+this.algProvName};this.initVerifyByPublicKey=function(s){throw"initVerifyByPublicKey(rsaPubKeyy) not supported for this alg:prov="+this.algProvName};this.initVerifyByCertificatePEM=function(s){throw"initVerifyByCertificatePEM(certPEM) not supported for this alg:prov="+this.algProvName};this.initSign=function(s){throw"initSign(prvKey) not supported for this alg:prov="+this.algProvName};this.updateString=function(s){throw"updateString(str) not supported for this alg:prov="+this.algProvName};this.updateHex=function(s){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName};this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName};this.signString=function(s){throw"digestString(str) not supported for this alg:prov="+this.algProvName};this.signHex=function(s){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName};this.verify=function(s){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName};this.initParams=k;if(k!==undefined){if(k.alg!==undefined){this.algName=k.alg;if(k.prov===undefined){this.provName=Ext.crypto.Util.DEFAULTPROVIDER[this.algName]}else{this.provName=k.prov}this.algProvName=this.algName+":"+this.provName;this.setAlgAndProvider(this.algName,this.provName);this._setAlgNames()}if(k.psssaltlen!==undefined){this.pssSaltLen=k.psssaltlen}if(k.prvkeypem!==undefined){if(k.prvkeypas!==undefined){throw"both prvkeypem and prvkeypas parameters not supported"}else{try{var o=new RSAKey();o.readPrivateKeyFromPEMString(k.prvkeypem);this.initSign(o)}catch(d){throw"fatal error to load pem private key: "+d}}}}};Ext.crypto.Cipher=function(c){};Ext.crypto.Cipher.encrypt=function(d,e,c){if(e instanceof RSAKey&&e.isPublic){var b=Ext.crypto.Cipher.getAlgByKeyAndName(e,c);if(b==="RSA"){return e.encrypt(d)}if(b==="RSAOAEP"){return e.encryptOAEP(d,"sha1")}var f=b.match(/^RSAOAEP(\d+)$/);if(f!==null){return e.encryptOAEP(d,"sha"+f[1])}throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+c}else{throw"Cipher.encrypt: unsupported key or algorithm"}};Ext.crypto.Cipher.decrypt=function(d,e,c){if(e instanceof RSAKey&&e.isPrivate){var b=Ext.crypto.Cipher.getAlgByKeyAndName(e,c);if(b==="RSA"){return e.decrypt(d)}if(b==="RSAOAEP"){return e.decryptOAEP(d,"sha1")}var f=b.match(/^RSAOAEP(\d+)$/);if(f!==null){return e.decryptOAEP(d,"sha"+f[1])}throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+c}else{throw"Cipher.decrypt: unsupported key or algorithm"}};Ext.crypto.Cipher.getAlgByKeyAndName=function(e,b){if(e instanceof RSAKey){if(":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(b)!=-1){return b}if(b===null||b===undefined){return"RSA"}throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+b}throw"getAlgByKeyAndName: not supported algorithm name: "+b};Ext.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}}();if(typeof Ext=="undefined"||!Ext){Ext={}}if(typeof Ext.crypto=="undefined"||!Ext.crypto){Ext.crypto={}}Ext.crypto.ECDSA=function(c){var r="secp256r1";var b=null;var e=null;var s=null;var d=new SecureRandom();var g=null;this.type="EC";this.isPrivate=false;this.isPublic=false;function f(p,l,o,k){var j=Math.max(l.bitLength(),k.bitLength());var q=p.add2D(o);var n=p.curve.getInfinity();for(var m=j-1;m>=0;--m){n=n.twice2D();n.z=BigInteger.ONE;if(l.testBit(m)){if(k.testBit(m)){n=n.add2D(q)}else{n=n.add2D(p)}}else{if(k.testBit(m)){n=n.add2D(o)}}}return n}this.getBigRandom=function(j){return new BigInteger(j.bitLength(),d).mod(j.subtract(BigInteger.ONE)).add(BigInteger.ONE)};this.setNamedCurve=function(j){this.ecparams=Ext.crypto.ECParameterDB.getByName(j);this.prvKeyHex=null;this.pubKeyHex=null;this.curveName=j};this.setPrivateKeyHex=function(j){this.isPrivate=true;this.prvKeyHex=j};this.setPublicKeyHex=function(j){this.isPublic=true;this.pubKeyHex=j};this.getPublicKeyXYHex=function(){var j=this.pubKeyHex;if(j.substr(0,2)!=="04"){throw"this method supports uncompressed format(04) only"}var l=this.ecparams.keylen/4;if(j.length!==2+l*2){throw"malformed public key hex length"}var k={};k.x=j.substr(2,l);k.y=j.substr(2+l);return k};this.getShortNISTPCurveName=function(){var j=this.curveName;if(j==="secp256r1"||j==="NIST P-256"||j==="P-256"||j==="prime256v1"){return"P-256"}if(j==="secp384r1"||j==="NIST P-384"||j==="P-384"){return"P-384"}return null};this.generateKeyPairHex=function(){var x=this.ecparams.n;var k=this.getBigRandom(x);var y=this.ecparams.G.multiply(k);var n=y.getX().toBigInteger();var l=y.getY().toBigInteger();var p=this.ecparams.keylen/4;var j=("0000000000"+k.toString(16)).slice(-p);var o=("0000000000"+n.toString(16)).slice(-p);var m=("0000000000"+l.toString(16)).slice(-p);var q="04"+o+m;this.setPrivateKeyHex(j);this.setPublicKeyHex(q);return{ecprvhex:j,ecpubhex:q}};this.signWithMessageHash=function(j){return this.signHex(j,this.prvKeyHex)};this.signHex=function(n,k){var q=new BigInteger(k,16);var l=this.ecparams.n;var p=new BigInteger(n,16);do{var m=this.getBigRandom(l);var u=this.ecparams.G;var o=u.multiply(m);var j=o.getX().toBigInteger().mod(l)}while(j.compareTo(BigInteger.ZERO)<=0);var v=m.modInverse(l).multiply(p.add(q.multiply(j))).mod(l);return Ext.crypto.ECDSA.biRSSigToASN1Sig(j,v)};this.sign=function(m,u){var p=u;var k=this.ecparams.n;var o=BigInteger.fromByteArrayUnsigned(m);do{var l=this.getBigRandom(k);var q=this.ecparams.G;var n=q.multiply(l);var j=n.getX().toBigInteger().mod(k)}while(j.compareTo(BigInteger.ZERO)<=0);var v=l.modInverse(k).multiply(o.add(p.multiply(j))).mod(k);return this.serializeSig(j,v)};this.verifyWithMessageHash=function(j,k){return this.verifyHex(j,k,this.pubKeyHex)};this.verifyHex=function(j,n,m){var q,o;var l=Ext.crypto.ECDSA.parseSigHex(n);q=l.r;o=l.s;var p;p=ECPointFp.decodeFromHex(this.ecparams.curve,m);var k=new BigInteger(j,16);return this.verifyRaw(k,q,o,p)};this.verify=function(m,l,o){var q,n;if(Bitcoin.Util.isArray(l)){var k=this.parseSig(l);q=k.r;n=k.s}else{if("object"===typeof l&&l.r&&l.s){q=l.r;n=l.s}else{throw"Invalid value for signature"}}var p;if(o instanceof ECPointFp){p=o}else{if(Bitcoin.Util.isArray(o)){p=ECPointFp.decodeFrom(this.ecparams.curve,o)}else{throw"Invalid format for pubkey value, must be byte array or ECPointFp"}}var j=BigInteger.fromByteArrayUnsigned(m);return this.verifyRaw(j,q,n,p)};this.verifyRaw=function(n,A,w,m){var l=this.ecparams.n;var u=this.ecparams.G;if(A.compareTo(BigInteger.ONE)<0||A.compareTo(l)>=0){return false}if(w.compareTo(BigInteger.ONE)<0||w.compareTo(l)>=0){return false}var o=w.modInverse(l);var k=n.multiply(o).mod(l);var j=A.multiply(o).mod(l);var q=u.multiply(k).add(m.multiply(j));var p=q.getX().toBigInteger().mod(l);return p.equals(A)};this.serializeSig=function(m,l){var n=m.toByteArraySigned();var k=l.toByteArraySigned();var j=[];j.push(2);j.push(n.length);j=j.concat(n);j.push(2);j.push(k.length);j=j.concat(k);j.unshift(j.length);j.unshift(48);return j};this.parseSig=function(k){var j;if(k[0]!=48){throw new Error("Signature not a valid DERSequence")}j=2;if(k[j]!=2){throw new Error("First element in signature must be a DERInteger")}var o=k.slice(j+2,j+2+k[j+1]);j+=2+k[j+1];if(k[j]!=2){throw new Error("Second element in signature must be a DERInteger")}var l=k.slice(j+2,j+2+k[j+1]);j+=2+k[j+1];var n=BigInteger.fromByteArrayUnsigned(o);var m=BigInteger.fromByteArrayUnsigned(l);return{r:n,s:m}};this.parseSigCompact=function(j){if(j.length!==65){throw"Signature has the wrong length"}var l=j[0]-27;if(l<0||l>7){throw"Invalid signature type"}var k=this.ecparams.n;var n=BigInteger.fromByteArrayUnsigned(j.slice(1,33)).mod(k);var m=BigInteger.fromByteArrayUnsigned(j.slice(33,65)).mod(k);return{r:n,s:m,i:l}};this.readPKCS5PrvKeyHex=function(q){var k=ASN1HEX;var j=Ext.crypto.ECDSA.getName;var m=k.getVbyList;if(k.isASN1HEX(q)===false){throw"not ASN.1 hex string"}var n,p,l;try{n=m(q,0,[2,0],"06");p=m(q,0,[1],"04");try{l=m(q,0,[3,0],"03").substr(2)}catch(o){}}catch(o){throw"malformed PKCS#1/5 plain ECC private key"}this.curveName=j(n);if(this.curveName===undefined){throw"unsupported curve name"}this.setNamedCurve(this.curveName);this.setPublicKeyHex(l);this.setPrivateKeyHex(p);this.isPublic=false};this.readPKCS8PrvKeyHex=function(k){var p=ASN1HEX;var q=Ext.crypto.ECDSA.getName;var m=p.getVbyList;if(p.isASN1HEX(k)===false){throw"not ASN.1 hex string"}var v,o,l,j;try{v=m(k,0,[1,0],"06");o=m(k,0,[1,1],"06");l=m(k,0,[2,0,1],"04");try{j=m(k,0,[2,0,2,0],"03").substr(2)}catch(n){}}catch(n){throw"malformed PKCS#8 plain ECC private key"}this.curveName=q(o);if(this.curveName===undefined){throw"unsupported curve name"}this.setNamedCurve(this.curveName);this.setPublicKeyHex(j);this.setPrivateKeyHex(l);this.isPublic=false};this.readPKCS8PubKeyHex=function(q){var k=ASN1HEX;var j=Ext.crypto.ECDSA.getName;var m=k.getVbyList;if(k.isASN1HEX(q)===false){throw"not ASN.1 hex string"}var p,n,l;try{p=m(q,0,[0,0],"06");n=m(q,0,[0,1],"06");l=m(q,0,[1],"03").substr(2)}catch(o){throw"malformed PKCS#8 ECC public key"}this.curveName=j(n);if(this.curveName===null){throw"unsupported curve name"}this.setNamedCurve(this.curveName);this.setPublicKeyHex(l)};this.readCertPubKeyHex=function(p,m){if(m!==5){m=6}var j=ASN1HEX;var q=Ext.crypto.ECDSA.getName;var l=j.getVbyList;if(j.isASN1HEX(p)===false){throw"not ASN.1 hex string"}var n,k;try{n=l(p,0,[0,m,0,1],"06");k=l(p,0,[0,m,1],"03").substr(2)}catch(o){throw"malformed X.509 certificate ECC public key"}this.curveName=q(n);if(this.curveName===null){throw"unsupported curve name"}this.setNamedCurve(this.curveName);this.setPublicKeyHex(k)};if(c!==undefined){if(c.curve!==undefined){this.curveName=c.curve}}if(this.curveName===undefined){this.curveName=r}this.setNamedCurve(this.curveName);if(c!==undefined){if(c.prv!==undefined){this.setPrivateKeyHex(c.prv)}if(c.pub!==undefined){this.setPublicKeyHex(c.pub)}}};Ext.crypto.ECDSA.parseSigHex=function(d){var k=Ext.crypto.ECDSA.parseSigHexInHexRS(d);var c=new BigInteger(k.r,16);var b=new BigInteger(k.s,16);return{r:c,s:b}};Ext.crypto.ECDSA.parseSigHexInHexRS=function(f){if(f.substr(0,2)!="30"){throw"signature is not a ASN.1 sequence"}var e=ASN1HEX.getPosArrayOfChildren_AtObj(f,0);if(e.length!=2){throw"number of signature ASN.1 sequence elements seem wrong"}var d=e[0];var c=e[1];if(f.substr(d,2)!="02"){throw"1st item of sequene of signature is not ASN.1 integer"}if(f.substr(c,2)!="02"){throw"2nd item of sequene of signature is not ASN.1 integer"}var b=ASN1HEX.getHexOfV_AtObj(f,d);var g=ASN1HEX.getHexOfV_AtObj(f,c);return{r:b,s:g}};Ext.crypto.ECDSA.asn1SigToConcatSig=function(b){var c=Ext.crypto.ECDSA.parseSigHexInHexRS(b);var k=c.r;var d=c.s;if(k.substr(0,2)=="00"&&(((k.length/2)*8)%(16*8))==8){k=k.substr(2)}if(d.substr(0,2)=="00"&&(((d.length/2)*8)%(16*8))==8){d=d.substr(2)}if((((k.length/2)*8)%(16*8))!=0){throw"unknown ECDSA sig r length error"}if((((d.length/2)*8)%(16*8))!=0){throw"unknown ECDSA sig s length error"}return k+d};Ext.crypto.ECDSA.concatSigToASN1Sig=function(c){if((((c.length/2)*8)%(16*8))!=0){throw"unknown ECDSA concatinated r-s sig  length error"}var b=c.substr(0,c.length/2);var g=c.substr(c.length/2);return Ext.crypto.ECDSA.hexRSSigToASN1Sig(b,g)};Ext.crypto.ECDSA.hexRSSigToASN1Sig=function(k,d){var c=new BigInteger(k,16);var b=new BigInteger(d,16);return Ext.crypto.ECDSA.biRSSigToASN1Sig(c,b)};Ext.crypto.ECDSA.biRSSigToASN1Sig=function(d,b){var m=new Ext.asn1.DERInteger({bigint:d});var e=new Ext.asn1.DERInteger({bigint:b});var c=new Ext.asn1.DERSequence({array:[m,e]});return c.getEncodedHex()};Ext.crypto.ECDSA.getName=function(c){if(c==="2a8648ce3d030107"){return"secp256r1"}if(c==="2b8104000a"){return"secp256k1"}if(c==="2b81040022"){return"secp384r1"}if("|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(c)!==-1){return"secp256r1"}if("|secp256k1|".indexOf(c)!==-1){return"secp256k1"}if("|secp384r1|NIST P-384|P-384|".indexOf(c)!==-1){return"secp384r1"}return null};if(typeof Ext=="undefined"||!Ext){Ext={}}if(typeof Ext.crypto=="undefined"||!Ext.crypto){Ext.crypto={}}Ext.crypto.ECParameterDB=new function(){var g={};var b={};function c(d){return new BigInteger(d,16)}this.getByName=function(d){var e=d;if(typeof b[e]!="undefined"){e=b[d]}if(typeof g[e]!="undefined"){return g[e]}throw"unregistered EC curve name: "+e};this.regist=function(r,m,q,j,o,e,k,f,l,x,d,R){g[r]={};var v=c(q);var T=c(j);var S=c(o);var w=c(e);var A=c(k);var u=new ECCurveFp(v,T,S);var s=u.decodePointHex("04"+f+l);g[r]["name"]=r;g[r]["keylen"]=m;g[r]["curve"]=u;g[r]["G"]=s;g[r]["n"]=w;g[r]["h"]=A;g[r]["oid"]=d;g[r]["info"]=R;for(var y=0;y<x.length;y++){b[x[y]]=r}}}();Ext.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field");Ext.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field");Ext.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field");Ext.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]);Ext.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]);Ext.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]);Ext.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]);Ext.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]);Ext.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]);Ext.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);if(typeof Ext=="undefined"||!Ext){Ext={}}if(typeof Ext.crypto=="undefined"||!Ext.crypto){Ext.crypto={}}Ext.crypto.DSA=function(){this.p=null;this.q=null;this.g=null;this.y=null;this.x=null;this.type="DSA";this.isPrivate=false;this.isPublic=false;this.setPrivate=function(c,b,m,d,e){this.isPrivate=true;this.p=c;this.q=b;this.g=m;this.y=d;this.x=e};this.setPrivateHex=function(c,x,e,j,v){var b,w,d,f,g;b=new BigInteger(c,16);w=new BigInteger(x,16);d=new BigInteger(e,16);if(typeof j==="string"&&j.length>1){f=new BigInteger(j,16)}else{f=null}g=new BigInteger(v,16);this.setPrivate(b,w,d,f,g)};this.setPublic=function(b,k,d,c){this.isPublic=true;this.p=b;this.q=k;this.g=d;this.y=c;this.x=null};this.setPublicHex=function(s,r,g,b){var e,d,c,f;e=new BigInteger(s,16);d=new BigInteger(r,16);c=new BigInteger(g,16);f=new BigInteger(b,16);this.setPublic(e,d,c,f)};this.signWithMessageHash=function(A){var n=this.p;var m=this.q;var C=this.g;var c=this.y;var d=this.x;var B=Ext.crypto.Util.getRandomBigIntegerMinToMax(BigInteger.ONE.add(BigInteger.ONE),m.subtract(BigInteger.ONE));var e=A.substr(0,m.bitLength()/4);var b=new BigInteger(e,16);var l=(C.modPow(B,n)).mod(m);var j=(B.modInverse(m).multiply(b.add(d.multiply(l)))).mod(m);var f=Ext.asn1.ASN1Util.jsonToASN1HEX({seq:[{"int":{bigint:l}},{"int":{bigint:j}}]});return f};this.verifyWithMessageHash=function(o,n){var k=this.p;var e=this.q;var G=this.g;var c=this.y;var F=this.parseASN1Signature(n);var b=F[0];var I=F[1];var l=o.substr(0,e.bitLength()/4);var H=new BigInteger(l,16);if(BigInteger.ZERO.compareTo(b)>0||b.compareTo(e)>0){throw"invalid DSA signature"}if(BigInteger.ZERO.compareTo(I)>0||I.compareTo(e)>0){throw"invalid DSA signature"}var d=I.modInverse(e);var m=H.multiply(d).mod(e);var j=b.multiply(d).mod(e);var f=G.modPow(m,k).multiply(c.modPow(j,k)).mod(k).mod(e);return f.compareTo(b)==0};this.parseASN1Signature=function(d){try{var c=new BigInteger(ASN1HEX.getVbyList(d,0,[0],"02"),16);var b=new BigInteger(ASN1HEX.getVbyList(d,0,[1],"02"),16);return[c,b]}catch(k){throw"malformed ASN.1 DSA signature"}};this.readPKCS5PrvKeyHex=function(c){var b,v,f,g,j;var u=ASN1HEX;var d=u.getVbyList;if(u.isASN1HEX(c)===false){throw"not ASN.1 hex string"}try{b=d(c,0,[1],"02");v=d(c,0,[2],"02");f=d(c,0,[3],"02");g=d(c,0,[4],"02");j=d(c,0,[5],"02")}catch(e){console.log("EXCEPTION:"+e);throw"malformed PKCS#1/5 plain DSA private key"}this.setPrivateHex(b,v,f,g,j)};this.readPKCS8PrvKeyHex=function(g){var s,f,e,b;var r=ASN1HEX;var c=r.getVbyList;if(r.isASN1HEX(g)===false){throw"not ASN.1 hex string"}try{s=c(g,0,[1,1,0],"02");f=c(g,0,[1,1,1],"02");e=c(g,0,[1,1,2],"02");b=c(g,0,[2,0],"02")}catch(d){console.log("EXCEPTION:"+d);throw"malformed PKCS#8 plain DSA private key"}this.setPrivateHex(s,f,e,null,b)};this.readPKCS8PubKeyHex=function(g){var s,f,e,b;var r=ASN1HEX;var c=r.getVbyList;if(r.isASN1HEX(g)===false){throw"not ASN.1 hex string"}try{s=c(g,0,[0,1,0],"02");f=c(g,0,[0,1,1],"02");e=c(g,0,[0,1,2],"02");b=c(g,0,[1,0],"02")}catch(d){console.log("EXCEPTION:"+d);throw"malformed PKCS#8 DSA public key"}this.setPublicHex(s,f,e,b)};this.readCertPubKeyHex=function(c,f){if(f!==5){f=6}var b,v,g,j;var u=ASN1HEX;var d=u.getVbyList;if(u.isASN1HEX(c)===false){throw"not ASN.1 hex string"}try{b=d(c,0,[0,f,0,1,0],"02");v=d(c,0,[0,f,0,1,1],"02");g=d(c,0,[0,f,0,1,2],"02");j=d(c,0,[0,f,1,0],"02")}catch(e){console.log("EXCEPTION:"+e);throw"malformed X.509 certificate DSA public key"}this.setPublicHex(b,v,g,j)}};var PKCS5PKEY=function(){var j=function(p,o,q){return E(CryptoJS.AES,p,o,q)};var k=function(p,o,q){return E(CryptoJS.TripleDES,p,o,q)};var E=function(x,s,p,v){var w=CryptoJS.enc.Hex.parse(s);var r=CryptoJS.enc.Hex.parse(p);var u=CryptoJS.enc.Hex.parse(v);var o={};o.key=r;o.iv=u;o.ciphertext=w;var q=x.decrypt(o,r,{iv:u});return CryptoJS.enc.Hex.stringify(q)};var b=function(p,o,q){return l(CryptoJS.AES,p,o,q)};var g=function(p,o,q){return l(CryptoJS.TripleDES,p,o,q)};var l=function(p,v,s,y){var o=CryptoJS.enc.Hex.parse(v);var u=CryptoJS.enc.Hex.parse(s);var x=CryptoJS.enc.Hex.parse(y);var w={};var r=p.encrypt(o,u,{iv:x});var A=CryptoJS.enc.Hex.parse(r.toString());var q=CryptoJS.enc.Base64.stringify(A);return q};var n={"AES-256-CBC":{proc:j,eproc:b,keylen:32,ivlen:16},"AES-192-CBC":{proc:j,eproc:b,keylen:24,ivlen:16},"AES-128-CBC":{proc:j,eproc:b,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:k,eproc:g,keylen:24,ivlen:8}};var f=function(o){return n[o]["proc"]};var d=function(p){var o=CryptoJS.lib.WordArray.random(p);var q=CryptoJS.enc.Hex.stringify(o);return q};var e=function(v){var w={};var q=v.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));if(q){w.cipher=q[1];w.ivsalt=q[2]}var p=v.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));if(p){w.type=p[1]}var u=-1;var o=0;if(v.indexOf("\r\n\r\n")!=-1){u=v.indexOf("\r\n\r\n");o=2}if(v.indexOf("\n\n")!=-1){u=v.indexOf("\n\n");o=1}var s=v.indexOf("-----END");if(u!=-1&&s!=-1){var r=v.substring(u+o*2,s-o);r=r.replace(/\s+/g,"");w.data=r}return w};var D=function(x,u,w){var q=w.substring(0,16);var o=CryptoJS.enc.Hex.parse(q);var y=CryptoJS.enc.Utf8.parse(u);var p=n[x]["keylen"]+n[x]["ivlen"];var s="";var r=null;for(;;){var A=CryptoJS.algo.MD5.create();if(r!=null){A.update(r)}A.update(y);A.update(o);r=A.finalize();s=s+CryptoJS.enc.Hex.stringify(r);if(s.length>=p*2){break}}var v={};v.keyhex=s.substr(0,n[x]["keylen"]*2);v.ivhex=s.substr(n[x]["keylen"]*2,n[x]["ivlen"]*2);return v};var c=function(p,w,r,o){var s=CryptoJS.enc.Base64.parse(p);var q=CryptoJS.enc.Hex.stringify(s);var v=n[w]["proc"];var u=v(q,r,o);return u};var m=function(p,s,q,o){var r=n[s]["eproc"];var u=r(p,q,o);return u};return{version:"1.0.5",getHexFromPEM:function(p,o){return ASN1HEX.pemToHex(p,o)},getDecryptedKeyHexByKeyIV:function(q,o,s,r){var p=f(o);return p(q,s,r)},parsePKCS5PEM:function(o){return e(o)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(q,p,o){return D(q,p,o)},decryptKeyB64:function(p,r,q,o){return c(p,r,q,o)},getDecryptedKeyHex:function(u,s){var w=e(u);var o=w.type;var x=w.cipher;var v=w.ivsalt;var y=w.data;var r=D(x,s,v);var q=r.keyhex;var p=c(y,x,q,v);return p},getRSAKeyFromEncryptedPKCS5PEM:function(r,q){var o=this.getDecryptedKeyHex(r,q);var p=new RSAKey();p.readPrivateKeyFromASN1HexString(o);return p},getEncryptedPKCS5PEMFromPrvKeyHex:function(A,v,o,y){if(typeof o=="undefined"||o==null){o="AES-256-CBC"}if(typeof n[o]=="undefined"){throw"PKCS5PKEY unsupported algorithm: "+o}if(typeof y=="undefined"||y==null){var q=n[o]["ivlen"];var p=d(q);y=p.toUpperCase()}var u=D(o,v,y);var s=u.keyhex;var r=m(A,o,s,y);var x=r.replace(/(.{64})/g,"$1\r\n");var w="-----BEGIN RSA PRIVATE KEY-----\r\n";w+="Proc-Type: 4,ENCRYPTED\r\n";w+="DEK-Info: "+o+","+y+"\r\n";w+="\r\n";w+=x;w+="\r\n-----END RSA PRIVATE KEY-----\r\n";return w},getEncryptedPKCS5PEMFromRSAKey:function(x,y,v,B){var u=new Ext.asn1.DERInteger({"int":0});var o=new Ext.asn1.DERInteger({bigint:x.n});var s=new Ext.asn1.DERInteger({"int":x.e});var w=new Ext.asn1.DERInteger({bigint:x.d});var J=new Ext.asn1.DERInteger({bigint:x.p});var A=new Ext.asn1.DERInteger({bigint:x.q});var r=new Ext.asn1.DERInteger({bigint:x.dmp1});var K=new Ext.asn1.DERInteger({bigint:x.dmq1});var q=new Ext.asn1.DERInteger({bigint:x.coeff});var C=new Ext.asn1.DERSequence({array:[u,o,s,w,J,A,r,K,q]});var p=C.getEncodedHex();return this.getEncryptedPKCS5PEMFromPrvKeyHex(p,y,v,B)},newEncryptedPKCS5PEM:function(p,q,u,o){if(typeof q=="undefined"||q==null){q=1024}if(typeof u=="undefined"||u==null){u="10001"}var r=new RSAKey();r.generate(q,u);var s=null;if(typeof o=="undefined"||o==null){s=this.getEncryptedPKCS5PEMFromRSAKey(pkey,p)}else{s=this.getEncryptedPKCS5PEMFromRSAKey(pkey,p,o)}return s},getRSAKeyFromPlainPKCS8PEM:function(o){if(o.match(/ENCRYPTED/)){throw"pem shall be not ENCRYPTED"}var q=ASN1HEX.pemToHex(o,"PRIVATE KEY");var p=this.getRSAKeyFromPlainPKCS8Hex(q);return p},getRSAKeyFromPlainPKCS8Hex:function(o){var p=new RSAKey();p.readPKCS8PrvKeyHex(o);return p},parseHexOfEncryptedPKCS8:function(r){var y={};var x=ASN1HEX.getPosArrayOfChildren_AtObj(r,0);if(x.length!=2){throw"malformed format: SEQUENCE(0).items != 2: "+x.length}y.ciphertext=ASN1HEX.getHexOfV_AtObj(r,x[1]);var u=ASN1HEX.getPosArrayOfChildren_AtObj(r,x[0]);if(u.length!=2){throw"malformed format: SEQUENCE(0.0).items != 2: "+u.length}if(ASN1HEX.getHexOfV_AtObj(r,u[0])!="2a864886f70d01050d"){throw"this only supports pkcs5PBES2"}var v=ASN1HEX.getPosArrayOfChildren_AtObj(r,u[1]);if(u.length!=2){throw"malformed format: SEQUENCE(0.0.1).items != 2: "+v.length}var w=ASN1HEX.getPosArrayOfChildren_AtObj(r,v[1]);if(w.length!=2){throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+w.length}if(ASN1HEX.getHexOfV_AtObj(r,w[0])!="2a864886f70d0307"){throw"this only supports TripleDES"}y.encryptionSchemeAlg="TripleDES";y.encryptionSchemeIV=ASN1HEX.getHexOfV_AtObj(r,w[1]);var o=ASN1HEX.getPosArrayOfChildren_AtObj(r,v[0]);if(o.length!=2){throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+o.length}if(ASN1HEX.getHexOfV_AtObj(r,o[0])!="2a864886f70d01050c"){throw"this only supports pkcs5PBKDF2"}var s=ASN1HEX.getPosArrayOfChildren_AtObj(r,o[1]);if(s.length<2){throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+s.length}y.pbkdf2Salt=ASN1HEX.getHexOfV_AtObj(r,s[0]);var p=ASN1HEX.getHexOfV_AtObj(r,s[1]);try{y.pbkdf2Iter=parseInt(p,16)}catch(q){throw"malformed format pbkdf2Iter: "+p}return y},getPBKDF2KeyHexFromParam:function(o,p){var u=CryptoJS.enc.Hex.parse(o.pbkdf2Salt);var q=o.pbkdf2Iter;var s=CryptoJS.PBKDF2(p,u,{keySize:192/32,iterations:q});var r=CryptoJS.enc.Hex.stringify(s);return r},getPlainPKCS8HexFromEncryptedPKCS8PEM:function(s,u){var x=ASN1HEX.pemToHex(s,"ENCRYPTED PRIVATE KEY");var v=this.parseHexOfEncryptedPKCS8(x);var p=PKCS5PKEY.getPBKDF2KeyHexFromParam(v,u);var q={};q.ciphertext=CryptoJS.enc.Hex.parse(v.ciphertext);var o=CryptoJS.enc.Hex.parse(p);var y=CryptoJS.enc.Hex.parse(v.encryptionSchemeIV);var r=CryptoJS.TripleDES.decrypt(q,o,{iv:y});var w=CryptoJS.enc.Hex.stringify(r);return w},getRSAKeyFromEncryptedPKCS8PEM:function(o,r){var q=this.getPlainPKCS8HexFromEncryptedPKCS8PEM(o,r);var p=this.getRSAKeyFromPlainPKCS8Hex(q);return p},getKeyFromEncryptedPKCS8PEM:function(o,q){var p=this.getPlainPKCS8HexFromEncryptedPKCS8PEM(o,q);var r=this.getKeyFromPlainPrivatePKCS8Hex(p);return r},parsePlainPrivatePKCS8Hex:function(o){var q={};q.algparam=null;if(o.substr(0,2)!="30"){throw"malformed plain PKCS8 private key(code:001)"}var r=ASN1HEX.getPosArrayOfChildren_AtObj(o,0);if(r.length!=3){throw"malformed plain PKCS8 private key(code:002)"}if(o.substr(r[1],2)!="30"){throw"malformed PKCS8 private key(code:003)"}var p=ASN1HEX.getPosArrayOfChildren_AtObj(o,r[1]);if(p.length!=2){throw"malformed PKCS8 private key(code:004)"}if(o.substr(p[0],2)!="06"){throw"malformed PKCS8 private key(code:005)"}q.algoid=ASN1HEX.getHexOfV_AtObj(o,p[0]);if(o.substr(p[1],2)=="06"){q.algparam=ASN1HEX.getHexOfV_AtObj(o,p[1])}if(o.substr(r[2],2)!="04"){throw"malformed PKCS8 private key(code:006)"}q.keyidx=ASN1HEX.getStartPosOfV_AtObj(o,r[2]);return q},getKeyFromPlainPrivatePKCS8PEM:function(q){var p=ASN1HEX.pemToHex(q,"PRIVATE KEY");var o=this.getKeyFromPlainPrivatePKCS8Hex(p);return o},getKeyFromPlainPrivatePKCS8Hex:function(p){var q=this.parsePlainPrivatePKCS8Hex(p);var o;if(q.algoid=="2a864886f70d010101"){o=new RSAKey()}else{if(q.algoid=="2a8648ce380401"){o=new Ext.crypto.DSA()}else{if(q.algoid=="2a8648ce3d0201"){o=new Ext.crypto.ECDSA()}else{throw"unsupported private key algorithm"}}}o.readPKCS8PrvKeyHex(p);return o},getRSAKeyFromPublicPKCS8PEM:function(q){var o=ASN1HEX.pemToHex(q,"PUBLIC KEY");var p=this.getRSAKeyFromPublicPKCS8Hex(o);return p},getKeyFromPublicPKCS8PEM:function(q){var o=ASN1HEX.pemToHex(q,"PUBLIC KEY");var p=this.getKeyFromPublicPKCS8Hex(o);return p},getKeyFromPublicPKCS8Hex:function(p){var q;var o=ASN1HEX.getVbyList(h,0,[0,0],"06");if(o==="2a864886f70d010101"){q=new RSAKey()}else{if(o==="2a8648ce380401"){q=new Ext.crypto.DSA()}else{if(o==="2a8648ce3d0201"){q=new Ext.crypto.ECDSA()}else{throw"unsupported PKCS#8 public key hex"}}}q.readPKCS8PubKeyHex(h);return q},parsePublicRawRSAKeyHex:function(o){var p={};if(o.substr(0,2)!="30"){throw"malformed RSA key(code:001)"}var q=ASN1HEX.getPosArrayOfChildren_AtObj(o,0);if(q.length!=2){throw"malformed RSA key(code:002)"}if(o.substr(q[0],2)!="02"){throw"malformed RSA key(code:003)"}p.n=ASN1HEX.getHexOfV_AtObj(o,q[0]);if(o.substr(q[1],2)!="02"){throw"malformed RSA key(code:004)"}p.e=ASN1HEX.getHexOfV_AtObj(o,q[1]);return p},parsePrivateRawRSAKeyHexAtObj:function(q,o){var r=o.keyidx;if(q.substr(r,2)!="30"){throw"malformed RSA private key(code:001)"}var p=ASN1HEX.getPosArrayOfChildren_AtObj(q,r);if(p.length!=9){throw"malformed RSA private key(code:002)"}o.key={};o.key.n=ASN1HEX.getHexOfV_AtObj(q,p[1]);o.key.e=ASN1HEX.getHexOfV_AtObj(q,p[2]);o.key.d=ASN1HEX.getHexOfV_AtObj(q,p[3]);o.key.p=ASN1HEX.getHexOfV_AtObj(q,p[4]);o.key.q=ASN1HEX.getHexOfV_AtObj(q,p[5]);o.key.dp=ASN1HEX.getHexOfV_AtObj(q,p[6]);o.key.dq=ASN1HEX.getHexOfV_AtObj(q,p[7]);o.key.co=ASN1HEX.getHexOfV_AtObj(q,p[8])},parsePrivateRawECKeyHexAtObj:function(q,o){var r=o.keyidx;if(q.substr(r,2)!="30"){throw"malformed ECC private key(code:001)"}var p=ASN1HEX.getPosArrayOfChildren_AtObj(q,r);if(p.length!=3){throw"malformed ECC private key(code:002)"}if(q.substr(p[1],2)!="04"){throw"malformed ECC private key(code:003)"}o.key=ASN1HEX.getHexOfV_AtObj(q,p[1])},parsePublicPKCS8Hex:function(s){var q={};q.algparam=null;var r=ASN1HEX.getPosArrayOfChildren_AtObj(s,0);if(r.length!=2){throw"outer DERSequence shall have 2 elements: "+r.length}var o=r[0];if(s.substr(o,2)!="30"){throw"malformed PKCS8 public key(code:001)"}var p=ASN1HEX.getPosArrayOfChildren_AtObj(s,o);if(p.length!=2){throw"malformed PKCS8 public key(code:002)"}if(s.substr(p[0],2)!="06"){throw"malformed PKCS8 public key(code:003)"}q.algoid=ASN1HEX.getHexOfV_AtObj(s,p[0]);if(s.substr(p[1],2)=="06"){q.algparam=ASN1HEX.getHexOfV_AtObj(s,p[1])}if(s.substr(r[1],2)!="03"){throw"malformed PKCS8 public key(code:004)"}q.key=ASN1HEX.getHexOfV_AtObj(s,r[1]).substr(2);return q},getRSAKeyFromPublicPKCS8Hex:function(p){var o=new RSAKey();o.readPKCS8PubKeyHex(p);return o}}}();var KEYUTIL=function(){var e=function(q,p,r){return o(CryptoJS.AES,q,p,r)};var f=function(q,p,r){return o(CryptoJS.TripleDES,q,p,r)};var G=function(q,p,r){return o(CryptoJS.DES,q,p,r)};var o=function(p,v,r,x){var y=CryptoJS.enc.Hex.parse(v);var u=CryptoJS.enc.Hex.parse(r);var w=CryptoJS.enc.Hex.parse(x);var q={};q.key=u;q.iv=w;q.ciphertext=y;var s=p.decrypt(q,u,{iv:w});return CryptoJS.enc.Hex.stringify(s)};var I=function(q,p,r){return k(CryptoJS.AES,q,p,r)};var g=function(q,p,r){return k(CryptoJS.TripleDES,q,p,r)};var j=function(q,p,r){return k(CryptoJS.DES,q,p,r)};var k=function(q,w,s,y){var p=CryptoJS.enc.Hex.parse(w);var v=CryptoJS.enc.Hex.parse(s);var x=CryptoJS.enc.Hex.parse(y);var u=q.encrypt(p,v,{iv:x});var A=CryptoJS.enc.Hex.parse(u.toString());var r=CryptoJS.enc.Base64.stringify(A);return r};var m={"AES-256-CBC":{proc:e,eproc:I,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:I,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:I,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:f,eproc:g,keylen:24,ivlen:8},"DES-CBC":{proc:G,eproc:j,keylen:8,ivlen:8}};var c=function(p){return m[p]["proc"]};var b=function(q){var p=CryptoJS.lib.WordArray.random(q);var r=CryptoJS.enc.Hex.stringify(p);return r};var d=function(w){var x={};var r=w.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));if(r){x.cipher=r[1];x.ivsalt=r[2]}var q=w.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));if(q){x.type=q[1]}var v=-1;var p=0;if(w.indexOf("\r\n\r\n")!=-1){v=w.indexOf("\r\n\r\n");p=2}if(w.indexOf("\n\n")!=-1){v=w.indexOf("\n\n");p=1}var u=w.indexOf("-----END");if(v!=-1&&u!=-1){var s=w.substring(v+p*2,u-p);s=s.replace(/\s+/g,"");x.data=s}return x};var n=function(A,w,y){var s=y.substring(0,16);var q=CryptoJS.enc.Hex.parse(s);var B=CryptoJS.enc.Utf8.parse(w);var r=m[A]["keylen"]+m[A]["ivlen"];var v="";var u=null;for(;;){var p=CryptoJS.algo.MD5.create();if(u!=null){p.update(u)}p.update(B);p.update(q);u=p.finalize();v=v+CryptoJS.enc.Hex.stringify(u);if(v.length>=r*2){break}}var x={};x.keyhex=v.substr(0,m[A]["keylen"]*2);x.ivhex=v.substr(m[A]["keylen"]*2,m[A]["ivlen"]*2);return x};var H=function(q,x,s,p){var u=CryptoJS.enc.Base64.parse(q);var r=CryptoJS.enc.Hex.stringify(u);var w=m[x]["proc"];var v=w(r,s,p);return v};var l=function(q,u,r,p){var s=m[u]["eproc"];var v=s(q,r,p);return v};return{version:"1.0.0",getHexFromPEM:function(q,p){return ASN1HEX.pemToHex(q,p)},getDecryptedKeyHexByKeyIV:function(r,p,u,s){var q=c(p);return q(r,u,s)},parsePKCS5PEM:function(p){return d(p)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(r,q,p){return n(r,q,p)},decryptKeyB64:function(q,s,r,p){return H(q,s,r,p)},getDecryptedKeyHex:function(w,v){var y=d(w);var q=y.type;var A=y.cipher;var x=y.ivsalt;var p=y.data;var u=n(A,v,x);var s=u.keyhex;var r=H(p,A,s,x);return r},getRSAKeyFromEncryptedPKCS5PEM:function(s,r){var p=this.getDecryptedKeyHex(s,r);var q=new RSAKey();q.readPrivateKeyFromASN1HexString(p);return q},getEncryptedPKCS5PEMFromPrvKeyHex:function(v,p,y,q,C){var A="";if(typeof q=="undefined"||q==null){q="AES-256-CBC"}if(typeof m[q]=="undefined"){throw"KEYUTIL unsupported algorithm: "+q}if(typeof C=="undefined"||C==null){var s=m[q]["ivlen"];var r=b(s);C=r.toUpperCase()}var x=n(q,y,C);var w=x.keyhex;var u=l(p,q,w,C);var B=u.replace(/(.{64})/g,"$1\r\n");var A="-----BEGIN "+v+" PRIVATE KEY-----\r\n";A+="Proc-Type: 4,ENCRYPTED\r\n";A+="DEK-Info: "+q+","+C+"\r\n";A+="\r\n";A+=B;A+="\r\n-----END "+v+" PRIVATE KEY-----\r\n";return A},getEncryptedPKCS5PEMFromRSAKey:function(C,D,B,F){var y=new Ext.asn1.DERInteger({"int":0});var s=new Ext.asn1.DERInteger({bigint:C.n});var x=new Ext.asn1.DERInteger({"int":C.e});var A=new Ext.asn1.DERInteger({bigint:C.d});var q=new Ext.asn1.DERInteger({bigint:C.p});var E=new Ext.asn1.DERInteger({bigint:C.q});var w=new Ext.asn1.DERInteger({bigint:C.dmp1});var r=new Ext.asn1.DERInteger({bigint:C.dmq1});var v=new Ext.asn1.DERInteger({bigint:C.coeff});var p=new Ext.asn1.DERSequence({array:[y,s,x,A,q,E,w,r,v]});var u=p.getEncodedHex();return this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",u,D,B,F)},newEncryptedPKCS5PEM:function(q,r,v,p){if(typeof r=="undefined"||r==null){r=1024}if(typeof v=="undefined"||v==null){v="10001"}var s=new RSAKey();s.generate(r,v);var u=null;if(typeof p=="undefined"||p==null){u=this.getEncryptedPKCS5PEMFromRSAKey(s,q)}else{u=this.getEncryptedPKCS5PEMFromRSAKey(s,q,p)}return u},getRSAKeyFromPlainPKCS8PEM:function(p){if(p.match(/ENCRYPTED/)){throw"pem shall be not ENCRYPTED"}var r=ASN1HEX.pemToHex(p,"PRIVATE KEY");var q=this.getRSAKeyFromPlainPKCS8Hex(r);return q},getRSAKeyFromPlainPKCS8Hex:function(p){var q=new RSAKey();q.readPKCS8PrvKeyHex(p);return q},parseHexOfEncryptedPKCS8:function(u){var p={};var A=ASN1HEX.getPosArrayOfChildren_AtObj(u,0);if(A.length!=2){throw"malformed format: SEQUENCE(0).items != 2: "+A.length}p.ciphertext=ASN1HEX.getHexOfV_AtObj(u,A[1]);var w=ASN1HEX.getPosArrayOfChildren_AtObj(u,A[0]);if(w.length!=2){throw"malformed format: SEQUENCE(0.0).items != 2: "+w.length}if(ASN1HEX.getHexOfV_AtObj(u,w[0])!="2a864886f70d01050d"){throw"this only supports pkcs5PBES2"}var x=ASN1HEX.getPosArrayOfChildren_AtObj(u,w[1]);if(w.length!=2){throw"malformed format: SEQUENCE(0.0.1).items != 2: "+x.length}var y=ASN1HEX.getPosArrayOfChildren_AtObj(u,x[1]);if(y.length!=2){throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+y.length}if(ASN1HEX.getHexOfV_AtObj(u,y[0])!="2a864886f70d0307"){throw"this only supports TripleDES"}p.encryptionSchemeAlg="TripleDES";p.encryptionSchemeIV=ASN1HEX.getHexOfV_AtObj(u,y[1]);var q=ASN1HEX.getPosArrayOfChildren_AtObj(u,x[0]);if(q.length!=2){throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+q.length}if(ASN1HEX.getHexOfV_AtObj(u,q[0])!="2a864886f70d01050c"){throw"this only supports pkcs5PBKDF2"}var v=ASN1HEX.getPosArrayOfChildren_AtObj(u,q[1]);if(v.length<2){throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+v.length}p.pbkdf2Salt=ASN1HEX.getHexOfV_AtObj(u,v[0]);var r=ASN1HEX.getHexOfV_AtObj(u,v[1]);try{p.pbkdf2Iter=parseInt(r,16)}catch(s){throw"malformed format pbkdf2Iter: "+r}return p},getPBKDF2KeyHexFromParam:function(p,q){var v=CryptoJS.enc.Hex.parse(p.pbkdf2Salt);var r=p.pbkdf2Iter;var u=CryptoJS.PBKDF2(q,v,{keySize:192/32,iterations:r});var s=CryptoJS.enc.Hex.stringify(u);return s},getPlainPKCS8HexFromEncryptedPKCS8PEM:function(v,w){var A=ASN1HEX.pemToHex(v,"ENCRYPTED PRIVATE KEY");var x=this.parseHexOfEncryptedPKCS8(A);var r=KEYUTIL.getPBKDF2KeyHexFromParam(x,w);var s={};s.ciphertext=CryptoJS.enc.Hex.parse(x.ciphertext);var q=CryptoJS.enc.Hex.parse(r);var p=CryptoJS.enc.Hex.parse(x.encryptionSchemeIV);var u=CryptoJS.TripleDES.decrypt(s,q,{iv:p});var y=CryptoJS.enc.Hex.stringify(u);return y},getRSAKeyFromEncryptedPKCS8PEM:function(p,s){var r=this.getPlainPKCS8HexFromEncryptedPKCS8PEM(p,s);var q=this.getRSAKeyFromPlainPKCS8Hex(r);return q},getKeyFromEncryptedPKCS8PEM:function(p,r){var q=this.getPlainPKCS8HexFromEncryptedPKCS8PEM(p,r);var s=this.getKeyFromPlainPrivatePKCS8Hex(q);return s},parsePlainPrivatePKCS8Hex:function(p){var r={};r.algparam=null;if(p.substr(0,2)!="30"){throw"malformed plain PKCS8 private key(code:001)"}var s=ASN1HEX.getPosArrayOfChildren_AtObj(p,0);if(s.length!=3){throw"malformed plain PKCS8 private key(code:002)"}if(p.substr(s[1],2)!="30"){throw"malformed PKCS8 private key(code:003)"}var q=ASN1HEX.getPosArrayOfChildren_AtObj(p,s[1]);if(q.length!=2){throw"malformed PKCS8 private key(code:004)"}if(p.substr(q[0],2)!="06"){throw"malformed PKCS8 private key(code:005)"}r.algoid=ASN1HEX.getHexOfV_AtObj(p,q[0]);if(p.substr(q[1],2)=="06"){r.algparam=ASN1HEX.getHexOfV_AtObj(p,q[1])}if(p.substr(s[2],2)!="04"){throw"malformed PKCS8 private key(code:006)"}r.keyidx=ASN1HEX.getStartPosOfV_AtObj(p,s[2]);return r},getKeyFromPlainPrivatePKCS8PEM:function(r){var q=ASN1HEX.pemToHex(r,"PRIVATE KEY");var p=this.getKeyFromPlainPrivatePKCS8Hex(q);return p},getKeyFromPlainPrivatePKCS8Hex:function(q){var r=this.parsePlainPrivatePKCS8Hex(q);var p;if(r.algoid=="2a864886f70d010101"){p=new RSAKey()}else{if(r.algoid=="2a8648ce380401"){p=new Ext.crypto.DSA()}else{if(r.algoid=="2a8648ce3d0201"){p=new Ext.crypto.ECDSA()}else{throw"unsupported private key algorithm"}}}p.readPKCS8PrvKeyHex(q);return p},getRSAKeyFromPublicPKCS8PEM:function(r){var p=ASN1HEX.pemToHex(r,"PUBLIC KEY");var q=this.getRSAKeyFromPublicPKCS8Hex(p);return q},getKeyFromPublicPKCS8PEM:function(r){var p=ASN1HEX.pemToHex(r,"PUBLIC KEY");var q=this.getKeyFromPublicPKCS8Hex(p);return q},getKeyFromPublicPKCS8Hex:function(r){var q;var p=ASN1HEX.getVbyList(r,0,[0,0],"06");if(p==="2a864886f70d010101"){q=new RSAKey()}else{if(p==="2a8648ce380401"){q=new Ext.crypto.DSA()}else{if(p==="2a8648ce3d0201"){q=new Ext.crypto.ECDSA()}else{throw"unsupported PKCS#8 public key hex"}}}q.readPKCS8PubKeyHex(r);return q},parsePublicRawRSAKeyHex:function(p){var q={};if(p.substr(0,2)!="30"){throw"malformed RSA key(code:001)"}var r=ASN1HEX.getPosArrayOfChildren_AtObj(p,0);if(r.length!=2){throw"malformed RSA key(code:002)"}if(p.substr(r[0],2)!="02"){throw"malformed RSA key(code:003)"}q.n=ASN1HEX.getHexOfV_AtObj(p,r[0]);if(p.substr(r[1],2)!="02"){throw"malformed RSA key(code:004)"}q.e=ASN1HEX.getHexOfV_AtObj(p,r[1]);return q},parsePrivateRawRSAKeyHexAtObj:function(r,p){var v=ASN1HEX;var s=v.getHexOfV_AtObj;var u=v.getDecendantIndexByNthList(r,0,[2,0]);var q=v.getPosArrayOfChildren_AtObj(r,u);if(q.length!==9){throw"malformed PKCS#8 plain RSA private key"}p.key={};p.key.n=s(r,q[1]);p.key.e=s(r,q[2]);p.key.d=s(r,q[3]);p.key.p=s(r,q[4]);p.key.q=s(r,q[5]);p.key.dp=s(r,q[6]);p.key.dq=s(r,q[7]);p.key.co=s(r,q[8])},parsePrivateRawECKeyHexAtObj:function(q,p){var u=ASN1HEX;var r=p.keyidx;var s=new Ext.crypto.ECDSA();s.readPKCS8PrvKeyHex(q);p.key=s.prvKeyHex;p.pubkey=s.pubKeyHex},parsePublicPKCS8Hex:function(u){var r={};r.algparam=null;var s=ASN1HEX.getPosArrayOfChildren_AtObj(u,0);if(s.length!=2){throw"outer DERSequence shall have 2 elements: "+s.length}var p=s[0];if(u.substr(p,2)!="30"){throw"malformed PKCS8 public key(code:001)"}var q=ASN1HEX.getPosArrayOfChildren_AtObj(u,p);if(q.length!=2){throw"malformed PKCS8 public key(code:002)"}if(u.substr(q[0],2)!="06"){throw"malformed PKCS8 public key(code:003)"}r.algoid=ASN1HEX.getHexOfV_AtObj(u,q[0]);if(u.substr(q[1],2)=="06"){r.algparam=ASN1HEX.getHexOfV_AtObj(u,q[1])}else{if(u.substr(q[1],2)=="30"){r.algparam={};r.algparam.p=ASN1HEX.getVbyList(u,q[1],[0],"02");r.algparam.q=ASN1HEX.getVbyList(u,q[1],[1],"02");r.algparam.g=ASN1HEX.getVbyList(u,q[1],[2],"02")}}if(u.substr(s[1],2)!="03"){throw"malformed PKCS8 public key(code:004)"}r.key=ASN1HEX.getHexOfV_AtObj(u,s[1]).substr(2);return r},getRSAKeyFromPublicPKCS8Hex:function(q){var p=new RSAKey();p.readPKCS8PubKeyHex(q);return p}}}();KEYUTIL.getKey=function(j,f,k){if(typeof RSAKey!="undefined"&&j instanceof RSAKey){return j}if(typeof Ext.crypto.ECDSA!="undefined"&&j instanceof Ext.crypto.ECDSA){return j}if(typeof Ext.crypto.DSA!="undefined"&&j instanceof Ext.crypto.DSA){return j}if(j.curve!==undefined&&j.xy!==undefined&&j.d===undefined){return new Ext.crypto.ECDSA({pub:j.xy,curve:j.curve})}if(j.curve!==undefined&&j.d!==undefined){return new Ext.crypto.ECDSA({prv:j.d,curve:j.curve})}if(j.kty===undefined&&j.n!==undefined&&j.e!==undefined&&j.d===undefined){var C=new RSAKey();C.setPublic(j.n,j.e);return C}if(j.kty===undefined&&j.n!==undefined&&j.e!==undefined&&j.d!==undefined&&j.p!==undefined&&j.q!==undefined&&j.dp!==undefined&&j.dq!==undefined&&j.co!==undefined&&j.qi===undefined){var C=new RSAKey();C.setPrivateEx(j.n,j.e,j.d,j.p,j.q,j.dp,j.dq,j.co);return C}if(j.kty===undefined&&j.n!==undefined&&j.e!==undefined&&j.d!==undefined&&j.p===undefined){var C=new RSAKey();C.setPrivate(j.n,j.e,j.d);return C}if(j.p!==undefined&&j.q!==undefined&&j.g!==undefined&&j.y!==undefined&&j.x===undefined){var C=new Ext.crypto.DSA();C.setPublic(j.p,j.q,j.g,j.y);return C}if(j.p!==undefined&&j.q!==undefined&&j.g!==undefined&&j.y!==undefined&&j.x!==undefined){var C=new Ext.crypto.DSA();C.setPrivate(j.p,j.q,j.g,j.y,j.x);return C}if(j.kty==="RSA"&&j.n!==undefined&&j.e!==undefined&&j.d===undefined){var C=new RSAKey();C.setPublic(b64utohex(j.n),b64utohex(j.e));return C}if(j.kty==="RSA"&&j.n!==undefined&&j.e!==undefined&&j.d!==undefined&&j.p!==undefined&&j.q!==undefined&&j.dp!==undefined&&j.dq!==undefined&&j.qi!==undefined){var C=new RSAKey();C.setPrivateEx(b64utohex(j.n),b64utohex(j.e),b64utohex(j.d),b64utohex(j.p),b64utohex(j.q),b64utohex(j.dp),b64utohex(j.dq),b64utohex(j.qi));return C}if(j.kty==="RSA"&&j.n!==undefined&&j.e!==undefined&&j.d!==undefined){var C=new RSAKey();C.setPrivate(b64utohex(j.n),b64utohex(j.e),b64utohex(j.d));return C}if(j.kty==="EC"&&j.crv!==undefined&&j.x!==undefined&&j.y!==undefined&&j.d===undefined){var e=new Ext.crypto.ECDSA({curve:j.crv});var o=e.ecparams.keylen/4;var u=("0000000000"+b64utohex(j.x)).slice(-o);var A=("0000000000"+b64utohex(j.y)).slice(-o);var r="04"+u+A;e.setPublicKeyHex(r);return e}if(j.kty==="EC"&&j.crv!==undefined&&j.x!==undefined&&j.y!==undefined&&j.d!==undefined){var e=new Ext.crypto.ECDSA({curve:j.crv});var o=e.ecparams.keylen/4;var u=("0000000000"+b64utohex(j.x)).slice(-o);var A=("0000000000"+b64utohex(j.y)).slice(-o);var r="04"+u+A;var b=("0000000000"+b64utohex(j.d)).slice(-o);e.setPublicKeyHex(r);e.setPrivateKeyHex(b);return e}if(k==="pkcs5prv"){var s=j,X=ASN1HEX,B,C;B=X.getPosArrayOfChildren_AtObj(s,0);if(B.length===9){C=new RSAKey();C.readPrivateKeyFromASN1HexString(j)}else{if(B.length===6){C=new Ext.crypto.DSA();C.readPKCS5PrvKeyHex(s)}else{if(B.length>2&&s.substr(B[1],2)==="04"){C=new Ext.crypto.ECDSA();C.readPKCS5PrvKeyHex(s)}else{throw"unsupported PKCS#1/5 hexadecimal key"}}}return C}if(k==="pkcs8prv"){var C=KEYUTIL.getKeyFromPlainPrivatePKCS8Hex(j);return C}if(k==="pkcs8pub"){return KEYUTIL.getKeyFromPublicPKCS8Hex(j)}if(k==="x509pub"){return X509.getPublicKeyFromCertHex(j)}if(j.indexOf("-END CERTIFICATE-",0)!=-1||j.indexOf("-END X509 CERTIFICATE-",0)!=-1||j.indexOf("-END TRUSTED CERTIFICATE-",0)!=-1){return X509.getPublicKeyFromCertPEM(j)}if(j.indexOf("-END PUBLIC KEY-")!=-1){return KEYUTIL.getKeyFromPublicPKCS8PEM(j)}if(j.indexOf("-END RSA PRIVATE KEY-")!=-1&&j.indexOf("4,ENCRYPTED")==-1){var l=ASN1HEX.pemToHex(j,"RSA PRIVATE KEY");return KEYUTIL.getKey(l,null,"pkcs5prv")}if(j.indexOf("-END DSA PRIVATE KEY-")!=-1&&j.indexOf("4,ENCRYPTED")==-1){var Y=ASN1HEX.pemToHex(j,"DSA PRIVATE KEY");var W=ASN1HEX.getVbyList(Y,0,[1],"02");var w=ASN1HEX.getVbyList(Y,0,[2],"02");var v=ASN1HEX.getVbyList(Y,0,[3],"02");var m=ASN1HEX.getVbyList(Y,0,[4],"02");var n=ASN1HEX.getVbyList(Y,0,[5],"02");var C=new Ext.crypto.DSA();C.setPrivate(new BigInteger(W,16),new BigInteger(w,16),new BigInteger(v,16),new BigInteger(m,16),new BigInteger(n,16));return C}if(j.indexOf("-END PRIVATE KEY-")!=-1){return KEYUTIL.getKeyFromPlainPrivatePKCS8PEM(j)}if(j.indexOf("-END RSA PRIVATE KEY-")!=-1&&j.indexOf("4,ENCRYPTED")!=-1){return KEYUTIL.getRSAKeyFromEncryptedPKCS5PEM(j,f)}if(j.indexOf("-END EC PRIVATE KEY-")!=-1&&j.indexOf("4,ENCRYPTED")!=-1){var Y=KEYUTIL.getDecryptedKeyHex(j,f);var C=ASN1HEX.getVbyList(Y,0,[1],"04");var d=ASN1HEX.getVbyList(Y,0,[2,0],"06");var D=ASN1HEX.getVbyList(Y,0,[3,0],"03").substr(2);var c="";if(Ext.crypto.OID.oidhex2name[d]!==undefined){c=Ext.crypto.OID.oidhex2name[d]}else{throw"undefined OID(hex) in Ext.crypto.OID: "+d}var e=new Ext.crypto.ECDSA({curve:c});e.setPublicKeyHex(D);e.setPrivateKeyHex(C);e.isPublic=false;return e}if(j.indexOf("-END DSA PRIVATE KEY-")!=-1&&j.indexOf("4,ENCRYPTED")!=-1){var Y=KEYUTIL.getDecryptedKeyHex(j,f);var W=ASN1HEX.getVbyList(Y,0,[1],"02");var w=ASN1HEX.getVbyList(Y,0,[2],"02");var v=ASN1HEX.getVbyList(Y,0,[3],"02");var m=ASN1HEX.getVbyList(Y,0,[4],"02");var n=ASN1HEX.getVbyList(Y,0,[5],"02");var C=new Ext.crypto.DSA();C.setPrivate(new BigInteger(W,16),new BigInteger(w,16),new BigInteger(v,16),new BigInteger(m,16),new BigInteger(n,16));return C}if(j.indexOf("-END ENCRYPTED PRIVATE KEY-")!=-1){return KEYUTIL.getKeyFromEncryptedPKCS8PEM(j,f)}throw"not supported argument"};KEYUTIL.generateKeypair=function(k,y){if(k=="RSA"){var x=y;var e=new RSAKey();e.generate(x,"10001");e.isPrivate=true;e.isPublic=true;var c=new RSAKey();var b=e.n.toString(16);var f=e.e.toString(16);c.setPublic(b,f);c.isPrivate=false;c.isPublic=true;var j={};j.prvKeyObj=e;j.pubKeyObj=c;return j}else{if(k=="EC"){var A=y;var d=new Ext.crypto.ECDSA({curve:A});var g=d.generateKeyPairHex();var e=new Ext.crypto.ECDSA({curve:A});e.setPublicKeyHex(g.ecpubhex);e.setPrivateKeyHex(g.ecprvhex);e.isPrivate=true;e.isPublic=false;var c=new Ext.crypto.ECDSA({curve:A});c.setPublicKeyHex(g.ecpubhex);c.isPrivate=false;c.isPublic=true;var j={};j.prvKeyObj=e;j.pubKeyObj=c;return j}else{throw"unknown algorithm: "+k}}};KEYUTIL.getPEM=function(b,l,S,j,o){var v=Ext.asn1;var p=Ext.crypto;function T(w){var s=Ext.asn1.ASN1Util.newObject({seq:[{"int":0},{"int":{bigint:w.n}},{"int":w.e},{"int":{bigint:w.d}},{"int":{bigint:w.p}},{"int":{bigint:w.q}},{"int":{bigint:w.dmp1}},{"int":{bigint:w.dmq1}},{"int":{bigint:w.coeff}}]});return s}function U(s){var w=Ext.asn1.ASN1Util.newObject({seq:[{"int":1},{octstr:{hex:s.prvKeyHex}},{tag:["a0",true,{oid:{name:s.curveName}}]},{tag:["a1",true,{bitstr:{hex:"00"+s.pubKeyHex}}]}]});return w}function R(w){var s=Ext.asn1.ASN1Util.newObject({seq:[{"int":0},{"int":{bigint:w.p}},{"int":{bigint:w.q}},{"int":{bigint:w.g}},{"int":{bigint:w.y}},{"int":{bigint:w.x}}]});return s}if(((typeof RSAKey!="undefined"&&b instanceof RSAKey)||(typeof p.DSA!="undefined"&&b instanceof p.DSA)||(typeof p.ECDSA!="undefined"&&b instanceof p.ECDSA))&&b.isPublic==true&&(l===undefined||l=="PKCS8PUB")){var n=new Ext.asn1.x509.SubjectPublicKeyInfo(b);var u=n.getEncodedHex();return v.ASN1Util.getPEMStringFromHex(u,"PUBLIC KEY")}if(l=="PKCS1PRV"&&typeof RSAKey!="undefined"&&b instanceof RSAKey&&(S===undefined||S==null)&&b.isPrivate==true){var n=T(b);var u=n.getEncodedHex();return v.ASN1Util.getPEMStringFromHex(u,"RSA PRIVATE KEY")}if(l=="PKCS1PRV"&&typeof RSAKey!="undefined"&&b instanceof Ext.crypto.ECDSA&&(S===undefined||S==null)&&b.isPrivate==true){var g=new Ext.asn1.DERObjectIdentifier({name:b.curveName});var r=g.getEncodedHex();var f=U(b);var q=f.getEncodedHex();var m="";m+=v.ASN1Util.getPEMStringFromHex(r,"EC PARAMETERS");m+=v.ASN1Util.getPEMStringFromHex(q,"EC PRIVATE KEY");return m}if(l=="PKCS1PRV"&&typeof Ext.crypto.DSA!="undefined"&&b instanceof Ext.crypto.DSA&&(S===undefined||S==null)&&b.isPrivate==true){var n=R(b);var u=n.getEncodedHex();return v.ASN1Util.getPEMStringFromHex(u,"DSA PRIVATE KEY")}if(l=="PKCS5PRV"&&typeof RSAKey!="undefined"&&b instanceof RSAKey&&(S!==undefined&&S!=null)&&b.isPrivate==true){var n=T(b);var u=n.getEncodedHex();if(j===undefined){j="DES-EDE3-CBC"}return this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",u,S,j)}if(l=="PKCS5PRV"&&typeof Ext.crypto.ECDSA!="undefined"&&b instanceof Ext.crypto.ECDSA&&(S!==undefined&&S!=null)&&b.isPrivate==true){var n=U(b);var u=n.getEncodedHex();if(j===undefined){j="DES-EDE3-CBC"}return this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",u,S,j)}if(l=="PKCS5PRV"&&typeof Ext.crypto.DSA!="undefined"&&b instanceof Ext.crypto.DSA&&(S!==undefined&&S!=null)&&b.isPrivate==true){var n=R(b);var u=n.getEncodedHex();if(j===undefined){j="DES-EDE3-CBC"}return this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",u,S,j)}var k=function(y,x){var w=c(y,x);var s=new Ext.asn1.ASN1Util.newObject({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:w.pbkdf2Salt}},{"int":w.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:w.encryptionSchemeIV}}]}]}]},{octstr:{hex:w.ciphertext}}]});return s.getEncodedHex()};var c=function(F,w){var y=100;var E=CryptoJS.lib.WordArray.random(8);var D="DES-EDE3-CBC";var s=CryptoJS.lib.WordArray.random(8);var A=CryptoJS.PBKDF2(w,E,{keySize:192/32,iterations:y});var B=CryptoJS.enc.Hex.parse(F);var C=CryptoJS.TripleDES.encrypt(B,A,{iv:s})+"";var x={};x.ciphertext=C;x.pbkdf2Salt=CryptoJS.enc.Hex.stringify(E);x.pbkdf2Iter=y;x.encryptionSchemeAlg=D;x.encryptionSchemeIV=CryptoJS.enc.Hex.stringify(s);return x};if(l=="PKCS8PRV"&&typeof RSAKey!="undefined"&&b instanceof RSAKey&&b.isPrivate==true){var e=T(b);var d=e.getEncodedHex();var n=Ext.asn1.ASN1Util.newObject({seq:[{"int":0},{seq:[{oid:{name:"rsaEncryption"}},{"null":true}]},{octstr:{hex:d}}]});var u=n.getEncodedHex();if(S===undefined||S==null){return v.ASN1Util.getPEMStringFromHex(u,"PRIVATE KEY")}else{var q=k(u,S);return v.ASN1Util.getPEMStringFromHex(q,"ENCRYPTED PRIVATE KEY")}}if(l=="PKCS8PRV"&&typeof Ext.crypto.ECDSA!="undefined"&&b instanceof Ext.crypto.ECDSA&&b.isPrivate==true){var e=new Ext.asn1.ASN1Util.newObject({seq:[{"int":1},{octstr:{hex:b.prvKeyHex}},{tag:["a1",true,{bitstr:{hex:"00"+b.pubKeyHex}}]}]});var d=e.getEncodedHex();var n=Ext.asn1.ASN1Util.newObject({seq:[{"int":0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:b.curveName}}]},{octstr:{hex:d}}]});var u=n.getEncodedHex();if(S===undefined||S==null){return v.ASN1Util.getPEMStringFromHex(u,"PRIVATE KEY")}else{var q=k(u,S);return v.ASN1Util.getPEMStringFromHex(q,"ENCRYPTED PRIVATE KEY")}}if(l=="PKCS8PRV"&&typeof Ext.crypto.DSA!="undefined"&&b instanceof Ext.crypto.DSA&&b.isPrivate==true){var e=new Ext.asn1.DERInteger({bigint:b.x});var d=e.getEncodedHex();var n=Ext.asn1.ASN1Util.newObject({seq:[{"int":0},{seq:[{oid:{name:"dsa"}},{seq:[{"int":{bigint:b.p}},{"int":{bigint:b.q}},{"int":{bigint:b.g}}]}]},{octstr:{hex:d}}]});var u=n.getEncodedHex();if(S===undefined||S==null){return v.ASN1Util.getPEMStringFromHex(u,"PRIVATE KEY")}else{var q=k(u,S);return v.ASN1Util.getPEMStringFromHex(q,"ENCRYPTED PRIVATE KEY")}}throw"unsupported object nor format"};KEYUTIL.getKeyFromCSRPEM=function(g){var c=ASN1HEX.pemToHex(g,"CERTIFICATE REQUEST");var b=KEYUTIL.getKeyFromCSRHex(c);return b};KEYUTIL.getKeyFromCSRHex=function(c){var b=KEYUTIL.parseCSRHex(c);var g=KEYUTIL.getKey(b.p8pubkeyhex,null,"pkcs8pub");return g};KEYUTIL.parseCSRHex=function(b){var m={};var d=b;if(d.substr(0,2)!="30"){throw"malformed CSR(code:001)"}var c=ASN1HEX.getPosArrayOfChildren_AtObj(d,0);if(c.length<1){throw"malformed CSR(code:002)"}if(d.substr(c[0],2)!="30"){throw"malformed CSR(code:003)"}var e=ASN1HEX.getPosArrayOfChildren_AtObj(d,c[0]);if(e.length<3){throw"malformed CSR(code:004)"}m.p8pubkeyhex=ASN1HEX.getHexOfTLV_AtObj(d,e[2]);return m};KEYUTIL.getJWKFromKey=function(c){var k={};if(c instanceof RSAKey&&c.isPrivate){k.kty="RSA";k.n=hextob64u(c.n.toString(16));k.e=hextob64u(c.e.toString(16));k.d=hextob64u(c.d.toString(16));k.p=hextob64u(c.p.toString(16));k.q=hextob64u(c.q.toString(16));k.dp=hextob64u(c.dmp1.toString(16));k.dq=hextob64u(c.dmq1.toString(16));k.qi=hextob64u(c.coeff.toString(16));return k}else{if(c instanceof RSAKey&&c.isPublic){k.kty="RSA";k.n=hextob64u(c.n.toString(16));k.e=hextob64u(c.e.toString(16));return k}else{if(c instanceof Ext.crypto.ECDSA&&c.isPrivate){var d=c.getShortNISTPCurveName();if(d!=="P-256"&&d!=="P-384"){throw"unsupported curve name for JWT: "+d}var b=c.getPublicKeyXYHex();k.kty="EC";k.crv=d;k.x=hextob64u(b.x);k.y=hextob64u(b.y);k.d=hextob64u(c.prvKeyHex);return k}else{if(c instanceof Ext.crypto.ECDSA&&c.isPublic){var d=c.getShortNISTPCurveName();if(d!=="P-256"&&d!=="P-384"){throw"unsupported curve name for JWT: "+d}var b=c.getPublicKeyXYHex();k.kty="EC";k.crv=d;k.x=hextob64u(b.x);k.y=hextob64u(b.y);return k}}}}throw"not supported key object"};RSAKey.pemToBase64=function(e){var b=e;b=b.replace("-----BEGIN RSA PRIVATE KEY-----","");b=b.replace("-----END RSA PRIVATE KEY-----","");b=b.replace(/[ \n]+/g,"");return b};RSAKey.getPosArrayOfChildrenFromHex=function(b){var e=new Array();var d=ASN1HEX.getStartPosOfV_AtObj(b,0);var j=ASN1HEX.getPosOfNextSibling_AtObj(b,d);var y=ASN1HEX.getPosOfNextSibling_AtObj(b,j);var A=ASN1HEX.getPosOfNextSibling_AtObj(b,y);var g=ASN1HEX.getPosOfNextSibling_AtObj(b,A);var f=ASN1HEX.getPosOfNextSibling_AtObj(b,g);var l=ASN1HEX.getPosOfNextSibling_AtObj(b,f);var k=ASN1HEX.getPosOfNextSibling_AtObj(b,l);var c=ASN1HEX.getPosOfNextSibling_AtObj(b,k);e.push(d,j,y,A,g,f,l,k,c);return e};RSAKey.getHexValueArrayOfChildrenFromHex=function(m){var e=RSAKey.getPosArrayOfChildrenFromHex(m);var l=ASN1HEX.getHexOfV_AtObj(m,e[0]);var c=ASN1HEX.getHexOfV_AtObj(m,e[1]);var f=ASN1HEX.getHexOfV_AtObj(m,e[2]);var j=ASN1HEX.getHexOfV_AtObj(m,e[3]);var C=ASN1HEX.getHexOfV_AtObj(m,e[4]);var B=ASN1HEX.getHexOfV_AtObj(m,e[5]);var g=ASN1HEX.getHexOfV_AtObj(m,e[6]);var d=ASN1HEX.getHexOfV_AtObj(m,e[7]);var k=ASN1HEX.getHexOfV_AtObj(m,e[8]);var b=new Array();b.push(l,c,f,j,C,B,g,d,k);return b};RSAKey.prototype.readPrivateKeyFromPEMString=function(d){var b=RSAKey.pemToBase64(d);var c=b64tohex(b);var e=RSAKey.getHexValueArrayOfChildrenFromHex(c);this.setPrivateEx(e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])};RSAKey.prototype.readPrivateKeyFromASN1HexString=function(c){this.readPKCS5PrvKeyHex(c)};RSAKey.prototype.readPKCS5PrvKeyHex=function(b){var c=RSAKey.getHexValueArrayOfChildrenFromHex(b);this.setPrivateEx(c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8])};RSAKey.prototype.readPKCS8PrvKeyHex=function(m){var k,c,e,j,f,B,l,d;var g=ASN1HEX;var C=g.getVbyList;if(g.isASN1HEX(m)===false){throw"not ASN.1 hex string"}try{k=C(m,0,[2,0,1],"02");c=C(m,0,[2,0,2],"02");e=C(m,0,[2,0,3],"02");j=C(m,0,[2,0,4],"02");f=C(m,0,[2,0,5],"02");B=C(m,0,[2,0,6],"02");l=C(m,0,[2,0,7],"02");d=C(m,0,[2,0,8],"02")}catch(b){throw"malformed PKCS#8 plain RSA private key"}this.setPrivateEx(k,c,e,j,f,B,l,d)};RSAKey.prototype.readPKCS5PubKeyHex=function(k){if(ASN1HEX.isASN1HEX(k)===false){throw"keyHex is not ASN.1 hex string"}var d=ASN1HEX.getPosArrayOfChildren_AtObj(k,0);if(d.length!==2||k.substr(d[0],2)!=="02"||k.substr(d[1],2)!=="02"){throw"wrong hex for PKCS#5 public key"}var c=ASN1HEX.getHexOfV_AtObj(k,d[0]);var b=ASN1HEX.getHexOfV_AtObj(k,d[1]);this.setPublic(c,b)};RSAKey.prototype.readPKCS8PubKeyHex=function(e){if(ASN1HEX.isASN1HEX(e)===false){throw"not ASN.1 hex string"}if(ASN1HEX.getDecendantHexTLVByNthList(e,0,[0,0])!=="06092a864886f70d010101"){throw"not PKCS8 RSA public key"}var b=ASN1HEX.getDecendantHexTLVByNthList(e,0,[1,0]);this.readPKCS5PubKeyHex(b)};RSAKey.prototype.readCertPubKeyHex=function(g,b){if(b!==5){b=6}if(ASN1HEX.isASN1HEX(g)===false){throw"not ASN.1 hex string"}var c=ASN1HEX.getDecendantHexTLVByNthList(g,0,[0,b]);this.readPKCS8PubKeyHex(c)};var _RE_HEXDECONLY=new RegExp("");_RE_HEXDECONLY.compile("[^0-9a-f]","gi");function _rsasign_getHexPaddedDigestInfoForString(c,d,e){var m=function(f){return Ext.crypto.Util.hashString(f,e)};var b=m(c);return Ext.crypto.Util.getPaddedDigestInfoHex(b,e,d)}function _zeroPaddingOfSignature(d,c){var b="";var e=c/4-d.length;for(var m=0;m<e;m++){b=b+"0"}return b+d}function _rsasign_signString(c,d){var k=function(e){return Ext.crypto.Util.hashString(e,d)};var b=k(c);return this.signWithMessageHash(b,d)}function _rsasign_signWithMessageHash(c,o){var d=Ext.crypto.Util.getPaddedDigestInfoHex(c,o,this.n.bitLength());var f=parseBigInt(d,16);var b=this.doPrivate(f);var e=b.toString(16);return _zeroPaddingOfSignature(e,this.n.bitLength())}function _rsasign_signStringWithSHA1(c){return _rsasign_signString.call(this,c,"sha1")}function _rsasign_signStringWithSHA256(c){return _rsasign_signString.call(this,c,"sha256")}function pss_mgf1_str(b,e,d){var m="",c=0;while(m.length<e){m+=hextorstr(d(rstrtohex(b+String.fromCharCode.apply(String,[(c&4278190080)>>24,(c&16711680)>>16,(c&65280)>>8,c&255]))));c+=1}return m}function _rsasign_signStringPSS(d,e,c){var b=function(f){return Ext.crypto.Util.hashHex(f,e)};var m=b(rstrtohex(d));if(c===undefined){c=-1}return this.signWithMessageHashPSS(m,e,c)}function _rsasign_signWithMessageHashPSS(j,k,g){var n=hextorstr(j);var d=n.length;var l=this.n.bitLength()-1;var p=Math.ceil(l/8);var q;var o=function(r){return Ext.crypto.Util.hashHex(r,k)};if(g===-1||g===undefined){g=d}else{if(g===-2){g=p-d-2}else{if(g<-2){throw"invalid salt length"}}}if(p<(d+g+2)){throw"data too long"}var c="";if(g>0){c=new Array(g);new SecureRandom().nextBytes(c);c=String.fromCharCode.apply(String,c)}var m=hextorstr(o(rstrtohex("\x00\x00\x00\x00\x00\x00\x00\x00"+n+c)));var f=[];for(q=0;q<p-g-d-2;q+=1){f[q]=0}var K=String.fromCharCode.apply(String,f)+"\x01"+c;var e=pss_mgf1_str(m,K.length,o);var b=[];for(q=0;q<K.length;q+=1){b[q]=K.charCodeAt(q)^e.charCodeAt(q)}var J=(65280>>(8*p-l))&255;b[0]&=~J;for(q=0;q<d;q++){b.push(m.charCodeAt(q))}b.push(188);return _zeroPaddingOfSignature(this.doPrivate(new BigInteger(b)).toString(16),this.n.bitLength())}function _rsasign_getDecryptSignatureBI(e,c,b){var m=new RSAKey();m.setPublic(c,b);var d=m.doPublic(e);return d}function _rsasign_getHexDigestInfoFromSig(e,b,m){var d=_rsasign_getDecryptSignatureBI(e,b,m);var c=d.toString(16).replace(/^1f+00/,"");return c}function _rsasign_getAlgNameAndHashFromHexDisgestInfo(e){for(var d in Ext.crypto.Util.DIGESTINFOHEAD){var c=Ext.crypto.Util.DIGESTINFOHEAD[d];var f=c.length;if(e.substring(0,f)==c){var b=[d,e.substring(f)];return b}}return[]}function _rsasign_verifySignatureWithArgs(e,x,f,v){var d=_rsasign_getHexDigestInfoFromSig(x,f,v);var g=_rsasign_getAlgNameAndHashFromHexDisgestInfo(d);if(g.length==0){return false}var c=g[0];var j=g[1];var w=function(k){return Ext.crypto.Util.hashString(k,c)};var b=w(e);return(j==b)}function _rsasign_verifyHexSignatureForMessage(b,k){var c=parseBigInt(b,16);var d=_rsasign_verifySignatureWithArgs(k,c,this.n.toString(16),this.e.toString(16));return d}function _rsasign_verifyString(e,v){v=v.replace(_RE_HEXDECONLY,"");v=v.replace(/[ \n]+/g,"");var x=parseBigInt(v,16);if(x.bitLength()>this.n.bitLength()){return 0}var j=this.doPublic(x);var d=j.toString(16).replace(/^1f+00/,"");var f=_rsasign_getAlgNameAndHashFromHexDisgestInfo(d);if(f.length==0){return false}var c=f[0];var g=f[1];var w=function(k){return Ext.crypto.Util.hashString(k,c)};var b=w(e);return(g==b)}function _rsasign_verifyWithMessageHash(r,d){d=d.replace(_RE_HEXDECONLY,"");d=d.replace(/[ \n]+/g,"");var e=parseBigInt(d,16);if(e.bitLength()>this.n.bitLength()){return 0}var c=this.doPublic(e);var b=c.toString(16).replace(/^1f+00/,"");var f=_rsasign_getAlgNameAndHashFromHexDisgestInfo(b);if(f.length==0){return false}var g=f[0];var s=f[1];return(s==r)}function _rsasign_verifyStringPSS(o,f,e,d){var c=function(g){return Ext.crypto.Util.hashHex(g,e)};var b=c(rstrtohex(o));if(d===undefined){d=-1}return this.verifyWithMessageHashPSS(b,f,e,d)}function _rsasign_verifyWithMessageHashPSS(k,p,s,d){var r=new BigInteger(p,16);if(r.bitLength()>this.n.bitLength()){return false}var n=function(u){return Ext.crypto.Util.hashHex(u,s)};var q=hextorstr(k);var o=q.length;var m=this.n.bitLength()-1;var N=Math.ceil(m/8);var l;if(d===-1||d===undefined){d=o}else{if(d===-2){d=N-o-2}else{if(d<-2){throw"invalid salt length"}}}if(N<(o+d+2)){throw"data too long"}var b=this.doPublic(r).toByteArray();for(l=0;l<b.length;l+=1){b[l]&=255}while(b.length<N){b.unshift(0)}if(b[N-1]!==188){throw"encoded message does not end in 0xbc"}b=String.fromCharCode.apply(String,b);var e=b.substr(0,N-o-1);var g=b.substr(e.length,o);var j=(65280>>(8*N-m))&255;if((e.charCodeAt(0)&j)!==0){throw"bits beyond keysize not zero"}var O=pss_mgf1_str(g,e.length,n);var f=[];for(l=0;l<e.length;l+=1){f[l]=e.charCodeAt(l)^O.charCodeAt(l)}f[0]&=~j;var c=N-o-d-2;for(l=0;l<c;l+=1){if(f[l]!==0){throw"leftmost octets not zero"}}if(f[c]!==1){throw"0x01 marker not found"}return g===hextorstr(n(rstrtohex("\x00\x00\x00\x00\x00\x00\x00\x00"+q+String.fromCharCode.apply(String,f.slice(-d)))))}RSAKey.prototype.signWithMessageHash=_rsasign_signWithMessageHash;RSAKey.prototype.signString=_rsasign_signString;RSAKey.prototype.signStringWithSHA1=_rsasign_signStringWithSHA1;RSAKey.prototype.signStringWithSHA256=_rsasign_signStringWithSHA256;RSAKey.prototype.sign=_rsasign_signString;RSAKey.prototype.signWithSHA1=_rsasign_signStringWithSHA1;RSAKey.prototype.signWithSHA256=_rsasign_signStringWithSHA256;RSAKey.prototype.signWithMessageHashPSS=_rsasign_signWithMessageHashPSS;RSAKey.prototype.signStringPSS=_rsasign_signStringPSS;RSAKey.prototype.signPSS=_rsasign_signStringPSS;RSAKey.SALT_LEN_HLEN=-1;RSAKey.SALT_LEN_MAX=-2;RSAKey.prototype.verifyWithMessageHash=_rsasign_verifyWithMessageHash;RSAKey.prototype.verifyString=_rsasign_verifyString;RSAKey.prototype.verifyHexSignatureForMessage=_rsasign_verifyHexSignatureForMessage;RSAKey.prototype.verify=_rsasign_verifyString;RSAKey.prototype.verifyHexSignatureForByteArrayMessage=_rsasign_verifyHexSignatureForMessage;RSAKey.prototype.verifyWithMessageHashPSS=_rsasign_verifyWithMessageHashPSS;RSAKey.prototype.verifyStringPSS=_rsasign_verifyStringPSS;RSAKey.prototype.verifyPSS=_rsasign_verifyStringPSS;RSAKey.SALT_LEN_RECOVER=-2;function X509(){this.subjectPublicKeyRSA=null;this.subjectPublicKeyRSA_hN=null;this.subjectPublicKeyRSA_hE=null;this.hex=null;this.getSerialNumberHex=function(){return ASN1HEX.getDecendantHexVByNthList(this.hex,0,[0,1])};this.getSignatureAlgorithmField=function(){var g=ASN1HEX.getDecendantHexVByNthList(this.hex,0,[0,2,0]);var c=Ext.asn1.ASN1Util.oidHexToInt(g);var b=Ext.asn1.x509.OID.oid2name(c);return b};this.getIssuerHex=function(){return ASN1HEX.getDecendantHexTLVByNthList(this.hex,0,[0,3])};this.getIssuerString=function(){return X509.hex2dn(ASN1HEX.getDecendantHexTLVByNthList(this.hex,0,[0,3]))};this.getSubjectHex=function(){return ASN1HEX.getDecendantHexTLVByNthList(this.hex,0,[0,5])};this.getSubjectString=function(){return X509.hex2dn(ASN1HEX.getDecendantHexTLVByNthList(this.hex,0,[0,5]))};this.getNotBefore=function(){var c=ASN1HEX.getDecendantHexVByNthList(this.hex,0,[0,4,0]);c=c.replace(/(..)/g,"%$1");c=decodeURIComponent(c);return c};this.getNotAfter=function(){var c=ASN1HEX.getDecendantHexVByNthList(this.hex,0,[0,4,1]);c=c.replace(/(..)/g,"%$1");c=decodeURIComponent(c);return c};this.readCertPEM=function(b){var d=ASN1HEX.pemToHex(b);var e=X509.getPublicKeyHexArrayFromCertHex(d);var c=new RSAKey();c.setPublic(e[0],e[1]);this.subjectPublicKeyRSA=c;this.subjectPublicKeyRSA_hN=e[0];this.subjectPublicKeyRSA_hE=e[1];this.hex=d};this.readCertPEMWithoutRSAInit=function(b){var c=ASN1HEX.pemToHex(b);var d=X509.getPublicKeyHexArrayFromCertHex(c);if(typeof this.subjectPublicKeyRSA.setPublic==="function"){this.subjectPublicKeyRSA.setPublic(d[0],d[1])}this.subjectPublicKeyRSA_hN=d[0];this.subjectPublicKeyRSA_hE=d[1];this.hex=c};this.getInfo=function(){var e="Basic Fields\n";e+="  serial number: "+this.getSerialNumberHex()+"\n";e+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n";e+="  issuer: "+this.getIssuerString()+"\n";e+="  notBefore: "+this.getNotBefore()+"\n";e+="  notAfter: "+this.getNotAfter()+"\n";e+="  subject: "+this.getSubjectString()+"\n";e+="  subject public key info: \n";var k=X509.getSubjectPublicKeyInfoPosFromCertHex(this.hex);var b=ASN1HEX.getHexOfTLV_AtObj(this.hex,k);var I=KEYUTIL.getKey(b,null,"pkcs8pub");if(I instanceof RSAKey){e+="    key algorithm: RSA\n";e+="    n="+I.n.toString(16).substr(0,16)+"...\n";e+="    e="+I.e.toString(16)+"\n"}e+="X509v3 Extensions:\n";var o=X509.getV3ExtInfoListOfCertHex(this.hex);for(var d=0;d<o.length;d++){var p=o[d];var c=Ext.asn1.x509.OID.oid2name(p.oid);if(c===""){c=p.oid}var l="";if(p.critical===true){l="CRITICAL"}e+="  "+c+" "+l+":\n";if(c==="basicConstraints"){var g=X509.getExtBasicConstraints(this.hex);if(g.cA===undefined){e+="    {}\n"}else{e+="    cA=true";if(g.pathLen!==undefined){e+=", pathLen="+g.pathLen}e+="\n"}}else{if(c==="keyUsage"){e+="    "+X509.getExtKeyUsageString(this.hex)+"\n"}else{if(c==="subjectKeyIdentifier"){e+="    "+X509.getExtSubjectKeyIdentifier(this.hex)+"\n"}else{if(c==="authorityKeyIdentifier"){var n=X509.getExtAuthorityKeyIdentifier(this.hex);if(n.kid!==undefined){e+="    kid="+n.kid+"\n"}}else{if(c==="extKeyUsage"){var j=X509.getExtExtKeyUsageName(this.hex);e+="    "+j.join(", ")+"\n"}else{if(c==="subjectAltName"){var f=X509.getExtSubjectAltName(this.hex);e+="    "+f.join(", ")+"\n"}else{if(c==="cRLDistributionPoints"){var m=X509.getExtCRLDistributionPointsURI(this.hex);e+="    "+m+"\n"}else{if(c==="authorityInfoAccess"){var H=X509.getExtAIAInfo(this.hex);if(H.ocsp!==undefined){e+="    ocsp: "+H.ocsp.join(",")+"\n"}if(H.caissuer!==undefined){e+="    caissuer: "+H.caissuer.join(",")+"\n"}}}}}}}}}}e+="signature algorithm: "+X509.getSignatureAlgorithmName(this.hex)+"\n";e+="signature: "+X509.getSignatureValueHex(this.hex).substr(0,16)+"...\n";return e}}X509.pemToBase64=function(b){var e=b;e=e.replace("-----BEGIN CERTIFICATE-----","");e=e.replace("-----END CERTIFICATE-----","");e=e.replace(/[ \n]+/g,"");return e};X509.pemToHex=function(c){return ASN1HEX.pemToHex(c)};X509.getSubjectPublicKeyPosFromCertHex=function(e){var d=X509.getSubjectPublicKeyInfoPosFromCertHex(e);if(d==-1){return -1}var f=ASN1HEX.getPosArrayOfChildren_AtObj(e,d);if(f.length!=2){return -1}var c=f[1];if(e.substring(c,c+2)!="03"){return -1}var b=ASN1HEX.getStartPosOfV_AtObj(e,c);if(e.substring(b,b+2)!="00"){return -1}return b+2};X509.getSubjectPublicKeyInfoPosFromCertHex=function(c){var b=ASN1HEX.getStartPosOfV_AtObj(c,0);var d=ASN1HEX.getPosArrayOfChildren_AtObj(c,b);if(d.length<1){return -1}if(c.substring(d[0],d[0]+10)=="a003020102"){if(d.length<6){return -1}return d[6]}else{if(d.length<5){return -1}return d[5]}};X509.getPublicKeyHexArrayFromCertHex=function(e){var d=X509.getSubjectPublicKeyPosFromCertHex(e);var f=ASN1HEX.getPosArrayOfChildren_AtObj(e,d);if(f.length!=2){return[]}var c=ASN1HEX.getHexOfV_AtObj(e,f[0]);var b=ASN1HEX.getHexOfV_AtObj(e,f[1]);if(c!=null&&b!=null){return[c,b]}else{return[]}};X509.getHexTbsCertificateFromCert=function(e){var b=ASN1HEX.getStartPosOfV_AtObj(e,0);return b};X509.getPublicKeyHexArrayFromCertPEM=function(b){var c=ASN1HEX.pemToHex(b);var d=X509.getPublicKeyHexArrayFromCertHex(c);return d};X509.hex2dn=function(e,f){if(f===undefined){f=0}if(e.substr(f,2)!=="30"){throw"malformed DN"}var b=new Array();var c=ASN1HEX.getPosArrayOfChildren_AtObj(e,f);for(var d=0;d<c.length;d++){b.push(X509.hex2rdn(e,c[d]))}b=b.map(function(g){return g.replace("/","\\/")});return"/"+b.join("/")};X509.hex2rdn=function(e,f){if(f===undefined){f=0}if(e.substr(f,2)!=="31"){throw"malformed RDN"}var b=new Array();var c=ASN1HEX.getPosArrayOfChildren_AtObj(e,f);for(var d=0;d<c.length;d++){b.push(X509.hex2attrTypeValue(e,c[d]))}b=b.map(function(g){return g.replace("+","\\+")});return b.join("+")};X509.hex2attrTypeValue=function(b,e){if(e===undefined){e=0}if(b.substr(e,2)!=="30"){throw"malformed attribute type and value"}var f=ASN1HEX.getPosArrayOfChildren_AtObj(b,e);if(f.length!==2||b.substr(f[0],2)!=="06"){"malformed attribute type and value"}var g=ASN1HEX.getHexOfV_AtObj(b,f[0]);var c=Ext.asn1.ASN1Util.oidHexToInt(g);var s=Ext.asn1.x509.OID.oid2atype(c);var d=ASN1HEX.getHexOfV_AtObj(b,f[1]);var r=hextorstr(d);return s+"="+r};X509.getPublicKeyFromCertHex=function(f){var d,q,e;var c=6;var g=ASN1HEX;var b=g.getVbyList;e=g.getDecendantHexTLVByNthList(f,0,[0,0]);if(e!=="a003020102"){c=5}q=b(f,0,[0,c,0,0],"06");if(q==="2a864886f70d010101"){d=new RSAKey()}else{if(q==="2a8648ce380401"){d=new Ext.crypto.DSA()}else{if(q==="2a8648ce3d0201"){d=new Ext.crypto.ECDSA()}else{throw"unsupported public key in X.509 cert"}}}d.readCertPubKeyHex(f,c);return d};X509.getPublicKeyFromCertPEM=function(c){var b=ASN1HEX;var g=b.pemToHex(c);return X509.getPublicKeyFromCertHex(g)};X509.getPublicKeyInfoPropOfCertPEM=function(f){var v={};v.algparam=null;var g=ASN1HEX.pemToHex(f);var e=ASN1HEX.getPosArrayOfChildren_AtObj(g,0);if(e.length!=3){throw"malformed X.509 certificate PEM (code:001)"}if(g.substr(e[0],2)!="30"){throw"malformed X.509 certificate PEM (code:002)"}var d=ASN1HEX.getPosArrayOfChildren_AtObj(g,e[0]);var s=6;if(g.substr(d[0],2)!=="a0"){s=5}if(d.length<s+1){throw"malformed X.509 certificate PEM (code:003)"}var b=ASN1HEX.getPosArrayOfChildren_AtObj(g,d[s]);if(b.length!=2){throw"malformed X.509 certificate PEM (code:004)"}var u=ASN1HEX.getPosArrayOfChildren_AtObj(g,b[0]);if(u.length!=2){throw"malformed X.509 certificate PEM (code:005)"}v.algoid=ASN1HEX.getHexOfV_AtObj(g,u[0]);if(g.substr(u[1],2)=="06"){v.algparam=ASN1HEX.getHexOfV_AtObj(g,u[1])}else{if(g.substr(u[1],2)=="30"){v.algparam=ASN1HEX.getHexOfTLV_AtObj(g,u[1])}}if(g.substr(b[1],2)!="03"){throw"malformed X.509 certificate PEM (code:006)"}var c=ASN1HEX.getHexOfV_AtObj(g,b[1]);v.keyhex=c.substr(2);return v};X509.getPublicKeyInfoPosOfCertHEX=function(b){var g=ASN1HEX.getPosArrayOfChildren_AtObj(b,0);if(g.length!=3){throw"malformed X.509 certificate PEM (code:001)"}if(b.substr(g[0],2)!="30"){throw"malformed X.509 certificate PEM (code:002)"}var c=ASN1HEX.getPosArrayOfChildren_AtObj(b,g[0]);if(c.length<7){throw"malformed X.509 certificate PEM (code:003)"}return c[6]};X509.getV3ExtInfoListOfCertHex=function(b){var e=ASN1HEX.getPosArrayOfChildren_AtObj(b,0);if(e.length!=3){throw"malformed X.509 certificate PEM (code:001)"}if(b.substr(e[0],2)!="30"){throw"malformed X.509 certificate PEM (code:002)"}var d=ASN1HEX.getPosArrayOfChildren_AtObj(b,e[0]);if(d.length<8){throw"malformed X.509 certificate PEM (code:003)"}if(b.substr(d[7],2)!="a3"){throw"malformed X.509 certificate PEM (code:004)"}var c=ASN1HEX.getPosArrayOfChildren_AtObj(b,d[7]);if(c.length!=1){throw"malformed X.509 certificate PEM (code:005)"}if(b.substr(c[0],2)!="30"){throw"malformed X.509 certificate PEM (code:006)"}var s=ASN1HEX.getPosArrayOfChildren_AtObj(b,c[0]);var r=s.length;var g=new Array(r);for(var f=0;f<r;f++){g[f]=X509.getV3ExtItemInfo_AtObj(b,s[f])}return g};X509.getV3ExtItemInfo_AtObj=function(c,d){var b={};b.posTLV=d;var e=ASN1HEX.getPosArrayOfChildren_AtObj(c,d);if(e.length!=2&&e.length!=3){throw"malformed X.509v3 Ext (code:001)"}if(c.substr(e[0],2)!="06"){throw"malformed X.509v3 Ext (code:002)"}var g=ASN1HEX.getHexOfV_AtObj(c,e[0]);b.oid=ASN1HEX.hextooidstr(g);b.critical=false;if(e.length==3){b.critical=true}var f=e[e.length-1];if(c.substr(f,2)!="04"){throw"malformed X.509v3 Ext (code:003)"}b.posV=ASN1HEX.getStartPosOfV_AtObj(c,f);return b};X509.getHexOfTLV_V3ExtValue=function(g,c){var b=X509.getPosOfTLV_V3ExtValue(g,c);if(b==-1){return null}return ASN1HEX.getHexOfTLV_AtObj(g,b)};X509.getHexOfV_V3ExtValue=function(g,c){var b=X509.getPosOfTLV_V3ExtValue(g,c);if(b==-1){return null}return ASN1HEX.getHexOfV_AtObj(g,b)};X509.getPosOfTLV_V3ExtValue=function(d,f){var b=f;if(!f.match(/^[0-9.]+$/)){b=Ext.asn1.x509.OID.name2oid(f)}if(b==""){return -1}var o=X509.getV3ExtInfoListOfCertHex(d);for(var e=0;e<o.length;e++){var c=o[e];if(c.oid==b){return c.posV}}return -1};X509.getExtBasicConstraints=function(c){var d=X509.getHexOfV_V3ExtValue(c,"basicConstraints");if(d===null){return null}if(d===""){return{}}if(d==="0101ff"){return{cA:true}}if(d.substr(0,8)==="0101ff02"){var b=ASN1HEX.getHexOfV_AtObj(d,6);var k=parseInt(b,16);return{cA:true,pathLen:k}}throw"unknown error"};X509.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"];X509.getExtKeyUsageBin=function(c){var k=X509.getHexOfV_V3ExtValue(c,"keyUsage");if(k==""){return""}if(k.length%2!=0||k.length<=2){throw"malformed key usage value"}var d=parseInt(k.substr(0,2));var b=parseInt(k.substr(2),16).toString(2);return b.substr(0,b.length-d)};X509.getExtKeyUsageString=function(d){var c=X509.getExtKeyUsageBin(d);var e=new Array();for(var b=0;b<c.length;b++){if(c.substr(b,1)=="1"){e.push(X509.KEYUSAGE_NAME[b])}}return e.join(",")};X509.getExtSubjectKeyIdentifier=function(e){var b=X509.getHexOfV_V3ExtValue(e,"subjectKeyIdentifier");return b};X509.getExtAuthorityKeyIdentifier=function(e){var f={};var d=X509.getHexOfTLV_V3ExtValue(e,"authorityKeyIdentifier");if(d===null){return null}var b=ASN1HEX.getPosArrayOfChildren_AtObj(d,0);for(var c=0;c<b.length;c++){if(d.substr(b[c],2)==="80"){f.kid=ASN1HEX.getHexOfV_AtObj(d,b[c])}}return f};X509.getExtExtKeyUsageName=function(b){var c=new Array();var g=X509.getHexOfTLV_V3ExtValue(b,"extKeyUsage");if(g===null){return null}var d=ASN1HEX.getPosArrayOfChildren_AtObj(g,0);for(var f=0;f<d.length;f++){var k=ASN1HEX.getHexOfV_AtObj(g,d[f]);var j=Ext.asn1.ASN1Util.oidHexToInt(k);var e=Ext.asn1.x509.OID.oid2name(j);c.push(e)}return c};X509.getExtSubjectAltName=function(d){var e=new Array();var c=X509.getHexOfTLV_V3ExtValue(d,"subjectAltName");var f=ASN1HEX.getPosArrayOfChildren_AtObj(c,0);for(var b=0;b<f.length;b++){if(c.substr(f[b],2)==="82"){var g=hextoutf8(ASN1HEX.getHexOfV_AtObj(c,f[b]));e.push(g)}}return e};X509.getExtCRLDistributionPointsURI=function(b){var g=new Array();var n=X509.getHexOfTLV_V3ExtValue(b,"cRLDistributionPoints");var d=ASN1HEX.getPosArrayOfChildren_AtObj(n,0);for(var m=0;m<d.length;m++){var o=ASN1HEX.getHexOfTLV_AtObj(n,d[m]);var c=ASN1HEX.getPosArrayOfChildren_AtObj(o,0);for(var k=0;k<c.length;k++){if(o.substr(c[k],2)==="a0"){var l=ASN1HEX.getHexOfV_AtObj(o,c[k]);if(l.substr(0,2)==="a0"){var e=ASN1HEX.getHexOfV_AtObj(l,0);if(e.substr(0,2)==="86"){var p=ASN1HEX.getHexOfV_AtObj(e,0);var f=hextoutf8(p);g.push(f)}}}}}return g};X509.getExtAIAInfo=function(g){var u={};u.ocsp=[];u.caissuer=[];var j=X509.getPosOfTLV_V3ExtValue(g,"authorityInfoAccess");if(j==-1){return null}if(g.substr(j,2)!="30"){throw"malformed AIA Extn Value"}var d=ASN1HEX.getPosArrayOfChildren_AtObj(g,j);for(var c=0;c<d.length;c++){var v=d[c];var b=ASN1HEX.getPosArrayOfChildren_AtObj(g,v);if(b.length!=2){throw"malformed AccessDescription of AIA Extn"}var e=b[0];var f=b[1];if(ASN1HEX.getHexOfV_AtObj(g,e)=="2b06010505073001"){if(g.substr(f,2)=="86"){u.ocsp.push(hextoutf8(ASN1HEX.getHexOfV_AtObj(g,f)))}}if(ASN1HEX.getHexOfV_AtObj(g,e)=="2b06010505073002"){if(g.substr(f,2)=="86"){u.caissuer.push(hextoutf8(ASN1HEX.getHexOfV_AtObj(g,f)))}}}return u};X509.getSignatureAlgorithmName=function(c){var k=ASN1HEX.getDecendantHexVByNthList(c,0,[1,0]);var d=Ext.asn1.ASN1Util.oidHexToInt(k);var b=Ext.asn1.x509.OID.oid2name(d);return b};X509.getSignatureValueHex=function(e){var b=ASN1HEX.getDecendantHexVByNthList(e,0,[2]);if(b.substr(0,2)!=="00"){throw"can't get signature value"}return b.substr(2)};X509.getSerialNumberHex=function(c){return ASN1HEX.getDecendantHexVByNthList(c,0,[0,1])};if(typeof Ext=="undefined"||!Ext){Ext={}}if(typeof Ext.utils=="undefined"||!Ext.utils){Ext.utils={}}Ext.utils.JWS=function(){var c=Ext.utils.JWS;this.parseJWS=function(A,d){if((this.parsedJWS!==undefined)&&(d||(this.parsedJWS.sigvalH!==undefined))){return}var b=A.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(b==null){throw"JWS signature is not a form of 'Head.Payload.SigValue'."}var e=b[1];var l=b[2];var f=b[3];var j=e+"."+l;this.parsedJWS={};this.parsedJWS.headB64U=e;this.parsedJWS.payloadB64U=l;this.parsedJWS.sigvalB64U=f;this.parsedJWS.si=j;if(!d){var B=b64utohex(f);var y=parseBigInt(B,16);this.parsedJWS.sigvalH=B;this.parsedJWS.sigvalBI=y}var k=b64utoutf8(e);var g=b64utoutf8(l);this.parsedJWS.headS=k;this.parsedJWS.payloadS=g;if(!c.isSafeJSONString(k,this.parsedJWS,"headP")){throw"malformed JSON string for JWS Head: "+k}}};Ext.utils.JWS.sign=function(j,e,o,m,k){var g=Ext.utils.JWS;var c,K,f;if(typeof e!="string"&&typeof e!="object"){throw"spHeader must be JSON string or object: "+e}if(typeof e=="object"){K=e;c=JSON.stringify(K)}if(typeof e=="string"){c=e;if(!g.isSafeJSONString(c)){throw"JWS Head is not safe JSON string: "+c}K=g.readSafeJSONString(c)}f=o;if(typeof o=="object"){f=JSON.stringify(o)}if((j==""||j==null)&&K.alg!==undefined){j=K.alg}if((j!=""&&j!=null)&&K.alg===undefined){K.alg=j;c=JSON.stringify(K)}if(j!==K.alg){throw"alg and sHeader.alg doesn't match: "+j+"!="+K.alg}var q=null;if(g.jwsalg2sigalg[j]===undefined){throw"unsupported alg name: "+j}else{q=g.jwsalg2sigalg[j]}var l=utf8tob64u(c);var b=utf8tob64u(f);var p=l+"."+b;var n="";if(q.substr(0,4)=="Hmac"){if(m===undefined){throw"mac key shall be specified for HS* alg"}var d=new Ext.crypto.Mac({alg:q,prov:"cryptojs",pass:m});d.updateString(p);n=d.doFinal()}else{if(q.indexOf("withECDSA")!=-1){var M=new Ext.crypto.Signature({alg:q});M.init(m,k);M.updateString(p);hASN1Sig=M.sign();n=Ext.crypto.ECDSA.asn1SigToConcatSig(hASN1Sig)}else{if(q!="none"){var M=new Ext.crypto.Signature({alg:q});M.init(m,k);M.updateString(p);n=M.sign()}}}var L=hextob64u(n);return p+"."+L};Ext.utils.JWS.verify=function(g,q,p){var O=Ext.utils.JWS;var k=g.split(".");var d=k[0];var s=k[1];var b=d+"."+s;var m=b64utohex(k[2]);var n=O.readSafeJSONString(b64utoutf8(k[0]));var l=null;var o=null;if(n.alg===undefined){throw"algorithm not specified in header"}else{l=n.alg;o=l.substr(0,2)}if(p!=null&&Object.prototype.toString.call(p)==="[object Array]"&&p.length>0){var c=":"+p.join(":")+":";if(c.indexOf(":"+l+":")==-1){throw"algorithm '"+l+"' not accepted in the list"}}if(l!="none"&&q===null){throw"key shall be specified to verify."}if(typeof q=="string"&&q.indexOf("-----BEGIN ")!=-1){q=KEYUTIL.getKey(q)}if(o=="RS"||o=="PS"){if(!(q instanceof RSAKey)){throw"key shall be a RSAKey obj for RS* and PS* algs"}}if(o=="ES"){if(!(q instanceof Ext.crypto.ECDSA)){throw"key shall be a ECDSA obj for ES* algs"}}if(l=="none"){}var P=null;if(O.jwsalg2sigalg[n.alg]===undefined){throw"unsupported alg name: "+l}else{P=O.jwsalg2sigalg[l]}if(P=="none"){throw"not supported"}else{if(P.substr(0,4)=="Hmac"){var r=null;if(q===undefined){throw"hexadecimal key shall be specified for HMAC"}var j=new Ext.crypto.Mac({alg:P,pass:q});j.updateString(b);r=j.doFinal();return m==r}else{if(P.indexOf("withECDSA")!=-1){var f=null;try{f=Ext.crypto.ECDSA.concatSigToASN1Sig(m)}catch(Q){return false}var e=new Ext.crypto.Signature({alg:P});e.init(q);e.updateString(b);return e.verify(f)}else{var e=new Ext.crypto.Signature({alg:P});e.init(q);e.updateString(b);return e.verify(m)}}}};Ext.utils.JWS.parse=function(d){var f=d.split(".");var e={};var c,b,g;if(f.length!=2&&f.length!=3){throw"malformed sJWS: wrong number of '.' splitted elements"}c=f[0];b=f[1];if(f.length==3){g=f[2]}e.headerObj=Ext.utils.JWS.readSafeJSONString(b64utoutf8(c));e.payloadObj=Ext.utils.JWS.readSafeJSONString(b64utoutf8(b));e.headerPP=JSON.stringify(e.headerObj,null,"  ");if(e.payloadObj==null){e.payloadPP=b64utoutf8(b)}else{e.payloadPP=JSON.stringify(e.payloadObj,null,"  ")}if(g!==undefined){e.sigHex=b64utohex(g)}return e};Ext.utils.JWS.verifyJWT=function(k,c,f){var C=Ext.utils.JWS;var b=k.split(".");var j=b[0];var B=b[1];var g=j+"."+B;var d=b64utohex(b[2]);var m=C.readSafeJSONString(b64utoutf8(j));var l=C.readSafeJSONString(b64utoutf8(B));if(m.alg===undefined){return false}if(f.alg===undefined){throw"acceptField.alg shall be specified"}if(!C.inArray(m.alg,f.alg)){return false}if(l.iss!==undefined&&typeof f.iss==="object"){if(!C.inArray(l.iss,f.iss)){return false}}if(l.sub!==undefined&&typeof f.sub==="object"){if(!C.inArray(l.sub,f.sub)){return false}}if(l.aud!==undefined&&typeof f.aud==="object"){if(typeof l.aud=="string"){if(!C.inArray(l.aud,f.aud)){return false}}else{if(typeof l.aud=="object"){if(!C.includedArray(l.aud,f.aud)){return false}}}}var e=Ext.utils.IntDate.getNow();if(f.verifyAt!==undefined&&typeof f.verifyAt==="number"){e=f.verifyAt}if(f.gracePeriod===undefined||typeof f.gracePeriod!=="number"){f.gracePeriod=0}if(l.exp!==undefined&&typeof l.exp=="number"){if(l.exp+f.gracePeriod<e){return false}}if(l.nbf!==undefined&&typeof l.nbf=="number"){if(e<l.nbf-f.gracePeriod){return false}}if(l.iat!==undefined&&typeof l.iat=="number"){if(e<l.iat-f.gracePeriod){return false}}if(l.jti!==undefined&&f.jti!==undefined){if(l.jti!==f.jti){return false}}if(!Ext.utils.JWS.verify(k,c,f.alg)){return false}return true};Ext.utils.JWS.includedArray=function(k,d){var c=Ext.utils.JWS.inArray;if(k===null){return false}if(typeof k!=="object"){return false}if(typeof k.length!=="number"){return false}for(var b=0;b<k.length;b++){if(!c(k[b],d)){return false}}return true};Ext.utils.JWS.inArray=function(c,d){if(d===null){return false}if(typeof d!=="object"){return false}if(typeof d.length!=="number"){return false}for(var b=0;b<d.length;b++){if(d[b]==c){return true}}return false};Ext.utils.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"};Ext.utils.JWS.isSafeJSONString=function(b,m,c){var d=null;try{d=jsonParse(b);if(typeof d!="object"){return 0}if(d.constructor===Array){return 0}if(m){m[c]=d}return 1}catch(e){return 0}};Ext.utils.JWS.readSafeJSONString=function(g){var b=null;try{b=jsonParse(g);if(typeof b!="object"){return null}if(b.constructor===Array){return null}return b}catch(c){return null}};Ext.utils.JWS.getEncodedSignatureValueFromJWS=function(e){var b=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(b==null){throw"JWS signature is not a form of 'Head.Payload.SigValue'."}return b[1]};Ext.utils.JWS.getJWKthumbprint=function(c){if(c.kty!=="RSA"&&c.kty!=="EC"&&c.kty!=="oct"){throw"unsupported algorithm for JWK Thumprint"}var e="{";if(c.kty==="RSA"){if(typeof c.n!="string"||typeof c.e!="string"){throw"wrong n and e value for RSA key"}e+='"e":"'+c.e+'",';e+='"kty":"'+c.kty+'",';e+='"n":"'+c.n+'"}'}else{if(c.kty==="EC"){if(typeof c.crv!="string"||typeof c.x!="string"||typeof c.y!="string"){throw"wrong crv, x and y value for EC key"}e+='"crv":"'+c.crv+'",';e+='"kty":"'+c.kty+'",';e+='"x":"'+c.x+'",';e+='"y":"'+c.y+'"}'}else{if(c.kty==="oct"){if(typeof c.k!="string"){throw"wrong k value for oct(symmetric) key"}e+='"kty":"'+c.kty+'",';e+='"k":"'+c.k+'"}'}}}var m=rstrtohex(e);var b=Ext.crypto.Util.hashHex(m,"sha256");var d=hextob64u(b);return d};Ext.utils.IntDate={};Ext.utils.IntDate.get=function(c){if(c=="now"){return Ext.utils.IntDate.getNow()}else{if(c=="now + 1hour"){return Ext.utils.IntDate.getNow()+60*60}else{if(c=="now + 1day"){return Ext.utils.IntDate.getNow()+60*60*24}else{if(c=="now + 1month"){return Ext.utils.IntDate.getNow()+60*60*24*30}else{if(c=="now + 1year"){return Ext.utils.IntDate.getNow()+60*60*24*365}else{if(c.match(/Z$/)){return Ext.utils.IntDate.getZulu(c)}else{if(c.match(/^[0-9]+$/)){return parseInt(c)}}}}}}}throw"unsupported format: "+c};Ext.utils.IntDate.getZulu=function(v){var x=v.match(/(\d+)(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)Z/);if(x){var w=x[1];var j=parseInt(w);if(w.length==4){}else{if(w.length==2){if(50<=j&&j<100){j=1900+j}else{if(0<=j&&j<50){j=2000+j}else{throw"malformed year string for UTCTime"}}}else{throw"malformed year string"}}var f=parseInt(x[2])-1;var k=parseInt(x[3]);var b=parseInt(x[4]);var c=parseInt(x[5]);var e=parseInt(x[6]);var g=new Date(Date.UTC(j,f,k,b,c,e));return ~~(g/1000)}throw"unsupported format: "+v};Ext.utils.IntDate.getNow=function(){var c=~~(new Date()/1000);return c};Ext.utils.IntDate.intDate2UTCString=function(b){var e=new Date(b*1000);return e.toUTCString()};Ext.utils.IntDate.intDate2Zulu=function(r){var e=new Date(r*1000);var c=("0000"+e.getUTCFullYear()).slice(-4);var b=("00"+(e.getUTCMonth()+1)).slice(-2);var q=("00"+e.getUTCDate()).slice(-2);var f=("00"+e.getUTCHours()).slice(-2);var g=("00"+e.getUTCMinutes()).slice(-2);var s=("00"+e.getUTCSeconds()).slice(-2);return c+b+q+f+g+s+"Z"};if(typeof Ext=="undefined"||!Ext){Ext={}}if(typeof Ext.utils=="undefined"||!Ext.utils){Ext.utils={}}Ext.utils.JWSJS=function(){var e=Ext.utils.JWS;var b=Ext.utils.JWS;this.aHeader=[];this.sPayload="";this.aSignature=[];this.init=function(){this.aHeader=[];this.sPayload=undefined;this.aSignature=[]};this.initWithJWS=function(c){this.init();var d=c.split(".");if(d.length!=3){throw"malformed input JWS"}this.aHeader.push(d[0]);this.sPayload=d[1];this.aSignature.push(d[2])};this.addSignature=function(w,c,k,g){if(this.sPayload===undefined||this.sPayload===null){throw"there's no JSON-JS signature to add."}var j=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length){throw"aHeader.length != aSignature.length"}try{var x=Ext.utils.JWS.sign(w,c,this.sPayload,k,g);var f=x.split(".");var l=f[0];var y=f[2];this.aHeader.push(f[0]);this.aSignature.push(f[2])}catch(d){if(this.aHeader.length>j){this.aHeader.pop()}if(this.aSignature.length>j){this.aSignature.pop()}throw"addSignature failed: "+d}};this.addSignatureByHeaderKey=function(n,d){var g=b64utoutf8(this.sPayload);var f=new Ext.utils.JWS();var c=f.generateJWSByP1PrvKey(n,g,d);this.aHeader.push(f.parsedJWS.headB64U);this.aSignature.push(f.parsedJWS.sigvalB64U)};this.addSignatureByHeaderPayloadKey=function(n,g,d){var f=new Ext.utils.JWS();var c=f.generateJWSByP1PrvKey(n,g,d);this.aHeader.push(f.parsedJWS.headB64U);this.sPayload=f.parsedJWS.payloadB64U;this.aSignature.push(f.parsedJWS.sigvalB64U)};this.verifyAll=function(c){if(this.aHeader.length!==c.length||this.aSignature.length!==c.length){return false}for(var l=0;l<c.length;l++){var f=c[l];if(f.length!==2){return false}var d=this.verifyNth(l,f[0],f[1]);if(d===false){return false}}return true};this.verifyNth=function(r,f,s){if(this.aHeader.length<=r||this.aSignature.length<=r){return false}var u=this.aHeader[r];var g=this.aSignature[r];var d=u+"."+this.sPayload+"."+g;var j=false;try{j=b.verify(d,f,s)}catch(c){return false}return j};this.verifyWithCerts=function(l){if(this.aHeader.length!=l.length){throw"num headers does not match with num certs"}if(this.aSignature.length!=l.length){throw"num signatures does not match with num certs"}var f=this.sPayload;var B="";for(var m=0;m<l.length;m++){var n=l[m];var A=this.aHeader[m];var k=this.aSignature[m];var j=A+"."+f+"."+k;var d=new Ext.utils.JWS();try{var g=d.verifyJWSByPemX509Cert(j,n);if(g!=1){B+=(m+1)+"th signature unmatch. "}}catch(c){B+=(m+1)+"th signature fail("+c+"). "}}if(B==""){return 1}else{throw B}};this.readJWSJS=function(c){if(typeof c==="string"){var j=e.readSafeJSONString(c);if(j==null){throw"argument is not safe JSON object string"}this.aHeader=j.headers;this.sPayload=j.payload;this.aSignature=j.signatures}else{try{if(c.headers.length>0){this.aHeader=c.headers}else{throw"malformed header"}if(typeof c.payload==="string"){this.sPayload=c.payload}else{throw"malformed signatures"}if(c.signatures.length>0){this.signatures=c.signatures}else{throw"malformed signatures"}}catch(d){throw"malformed JWS-JS JSON object: "+d}}};this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}};this.isEmpty=function(){if(this.aHeader.length==0){return 1}return 0}};